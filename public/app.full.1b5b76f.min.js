function stripHtmlToText(a){var b=document.createElement("DIV");b.innerHTML=a;var c=b.textContent||b.innerText||"";return c.replace("​",""),c=c.trim()}function getDomFromHtml(a){var b=document.createElement("DIV");return b.innerHTML=a,b}function validElementString(a){try{return 0!==angular.element(a).length}catch(b){return!1}}function registerTextAngularTool(a,b){if(!a||""===a||taTools.hasOwnProperty(a))throw"textAngular Error: A unique name is required for a Tool Definition";if(b.display&&(""===b.display||!validElementString(b.display))||!b.display&&!b.buttontext&&!b.iconclass)throw'textAngular Error: Tool Definition for "'+a+'" does not have a valid display/iconclass/buttontext value';taTools[a]=b}function MerchantListCtrl(a,b,c,d,e,f,g,h,i){function j(){f.getUserSessionInfo().then(function(){"operator"===f.visibility&&d.path("operator/home")}),e.get("load").then(function(a){s.recently_visited_merchants=a.data.recently_visited})}function k(a){if(s.search_submit=!0,s.result_merchants={},t="",s.search_form&&s.search_form.$valid||a){s.initial_search=!0,t="";var b={search_text:s.search_text,active_only:s.active_only};s.searchParams=c.mergeObject(s.searchParams,b)}}function l(a){s.search_text=a,t!==a&&(t=a,s.result_merchants={},s.processing=!0,s.initial_search=!0,s.searchParams={search_text:a,active_only:s.active_only},b.get("/merchant/first_letter_filter?search_text="+a+"&active_only="+s.active_only).success(function(a){s.result_merchants=a,s.processing=!1}))}function m(a){e.setCurrentMerchant(a.merchant_id).then(function(a){h.currentMerchantSelected=a,f.operator_merchant=a,d.path("/merchant/general_info")})}function n(a){return c.formatPhone(a)}function o(a){return a===t?"alphabet-active":"alphabet"}function p(){d.path("/merchant/create")}function q(){return s.result_merchants.data&&s.result_merchants.data.length>0||s.processing?"hide-recently-visited-panel":""}function r(){return"operator"===f.visibility}var s=this;s.search_text="",s.search_processing=!1,s.search_submit=!1,s.initial_search=!1,s.Merchant=e,s.result_merchants={},s.processing=!1,s.recently_visited_merchants=[],s.order_search_text="",s.fieldNames={merchant_id:{columnName:"Merchant ID","class":"fix-table-wrap"},name:{columnName:"Business Name","class":"fix-table-wrap"},display_name:{columnName:"Display Name"},address1:{columnName:"Address"},phone_no:{columnName:"Phone Number","class":"fix-table-wrap"}},s.active_only=!1,s.searchParams={};var t;s.merchantSearch=k,s.merchantLetter=l,s.viewMerchant=m,s.formatPhone=n,s.currentLetter=o,s.createMerchant=p,s.hasSearchResult=q,s.isUserOperator=r,j(),a.usersService=f,a.$watch("usersService.visibility",function(a,b,c){s.isUserOperator()&&(s.search_text="",s.merchantSearch(!0)),k(!0)})}function MerchantCreateCtrl(a,b,c,d,e,f,g,h){function i(){f.getUserSessionInfo().then(function(c){var d=c;return f.hasPermission("brands_filter")?(a.get("/brands").success(function(a){b.brands=a,b.loading=!1}),void(b.can_select_brands=!0)):(b.new_merchant.brand=d.user_related_data.brand_id,void(b.loading=!1))})["catch"](function(){console.log("unable to get the current user")});var d=["state","country","time_zone"];c.multipleLookup(d).then(function(a){b.lookup.states=a.data.state,b.lookup.countries=a.data.country,b.lookup.time_zones=a.data.time_zone})}b.new_merchant={},b.lookup={},b.brands=[],b.merchant_exist_error=!1,b.can_select_brands=!1,b.loading=!0,b.multi_merchant_create={},b.user_service=f,b.file_selected=!1,b.blockingObject={block:!0},b.submit_multi=!1,b.multi_file_selected=!1,b.multi_processing=!1,b.init=i,b.create=function(){b.new_merchant.submit=!0,b.new_merchant_form.$valid&&(b.new_merchant.processing=!0,a.post("/create_merchant",b.new_merchant).success(function(a){b.new_merchant.processing=!1,"1"===a?d.path("/merchant/general_info"):b.merchant_exist_error=!0}))},b.uploadMultipleMerchants=function(){if(b.submit_multi=!0,b.upload_multiple_merchants_form.$valid&&b.multi_file_selected&&!b.multi_processing){b.multi_processing=!0;var a=g.upload({url:"/merchant/multi_create",data:{key:b.csv_file[0],brand:b.multi_merchant_create.brand}}),c={};c.brand=b.multi_merchant_create.brand,a.then(function(a){var c=a.data.merchant_count;if(b.multi_processing=!1,a.data.valid)h.swal({title:"You have successfully created "+c+" new Merchants!",text:"",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"},function(){});else{for(var d="<ul>",e=0;e<a.data.errors.length;e++)d=d+"<li>"+a.data.errors[e]+"</li>";d+="</li>",h.swal({title:"The load failed due to these csv data issues:",html:d,type:"error",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}})}},b.$watch("csv_file",function(){b.csv_file&&(b.file_selected=!0,$("#select-file-modal").modal("toggle"),b.multi_file_selected=!0)});var j=function(a){console.log("handle file select"),$("#select-file-modal").modal("toggle");var c=a,d=new FileReader;d.onload=function(a){b.$apply(function(b){b.csv_file=a.target.result})},d.readAsDataURL(c)};angular.element(document.querySelector("#fileInput")).on("change",j),b.init()}function MerchantContactCtrl(a,b,c,d,e){function f(){a.index("contact").then(function(a){t.admin_emails=a.data.admin_emails,t.admin_phones=a.data.admin_phones})}function g(){t.new_admin_email.success=!1,t.new_admin_email.submit=!1,t.edit_admin_email.success=!1,t.edit_admin_email.submit=!1,t.new_admin_phone.submit=!1,t.new_admin_phone.success=!1,t.edit_admin_phone.success=!1,t.new_admin_email_error=!1}function h(){t.new_admin_email.submit=!0,t.new_admin_email_form.$valid&&a.create("contact_admin_email",t.new_admin_email).then(function(c){t.admin_emails.push(c.data),b(g,3500),t.new_admin_email_form.email.$faded=!1,t.new_admin_email_form.name.$faded=!1,t.new_admin_email={},t.new_admin_email.weekly=!1,t.new_admin_email.admin=!1,t.new_admin_email.daily=!1,t.new_admin_email.success=!0,$("#add-admin-email-modal").modal("toggle"),a.markProgressMilestoneComplete("admin_email")})["catch"](function(){t.new_admin_email_error=!0,b(g,3500)})}function i(a,b,c){c.stopPropagation(),u=a,v=b,t.delete_admin_email_name=a.name,$("#delete-adm-email-modal").modal("show")}function j(){a["delete"]("delete_admin_email",u.id).then(function(a){t.admin_emails.splice(v,1),$("#delete-adm-email-modal").modal("toggle")})}function k(a,b){t.edit_admin_email=Object.assign({},a),y=b}function l(){a.update("admin_email",t.edit_admin_email).then(function(a){t.admin_emails[y]=t.edit_admin_email,$("#edit-admin-email-modal").modal("toggle"),t.edit_admin_email.success=!0,b(g,3500)})["catch"](function(){t.new_admin_email_error=!0,b(g,3500)})}function m(){t.new_admin_phone.submit=!0,t.new_admin_phone_form.$valid&&a.create("admin_phone",t.new_admin_phone).then(function(a){t.admin_phones.push(a.data),t.new_admin_phone_form.name.$faded=!1,t.new_admin_phone_form.phone_no.$faded=!1,t.new_admin_phone={},t.new_admin_phone.success=!0,$("#add-admin-phone-modal").modal("toggle"),b(g,3500)})}function n(a,b,c){c.stopPropagation(),w=a,x=b,t.delete_admin_phone_name=a.name,$("#delete-admin-phone-modal").modal("show")}function o(){$("#delete-admin-phone-modal").modal("hide"),a["delete"]("delete_admin_phone",w.id).then(function(a){t.admin_phones.splice(x,1)})}function p(a,b){t.edit_admin_phone=Object.assign({},a),z=b}function q(){a.update("admin_phone",t.edit_admin_phone).then(function(a){t.admin_phones[z]=t.edit_admin_phone,$("#edit-admin-phone-modal").modal("toggle"),t.edit_admin_phone.success=!0,b(g,3500)})}function r(a){return c.shortenText(a)}function s(a){return c.formatPhone(a)}var t=this;t.admin_emails=[],t.admin_phones=[],t.new_admin_email={},t.new_admin_email.weekly=!1,t.new_admin_email.admin=!1,t.new_admin_email.daily=!1,t.new_admin_phone={},t.shortenText=r,t.createNewAdminEmail=h,t.deleteAdmEmailDialog=i,t.confirmDeleteEmail=j,t.editEditAdminEmailDialog=k,t.updateAdminEmail=l,t.createNewAdminPhone=m,t.deleteAdminPhoneDialog=n,t.confirmDeleteAdminPhone=o,t.editAdminPhoneDialog=p,t.updateAdminPhone=q,t.formatPhone=s;var u,v;t.delete_admin_email_name=null;var w,x;t.delete_admin_phone_name=null,t.edit_admin_email={};var y;t.edit_admin_phone={};var z;f(),t.new_admin_email_error=!1,e.$on("current_merchant:updated",function(a,b){f()})}function MerchantHoursCtrl(a,b,c,d,e,f){function g(){a.index("hours").then(function(a){C.full_holiday_hours=a.data.full_holiday_hours,C.custom_holiday_hours=a.data.holiday_hours,C.custom_holiday_hours.forEach(function(a){a.day_open="Y"===a.day_open,a.open_hours=moment(a.open,"HH:mm:ss").toDate(),a.close_hours=moment(a.close,"HH:mm:ss").toDate()}),C.holiday=a.data.holiday,C.holiday.newyearsday=n(C.holiday.newyearsday),C.holiday.easter=n(C.holiday.easter),C.holiday.fourthofjuly=n(C.holiday.fourthofjuly),C.holiday.thanksgiving=n(C.holiday.thanksgiving),C.holiday.christmas=n(C.holiday.christmas),C.hours=a.data.hours,C.hours.forEach(function(a){a.day_open="Y"===a.day_open}),C.delivery_hours=a.data.delivery_hours,C.delivery_hours.forEach(function(a){a.day_open="Y"===a.day_open}),C.mid_day_hours=a.data.mid_day_hours,C.mid_day_hours.forEach(function(a){a.start_time=moment(a.start_time,"HH:mm:ss").toDate(),a.end_time=moment(a.end_time,"HH:mm:ss").toDate()})})}function h(a){C.new_hours_date=a?new Date(a):null}function i(){C.hours.success=!1,C.delivery_hours.success=!1,C.holiday.success=!1,C.edit_holiday_hour.success=!1}function j(){C.holiday.processing=!0;var c={};a.update("update_standard_holiday",c).then(function(c){C.holiday.processing=!1,C.holiday.success=!0,b(i,3500),a.markProgressMilestoneComplete("holiday_hour")})}function k(){C.hours.submmit=!0,C.hours.processing=!0,a.update("hours",{hours:C.hours}).then(function(c){C.hours.processing=!1,C.hours.success=!0,b(i,3500),a.markProgressMilestoneComplete("hours")})}function l(){C.delivery_hours.submmit=!0,C.delivery_hours.processing=!0,a.update("delivery_hours",{delivery_hours:C.delivery_hours}).then(function(a){C.delivery_hours.processing=!1,C.delivery_hours.success=!0,b(i,3500)})}function m(){var b={};b.id="new","Other Date"===C.edit_holiday_hours?b.day=C.edit_holiday_hours.other_day:b.day=C.edit_holiday_hours.day,b.other_day=e("date")(C.new_hours_date,"yyyy/MM/dd"),b.open=e("date")(C.new_hours_open,"HH:mm:ss"),b.close=e("date")(C.new_hours_close,"HH:mm:ss"),b.closed_all_day=C.edit_holiday_hours.closed_all_day,a.create("holiday_hours",b).then(function(a){a.data.open_hours=moment(a.data.open,"HH:mm:ss").toDate(),a.data.close_hours=moment(a.data.close,"HH:mm:ss").toDate(),a.data.day_open="Y"===a.data.day_open,C.custom_holiday_hours.push(a.data),$("#add-custom-holiday-hours-modal").modal("toggle")})}function n(a){return"o"===a?!0:!1}function o(c,d,e){e.stopPropagation(),a.deleteMidHayHour(c.id).success(function(a){C.mid_day_hours.splice(d,1)})["catch"](function(a,c){console.log(a),C.error=!0,b(function(){C.error=!1},2e3)})}function p(a){return c.week_days[a]}function q(a,b){D=a,C.delete_holiday_hours_desc=a.day+" from "+a.open+" to "+a.close,E=b}function r(){a["delete"]("holiday_hours",D.holiday_id).then(function(a){C.holiday_hours.splice(E,1),$("#delete-holiday-hour-modal").modal("toggle")})}function s(a,b){C.edit_holiday_hour=a,C.edit_holiday_hour.closed_all_day=!a.day_open,a.day_name||(C.edit_holiday_hour.day_name=a.display_date),C.edit_holiday_hour.index=b}function t(a,b){C.edit_custom_holiday_hour=a,C.edit_custom_holiday_hour.index=b}function u(){C.edit_holiday_hour.submit=!0,C.edit_holiday_hour.open=e("date")(C.edit_holiday_hour.open_hours,"HH:mm:ss"),C.edit_holiday_hour.close=e("date")(C.edit_holiday_hour.close_hours,"HH:mm:ss"),C.edit_holiday_hour.open_am_pm=e("date")(C.edit_holiday_hour.open_hours,"a"),C.edit_holiday_hour.close_am_pm=e("date")(C.edit_holiday_hour.close_hours,"a"),C.standard_holiday_form.$valid&&(C.edit_holiday_hour.processing=!0,a.post("standard_holiday_hours",C.edit_holiday_hour).then(function(a){g(),$("#edit-full-holiday-hour-modal").modal("toggle"),C.edit_holiday_hour.processing=!1,C.edit_holiday_hour.success=!0,b(i,3500)}))}function v(a){return a?"fifty-opacity":""}function w(a,b,c){d.swal({title:"Warning.",text:"Are you sure you want to remove the custom holiday hours for "+a.display_date+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Remove"},function(c){c&&x(a,b)}),c.stopPropagation()}function x(b,c){a["delete"]("delete_custom_holiday",b.holiday_id).then(function(a){C.custom_holiday_hours.splice(c,1)})}function y(){C.new_hours_date=moment().toDate(),C.new_hours_open=moment("00:01","HH:mm").toDate(),C.new_hours_close=moment("23:59","HH:mm").toDate()}function z(){C.new_mid_day_hour={},C.mid_day_form.$setPristine(),C.mid_day_form.$setUntouched(),C.isMidDayUpdate=!1,$("#add-mid-day-hour-modal").modal("show")}function A(){if(C.mid_day_form.$valid){C.error=void 0,$("#add-mid-day-hour-modal").modal("hide");var c=JSON.parse(JSON.stringify(C.new_mid_day_hour));c.start_time=e("date")(c.start_time,"HH:mm:ss"),c.end_time=e("date")(c.end_time,"HH:mm:ss"),a.addMidDayHour(c).success(function(a){a.start_time=moment(a.start_time,"HH:mm:ss").toDate(),a.end_time=moment(a.end_time,"HH:mm:ss").toDate(),C.isMidDayUpdate===!1?C.mid_day_hours.push(a):C.mid_day_hours.forEach(function(b,c){b.id===a.id&&(C.mid_day_hours[c]=a)}),C.success_mid_hour=!0,b(function(){C.success_mid_hour=!1},2e3)})["catch"](function(a,c){console.log(a),C.error=!0,b(function(){C.error=!1},2e3)})}C.mid_day_form.$setSubmitted()}function B(a,b,c){C.new_mid_day_hour=Object.assign({},a),C.mid_day_form.$setPristine(),C.mid_day_form.$setUntouched(),C.isMidDayUpdate=!0,$("#add-mid-day-hour-modal").modal("show")}var C=this;C.hours=[],C.delivery_hours=[],C.holiday={},C.holiday_hours=[],C.mid_day_hours=[],C.isMidDayUpdate=!1,C.submit=!1,C.edit_holiday_hour={},C.edit_custom_holiday_hour={},C.new_mid_day_hour={},C.error=void 0,C.days_of_week=[{id:"2",name:"Monday"},{id:"3",name:"Tuesday"},{id:"4",name:"Wednesday"},{id:"5",name:"Thursday"},{id:"6",name:"Friday"},{id:"7",name:"Saturday"},{id:"1",name:"Sunday"}],C.updateHours=k,C.updateDeliveryHours=l,C.updateHoliday=j,C.addCustomHolidayHours=m,C.decodeWeekday=p,C.deleteHolidayHourDialog=q,C.confirmDeleteHolidayHour=r,C.editFullHolidayDialog=s,C.editCustomHolidayDialog=t,C.updateStandardHolidayHours=u,C.deleteCustomHolidayConfirm=w,C.clickAddNewHoliday=y,C.fiftyOpacity=v,C.deleteMidDayHourConfirm=o,C.openAddMidDayHourModal=z,C.addNewMidDayHour=A,C.openMidDayUpdateModal=B,C.onDateChanged=h,C.delete_holiday_hours_desc=null;var D,E;C.default_holidays=[{name:"New Years",db_field:"newyearsday"},{name:"Easter",db_field:"easter"},{name:"July 4th",db_field:"fourthofjuly"},{name:"Thanksgiving",db_field:"thanksgiving"},{name:"Christmas",db_field:"christmas"}],C.edit_holiday_hours={},g(),f.$on("current_merchant:updated",function(a,b){g()})}function MerchantTaxCtrl(a,b,c){function d(){a.index("tax").then(function(a){a.data.fixed_tax.amount=parseFloat(a.data.fixed_tax.amount),a.data.sales_tax.rate=parseFloat(a.data.sales_tax.rate),a.data.delivery_tax.rate=parseFloat(a.data.delivery_tax.rate),i.sales_tax=a.data.sales_tax,i.fixed_tax=a.data.fixed_tax,i.delivery_tax=a.data.delivery_tax,i.delivery_tax.locale_description=i.delivery_tax.locale_description?i.delivery_tax.locale_description.trim():i.delivery_tax.locale_description})}function e(){i.sales_tax.success=!1,i.fixed_tax.success=!1,i.delivery_tax.success=!1}function f(){i.fixed_tax_submit=!0,i.fixed_tax_form.$valid&&(i.fixed_tax.processing=!0,a.update("fixed_tax",i.fixed_tax).then(function(a){i.fixed_tax.processing=!1,i.fixed_tax.success=!0,b(e,3500)}))}function g(){i.sales_tax.submit=!0,i.sales_tax_form.$valid&&(i.sales_tax.processing=!0,a.update("sales_tax",i.sales_tax).then(function(c){i.sales_tax.processing=!1,i.sales_tax.success=!0,b(e,3500),a.markProgressMilestoneComplete("sales_tax")}))}function h(){i.delivery_tax.submit=!0,i.delivery_tax_form.$valid&&(i.delivery_tax.processing=!0,i.delivery_tax.locale_description&&""!==i.delivery_tax.locale_description||(i.delivery_tax.locale_description=" "),a.update("delivery_tax",i.delivery_tax).then(function(a){i.delivery_tax.processing=!1,i.delivery_tax.success=!0,b(e,3500)}))}var i=this;i.sales_tax={},i.fixed_tax={},i.delivery_tax={},i.updateFixTax=f,i.updateSalesTax=g,i.updateDeliveryTax=h,d(),c.$on("current_merchant:updated",function(a,b){d()})}function MerchantDeliveryCtrl(a,b,c,d,e,f,g,h,i){function j(){a.index("delivery").then(function(a){B.delivery_info=a.data.delivery_info,B.delivery_info.minimum_order=parseFloat(a.data.delivery_info.minimum_order),B.delivery_info.allow_asap_on_delivery=d.yesNoTrueFalseConversion(a.data.delivery_info.allow_asap_on_delivery),B.delivery_zones=a.data.delivery_zones,B.lat_long_location=a.data.lat_long_location,B.delivery_price_types=a.data.lookup_values.delivery_price_type,B.saved_delivery_zone=B.delivery_info.delivery_price_type,B.processing=!1})}function k(){B.delivery_info.submit=!0,B.delivery_form.$valid&&(B.delivery_info.processing=!0,a.update("delivery_info",B.delivery_info).then(function(a){B.delivery_info.processing=!1,B.delivery_info.success=!0,b(F,3500)}))}function l(){"polygon"===B.saved_delivery_zone&&(B.new_delivery_zone.polygon_coordinates=e.polygon_coordinates),B.create_delivery_zone_form.$valid&&a.create("delivery_zone",B.new_delivery_zone).then(function(a){B.delivery_zones.push(a.data),F(),$("#create-delivery-zone-modal").modal("toggle")})}function m(a){return c.shortenText(a,20)}function n(a,b,c){c.stopPropagation(),C=a,B.delete_delivery_zone_name=a.name,D=b,$("#delete-delivery-zone-modal").modal("show")}function o(){a["delete"]("delivery_zone",C.map_id).then(function(a){B.delivery_zones.splice(D,1),$("#delete-delivery-zone-modal").modal("toggle")})}function p(a,b){if(B.edit_delivery_zone=a,E=b,B.edit_delivery_zone.price=parseFloat(B.edit_delivery_zone.price),B.edit_delivery_zone.minimum_order_amount=parseFloat(B.edit_delivery_zone.minimum_order_amount),"polygon"===B.saved_delivery_zone){e.map_id="edit-polygon-map",a.polygon_paths=c.convertArrayObjectsStringPropertyToFloat(a.polygon_paths,["lat","lng"]);var d=c.convertArrayObjectsPropertyToArray(a.polygon_paths,"lat"),f=c.convertArrayObjectsPropertyToArray(a.polygon_paths,"lng"),g=Math.min.apply(null,d)+(Math.max.apply(null,d)-Math.min.apply(null,d))/2+.0155,h=Math.min.apply(null,f)+(Math.max.apply(null,f)-Math.min.apply(null,f))/2-.037;e.start_coordinates={lat:g,lng:h},e.initilized?(e.loadSavedPolygon(a.polygon_paths),q(a.polygon_paths)):e.initialize().then(function(){e.loadSavedPolygon(a.polygon_paths),q(a.polygon_paths)})}}function q(a){setTimeout(function(){e.resize(),e.loadSavedPolygon(a),e.map.fitBounds(r(a),1)},400)}function r(a){for(var b=new google.maps.LatLngBounds,c=0;c<a.length;c++)b.extend(a[c]);return b}function s(){e.polygon_coordinates.length>0&&(B.edit_delivery_zone.polygon_coordinates=e.polygon_coordinates),a.update("delivery_zone",B.edit_delivery_zone).then(function(a){B.delivery_zones[E]=a.data,$("#edit-delivery-zone-modal").modal("toggle"),B.delivery_zone_update_success=!0,b(F,3500)})}function t(a){console.log("dz",B.delivery_info.delivery_price_type),"doordash"!=B.delivery_info.delivery_price_type?(G=a,$("#change-zone-defined-by-modal").modal("toggle")):i.swal({title:"Adding DoorDash",text:"Are you sure you want to add DoorDash as a single delivery type? If so, please ensure you have an active, individual arrangement with their delivery service. If you want to utilize DoorDash in addition to your existing delivery service, please contact us to set this up.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Confirm"},function(a){a&&h.post("merchant/delivery/add_door_dash").then(function(a){B.delivery_zones.push(a.data)})})}function u(){B.delivery_info.delivery_price_type=G}function v(){B.processing=!0,a.update("delivery_zone_defined_by",{delivery_zone_defined_by:B.delivery_info.delivery_price_type}).success(function(a){B.delivery_info.delivery_zone_defined_by_success=!0,B.saved_delivery_zone=B.delivery_info.delivery_price_type,b(F,3500),$("#change-zone-defined-by-modal").modal("toggle"),j()})["catch"](function(a){B.delivery_info.delivery_price_type=G,B.processing=!1})}function w(a){return a===B.delivery_info.delivery_price_type?"btn-primary":"btn-default"}function x(){"polygon"===B.saved_delivery_zone&&(e.polygon_set&&e.clearPolygon(),e.start_coordinates={lat:parseFloat(B.lat_long_location.lat),lng:parseFloat(B.lat_long_location.lng)},e.map_id="create-polygon-map",e.initilized?e.createMap():e.initialize().then(function(){return e.createMap()}),setTimeout(function(){e.resize()},400))}function y(){e.polygon_set&&e.clearPolygon()}function z(){return"polygon"===B.saved_delivery_zone?"modal-dialog modal-lg":"modal-dialog"}function A(){if("polygon"!==B.saved_delivery_zone){var a,b;for(a=0,b=B.lookup.delivery_area_defined_bys.length;b>a;a++)if(B.saved_delivery_zone===B.lookup.delivery_area_defined_bys[a].id)return B.lookup.delivery_area_defined_bys[a].name}}var B=this;B.processing=!0,B.delivery_info={},B.delivery_price_types=[],B.delivery_types=["Regular","Catering"],B.delivery_zones=[],B.new_delivery_zone={},B.lat_longlocation={},B.editDeliveryInfo=k,B.createDeliveryZone=l,B.shorten=m,B.deleteDeliveryZoneDialog=n,B.confirmDeleteDeliveryZone=o,B.editDeliveryZoneDialog=p,B.editDeliveryZone=s,B.openCreateDeliveryZone=x,B.buttonActive=w,B.updateDeliveryZoneDefinedByDialog=t,B.closeDeliveryZoneDefinedByDialog=u,B.updateDeliveryZoneDefinedBy=v,B.getDeliveryZoneModal=z,B.clearPolygon=y,B.previousZonedDefinedBy=A;var C;B.delete_delivery_zone_name=null;var D;B.edit_delivery_zone={};var E;B.delivery_zone_update_success=!1,B.lookup=[],B.lookup.delivery_area_defined_bys=[{id:"driving",name:"Driving Distance"},{id:"polygon",name:"Delivery Map"},{id:"zip",name:"Zip Codes"},{id:"doordash",name:"Door Dash"}],j();var F=function(){B.delivery_info.success=!1,B.delivery_info.delivery_zone_defined_by_success=!1,B.new_delivery_zone={},B.create_delivery_zone_form.name.$faded=!1,B.create_delivery_zone_form.driving_distance.$faded=!1,B.create_delivery_zone_form.zip_codes.$faded=!1,B.create_delivery_zone_form.price.$faded=!1,B.create_delivery_zone_form.min_order_amount.$faded=!1},G=""}function MerchantOrderSendCtrl(a,b,c,d){var e=this;e.send_orders=[],e.new_send_order={},e.submit=!1;e.delete_send_order_name=null;e.edit_send_order={};e.send_order_update_success=!1,e.message_types=[];e.lookup={}}function MerchantSearchCtrl(a,b,c,d,e,f,g){b.search_results=c,b.formatPhone=function(a){return e.formatPhone(a)},b.viewMerchant=function(a){f.setCurrentMerchant(a.merchant_id).then(function(a){d.path("/merchant/general_info")})}}function MerchantNavBarCtrl(a,b,c,d,e){a.merchant=null,a.percent_complete=null,a.users=e,e.getUserSessionInfo().then(function(){e.hasPermission("op_merch_select")&&a.selectOperatorMerchant()}),a.$on("current_merchant:updated",function(b,c){a.merchant=c}),a.$on("percent_complete:updated",function(b,c){a.percent_complete=c}),d.getCurrentMerchant(),d.getProgressComplete(),a.showMerchant=function(){return b.path().includes("merchant")&&!!a.merchant},a.selectOperatorMerchant=function(){$("#merchant-operator-select-modal").modal("toggle")}}function MenuListCtrl(a,b,c,d,e,f,g,h,i){function j(){D.search.processing=!0,h.getUserSessionInfo().then(function(a){return h.hasPermission("brands_filter")?void(D.can_select_brands=!0):void(D.defaultBrand_id=a.user_related_data.brand_id)})["catch"](function(){console.log("unable to get the current user")}),c.get("load").then(function(a){D.brands=a.data.brands,D.recently_visited=a.data.recently_visited,D.brandsProcessing=!1,D.search.results=a.data.load_menus,D.search.initial_search=!0,D.search.processing=!1}),$("#create-menu-modal").on("hidden.bs.modal",D.resetForm)}function k(a){D.defaultBrand_id&&(D.newMenu.brand_id=D.defaultBrand_id),D.merchant_processing=!0,f.getBrandMerchants(a).then(function(a){D.brandMerchants=a.data,D.newMenu.merchants=[],D.merchant_processing=!1})}function l(a){D.newMenu.merchants.push(a),D.brandMerchants=D.brandMerchants.filter(function(b){return b.merchant_id!=a.merchant_id}),p()}function m(a){D.brandMerchants.push(a),D.newMenu.merchants=D.newMenu.merchants.filter(function(b){return b.merchant_id!=a.merchant_id}),p()}function n(){D.newMenu.merchants=D.newMenu.merchants.concat(D.brandMerchants),D.brandMerchants=[],p()}function o(){D.brandMerchants=D.brandMerchants.concat(D.newMenu.merchants),D.newMenu.merchants=[],p()}function p(){q(D.brandMerchants),q(D.newMenu.merchants)}function q(a){a&&a.length>1&&a.sort(r)}function r(a,b){var c=a.display_name.toLowerCase(),d=b.display_name.toLowerCase();return c==d?0:c>d?1:-1}function s(){D.newMenu.submit=!0,D.form.$valid&&(D.processing=!0,D.defaultBrand_id&&(D.newMenu.brand_id=D.defaultBrand_id),c.post("create",D.newMenu).then(function(a){D.processing=!1,$("#create-menu-modal").modal("toggle"),e.swal({title:"Success.",text:"The new "+D.newMenu.name+" menu has been initiated, You will now be taken to our full menu creation tool.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great, let's go!"},function(){b.path("/menu/items")})},function(a){D.processing=!1,D.newMenu.error=a.statusText}))}function t(a){if(D.merchantFilter.length<2)return!0;var b=new RegExp(D.merchantFilter.toUpperCase(),"g");return a.display_name.toUpperCase().match(b)||a.city.toUpperCase().match(b)||a.zip.toUpperCase().match(b)||a.merchant_id.toString().toUpperCase().match(b)}function u(){D.processing||a.$apply(function(){D.newMenu={merchants:[],submit:!1},D.form.name.$faded=!1,D.form.$setPristine(),D.form.$setUntouched(),D.form.$rollbackViewValue()})}function v(){D.search.submit=!0,D.search.results=[],D.search_form.$valid&&(D.search.initial_search=!0,D.search.processing=!0,d.post("/menu_search",{search_text:D.search.text,order_by:D.order_by}).success(function(a){c.search_results=a,D.search.results=c.getSearchResults(),D.search.processing=!1,D.search.submit=!1}).error(function(a,b){D.search.processing=!1,D.search.submit=!1,e.swal({title:"Warning",text:"Sorry, your search timed out. Please try again.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Ok"})}))}function w(a){D.order_by=a,v()}function x(a){D.search.results=[],D.search.processing=!0,d.get("/set_menu_id/"+a.menu_id).success(function(d){i.currentMenuSelected=a,c.current_menu=a,c.getFullMenu(),b.path("/menu/items")})}function y(){D.merchant_search_form.$valid&&(D.merchant_search.processing=!0,d.post("/merchant_search",{search_text:D.merchant_search.text}).success(function(a){g.search_results=a,D.result_merchants=g.getSearchResults(),D.merchant_search.processing=!1,D.search_submit=!1}))}function z(){return D.search.processing||D.search.results.length>0?"hide-recently-visited-panel":""}function A(){D.defaultBrand_id&&k(D.defaultBrand_id),$("#create-menu-modal").modal("toggle")}function B(a,b){b.stopPropagation(),D.edit_menu=a,$("#edit-menu-modal").modal("show")}function C(){D.edit_menu.submit=!0,c.post("basic_update",D.edit_menu).then(function(a){D.processing=!1,$("#edit-menu-modal").modal("toggle"),e.swal({title:"Success.",text:"The menu "+D.edit_menu.name+" has been updated.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){})},function(a){D.processing=!1,D.newMenu.error=a.statusText})}var D=this;D.newMenu={merchants:[]},D.search_result=[],D.edit_menu={},D.form={},D.processing=!1,D.brands=[],D.search={},D.search.text="",D.brandsProcessing=!0,D.merchant_search={},D.brandMerchants=[],D.merchant_processing=!1,D.merchantFilter="",D.invalidForm=!1,D.error="",D.search.results=[],D.can_select_brands=!1,D.defaultBrand_id=null,D.order_by="menu_id",D.createMenu=s,D.menuSearch=v,D.viewMenu=x,D.merchantSearch=y,D.loadBrandMerchants=k,D.addMerchant=l,D.removeMerchant=m,D.addAllMerchants=n,D.removeAllMerchants=o,D.filterMerchants=t,D.resetForm=u,D.hasSearchResult=z,D.createMenuBtnClickEvent=A,D.basicMenuEditOpen=B,D.updateMenu=C,D.orderByChange=w,j()}function MenuSectionsCtrl(a,b,c,d){function e(){a.get("menu_types").then(function(a){p.categories=a.data.lookup.cat_id,p.modifier_types=a.data.lookup.modifier_type,p.sections=a.data.menu.menu.menu_types,p.modifier_groups=a.data.menu.menu.modifier_groups,p.menu_name=a.data.menu.menu_name})}function f(){p.new_section={},p.new_section_form.$setPristine(),p.new_section_form.items.$faded=!1,p.new_section_form.sizes.$faded=!1,p.new_modifier_group={},p.new_mod_group_form.$setPristine(),p.new_mod_group_form.item_list.$faded=!1}function g(){p.new_section.submit=!0,p.new_section_form.$valid&&(p.new_section.processing=!0,a.post("create_menu_type",p.new_section).then(function(a){p.sections.push(a.data),p.new_section.success=!0,p.new_section.processing=!1,$("#add-section-modal").modal("toggle"),b(f,3500)}))}function h(a,b){p.delete_menu_type.menu_type=a,p.delete_menu_type.index=b,d.swal({title:"Are you want to delete the Menu Section "+p.delete_menu_type.menu_type.menu_type_name+"?",text:"You will not be able to recover the section.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!"},function(){d.swal("This is where we'd actually delete the menu section, but it's not set up with the back end yet.")})}function i(){p.new_modifier_group.submit=!0,p.new_mod_group_form.$valid&&(p.new_modifier_group.processing=!0,a.post("create_modifier_group",p.new_modifier_group).then(function(a){p.modifier_groups.push(a.data),p.new_modifier_group.success=!0,p.new_modifier_group.processing=!1,$("#add-new-modifier-modal").modal("toggle"),b(f,3500)}))}function j(a){return c.returnOneArrayFieldWithAnotherArrayFieldValue(p.modifier_types,"type_id_value","type_id_name",a)}function k(a){return c.returnOneArrayFieldWithAnotherArrayFieldValue(p.categories,"type_id_value","type_id_name",a)}function l(a){return c.returnOneArrayFieldWithAnotherArrayFieldValue(p.categories,"type_id_value","type_id_name",a)}function m(a){return c.returnOneArrayFieldWithAnotherArrayFieldValue(p.categories,"type_id_value","type_id_name",a)}function n(a){return c.yesNoTrueFalseConversion(a)}function o(a){c.changeRoute(a)}var p=this;p.sections=[],p.new_section={},p.edit_section={},p.delete_menu_type={},p.modifier_groups=[],p.new_modifier_group={},p.modifier_types=[],p.categories=[],p.menu_name="";p.createSection=g,p.decodeCategory=m,p.deleteMenuTypeConfirmation=h,p.createModifierGroup=i,p.decodeModifierType=j,p.editModifierGroupDialog=k,p.deleteModifierGroupConfirmDialog=l,p.yestNoTrueFalseConvert=n,p.changeRoute=o,e()}function MenuItemListCtrl(a,b,c,d,e,f,g,h){function i(){S.new_section={},S.new_section.active=!0,S.new_section_form.$setPristine(),S.edit_section_form.$setPristine(),S.new_modifier_group={},S.new_modifier_group.active=!0,S.new_modifier_group.modifier_type="T",S.new_mod_group_form.$setPristine(),S.new_section_form.menu_type_name.$faded=!1,S.new_section_form.create_cat_id.$faded=!1,S.new_section_form.sizes.$faded=!1,S.new_mod_group_form.modifier_group_name.$faded=!1,S.new_mod_group_form.create_modifier_type.$faded=!1,S.new_mod_group_form.priority.$faded=!1,S.new_mod_group_form.new_mod_items.$faded=!1,S.new_mod_group_form.default_item_price.$faded=!1,S.new_mod_group_form.default_item_max.$faded=!1}function j(a,b,d){g.setSection(b),c.path("/menu/menu_section")}function k(a){S.edit_section.sizes.splice(a,1)}function l(){S.edit_section.delete_size=!1}function m(){var a={size_name:S.edit_section.new_size_name,size_display_name:"",description:"",active:!0,"new":!0,apply_all_items:!0};S.edit_section.sizes.push(a)}function n(){S.new_section.submit=!0,S.new_section_form.$valid&&(S.new_section.processing=!0,a.post("create_menu_type",S.new_section).then(function(c){S.new_section.success=!0,S.new_section.processing=!1;var d=c.data;if(d.menu_items=d.items,a.menu_types.push(d),"undefined"!=typeof d.items){var e;for(e=0;e<d.items.length;e++){var f=d.items[e];f.section=d,a.all_items.push(f)}}$("#add-section-modal").modal("toggle"),b(i,3500)}))}function o(){S.edit_section.submit=!0,
S.edit_section_form.$valid&&(S.edit_section.processing=!0,a.post("update_menu_type",S.edit_section).then(function(c){for(var d=c.data,e=0;e<d.sizes.length;e++)d.sizes[e].priority=parseInt(d.sizes[e].priority);a.menu_types[S.edit_section.index]=d,S.edit_section.success=!0,S.edit_section.processing=!1,$("#edit-section-modal").modal("toggle"),b(i,3500)}))}function p(a,b,c){b.default_item_price=parseInt(b.default_item_price),b.default_item_max=parseInt(b.default_item_max),b.priority=parseInt(b.priority),S.edit_modifier_group=b,S.edit_modifier_group.index=a,$("#edit-modifier-modal").modal("toggle"),c.stopPropagation()}function q(){S.edit_modifier_group.submit=!0,S.edit_mod_group_form.$valid&&(S.edit_modifier_group.processing=!0,a.post("update_modifier_group",S.edit_modifier_group).then(function(a){S.edit_modifier_group.success=!0,S.edit_modifier_group.processing=!1,$("#edit-modifier-modal").modal("toggle"),b(i,3500)}))}function r(){S.new_modifier_group.submit=!0,S.new_mod_group_form.$valid&&(S.new_modifier_group.processing=!0,a.post("create_modifier_group",{new_modifier_group:S.new_modifier_group,modifier_groups:a.modifier_groups}).then(function(c){c.data.modifier_items=c.data.created_modifier_items,a.modifier_groups=c.data.updated_mod_groups;var d;for(d=0;d<c.data.created_modifier_items.length;d++){var e=c.data.modifier_items[d];e.modifier_group=c.data,a.all_modifier_items.push(e)}S.new_modifier_group.success=!0,S.new_modifier_group.processing=!1,$("#add-new-modifier-modal").modal("toggle"),b(i,3500)}))}function s(b,d,e,f){if(a.current_item_id=d.item_id,a.current_mod_item_id=!1,"search_item"===e)for(e=0;e<S.menu.menu_types.length;e++){var g=S.menu.menu_types[e].menu_items;for(f=0;f<g.length;f++)if(g[f].item_id===d.item_id){a.current_item_section_index=e,a.current_item_index=f;break}}else a.current_item_section_index=e,a.current_item_index=f;"new"==f?(S.new_item.menu_type=b,$("#new-item-copy-mods-modal").modal("toggle")):(a.get("menu_type/"+b.menu_type_id+"/item/"+d.item_id).then(function(a){c.path("/menu/item")}),u(b.menu_type_id,d.item_id))}function t(a){$("#your-modal-id").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),u(S.new_item.menu_type.menu_type_id,S.new_item.item_id,a)}function u(b,d,e){a.get("menu_type/"+b+"/item/"+d+"/mod_group_item/"+e).then(function(a){c.path("/menu/item")})}function v(b,d,e,f){if(a.current_item_id=!1,a.current_mod_item_id=d.modifier_item_id,"search_item"===e)for(e=0;e<S.menu.menu_types.length;e++){var g=S.menu.menu_types[e].menu_items;for(f=0;f<g.length;f++)if(g[f].modifier_item_id===d.modifier_item_id){a.current_item_modifier_group_index=e,a.current_modifier_item_index=f;break}}else a.current_mod_group.index=e,a.current_mod_item.index=f;a.current_mod_group.index=e,a.current_mod_item.index=f,a.get("modifier_group/"+b.modifier_group_id+"/modifier_item/"+d.modifier_item_id).then(function(a){c.path("/menu/modifier_item")})}function w(a){if(S.menu.getSearchTextLength()<3)return!1;var b=new RegExp(S.menu.search_text.toUpperCase(),"g");return a.item_name.toUpperCase().match(b)?!0:!1}function x(a){if(S.menu.getSearchTextLength()<3)return!1;var b=new RegExp(S.menu.search_text.toUpperCase(),"g");return a.modifier_item_name.toUpperCase().match(b)?!0:!1}function y(a){return a+1}function z(){S.sections_priority_menu=S.menu}function A(){S.sections_priority_processing=!0,a.post("menu_type/priority_order",S.sections_priority_menu).then(function(a){S.sections_priority_processing=!1,S.menu=S.sections_priority_menu,$("#re-order-sections-modal").modal("toggle")})}function B(){S.mod_groups_priority_menu=S.menu}function C(){S.mod_groups_priority_processing=!0,a.post("modifier_group/priority_order",S.mod_groups_priority_menu).then(function(a){S.mod_groups_priority_processing=!1,S.full_menu=S.mod_groups_priority_menu,$("#re-order-mod-groups-modal").modal("toggle")})}function D(a,b){S.item_priority_section=b,T=a}function E(){S.item_priority_processing=!0,a.post("items/priority_order",S.item_priority_section).then(function(a){S.item_priority_processing=!1,S.menu.menu_types[T]=S.item_priority_section,$("#re-order-items-modal").modal("toggle")})}function F(a,b){S.modifier_item_priority_group=b,U=a}function G(){S.modifier_item_priority_processing=!0,a.post("modifier_items/priority_order",S.modifier_item_priority_group).then(function(a){S.modifier_item_priority_processing=!1,S.menu.modifier_groups[U]=S.modifier_item_priority_group,$("#re-order-modifier-items-modal").modal("toggle")})}function H(b,c,f,g){d.swal({title:"Warning",text:"Are you sure you want to delete the item "+b.menu_type_name+" - "+c.item_id+" "+c.item_name+" ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(d){d&&e["delete"]("/menu/menu_item/"+c.item_id).then(function(d){var e=h.findIndexByKeyValue(a.menu_types,"menu_type_id",b.menu_type_id),f=h.findIndexByKeyValue(a.menu_types[e].menu_items,"item_id",c.item_id);a.menu_types[e].menu_items.splice(f,1);var g=h.findIndexByKeyValue(a.all_items,"item_id",c.item_id);a.all_items.splice(g,1)})})}function I(b,c,f,g){d.swal({title:"Warning",text:"Are you sure you want to delete the modifier item "+b.modifier_group_name+" - "+c.modifier_item_id+" "+c.modifier_item_name+" ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(d){d&&e["delete"]("/menu/modifier_item/"+c.modifier_item_id).then(function(d){a.modifier_groups[f].modifier_items.splice(g,1);var e=h.findIndexByKeyValue(a.modifier_groups,"modifier_group_id",b.modifier_group_id),i=h.findIndexByKeyValue(a.modifier_groups[e].modifier_items,"modifier_item_id",c.modifier_item_id);a.modifier_groups[e].modifier_items.splice(i,1);var j=h.findIndexByKeyValue(a.all_modifier_items,"modifier_item_id",c.modifier_item_id);a.all_modifier_items.splice(j,1)})})}function J(b,c){d.swal({title:"Warning",text:"Are you sure you want to delete the menu section "+c.menu_type_id+" - "+c.menu_type_name+" ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(d){d&&e["delete"]("/menu/menu_type/"+c.menu_type_id).then(function(c){a.menu_types.splice(b,1)})})}function K(b,c){d.swal({title:"Warning",text:"Are you sure you want to delete the modifier group "+c.modifier_group_id+" - "+c.modifier_group_name+" ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(d){d&&e["delete"]("/menu/modifier_group/"+c.modifier_group_id).then(function(c){a.modifier_groups.splice(b,1)})})}function L(a){return a?a?a.length>3&&a?a.substring(0,4):a:"":"-"}function M(){S.new_section.active_all_day&&(S.new_section.start_time="12:00",S.new_section.start_time_am_pm="am",S.new_section.end_time="11:59",S.new_section.end_time_am_pm="pm")}function N(){S.edit_section.active_all_day&&(S.edit_section.start_time="12:00",S.edit_section.start_time_am_pm="am",S.edit_section.end_time="11:59",S.edit_section.end_time_am_pm="pm")}function O(a){return S.filter_hide_inactive?a.active?!0:!1:!0}function P(a){return S.filter_hide_inactive?a.active?!0:!1:!0}function Q(a){return S.filter_hide_inactive?1==a.active||"Y"==a.active?!0:!1:!0}function R(a){"undefined"==typeof a.size_print_name&&(a.size_print_name=a.size_name)}var S=this;S.all_menu_items=[],S.all_mod_items=[],S.new_section={},S.new_section.active=!0,S.new_section.active_all_day=!0,S.new_section.start_time="12:00",S.new_section.start_time_am_pm="am",S.new_section.end_time="11:59",S.new_section.end_time_am_pm="pm",S.filter_hide_inactive=!1,S.edit_section={},S.new_item={item_id:"new"},S.new_item.menu_type={},S.new_modifier_item={modifier_item_id:"new"},S.new_modifier_group={},S.new_modifier_group.active=!0,S.new_modifier_group.modifier_type="T",S.edit_modifier_group={},S.sections_priority_menu={},S.sections_priority_processing=!1,S.mod_groups_priority_menu={},S.mod_groups_priority_processing=!1,S.item_priority_section={},S.item_priority_processing=!1;var T;S.modifier_item_priority_group={},S.modifier_item_priority_processing=!1;var U;S.modifier_types=[{type_id_value:"T",type_id_name:"Top"},{type_id_value:"S",type_id_name:"Side"},{type_id_value:"I",type_id_name:"Interdependent"},{type_id_value:"I1",type_id_name:"Interdependent-1"},{type_id_value:"I2",type_id_name:"Interdependent-2"},{type_id_value:"I3",type_id_name:"Interdependent-3"},{type_id_value:"I3C",type_id_name:"Interdependent-3c"}],S.createSection=n,S.openEditSection=j,S.updateSection=o,S.createModifierGroup=r,S.viewItem=s,S.viewModifierItem=v,S.filterItems=w,S.filterModItems=x,S.openEditModifierGroup=p,S.updateModifierGroup=q,S.sortNumber=y,S.openSectionsPriority=z,S.reOrderSections=A,S.openModGroupsPriority=B,S.reOrderModGroups=C,S.openItemPriority=D,S.reOrderItems=E,S.openModifierItemPriority=F,S.reOrderModifierItems=G,S.firstFiveCharacters=L,S.deleteSectionSizeCancel=l,S.addEditSectionSize=m,S.deleteNewSectionSize=k,S.deleteItemDialog=H,S.deleteMenuTypeDialog=J,S.deleteModifierItemDialog=I,S.deleteModifierGroupDialog=K,S.setNewSectionActiveAllDay=M,S.setEditSectionActiveAllDay=N,S.menuTypeFilter=O,S.modifierGroupFilter=P,S.itemsFilter=Q,S.setNewItemModGroupConfig=t,S.updateSizePrintName=R,S.menu=a,S.menu.search_text="",a.getFullMenu().then(function(){b(function(){"undefined"!=typeof a.last_edit_object.type&&("menu_item"==a.last_edit_object.type?(f.yOffset=120,f("item-anchor-"+a.last_edit_object.id)):(f.yOffset=120,f("mod-item-anchor-"+a.last_edit_object.id)))},200)})}function MenuItemCtrl(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){j.get("/current_menu").success(function(b){a.current_menu=b,o()})}function o(){a.get("current_item").then(function(b){x.current_item=b.data,a.last_edit_object.type="menu_item",a.last_edit_object.id=x.current_item.item_id,0===x.current_item.allowed_modifier_groups.length&&(x.current_item.allowed_modifier_groups={}),0===x.current_item.comes_with_modifier_items.length&&(x.current_item.comes_with_modifier_items={}),x.menu_types=a.getMenuTypes(),x.current_item.submit=!1;for(var c=0;c<x.current_item.sizes.length;c++)x.current_item.sizes[c].active=g.yesNoTrueFalseConversion(x.current_item.sizes[c].active);for(c=0;c<x.current_item.modifier_groups.length;c++)x.current_item.modifier_groups[c].price_max=parseFloat(x.current_item.modifier_groups[c].price_max),x.current_item.modifier_groups[c].price_override=parseFloat(x.current_item.modifier_groups[c].price_override),x.current_item.modifier_groups[c].min=parseInt(x.current_item.modifier_groups[c].min),x.current_item.modifier_groups[c].max=parseInt(x.current_item.modifier_groups[c].max),x.current_item.modifier_groups[c].priority=parseInt(x.current_item.modifier_groups[c].priority);for(c=0;c<x.current_item.sizes.length;c++)x.current_item.sizes[c].priority=parseFloat(x.current_item.sizes[c].priority);"undefined"==typeof x.current_item.item_name&&(x.current_item.item_name=""),"new"===a.current_item_index?(x["new"]=!0,x.current_item["new"]=!0,x.current_item.active=!1):(x.current_item.active=g.yesNoTrueFalseConversion(x.current_item.active),x.current_item["new"]=!1),f.image_stage="load"})}function p(){"3.00"===a.current_menu.version?$("#merchant-select-modal").modal("toggle"):q()}function q(){x.current_item.processing=!0,j.post("/menu/item",x.current_item).then(function(e){var f;if(x["new"]){var g=e.data;f='The menu item "'+x.current_item.item_name+'" has been created!',a.menu_types[a.current_item_section_index].menu_items.push(g),a.all_items.push(g)}else{f='The menu item "'+x.current_item.item_name+'" has been updated!',a.menu_types[a.current_item_section_index].menu_items[a.current_item_index]=e.data;var h=b.findIndexByKeyValue(a.all_items,"item_id",x.current_item.item_id);a.all_items[h]=e.data}x.current_item.processing=!1,c.swal({title:f,text:"",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"},function(){d.path("/menu/items").replace()})})["catch"](function(a){console.log(a),c.swal({title:"Warning",text:"The Menu API Service responded with the message: "+a.data.error.error_message,type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})})}function r(c,d){if(c.allowed){var e,f=b.returnObjectOfArrayWithFieldValue(a.modifier_groups,"modifier_group_id",c.modifier_group_id);for(e=0;e<f.modifier_items.length;e++)f.modifier_items[e].comes_with=!1;"undefined"!=typeof c.price_max&&(x.current_item.modifier_groups[d].price_max=null,x.current_item.modifier_groups[d].price_max="88888",x.current_item.modifier_groups[d].price_override=null,x.current_item.modifier_groups[d].price_override="0",x.current_item.modifier_groups[d].display_name=""),x.current_item.allowed_modifier_groups[c.modifier_group_id]=f}else delete x.current_item.allowed_modifier_groups[c.modifier_group_id]}function s(){x.current_item.propagate_type=h.propagate_type,"group"===h.propagate_type&&(x.current_item.merchant_group_id=i.selected_merchant_group.id),x.current_item.propagate_merchants=h.selected_merchants,q()}function t(a){var b,c=!0;for(b=0;b<a.length;b++)a[b].comes_with&&(c=!1);return c}function u(){d.path("/menu/items")}function v(a){return x.modifier_group_only_allowed?a.allowed?!0:!1:!0}function w(a){return"undefined"==typeof x.current_item.item_print_name?void(x.current_item.item_print_name=a):void((""==x.current_item.item_print_name||null==x.current_item.item_print_name)&&(x.current_item.item_print_name=a))}var x=this;x.current_item={},x.menu_types=[],x.modifier_groups={},x["new"]=!1,x.modifier_group_only_allowed=!0,x.page_open_sections={sizes:!1,modifier_groups:!1,modifier_comes_with:!1},x.updateItem=q,x.changeAllowed=r,x.seeIfComesWith=t,x.backToItemsModifiers=u,x.selectMerchantsToPropagate=p,x.setMerchants=s,x.modGroupsFilter=v,x.setPrintNameIfBlank=w,f.img_preview={},x.mainCroppedImage=void 0,n(),a.saveOpenSectionsAndModifierGroups(),h.propagate_type="subset",h.selectable_merchants=[],h.selected_merchants=[],i.selectable_merchant_groups=[],i.selected_merchant_group=null,i.search_url="merchant_group/search_all",f.$watch("file",function(){f.file&&"load"===f.image_stage&&(y(f.file[0]),f.image_stage="main")}),f.file_thumb=void 0,f.$watch("file_thumb",function(){f.file_thumb&&"thumb_load"===f.image_stage&&(z(f.file_thumb[0]),f.image_stage="thumb")}),f.main_image_size={w:500,h:300},f.image_stage="load",f.blockingObject={block:!0},f.blockingObject2={block:!0},f.moveToThumbCrop=function(){f.blockingObject.render(function(a){$("#image-crop-contain").fadeOut(100,function(){$("#image-crop-contain").fadeIn(300,function(){x.MainImage=b.dataURItoBlob(f.myCroppedMainImage),z(f.file[0]),f.image_stage="thumb"})})})},f.uploadThumb=function(){f.file_thumb=void 0,f.image_stage="thumb_load"},f.storeCrops=function(){f.blockingObject2.render(function(a){$("#image-crop-contain").fadeOut(100,function(){$("#image-crop-contain").fadeIn(300,function(){x.ThumbImage=b.dataURItoBlob(f.myCroppedThumbImage),f.img_preview.main=f.myCroppedMainImage,f.img_preview.thumb=f.myCroppedThumbImage,m.safeApply(function(){f.image_stage="preview_confirm_s3"}),f.image_stage="preview_confirm_s3"})})})},f.confirmCropsS3=function(){f.image_stage="processing",x.MainImage&&x.ThumbImage&&a.uploadImageWithThumb(x.MainImage,x.ThumbImage).then(function(a){$("#image-modal").modal("hide"),f.image_stage="load",c.swal({title:"Your image was successfully uploaded.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){x.current_item.image=a.data}),l(function(){k.reload()},500)})["catch"](function(a,b){console.log(a)})},a.menu_types.length<1&&a.getFullMenu(),f.blockingObject.callback=function(a){},f.cancelImageUpload=function(){$("#image-modal").modal("hide"),l(function(){k.reload()},500)};var y=function(a){var b=a;if(b){var c=new FileReader;c.onload=function(a){f.$apply(function(b){b.myImage=a.target.result})},c.readAsDataURL(b)}};angular.element(document.querySelector("#fileInput")).on("change",y);var z=function(a){var b=a;if(b){var c=new FileReader;c.onload=function(a){f.$apply(function(b){b.myImageThumb=a.target.result})},c.readAsDataURL(b)}};angular.element(document.querySelector("#fileInputThumb")).on("change",z)}function MenuSectionCtrl(a,b,c,d,e,f,g,h,i){function j(){var a={size_name:"",size_display_name:"",description:"",active:!0,"new":!0,apply_all_items:!0};o.sectionService.data.sizes.push(a)}function k(){o.submit=!0,o.update_section_form.$valid&&f.post("update_menu_type",o.sectionService.data).then(function(a){for(var e=a.data,f=0;f<e.sizes.length;f++)e.sizes[f].priority=parseInt(e.sizes[f].priority);d.swal({title:"Menu section successfully updated!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){c.path("/menu/items")}),b(function(){},500)})}function l(a){return"undefined"==typeof o.sectionService.data.menu_type_description?void(o.sectionService.data.menu_type_description=a):void 0}function m(a){"undefined"==typeof a.size_print_name&&(a.size_print_name=a.size_name,a.description=a.size_name)}function n(a){var b=h.upload({url:"/menu/menu_type/image_upload",data:{key:a,menu_type_id:o.sectionService.data.menu_type_id}});g.image_stage="processing",b.then(function(a){g.image_stage="load";var b=new Date;b.getTime()})}var o=this;o.submit=!1,o.addEditSectionSize=j,o.updateSection=k,o.setDescription=l,o.uploadFile=n,o.updateSizePrintName=m,g.image_upload_stage="file_select",g.blockingObject={block:!0},f.getFullMenu(),o.page_open_sections={},o.sectionService=a,o.menuService=f,g.$watch("file",function(){g.file&&(p(g.file[0]),g.image_upload_stage="crop")}),g.uploadFile=function(){g.blockingObject.render(function(b){var c=i.dataURItoBlob(b);a.uploadFile(c).then(function(b){$("#image-modal").modal("hide"),g.upload_stage="file_select",console.log(b),o.sectionService.data.image_url=b.data.image,a.setSection(o.sectionService.data),d.swal({title:"Image Uploaded",text:"Your cropped section image has been uploaded to the server.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"})})})};var p=function(a){var b=a,c=new FileReader;c.onload=function(a){g.$apply(function(b){b.myImage=a.target.result})},c.readAsDataURL(b)};angular.element(document.querySelector("#fileInput")).on("change",p),o.sectionService.loadSection()}function MenuModifierItemCtrl(a,b,c,d,e,f,g,h){function i(){null==a.current_menu?h.get("/current_menu").success(function(b){a.current_menu=b,j()}):j()}function j(){a.get("current_modifier_item").then(function(b){r.current_mod_item=b.data,a.last_edit_object.type="modifier_item",a.last_edit_object.id=r.current_mod_item.modifier_item_id,0===r.current_mod_item.default_modifier_price.price?r.current_mod_item.default_modifier_price.price="0":r.current_mod_item.default_modifier_price.price=parseFloat(r.current_mod_item.default_modifier_price.price);for(var c=0;c<r.current_mod_item.all_sizes.length;c++)r.current_mod_item.all_sizes[c].modifier_price=parseFloat(r.current_mod_item.all_sizes[c].modifier_price);r.modifier_groups=a.modifier_groups,r.current_mod_item.submit=!1,"undefined"==typeof r.current_mod_item.modifier_item_name&&(r["new"]=!0,r.current_mod_item.default_modifier_price.price=0),r.current_mod_item.priority=parseInt(r.current_mod_item.priority),r.current_mod_item.modifier_item_max=parseInt(r.current_mod_item.modifier_item_max)})}function k(){r.current_mod_item.propagate_type=f.propagate_type,r.current_mod_item.propagate_merchants=f.selected_merchants,"group"==f.propagate_type&&(r.current_mod_item.merchant_group_id=g.selected_merchant_group.id),l()}function l(){r.current_mod_item.submit=!0,r.modifier_item_form.$valid&&(r.current_mod_item.processing=!0,a.post("modifier_item",r.current_mod_item).then(function(e){if(r.current_mod_item.processing=!1,r.current_mod_item.submit=!1,"new"==a.current_mod_item.index){var f=e.data;a.modifier_groups[a.current_mod_group.index].modifier_items.push(f),a.all_modifier_items.push(f)}else if("undefined"!=typeof a.modifier_groups[a.current_mod_group.index]){a.modifier_groups[a.current_mod_group.index].modifier_items[a.current_mod_item.index]=r.current_mod_item;var g=b.findIndexByKeyValue(a.all_modifier_items,"modifier_item_id",r.current_mod_item.modifier_item_id);a.all_modifier_items[g]=r.current_mod_item}c.swal({title:"The modifier item "+r.current_mod_item.modifier_item_name+" has been updated!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){d.path("/menu/items")})}))}function m(a){var b=a.size_name.length;return isNaN(a.size_name)?"undefined"!=typeof b&&a.size_name.length>0?a.size_name:a.size_print_name:a.size_name}function n(){"3.00"==a.current_menu.version?$("#merchant-select-modal").modal("toggle"):l()}function o(){d.path("/menu/items")}function p(){return"undefined"==typeof r.current_mod_item.modifier_item_print_name?void(r.current_mod_item.modifier_item_print_name=r.current_mod_item.modifier_item_name):void((""==r.current_mod_item.modifier_item_print_name||null==r.current_mod_item.modifier_item_print_name)&&(r.current_mod_item.modifier_item_print_name=r.current_mod_item.modifier_item_name))}function q(a){return console.log(a),r.show_active_price_only?a.active?!0:!1:!0}var r=this;r.current_mod_item={},r.current_mod_item.default_modifier_price={},r.current_mod_item.default_modifier_price.price=0,r.current_mod_item.active=!0,r.modifier_groups=[],r.show_active_price_only=!0,e.numberTest=3,r.updateModifierItem=l,r.sizeName=m,r.backToItemsModifiers=o,r.setMerchants=k,r.selectMerchantsToPropagate=n,r.filterInactive=q,r.setPrintNameIfBlank=p,r["new"]=!1,i(),f.propagate_type="subset",f.selectable_merchants=[],f.selected_merchants=[],g.selectable_merchant_groups=[],g.selected_merchant_group=null,g.search_url="merchant_group/search_all",a.saveOpenSectionsAndModifierGroups()}function MenuEditCtrl(a,b,c,d,e,f,g,h,i,j,k,l){function m(){return i.merchant_id?void j.setCurrentMerchant(i.merchant_id).then(function(b){O.isOperator=!1,k.currentMerchantSelected=b,d.operator_merchant=b,a.get("edit_menu").then(function(a){O.full_menu=a.data,c.full_menu=O.full_menu,O.loading=!1,F(),a.data.import_url&&a.data.import_url&&(O.pos_import_url=a.data.import_url,O.last_pos_import_date=a.data.menu.last_pos_import_date)})}):i.menu_id?void l.get("/set_menu_id/"+i.menu_id).success(function(b){a.getFullMenu(),n()}):void n()}function n(){d.getUserSessionInfo().then(function(){if("operator"===d.getVisibility()){var b=d.getOperatorMenu();b?(O.loading=!0,a.get("edit_menu").then(function(a){O.full_menu=a.data,c.full_menu=O.full_menu,O.loading=!1,F(),a.data.import_url&&a.data.import_url&&(O.pos_import_url=a.data.import_url,O.last_pos_import_date=a.data.menu.last_pos_import_date,console.log(O.last_pos_import_date))})):e.swal({title:"Warning.",text:"Please go to Settings->Ordering to assign a menu to this location.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"},function(a){a&&h.path("/merchant/ordering")})}else a.checkQuickEditSet().then(function(a){O.loading=!1,O.isOperator=!1,$("#merchant-single-select-modal").modal("show")})})}function o(b){return a.getMerchantByMenu(b)}function p(a){t(a,"active")}function q(a){O.edit_item=a}function r(){O.edit_item.processing=!0,D(O.edit_item)}function s(b){O.menu_merchant_id=a.quick_edit_merchant_id,a.get("edit_menu_merchant/"+O.menu_merchant_id).then(function(b){O.full_menu=b.data.menu,a.menu_merchant=b.data.merchant,c.full_menu=O.full_menu,b.data.menu.import_url.length>2&&(O.pos_import_url=b.data.menu.import_url,O.last_pos_import_date=b.data.menu.last_pos_import_date,console.log(O.last_pos_import_date)),O.loading=!1,F(),$("#merchant-single-select-modal").modal("hide")})}function t(c,d){c.loading=!0,a.post("full_menu_update_item",c).then(function(a){c.loading=!1,c.success=!0,b(function(){c.success=!1},1500)})["catch"](function(a){c.fail=!0,c.loading=!1,b(function(){c.fail=!1},1500)})}function u(a){z(a)}function v(){O.edit_modifier_item.processing=!0,z(O.edit_modifier_item)}function w(a){O.edit_modifier_item=a}function x(a,c,d){b(function(){d===Q&&z(a,c)},500)}function y(a,b){Q=(new Date).getTime(),x(a,b,Q)}function z(c,d){c.loading=!0,a.post("full_menu_update_modifier_item",c).then(function(a){c.loading=!1,c.success=!0,b(function(){c.success=!1},1500)})["catch"](function(a){c.fail=!0,c.loading=!1,b(function(){c.fail=!1},1500)})}function A(a){if(O.filter_text.length<3)return!1;var b=new RegExp(O.filter_text.toUpperCase(),"g");return a.item_name.toUpperCase().match(b)?O.filter_positive_items_only&&a.price<=0?!1:!0:!1}function B(a){if(O.filter_text.length<3)return!1;var b=new RegExp(O.filter_text.toUpperCase(),"g");return a.modifier_item_name.toUpperCase().match(b)?!0:!1}function C(a,c,d){b(function(){d===P&&t(a,c)},500)}function D(a,b){P=(new Date).getTime(),C(a,b,P)}function E(a){a.preventDefault(),a.stopPropagation(),document.getElementById("table-fix").focus()}function F(){for(var a in O.full_menu.menu_types)for(var b=0;b<O.full_menu.menu_types[a].length;b++)O.full_menu.menu_types[a][b].price=parseFloat(O.full_menu.menu_types[a][b].price);for(var c in O.full_menu.modifier_groups)for(var d=0;d<O.full_menu.modifier_groups[c].length;d++)O.full_menu.modifier_groups[c][d].modifier_price=parseFloat(O.full_menu.modifier_groups[c][d].modifier_price);for(var e=0;e<O.full_menu.all_items.length;e++)O.full_menu.all_items[e].price=parseFloat(O.full_menu.all_items[e].price);for(var g=0;g<O.full_menu.all_modifier_items.length;g++)O.full_menu.all_modifier_items[g].modifier_price=parseFloat(O.full_menu.all_modifier_items[g].modifier_price);O.full_menu.all_modifier_items=O.full_menu.all_modifier_items.map(function(a){return f.parseStringBooleanValues(a)})}function G(){a.post("pos_import",{import_url:O.pos_import_url}).then(function(a){e.swal({title:"Your POS update is in progress and will take several minutes. Check back later to review changes.",text:"",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"})})}function H(){g.updateItemObjectForAllowedModifierChanges().then(function(){g.data.propagate_type="subset",g.data.propagate_merchants=[{merchant_id:a.quick_edit_merchant_id}],a.post("item",g.data).then(function(a){})})}function I(a){g.loadMenuItem(a.item_id),$("#edit-allowed-modifiers-modal").modal("toggle")}function J(a){var b=!0;return O.filter_hide_inactive&&(a.active||(b=!1)),O.filter_positive_items_only&&a.price<=0&&(b=!1),b}function K(){var b=a.quick_edit_merchant;e.swal({title:"Warning",text:"Are you sure you want to apply this menu to merchant  "+b.merchant_id+" - "+b.address1+" "+b.city+", "+b.state+" "+b.zip+" ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",cancelButtonText:"No"},function(b){b&&a.post("copy_merchant_menu",{destination_merchant_id:a.quick_edit_merchant_id}).then(function(a){e.swal({title:"The menu has been copied to the selected merchant.",text:"",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"},function(){$("#merchant-single-select-modal").modal("toggle")})})})}function L(a){"menu-merchant-select"==O.merchant_select_type?O.setMenuMerchant(a):"menu-copy-select"==O.merchant_select_type&&O.copyMenuToMerchant(a)}function M(){e.swal({title:"Warning",text:"Are you sure? This action will default your prices back to the Master Menu Pricing.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",cancelButtonText:"No"},function(b){b&&a.post("copy_merchant_menu",{source_merchant_id:"master"}).then(function(a){s("copy"),e.swal({title:"Default Prices Restored",text:"This merchant's menu has been reverted back to the master, default price list. The menu will now reload.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"})})})}function N(a){return a.substring(0,8)}var O=this;O.current_mod_item={},O.modifier_groups=[],O.merchant_menu_types=["All","Pickup","Delivery"],O.loading=!1,O.filter_text="",O.filter_positive_items_only=!1,O.succesSaveRow="",O.full_menu=[],O.edit_item={},O.edit_modifier_item={},O.menu_merchant_id=!1,O.pos_import_url=!1,O.user=d,c.full_menu={},O["new"]=!1,O.isOperator=!0;var P,Q;O.merchant_select_type="menu-merchant-select",O.changeItemActive=p,O.editItem=q,O.editModItem=w,O.updateItemSubmit=r,O.updateModifierItemSubmit=v,O.changeModifierItemActive=u,O.filterItems=A,O.filterModItems=B,O.updateItem=D,O.updateItemPost=t,O.toggleStopPropagation=E,O.setMenuMerchant=s,O.posImport=G,O.merchantSearchByMenu=o,O.updateModifierItemDelay=y,O.itemAllowedModifiersOpen=I,O.submitAllowedModifierGroups=H,O.menuItemFilter=J,O.selectMerchant=L,O.copyMenuToMerchant=K,O.defaultPricesConfirm=M,O.returnFirstEightDesc=N,m()}function MenuOverviewReportCtrl(a,b,c,d,e){function f(){console.log(d.hasPermission("multi_merchs_filter")),d.hasPermission("multi_merchs_filter")?$("#merchant-single-select-modal").modal("show"):g(-1)}function g(){k.menuTypeMenuItemReport=[],k.modifierGroupModifierItemReport=[],k.merchantMenuReport=[],e.get("menu/export/"+a.quick_edit_merchant_id).then(function(a){k.menuTypeMenuItemReport=a.data.menuTypeMenuItemReport,k.modifierGroupModifierItemReport=a.data.modifierGroupModifierItemReport,k.merchantMenuReport=a.data.merchantMenuReport,$("#merchant-single-select-modal").modal("hide")})}function h(){a.quick_edit_merchant_id=0,g()}function i(b){return a.getMerchantByMenu(b)}function j(a){return a==k.current_report?"btn btn-success":"btn btn-primary"}var k=this;k.menu_merchant_id=!1,k.menuTypeMenuItemReport=[],k.modifierGroupModifierItemReport=[],k.merchantMenuReport=[],k.exportMenuTypeHeaders=["Section","Section Priority","Item","Item Description","Item Active"],k.exportModGroupHeaders=["Modifier Group","Modifier Group Active","Modifier Item","Modifier Item Active"],k.exportMerchatHeaders=["IMGM ID","Section ID","Section Priority","Section Name","Item ID","Item Priority","Item Name","Mod Group Priority","Mod Group ID","Mod Group Name"],k.current_report="menu_type_item",k.userService=d,f(),k.loadReportWithMerchant=g,k.merchantSearchByMenu=i,k.reportButtonClass=j,k.loadZeroRecordMenu=h,b(function(){f()},1e3)}function MenuUpsellListCtrl(a,b,c,d){function e(){c.path("/menu/category_upsell/create")}function f(a,c,d){i.menu_type_index=c,i.upsell_index=d,i.upsell_record=a,b.swal({title:"Warning.",text:"Are you sure you want to remove the upsell for the section "+a.menu_type_name+" and item "+a.item_name+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Remove"},function(a){a&&g()})}function g(){a.post("delete_category_upsell",i.upsell_record).then(function(c){h.menu.upsells[i.menu_type_index].upsells.splice(i.upsell_index,1),a.loadUpsells(),b.swal({title:"Deleted.",text:"The upsell was deleted.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"})})}var h=this;h.current_item={},h.menu_types=[],h.modifier_groups=[],h["new"]=!1,h.delete_success=!1;var i={};h.page_open_sections={sizes:!0,modifier_groups:!0,modifier_comes_with:!0},h.createNew=e,h.deleteUpsell=g,h.deleteUpsellConfirmation=f,h.menu=a,a.loadUpsells()}function MenuUpsellCreateCtrl(a,b,c,d){function e(c,d){k.selected_item=d,k.unselected_menu_types=a.menu_types.slice(0),k.unselected_menu_types=b.sortArrayByPropertyAlpha(k.unselected_menu_types,"menu_type_name")}function f(){return k.selected_item.item_id?!1:!0}function g(a,c){k.unselected_menu_types.splice(a,1),k.selected_menu_types.push(c),k.unselected_menu_types=b.sortArrayByPropertyAlpha(k.unselected_menu_types,"menu_type_name"),k.selected_menu_types=b.sortArrayByPropertyAlpha(k.selected_menu_types,"menu_type_name")}function h(a,c){k.selected_menu_types.splice(a,1),k.unselected_menu_types.push(c),k.unselected_menu_types=b.sortArrayByPropertyAlpha(k.unselected_menu_types,"menu_type_name"),k.selected_menu_types=b.sortArrayByPropertyAlpha(k.selected_menu_types,"menu_type_name")}function i(){k.processing=!0;var b={item:k.selected_item,menu_types:k.selected_menu_types};
a.post("create_category_upsell",b).then(function(b){a.loadUpsells(),c.swal({title:"Success.",text:"Upsell Successfully Created.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"},function(){d.path("/menu/category_upsells")})})}function j(a){if(k.menu.getSearchTextLength()<3)return!1;var b=new RegExp(k.menu.search_text.toUpperCase(),"g");return a.item_name.toUpperCase().match(b)?!0:!1}var k=this;k.menu=a,k.menu.search_text="",k.selected_item={},k.unselected_menu_types=[],k.selected_menu_types=[],k.processing=!1,k.setUpsellItem=e,k.showSearch=f,k.filterItems=j,k.addMenuTypeSelected=g,k.removeMenuTypeSelected=h,k.create=i}function MenuCartUpsellListCtrl(a,b,c,d){function e(){c.path("/menu/cart_upsells/create")}function f(a){b.swal({title:"Warning.",text:"Are you sure you want to remove the cart upsell "+a.item_name+" for the menu "+h.menu.menuWithCardUpsells.name+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Remove"},function(b){b&&g(a)})}function g(c){a.post("delete_cart_upsell",c).success(function(a){h.menu.menuWithCardUpsells.cart_upsells.splice(h.menu.menuWithCardUpsells.cart_upsells.indexOf(c),1),b.swal({title:"Deleted.",text:"The upsell was deleted.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"})})}var h=this;h.createNew=e,h.deleteUpsell=g,h.deleteUpsellConfirmation=f,h.menu=a,a.loadCartUpsells()}function MenuCartUpsellCreateCtrl(a,b,c,d){function e(a){b.moveBetweenWithoutDuplicates(i.menu.all_items,i.selectedItems,a,"item_id")}function f(a){b.moveBetweenWithoutDuplicates(i.selectedItems,i.menu.all_items,a,"item_id")}function g(){i.processing=!0,a.post("create_cart_upsell",{items:i.selectedItems}).success(function(a){i.processing=!1,c.swal({title:"Success.",text:"Upsell Successfully Created.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"},function(){d.path("/menu/cart_upsells")})})}function h(a){var b=new RegExp(i.menu.search_text.toUpperCase(),"g");return a.item_name.toUpperCase().match(b)}var i=this;i.menu=a,i.processing=!1,i.selectedItems=[],i.filterItems=h,i.setUpsellItem=e,i.removeUpsellItem=f,i.submitUpsells=g,a.loadIfUndefined()}function MenuSearchCtrl(a,b){a.menu_search_text="",a.current_merchant_id="",a.processing=!1,a.current_search="none",a.$on("$routeChangeStart",function(b,c,d){c.$$route&&c.$$route.originalPath.includes("menu")?a.current_search="menu":a.current_search="none"}),a.updateMenuSearch=function(){b.search_text=a.menu_search_text}}function MenuNutritionGridCtrl(a,b){function c(){b.loadNutrition()}function d(c,d,e,f){a(function(){f===g&&b.updateOfferingNutrition(c.offering_data).then(function(){c.success=!0,a(function(){c.success=!1},1500)})},1500)}function e(a,b,c){g=(new Date).getTime(),d(a,b,c,g)}var f=this;f["new"]=!1,f.nutrition=b;var g;c(),f.updateMenuOffering=e}function PromoListCtrl(a,b,c,d,e,f){function g(){a.get("/promos/recently_visited").success(function(a){l.recent_promos=a}),e.hasPermission("brands_filter")||(l.fieldNames.operator_owned={columnName:"Editable"})}function h(){b.path("/promo/create")}function i(){if(l.search.submit=!0,l.search_form.$valid){l.search.initial_search=!0,l.search.processing=!0;var a={search_text:l.search.text,active_only:l.search.active_only,promo_type:l.search.promo_type};l.searchParams=f.mergeObject(l.searchParams,a)}}function j(d){e.hasPermission("edit_promo")?a.get("/set_edit_promo/"+d.promo_id).success(function(a){b.path("/promo/edit")}):"Y"==d.operator_owned?a.get("/set_edit_promo/"+d.promo_id).success(function(a){b.path("/promo/edit")}):c.swal({title:"Promo "+d.promo_id+" Description",text:d.full_description,type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"})}function k(){return l.search.paginatedResult.data&&(l.search.paginatedResult.data.length>0||l.search.processing)?"hide-recently-visited-panel":""}var l=this;l.recent_promos=[],l.search={},l.search.paginatedResult={},l.search.paginatedResult.data=[],l.search.text="",l.order_by="Promo.modified",l.search.active_only=!0,l.search.processing=!1,l.new_brand={},l.user_service=e,l.promo_type_options=d.promo_types.slice(0),l.promo_type_options.push({code:-1,value:"All"}),l.search.promo_type=-1,l.fieldNames={promo_id:{columnName:"Promo ID","class":"fix-table-wrap"},promo_key_word:{columnName:"Keyword"},start_date:{columnName:"Start Day","class":"fix-table-wrap"},end_date:{columnName:"End Day","class":"fix-table-wrap"},description:{columnName:"Description"},promo_type:{columnName:"Promo Type"},active:{columnName:"Active"}},l.createNewPromo=h,l.promoSearch=i,l.viewPromo=j,l.hasSearchResult=k,g(),l.searchParams={search_text:l.search.text,active_only:l.search.active_only,promo_type:l.search.promo_type}}function ReportsCtrl(a,b,c,d,e,f,g,h,i,j,k,l){function m(){r.selectedGroupBy=null}function n(a,b){return b===a?"btn-success":"btn-default"}function o(){r.merchant_custom_subset?(r.custom_reports_filter_type="merchant",j.merchantGroupLoad()):r.custom_reports_filter_type="brand"}function p(){r.enableMerchantGroups=!0,0==r.merchant_search.selectable_merchant_groups.length&&r.merchant_search.merchantGroupSearch()}function q(){h.getUserSessionInfo().then(function(a){h.hasPermission("brands_filter")&&l.getAllBrands().success(function(a){r.brands=a}),"brand"===h.visibility&&(r.custom_reports_filter_type="brand",r.custom_brand_filter=h.user_related_data.brand_id),"operator"===h.visibility&&(r.custom_reports_filter_type="merchant",r.merchant_search.selected_merchants=[h.operator_merchant])})}var r=this;r.merchant_search=j,r.filter_type="brand",r.custom_reports_filter_type="brand",r.brands=[],r.merchant_custom_subset=!1,r.user=h,r.enableMerchantGroups=!1,r.propertyName="name",r.summary=void 0,r.reverse=!1,r.sortBy=function(a){r.reverse=r.propertyName===a?!r.reverse:!1,r.propertyName=a},r.brands=[],r.filterTypeClass=n,r.merchantCustomSubsetChange=o,r.time_periods=d.time_periods,r.current_time_period="today",r.reportTypes=[{desc:"Sales",key:"transactions"},{desc:"Menu Item Sales",key:"sales_by_menu_items"},{desc:"All Orders",key:"all_orders"},{desc:"Customer Activity",key:"customers"},{desc:"Statements",key:"statements_report"},{desc:"Store Settings",key:"store_settings"},{desc:"Promos",key:"promo"}],r.orderBy=[],r.selectedReportType=null,r.processing=!1,r.exporting=!1,r.selectedGroupBy=null,r.dataList=null,r.dataRequest=null,r.onReportTypeChanged=m,r.switchToMerchantGroups=p,q()}function BrandCreateCtrl(a,b,c,d,e){function f(){m.new_brand={},m.new_brand.active=!0,m.new_brand.allows_tipping=!0,m.new_brand.nutrition_flag=!1,m.new_brand.production=!0,m.new_brand.last_orders_displayed="",m.new_brand.support_email="",m.new_brand.allows_in_store_payments=!0,m.new_brand.last_orders_displayed=1,m.new_brand.order_delivery_methods=[],m.new_brand.payment_types=[],m.new_brand.default_url_customized=!1,d.setSelectionsNew()}function g(){m.new_brand.submit=!0,h(),i(),m.new_brand_form.$valid&&(m.new_brand.processing=!0,m.error=!1,a.post("/brand/create",m.new_brand).success(function(a){m.new_brand.processing=!1,m.new_brand.submit=!1,b.swal({title:"The new "+m.new_brand.name+" brand has been created!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great!"},function(){e.path("brands")})})["catch"](function(a){m.new_brand.processing=!1,m.new_brand.submit=!1,m.error=!0}))}function h(){m.brand_lookup.all_selections.order_del_type.selected.length>0?(m.new_brand_form.production.$setValidity("order_del_types",!0),m.new_brand.order_delivery_methods=m.brand_lookup.all_selections.order_del_type.selected):m.new_brand_form.production.$setValidity("order_del_types",!1)}function i(){m.brand_lookup.all_selections.Splickit_Accepted_Payment_Types.selected.length>0?(m.new_brand_form.production.$setValidity("payment_types",!0),m.new_brand.payment_types=m.brand_lookup.all_selections.Splickit_Accepted_Payment_Types.selected):m.new_brand_form.production.$setValidity("payment_types",!1)}function j(){if(!m.new_brand.default_url_customized){var a=m.new_brand.name.replace(/\W/g,"");m.new_brand.default_url=a+".splickit.com"}}function k(){d.setLookupToActive("order_del_type"),$("#lookup-select-modal").modal("toggle")}function l(){d.setLookupToActive("Splickit_Accepted_Payment_Types"),$("#lookup-select-modal").modal("toggle")}var m=this;m.error=!1,f(),m.brand_lookup=d,m.createNewBrand=g,m.updateDefaultUrl=j,m.selectOrderDeliveryMethods=k,m.selectPaymentTypes=l,d.loadCreateLookups()}function WebSkinCreateCtrl(a,b,c,d,e){function f(){a.get("load").then(function(a){m.brands=a.data.brands,m.recently_visited_web_skins=a.data.recently_visited_web_skins,m.user.hasPermission("brands_filter")||(k(m.user.user_related_data.brand_id),m.brand=m.user.user_related_data.brand_id)})}function g(){m.new_web_skin.submit=!0,m.create_new_web_skin_form.$valid&&(m.new_web_skin.processing=!0,m.new_web_skin.brand=m.brand,a.post("create",m.new_web_skin).then(function(a){$("#create-template-modal").modal("toggle"),m.new_web_skin.processing=!1,c.swal({title:"The new "+m.new_web_skin.name+" site version has been initiated!",text:"You will now be taken to our site version configuration tool.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great, let's go!"},function(){b.path("/web_skin/configuration")})},function(a){m.new_menu.error=a.statusText}))}function h(){m.optionCreate&&m.createWebSkin(),m.new_web_skin.submit=!0,!m.optionCreate&&m.create_new_web_skin_form.$valid&&(m.new_web_skin.submit=!0,a.get("get_default_skins").then(function(a){m.templates=a.data}),$("#create-template-modal").modal("toggle"),$("#select-template-modal").modal("toggle"))}function i(){$("#select-template-modal").modal("toggle"),m.new_web_skin_template.skin_name=m.new_web_skin.name,m.new_web_skin_template.template=m.idCheckbox.template,m.new_web_skin_template.brand=m.brand,console.log(m.new_web_skin_template.template),a.post("create_skin_template",m.new_web_skin_template).then(function(a){console.log(a),c.swal({title:"The new "+m.new_web_skin.name+" site version has been initiated!",text:"You will now be taken to our site version configuration tool.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great, let's go!"},function(){b.path("/web_skin/configuration")})},function(a){m.new_web_skin_template.error=a.statusText})}function j(){m.optionCreate=!0,m.idCheckbox={},$("#create-template-modal").modal("toggle")}function k(b){a.get("view_brand_skins/"+b).then(function(a){m.brand_web_skins=a.data,m.selected_brand_name=d.returnOneArrayFieldWithAnotherArrayFieldValue(m.brands,"brand_id","brand_name",b)})}function l(c){a.get("set_web_skin_id/"+c).then(function(a){b.path("/web_skin/configuration")})}var m=this;m.new_web_skin={},m.new_web_skin_template={},m.recently_visited_web_skins=[],m.brand_web_skins=[],m.user=e,console.log(m.user),m.brand=null,m.selected_brand_name="",m.createWebSkin=g,m.viewWebSkins=k,m.viewWebSkin=l,m.createNewOrUseTemplate=h,m.createWebSkinWithTemplate=i,m.openModal=j,m.optionCreate=!0,m.idCheckbox={},f()}function WebSkinConfigurationCtrl(a,b,c,d,e,f,g){function h(){a.get("current").then(function(a){v.configs=a.data;for(var b in v.configs)v.configs[b].child_off_color_fields&&(v.configs[b].off_color=d.getOffColor(v.configs[b].value))})}function i(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null}function j(a){a.color_field?a.color_field?(v.color_pick=a,$("#color-picker-modal").modal("toggle")):(v.current_image=v.image_fields[a.field_name],w=a.field_name,$("#image-modal").modal("toggle")):"primary_logo_url"==a.field_name?(v.current_image=v.image_fields[a.field_name],w=a.field_name,$("#logo-image-modal").modal("toggle")):(v.current_image=v.image_fields[a.field_name],w=a.field_name,$("#image-modal").modal("toggle"))}function k(){d.validColorHex(v.color_pick.value)?(v.configs[v.color_pick.field_name]=v.color_pick,v.configs[v.color_pick.field_name].child_off_color_fields&&(v.configs[v.color_pick.field_name].off_color=d.getOffColor(v.configs[v.color_pick.field_name].value)),v.color_pick.light_dark=s(v.color_pick.value),a.post("color_config",v.color_pick).then(function(a){$("#color-picker-modal").modal("toggle")})):v.color_select_error=!0}function l(){a.post("custom_css_config",{custom_css:v.configs.custom_css.value}).then(function(a){$("#custom-css-modal").modal("hide")})}function m(){o()}function n(){c.swal({title:"Are you sure you want to make this your live web site?",text:"This will update the live, production version of your site that real customers see.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Push Changes"},function(a){a&&p()})}function o(){v.processing_create_skin=!0,a.get("push_skin_preview").then(function(a){v.processing_create_skin=!1,c.swal({title:"Live Website Updated",text:"Your freshly updated website can be viewed",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Preview Skin"},function(){v.ready_for_production=!0,window.open("https://"+a.data.skin.url,"_blank")})})}function p(){v.processing_create_skin=!0,a.get("push_skin_production").then(function(a){v.processing_create_skin=!1,c.swal({title:"Live Website Updated",text:"Your freshly updated website can be viewed",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"View Live Skin"},function(){v.ready_for_production=!0,window.open("https://"+a.data.skin.url,"_blank")})})}function q(a){return a.color_field?a.value:"#666666"}function r(a){return a&&a.color_field?""!=a.color_field?d.colorLuminance(a.value,-.2):void 0:"#666666"}function s(a){var b=d.measureLuminance(a);return 215>b?"#FFFFFF":"#000000"}function t(a){var b,c;return Object.keys(v.configs).length>10?(b=v.configs[a]?d.colorLuminance(v.configs[a].value,-.12):v.configs[a].value,c=v.lightDarkHex(v.configs[a].value),{"background-color":b,color:c}):"#666666"}function u(a){var b=f.upload({url:"/web_skin/logo_image_upload",data:{key:a,image_field:w}});e.image_stage="processing",b.then(function(a){e.image_stage="load";var b=new Date,c=b.getTime();v.configs[w].value=a.data.image_url+"?"+c,$("#logo-image-modal").modal("hide")})}var v=this;v.configs={},v.color_pick={};var w;v.processing_create_skin=!1,v.ready_for_production=!1,v.color_select_error=!1,v.modifyConfig=j,v.saveColor=k,v.iconBg=q,v.iconBorder=r,v.pushWebskinConfirmation=m,v.lightDarkHex=s,v.buttonStyle=t,v.pushWebskinProductionConfirmation=n,v.hexToRgb=i,v.saveCustomCSS=l,e.hero_upload_stage="file_select",e.logo_upload_stage="file_select",v.image_fields={primary_logo_url:{width:121}},v.current_image={},v.current_brand=a.getCurrentBrand(),h(),e.$watch("file",function(){e.file&&(x(e.file[0]),e.hero_upload_stage="crop")}),e.$watch("logo_file",function(){e.logo_file&&u(e.logo_file[0])}),e.main_image_size={w:500,h:300},e.myImage="",e.image_stage="load",e.blockingObject={block:!0},e.uploadFile=function(){e.blockingObject.render(function(b){var f=d.dataURItoBlob(b);a.uploadHeroFile(f).then(function(a){$("#image-modal").modal("hide"),v.configs.hero_image_url.value=a.data.image,e.hero_upload_stage="file_select",c.swal({title:"Hero Image Uploaded",text:"Your cropped hero image has been uploaded to the server.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"})})})},e.blockingObject.callback=function(a){};var x=function(a){var b=a,c=new FileReader;c.onload=function(a){e.$apply(function(b){b.myImage=a.target.result})},c.readAsDataURL(b)};angular.element(document.querySelector("#fileInput")).on("change",x)}function CustomerServiceCtrl(a,b,c,d,e){function f(){a.get("/customer_service/index").success(function(a){k.recently_visited_orders=a.recently_visited_orders,k.last_25_orders=a.last_25_orders,k.loading=!1}),e.customer_service&&e.customer_service.previous_search&&(k.searchParams=e.customer_service.previous_search,k.search.text=k.searchParams.search_text,k.search.past_seven_days=k.searchParams.past_seven_days,k.result_orders=[],k.search.result_orders=!0,k.result_merchants=[],k.search.initial_search=!0,k.first_search=!0)}function g(){if(delete e.customer_service,""===k.search.text)return k.first_search=!1,void(k.result_orders=[]);if(k.result_orders=[],k.search.result_orders=!0,k.result_merchants=[],k.search_form.$valid){k.first_search=!0,k.search.processing=!0,k.search.initial_search=!0;var a={search_text:k.search.text,past_seven_days:k.search.past_seven_days};k.searchParams=b.mergeObject(k.searchParams,a),e.customer_service={},e.customer_service.previous_search=k.searchParams}}function h(){return k.loading_offset_dataset?"fifty-opacity":""}function i(b){a.post("/order/set_current",{order_id:b.order_id}).success(function(a){d.current_order=b,c.path("/customer_service/order")})}function j(){return k.search.processing||k.result_orders.length>0?"hide-recently-visited-panel":""}var k=this;k.search={},k.search.past_seven_days=!1,k.search.text="",k.search.processing=!1,k.search.text="",k.result_orders=d.getSearchResults(),k.result_orders=[],k.recently_visited_orders=[],k.total_orders_search_count=0,k.first_search=!1,k.loading=!0,k.loading_offset_dataset=!1,k.searchParams=void 0,k.fieldNames={order_id:{columnName:"Order ID","class":"fix-table-wrap"},first_name:{columnName:"First","class":"text-wrap-word-break"},last_name:{columnName:"Last","class":"text-wrap-word-break"},merchant_id:{columnName:"Merchant ID"},name:{columnName:"Merchant Name","class":"text-wrap-word-break"},address1:{columnName:"Address"},order_qty:{columnName:"Qty"},grand_total:{columnName:"Total"},cash:{columnName:"In Store Payment"},order_type_complete:{columnName:"Order Type"},status:{columnName:"Order Status"},order_dt_tm:{columnName:"Order Date"}},k.searchOrders=g,k.viewOrder=i,k.fiftyOpacityOffset=h,k.hasSearchResult=j,f()}function CustomerServiceOrderCtrl(a,b,c,d,e,f,g){function h(){a.index().then(function(a){r.current_order=a.data.order,r.merchant_message_history=a.data.merchant_message_history,r.refund_order.refund_amount=r.current_order.grand_total})}function i(){r.resend_order={},r.resend_order_form.$setPristine(),r.reassign_order={},r.reassign_order_form.$setPristine(),r.refund_order={},r.refund_order_form.$setPristine(),r.change_status_order={},r.change_order_status_form.$setPristine()}function j(){r.resend_order.submit=!0,r.resend_order_form.$valid&&a.post("resend_order",{new_destination_address:r.resend_order.new_destination_address}).then(function(){$("#resend-order-modal").modal("toggle"),r.resend_order.success=!0,b(i,3500)})}function k(){r.refund_order.user_id=r.current_order.user_id,r.refund_order.submit=!0,r.refund_order_form.$valid&&(r.refund_error=!1,a.refundOrder(r.refund_order).then(function(a){a.data.error?(r.refund_error=!0,r.refund_error_message=a.data.smaw_response.error_message):($("#refund-order-modal").modal("toggle"),r.refund_order.success=!0,r.current_order.refund_note=r.refund_order.note,g.swal({title:"Order has been refunded!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"}),b(i,3500))}))}function l(){r.change_status_order.submit=!0,r.change_order_status_form.$valid&&a.post("change_order_status",{new_status:r.change_status_order.new_status}).then(function(a){r.change_status_message=a.data.message,$("#send-now-modal").modal("toggle"),r.change_status_order.success=!0,b(i,3500)})}function m(){r.order_detail_loading&&a.get("order_detail").then(function(a){r.order_detail=a.data,r.order_detail_loading=!1})}function n(a){return c.formatPhone(a)}function o(a){d.post("/customer_service/set_current_user",{user_id:a.user_id}).success(function(a){e.path("/customer_service/user")})}function p(a){f.setCurrentMerchant(a.merchant_id).then(function(a){e.path("/merchant/general_info")})}function q(a){r.merchant_message_response=a,$("#merchant-message-response-modal").modal("show")}var r=this;r.current_order={},r.resend_order={},r.change_status_order={},r.refund_order={},r.change_status_message={},r.merchant_message_history=[],r.order_detail={},r.order_detail_loading=!0,r.refund_error=!1,r.refund_error_message="",r.merchant_message_response="",h(),r.resendOrder=j,r.refundOrder=k,r.changeOrderStatus=l,r.getOrderDetail=m,r.formatPhone=n,r.viewUser=o,r.viewMerchant=p,r.viewMerchantMessageResponse=q,r.statuses=[{id:"E",name:"Executed"},{id:"C",name:"Cancelled"},{id:"G",name:"G Status"},{id:"T",name:"T Status"},{id:"N",name:"N Status"},{id:"Y",name:"Y Status"}]}function CustomerServiceUserCtrl(a,b,c,d,e,f){function g(){e.getUserSessionInfo().then(function(a){return e.hasPermission("brands_filter")?void 0:void(A.loyalty.brand_id=a.user_related_data.brand_id)})["catch"](function(){console.log("unable to get the current user")}),a.get("/current_user").success(function(a){A.current_user=a,A.getBrandLoyalty()})}function h(){A.edit_user={},A.edit_user_form.$setPristine()}function i(){A.search.submit=!0,A.search.result_users=!0,A.result_merchants=[],A.search_form.$valid&&(A.search.processing=!0,A.search.initial_search=!0,a.post("/user_search",{search_text:A.search.text}).success(function(a){A.result_users=a.user_records,A.total_search_result_count=a.full_record_count,A.search.processing=!1,A.search.submit=!1}))}function j(a){return b.formatphone(a)}function k(){A.edit_user=A.current_user}function l(){A.edit_user.submit=!0,A.edit_user_form.$valid&&(A.edit_user.processing=!0,a.post("/customer_service/edit_user",A.edit_user).success(function(a){$("#edit-user-modal").modal("toggle"),A.edit_user.processing=!1,A.edit_user.submit=!1,A.edit_user.success=!0,d(h,3500)}))}function m(){A.current_bottom_panel="delivery_addresses",A.delivery_address.loading&&a.get("customer_service/user_delivery_locations").success(function(a){A.delivery_address.loading=!1,A.delivery_address.addresses=a})}function n(){A.current_bottom_panel="order_history",A.order_history.loading&&a.get("customer_service/user_order_history").success(function(a){A.order_history.loading=!1,A.order_history.orders=a})}function o(){A.current_bottom_panel="refund_history",A.refund_history.loading&&a.get("customer_service/refund_history").success(function(a){A.refund_history.loading=!1,A.refund_history.refunds=a})}function p(){A.current_bottom_panel="brand_loyalty_history",A.brand_loyalty_history.loading&&a.get("customer_service/user_brand_loyalty_history").success(function(a){A.brand_loyalty_history.loading=!1,A.brand_loyalty_history.histories=a})}function q(b){return b.details?void(b.details.show=!b.details.show):(b.details={},b.details.show=!0,b.details.loading=!0,void a.post("customer_service/user_brand_loyalty_details",{brand_id:b.brand_id}).success(function(a){b.details.loading=!1,b.details.data=a}))}function r(){A.current_bottom_panel="brand_loyalty",A.brand_loyalty.loading&&a.get("customer_service/user_brand_loyalty").success(function(a){A.brand_loyalty.loading=!1,A.brand_loyalty.details=a})}function s(b){a.post("/order/set_current",{order_id:b.order_id}).success(function(a){c.path("/customer_service/order")})}function t(a){return b.formatPhone(a)}function u(){a.get("user/primary_account").success(function(a){"sucess"==a.result?(A.current_user.primary_loyalty_default=!0,f.swal({title:"The Primary Loyalty Account Has Been Updated.",text:"",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great"})):f.swal({title:"Update Error",text:"There was an error in attempting to update the Primary Loyalty to this User account. Please Contact Splickit to address this issue further.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})})}function v(){$("#blacklist-user-modal").modal("toggle")}function w(){$("#delete-user-modal").modal("toggle")}function x(){A.blacklist_user_form.$valid&&a.post("customer_service/user_blacklist",{blacklist_note:A.blacklist_reason}).success(function(a){$("#blacklist-user-modal").modal("hide");var c="The user account "+A.current_user.user_id+" has been blacklisted.";if(a.other_blacklisted_accounts.length>0){var d=b.convertArrayToGrammarList(a.other_blacklisted_accounts);c=c+" The user accounts "+d+" that share the same contact no as "+A.current_user.user_id+" were also blacklisted."}f.swal({title:"User Blacklisted",text:c,type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"})})["catch"](function(a){console.log(a.data),A.loyalty.error=a.data})}function y(){a.post("customer_service/user_delete",{"delete":!0}).success(function(a){$("#delete-user-modal").modal("hide");var b;"success"==a.status?(b="The user account "+A.current_user.user_id+" has been deleted.",f.swal({title:"User Deleted",text:b,type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){c.path("customer_service/users")})):f.swal({title:"Delete Error",text:"There was an error in attempting to delete the user. Please Contact Order140 to address this issue further.",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})})["catch"](function(a){console.log(a.data)})}function z(){f.swal({title:"User Blacklisted!",text:"Blacklist Reason: "+A.current_user.custom_message,type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}var A=this;A.search={},A.search.text="",A.result_users=[],A.recently_visited_users=[],A.current_user={},A.blacklist_reason="",A.edit_user={},A.delivery_address={},A.order_history={},A.refund_history={},A.brand_loyalty={},A.brand_loyalty_details={},A.brand_loyalty_history={},A.delivery_address.loading=!0,A.order_history.loading=!0,A.refund_history.loading=!0,A.brand_loyalty.loading=!0,A.brand_loyalty_details.loading=!0,A.brand_loyalty_history.loading=!0,A.result_pages=[],A.total_search_result_count=0,A.searchusers=i,A.formatphone=j,A.openEditUser=k,A.updateUser=l,A.getDeliveryAddresses=m,A.getOrderHistory=n,A.getRefundHistory=o,A.getBrandLoyaltyHistory=p,A.getLoyaltyDetails=q,A.getBrandLoyalty=r,A.formatPhone=t,A.viewOrder=s,A.setPrimaryLoyaltyAccount=u,A.openBlacklistUser=v,A.blacklistUser=x,A.openDeleteUserPopup=w,A.deleteUser=y,A.showBlackListUserReason=z,A.current_bottom_panel="",A.user_service=e,g(),A.user_loyalty_programs=[],A.loyalty={},A.adjustLoyalty=function(){if(e.hasPermission("brands_filter")){var a=[];A.brand_loyalty.details.forEach(function(b){b.brand_id in a||a.push({brand_id:b.brand_id,brand_name:b.brand.brand_name})}),A.user_loyalty_programs=a,A.loyalty.brand_id=a[0].brand_id}},A.adjustLoyaltySubmit=function(){A.adjust_loyalty_form.$valid&&a.post("customer_service/adjustLoyalty",{brand_id:A.loyalty.brand_id,points:A.loyalty.points,note:A.loyalty.notes}).success(function(a){A.reset(),$("#adjust-loyalty-modal").modal("hide"),A.brand_loyalty.loading=!0,A.getBrandLoyalty()})["catch"](function(a){console.log(a.data),A.loyalty.error=a.data})},A.reset=function(){A.loyalty={},A.adjust_loyalty_form.$setUntouched(),A.adjust_loyalty_form.$setPristine()}}function CustomerServiceLiveOrdersCtrl(a,b,c,d){function e(){g.loading=!0,a.get("live_orders").then(function(a){new Date;g.orders=a.data,g.loading=!1,h=setTimeout(e,1e4)})}function f(b){c.post("/order/set_current",{order_id:b.real_order_id}).success(function(c){a.current_order=b,a.current_order.order_id=b.real_order_id,d.path("/customer_service/order")})}var g=this;g.orders=[],g.loading=!1;var h;g.viewOrder=f,b.$on("$destroy",function(){clearTimeout(h)}),e()}function CustomerServiceUserListCtrl(a,b,c,d,e){function f(){a.get("/recently_visited_users").success(function(a){l.recently_visited_users=a})}function g(){if(l.search.submit=!0,l.search.result_users=!0,l.search_form.$valid){l.search.initial_search=!0;var a={search_text:l.search.text,past_seven_days:l.search.past_seven_days};l.searchParams=b.mergeObject(l.searchParams,a)}}function h(a){return b.formatPhone(a)}function i(b){a.post("/customer_service/set_current_user",{user_id:b.user_id}).success(function(a){c.path("/customer_service/user")})}function j(){return l.loading_offset_dataset?"fifty-opacity":""}function k(){return l.result_users.length>0||l.search.processing?"hide-recently-visited-panel":""}var l=this;l.search={},l.search.text="",l.search.initial_search=!1,l.result_users=d.getSearchResults(),l.recently_visited_users=[],l.total_search_result_count=0,l.users_per_page=20,l.loading_offset_dataset=!1,l.edit_user={},l.searchParams={search_text:l.search.text,past_seven_days:l.search.past_seven_days},l.fieldNames={user_id:{columnName:"User ID","class":"fix-table-wrap"},email:{columnName:"Email","class":"text-wrap-word-break"},first_name:{columnName:"First Name","class":"text-wrap-word-break"},last_name:{columnName:"Last Name"},balance:{columnName:"Balance","class":"text-wrap-word-break"},orders:{columnName:"Orders"},contact_no:{columnName:"Phone"},created:{columnName:"Created"}},l.result_users=[],l.searchUsers=g,l.formatPhone=h,l.viewUser=i,l.fiftyOpacityOffset=j,l.hasSearchResult=k,f()}function CustomerCreateCtrl(a,b,c,d,e,f){function g(){h(),i(),j()}function h(){d.multipleLookup(["state","country","time_zone"]).then(function(a){m.states=a.data.state,m.countries=a.data.country,m.time_zones=a.data.time_zone})}function i(){e.serviceTypes().then(function(a){m.services=a.data})}function j(){e.paymentTypes().then(function(a){m.payments=a.data})}function k(){return m.newLead.submit=!0,window.createForm=m.createForm,m.createForm.$valid?(m.processing=!0,void e.createLead(m.newLead).then(function(a){m.processing=!1,c.swal({title:"Success!",html:"The customer of store: <b>"+m.newLead.store_name+"</b> with contact: <b>"+m.newLead.contact_name+"</b> has been created!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){b.path("/")})})["catch"](function(a){m.processing=!1;var b="An unexpected error occurred! Please try again later.";422==a.status&&(b=f.formatErrors(a.data.errors)),l(b)})):void l("Please fix the errors and properly complete the form before submitting!")}function l(a){c.swal({title:"Error",type:"error",html:a,showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}var m=this;m.initData=g,m.newLead={},m.createForm={},m.processing=!1,m.states=[],m.countries=[],m.time_zones=[],m.services=[],m.payments=[],m.create=k,g(),a.$watch("vm.newLead.offer",function(a,b){return a?void(m.newLead.offer_id=a.originalObject.id):void(m.newLead.offer_id=null)},!0)}function CustomerSalesReportCtrl(a,b,c,d){function e(){f(),g(),k()}function f(){b.multipleLookup(["state","country","time_zone"]).then(function(a){u.states=a.data.state,u.countries=a.data.country,u.time_zones=a.data.time_zone})}function g(){u.processing=!0,c.getLeads(u.startDate?u.startDate.format("YYYY-MM-DD"):null,u.endDate?u.endDate.format("YYYY-MM-DD"):null).then(function(a){u.leads=a.data.data,u.processing=!1,u.errorCount=0,j(),i()})["catch"](function(){u.processing=!1,i(2*++u.errorCount*u.loadTime)})}function h(){d.cancel(u.loadPromise)}function i(a){a=a||u.loadTime,h(),u.loadPromise=d(g,a)}function j(){$("#to_date").data("DateTimePicker").maxDate(moment().add(1,"day"))}function k(){$(function(){$("#from_date").datetimepicker({format:u.dateFormat,icons:u.iconOptions}),$("#to_date").datetimepicker({format:u.dateFormat,icons:u.iconOptions,useCurrent:!1}),$("#from_date").on("dp.change",function(a){$("#to_date").data("DateTimePicker").minDate(a.date),u.startDate=a.date,g()}),$("#to_date").on("dp.change",function(a){$("#from_date").data("DateTimePicker").maxDate(a.date),u.endDate=a.date,g()}),j()})}function l(){u.startDate=null,u.endDate=null}function m(){u.startDate=moment(),u.endDate=moment()}function n(){u.startDate=moment().subtract(1,"day"),u.endDate=moment().subtract(1,"day")}function o(){u.startDate=moment().startOf("week"),u.endDate=moment()}function p(){u.startDate=moment().startOf("week").subtract(1,"week"),
u.endDate=moment().startOf("week").subtract(1,"day")}function q(){u.startDate=moment().startOf("month"),u.endDate=moment()}function r(){u.startDate=moment().startOf("year"),u.endDate=moment()}function s(){m(),$("#from_date").data("DateTimePicker").date(u.startDate),$("#to_date").data("DateTimePicker").date(u.endDate).maxDate(moment().add(1,"day"))}function t(){u.selectedPeriod&&(u.selectedPeriod.func(),g())}var u=this;u.initData=e,u.startDate=moment(),u.endDate=moment(),u.dateFormat="MM/DD/YYYY",u.iconOptions={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-plus",down:"fa fa-minus",next:"fa fa-chevron-right",previous:"fa fa-chevron-left"},u.processing=!1,u.selectedPeriod=null,u.timePeriods=[{desc:"Last 30 Days",key:"last_30",func:l},{desc:"Today",key:"today",func:m},{desc:"Yesterday",key:"yesterday",func:n},{desc:"This Week",key:"current_week",func:o},{desc:"Last Week",key:"previous_week",func:p},{desc:"Month to Date",key:"current_month",func:q},{desc:"Year to Date",key:"current_year",func:r},{desc:"Custom",key:"custom",func:s}],u.loadTime=12e4,u.errorCount=0,u.loadPromise=0,u.onPeriodChanged=t,e(),a.$on("$destroy",function(a){h()})}function CustomerConfirmCtrl(a,b,c,d,e,f,g,h){function i(){o.guid=d.guid,k(),j()}function j(){for(var a=1;13>a;a++)o.months.push(a);var b=new Date,c=b.getFullYear();for(a=c-1;c+16>a;a++)o.years.push(a)}function k(){f.getLead(o.guid).then(function(a){return o.processing=!1,a.data.first_form_completion?void n("This link is no longer valid. The customer was already processed!"):void(o.validGuid=!0)})["catch"](function(){o.processing=!1,n("Invalid customer id. Please verify you are accessing the link that was provided in the email!")})}function l(){return o.customerPlan.submit=!0,m(),o.form.$valid?(o.processing=!0,void o.stripeGenerateToken().then(function(a){o.customerPlan.token=a.token,g.createMerchant(o.guid,o.customerPlan).then(function(a){b.safeApply(function(){o.processing=!1});var d=a.data.charge.amount;d/=100,e.swal({title:"Success!",html:"Thank you for signing up for our online services. You paid: $"+d+". Further instructions were sent to your provided email address.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){c.location.href="http://splickit.com/"})})["catch"](function(a){console.log(a),o.processing=!1;var b="An unexpected error occurred! Please try again later.";return 422==a.status&&(b=h.formatErrors(a.data.errors)),402==a.status?void e.swal({title:"Your payment was declined",html:a.data.message,type:"error",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"}):void n(b)})})["catch"](function(a){b.safeApply(function(){o.processing=!1}),n(a.message)})):void n("Please properly complete the form before submitting.")}function m(){var a=$("#inviInput")[0];a.focus(),a.blur()}function n(a){e.swal({title:"Error",html:a,type:"error",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}var o=this;o.initData=i,o.customerPlan={},o.form={},o.processing=!0,o.validGuid=!1,o.months=[],o.years=[],o.guid=null,o.create=l,i()}function CustomerSetupCtrl(a,b,c,d,e,f,g){function h(){y.guid=c.guid,document.title="Customer Setup",i()}function i(){e.getLead(y.guid).then(function(a){return y.processing=!1,a.data.first_form_completion?a.data.second_form_completion?void x("This link is no longer valid. The customer was already set up."):void(y.validGuid=!0):void x("This link is invalid. The customer wasn't registered properly, please fill form 1 first.")})["catch"](function(){y.processing=!1,x("Invalid customer id. Please verify you are accessing the link that was provided in the email.")})}function j(){$("#menu_files").click()}function k(){l(y.customerInfo.menu_files),y.imagesPreview=[],y.pdfsPreview=[];for(var b=0;b<y.menuFiles.length;b++){var c=y.menuFiles[b];if("application/pdf"!=c.type)if(t(c)){var d=new FileReader;d.onload=function(b,c){return function(d){a.$apply(function(){y.imagesPreview.push({url:d.target.result,file:b,mainIndex:c})})}}(c,b),d.readAsDataURL(c)}else y.imagesPreview.push({url:"https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_2/img/invalid_file.png",file:c,mainIndex:b});else y.pdfsPreview.push({file:c,thumbnail:"",mainIndex:b})}m()}function l(a){for(var b=0;b<a.length;b++)y.menuFiles.push(a[b])}function m(){document.getElementById("menu_files").value=null,y.customerInfo.menu_files=null}function n(){m(),y.menuFiles=[],y.imagesPreview=[],y.pdfsPreview=[]}function o(a,b,c){y.menuFiles.splice(a,1),p(a),"image"==c&&y.imagesPreview.splice(b,1),"pdf"==c&&y.pdfsPreview.splice(b,1)}function p(a){for(var b=0;b<y.imagesPreview.length;b++){var c=y.imagesPreview[b].mainIndex;c>a&&(y.imagesPreview[b].mainIndex=c-1)}for(var d=0;d<y.pdfsPreview.length;d++){var e=y.pdfsPreview[d].mainIndex;e>a&&(y.pdfsPreview[d].mainIndex=e-1)}}function q(){for(var a=0;a<y.menuFiles.length;a++)if(!r(y.menuFiles[a]))return!1;return!0}function r(a){return a.size<=y.maxSizeBytes}function s(){for(var a=0;a<y.menuFiles.length;a++)if(!t(y.menuFiles[a]))return!1;return!0}function t(a){return-1!=y.validTypes.indexOf(a.type)}function u(a){return r(a)?t(a)?a.name:"File is not in a valid format.":"File is too big."}function v(){return!!y.menuFiles.length&&y.menuFiles.length<=5&&q()&&s()}function w(){return y.customerInfo.submit=!0,y.form.$valid&&v()?(y.processing=!0,void f.uploadMenuFiles(y.guid,y.menuFiles).then(function(a){return y.customerInfo.menu_file_urls=a.data,f.setupCustomer(y.guid,y.customerInfo)}).then(function(a){y.processing=!1,d.swal({title:"Success!",html:"Thank you for setting up your information! The Splickit Team has been notified, we will reach you out soon.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){b.location.href="http://splickit.com/"})})["catch"](function(a){y.processing=!1;var b="An unexpected error occurred! Please try again later.";(422==a.status||400==a.status)&&(b=g.formatErrors(a.data.errors)),x(b)})):void x("Please properly complete the form before submitting.")}function x(a){d.swal({title:"Error",html:a,type:"error",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}var y=this;y.initData=h,y.customerInfo={},y.form={},y.processing=!0,y.validGuid=!1,y.guid=null,y.menuFiles=[],y.imagesPreview=[],y.pdfsPreview=[],y.maxSizeBytes=5242880,y.validTypes=["application/pdf","image/jpg","image/jpeg","image/png","image/bmp"],y.create=w,y.imagesChanged=k,y.openFilesDialog=j,y.clearImages=n,y.removeImage=o,y.sizesAreValid=q,y.fileSizeIsValid=r,y.typesAreValid=s,y.fileTypeIsValid=t,y.fileTitle=u,h()}function UserLoginCtrl(a,b,c,d,e){a.login_failed=!1,a.login_processing=!1,d.$reset(),e.deleteCookie("user_data"),a.logonAttempt=function(){a.login_processing=!0,a.login_failed=!1,b.logOn(a.login).then(function(d){if(1===d.data.status){b.permissions=d.data.permissions,b.operator_merchant_count=d.data.operator_merchant_count;var e=d.data.user.visibility;b.getUserSessionInfo().then(function(a){"operator"===e?c.path("operator/home"):window.location="/"})}else a.login_failed=!0,a.login_processing=!1})["catch"](function(b){a.login_failed=!0,a.login_processing=!1})}}function UsersManageCtrl(a,b,c,d){a.validation=1,a.user_filter_text="",a.submit=!1,a.new_user_processing=!1,a.create_user_success=!1,a.user_service=b,a.users=[],a.roles=[],a.reverse=!1;var e,f;b.getAllUsers().then(function(b){a.users=b.data.users,a.roles=b.data.roles}),a.test=function(){c.swal("Good job! you know how to make a click.","You clicked the button!","success")},a.deleteUserDialog=function(b,c){e=b,f=c,a.delete_user_name=b.first_name+" "+b.last_name,$("#delete-user-modal").modal("show")},a.confirmDeleteUser=function(){b["delete"](e.id).then(function(c){a.user_filter_text="",a.users=[],b.getAllUsers().then(function(b){a.users=b.data}),$("#delete-user-modal").modal("toggle")})};var g;a.openEditUserModal=function(b,c){console.log(b),a.edit_user_old=b,a.edit_user_new=Object.assign({},b),g=c,$("#edit-user-modal").modal("show")},a.editUser=function(){a.edit_user_new.error=void 0,a.user_filter_text="",a.users=[],a.edit_user_form.$valid&&b.editUser(a.edit_user_new).success(function(c){b.getAllUsers().then(function(b){a.users=b.data.users}),$("#edit-user-modal").modal("hide")})["catch"](function(b){a.edit_user_new.error=b.data})},a.logInAsUser=function(){b.logInAsUser(a.edit_user_old.id)},a.filterUsers=function(b){var c=a.user_filter_text;return c&&-1===b.first_name.toLowerCase().indexOf(c.toLowerCase())&&-1===b.last_name.toLowerCase().indexOf(c.toLowerCase())&&-1===b.email.toLowerCase().indexOf(c.toLowerCase())&&-1===b.role_name.toLowerCase().indexOf(c.toLowerCase())&&-1===b.full_name.toLowerCase().indexOf(c.toLowerCase())?!1:!0},a.orderByChange=function(b){a.reverse=a.order_by===b?!a.reverse:!1,a.order_by=b}}function UserCreateCtrl(a,b,c,d,e,f,g,h){function i(){if(v.submit=!0,v.show_selected_merchant_error=!1,("mine_only"===v.new_user.visibility||"operator"===v.new_user.visibility)&&v.new_user.merchants.length<=0)return void(v.show_selected_merchant_error=!0);if(v.create_user_form.$valid){if(v.new_user_processing=!0,v.new_user.selected_brands=[],!v.new_user.password&&!v.new_user.retype_password){var a=f.getRamdomString();v.new_user.password=a,v.new_user.retype_password=a}b.createUser(v.new_user).then(function(a){"success"===a.data?(v.new_user_processing=!1,v.create_user_success=!0,v.success_new_user=v.new_user.first_name+" "+v.new_user.last_name,v.new_user={},v.submit=!1,h.swal({title:"The user "+v.success_new_user+" has been created!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){g.path("users/manage")})):"email_registered"===a.data&&(v.email_exist=!0)})}}function j(a){f.checkIfMerchantIsDuplicated(v.new_user.merchants,a.merchant_id)||v.new_user.merchants.push(a),l(a.merchant_id),v.new_user.merchants=f.sortArrayByPropertyAlpha(v.new_user.merchants,"name")}function k(a){f.checkIfObjectWithAttributeExistsInArray(v.result_merchants,"merchant_id",a)||v.selectable_merchants.push(a),v.selectable_merchants=f.sortArrayByPropertyAlpha(v.selectable_merchants,"name"),m(a.merchant_id)}function l(a){for(var b=0;b<v.selectable_merchants.length;)v.selectable_merchants[b].merchant_id===a&&v.selectable_merchants.splice(b,1),b++}function m(a){for(var b=0;b<v.new_user.merchants.length;)v.new_user.merchants[b].merchant_id===a&&v.new_user.merchants.splice(b,1),b++}function n(){var a=[4,6,7];return-1!==a.indexOf(v.new_user.role)?!0:!1}function o(a){v.new_user.operated_merchant=a}function p(){v.new_user.visibility=f.returnOneArrayFieldWithAnotherArrayFieldValue(b.role_visibility_mapping,"role_id","visibility",v.new_user.role),v.currentRolePermissions=s(v.new_user.role)}function q(){v.selectable_merchants=v.result_merchants;for(var a=0,b=v.selectable_merchants.length;b>a;a++)f.checkIfObjectWithAttributeExistsInArray(v.new_user.merchants,"merchant_id",v.selectable_merchants.merchant_id)&&v.selectable_merchants.splice(a,1)}function r(){v.show_selected_merchant_error=!1,v.result_merchants=[],v.search_text.length>0&&(v.initial_search=!0,v.merchant_search_processing=!0,e.get("/merchant_search_by_property",{params:{search_text:v.search_text}}).success(function(a){d.search_results=a,v.result_merchants=d.getSearchResults(),q(),v.merchant_search_processing=!1}))}function s(a){try{var b=u(v.roles,"id",a);return b?b.permissions_table:[]}catch(c){console.log(c)}return[]}function t(a){var b=u(v.roles,"name",a);return b?!0:!1}function u(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]===c)return a[d];return void 0}var v=this;v.validation=1,v.email_exist=!1,v.new_user={},v.new_user.merchants=[],v.new_user_processing=!0,v.success_new_user="",v.submit=!1,v.create_user_success=!1,v.roles=[],v.user_brands=[],v.visibilities=[],v.selectable_merchants=[],v.merchant_factory=d,v.merchants_filter="",v.search_text="",v.user=b,v.current_user={},v.setPassword=!1,v.currentRolePermissions=[],v.searchMerchantByProperty=r,v.createNewUser=i,v.addMerchant=j,v.removeMerchant=k,v.merchantFilteredUser=n,v.setUserOperatorMerchant=o,v.setVisibility=p,v.getCurrentRolePermissions=s,v.checkEnabledRoles=t,b.createLoad().then(function(a){v.brands=a.data.brands,v.visibilities=a.data.visibilities,v.user_brands=v.brands,v.organizations=a.data.organizations,v.roles=a.data.roles,b.getUserSessionInfo().then(function(a){v.current_user=a,"brand"==v.current_user.user.visibility&&(v.new_user.brand=v.current_user.user_related_data.brand_id),v.new_user_processing=!1})})}function VarsManageCtrl(a,b,c,d){function e(b,c){d["delete"](b.id).then(function(b){a.vars.splice(c,1)})}a.vars=[],d.getAllVars().then(function(b){a.vars=b.data}),a.deleteVar=function(a,b){c.swal({title:"Are you sure you want to remove the value added reseller "+a.name+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Remove"},function(c){c&&e(a,b)})}}function VarCreateCtrl(a,b,c,d){a.validation=1,a.email_exist=!1,a.new_value_added_reseller={},a.success_new_var="",a.roles=[],a.user_brands=[],a.createNewValueAddedReseller=function(){a.new_value_added_reseller.submit=!0,a.create_value_added_reseller_form.$valid&&(a.new_value_added_reseller.processing=!0,d.create(a.new_value_added_reseller,a.new_value_added_reseller).then(function(b){a.new_value_added_reseller.success=!0,a.new_value_added_reseller.processing=!1,a.success_new_var=a.new_value_added_reseller.name,a.create_value_added_reseller_form.name.$faded=!1,a.create_value_added_reseller_form.description.$faded=!1,a.new_user={},a.submit=!1,c(function(){a.new_value_added_reseller.success=!1},3500)}))}}function checkFileSizeIsValid(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.invalidSize=function(a){for(var d=b[0].files,e=parseInt(c.validSize),f=0;f<d.length;f++)if(d[f].size>e)return!1;return!0}}}}function checkFileTypeIsValid(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.invalidType=function(a){for(var c=b[0].files,d=b[0].accept.split(","),e=0;e<c.length;e++)if(-1==d.indexOf(c[e].type))return!1;return!0}}}}function checkMaxFiles(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.maxFiles=function(a){var d=b[0].files.length,e=parseInt(c.maxFiles);return e>=d}}}}function onFileChanged(){return{priority:0,restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=a.$eval(c.onFileChange);b.bind("change",function(){a.safeApply(function(){for(var a=b[0].files,c=[],f=0;f<a.length;f++)c.push(a[f]);d.$setViewValue(c),d.$render(),a.length&&e()})})}}}function checkPhoneValid(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$validators.invalidPhone=function(a){if(a){var b=a.replace(/[^0-9]/g,"");return 10==b.length}return!1}}}}function NavigationRouteController(a){a.$on("$routeChangeStart",function(b,c,d){a.sideBarTemplate=c.sideBar||"merchant",a.navBarTemplate=c.navBar||"default",a.sectionClass=c.section||"accounts"}),a.getSideBarSource=function(a){var b="side-bar.html";return a||(a="merchant"),("none"===a||"blank"===a)&&(b="side-bar/"+a+".html",a="shared"),"modules/"+a+"/"+b},a.getNavBarSource=function(a){var b="nav-bar.html";return a||(a="default"),("none"===a||"default"===a)&&(b="nav-bar/"+a+".html",a="shared"),"modules/"+a+"/"+b},a.getSectionClass=function(){return a.sectionClass+"-section"}}function toDateFilter(){return function(a){return a?moment(a).toDate():a}}function MerchantGroup(a,b){function c(a){i.selected_merchant_groups.push(a),e(a.id),i.selected_merchant_groups=b.sortArrayByPropertyAlpha(i.selected_merchant_groups,"name")}function d(a){b.checkIfObjectWithAttributeExistsInArray(j,"id",a)||i.selectable_merchant_groups.push(a),i.selectable_merchant_groups=b.sortArrayByPropertyAlpha(i.selectable_merchant_groups,"name"),f(a.id)}function e(a){for(var b=0;b<i.selectable_merchant_groups.length;)i.selectable_merchant_groups[b].id==a&&i.selectable_merchant_groups.splice(b,1),b++}function f(a){for(var b=0;b<i.selected_merchant_groups.length;)i.selected_merchant_groups[b].id==a&&i.selected_merchant_groups.splice(b,1),b++}function g(){i.selectable_merchant_groups=j;for(var a=0,c=i.selectable_merchant_groups.length;c>a;a++)b.checkIfObjectWithAttributeExistsInArray(i.selected_merchant_groups,"merchant_id",i.selectable_merchant_groups.merchant_id)&&i.selectable_merchant_groups.splice(a,1)}function h(){j=[],i.initial_search=!0,i.processing=!0,a.post(i.search_url,{search_text:i.search_text}).success(function(a){var b=a;j=b,g(),i.processing=!1})}var i=this;i.selectable_merchant_groups=[],i.selected_merchant_groups=[];var j=[];return i.search_text="",i.search_url="merchant_group/search",i.selected_merchant_group=null,i.processing=!1,i.initial_search=!1,i.merchantGroupSearch=h,i.addGroup=c,i.removeGroup=d,i.propagate_type="subset",i}function OrderManagementCtrl(a,b,c,d,e,f,g,h){function i(){C.loading_orders=!0,I=[],j(C.pending_orders.orders),j(C.active_orders.orders),j(C.completed_orders.orders),j(C.overdue_orders.orders),a.get("/operator/order_management?open_orders="+JSON.stringify(I)).success(function(a){a.valid_operator||h.logOutOnCorruptSession(),C.read_only=a.read_only,H||a.new_order&&(C.new_order_received=!0,C.audio_on&&B()),I=[],C.pending_orders.orders=a.future_messages,C.active_orders.orders=a.current_messages,C.completed_orders.orders=a.past_messages,C.overdue_orders.orders=a.late_messages,C.loading_orders=!1,k(),d.cancel(D),D=d(i,4e4),H=!1}).error(function(){d.cancel(D),h.logOutOnCorruptSession()})}function j(a){var b=0;for(b=a.length-1;b>=0;--b)a[b].show_detail&&I.push(a[b].order_id)}function k(){$("#last-refresh").fadeOut(400,function(){C.last_update=e.getCurrentTime(),$("#last-refresh").fadeIn(400)})}function l(){return i()}function m(b,c,d){a.post("/operator/order_management",b).success(function(a){l()})}function n(a,c,d){b.swal({title:"Warning",text:"Are you sure you want to mark the order "+a.order_id+" as completed?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Complete"},function(b){b&&m(a,c,d)})}function o(){return C.loading_orders?"fifty-opacity":""}function p(a){var b=e.convertArrayObjectsPropertyToArray(a,"mod_name");return e.convertArrayToGrammarList(b)}function q(){}function r(a,b,c){try{g.showNotification(void 0===c?"Splickit - Order Management":c,{body:a,icon:"/img/favicon.ico",autoClose:b})}catch(d){console.log(d)}}function s(a){return a.length>3?a:"D"==a?"Delivery":"R"==a?"Pickup":void 0}function t(){C.new_order_received=!1,C.audio_on&&v()}function u(){return C.new_order_received?"new-order-backdrop":void 0}function v(){d.cancel(G),d.cancel(F),E=!1,w()}function w(){C.audio_on=!0,E=document.getElementById("alert-tone"),E.src="/assets/sounds/45-minutes-of-silence.mp3";var a=E.play();a.then(function(){z()})}function x(){C.audio_on=!1,E=document.getElementById("alert-tone"),E.src="/assets/sounds/45-minutes-of-silence.mp3";var a=E.play();a.then(function(){z()})}function y(){E.src="/assets/sounds/1-second-of-silence.mp3";var a=E.play();a.then(function(){F=d(z,700)})}function z(){E.src="/assets/sounds/45-minutes-of-silence.mp3";var a=E.play();a.then(function(){F=d(y,18e5)}),d.cancel(G)}function A(){E.src="/assets/sounds/1-second-of-silence.mp3";var a=E.play();a.then(function(){G=d(B,700)})}function B(){E.src="/assets/sounds/457430__webs206__webs206-test-audio-online.mp3";var a=E.play();a.then(function(){G=d(A,25e3)}),d.cancel(F)}var C=this;C.pending_orders={},C.pending_orders.open=!0,C.active_orders={},C.active_orders.open=!0,C.completed_orders={},C.completed_orders.open=!0,C.overdue_orders={},C.overdue_orders.open=!0,C.loading_orders=!1,C.read_only=!1,C.new_order_received=!1,C.audio_on=!1,C.pending_orders.orders=[],C.active_orders.orders=[],C.completed_orders.orders=[],C.overdue_orders.orders=[],C.refreshOrders=l,C.completeOrder=m,C.completeOrderConfirm=n,C.fiftyOpacityOffset=o,C.commaAndList=p,C.decodeOrderType=s,C.confirmNewOrderReceived=t,C.confirmNewOrderClass=u,C.turnOnAudio=w,C.turnOffAudio=x,C.silenceAudio=z,C.soundAudio=B;var D,E,F,G,H=!0,I=[];r("You'll be notified when a new order arrives.",void 0),q(),d(function(){$("#over-due-heading").animate({backgroundColor:"#EE4000"},1e3).animate({backgroundColor:"#EE0000"},1e3)},1e3),i(),f.$on("$destroy",function(){clearTimeout(D)})}function OperatorHomeCtrl(a,b,c,d,e,f,g,h){function i(){n.refund_order={},n.refund_order_form.$setPristine(),n.refund_order.employee_name=d.getUserName(),n.daily_summary_data[p].orders[o].refund_success=!1}function j(){d.hasPermission("home_nav")||e.path("operator/order_management"),n.loading_orders=!0,a.get("/operator/home_reporting").success(function(a){n.loading_page=!1,n.current_day=a.current_day_data,console.log(a.device_types),n.device_type_data=a.device_types.chart_values,n.device_type_labels=a.device_types.labels,n.weekly_sales_data=a.weekday_sales.data,n.weekly_sales_labels=a.weekday_sales.labels,n.daily_summary_data=a.daily_data})}function k(b,c){var d={day_date:c};n.daily_summary_data[b].orders_loaded?n.daily_summary_data[b].show_orders=!n.daily_summary_data[b].show_orders:a.post("/operator/daily_summary_orders",d).success(function(a){n.daily_summary_data[b].orders=a,n.daily_summary_data[b].show_orders=!0,n.daily_summary_data[b].orders_loaded=!0})}function l(b,c,d){o=d,p=c,n.current_order=b,n.refund_order.refund_amount=b.grand_total,n.refund_amount_max=b.grand_total,a.post("/operator/set_refund_order",n.current_order).success(function(a){$("#refund-order-modal").modal("toggle")})}function m(){n.refund_order.user_id=n.current_order.user_id,n.refund_order.submit=!0,n.refund_order.order_id=n.current_order.order_id,n.refund_order_form.$valid&&b.refundOrder(n.refund_order).then(function(a){a.data.error?(n.refund_error=!0,n.refund_error_message=a.data.smaw_response.error_message):($("#refund-order-modal").modal("toggle"),n.refund_order.success=!0,c(i,3500))})}var n=this;n.current_day={},n.new_returning_data=[],n.new_returning_labels=[],n.weekly_sales_data=[],n.weekly_sales_labels=[],n.daily_summary_data=[],n.refund_amount_max=0,n.refund_order={},n.refund_order.employee_name=d.getUserName(),n.loading_page=!0,n.showDailyOrders=k,n.openRefundOrder=l,n.refundOrder=m;var o,p;j(),n.order_detail_loading=!1,n.order_detail={},n.viewOrder=function(a){n.order_detail_loading=!0,$("#order-detail-modal").modal("show"),b.setCurrentOrder(a.order_id).success(function(c){b.current_order=a,b.get("order_detail").success(function(a){n.order_detail=a,n.order_detail_loading=!1})["catch"](function(a){n.order_detail_loading=!1})})["catch"](function(a){n.order_detail_loading=!1})},n.formatPhone=function(a){return f.formatPhone(a)},h.$on("current_merchant:updated",function(a,b){j()})}function ngEnter(){return{restrict:"A",require:"ngModel",link:function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter)}),b.preventDefault())})}}}function EmbeddedMerchantSearch(a,b,c){function d(){s.selectable_merchants=[],s.selectable_merchant_groups=[]}function e(){s.selected_merchants=[],s.selected_merchant_groups=[]}function f(){d(),e(),s.result_merchants=[]}function g(a){s.selectable_merchants.splice(s.selectable_merchants.indexOf(a),1),b.checkIfObjectWithAttributeExistsInArray(s.selected_merchants,"merchant_id",a.merchant_id)||s.selected_merchants.push(a)}function h(a){s.selectable_merchant_groups.splice(s.selectable_merchant_groups.indexOf(a),1),b.checkIfObjectWithAttributeExistsInArray(s.selected_merchant_groups,"id",a.id)||s.selected_merchant_groups.push(a)}function i(a){s.processing=!0,r(a.id).success(function(b){s.processing=!1,s.selectable_merchant_groups.splice(s.selectable_merchant_groups.indexOf(a),1),s.selected_merchants=s.selected_merchants.concat(b.merchants),c.safeApply()})}function j(a){s.selected_merchants.splice(s.selected_merchants.indexOf(a),1),b.checkIfObjectWithAttributeExistsInArray(s.selectable_merchants,"merchant_id",a.merchant_id)||s.selectable_merchants.push(a)}function k(a){s.selected_merchant_groups.splice(s.selected_merchant_groups.indexOf(a),1),b.checkIfObjectWithAttributeExistsInArray(s.selectable_merchant_groups,"id",a.id)||s.selectable_merchant_groups.push(a)}function l(){s.selectable_merchants=[],console.log(s.selected_merchants);for(var a=0,c=t.length;c>a;++a){var d=t[a],e=b.checkIfObjectWithAttributeExistsInArray(s.selected_merchants,"merchant_id",d.merchant_id);e||s.selectable_merchants.push(d)}}function m(){t=[],s.initial_search=!0,s.processing=!0,a.post(s.search_url,{search_text:s.search_text}).success(function(a){t=a,l(),s.processing=!1})}function n(b){t=[],s.initial_search=!0,s.processing=!0,a.post(s.search_url,{search_text:s.search_text,brand_id:b,active_only:s.active_only}).success(function(a){t=a,l(),s.processing=!1})}function o(){t=[],s.initial_search=!0,s.processing=!0,a.post("/merchant_search",{search_text:s.search_text}).success(function(a){t=a,l(),s.processing=!1})["catch"](function(){s.processing=!1})}function p(){t=[],s.initial_search=!0,s.processing=!0,a.get("merchant_group").then(function(a){s.selectable_merchant_groups=a.data,s.processing=!1})}function q(){t=[],s.initial_search=!0,s.processing=!0,a.post("merchant_group/search_all",{search_text:s.search_text}).success(function(a){s.selectable_merchant_groups=a,s.processing=!1})}function r(b){return a.get("merchant_group/"+b+"/merchants")}var s=this;s.selectable_merchants=[],s.selectable_merchant_groups=[],s.selected_merchants=[],s.selected_merchant_groups=[];var t=[];return s.search_text="",s.active_only=!1,s.search_url="merchant_menu_search",s.processing=!1,s.initial_search=!1,s.merchantSearch=m,s.addMerchant=g,s.removeMerchant=j,s.merchantSearchGlobal=o,s.merchantSearchByBrand=n,s.merchantGroupSearch=q,s.merchantGroupLoad=p,s.addMerchantGroup=h,s.removeMerchantGroup=k,s.getMerchantsByGroupID=r,s.addMerchantGroupAsMerchants=i,s.clearSelectable=d,s.clearSelected=e,s.clearAll=f,s.propagate_type="subset",s}function Operator(a,b,c){var d=this;return d.operator_merchants=[],d.merchant_filter="",d.current_merchant=!1,d.getMultiOperatorMerchants=function(){a.get("/operator/multi_merchants").then(function(a){d.operator_merchants=a.data})},d.setMerchant=function(b){a.post("merchant/set_current",{merchant_id:b.merchant_id}).then(function(){d.current_merchant=b.merchant_id,c.getProgressComplete()})},d.filterMerchantSelect=function(a){if(d.merchant_filter.length<3)return!0;var b=new RegExp(d.merchant_filter.toUpperCase(),"g");return a.name.toUpperCase().match(b)||a.address1.toUpperCase().match(b)||a.state.toUpperCase().match(b)||a.city.toUpperCase().match(b)||a.merchant_id==d.merchant_filter?!0:!1},d}function MerchantCateringCtrl(a,b,c){function d(){b.getCateringConfiguration().then(function(a){i.catering_info=a.data.catering_info,g()})["catch"](function(a){console.log(a)})}function e(a){i.configuration_form.$valid?(g(),b.saveCateringConfiguration(i.catering_info).then(function(b){h(a),i.catering_info=b.data})["catch"](function(a){console.log(a)})):i.configuration_form.$setSubmitted()}function f(b,c){return a.charactersRemaining(b,c)}function g(){i.catering_info.minimum_tip_percent||(i.catering_info.minimum_tip_percent=0),i.catering_info.min_lead_time_in_hours_from_open_time||(i.catering_info.min_lead_time_in_hours_from_open_time=0)}function h(a){i[a]=!0,setTimeout(function(){i[a]=!1,c.safeApply()},3e3)}var i=this;i.config_processing=!1,i.message_processing=!1,i.payment_types_processing=!1,i.order_dest_processing=!1,i.catering_info={},i.payment_types=["Cash Or Credit Card","Credit Card Only"],i.destination_format=[{id:"E",name:"Email"},{id:"F",name:"Fax"}],i.updateConfiguration=e,i.charactersRemaining=f,d()}function MerchantStatementsCtrl(a){function b(a){if(Object.assign(e.currentStatement,a),e.currentStatement.weekly){var b=[],c=e.currentStatement.weekly.split("\n"),d={Sun:1,Mon:2,Tue:3,Wed:4,Thu:5,Fri:6,Sat:7,Tot:8};c.sort(function(a,b){var c=a.substring(0,3),e=b.substring(0,3);return d[c]-d[e]}),c.forEach(function(a){var c=a.split("	");b.push(c),9===c.length?e.showExtraColumn=!0:e.showExtraColumn=!1}),e.currentStatement.weekly=b}$("#detailsModal").modal("show")}function c(){window.print()}function d(){a.exportStatement(e.searchParams).then(function(a){var b=a.headers(),c="report_"+Date.now()+".csv",d=b["content-type"],e=document.createElement("a");try{var f=new Blob([a.data],{type:d}),g=window.URL.createObjectURL(f);e.setAttribute("href",g),e.setAttribute("download",c);var h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.dispatchEvent(h)}catch(i){console.log(i)}})["catch"](function(a){console.log(a)})}var e=this;e.paginatedStatements={},e.fieldNames={invoice:{columnName:"Invoice Number","class":"fix-table-wrap"},periodByYear:{columnName:"Date Range"},previous_balance:{columnName:"Previous Balance","class":"fix-table-wrap"},net_proceeds:{columnName:"Net Proceeds","class":"fix-table-wrap"},balance:{columnName:"Balance","class":"fix-table-wrap"}},e.searchParams={},e.currentStatement={},e.showPrintableStatement=b,e.printStatementDetails=c,e.exportRecords=d}function LoyaltyConfigurationCtrl(a,b,c,d,e){function f(){b.getBrands().success(function(a){n.brand_list=a}).error(function(a,b){console.log(a)})}function g(){n.fileError=!1,$("#image-modal").modal("show")}function h(){if(n.file&&b.uploadLogo(n.file,n.brand.brand_id).success(function(a){n.logoURL=a.logo_url+"?nocache="+Math.random(),n.file=void 0}).error(function(a,b){console.log(a),n.logoURL=void 0,n.file=void 0}),n.program_setup_form.$valid){var a=c.parseBooleanToStringValues(n.program_setup);b.setBrandConfiguration(n.brand.brand_id,a).success(function(a){n.updateSuccess=!0,e(function(){n.updateSuccess=!1},3e3)}).error(function(a,b){console.log(a),d.swal({title:"Warning",text:"Sorry, something went wrong. Please try again.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Ok"})})}else n.program_setup_form.$submitted=!0}function i(a){a?$("#image-modal").modal("hide"):n.fileError=!0}function j(){n.brandConfigurationLoading=!0,n.fileError=!1,n.logoURL=void 0,n.file=void 0,b.getBrandConfiguration(n.brand.brand_id).success(function(a){var b=c.parseStringBooleanValues(a.brand.loyalty_rule);n.program_setup=b,n.program_setup.rules_info=a.rules_info,n.bonus_points_days_records=a.loyalty_amounts,a.logo_url&&(n.logoURL=a.logo_url+"?nocache="+Math.random()),n.brandConfigurationLoading=!1}).error(function(a,b){console.log(a),n.brandConfigurationLoading=!1})}function k(){n.advanced_setup={},n.advanced_setup_form.$setPristine(),n.advanced_setup_form.$setUntouched(),$("#point-days-selector").modal("show")}function l(){n.advanced_setup_form.$valid&&($("#point-days-selector").modal("hide"),b.setBonusPointsDays(n.brand.brand_id,n.advanced_setup).success(function(a){n.bonus_points_days_records=a.loyalty_amounts}).error(function(a,b){console.log(a)}))}function m(a){d.swal({title:"Warning.",text:"Are you sure you want to remove the bonus points day record?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Remove"},function(c){c&&b.deleteBonusPointsDays(n.brand.brand_id,a.id).success(function(a){n.bonus_points_days_records=a.loyalty_amounts}).error(function(a,b){console.log(a)})}),event.stopPropagation()}var n=this;n.program_setup={},n.advanced_setup={},n.brand_list=[],n.program_types=[{name:"Splickit Cliff",id:"splickit_cliff"},{name:"Splickit Earn",id:"splickit_earn"}],n.bonus_points_days=[{name:"Monday",id:"Monday"},{name:"Tuesday",id:"Tuesday"},{name:"Wednesday",id:"Wednesday"},{name:"Thursday",id:"Thursday"},{name:"Friday",id:"Friday"},{name:"Saturday",id:"Saturday"},{name:"Sunday",id:"Sunday"}],n.bonus_points_days_records=[],n.fileError=!1,n.brandConfigurationLoading=!1,n.updateSuccess=!1,n.showImageModal=g,n.submitInformation=h,n.isValidLogo=i,n.loadBrandConfiguration=j,n.openPointDaysSelector=k,n.addBonusPointsDays=l,n.deleteBonusPointsDays=m,f()}function CustomerServiceTbdCtrl(a,b,c){function d(){if(g.search_form.$valid){g.search.initial_search=!0;var b={search_text:g.search.text
};g.searchParams=a.mergeObject(g.searchParams,b)}}function e(b){return a.formatPhone(b)}function f(){return g.result_users.length>0||g.search.processing?"hide-recently-visited-panel":""}var g=this;g.search={},g.search.processing=!1,g.search.text="",g.searchParams={search_text:"",order_by:"created"},g.fieldNames={created:{columnName:"Date","class":"fix-table-wrap"},location:{columnName:"Location"},phone_number:{columnName:"Phone Number"},amount:{columnName:"Amount"}},g.result_users={},g.hasSearchResult=f,g.formatPhone=e,g.search=d}function FutureOrdersCtrl(a,b,c,d,e){function f(){l.processing=!0,c.get("/future_orders/recently_visited").success(function(a){l.recently_visited_orders=a}).error(function(a,b){console.log(a)})}function g(){h("")}function h(a){var c={search_text:a};l.searchParams=b.mergeObject(l.searchParams,c)}function i(a){c.post("/order/set_current",{order_id:a.order_id}).success(function(b){d.current_order=a,e.path("/customer_service/order")})}function j(){h(l.search_text)}function k(){return l.processing||l.orders.length>0?"hide-recently-visited-panel":""}var l=this;l.processing=!1,l.fieldNames={order_id:{columnName:"Order ID","class":"fix-table-wrap"},first_name:{columnName:"First","class":"text-wrap-word-break"},last_name:{columnName:"Last","class":"text-wrap-word-break"},merchant_id:{columnName:"Merchant ID"},name:{columnName:"Merchant Name","class":"text-wrap-word-break"},address1:{columnName:"Address"},order_qty:{columnName:"Qty"},grand_total:{columnName:"Total"},cash:{columnName:"In Store Payment"},order_type_complete:{columnName:"Order Type"},order_dt_tm:{columnName:"Order Date"},pickup_dt_tm:{columnName:"Due Date"}},l.searchParams={search_text:""},l.recently_visited_orders=[],l.viewOrder=i,l.refresh=g,l.searchOrders=j,l.hasSearchResult=k,f()}if(MerchantListCtrl.$inject=["$scope","$http","UtilityService","$location","Merchant","Users","SweetAlert","$localStorage","$translate"],MerchantCreateCtrl.$inject=["$http","$scope","Lookup","$location","$translate","Users","Upload","SweetAlert"],MerchantContactCtrl.$inject=["Merchant","$timeout","UtilityService","$translate","$scope"],MerchantHoursCtrl.$inject=["Merchant","$timeout","UtilityService","SweetAlert","$filter","$scope"],MerchantTaxCtrl.$inject=["Merchant","$timeout","$scope"],MerchantDeliveryCtrl.$inject=["Merchant","$timeout","UtilityService","Lookup","GoogleMaps","$q","$translate","$http","SweetAlert"],MerchantOrderSendCtrl.$inject=["$scope","Merchant","Lookup","UtilityService"],MerchantSearchCtrl.$inject=["$http","$scope","SearchResults","$location","UtilityService","Merchant","$translate"],MerchantNavBarCtrl.$inject=["$scope","$location","$http","Merchant","Users"],MenuListCtrl.$inject=["$scope","$location","Menu","$http","SweetAlert","Brands","Merchant","Users","$localStorage"],MenuSectionsCtrl.$inject=["Menu","$timeout","UtilityService","SweetAlert"],MenuItemListCtrl.$inject=["Menu","$timeout","$location","SweetAlert","$http","$anchorScroll","MenuSectionFactory","UtilityService"],MenuItemCtrl.$inject=["Menu","UtilityService","SweetAlert","$location","Upload","$scope","Lookup","EmbeddedMerchantSearch","MerchantGroup","$http","$route","$timeout","$rootScope"],MenuSectionCtrl.$inject=["MenuSectionFactory","$timeout","$location","SweetAlert","$http","Menu","$scope","Upload","UtilityService"],MenuModifierItemCtrl.$inject=["Menu","UtilityService","SweetAlert","$location","$scope","EmbeddedMerchantSearch","MerchantGroup","$http"],MenuEditCtrl.$inject=["Menu","$timeout","$scope","Users","SweetAlert","UtilityService","MenuItem","$location","$routeParams","Merchant","$localStorage","$http"],MenuOverviewReportCtrl.$inject=["Menu","$timeout","$scope","Users","$http"],MenuUpsellListCtrl.$inject=["Menu","SweetAlert","$location","$timeout"],MenuUpsellCreateCtrl.$inject=["Menu","UtilityService","SweetAlert","$location"],MenuCartUpsellListCtrl.$inject=["Menu","SweetAlert","$location","$timeout"],MenuCartUpsellCreateCtrl.$inject=["Menu","UtilityService","SweetAlert","$location"],MenuSearchCtrl.$inject=["$scope","Menu"],MenuNutritionGridCtrl.$inject=["$timeout","Nutrition"],PromoListCtrl.$inject=["$http","$location","SweetAlert","Promos","Users","UtilityService"],ReportsCtrl.$inject=["$scope","$filter","$compile","Reports","CustomersReportService","TransactionsReportService","SweetAlert","Users","$http","EmbeddedMerchantSearch","UtilityService","Brands"],BrandCreateCtrl.$inject=["$http","SweetAlert","Lookup","BrandLookup","$location"],WebSkinCreateCtrl.$inject=["WebSkin","$location","SweetAlert","UtilityService","Users"],WebSkinConfigurationCtrl.$inject=["WebSkin","$location","SweetAlert","UtilityService","$scope","Upload","Menu"],CustomerServiceCtrl.$inject=["$http","UtilityService","$location","Order","$localStorage"],CustomerServiceOrderCtrl.$inject=["Order","$timeout","UtilityService","$http","$location","Merchant","SweetAlert"],CustomerServiceUserCtrl.$inject=["$http","UtilityService","$location","$timeout","Users","SweetAlert"],CustomerServiceLiveOrdersCtrl.$inject=["Order","$scope","$http","$location"],CustomerServiceUserListCtrl.$inject=["$http","UtilityService","$location","SplickitUser","SweetAlert"],CustomerCreateCtrl.$inject=["$scope","$location","SweetAlert","Lookup","Leads","UtilityService"],CustomerSalesReportCtrl.$inject=["$scope","Lookup","Leads","$timeout"],CustomerConfirmCtrl.$inject=["$scope","$rootScope","$window","$routeParams","SweetAlert","Leads","Prospects","UtilityService"],CustomerSetupCtrl.$inject=["$scope","$window","$routeParams","SweetAlert","Leads","Prospects","UtilityService"],UserLoginCtrl.$inject=["$scope","Users","$location","$localStorage","Cookie"],UsersManageCtrl.$inject=["$scope","Users","SweetAlert","$location"],UserCreateCtrl.$inject=["$scope","Users","$timeout","Merchant","$http","UtilityService","$location","SweetAlert"],VarsManageCtrl.$inject=["$scope","Users","SweetAlert","Var"],VarCreateCtrl.$inject=["$scope","Users","$timeout","Var"],NavigationRouteController.$inject=["$scope"],MerchantGroup.$inject=["$http","UtilityService"],OrderManagementCtrl.$inject=["$http","SweetAlert","$interval","$timeout","UtilityService","$scope","webNotification","Users"],OperatorHomeCtrl.$inject=["$http","Order","$timeout","Users","$location","UtilityService","Operator","$scope"],EmbeddedMerchantSearch.$inject=["$http","UtilityService","$rootScope"],Operator.$inject=["$http","Users","Merchant"],MerchantCateringCtrl.$inject=["UtilityService","MerchantCatering","$rootScope"],MerchantStatementsCtrl.$inject=["StatementService"],LoyaltyConfigurationCtrl.$inject=["$http","Loyalty","UtilityService","SweetAlert","$timeout"],CustomerServiceTbdCtrl.$inject=["UtilityService","SweetAlert","$http"],FutureOrdersCtrl.$inject=["SweetAlert","UtilityService","$http","Order","$location"],function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=fa.type(a);return"function"===c||fa.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(pa.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return _.call(b,a)>-1!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};return fa.each(a.match(va)||[],function(a,c){b[c]=!0}),b}function g(){X.removeEventListener("DOMContentLoaded",g),a.removeEventListener("load",g),fa.ready()}function h(){this.expando=fa.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ca,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Ba.test(c)?fa.parseJSON(c):c}catch(e){}Aa.set(a,b,c)}else c=void 0;return c}function j(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return fa.css(a,b,"")},i=h(),j=c&&c[3]||(fa.cssNumber[b]?"":"px"),k=(fa.cssNumber[b]||"px"!==j&&+i)&&Ea.exec(fa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,fa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function k(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],c):c}function l(a,b){for(var c=0,d=a.length;d>c;c++)za.set(a[c],"globalEval",!b||za.get(b[c],"globalEval"))}function m(a,b,c,d,e){for(var f,g,h,i,j,m,n=b.createDocumentFragment(),o=[],p=0,q=a.length;q>p;p++)if(f=a[p],f||0===f)if("object"===fa.type(f))fa.merge(o,f.nodeType?[f]:f);else if(La.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ia.exec(f)||["",""])[1].toLowerCase(),i=Ka[h]||Ka._default,g.innerHTML=i[1]+fa.htmlPrefilter(f)+i[2],m=i[0];m--;)g=g.lastChild;fa.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&fa.inArray(f,d)>-1)e&&e.push(f);else if(j=fa.contains(f.ownerDocument,f),g=k(n.appendChild(f),"script"),j&&l(g),c)for(m=0;f=g[m++];)Ja.test(f.type||"")&&c.push(f);return n}function n(){return!0}function o(){return!1}function p(){try{return X.activeElement}catch(a){}}function q(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)q(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=o;else if(!e)return a;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),a.each(function(){fa.event.add(this,b,e,d,c)})}function r(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function t(a){var b=Sa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function u(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(za.hasData(a)&&(f=za.access(a),g=za.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}Aa.hasData(a)&&(h=Aa.access(a),i=fa.extend({},h),Aa.set(b,i))}}function v(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ha.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function w(a,b,c,d){b=Z.apply([],b);var e,f,g,h,i,j,l=0,n=a.length,o=n-1,p=b[0],q=fa.isFunction(p);if(q||n>1&&"string"==typeof p&&!da.checkClone&&Ra.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),w(f,b,c,d)});if(n&&(e=m(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=fa.map(k(e,"script"),s),h=g.length;n>l;l++)i=e,l!==o&&(i=fa.clone(i,!0,!0),h&&fa.merge(g,k(i,"script"))),c.call(a[l],i,l);if(h)for(j=g[g.length-1].ownerDocument,fa.map(g,t),l=0;h>l;l++)i=g[l],Ja.test(i.type||"")&&!za.access(i,"globalEval")&&fa.contains(j,i)&&(i.src?fa._evalUrl&&fa._evalUrl(i.src):fa.globalEval(i.textContent.replace(Ta,"")))}return a}function x(a,b,c){for(var d,e=b?fa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||fa.cleanData(k(d)),d.parentNode&&(c&&fa.contains(d.ownerDocument,d)&&l(k(d,"script")),d.parentNode.removeChild(d));return a}function y(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.detach(),d}function z(a){var b=X,c=Va[a];return c||(c=y(a,b),"none"!==c&&c||(Ua=(Ua||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ua[0].contentDocument,b.write(),b.close(),c=y(a,b),Ua.detach()),Va[a]=c),c}function A(a,b,c){var d,e,f,g,h=a.style;return c=c||Ya(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),c&&!da.pixelMarginRight()&&Xa.test(g)&&Wa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function B(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a){if(a in db)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=cb.length;c--;)if(a=cb[c]+b,a in db)return a}function D(a,b,c){var d=Ea.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+Fa[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Fa[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Fa[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Fa[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Fa[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ya(a),g="border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=A(a,b,f),(0>e||null==e)&&(e=a.style[b]),Xa.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=za.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ga(d)&&(f[g]=za.access(d,"olddisplay",z(d.nodeName)))):(e=Ga(d),"none"===c&&e||za.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return a.setTimeout(function(){eb=void 0}),eb=fa.now()}function J(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Fa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function K(a,b,c){for(var d,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ga(a),p=za.get(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k="none"===j?za.get(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===fa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],gb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}else j=void 0;if(fa.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=za.access(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;za.remove(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=N.prefilters.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=eb||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{},easing:fa.easing._default},c),originalProperties:b,originalOptions:c,startTime:eb||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);g>f;f++)if(d=N.prefilters[f].call(j,a,k,j.opts))return fa.isFunction(d.stop)&&(fa._queueHooks(j.elem,j.opts.queue).stop=fa.proxy(d.stop,d)),d;return fa.map(k,K,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return a.getAttribute&&a.getAttribute("class")||""}function P(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(va)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Q(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ab;return e(b.dataTypes[0])||!f["*"]&&e("*")}function R(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&fa.extend(!0,a,d),a}function S(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function T(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function U(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Eb.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var W=[],X=a.document,Y=W.slice,Z=W.concat,$=W.push,_=W.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da={},ea="2.2.4",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return fa.each(this,a)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(fa.isPlainObject(d)||(e=fa.isArray(d)))?(e?(e=!1,f=c&&fa.isArray(c)?c:[]):f=c&&fa.isPlainObject(c)?c:{},g[b]=fa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!fa.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ca.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;d>e&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):$.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:_.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;e>g;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return Z.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),fa.isFunction(a)?(d=Y.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Y.call(arguments)))},e.guid=a.guid=a.guid||fa.guid++,e):void 0},now:Date.now,support:da}),"function"==typeof Symbol&&(fa.fn[Symbol.iterator]=W[Symbol.iterator]),fa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(q){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(xa){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;
return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ia.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.uniqueSort=fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&fa(a).is(c))break;d.push(a)}return d},ma=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},na=fa.expr.match.needsContext,oa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pa=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;c>b;b++)if(fa.contains(e[b],this))return!0}));for(b=0;c>b;b++)fa.find(a,e[b],d);return d=this.pushStack(c>1?fa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&na.test(a)?fa(a):a||[],!1).length}});var qa,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,sa=fa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||qa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ra.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),oa.test(d[1])&&fa.isPlainObject(b))for(d in b)fa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=X.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=X,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?void 0!==c.ready?c.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};sa.prototype=fa.fn,qa=fa(X);var ta=/^(?:parents|prev(?:Until|All))/,ua={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=na.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?_.call(fa(a),this[0]):_.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.uniqueSort(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return la(a,"parentNode")},parentsUntil:function(a,b,c){return la(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return la(a,"nextSibling")},prevAll:function(a){return la(a,"previousSibling")},nextUntil:function(a,b,c){return la(a,"nextSibling",c)},prevUntil:function(a,b,c){return la(a,"previousSibling",c)},siblings:function(a){return ma((a.parentNode||{}).firstChild,a)},children:function(a){return ma(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ua[a]||fa.uniqueSort(e),ta.test(a)&&e.reverse()),this.pushStack(e)}});var va=/\S+/g;fa.Callbacks=function(a){a="string"==typeof a?f(a):fa.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function d(b){fa.each(b,function(b,c){fa.isFunction(c)?a.unique&&k.has(c)||g.push(c):c&&c.length&&"string"!==fa.type(c)&&d(c)})}(arguments),c&&!b&&j()),this},remove:function(){return fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,g,c))>-1;)g.splice(c,1),i>=c&&i--}),this},has:function(a){return a?fa.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=h=[],c||(g=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(X,[fa]),fa.fn.triggerHandler&&(fa(X).triggerHandler("ready"),fa(X).off("ready"))))}}),fa.ready.promise=function(b){return wa||(wa=fa.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?a.setTimeout(fa.ready):(X.addEventListener("DOMContentLoaded",g),a.addEventListener("load",g))),wa.promise(b)},fa.ready.promise();var xa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)xa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},ya=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};h.uid=1,h.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!ya(a))return{};var b=a[this.expando];return b||(b={},ya(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,fa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{fa.isArray(b)?d=b.concat(b.map(fa.camelCase)):(e=fa.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(va)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||fa.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!fa.isEmptyObject(b)}};var za=new h,Aa=new h,Ba=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ca=/[A-Z]/g;fa.extend({hasData:function(a){return Aa.hasData(a)||za.hasData(a)},data:function(a,b,c){return Aa.access(a,b,c)},removeData:function(a,b){Aa.remove(a,b)},_data:function(a,b,c){return za.access(a,b,c)},_removeData:function(a,b){za.remove(a,b)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Aa.get(f),1===f.nodeType&&!za.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d])));za.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Aa.set(this,a)}):xa(this,function(b){var c,d;if(f&&void 0===b){if(c=Aa.get(f,a)||Aa.get(f,a.replace(Ca,"-$&").toLowerCase()),void 0!==c)return c;if(d=fa.camelCase(a),c=Aa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else d=fa.camelCase(a),this.each(function(){var c=Aa.get(this,d);Aa.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&Aa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Aa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=za.get(a,b),c&&(!d||fa.isArray(c)?d=za.access(a,b,fa.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return za.get(a,c)||za.access(a,c,{empty:fa.Callbacks("once memory").add(function(){za.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=za.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Fa=["Top","Right","Bottom","Left"],Ga=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ha=/^(?:checkbox|radio)$/i,Ia=/<([\w:-]+)/,Ja=/^$|\/(?:java|ecma)script/i,Ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ka.optgroup=Ka.option,Ka.tbody=Ka.tfoot=Ka.colgroup=Ka.caption=Ka.thead,Ka.th=Ka.td;var La=/<|&#?\w+;/;!function(){var a=X.createDocumentFragment(),b=a.appendChild(X.createElement("div")),c=X.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ma=/^key/,Na=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oa=/^([^.]*)(?:\.(.+)|)/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=fa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof fa&&fa.event.triggered!==b.type?fa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(va)||[""],j=b.length;j--;)h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=fa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=fa.event.special[n]||{},k=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),fa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.hasData(a)&&za.get(a);if(q&&(i=q.events)){for(b=(b||"").match(va)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&za.remove(a,"handle events")}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(za.get(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.rnamespace||a.rnamespace.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((fa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?fa(e,this).index(i)>-1:fa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||X,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=X),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==p()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?n:o):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={constructor:fa.Event,isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.fn.extend({on:function(a,b,c,d){return q(this,a,b,c,d)},one:function(a,b,c,d){return q(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=o),this.each(function(){fa.event.remove(this,a,c,b)})}});var Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qa=/<script|<style|<link/i,Ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^true\/(.*)/,Ta=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fa.extend({htmlPrefilter:function(a){return a.replace(Pa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=k(h),f=k(a),d=0,e=f.length;e>d;d++)v(f[d],g[d]);if(b)if(c)for(f=f||k(a),g=g||k(h),d=0,e=f.length;e>d;d++)u(f[d],g[d]);else u(a,h);return g=k(h,"script"),g.length>0&&l(g,!i&&k(a,"script")),h},cleanData:function(a){for(var b,c,d,e=fa.event.special,f=0;void 0!==(c=a[f]);f++)if(ya(c)){if(b=c[za.expando]){if(b.events)for(d in b.events)e[d]?fa.event.remove(c,d):fa.removeEvent(c,d,b.handle);c[za.expando]=void 0}c[Aa.expando]&&(c[Aa.expando]=void 0)}}}),fa.fn.extend({domManip:w,detach:function(a){return x(this,a,!0)},remove:function(a){return x(this,a)},text:function(a){return xa(this,function(a){return void 0===a?fa.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.appendChild(a)}})},prepend:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(k(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return xa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Qa.test(a)&&!Ka[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=fa.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(k(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return w(this,arguments,function(b){var c=this.parentNode;fa.inArray(this,a)<0&&(fa.cleanData(k(this)),c&&c.replaceChild(b,this))},a)}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),$.apply(d,c.get());return this.pushStack(d)}});var Ua,Va={HTML:"block",BODY:"block"},Wa=/^margin/,Xa=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),Ya=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Za=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},$a=X.documentElement;!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",$a.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,$a.removeChild(g)}var c,d,e,f,g=X.createElement("div"),h=X.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),fa.extend(da,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},pixelMarginRight:function(){return null==d&&b(),e},reliableMarginLeft:function(){return null==d&&b(),f},reliableMarginRight:function(){var b,c=h.appendChild(X.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",$a.appendChild(g),
b=!parseFloat(a.getComputedStyle(c).marginRight),$a.removeChild(g),h.removeChild(c),b}}))}();var _a=/^(none|table(?!-c[ea]).+)/,ab={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:"0",fontWeight:"400"},cb=["Webkit","O","Moz","ms"],db=X.createElement("div").style;fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ea.exec(c))&&e[1]&&(c=j(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(fa.cssNumber[h]?"":"px")),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=A(a,b,d)),"normal"===e&&b in bb&&(e=bb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?_a.test(fa.css(a,"display"))&&0===a.offsetWidth?Za(a,ab,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ya(a),g=d&&E(a,b,d,"border-box"===fa.css(a,"boxSizing",!1,f),f);return g&&(e=Ea.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=fa.css(a,b)),D(a,c,g)}}}),fa.cssHooks.marginLeft=B(da.reliableMarginLeft,function(a,b){return b?(parseFloat(A(a,"marginLeft"))||a.getBoundingClientRect().left-Za(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),fa.cssHooks.marginRight=B(da.reliableMarginRight,function(a,b){return b?Za(a,{display:"inline-block"},A,[a,"marginRight"]):void 0}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Fa[d]+b]=f[d]||f[d-2]||f[0];return e}},Wa.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return xa(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=Ya(a),e=b.length;e>g;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ga(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||fa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[fa.cssProps[a.prop]]&&!fa.cssHooks[a.prop]?a.elem[a.prop]=a.now:fa.style(a.elem,a.prop,a.now+a.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},fa.fx=H.prototype.init,fa.fx.step={};var eb,fb,gb=/^(?:toggle|show|hide)$/,hb=/queueHooks$/;fa.Animation=fa.extend(N,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return j(c.elem,a,Ea.exec(b),c),c}]},tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.match(va);for(var c,d=0,e=a.length;e>d;d++)c=a[d],N.tweeners[c]=N.tweeners[c]||[],N.tweeners[c].unshift(b)},prefilters:[L],prefilter:function(a,b){b?N.prefilters.unshift(a):N.prefilters.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ga).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=N(this,fa.extend({},a),f);(e||za.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=za.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&hb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=za.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),fa.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=0,c=fa.timers;for(eb=fa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||fa.fx.stop(),eb=void 0},fa.fx.timer=function(a){fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){fb||(fb=a.setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){a.clearInterval(fb),fb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(b,c){return b=fa.fx?fa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=X.createElement("input"),b=X.createElement("select"),c=b.appendChild(X.createElement("option"));a.type="checkbox",da.checkOn=""!==a.value,da.optSelected=c.selected,b.disabled=!0,da.optDisabled=!c.disabled,a=X.createElement("input"),a.value="t",a.type="radio",da.radioValue="t"===a.value}();var ib,jb=fa.expr.attrHandle;fa.fn.extend({attr:function(a,b){return xa(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),e=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?ib:void 0)),void 0!==c?null===c?void fa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=fa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(va);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||fa.find.attr;jb[b]=function(a,b,d){var e,f;return d||(f=jb[b],jb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,jb[b]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return xa(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})}}),fa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&fa.isXMLDoc(a)||(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this});var mb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,O(this)))});if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,O(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,O(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=fa(this),f=a.match(va)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(void 0===a||"boolean"===c)&&(b=O(this),b&&za.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":za.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+O(c)+" ").replace(mb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g,ob=/[\x20\t\r\n\f]+/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.trim(fa.text(a)).replace(ob," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>-1:void 0}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;fa.extend(fa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||X],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||X,3!==d.nodeType&&8!==d.nodeType&&!pb.test(n+fa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),l=fa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!fa.isWindow(d)){for(i=l.delegateType||n,pb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||X)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(za.get(g,"events")||{})[b.type]&&za.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&ya(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!ya(d)||j&&fa.isFunction(d[n])&&!fa.isWindow(d)&&(h=d[j],h&&(d[j]=null),fa.event.triggered=n,d[n](),fa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=fa.extend(new fa.Event,c,{type:a,isSimulated:!0});fa.event.trigger(d,null,b)}}),fa.fn.extend({trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),da.focusin="onfocusin"in a,da.focusin||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a))};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=za.access(d,b);e||d.addEventListener(a,c,!0),za.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=za.access(d,b)-1;e?za.access(d,b,e):(d.removeEventListener(a,c,!0),za.remove(d,b))}}});var qb=a.location,rb=fa.now(),sb=/\?/;fa.parseJSON=function(a){return JSON.parse(a+"")},fa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&fa.error("Invalid XML: "+b),c};var tb=/#.*$/,ub=/([?&])_=[^&]*/,vb=/^(.*?):[ \t]*([^\r\n]*)$/gm,wb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xb=/^(?:GET|HEAD)$/,yb=/^\/\//,zb={},Ab={},Bb="*/".concat("*"),Cb=X.createElement("a");Cb.href=qb.href,fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:wb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,fa.ajaxSettings),b):R(fa.ajaxSettings,a)},ajaxPrefilter:P(zb),ajaxTransport:P(Ab),ajax:function(b,c){function d(b,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),e=void 0,g=h||"",w.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(t=S(m,w,d)),t=T(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,(b||!x)&&(x="error",0>b&&(b=0))),w.status=b,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=vb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||qb.href)+"").replace(tb,"").replace(yb,qb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(va)||[""],null==m.crossDomain){j=X.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Cb.protocol+"//"+Cb.host!=j.protocol+"//"+j.host}catch(x){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),Q(zb,m,c,w),2===u)return w;k=fa.event&&m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!xb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(sb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=ub.test(f)?f.replace(ub,"$1_="+rb++):f+(sb.test(f)?"&":"?")+"_="+rb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=Q(Ab,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax(fa.extend({url:a,type:b,dataType:e,data:c,success:d},fa.isPlainObject(a)&&a))}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return!fa.expr.filters.visible(a)},fa.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Db=/%20/g,Eb=/\[\]$/,Fb=/\r?\n/g,Gb=/^(?:submit|button|image|reset|file)$/i,Hb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&").replace(Db,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Hb.test(this.nodeName)&&!Gb.test(a)&&(this.checked||!Ha.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:c.replace(Fb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Ib={0:200,1223:204},Jb=fa.ajaxSettings.xhr();da.cors=!!Jb&&"withCredentials"in Jb,da.ajax=Jb=!!Jb,fa.ajaxTransport(function(b){var c,d;return da.cors||Jb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ib[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),X.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Kb=[],Lb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Kb.pop()||fa.expando+"_"+rb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Lb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Lb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?fa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Kb.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||X;var d=oa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var Mb=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&Mb)return Mb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=fa.trim(a.slice(h)),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&fa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,fa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,fa.contains(b,d)?(e=d.getBoundingClientRect(),c=V(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||$a})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;fa.fn[a]=function(d){return xa(this,function(a,d,e){var f=V(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=B(da.pixelPosition,function(a,c){return c?(c=A(a,b),Xa.test(c)?fa(a).position()[b]+"px":c):void 0})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return xa(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var Nb=a.jQuery,Ob=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=Ob),b&&a.jQuery===fa&&(a.jQuery=Nb),fa},b||(a.jQuery=a.$=fa),fa}),function(){function a(a,b){return a.set(b[0],b[1]),a}function b(a,b){return a.add(b),a}function c(a,b,c){var d=c.length;switch(d){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function d(a,b,c,d){for(var e=-1,f=a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function e(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Array(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function f(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function g(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function h(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function i(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function j(a,b){return!!a.length&&t(a,b,0)>-1}function k(a,b,c){for(var d=-1,e=a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function l(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function m(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function n(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function o(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function p(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function q(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===Y?g===g:c(g,h)))var h=g,i=f}return i}function r(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function s(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function t(a,b,c){if(b!==b)return N(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function u(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function v(a,b){var c=a?a.length:0;return c?y(a,b)/c:ya}function w(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function x(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function y(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==Y&&(c=c===Y?f:c+f)}return c}function z(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function A(a,b){return l(b,function(b){return[b,a[b]]})}function B(a){return function(b){return a(b)}}function C(a,b){return l(b,function(b){return a[b]})}function D(a,b){for(var c=-1,d=a.length;++c<d&&t(b,a[c],0)>-1;);return c}function E(a,b){for(var c=a.length;c--&&t(b,a[c],0)>-1;);return c}function F(a){return a&&a.Object===Object?a:null}function G(a,b){if(a!==b){var c=null===a,d=a===Y,e=a===a,f=null===b,g=b===Y,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function H(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=G(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function I(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&d++;return d}function J(a){return function(b,c){var d;return b===Y&&c===Y?0:(b!==Y&&(d=b),c!==Y&&(d=d===Y?c:a(d,c)),d)}}function K(a){return wc[a]}function L(a){return xc[a]}function M(a){return"\\"+Ac[a]}function N(a,b,c){
for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function O(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function P(a,b){return a="number"==typeof a||Cb.test(a)?+a:-1,b=null==b?wa:b,a>-1&&a%1==0&&b>a}function Q(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function R(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function S(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];(g===b||g===ba)&&(a[c]=ba,f[e++]=c)}return f}function T(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function U(a){if(!a||!oc.test(a))return a.length;for(var b=nc.lastIndex=0;nc.test(a);)b++;return b}function V(a){return a.match(nc)}function W(a){return yc[a]}function X(F){function Cb(a){if(ch(a)&&!Sk(a)&&!(a instanceof Ib)){if(a instanceof Hb)return a;if(ij.call(a,"__wrapped__"))return Ve(a)}return new Hb(a)}function Gb(){}function Hb(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=Y}function Ib(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=za,this.__views__=[]}function Jb(){var a=new Ib(this.__wrapped__);return a.__actions__=Td(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Td(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Td(this.__views__),a}function Kb(){if(this.__filtered__){var a=new Ib(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Lb(){var a=this.__wrapped__.value(),b=this.__dir__,c=Sk(a),d=0>b,e=c?a.length:0,f=Be(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Hj(i,this.__takeCount__);if(!c||$>e||e==i&&n==i)return Gd(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==ta)q=u;else if(!u){if(t==sa)continue a;break a}}o[m++]=q}return o}function Mb(){}function Nb(a,b){return Pb(a,b)&&delete a[b]}function Ob(a,b){if(Qj){var c=a[b];return c===aa?Y:c}return ij.call(a,b)?a[b]:Y}function Pb(a,b){return Qj?a[b]!==Y:ij.call(a,b)}function Qb(a,b,c){a[b]=Qj&&c===Y?aa:c}function Rb(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Sb(){this.__data__={hash:new Mb,map:Mj?new Mj:[],string:new Mb}}function Tb(a){var b=this.__data__;return Le(a)?Nb("string"==typeof a?b.string:b.hash,a):Mj?b.map["delete"](a):ec(b.map,a)}function Ub(a){var b=this.__data__;return Le(a)?Ob("string"==typeof a?b.string:b.hash,a):Mj?b.map.get(a):fc(b.map,a)}function Vb(a){var b=this.__data__;return Le(a)?Pb("string"==typeof a?b.string:b.hash,a):Mj?b.map.has(a):gc(b.map,a)}function Wb(a,b){var c=this.__data__;return Le(a)?Qb("string"==typeof a?c.string:c.hash,a,b):Mj?c.map.set(a,b):ic(c.map,a,b),this}function Xb(a){var b=-1,c=a?a.length:0;for(this.__data__=new Rb;++b<c;)this.push(a[b])}function Yb(a,b){var c=a.__data__;if(Le(b)){var d=c.__data__,e="string"==typeof b?d.string:d.hash;return e[b]===aa}return c.has(b)}function Zb(a){var b=this.__data__;if(Le(a)){var c=b.__data__,d="string"==typeof a?c.string:c.hash;d[a]=aa}else b.set(a,aa)}function $b(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function _b(){this.__data__={array:[],map:null}}function ac(a){var b=this.__data__,c=b.array;return c?ec(c,a):b.map["delete"](a)}function bc(a){var b=this.__data__,c=b.array;return c?fc(c,a):b.map.get(a)}function cc(a){var b=this.__data__,c=b.array;return c?gc(c,a):b.map.has(a)}function dc(a,b){var c=this.__data__,d=c.array;d&&(d.length<$-1?ic(d,a,b):(c.array=null,c.map=new Rb(d)));var e=c.map;return e&&e.set(a,b),this}function ec(a,b){var c=hc(a,b);if(0>c)return!1;var d=a.length-1;return c==d?a.pop():zj.call(a,c,1),!0}function fc(a,b){var c=hc(a,b);return 0>c?Y:a[c][1]}function gc(a,b){return hc(a,b)>-1}function hc(a,b){for(var c=a.length;c--;)if(Lg(a[c][0],b))return c;return-1}function ic(a,b,c){var d=hc(a,b);0>d?a.push([b,c]):a[d][1]=c}function jc(a,b,c,d){return a===Y||Lg(a,gj[c])&&!ij.call(d,c)?b:a}function kc(a,b,c){(c!==Y&&!Lg(a[b],c)||"number"==typeof b&&c===Y&&!(b in a))&&(a[b]=c)}function lc(a,b,c){var d=a[b];ij.call(a,b)&&Lg(d,c)&&(c!==Y||b in a)||(a[b]=c)}function nc(a,b,c,d){return ak(a,function(a,e,f){b(d,a,c(a),f)}),d}function wc(a,b){return a&&Ud(b,Qh(b),a)}function xc(a,b){for(var c=-1,d=null==a,e=b.length,f=Array(e);++c<e;)f[c]=d?Y:Nh(a,b[c]);return f}function yc(a){return Rg(a)?a:[]}function zc(a){return"function"==typeof a?a:Hi}function Ac(a){return"string"==typeof a||qh(a)?a:a+""}function Dc(a){return Sk(a)?a:kk(a)}function Ec(a,b,c){return a===a&&(c!==Y&&(a=c>=a?a:c),b!==Y&&(a=a>=b?a:b)),a}function Gc(a,b,c,d,e,g,h){var i;if(d&&(i=g?d(a,e,g,h):d(a)),i!==Y)return i;if(!bh(a))return a;var j=Sk(a);if(j){if(i=De(a),!b)return Td(a,i)}else{var k=Ae(a),l=k==Ha||k==Ia;if(Tk(a))return Jd(a,b);if(k==La||k==Ca||l&&!g){if(O(a))return g?a:{};if(i=Ee(l?{}:a),!b)return Wd(a,wc(i,a))}else{if(!vc[k])return g?a:{};i=Fe(a,k,Gc,b)}}h||(h=new $b);var m=h.get(a);if(m)return m;if(h.set(a,i),!j)var n=c?re(a):Qh(a);return f(n||a,function(e,f){n&&(f=e,e=a[f]),lc(i,f,Gc(e,b,c,d,f,a,h))}),i}function Hc(a){var b=Qh(a),c=b.length;return function(d){if(null==d)return!c;for(var e=c;e--;){var f=b[e],g=a[f],h=d[f];if(h===Y&&!(f in Object(d))||!g(h))return!1}return!0}}function Ic(a){return bh(a)?wj(a):{}}function Jc(a,b,c){if("function"!=typeof a)throw new ej(_);return yj(function(){a.apply(Y,c)},b)}function Mc(a,b,c,d){var e=-1,f=j,g=!0,h=a.length,i=[],m=b.length;if(!h)return i;c&&(b=l(b,B(c))),d?(f=k,g=!1):b.length>=$&&(f=Yb,g=!1,b=new Xb(b));a:for(;++e<h;){var n=a[e],o=c?c(n):n;if(g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;i.push(n)}else f(b,o,d)||i.push(n)}return i}function Nc(a,b){var c=!0;return ak(a,function(a,d,e){return c=!!b(a,d,e)}),c}function Oc(a,b,c,d){var e=a.length;for(c=yh(c),0>c&&(c=-c>e?0:e+c),d=d===Y||d>e?e:yh(d),0>d&&(d+=e),d=c>d?0:zh(d);d>c;)a[c++]=b;return a}function Pc(a,b){var c=[];return ak(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Qc(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=He),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?Qc(h,b-1,c,d,e):m(e,h):d||(e[e.length]=h)}return e}function Rc(a,b){return a&&ck(a,b,Qh)}function Sc(a,b){return a&&dk(a,b,Qh)}function Tc(a,b){return i(b,function(b){return $g(a[b])})}function Uc(a,b){b=Ke(b,a)?[b]:Dc(b);for(var c=0,d=b.length;null!=a&&d>c;)a=a[b[c++]];return c&&c==d?a:Y}function Vc(a,b,c){var d=b(a);return Sk(a)?d:m(d,c(a))}function Wc(a,b){return ij.call(a,b)||"object"==typeof a&&b in a&&null===ye(a)}function Xc(a,b){return b in Object(a)}function Yc(a,b,c){return a>=Hj(b,c)&&a<Gj(b,c)}function Zc(a,b,c){for(var d=c?k:j,e=a[0].length,f=a.length,g=f,h=Array(f),i=1/0,m=[];g--;){var n=a[g];g&&b&&(n=l(n,B(b))),i=Hj(n.length,i),h[g]=!c&&(b||e>=120&&n.length>=120)?new Xb(g&&n):Y}n=a[0];var o=-1,p=h[0];a:for(;++o<e&&m.length<i;){var q=n[o],r=b?b(q):q;if(!(p?Yb(p,r):d(m,r,c))){for(g=f;--g;){var s=h[g];if(!(s?Yb(s,r):d(a[g],r,c)))continue a}p&&p.push(r),m.push(q)}}return m}function $c(a,b,c,d){return Rc(a,function(a,e,f){b(d,c(a),e,f)}),d}function _c(a,b,d){Ke(b,a)||(b=Dc(b),a=Se(a,b),b=nf(b));var e=null==a?a:a[b];return null==e?Y:c(e,a,d)}function ad(a,b,c,d,e){return a===b?!0:null==a||null==b||!bh(a)&&!ch(b)?a!==a&&b!==b:bd(a,b,ad,c,d,e)}function bd(a,b,c,d,e,f){var g=Sk(a),h=Sk(b),i=Da,j=Da;g||(i=Ae(a),i=i==Ca?La:i),h||(j=Ae(b),j=j==Ca?La:j);var k=i==La&&!O(a),l=j==La&&!O(b),m=i==j;if(m&&!k)return f||(f=new $b),g||rh(a)?oe(a,b,c,d,e,f):pe(a,b,i,c,d,e,f);if(!(e&na)){var n=k&&ij.call(a,"__wrapped__"),o=l&&ij.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new $b),c(p,q,d,e,f)}}return m?(f||(f=new $b),qe(a,b,c,d,e,f)):!1}function cd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===Y&&!(i in a))return!1}else{var l=new $b;if(d)var m=d(j,k,i,a,b,l);if(!(m===Y?ad(k,j,d,ma|na,l):m))return!1}}return!0}function dd(a){return"function"==typeof a?a:null==a?Hi:"object"==typeof a?Sk(a)?id(a[0],a[1]):hd(a):Pi(a)}function ed(a){return Fj(Object(a))}function fd(a){a=null==a?a:Object(a);var b=[];for(var c in a)b.push(c);return b}function gd(a,b){var c=-1,d=Qg(a)?Array(a.length):[];return ak(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function hd(a){var b=ve(a);return 1==b.length&&b[0][2]?Pe(b[0][0],b[0][1]):function(c){return c===a||cd(c,a,b)}}function id(a,b){return Ke(a)&&Oe(b)?Pe(a,b):function(c){var d=Nh(c,a);return d===Y&&d===b?Ph(c,a):ad(b,d,Y,ma|na)}}function jd(a,b,c,d,e){if(a!==b){if(!Sk(b)&&!rh(b))var g=Rh(b);f(g||b,function(f,h){if(g&&(h=f,f=b[h]),bh(f))e||(e=new $b),kd(a,b,h,c,jd,d,e);else{var i=d?d(a[h],f,h+"",a,b,e):Y;i===Y&&(i=f),kc(a,h,i)}})}}function kd(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void kc(a,c,j);var k=f?f(h,i,c+"",a,b,g):Y,l=k===Y;l&&(k=i,Sk(i)||rh(i)?Sk(h)?k=h:Rg(h)?k=Td(h):(l=!1,k=Gc(i,!0)):lh(i)||Og(i)?Og(h)?k=Bh(h):!bh(h)||d&&$g(h)?(l=!1,k=Gc(i,!0)):k=h:l=!1),g.set(i,k),l&&e(k,i,d,f,g),g["delete"](i),kc(a,c,k)}function ld(a,b,c){var d=-1;b=l(b.length?b:[Hi],ue());var e=gd(a,function(a,c,e){var f=l(b,function(b){return b(a)});return{criteria:f,index:++d,value:a}});return x(e,function(a,b){return H(a,b,c)})}function md(a,b){return a=Object(a),n(b,function(b,c){return c in a&&(b[c]=a[c]),b},{})}function nd(a,b){for(var c=-1,d=se(a),e=d.length,f={};++c<e;){var g=d[c],h=a[g];b(h,g)&&(f[g]=h)}return f}function od(a){return function(b){return null==b?Y:b[a]}}function pd(a){return function(b){return Uc(b,a)}}function qd(a,b,c,d){var e=d?u:t,f=-1,g=b.length,h=a;for(c&&(h=l(a,B(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&zj.call(h,i,1),zj.call(a,i,1);return a}function rd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(d==c||e!=f){var f=e;if(P(e))zj.call(a,e,1);else if(Ke(e,a))delete a[e];else{var g=Dc(e),h=Se(a,g);null!=h&&delete h[nf(g)]}}}return a}function sd(a,b){return a+Bj(Jj()*(b-a+1))}function td(a,b,c,d){for(var e=-1,f=Gj(Aj((b-a)/(c||1)),0),g=Array(f);f--;)g[d?f:++e]=a,a+=c;return g}function ud(a,b){var c="";if(!a||1>b||b>wa)return c;do b%2&&(c+=a),b=Bj(b/2),b&&(a+=a);while(b);return c}function vd(a,b,c,d){b=Ke(b,a)?[b]:Dc(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];if(bh(h)){var j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):Y,j===Y&&(j=null==k?P(b[e+1])?[]:{}:k)}lc(h,i,j)}h=h[i]}return a}function wd(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function xd(a,b){var c;return ak(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function yd(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Ba>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return zd(a,b,Hi,c)}function zd(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===Y;f>e;){var j=Bj((e+f)/2),k=c(a[j]),l=k!==Y,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return Hj(f,Aa)}function Ad(a){return Bd(a)}function Bd(a,b){for(var c=0,d=a.length,e=a[0],f=b?b(e):e,g=f,h=1,i=[e];++c<d;)e=a[c],f=b?b(e):e,Lg(f,g)||(g=f,i[h++]=e);return i}function Cd(a,b,c){var d=-1,e=j,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=k;else if(f>=$){var l=b?null:fk(a);if(l)return T(l);g=!1,e=Yb,i=new Xb}else i=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(g&&n===n){for(var o=i.length;o--;)if(i[o]===n)continue a;b&&i.push(n),h.push(m)}else e(i,n,c)||(i!==h&&i.push(n),h.push(m))}return h}function Dd(a,b){b=Ke(b,a)?[b]:Dc(b),a=Se(a,b);var c=nf(b);return null!=a&&Oh(a,c)?delete a[c]:!0}function Ed(a,b,c,d){return vd(a,b,c(Uc(a,b)),d)}function Fd(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?wd(a,d?0:f,d?f+1:e):wd(a,d?f+1:0,d?e:f)}function Gd(a,b){var c=a;return c instanceof Ib&&(c=c.value()),n(b,function(a,b){return b.func.apply(b.thisArg,m([a],b.args))},c)}function Hd(a,b,c){for(var d=-1,e=a.length;++d<e;)var f=f?m(Mc(f,a[d],b,c),Mc(a[d],f,b,c)):a[d];return f&&f.length?Cd(f,b,c):[]}function Id(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=f>d?b[d]:Y;c(g,a[d],h)}return g}function Jd(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}function Kd(a){var b=new a.constructor(a.byteLength);return new rj(b).set(new rj(a)),b}function Ld(a,b){var c=b?Kd(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Md(b,c,d){var e=c?d(R(b),!0):R(b);return n(e,a,new b.constructor)}function Nd(a){var b=new a.constructor(a.source,wb.exec(a));return b.lastIndex=a.lastIndex,b}function Od(a,c,d){var e=c?d(T(a),!0):T(a);return n(e,b,new a.constructor)}function Pd(a){return $j?Object($j.call(a)):{}}function Qd(a,b){var c=b?Kd(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function Rd(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Gj(f-g,0),k=Array(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||f>e)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function Sd(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Gj(f-h,0),l=Array(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||f>e)&&(l[n+c[g]]=a[e++]);return l}function Td(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function Ud(a,b,c){return Vd(a,b,c)}function Vd(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):a[g];lc(c,g,h)}return c}function Wd(a,b){return Ud(a,ze(a),b)}function Xd(a,b){return function(c,e){var f=Sk(c)?d:nc,g=b?b():{};return f(c,a,ue(e),g)}}function Yd(a){return Bg(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:Y,g=e>2?c[2]:Y;for(f="function"==typeof f?(e--,f):Y,g&&Je(c[0],c[1],g)&&(f=3>e?Y:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Zd(a,b){return function(c,d){if(null==c)return c;if(!Qg(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function $d(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function _d(a,b,c){function d(){var b=this&&this!==Kc&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&ca,f=ce(a);return d}function ae(a){return function(b){b=Dh(b);var c=oc.test(b)?V(b):Y,d=c?c[0]:b.charAt(0),e=c?c.slice(1).join(""):b.slice(1);return d[a]()+e}}function be(a){return function(b){return n(Di(ji(b)),a,"")}}function ce(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ic(a.prototype),d=a.apply(c,b);return bh(d)?d:c}}function de(a,b,d){function e(){for(var g=arguments.length,h=Array(g),i=g,j=xe(e);i--;)h[i]=arguments[i];var k=3>g&&h[0]!==j&&h[g-1]!==j?[]:S(h,j);if(g-=k.length,d>g)return le(a,b,fe,e.placeholder,Y,h,k,Y,Y,d-g);var l=this&&this!==Kc&&this instanceof e?f:a;return c(l,this,h)}var f=ce(a);return e}function ee(a){return Bg(function(b){b=Qc(b,1);var c=b.length,d=c,e=Hb.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new ej(_);if(e&&!g&&"wrapper"==te(f))var g=new Hb([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=te(f),i="wrapper"==h?gk(f):Y;g=i&&Me(i[0])&&i[1]==(ja|fa|ha|ka)&&!i[4].length&&1==i[9]?g[te(i[0])].apply(g,i[3]):1==f.length&&Me(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&Sk(d)&&d.length>=$)return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function fe(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=r,t=Array(r);s--;)t[s]=arguments[s];if(o)var u=xe(k),v=I(t,u);if(d&&(t=Rd(t,d,e,o)),f&&(t=Sd(t,f,g,o)),r-=v,o&&j>r){var w=S(t,u);return le(a,b,fe,k.placeholder,c,t,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=t.length,h?t=Te(t,h):p&&r>1&&t.reverse(),l&&r>i&&(t.length=i),this&&this!==Kc&&this instanceof k&&(y=q||ce(y)),y.apply(x,t)}var l=b&ja,m=b&ca,n=b&da,o=b&(fa|ga),p=b&la,q=n?Y:ce(a);return k}function ge(a,b){return function(c,d){return $c(c,a,b(d),{})}}function he(a){return Bg(function(b){return b=l(Qc(b,1,Ie),ue()),Bg(function(d){var e=this;return a(b,function(a){return c(a,e,d)})})})}function ie(a,b){b=b===Y?" ":b+"";var c=b.length;if(2>c)return c?ud(b,a):b;var d=ud(b,Aj(a/U(b)));return oc.test(b)?V(d).slice(0,a).join(""):d.slice(0,a)}function je(a,b,d,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=Array(k+i),m=this&&this!==Kc&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return c(m,g?d:this,l)}var g=b&ca,h=ce(a);return f}function ke(a){return function(b,c,d){return d&&"number"!=typeof d&&Je(b,c,d)&&(c=d=Y),b=Ah(b),b=b===b?b:0,c===Y?(c=b,b=0):c=Ah(c)||0,d=d===Y?c>b?1:-1:Ah(d)||0,td(b,c,d,a)}}function le(a,b,c,d,e,f,g,h,i,j){var k=b&fa,l=h?Td(h):Y,m=k?g:Y,n=k?Y:g,o=k?f:Y,p=k?Y:f;b|=k?ha:ia,b&=~(k?ia:ha),b&ea||(b&=~(ca|da));var q=[a,b,e,o,m,p,n,l,i,j],r=c.apply(Y,q);return Me(a)&&jk(r,q),r.placeholder=d,r}function me(a){var b=cj[a];return function(a,c){if(a=Ah(a),c=yh(c)){var d=(Dh(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(Dh(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function ne(a,b,c,d,e,f,g,h){var i=b&da;if(!i&&"function"!=typeof a)throw new ej(_);var j=d?d.length:0;if(j||(b&=~(ha|ia),d=e=Y),g=g===Y?g:Gj(yh(g),0),h=h===Y?h:yh(h),j-=e?e.length:0,b&ia){var k=d,l=e;d=e=Y}var m=i?Y:gk(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&Qe(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=null==n[9]?i?0:a.length:Gj(n[9]-j,0),!h&&b&(fa|ga)&&(b&=~(fa|ga)),b&&b!=ca)o=b==fa||b==ga?de(a,b,h):b!=ha&&b!=(ca|ha)||e.length?fe.apply(Y,n):je(a,b,c,d);else var o=_d(a,b,c);var p=m?ek:jk;return p(o,n)}function oe(a,b,c,d,e,f){var g=-1,h=e&na,i=e&ma,j=a.length,k=b.length;if(j!=k&&!(h&&k>j))return!1;var l=f.get(a);if(l)return l==b;var m=!0;for(f.set(a,b);++g<j;){var n=a[g],o=b[g];if(d)var q=h?d(o,n,g,b,a,f):d(n,o,g,a,b,f);if(q!==Y){if(q)continue;m=!1;break}if(i){if(!p(b,function(a){return n===a||c(n,a,d,e,f)})){m=!1;break}}else if(n!==o&&!c(n,o,d,e,f)){m=!1;break}}return f["delete"](a),m}function pe(a,b,c,d,e,f,g){switch(c){case Ua:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Ta:return a.byteLength==b.byteLength&&d(new rj(a),new rj(b))?!0:!1;case Ea:case Fa:return+a==+b;case Ga:return a.name==b.name&&a.message==b.message;case Ka:return a!=+a?b!=+b:a==+b;case Na:case Pa:return a==b+"";case Ja:var h=R;case Oa:var i=f&na;if(h||(h=T),a.size!=b.size&&!i)return!1;var j=g.get(a);return j?j==b:(f|=ma,g.set(a,b),oe(h(a),h(b),d,e,f,g));case Qa:if($j)return $j.call(a)==$j.call(b)}return!1}function qe(a,b,c,d,e,f){var g=e&na,h=Qh(a),i=h.length,j=Qh(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:Wc(b,m)))return!1}var n=f.get(a);if(n)return n==b;var o=!0;f.set(a,b);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===Y?q===r||c(q,r,d,e,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f["delete"](a),o}function re(a){return Vc(a,Qh,ze)}function se(a){return Vc(a,Rh,ik)}function te(a){for(var b=a.name+"",c=Tj[b],d=ij.call(Tj,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function ue(){var a=Cb.iteratee||Ii;return a=a===Ii?dd:a,arguments.length?a(arguments[0],arguments[1]):a}function ve(a){for(var b=Zh(a),c=b.length;c--;)b[c][2]=Oe(b[c][1]);return b}function we(a,b){var c=a[b];return hh(c)?c:Y}function xe(a){var b=ij.call(Cb,"placeholder")?Cb:a;return b.placeholder}function ye(a){return Cj(Object(a))}function ze(a){return uj(Object(a))}function Ae(a){return lj.call(a)}function Be(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Hj(b,a+g);break;case"takeRight":a=Gj(a,b-g)}}return{start:a,end:b}}function Ce(a,b,c){b=Ke(b,a)?[b]:Dc(b);for(var d,e=-1,f=b.length;++e<f;){var g=b[e];if(!(d=null!=a&&c(a,g)))break;a=a[g]}if(d)return d;var f=a?a.length:0;return!!f&&ah(f)&&P(g,f)&&(Sk(a)||ph(a)||Og(a))}function De(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&ij.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Ee(a){return"function"!=typeof a.constructor||Ne(a)?{}:Ic(ye(a))}function Fe(a,b,c,d){var e=a.constructor;switch(b){case Ta:return Kd(a);case Ea:case Fa:return new e(+a);case Ua:return Ld(a,d);case Va:case Wa:case Xa:case Ya:case Za:case $a:case _a:case ab:case bb:return Qd(a,d);case Ja:return Md(a,d,c);case Ka:case Pa:return new e(a);case Na:return Nd(a);case Oa:return Od(a,d,c);case Qa:return Pd(a)}}function Ge(a){var b=a?a.length:Y;return ah(b)&&(Sk(a)||ph(a)||Og(a))?z(b,String):null}function He(a){return Rg(a)&&(Sk(a)||Og(a))}function Ie(a){return Sk(a)&&!(2==a.length&&!$g(a[0]))}function Je(a,b,c){if(!bh(c))return!1;var d=typeof b;return("number"==d?Qg(c)&&P(b,c.length):"string"==d&&b in c)?Lg(c[b],a):!1}function Ke(a,b){var c=typeof a;return"number"==c||"symbol"==c?!0:!Sk(a)&&(qh(a)||nb.test(a)||!mb.test(a)||null!=b&&a in Object(b))}function Le(a){var b=typeof a;return"number"==b||"boolean"==b||"string"==b&&"__proto__"!=a||null==a}function Me(a){var b=te(a),c=Cb[b];if("function"!=typeof c||!(b in Ib.prototype))return!1;if(a===c)return!0;var d=gk(c);return!!d&&a===d[0]}function Ne(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||gj;return a===c}function Oe(a){return a===a&&!bh(a)}function Pe(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==Y||a in Object(c))}}function Qe(a,b){var c=a[1],d=b[1],e=c|d,f=(ca|da|ja)>e,g=d==ja&&c==fa||d==ja&&c==ka&&a[7].length<=b[8]||d==(ja|ka)&&b[7].length<=b[8]&&c==fa;if(!f&&!g)return a;d&ca&&(a[2]=b[2],e|=c&ca?0:ea);var h=b[3];if(h){var i=a[3];a[3]=i?Rd(i,h,b[4]):Td(h),a[4]=i?S(a[3],ba):Td(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?Sd(i,h,b[6]):Td(h),a[6]=i?S(a[5],ba):Td(b[6])),h=b[7],h&&(a[7]=Td(h)),d&ja&&(a[8]=null==a[8]?b[8]:Hj(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Re(a,b,c,d,e,f){return bh(a)&&bh(b)&&jd(a,b,Y,Re,f.set(b,a)),a}function Se(a,b){return 1==b.length?a:Uc(a,wd(b,0,-1))}function Te(a,b){for(var c=a.length,d=Hj(b.length,c),e=Td(a);d--;){var f=b[d];a[d]=P(f,c)?e[f]:Y}return a}function Ue(a){if(null!=a){try{return hj.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function Ve(a){if(a instanceof Ib)return a.clone();var b=new Hb(a.__wrapped__,a.__chain__);return b.__actions__=Td(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function We(a,b,c){b=(c?Je(a,b,c):b===Y)?1:Gj(yh(b),0);var d=a?a.length:0;if(!d||1>b)return[];for(var e=0,f=0,g=Array(Aj(d/b));d>e;)g[f++]=wd(a,e,e+=b);return g}function Xe(a){for(var b=-1,c=a?a.length:0,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function Ye(){var a=arguments.length,b=Gg(arguments[0]);if(2>a)return a?Td(b):[];for(var c=Array(a-1);a--;)c[a-1]=arguments[a];return e(b,Qc(c,1))}function Ze(a,b,c){var d=a?a.length:0;return d?(b=c||b===Y?1:yh(b),wd(a,0>b?0:b,d)):[]}function $e(a,b,c){var d=a?a.length:0;return d?(b=c||b===Y?1:yh(b),b=d-b,wd(a,0,0>b?0:b)):[]}function _e(a,b){return a&&a.length?Fd(a,ue(b,3),!0,!0):[]}function af(a,b){return a&&a.length?Fd(a,ue(b,3),!0):[]}function bf(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&Je(a,b,c)&&(c=0,d=e),Oc(a,b,c,d)):[]}function cf(a,b){return a&&a.length?s(a,ue(b,3)):-1}function df(a,b){return a&&a.length?s(a,ue(b,3),!0):-1}function ef(a){var b=a?a.length:0;return b?Qc(a,1):[]}function ff(a){var b=a?a.length:0;return b?Qc(a,va):[]}function gf(a,b){var c=a?a.length:0;return c?(b=b===Y?1:yh(b),Qc(a,b)):[]}function hf(a){for(var b=-1,c=a?a.length:0,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function jf(a){return a?a[0]:Y}function kf(a,b,c){var d=a?a.length:0;return d?(c=yh(c),0>c&&(c=Gj(d+c,0)),t(a,b,c)):-1}function lf(a){return $e(a,1)}function mf(a,b){return a?Ej.call(a,b):""}function nf(a){var b=a?a.length:0;return b?a[b-1]:Y}function of(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if(c!==Y&&(e=yh(c),e=(0>e?Gj(d+e,0):Hj(e,d-1))+1),b!==b)return N(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function pf(a,b){return a&&a.length&&b&&b.length?qd(a,b):a}function qf(a,b,c){return a&&a.length&&b&&b.length?qd(a,b,ue(c)):a}function rf(a,b,c){return a&&a.length&&b&&b.length?qd(a,b,Y,c):a}function sf(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=ue(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return rd(a,e),c}function tf(a){return a?Kj.call(a):a}function uf(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Je(a,b,c)?(b=0,c=d):(b=null==b?0:yh(b),c=c===Y?d:yh(c)),wd(a,b,c)):[]}function vf(a,b){return yd(a,b)}function wf(a,b,c){return zd(a,b,ue(c))}function xf(a,b){var c=a?a.length:0;if(c){var d=yd(a,b);if(c>d&&Lg(a[d],b))return d}return-1}function yf(a,b){return yd(a,b,!0)}function zf(a,b,c){return zd(a,b,ue(c),!0)}function Af(a,b){var c=a?a.length:0;if(c){var d=yd(a,b,!0)-1;if(Lg(a[d],b))return d}return-1}function Bf(a){return a&&a.length?Ad(a):[]}function Cf(a,b){return a&&a.length?Bd(a,ue(b)):[]}function Df(a){return Ze(a,1)}function Ef(a,b,c){return a&&a.length?(b=c||b===Y?1:yh(b),wd(a,0,0>b?0:b)):[]}function Ff(a,b,c){var d=a?a.length:0;return d?(b=c||b===Y?1:yh(b),b=d-b,wd(a,0>b?0:b,d)):[]}function Gf(a,b){return a&&a.length?Fd(a,ue(b,3),!1,!0):[]}function Hf(a,b){return a&&a.length?Fd(a,ue(b,3)):[]}function If(a){return a&&a.length?Cd(a):[]}function Jf(a,b){return a&&a.length?Cd(a,ue(b)):[]}function Kf(a,b){return a&&a.length?Cd(a,Y,b):[]}function Lf(a){if(!a||!a.length)return[];var b=0;return a=i(a,function(a){return Rg(a)?(b=Gj(a.length,b),!0):void 0}),z(b,function(b){return l(a,od(b))})}function Mf(a,b){if(!a||!a.length)return[];var d=Lf(a);return null==b?d:l(d,function(a){return c(b,Y,a)})}function Nf(a,b){return Id(a||[],b||[],lc)}function Of(a,b){return Id(a||[],b||[],vd)}function Pf(a){var b=Cb(a);return b.__chain__=!0,b}function Qf(a,b){return b(a),a}function Rf(a,b){return b(a)}function Sf(){return Pf(this)}function Tf(){return new Hb(this.value(),this.__chain__)}function Uf(){this.__values__===Y&&(this.__values__=xh(this.value()));var a=this.__index__>=this.__values__.length,b=a?Y:this.__values__[this.__index__++];return{done:a,value:b}}function Vf(){return this}function Wf(a){for(var b,c=this;c instanceof Gb;){var d=Ve(c);d.__index__=0,d.__values__=Y,b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Xf(){var a=this.__wrapped__;if(a instanceof Ib){var b=a;return this.__actions__.length&&(b=new Ib(this)),b=b.reverse(),b.__actions__.push({func:Rf,args:[tf],thisArg:Y}),new Hb(b,this.__chain__)}return this.thru(tf)}function Yf(){return Gd(this.__wrapped__,this.__actions__)}function Zf(a,b,c){var d=Sk(a)?h:Nc;return c&&Je(a,b,c)&&(b=Y),d(a,ue(b,3))}function $f(a,b){var c=Sk(a)?i:Pc;return c(a,ue(b,3))}function _f(a,b){if(b=ue(b,3),Sk(a)){var c=s(a,b);return c>-1?a[c]:Y}return r(a,b,ak)}function ag(a,b){if(b=ue(b,3),Sk(a)){var c=s(a,b,!0);return c>-1?a[c]:Y}return r(a,b,bk)}function bg(a,b){return Qc(hg(a,b),1)}function cg(a,b){return Qc(hg(a,b),va)}function dg(a,b,c){return c=c===Y?1:yh(c),Qc(hg(a,b),c)}function eg(a,b){return"function"==typeof b&&Sk(a)?f(a,b):ak(a,ue(b))}function fg(a,b){return"function"==typeof b&&Sk(a)?g(a,b):bk(a,ue(b))}function gg(a,b,c,d){a=Qg(a)?a:di(a),c=c&&!d?yh(c):0;var e=a.length;return 0>c&&(c=Gj(e+c,0)),ph(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&t(a,b,c)>-1}function hg(a,b){var c=Sk(a)?l:gd;return c(a,ue(b,3))}function ig(a,b,c,d){return null==a?[]:(Sk(b)||(b=null==b?[]:[b]),c=d?Y:c,Sk(c)||(c=null==c?[]:[c]),ld(a,b,c))}function jg(a,b,c){var d=Sk(a)?n:w,e=arguments.length<3;return d(a,ue(b,4),c,e,ak)}function kg(a,b,c){var d=Sk(a)?o:w,e=arguments.length<3;return d(a,ue(b,4),c,e,bk)}function lg(a,b){var c=Sk(a)?i:Pc;return b=ue(b,3),c(a,function(a,c,d){return!b(a,c,d)})}function mg(a){var b=Qg(a)?a:di(a),c=b.length;return c>0?b[sd(0,c-1)]:Y}function ng(a,b,c){var d=-1,e=xh(a),f=e.length,g=f-1;for(b=(c?Je(a,b,c):b===Y)?1:Ec(yh(b),0,f);++d<b;){var h=sd(d,g),i=e[h];e[h]=e[d],e[d]=i}return e.length=b,e}function og(a){return ng(a,za)}function pg(a){if(null==a)return 0;if(Qg(a)){var b=a.length;return b&&ph(a)?U(a):b}if(ch(a)){var c=Ae(a);if(c==Ja||c==Oa)return a.size}return Qh(a).length}function qg(a,b,c){var d=Sk(a)?p:xd;return c&&Je(a,b,c)&&(b=Y),d(a,ue(b,3))}function rg(a,b){if("function"!=typeof b)throw new ej(_);return a=yh(a),function(){return--a<1?b.apply(this,arguments):void 0}}function sg(a,b,c){return b=c?Y:b,b=a&&null==b?a.length:b,ne(a,ja,Y,Y,Y,Y,b)}function tg(a,b){var c;if("function"!=typeof b)throw new ej(_);return a=yh(a),function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=Y),c}}function ug(a,b,c){b=c?Y:b;var d=ne(a,fa,Y,Y,Y,Y,Y,b);return d.placeholder=ug.placeholder,d}function vg(a,b,c){b=c?Y:b;var d=ne(a,ga,Y,Y,Y,Y,Y,b);return d.placeholder=vg.placeholder,d}function wg(a,b,c){function d(b){var c=m,d=n;return m=n=Y,r=b,o=a.apply(d,c)}function e(a){return r=a,p=yj(h,b),s?d(a):o}function f(a){var c=a-q,d=a-r,e=b-c;return t===!1?e:Hj(e,t-d)}function g(a){var c=a-q,d=a-r;return!q||c>=b||0>c||t!==!1&&d>=t}function h(){var a=Jk();return g(a)?i(a):void(p=yj(h,f(a)))}function i(a){return sj(p),p=Y,u&&m?d(a):(m=n=Y,o)}function j(){p!==Y&&sj(p),q=r=0,m=n=p=Y}function k(){return p===Y?o:i(Jk())}function l(){var a=Jk(),c=g(a);return m=arguments,n=this,q=a,c?p===Y?e(q):(sj(p),p=yj(h,b),d(q)):o}var m,n,o,p,q=0,r=0,s=!1,t=!1,u=!0;if("function"!=typeof a)throw new ej(_);return b=Ah(b)||0,bh(c)&&(s=!!c.leading,t="maxWait"in c&&Gj(Ah(c.maxWait)||0,b),u="trailing"in c?!!c.trailing:u),l.cancel=j,l.flush=k,l}function xg(a){return ne(a,la)}function yg(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new ej(_);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new(yg.Cache||Rb),c}function zg(a){if("function"!=typeof a)throw new ej(_);return function(){return!a.apply(this,arguments)}}function Ag(a){return tg(2,a)}function Bg(a,b){if("function"!=typeof a)throw new ej(_);return b=Gj(b===Y?a.length-1:yh(b),0),function(){for(var d=arguments,e=-1,f=Gj(d.length-b,0),g=Array(f);++e<f;)g[e]=d[b+e];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,d[0],g);case 2:return a.call(this,d[0],d[1],g)}var h=Array(b+1);for(e=-1;++e<b;)h[e]=d[e];return h[b]=g,c(a,this,h)}}function Cg(a,b){if("function"!=typeof a)throw new ej(_);return b=b===Y?0:Gj(yh(b),0),Bg(function(d){var e=d[b],f=d.slice(0,b);return e&&m(f,e),c(a,this,f)})}function Dg(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ej(_);return bh(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),wg(a,b,{leading:d,maxWait:b,trailing:e})}function Eg(a){return sg(a,1)}function Fg(a,b){return b=null==b?Hi:b,Pk(b,a)}function Gg(){if(!arguments.length)return[];var a=arguments[0];return Sk(a)?a:[a]}function Hg(a){return Gc(a,!1,!0)}function Ig(a,b){return Gc(a,!1,!0,b)}function Jg(a){return Gc(a,!0,!0)}function Kg(a,b){return Gc(a,!0,!0,b)}function Lg(a,b){return a===b||a!==a&&b!==b}function Mg(a,b){return a>b}function Ng(a,b){return a>=b}function Og(a){return Rg(a)&&ij.call(a,"callee")&&(!xj.call(a,"callee")||lj.call(a)==Ca)}function Pg(a){return ch(a)&&lj.call(a)==Ta}function Qg(a){return null!=a&&ah(hk(a))&&!$g(a)}function Rg(a){return ch(a)&&Qg(a)}function Sg(a){return a===!0||a===!1||ch(a)&&lj.call(a)==Ea}function Tg(a){return ch(a)&&lj.call(a)==Fa;
}function Ug(a){return!!a&&1===a.nodeType&&ch(a)&&!lh(a)}function Vg(a){if(Qg(a)&&(Sk(a)||ph(a)||$g(a.splice)||Og(a)||Tk(a)))return!a.length;if(ch(a)){var b=Ae(a);if(b==Ja||b==Oa)return!a.size}for(var c in a)if(ij.call(a,c))return!1;return!(Sj&&Qh(a).length)}function Wg(a,b){return ad(a,b)}function Xg(a,b,c){c="function"==typeof c?c:Y;var d=c?c(a,b):Y;return d===Y?ad(a,b,c):!!d}function Yg(a){return ch(a)?lj.call(a)==Ga||"string"==typeof a.message&&"string"==typeof a.name:!1}function Zg(a){return"number"==typeof a&&Dj(a)}function $g(a){var b=bh(a)?lj.call(a):"";return b==Ha||b==Ia}function _g(a){return"number"==typeof a&&a==yh(a)}function ah(a){return"number"==typeof a&&a>-1&&a%1==0&&wa>=a}function bh(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function ch(a){return!!a&&"object"==typeof a}function dh(a){return ch(a)&&Ae(a)==Ja}function eh(a,b){return a===b||cd(a,b,ve(b))}function fh(a,b,c){return c="function"==typeof c?c:Y,cd(a,b,ve(b),c)}function gh(a){return kh(a)&&a!=+a}function hh(a){if(!bh(a))return!1;var b=$g(a)||O(a)?nj:Ab;return b.test(Ue(a))}function ih(a){return null===a}function jh(a){return null==a}function kh(a){return"number"==typeof a||ch(a)&&lj.call(a)==Ka}function lh(a){if(!ch(a)||lj.call(a)!=La||O(a))return!1;var b=ye(a);if(null===b)return!0;var c=ij.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&hj.call(c)==kj}function mh(a){return bh(a)&&lj.call(a)==Na}function nh(a){return _g(a)&&a>=-wa&&wa>=a}function oh(a){return ch(a)&&Ae(a)==Oa}function ph(a){return"string"==typeof a||!Sk(a)&&ch(a)&&lj.call(a)==Pa}function qh(a){return"symbol"==typeof a||ch(a)&&lj.call(a)==Qa}function rh(a){return ch(a)&&ah(a.length)&&!!uc[lj.call(a)]}function sh(a){return a===Y}function th(a){return ch(a)&&Ae(a)==Ra}function uh(a){return ch(a)&&lj.call(a)==Sa}function vh(a,b){return b>a}function wh(a,b){return b>=a}function xh(a){if(!a)return[];if(Qg(a))return ph(a)?V(a):Td(a);if(vj&&a[vj])return Q(a[vj]());var b=Ae(a),c=b==Ja?R:b==Oa?T:di;return c(a)}function yh(a){if(!a)return 0===a?a:0;if(a=Ah(a),a===va||a===-va){var b=0>a?-1:1;return b*xa}var c=a%1;return a===a?c?a-c:a:0}function zh(a){return a?Ec(yh(a),0,za):0}function Ah(a){if("number"==typeof a)return a;if(qh(a))return ya;if(bh(a)){var b=$g(a.valueOf)?a.valueOf():a;a=bh(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(rb,"");var c=zb.test(a);return c||Bb.test(a)?Cc(a.slice(2),c?2:8):yb.test(a)?ya:+a}function Bh(a){return Ud(a,Rh(a))}function Ch(a){return Ec(yh(a),-wa,wa)}function Dh(a){if("string"==typeof a)return a;if(null==a)return"";if(qh(a))return _j?_j.call(a):"";var b=a+"";return"0"==b&&1/a==-va?"-0":b}function Eh(a,b){var c=Ic(a);return b?wc(c,b):c}function Fh(a,b){return r(a,ue(b,3),Rc,!0)}function Gh(a,b){return r(a,ue(b,3),Sc,!0)}function Hh(a,b){return null==a?a:ck(a,ue(b),Rh)}function Ih(a,b){return null==a?a:dk(a,ue(b),Rh)}function Jh(a,b){return a&&Rc(a,ue(b))}function Kh(a,b){return a&&Sc(a,ue(b))}function Lh(a){return null==a?[]:Tc(a,Qh(a))}function Mh(a){return null==a?[]:Tc(a,Rh(a))}function Nh(a,b,c){var d=null==a?Y:Uc(a,b);return d===Y?c:d}function Oh(a,b){return null!=a&&Ce(a,b,Wc)}function Ph(a,b){return null!=a&&Ce(a,b,Xc)}function Qh(a){var b=Ne(a);if(!b&&!Qg(a))return ed(a);var c=Ge(a),d=!!c,e=c||[],f=e.length;for(var g in a)!Wc(a,g)||d&&("length"==g||P(g,f))||b&&"constructor"==g||e.push(g);return e}function Rh(a){for(var b=-1,c=Ne(a),d=fd(a),e=d.length,f=Ge(a),g=!!f,h=f||[],i=h.length;++b<e;){var j=d[b];g&&("length"==j||P(j,i))||"constructor"==j&&(c||!ij.call(a,j))||h.push(j)}return h}function Sh(a,b){var c={};return b=ue(b,3),Rc(a,function(a,d,e){c[b(a,d,e)]=a}),c}function Th(a,b){var c={};return b=ue(b,3),Rc(a,function(a,d,e){c[d]=b(a,d,e)}),c}function Uh(a,b){return b=ue(b),nd(a,function(a,c){return!b(a,c)})}function Vh(a,b){return null==a?{}:nd(a,ue(b))}function Wh(a,b,c){b=Ke(b,a)?[b]:Dc(b);var d=-1,e=b.length;for(e||(a=Y,e=1);++d<e;){var f=null==a?Y:a[b[d]];f===Y&&(d=e,f=c),a=$g(f)?f.call(a):f}return a}function Xh(a,b,c){return null==a?a:vd(a,b,c)}function Yh(a,b,c,d){return d="function"==typeof d?d:Y,null==a?a:vd(a,b,c,d)}function Zh(a){return A(a,Qh(a))}function $h(a){return A(a,Rh(a))}function _h(a,b,c){var d=Sk(a)||rh(a);if(b=ue(b,4),null==c)if(d||bh(a)){var e=a.constructor;c=d?Sk(a)?new e:[]:$g(e)?Ic(ye(a)):{}}else c={};return(d?f:Rc)(a,function(a,d,e){return b(c,a,d,e)}),c}function ai(a,b){return null==a?!0:Dd(a,b)}function bi(a,b,c){return null==a?a:Ed(a,b,zc(c))}function ci(a,b,c,d){return d="function"==typeof d?d:Y,null==a?a:Ed(a,b,zc(c),d)}function di(a){return a?C(a,Qh(a)):[]}function ei(a){return null==a?[]:C(a,Rh(a))}function fi(a,b,c){return c===Y&&(c=b,b=Y),c!==Y&&(c=Ah(c),c=c===c?c:0),b!==Y&&(b=Ah(b),b=b===b?b:0),Ec(Ah(a),b,c)}function gi(a,b,c){return b=Ah(b)||0,c===Y?(c=b,b=0):c=Ah(c)||0,a=Ah(a),Yc(a,b,c)}function hi(a,b,c){if(c&&"boolean"!=typeof c&&Je(a,b,c)&&(b=c=Y),c===Y&&("boolean"==typeof b?(c=b,b=Y):"boolean"==typeof a&&(c=a,a=Y)),a===Y&&b===Y?(a=0,b=1):(a=Ah(a)||0,b===Y?(b=a,a=0):b=Ah(b)||0),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=Jj();return Hj(a+e*(b-a+Bc("1e-"+((e+"").length-1))),b)}return sd(a,b)}function ii(a){return nl(Dh(a).toLowerCase())}function ji(a){return a=Dh(a),a&&a.replace(Db,K).replace(mc,"")}function ki(a,b,c){a=Dh(a),b="string"==typeof b?b:b+"";var d=a.length;return c=c===Y?d:Ec(yh(c),0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function li(a){return a=Dh(a),a&&ib.test(a)?a.replace(gb,L):a}function mi(a){return a=Dh(a),a&&qb.test(a)?a.replace(pb,"\\$&"):a}function ni(a,b,c){a=Dh(a),b=yh(b);var d=b?U(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return ie(Bj(e),c)+a+ie(Aj(e),c)}function oi(a,b,c){a=Dh(a),b=yh(b);var d=b?U(a):0;return b&&b>d?a+ie(b-d,c):a}function pi(a,b,c){a=Dh(a),b=yh(b);var d=b?U(a):0;return b&&b>d?ie(b-d,c)+a:a}function qi(a,b,c){return c||null==b?b=0:b&&(b=+b),a=Dh(a).replace(rb,""),Ij(a,b||(xb.test(a)?16:10))}function ri(a,b,c){return b=(c?Je(a,b,c):b===Y)?1:yh(b),ud(Dh(a),b)}function si(){var a=arguments,b=Dh(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function ti(a,b,c){if(a=Dh(a),a&&("string"==typeof b||null!=b&&!mh(b))&&(b+="",""==b&&oc.test(a))){var d=V(a);return c===Y?d:d.slice(0,0>c?0:c)}return a.split(b,c)}function ui(a,b,c){return a=Dh(a),c=Ec(yh(c),0,a.length),a.lastIndexOf(b,c)==c}function vi(a,b,c){var d=Cb.templateSettings;c&&Je(a,b,c)&&(b=Y),a=Dh(a),b=Wk({},b,d,jc);var e,f,g=Wk({},b.imports,d.imports,jc),h=Qh(g),i=C(g,h),j=0,k=b.interpolate||Eb,l="__p += '",m=dj((b.escape||Eb).source+"|"+k.source+"|"+(k===lb?vb:Eb).source+"|"+(b.evaluate||Eb).source+"|$","g"),n="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++tc+"]")+"\n";a.replace(m,function(b,c,d,g,h,i){return d||(d=g),l+=a.slice(j,i).replace(Fb,M),c&&(e=!0,l+="' +\n__e("+c+") +\n'"),h&&(f=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var o=b.variable;o||(l="with (obj) {\n"+l+"\n}\n"),l=(f?l.replace(cb,""):l).replace(db,"$1").replace(eb,"$1;"),l="function("+(o||"obj")+") {\n"+(o?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(e?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var p=ol(function(){return Function(h,n+"return "+l).apply(Y,i)});if(p.source=l,Yg(p))throw p;return p}function wi(a){return Dh(a).toLowerCase()}function xi(a){return Dh(a).toUpperCase()}function yi(a,b,c){if(a=Dh(a),!a)return a;if(c||b===Y)return a.replace(rb,"");if(b+="",!b)return a;var d=V(a),e=V(b);return d.slice(D(d,e),E(d,e)+1).join("")}function zi(a,b,c){if(a=Dh(a),!a)return a;if(c||b===Y)return a.replace(tb,"");if(b+="",!b)return a;var d=V(a);return d.slice(0,E(d,V(b))+1).join("")}function Ai(a,b,c){if(a=Dh(a),!a)return a;if(c||b===Y)return a.replace(sb,"");if(b+="",!b)return a;var d=V(a);return d.slice(D(d,V(b))).join("")}function Bi(a,b){var c=oa,d=pa;if(bh(b)){var e="separator"in b?b.separator:e;c="length"in b?yh(b.length):c,d="omission"in b?Dh(b.omission):d}a=Dh(a);var f=a.length;if(oc.test(a)){var g=V(a);f=g.length}if(c>=f)return a;var h=c-U(d);if(1>h)return d;var i=g?g.slice(0,h).join(""):a.slice(0,h);if(e===Y)return i+d;if(g&&(h+=i.length-h),mh(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=dj(e.source,Dh(wb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===Y?h:l)}}else if(a.indexOf(e,h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function Ci(a){return a=Dh(a),a&&hb.test(a)?a.replace(fb,W):a}function Di(a,b,c){return a=Dh(a),b=c?Y:b,b===Y&&(b=rc.test(a)?qc:pc),a.match(b)||[]}function Ei(a){var b=a?a.length:0,d=ue();return a=b?l(a,function(a){if("function"!=typeof a[1])throw new ej(_);return[d(a[0]),a[1]]}):[],Bg(function(d){for(var e=-1;++e<b;){var f=a[e];if(c(f[0],this,d))return c(f[1],this,d)}})}function Fi(a){return Hc(Gc(a,!0))}function Gi(a){return function(){return a}}function Hi(a){return a}function Ii(a){return dd("function"==typeof a?a:Gc(a,!0))}function Ji(a){return hd(Gc(a,!0))}function Ki(a,b){return id(a,Gc(b,!0))}function Li(a,b,c){var d=Qh(b),e=Tc(b,d);null!=c||bh(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=Tc(b,Qh(b)));var g=bh(c)&&"chain"in c?c.chain:!0,h=$g(a);return f(e,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__),e=c.__actions__=Td(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,m([this.value()],arguments))})}),a}function Mi(){return Kc._===this&&(Kc._=mj),this}function Ni(){}function Oi(a){return a=yh(a),function(){return arguments[a]}}function Pi(a){return Ke(a)?od(a):pd(a)}function Qi(a){return function(b){return null==a?Y:Uc(a,b)}}function Ri(a,b){if(a=yh(a),1>a||a>wa)return[];var c=za,d=Hj(a,za);b=ue(b),a-=za;for(var e=z(d,b);++c<a;)b(c);return e}function Si(a){return Sk(a)?l(a,Ac):qh(a)?[a]:Td(kk(a))}function Ti(a){var b=++jj;return Dh(a)+b}function Ui(a){return a&&a.length?q(a,Hi,Mg):Y}function Vi(a,b){return a&&a.length?q(a,ue(b),Mg):Y}function Wi(a){return v(a,Hi)}function Xi(a,b){return v(a,ue(b))}function Yi(a){return a&&a.length?q(a,Hi,vh):Y}function Zi(a,b){return a&&a.length?q(a,ue(b),vh):Y}function $i(a){return a&&a.length?y(a,Hi):0}function _i(a,b){return a&&a.length?y(a,ue(b)):0}F=F?Lc.defaults({},F,Lc.pick(Kc,sc)):Kc;var aj=F.Date,bj=F.Error,cj=F.Math,dj=F.RegExp,ej=F.TypeError,fj=F.Array.prototype,gj=F.Object.prototype,hj=F.Function.prototype.toString,ij=gj.hasOwnProperty,jj=0,kj=hj.call(Object),lj=gj.toString,mj=Kc._,nj=dj("^"+hj.call(ij).replace(pb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oj=Fc?F.Buffer:Y,pj=F.Reflect,qj=F.Symbol,rj=F.Uint8Array,sj=F.clearTimeout,tj=pj?pj.enumerate:Y,uj=Object.getOwnPropertySymbols,vj="symbol"==typeof(vj=qj&&qj.iterator)?vj:Y,wj=Object.create,xj=gj.propertyIsEnumerable,yj=F.setTimeout,zj=fj.splice,Aj=cj.ceil,Bj=cj.floor,Cj=Object.getPrototypeOf,Dj=F.isFinite,Ej=fj.join,Fj=Object.keys,Gj=cj.max,Hj=cj.min,Ij=F.parseInt,Jj=cj.random,Kj=fj.reverse,Lj=we(F,"DataView"),Mj=we(F,"Map"),Nj=we(F,"Promise"),Oj=we(F,"Set"),Pj=we(F,"WeakMap"),Qj=we(Object,"create"),Rj=Pj&&new Pj,Sj=!xj.call({valueOf:1},"valueOf"),Tj={},Uj=Ue(Lj),Vj=Ue(Mj),Wj=Ue(Nj),Xj=Ue(Oj),Yj=Ue(Pj),Zj=qj?qj.prototype:Y,$j=Zj?Zj.valueOf:Y,_j=Zj?Zj.toString:Y;Cb.templateSettings={escape:jb,evaluate:kb,interpolate:lb,variable:"",imports:{_:Cb}},Cb.prototype=Gb.prototype,Cb.prototype.constructor=Cb,Hb.prototype=Ic(Gb.prototype),Hb.prototype.constructor=Hb,Ib.prototype=Ic(Gb.prototype),Ib.prototype.constructor=Ib,Mb.prototype=Qj?Qj(null):gj,Rb.prototype.clear=Sb,Rb.prototype["delete"]=Tb,Rb.prototype.get=Ub,Rb.prototype.has=Vb,Rb.prototype.set=Wb,Xb.prototype.push=Zb,$b.prototype.clear=_b,$b.prototype["delete"]=ac,$b.prototype.get=bc,$b.prototype.has=cc,$b.prototype.set=dc;var ak=Zd(Rc),bk=Zd(Sc,!0),ck=$d(),dk=$d(!0);tj&&!xj.call({valueOf:1},"valueOf")&&(fd=function(a){return Q(tj(a))});var ek=Rj?function(a,b){return Rj.set(a,b),a}:Hi,fk=Oj&&2===new Oj([1,2]).size?function(a){return new Oj(a)}:Ni,gk=Rj?function(a){return Rj.get(a)}:Ni,hk=od("length");uj||(ze=function(){return[]});var ik=uj?function(a){for(var b=[];a;)m(b,ze(a)),a=ye(a);return b}:ze;(Lj&&Ae(new Lj(new ArrayBuffer(1)))!=Ua||Mj&&Ae(new Mj)!=Ja||Nj&&Ae(Nj.resolve())!=Ma||Oj&&Ae(new Oj)!=Oa||Pj&&Ae(new Pj)!=Ra)&&(Ae=function(a){var b=lj.call(a),c=b==La?a.constructor:Y,d=c?Ue(c):Y;if(d)switch(d){case Uj:return Ua;case Vj:return Ja;case Wj:return Ma;case Xj:return Oa;case Yj:return Ra}return b});var jk=function(){var a=0,b=0;return function(c,d){var e=Jk(),f=ra-(e-b);if(b=e,f>0){if(++a>=qa)return c}else a=0;return ek(c,d)}}(),kk=yg(function(a){var b=[];return Dh(a).replace(ob,function(a,c,d,e){b.push(d?e.replace(ub,"$1"):c||a)}),b}),lk=Bg(function(a,b){return Rg(a)?Mc(a,Qc(b,1,Rg,!0)):[]}),mk=Bg(function(a,b){var c=nf(b);return Rg(c)&&(c=Y),Rg(a)?Mc(a,Qc(b,1,Rg,!0),ue(c)):[]}),nk=Bg(function(a,b){var c=nf(b);return Rg(c)&&(c=Y),Rg(a)?Mc(a,Qc(b,1,Rg,!0),Y,c):[]}),ok=Bg(function(a){var b=l(a,yc);return b.length&&b[0]===a[0]?Zc(b):[]}),pk=Bg(function(a){var b=nf(a),c=l(a,yc);return b===nf(c)?b=Y:c.pop(),c.length&&c[0]===a[0]?Zc(c,ue(b)):[]}),qk=Bg(function(a){var b=nf(a),c=l(a,yc);return b===nf(c)?b=Y:c.pop(),c.length&&c[0]===a[0]?Zc(c,Y,b):[]}),rk=Bg(pf),sk=Bg(function(a,b){b=l(Qc(b,1),String);var c=xc(a,b);return rd(a,b.sort(G)),c}),tk=Bg(function(a){return Cd(Qc(a,1,Rg,!0))}),uk=Bg(function(a){var b=nf(a);return Rg(b)&&(b=Y),Cd(Qc(a,1,Rg,!0),ue(b))}),vk=Bg(function(a){var b=nf(a);return Rg(b)&&(b=Y),Cd(Qc(a,1,Rg,!0),Y,b)}),wk=Bg(function(a,b){return Rg(a)?Mc(a,b):[]}),xk=Bg(function(a){return Hd(i(a,Rg))}),yk=Bg(function(a){var b=nf(a);return Rg(b)&&(b=Y),Hd(i(a,Rg),ue(b))}),zk=Bg(function(a){var b=nf(a);return Rg(b)&&(b=Y),Hd(i(a,Rg),Y,b)}),Ak=Bg(Lf),Bk=Bg(function(a){var b=a.length,c=b>1?a[b-1]:Y;return c="function"==typeof c?(a.pop(),c):Y,Mf(a,c)}),Ck=Bg(function(a){a=Qc(a,1);var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return xc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof Ib&&P(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:Rf,args:[e],thisArg:Y}),new Hb(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(Y),a})):this.thru(e)}),Dk=Xd(function(a,b,c){ij.call(a,c)?++a[c]:a[c]=1}),Ek=Xd(function(a,b,c){ij.call(a,c)?a[c].push(b):a[c]=[b]}),Fk=Bg(function(a,b,d){var e=-1,f="function"==typeof b,g=Ke(b),h=Qg(a)?Array(a.length):[];return ak(a,function(a){var i=f?b:g&&null!=a?a[b]:Y;h[++e]=i?c(i,a,d):_c(a,b,d)}),h}),Gk=Xd(function(a,b,c){a[c]=b}),Hk=Xd(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Ik=Bg(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Je(a,b[0],b[1])?b=[]:c>2&&Je(b[0],b[1],b[2])&&(b.length=1),ld(a,Qc(b,1),[])}),Jk=aj.now,Kk=Bg(function(a,b,c){var d=ca;if(c.length){var e=S(c,xe(Kk));d|=ha}return ne(a,d,b,c,e)}),Lk=Bg(function(a,b,c){var d=ca|da;if(c.length){var e=S(c,xe(Lk));d|=ha}return ne(b,d,a,c,e)}),Mk=Bg(function(a,b){return Jc(a,1,b)}),Nk=Bg(function(a,b,c){return Jc(a,Ah(b)||0,c)});yg.Cache=Rb;var Ok=Bg(function(a,b){b=l(Qc(b,1,Ie),ue());var d=b.length;return Bg(function(e){for(var f=-1,g=Hj(e.length,d);++f<g;)e[f]=b[f].call(this,e[f]);return c(a,this,e)})}),Pk=Bg(function(a,b){var c=S(b,xe(Pk));return ne(a,ha,Y,b,c)}),Qk=Bg(function(a,b){var c=S(b,xe(Qk));return ne(a,ia,Y,b,c)}),Rk=Bg(function(a,b){return ne(a,ka,Y,Y,Y,Qc(b,1))}),Sk=Array.isArray,Tk=oj?function(a){return a instanceof oj}:Gi(!1),Uk=Yd(function(a,b){if(Sj||Ne(b)||Qg(b))return void Ud(b,Qh(b),a);for(var c in b)ij.call(b,c)&&lc(a,c,b[c])}),Vk=Yd(function(a,b){if(Sj||Ne(b)||Qg(b))return void Ud(b,Rh(b),a);for(var c in b)lc(a,c,b[c])}),Wk=Yd(function(a,b,c,d){Vd(b,Rh(b),a,d)}),Xk=Yd(function(a,b,c,d){Vd(b,Qh(b),a,d)}),Yk=Bg(function(a,b){return xc(a,Qc(b,1))}),Zk=Bg(function(a){return a.push(Y,jc),c(Wk,Y,a)}),$k=Bg(function(a){return a.push(Y,Re),c(dl,Y,a)}),_k=ge(function(a,b,c){a[b]=c},Gi(Hi)),al=ge(function(a,b,c){ij.call(a,b)?a[b].push(c):a[b]=[c]},ue),bl=Bg(_c),cl=Yd(function(a,b,c){jd(a,b,c)}),dl=Yd(function(a,b,c,d){jd(a,b,c,d)}),el=Bg(function(a,b){return null==a?{}:(b=l(Qc(b,1),Ac),md(a,Mc(se(a),b)))}),fl=Bg(function(a,b){return null==a?{}:md(a,Qc(b,1))}),gl=be(function(a,b,c){return b=b.toLowerCase(),a+(c?ii(b):b)}),hl=be(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),il=be(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),jl=ae("toLowerCase"),kl=be(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),ll=be(function(a,b,c){return a+(c?" ":"")+nl(b)}),ml=be(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),nl=ae("toUpperCase"),ol=Bg(function(a,b){try{return c(a,Y,b)}catch(d){return Yg(d)?d:new bj(d)}}),pl=Bg(function(a,b){return f(Qc(b,1),function(b){a[b]=Kk(a[b],a)}),a}),ql=ee(),rl=ee(!0),sl=Bg(function(a,b){return function(c){return _c(c,a,b)}}),tl=Bg(function(a,b){return function(c){return _c(a,c,b)}}),ul=he(l),vl=he(h),wl=he(p),xl=ke(),yl=ke(!0),zl=J(function(a,b){return a+b}),Al=me("ceil"),Bl=J(function(a,b){return a/b}),Cl=me("floor"),Dl=J(function(a,b){return a*b}),El=me("round"),Fl=J(function(a,b){return a-b});return Cb.after=rg,Cb.ary=sg,Cb.assign=Uk,Cb.assignIn=Vk,Cb.assignInWith=Wk,Cb.assignWith=Xk,Cb.at=Yk,Cb.before=tg,Cb.bind=Kk,Cb.bindAll=pl,Cb.bindKey=Lk,Cb.castArray=Gg,Cb.chain=Pf,Cb.chunk=We,Cb.compact=Xe,Cb.concat=Ye,Cb.cond=Ei,Cb.conforms=Fi,Cb.constant=Gi,Cb.countBy=Dk,Cb.create=Eh,Cb.curry=ug,Cb.curryRight=vg,Cb.debounce=wg,Cb.defaults=Zk,Cb.defaultsDeep=$k,Cb.defer=Mk,Cb.delay=Nk,Cb.difference=lk,Cb.differenceBy=mk,Cb.differenceWith=nk,Cb.drop=Ze,Cb.dropRight=$e,Cb.dropRightWhile=_e,Cb.dropWhile=af,Cb.fill=bf,Cb.filter=$f,Cb.flatMap=bg,Cb.flatMapDeep=cg,Cb.flatMapDepth=dg,Cb.flatten=ef,Cb.flattenDeep=ff,Cb.flattenDepth=gf,Cb.flip=xg,Cb.flow=ql,Cb.flowRight=rl,Cb.fromPairs=hf,Cb.functions=Lh,Cb.functionsIn=Mh,Cb.groupBy=Ek,Cb.initial=lf,Cb.intersection=ok,Cb.intersectionBy=pk,Cb.intersectionWith=qk,Cb.invert=_k,Cb.invertBy=al,Cb.invokeMap=Fk,Cb.iteratee=Ii,Cb.keyBy=Gk,Cb.keys=Qh,Cb.keysIn=Rh,Cb.map=hg,Cb.mapKeys=Sh,Cb.mapValues=Th,Cb.matches=Ji,Cb.matchesProperty=Ki,Cb.memoize=yg,Cb.merge=cl,Cb.mergeWith=dl,Cb.method=sl,Cb.methodOf=tl,Cb.mixin=Li,Cb.negate=zg,Cb.nthArg=Oi,Cb.omit=el,Cb.omitBy=Uh,Cb.once=Ag,Cb.orderBy=ig,Cb.over=ul,Cb.overArgs=Ok,Cb.overEvery=vl,Cb.overSome=wl,Cb.partial=Pk,Cb.partialRight=Qk,Cb.partition=Hk,Cb.pick=fl,Cb.pickBy=Vh,Cb.property=Pi,Cb.propertyOf=Qi,Cb.pull=rk,Cb.pullAll=pf,Cb.pullAllBy=qf,Cb.pullAllWith=rf,Cb.pullAt=sk,Cb.range=xl,Cb.rangeRight=yl,Cb.rearg=Rk,Cb.reject=lg,Cb.remove=sf,Cb.rest=Bg,Cb.reverse=tf,Cb.sampleSize=ng,Cb.set=Xh,Cb.setWith=Yh,Cb.shuffle=og,Cb.slice=uf,Cb.sortBy=Ik,Cb.sortedUniq=Bf,Cb.sortedUniqBy=Cf,Cb.split=ti,Cb.spread=Cg,Cb.tail=Df,Cb.take=Ef,Cb.takeRight=Ff,Cb.takeRightWhile=Gf,Cb.takeWhile=Hf,Cb.tap=Qf,Cb.throttle=Dg,Cb.thru=Rf,Cb.toArray=xh,Cb.toPairs=Zh,Cb.toPairsIn=$h,Cb.toPath=Si,Cb.toPlainObject=Bh,Cb.transform=_h,Cb.unary=Eg,Cb.union=tk,Cb.unionBy=uk,Cb.unionWith=vk,Cb.uniq=If,Cb.uniqBy=Jf,Cb.uniqWith=Kf,Cb.unset=ai,Cb.unzip=Lf,Cb.unzipWith=Mf,Cb.update=bi,Cb.updateWith=ci,Cb.values=di,Cb.valuesIn=ei,Cb.without=wk,Cb.words=Di,Cb.wrap=Fg,Cb.xor=xk,Cb.xorBy=yk,Cb.xorWith=zk,Cb.zip=Ak,Cb.zipObject=Nf,Cb.zipObjectDeep=Of,Cb.zipWith=Bk,Cb.entries=Zh,Cb.entriesIn=$h,Cb.extend=Vk,Cb.extendWith=Wk,Li(Cb,Cb),Cb.add=zl,Cb.attempt=ol,Cb.camelCase=gl,Cb.capitalize=ii,Cb.ceil=Al,Cb.clamp=fi,Cb.clone=Hg,Cb.cloneDeep=Jg,Cb.cloneDeepWith=Kg,Cb.cloneWith=Ig,Cb.deburr=ji,Cb.divide=Bl,Cb.endsWith=ki,Cb.eq=Lg,Cb.escape=li,Cb.escapeRegExp=mi,Cb.every=Zf,Cb.find=_f,Cb.findIndex=cf,Cb.findKey=Fh,Cb.findLast=ag,Cb.findLastIndex=df,Cb.findLastKey=Gh,Cb.floor=Cl,Cb.forEach=eg,Cb.forEachRight=fg,Cb.forIn=Hh,Cb.forInRight=Ih,Cb.forOwn=Jh,Cb.forOwnRight=Kh,Cb.get=Nh,Cb.gt=Mg,Cb.gte=Ng,Cb.has=Oh,Cb.hasIn=Ph,Cb.head=jf,Cb.identity=Hi,Cb.includes=gg,Cb.indexOf=kf,Cb.inRange=gi,Cb.invoke=bl,Cb.isArguments=Og,Cb.isArray=Sk,Cb.isArrayBuffer=Pg,Cb.isArrayLike=Qg,Cb.isArrayLikeObject=Rg,Cb.isBoolean=Sg,Cb.isBuffer=Tk,Cb.isDate=Tg,Cb.isElement=Ug,Cb.isEmpty=Vg,Cb.isEqual=Wg,Cb.isEqualWith=Xg,Cb.isError=Yg,Cb.isFinite=Zg,Cb.isFunction=$g,Cb.isInteger=_g,Cb.isLength=ah,Cb.isMap=dh,Cb.isMatch=eh,Cb.isMatchWith=fh,Cb.isNaN=gh,Cb.isNative=hh,Cb.isNil=jh,Cb.isNull=ih,Cb.isNumber=kh,Cb.isObject=bh,Cb.isObjectLike=ch,Cb.isPlainObject=lh,Cb.isRegExp=mh,Cb.isSafeInteger=nh,Cb.isSet=oh,Cb.isString=ph,Cb.isSymbol=qh,Cb.isTypedArray=rh,Cb.isUndefined=sh,Cb.isWeakMap=th,Cb.isWeakSet=uh,Cb.join=mf,Cb.kebabCase=hl,Cb.last=nf,Cb.lastIndexOf=of,Cb.lowerCase=il,Cb.lowerFirst=jl,Cb.lt=vh,Cb.lte=wh,Cb.max=Ui,Cb.maxBy=Vi,Cb.mean=Wi,Cb.meanBy=Xi,Cb.min=Yi,Cb.minBy=Zi,Cb.multiply=Dl,Cb.noConflict=Mi,Cb.noop=Ni,Cb.now=Jk,Cb.pad=ni,Cb.padEnd=oi,Cb.padStart=pi,Cb.parseInt=qi,Cb.random=hi,Cb.reduce=jg,Cb.reduceRight=kg,Cb.repeat=ri,Cb.replace=si,Cb.result=Wh,Cb.round=El,Cb.runInContext=X,Cb.sample=mg,Cb.size=pg,Cb.snakeCase=kl,Cb.some=qg,Cb.sortedIndex=vf,Cb.sortedIndexBy=wf,Cb.sortedIndexOf=xf,Cb.sortedLastIndex=yf,Cb.sortedLastIndexBy=zf,Cb.sortedLastIndexOf=Af,Cb.startCase=ll,Cb.startsWith=ui,Cb.subtract=Fl,Cb.sum=$i,Cb.sumBy=_i,Cb.template=vi,Cb.times=Ri,Cb.toInteger=yh,Cb.toLength=zh,Cb.toLower=wi,Cb.toNumber=Ah,Cb.toSafeInteger=Ch,Cb.toString=Dh,Cb.toUpper=xi,Cb.trim=yi,Cb.trimEnd=zi,Cb.trimStart=Ai,Cb.truncate=Bi,Cb.unescape=Ci,Cb.uniqueId=Ti,Cb.upperCase=ml,Cb.upperFirst=nl,Cb.each=eg,Cb.eachRight=fg,Cb.first=jf,Li(Cb,function(){var a={};return Rc(Cb,function(b,c){ij.call(Cb.prototype,c)||(a[c]=b)}),a}(),{chain:!1}),Cb.VERSION=Z,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){Cb[a].placeholder=Cb}),f(["drop","take"],function(a,b){Ib.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new Ib(this);c=c===Y?1:Gj(yh(c),0);var e=this.clone();return d?e.__takeCount__=Hj(c,e.__takeCount__):e.__views__.push({size:Hj(c,za),type:a+(e.__dir__<0?"Right":"")}),e},Ib.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),f(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==sa||c==ua;Ib.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:ue(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),f(["head","last"],function(a,b){var c="take"+(b?"Right":"");Ib.prototype[a]=function(){return this[c](1).value()[0]}}),f(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");Ib.prototype[a]=function(){return this.__filtered__?new Ib(this):this[c](1)}}),Ib.prototype.compact=function(){return this.filter(Hi)},Ib.prototype.find=function(a){return this.filter(a).head()},Ib.prototype.findLast=function(a){return this.reverse().find(a)},Ib.prototype.invokeMap=Bg(function(a,b){return"function"==typeof a?new Ib(this):this.map(function(c){return _c(c,a,b)})}),Ib.prototype.reject=function(a){return a=ue(a,3),this.filter(function(b){return!a(b)})},Ib.prototype.slice=function(a,b){a=yh(a);var c=this;return c.__filtered__&&(a>0||0>b)?new Ib(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==Y&&(b=yh(b),c=0>b?c.dropRight(-b):c.take(b-a)),c)},Ib.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ib.prototype.toArray=function(){return this.take(za)},Rc(Ib.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=Cb[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);e&&(Cb.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof Ib,i=g[0],j=h||Sk(b),k=function(a){var b=e.apply(Cb,m([a],g));return d&&l?b[0]:b};j&&c&&"function"==typeof i&&1!=i.length&&(h=j=!1);var l=this.__chain__,n=!!this.__actions__.length,o=f&&!l,p=h&&!n;if(!f&&j){b=p?b:new Ib(this);var q=a.apply(b,g);return q.__actions__.push({func:Rf,args:[k],thisArg:Y}),new Hb(q,l)}return o&&p?a.apply(this,g):(q=this.thru(k),o?d?q.value()[0]:q.value():q)})}),f(["pop","push","shift","sort","splice","unshift"],function(a){var b=fj[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);Cb.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(Sk(e)?e:[],a)}return this[c](function(c){return b.apply(Sk(c)?c:[],a)})}}),Rc(Ib.prototype,function(a,b){var c=Cb[b];if(c){var d=c.name+"",e=Tj[d]||(Tj[d]=[]);e.push({name:b,func:c})}}),Tj[fe(Y,da).name]=[{name:"wrapper",func:Y}],Ib.prototype.clone=Jb,Ib.prototype.reverse=Kb,Ib.prototype.value=Lb,Cb.prototype.at=Ck,Cb.prototype.chain=Sf,Cb.prototype.commit=Tf,Cb.prototype.next=Uf,Cb.prototype.plant=Wf,Cb.prototype.reverse=Xf,Cb.prototype.toJSON=Cb.prototype.valueOf=Cb.prototype.value=Yf,vj&&(Cb.prototype[vj]=Vf),Cb}var Y,Z="4.9.0",$=200,_="Expected a function",aa="__lodash_hash_undefined__",ba="__lodash_placeholder__",ca=1,da=2,ea=4,fa=8,ga=16,ha=32,ia=64,ja=128,ka=256,la=512,ma=1,na=2,oa=30,pa="...",qa=150,ra=16,sa=1,ta=2,ua=3,va=1/0,wa=9007199254740991,xa=1.7976931348623157e308,ya=NaN,za=4294967295,Aa=za-1,Ba=za>>>1,Ca="[object Arguments]",Da="[object Array]",Ea="[object Boolean]",Fa="[object Date]",Ga="[object Error]",Ha="[object Function]",Ia="[object GeneratorFunction]",Ja="[object Map]",Ka="[object Number]",La="[object Object]",Ma="[object Promise]",Na="[object RegExp]",Oa="[object Set]",Pa="[object String]",Qa="[object Symbol]",Ra="[object WeakMap]",Sa="[object WeakSet]",Ta="[object ArrayBuffer]",Ua="[object DataView]",Va="[object Float32Array]",Wa="[object Float64Array]",Xa="[object Int8Array]",Ya="[object Int16Array]",Za="[object Int32Array]",$a="[object Uint8Array]",_a="[object Uint8ClampedArray]",ab="[object Uint16Array]",bb="[object Uint32Array]",cb=/\b__p \+= '';/g,db=/\b(__p \+=) '' \+/g,eb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fb=/&(?:amp|lt|gt|quot|#39|#96);/g,gb=/[&<>"'`]/g,hb=RegExp(fb.source),ib=RegExp(gb.source),jb=/<%-([\s\S]+?)%>/g,kb=/<%([\s\S]+?)%>/g,lb=/<%=([\s\S]+?)%>/g,mb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nb=/^\w*$/,ob=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,pb=/[\\^$.*+?()[\]{}|]/g,qb=RegExp(pb.source),rb=/^\s+|\s+$/g,sb=/^\s+/,tb=/\s+$/,ub=/\\(\\)?/g,vb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wb=/\w*$/,xb=/^0x/i,yb=/^[-+]0x[0-9a-f]+$/i,zb=/^0b[01]+$/i,Ab=/^\[object .+?Constructor\]$/,Bb=/^0o[0-7]+$/i,Cb=/^(?:0|[1-9]\d*)$/,Db=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Eb=/($^)/,Fb=/['\n\r\u2028\u2029\\]/g,Gb="\\ud800-\\udfff",Hb="\\u0300-\\u036f\\ufe20-\\ufe23",Ib="\\u20d0-\\u20f0",Jb="\\u2700-\\u27bf",Kb="a-z\\xdf-\\xf6\\xf8-\\xff",Lb="\\xac\\xb1\\xd7\\xf7",Mb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Nb="\\u2018\\u2019\\u201c\\u201d",Ob=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pb="A-Z\\xc0-\\xd6\\xd8-\\xde",Qb="\\ufe0e\\ufe0f",Rb=Lb+Mb+Nb+Ob,Sb="["+Gb+"]",Tb="["+Rb+"]",Ub="["+Hb+Ib+"]",Vb="\\d+",Wb="["+Jb+"]",Xb="["+Kb+"]",Yb="[^"+Gb+Rb+Vb+Jb+Kb+Pb+"]",Zb="\\ud83c[\\udffb-\\udfff]",$b="(?:"+Ub+"|"+Zb+")",_b="[^"+Gb+"]",ac="(?:\\ud83c[\\udde6-\\uddff]){2}",bc="[\\ud800-\\udbff][\\udc00-\\udfff]",cc="["+Pb+"]",dc="\\u200d",ec="(?:"+Xb+"|"+Yb+")",fc="(?:"+cc+"|"+Yb+")",gc=$b+"?",hc="["+Qb+"]?",ic="(?:"+dc+"(?:"+[_b,ac,bc].join("|")+")"+hc+gc+")*",jc=hc+gc+ic,kc="(?:"+[Wb,ac,bc].join("|")+")"+jc,lc="(?:"+[_b+Ub+"?",Ub,ac,bc,Sb].join("|")+")",mc=RegExp(Ub,"g"),nc=RegExp(Zb+"(?="+Zb+")|"+lc+jc,"g"),oc=RegExp("["+dc+Gb+Hb+Ib+Qb+"]"),pc=/[a-zA-Z0-9]+/g,qc=RegExp([cc+"?"+Xb+"+(?="+[Tb,cc,"$"].join("|")+")",fc+"+(?="+[Tb,cc+ec,"$"].join("|")+")",cc+"?"+ec+"+",cc+"+",Vb,kc].join("|"),"g"),rc=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tc=-1,uc={};uc[Va]=uc[Wa]=uc[Xa]=uc[Ya]=uc[Za]=uc[$a]=uc[_a]=uc[ab]=uc[bb]=!0,uc[Ca]=uc[Da]=uc[Ta]=uc[Ea]=uc[Ua]=uc[Fa]=uc[Ga]=uc[Ha]=uc[Ja]=uc[Ka]=uc[La]=uc[Na]=uc[Oa]=uc[Pa]=uc[Ra]=!1;var vc={};vc[Ca]=vc[Da]=vc[Ta]=vc[Ua]=vc[Ea]=vc[Fa]=vc[Va]=vc[Wa]=vc[Xa]=vc[Ya]=vc[Za]=vc[Ja]=vc[Ka]=vc[La]=vc[Na]=vc[Oa]=vc[Pa]=vc[Qa]=vc[$a]=vc[_a]=vc[ab]=vc[bb]=!0,vc[Ga]=vc[Ha]=vc[Ra]=!1;var wc={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},xc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},yc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},zc={"function":!0,object:!0},Ac={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bc=parseFloat,Cc=parseInt,Dc=zc[typeof exports]&&exports&&!exports.nodeType?exports:Y,Ec=zc[typeof module]&&module&&!module.nodeType?module:Y,Fc=Ec&&Ec.exports===Dc?Dc:Y,Gc=F(Dc&&Ec&&"object"==typeof global&&global),Hc=F(zc[typeof self]&&self),Ic=F(zc[typeof window]&&window),Jc=F(zc[typeof this]&&this),Kc=Gc||Ic!==(Jc&&Jc.window)&&Ic||Hc||Jc||Function("return this")(),Lc=X();(Ic||Hc||{})._=Lc,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Lc}):Dc&&Ec?(Fc&&((Ec.exports=Lc)._=Lc),Dc._=Lc):Kc._=Lc}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",
c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){
c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a){"use strict";function b(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?ta(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.5.11/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(ta(f[d]));return new b(h)}}function c(a){if(null==a||A(a))return!1;if(ce(a)||v(a)||Sd&&a instanceof Sd)return!0;var b="length"in Object(a)&&a.length;return w(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function d(a,b,e){var f,g;if(a)if(y(a))for(f in a)"prototype"===f||"length"===f||"name"===f||a.hasOwnProperty&&!a.hasOwnProperty(f)||b.call(e,a[f],f,a);else if(ce(a)||c(a)){var h="object"!=typeof a;for(f=0,g=a.length;g>f;f++)(h||f in a)&&b.call(e,a[f],f,a)}else if(a.forEach&&a.forEach!==d)a.forEach(b,e,a);else if(u(a))for(f in a)b.call(e,a[f],f,a);else if("function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else for(f in a)Md.call(a,f)&&b.call(e,a[f],f,a);return a}function e(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function g(){return++ae}function h(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function i(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(t(g)||y(g))for(var j=Object.keys(g),k=0,l=j.length;l>k;k++){var m=j[k],n=g[m];c&&t(n)?x(n)?a[m]=new Date(n.valueOf()):z(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):J(n)?a[m]=n.clone():(t(a[m])||(a[m]=ce(n)?[]:{}),i(a[m],[n],!0)):a[m]=n}}return h(a,d),a}function j(a){return i(a,Vd.call(arguments,1),!1)}function k(a){return i(a,Vd.call(arguments,1),!0)}function l(a){return parseInt(a,10)}function m(a,b){return j(Object.create(a),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return y(a.toString)&&a.toString!==Yd}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return null!==a&&"object"==typeof a&&!Zd(a)}function v(a){return"string"==typeof a}function w(a){return"number"==typeof a}function x(a){return"[object Date]"===Yd.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===Yd.call(a)}function A(a){return a&&a.window===a}function B(a){return a&&a.$evalAsync&&a.$watch}function C(a){return"[object File]"===Yd.call(a)}function D(a){return"[object FormData]"===Yd.call(a)}function E(a){return"[object Blob]"===Yd.call(a)}function F(a){return"boolean"==typeof a}function G(a){return a&&y(a.then)}function H(a){return a&&w(a.length)&&de.test(Yd.call(a))}function I(a){return"[object ArrayBuffer]"===Yd.call(a)}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return Nd(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function N(a,b){function c(a,b){var c,d=b.$$hashKey;if(ce(a))for(var f=0,g=a.length;g>f;f++)b.push(e(a[f]));else if(u(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Md.call(a,c)&&(b[c]=e(a[c]));return h(b,d),b}function e(a){if(!t(a))return a;var b=g.indexOf(a);if(-1!==b)return i[b];if(A(a)||B(a))throw $d("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,e=f(a);return void 0===e&&(e=ce(a)?[]:Object.create(Zd(a)),d=!0),g.push(a),i.push(e),d?c(a,e):e}function f(a){switch(Yd.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}return y(a.cloneNode)?a.cloneNode(!0):void 0}var g=[],i=[];if(b){if(H(b)||I(b))throw $d("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw $d("cpi","Can't copy! Source and destination are identical.");return ce(b)?b.length=0:d(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),i.push(b),c(a,b)}return e(a)}function O(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f===g&&"object"===f){if(!ce(a)){if(x(a))return x(b)?O(a.getTime(),b.getTime()):!1;if(z(a))return z(b)?a.toString()===b.toString():!1;if(B(a)||B(b)||A(a)||A(b)||ce(b)||x(b)||z(b))return!1;e=pa();for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!O(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&s(b[d])&&!y(b[d]))return!1;return!0}if(!ce(b))return!1;if((c=a.length)===b.length){for(d=0;c>d;d++)if(!O(a[d],b[d]))return!1;return!0}}return!1}function P(a,b,c){return a.concat(Vd.call(b,c))}function Q(a,b){return Vd.call(a,b||0)}function R(a,b){var c=arguments.length>2?Q(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,P(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function S(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:A(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":B(c)&&(d="$SCOPE"),d}function T(a,b){return r(a)?void 0:(w(b)||(b=b?2:null),JSON.stringify(a,S,b))}function U(a){return v(a)?JSON.parse(a):a}function V(a,b){a=a.replace(ie,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return be(c)?b:c}function W(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function X(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=V(b,d);return W(a,c*(e-d))}function Y(a){a=Sd(a).clone();try{a.empty()}catch(b){}var c=Sd("<div>").append(a).html();try{return a[0].nodeType===pe?Nd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+Nd(b)})}catch(b){return Nd(c)}}function Z(a){try{return decodeURIComponent(a)}catch(b){}}function $(a){var b={};return d((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=Z(d),s(d)&&(e=s(e)?Z(e):!0,Md.call(b,d)?ce(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function _(a){var b=[];return d(a,function(a,c){ce(a)?d(a,function(a){b.push(ba(c,!0)+(a===!0?"":"="+ba(a,!0)))}):b.push(ba(c,!0)+(a===!0?"":"="+ba(a,!0)))}),b.length?b.join("&"):""}function aa(a){return ba(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ba(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ca(a,b){var c,d,e=je.length;for(d=0;e>d;++d)if(c=je[d]+b,v(c=a.getAttribute(c)))return c;return null}function da(a){var b=a.currentScript,c=b&&b.getAttribute("src");if(!c)return!0;var d=a.createElement("a");if(d.href=c,a.location.origin===d.origin)return!0;switch(d.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function ea(b,c){var e,f,g={};if(d(je,function(a){var c=a+"app";!e&&b.hasAttribute&&b.hasAttribute(c)&&(e=b,f=b.getAttribute(c))}),d(je,function(a){var c,d=a+"app";!e&&(c=b.querySelector("["+d.replace(":","\\:")+"]"))&&(e=c,f=c.getAttribute(d))}),e){if(!ke)return void a.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");g.strictDi=null!==ca(e,"strict-di"),c(e,f?[f]:[],g)}}function fa(b,c,e){t(e)||(e={});var f={strictDi:!1};e=j(f,e);var g=function(){if(b=Sd(b),b.injector()){var d=b[0]===a.document?"document":Y(b);throw $d("btstrpd","App already bootstrapped with this element '{0}'",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),e.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=eb(c,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),_d.resumeBootstrap=function(a){return d(a,function(a){c.push(a)}),g()},void(y(_d.resumeDeferredBootstrap)&&_d.resumeDeferredBootstrap()))}function ga(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ha(a){var b=_d.element(a).injector();if(!b)throw $d("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ia(a,b){return b=b||"_",a.replace(le,function(a,c){return(c?b:"")+a.toLowerCase()})}function ja(){var b;if(!me){var c=he();Td=r(c)?a.jQuery:c?a[c]:void 0,Td&&Td.fn.on?(Sd=Td,j(Td.fn,{scope:Ie.scope,isolateScope:Ie.isolateScope,controller:Ie.controller,injector:Ie.injector,inheritedData:Ie.inheritedData}),b=Td.cleanData,Td.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=Td._data(d,"events"),c&&c.$destroy&&Td(d).triggerHandler("$destroy");b(a)}):Sd=Ea,_d.element=Sd,me=!0}}function ka(a,b,c){if(!a)throw $d("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function la(a,b,c){return c&&ce(a)&&(a=a[a.length-1]),ka(y(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ma(a,b){if("hasOwnProperty"===a)throw $d("badname","hasOwnProperty is not a valid {0} name",b)}function na(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&y(a)?R(f,a):a}function oa(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Sd(Vd.call(a,0,e))),b.push(c));return b||a}function pa(){return Object.create(null)}function qa(a){function c(a,b,c){return a[b]||(a[b]=c())}var d=b("$injector"),e=b("ng"),f=c(a,"angular",Object);return f.$$minErr=f.$$minErr||b,c(f,"module",function(){var a={};return function(b,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(b,"module"),f&&a.hasOwnProperty(b)&&(a[b]=null),c(a,b,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function c(a,c){return function(d,f){return f&&y(f)&&(f.$$moduleName=b),e.push([a,c,arguments]),k}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",b);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:b,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function ra(a,b){if(ce(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function sa(a){var b=[];return JSON.stringify(a,function(a,c){if(c=S(a,c),t(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function ta(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):r(a)?"undefined":"string"!=typeof a?sa(a):a}function ua(c){j(c,{bootstrap:fa,copy:N,extend:j,merge:k,equals:O,element:Sd,forEach:d,injector:eb,noop:n,bind:R,toJson:T,fromJson:U,identity:o,isUndefined:r,isDefined:s,isString:v,isFunction:y,isObject:t,isNumber:w,isElement:J,isArray:ce,version:te,isDate:x,lowercase:Nd,uppercase:Od,callbacks:{$$counter:0},getTestability:ha,$$minErr:b,$$csp:ge,reloadWithDebugInfo:ga}),(Ud=qa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:zc}),a.provider("$compile",pb).directive({a:cg,input:vg,textarea:vg,form:hg,script:qh,select:th,option:uh,ngBind:yg,ngBindHtml:Ag,ngBindTemplate:zg,ngClass:Cg,ngClassEven:Eg,ngClassOdd:Dg,ngCloak:Fg,ngController:Gg,ngForm:ig,ngHide:jh,ngIf:Jg,ngInclude:Kg,ngInit:Mg,ngNonBindable:ah,ngPluralize:eh,ngRepeat:fh,ngShow:ih,ngStyle:kh,ngSwitch:lh,ngSwitchWhen:mh,ngSwitchDefault:nh,ngOptions:dh,ngTransclude:ph,ngModel:Zg,ngList:Ng,ngChange:Bg,pattern:wh,ngPattern:wh,required:vh,ngRequired:vh,minlength:yh,ngMinlength:yh,maxlength:xh,ngMaxlength:xh,ngValue:xg,ngModelOptions:_g}).directive({ngInclude:Lg}).directive(dg).directive(Hg),a.provider({$anchorScroll:fb,$animate:Ye,$animateCss:_e,$$animateJs:We,$$animateQueue:Xe,$$AnimateRunner:$e,$$animateAsyncRun:Ze,$browser:lb,$cacheFactory:mb,$controller:vb,$document:wb,$exceptionHandler:xb,$filter:Nc,$$forceReflow:ff,$interpolate:Lb,$interval:Mb,$http:Hb,$httpParamSerializer:zb,$httpParamSerializerJQLike:Ab,$httpBackend:Jb,$xhrFactory:Ib,$jsonpCallbacks:pf,$location:_b,$log:ac,$parse:tc,$rootScope:yc,$q:uc,$$q:vc,$sce:Dc,$sceDelegate:Cc,$sniffer:Ec,$templateCache:nb,$templateRequest:Fc,$$testability:Gc,$timeout:Hc,$window:Kc,$$rAF:xc,$$jqLite:Za,$$HashMap:Me,$$cookieReader:Mc})}])}function va(){return++ve}function wa(a){return a.replace(ye,function(a,b,c,d){return d?c.toUpperCase():c}).replace(ze,"Moz$1")}function xa(a){return!De.test(a)}function ya(a){var b=a.nodeType;return b===ne||!b||b===re}function za(a){for(var b in ue[a.ng339])return!0;return!1}function Aa(a){for(var b=0,c=a.length;c>b;b++)Ia(a[b])}function Ba(a,b){var c,e,f,g,h=b.createDocumentFragment(),i=[];if(xa(a))i.push(b.createTextNode(a));else{for(c=h.appendChild(b.createElement("div")),e=(Ee.exec(a)||["",""])[1].toLowerCase(),f=Ge[e]||Ge._default,c.innerHTML=f[1]+a.replace(Fe,"<$1></$2>")+f[2],g=f[0];g--;)c=c.lastChild;i=P(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",d(i,function(a){h.appendChild(a)}),h}function Ca(b,c){c=c||a.document;var d;return(d=Ce.exec(b))?[c.createElement(d[1])]:(d=Ba(b,c))?d.childNodes:[]}function Da(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Ea(a){if(a instanceof Ea)return a;var b;if(v(a)&&(a=ee(a),b=!0),!(this instanceof Ea)){if(b&&"<"!==a.charAt(0))throw Be("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ea(a)}b?Oa(this,Ca(a)):Oa(this,a)}function Fa(a){return a.cloneNode(!0)}function Ga(a,b){if(b||Ia(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Ia(c[d])}function Ha(a,b,c,e){if(s(e))throw Be("offargs","jqLite#off() does not support the `selector` argument");var f=Ja(a),g=f&&f.events,h=f&&f.handle;if(h)if(b){var i=function(b){var d=g[b];s(c)&&M(d||[],c),s(c)&&d&&d.length>0||(xe(a,b,h),delete g[b])};d(b.split(" "),function(a){i(a),Ae[a]&&i(Ae[a])})}else for(b in g)"$destroy"!==b&&xe(a,b,h),delete g[b]}function Ia(a,b){var c=a.ng339,d=c&&ue[c];if(d){if(b)return void delete d.data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ha(a)),delete ue[c],a.ng339=void 0}}function Ja(a,b){var c=a.ng339,d=c&&ue[c];return b&&!d&&(a.ng339=c=va(),d=ue[c]={events:{},data:{},handle:void 0}),d}function Ka(a,b,c){if(ya(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=Ja(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];j(h,b)}}}function La(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Ma(a,b){b&&a.setAttribute&&d(b.split(" "),function(b){a.setAttribute("class",ee((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ee(b)+" "," ")))})}function Na(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");d(b.split(" "),function(a){a=ee(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",ee(c))}}function Oa(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Pa(a,b){return Qa(a,"$"+(b||"ngController")+"Controller")}function Qa(a,b,c){a.nodeType===re&&(a=a.documentElement);for(var d=ce(b)?b:[b];a;){for(var e=0,f=d.length;f>e;e++)if(s(c=Sd.data(a,d[e])))return c;a=a.parentNode||a.nodeType===se&&a.host}}function Ra(a){for(Ga(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Sa(a,b){b||Ga(a);var c=a.parentNode;c&&c.removeChild(a)}function Ta(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Sd(c).on("load",b)}function Ua(a,b){var c=Je[b.toLowerCase()];return c&&Ke[L(a)]&&c}function Va(a){return Le[a]}function Wa(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||Xa;f>1&&(e=ra(e));for(var i=0;f>i;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Xa(a,b,c){c.call(a,b)}function Ya(a,b,c){var d=b.relatedTarget;(!d||d!==a&&!He.call(a,d))&&c.call(a,b)}function Za(){this.$get=function(){return j(Ea,{hasClass:function(a,b){return a.attr&&(a=a[0]),La(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Na(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ma(a,b)}})}}function $a(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||g)():d+":"+a}function _a(a,b){if(b){var c=0;this.nextUid=function(){return++c}}d(a,this.put,this)}function ab(a){return Function.prototype.toString.call(a)+" "}function bb(a){var b=ab(a).replace(Re,""),c=b.match(Ne)||b.match(Oe);return c}function cb(a){var b=bb(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b,c){var e,f,g;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(b)throw v(c)&&c||(c=a.name||cb(a)),Se("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);f=bb(a),d(f[1].split(Pe),function(a){a.replace(Qe,function(a,b,c){e.push(c)})})}a.$inject=e}}else ce(a)?(g=a.length-1,la(a[g],"fn"),e=a.slice(0,g)):la(a,"fn",!0);return e}function eb(a,b){function c(a){return function(b,c){return t(b)?void d(b,f(a)):a(b,c)}}function e(a,b){if(ma(a,"service"),(y(b)||ce(b))&&(b=x.instantiate(b)),!b.$get)throw Se("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(r(c))throw Se("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function i(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return h(a,p(b),!1)}function k(a,b){ma(a,"constant"),w[a]=b,z[a]=b}function l(a,b){var c=x.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){ka(r(a)||ce(a),"modulesToLoad","not an array");var b,c=[];return d(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=x.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{v(a)?(b=Ud(a),c=c.concat(m(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):y(a)?c.push(x.invoke(a)):ce(a)?c.push(x.invoke(a)):la(a,"module")}catch(e){throw ce(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Se("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function n(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===o)throw Se("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=o,a[b]=c(b,d),a[b]}catch(e){throw a[b]===o&&delete a[b],e}finally{s.shift()}}function e(a,c,e){for(var f=[],g=eb.$$annotate(a,b,e),h=0,i=g.length;i>h;h++){var j=g[h];if("string"!=typeof j)throw Se("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return 11>=Rd?!1:"function"==typeof a&&/^(?:class\b|constructor\()/.test(ab(a))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return ce(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=ce(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:eb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var o={},q="Provider",s=[],u=new _a([],!0),w={$provide:{provider:c(e),factory:c(h),service:c(i),value:c(j),constant:c(k),decorator:l}},x=w.$injector=n(w,function(a,b){throw _d.isString(b)&&s.push(b),Se("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},A=n(z,function(a,b){var c=x.get(a+q,b);return B.invoke(c.$get,c,void 0,a)}),B=A;w["$injector"+q]={$get:p(A)};var C=m(a);return B=A.get("$injector"),B.strictDi=b,d(C,function(a){a&&B.invoke(a)}),B}function fb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===L(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(y(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else w(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=v(a)?a:w(a)?a.toString():c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Ta(function(){d.$evalAsync(h)})}),h}]}function gb(a,b){return a||b?a?b?(ce(a)&&(a=a.join(" ")),ce(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function hb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Ue)return c}}function ib(a){v(a)&&(a=a.split(" "));var b=pa();return d(a,function(a){a.length&&(b[a]=!0)}),b}function jb(a){return t(a)?a:{}}function kb(a,b,c,e){function f(a){try{a.apply(null,Q(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=r(u)?null:u,O(u,C)&&(u=C),C=u}function j(){(w!==k.url()||v!==u)&&(w=k.url(),v=u,d(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,o=a.setTimeout,p=a.clearTimeout,q={};k.isMock=!1;var s=0,t=[];k.$$completeOutstandingRequest=f,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){0===s?a():t.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=e.history?function(){try{return m.state}catch(a){}}:n;i(),v=u,k.url=function(b,c,d){if(r(d)&&(d=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===d;if(w===b&&(!e.history||f))return k;var h=w&&Sb(w)===Sb(b);return w=b,v=d,!e.history||h&&f?(h||(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](d,"",b),i(),v=u),y&&(y=b),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(e.history&&Sd(a).on("popstate",h),Sd(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Sd(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""},k.defer=function(a,b){var c;return s++,c=o(function(){delete q[c],f(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return q[a]?(delete q[a],p(a),f(n),!0):!1}}function lb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new kb(a,d,b,c)}]}function mb(){this.$get=function(){function a(a,d){function e(a){a!==m&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in c)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=j({},d,{id:a}),i=pa(),k=d&&d.capacity||Number.MAX_VALUE,l=pa(),m=null,n=null;return c[a]={put:function(a,b){if(!r(b)){if(k<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>k&&this.remove(n.key),b}},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b===m&&(m=b.p),b===n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=pa(),g=0,l=pa(),m=n=null},destroy:function(){i=null,h=null,l=null,delete c[a]},info:function(){return j({},h,{size:g})}}}var c={};return a.info=function(){var a={};return d(c,function(b,c){a[c]=b.info()}),a},a.get=function(a){return c[a]},a}}function nb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function ob(){}function pb(b,c){function e(a,b,c){var e=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,f=pa();return d(a,function(a,d){if(a in C)return void(f[d]=C[a]);var g=a.match(e);if(!g)throw af("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,d,a,c?"controller bindings definition":"isolate scope definition");f[d]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||d},g[4]&&(C[a]=f[d])}),f}function g(a,b){var c={isolateScope:null,bindToController:null};if(t(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),t(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),c.bindToController&&!a.controller)throw af("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);return c}function h(a){var b=a.charAt(0);if(!b||b!==Nd(b))throw af("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw af("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}function i(a){var b=a.require||a.controller&&a.name;return!ce(b)&&t(b)&&d(b,function(a,c){var d=a.match(z),e=a.substring(d[0].length);e||(b[c]=d[0]+c)}),b}function k(a,b){if(a&&(!v(a)||!/[EACM]/.test(a)))throw af("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",a,b);return a||"EA"}var l={},q="Directive",u=/^\s*directive:\s*([\w-]+)\s+(.*)$/,w=/(([\w-]+)(?::([^;]+))?;?)/,x=K("ngSrc,ngSrcset,src,srcset"),z=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,A=/^(on[a-z]+|formaction)$/,C=pa();this.directive=function J(a,c){return ka(a,"name"),ma(a,"directive"),v(a)?(h(a),ka(c,"directiveFactory"),l.hasOwnProperty(a)||(l[a]=[],b.factory(a+q,["$injector","$exceptionHandler",function(b,c){var e=[];return d(l[a],function(d,f){try{var g=b.invoke(d);y(g)?g={compile:p(g)}:!g.compile&&g.link&&(g.compile=p(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||a,g.require=i(g),g.restrict=k(g.restrict,a),g.$$moduleName=d.$$moduleName,e.push(g)}catch(h){c(h)}}),e}])),l[a].push(c)):d(a,f(J)),this},this.component=function(a,b){function c(a){function c(b){return y(b)||ce(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:e,controllerAs:ub(b.controller)||b.controllerAs||"$ctrl",template:c(f),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return d(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var e=b.controller||function(){};return d(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,y(e)&&(e[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return s(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var D=!0;this.debugInfoEnabled=function(a){return s(a)?(D=a,this):D};var E=!0;this.preAssignBindingsEnabled=function(a){return s(a)?(E=a,this):E};var G=10;this.onChangesTtl=function(a){return arguments.length?(G=a,this):G};var H=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(H=a,this):H};var I=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(I=a,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(b,c,e,f,h,i,k,p,C,J){
function K(){try{if(!--Ca)throw wa=void 0,af("infchng","{0} $onChanges() iterations reached. Aborting!\n",G);k.$apply(function(){for(var a=[],b=0,c=wa.length;c>b;++b)try{wa[b]()}catch(d){a.push(d)}if(wa=void 0,a.length)throw a})}finally{Ca++}}function N(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function P(a,b,c){za.innerHTML="<span "+b+">";var d=za.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function S(a,b){try{a.addClass(b)}catch(c){}}function T(b,c,d,e,f){b instanceof Sd||(b=Sd(b));for(var g=/\S+/,h=0,i=b.length;i>h;h++){var j=b[h];j.nodeType===pe&&j.nodeValue.match(g)&&Da(j,b[h]=a.document.createElement("span"))}var k=V(b,c,b,d,e,f);T.$$addScopeClass(b);var l=null;return function(a,c,d){ka(a,"scope"),f&&f.needsNewScope&&(a=a.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=U(h));var i;if(i="html"!==l?Sd(oa(l,Sd("<div>").append(b).html())):c?Ie.clone.call(b):b,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return T.$$addScopeInfo(i,a),c&&c(i,a),k&&k(a,i,i,e),i}}function U(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&Yd.call(b).match(/SVG/)?"svg":"html"}function V(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;k>j;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),T.$$addScopeInfo(Sd(h),i)):i=a,m=f.transcludeOnThisElement?W(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?W(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=0;p<a.length;p++)h=new N,i=X(a[p],[],h,0===p?d:void 0,e),j=i.length?ba(i,a[p],h,b,c,null,[],[],f):null,j&&j.scope&&T.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[p].childNodes)||!k.length?null:V(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(p,j,l),m=!0,n=n||j),f=null;return m?g:null}function W(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=pa();for(var f in b.$$slots)b.$$slots[f]?e[f]=W(a,b.$$slots[f],c):e[f]=null;return d}function X(a,b,c,d,e){var f,g,h,i=a.nodeType,j=c.$attr;switch(i){case ne:g=L(a),fa(b,rb(g),"E",d,e);for(var k,l,m,n,o,p,q=a.attributes,r=0,s=q&&q.length;s>r;r++){var u=!1,x=!1;k=q[r],l=k.name,o=ee(k.value),n=rb(l),p=Ia.test(n),p&&(l=l.replace(cf,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=n.match(Ja);y&&ga(y[1])&&(u=l,x=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),m=rb(l.toLowerCase()),j[m]=l,(p||!c.hasOwnProperty(m))&&(c[m]=o,Ua(a,m)&&(c[m]=!0)),ra(a,b,o,m,p),fa(b,m,"A",d,e,u,x)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ba)break;if(h=a.className,t(h)&&(h=h.animVal),v(h)&&""!==h)for(;f=w.exec(h);)m=rb(f[2]),fa(b,m,"C",d,e)&&(c[m]=ee(f[3])),h=h.substr(f.index+f[0].length);break;case pe:if(11===Rd)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===pe;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);na(b,a.nodeValue);break;case qe:if(!Aa)break;Z(a,b,c,d,e)}return b.sort(la),b}function Z(a,b,c,d,e){try{var f=u.exec(a.nodeValue);if(f){var g=rb(f[1]);fa(b,g,"M",d,e)&&(c[g]=ee(f[2]))}}catch(h){}}function $(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw af("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType===ne&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Sd(d)}function _(a,b,c){return function(d,e,f,g,h){return e=$(e[0],b,c),a(d,e,f,g,h)}}function aa(a,b,c,d,e,f){var g;return a?T(b,c,d,e,f):function(){return g||(g=T(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function ba(a,b,c,f,g,h,i,k,l){function m(a,b,c,d){a&&(c&&(a=_(a,c,d)),a.require=o.require,a.directiveName=p,(z===o||o.$$isolateScope)&&(a=ta(a,{isolateScope:!0})),i.push(a)),b&&(c&&(b=_(b,c,d)),b.require=o.require,b.directiveName=p,(z===o||o.$$isolateScope)&&(b=ta(b,{isolateScope:!0})),k.push(b))}function n(a,f,g,h,l){function m(a,b,c,d){var e;if(B(a)||(d=c,c=b,b=a,a=void 0),G&&(e=u),c||(c=G?C.parent():C),!d)return l(a,b,e,c,M);var f=l.$$slots[d];if(f)return f(a,b,e,c,M);if(r(f))throw af("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,Y(C))}var n,o,p,q,s,u,v,C,D,F;b===g?(D=c,C=c.$$element):(C=Sd(g),D=new N(C,c)),s=f,z?q=f.$new(!0):w&&(s=f.$parent),l&&(v=m,v.$$boundTransclude=l,v.isSlotFilled=function(a){return!!l.$$slots[a]}),x&&(u=da(C,D,v,x,q,f,z)),z&&(T.$$addScopeInfo(C,q,!0,!(A&&(A===z||A===z.$$originalDirective))),T.$$addScopeClass(C,!0),q.$$isolateBindings=z.$$isolateBindings,F=va(f,D,q,q.$$isolateBindings,z),F.removeWatches&&q.$on("$destroy",F.removeWatches));for(var H in u){var I=x[H],J=u[H],K=I.$$bindings.bindToController;if(E){K?J.bindingInfo=va(s,D,J.instance,K,I):J.bindingInfo={};var L=J();L!==J.instance&&(J.instance=L,C.data("$"+I.name+"Controller",L),J.bindingInfo.removeWatches&&J.bindingInfo.removeWatches(),J.bindingInfo=va(s,D,J.instance,K,I))}else J.instance=J(),C.data("$"+I.name+"Controller",J.instance),J.bindingInfo=va(s,D,J.instance,K,I)}for(d(x,function(a,b){var c=a.require;a.bindToController&&!ce(c)&&t(c)&&j(u[b].instance,ca(b,c,C,u))}),d(u,function(a){var b=a.instance;if(y(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(c){e(c)}if(y(b.$onInit))try{b.$onInit()}catch(c){e(c)}y(b.$doCheck)&&(s.$watch(function(){b.$doCheck()}),b.$doCheck()),y(b.$onDestroy)&&s.$on("$destroy",function(){b.$onDestroy()})}),n=0,o=i.length;o>n;n++)p=i[n],ua(p,p.isolateScope?q:f,C,D,p.require&&ca(p.directiveName,p.require,C,u),v);var M=f;for(z&&(z.template||null===z.templateUrl)&&(M=q),a&&a(M,g.childNodes,void 0,l),n=k.length-1;n>=0;n--)p=k[n],ua(p,p.isolateScope?q:f,C,D,p.require&&ca(p.directiveName,p.require,C,u),v);d(u,function(a){var b=a.instance;y(b.$postLink)&&b.$postLink()})}l=l||{};for(var o,p,q,s,u,v=-Number.MAX_VALUE,w=l.newScopeDirective,x=l.controllerDirectives,z=l.newIsolateScopeDirective,A=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,F=!1,G=l.hasElementTranscludeDirective,H=c.$$element=Sd(b),I=h,J=f,K=!1,M=!1,O=0,P=a.length;P>O;O++){o=a[O];var S=o.$$start,U=o.$$end;if(S&&(H=$(b,S,U)),q=void 0,v>o.priority)break;if(u=o.scope,u&&(o.templateUrl||(t(u)?(ma("new/isolated scope",z||w,o,H),z=o):ma("new/isolated scope",z,o,H)),w=w||o),p=o.name,!K&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var V,W=O+1;V=a[W++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){M=!0;break}K=!0}if(!o.templateUrl&&o.controller&&(x=x||pa(),ma("'"+p+"' controller",x[p],o,H),x[p]=o),u=o.transclude)if(D=!0,o.$$tlb||(ma("transclusion",C,o,H),C=o),"element"===u)G=!0,v=o.priority,q=H,H=c.$$element=Sd(T.$$createComment(p,c[p])),b=H[0],sa(g,Q(q),b),q[0].$$parentNode=q[0].parentNode,J=aa(M,q,f,v,I&&I.name,{nonTlbTranscludeDirective:C});else{var Z=pa();if(q=Sd(Fa(b)).contents(),t(u)){q=[];var ba=pa(),fa=pa();d(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,ba[a]=b,Z[b]=null,fa[b]=c}),d(H.contents(),function(a){var b=ba[rb(L(a))];b?(fa[b]=!0,Z[b]=Z[b]||[],Z[b].push(a)):q.push(a)}),d(fa,function(a,b){if(!a)throw af("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ga in Z)Z[ga]&&(Z[ga]=aa(M,Z[ga],f))}H.empty(),J=aa(M,q,f,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope}),J.$$slots=Z}if(o.template)if(F=!0,ma("template",A,o,H),A=o,u=y(o.template)?o.template(H,c):o.template,u=Ha(u),o.replace){if(I=o,q=xa(u)?[]:tb(oa(o.templateNamespace,ee(u))),b=q[0],1!==q.length||b.nodeType!==ne)throw af("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");sa(g,H,b);var ia={$attr:{}},ka=X(b,[],ia),la=a.splice(O+1,a.length-(O+1));(z||w)&&ea(ka,z,w),a=a.concat(ka).concat(la),ha(c,ia),P=a.length}else H.html(u);if(o.templateUrl)F=!0,ma("template",A,o,H),A=o,o.replace&&(I=o),n=ja(a.splice(O,a.length-O),H,c,g,D&&J,i,k,{controllerDirectives:x,newScopeDirective:w!==o&&w,newIsolateScopeDirective:z,templateDirective:A,nonTlbTranscludeDirective:C}),P=a.length;else if(o.compile)try{s=o.compile(H,c,J);var na=o.$$originalDirective||o;y(s)?m(null,R(na,s),S,U):s&&m(R(na,s.pre),R(na,s.post),S,U)}catch(qa){e(qa,Y(H))}o.terminal&&(n.terminal=!0,v=Math.max(v,o.priority))}return n.scope=w&&w.scope===!0,n.transcludeOnThisElement=D,n.templateOnThisElement=F,n.transclude=J,l.hasElementTranscludeDirective=G,n}function ca(a,b,c,e){var f;if(v(b)){var g=b.match(z),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(f=e&&e[h],f=f&&f.instance),!f){var k="$"+h+"Controller";f=i?c.inheritedData(k):c.data(k)}if(!f&&!j)throw af("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(ce(b)){f=[];for(var l=0,m=b.length;m>l;l++)f[l]=ca(a,b[l],c,e)}else t(b)&&(f={},d(b,function(b,d){f[d]=ca(a,b,c,e)}));return f||null}function da(a,b,c,d,e,f,g){var h=pa();for(var j in d){var k=d[j],l={$scope:k===g||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"===m&&(m=b[k.name]);var n=i(m,l,!0,k.controllerAs);h[k.name]=n,a.data("$"+k.name+"Controller",n.instance)}return h}function ea(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=m(a[d],{$$isolateScope:b,$$newScope:c})}function fa(a,c,d,e,f,h,i){if(c===f)return null;var j=null;if(l.hasOwnProperty(c))for(var k,n=b.get(c+q),o=0,p=n.length;p>o;o++)if(k=n[o],(r(e)||e>k.priority)&&-1!==k.restrict.indexOf(d)){if(h&&(k=m(k,{$$start:h,$$end:i})),!k.$$bindings){var s=k.$$bindings=g(k,k.name);t(s.isolateScope)&&(k.$$isolateBindings=s.isolateScope)}a.push(k),j=k}return j}function ga(a){if(l.hasOwnProperty(a))for(var c,d=b.get(a+q),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function ha(a,b){var c=b.$attr,e=a.$attr;d(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),d(b,function(b,d){a.hasOwnProperty(d)||"$"===d.charAt(0)||(a[d]=b,"class"!==d&&"style"!==d&&(e[d]=c[d]))})}function ja(a,b,c,e,g,h,i,j){var k,l,n=[],o=b[0],p=a.shift(),q=m(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=y(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),f(r).then(function(f){var m,u,v,w;if(f=Ha(f),p.replace){if(v=xa(f)?[]:tb(oa(s,ee(f))),m=v[0],1!==v.length||m.nodeType!==ne)throw af("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},sa(e,b,m);var x=X(m,[],u);t(p.scope)&&ea(x,!0),a=x.concat(a),ha(c,u)}else m=o,b.html(f);for(a.unshift(q),k=ba(a,m,c,g,b,p,h,i,j),d(e,function(a,c){a===m&&(e[c]=b[0])}),l=V(b[0].childNodes,g);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Fa(m)),sa(A,Sd(z),C),S(Sd(C),D)}w=k.transcludeOnThisElement?W(y,k.transclude,B):B,k(l,y,C,e,w)}}n=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(k.transcludeOnThisElement&&(f=W(b,k.transclude,e)),k(l,b,c,d,f)))}}function la(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ma(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw af("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Y(d))}function na(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&T.$$addBindingClass(b),function(a,b){var e=b.parent();c||T.$$addBindingClass(e),T.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function oa(b,c){switch(b=Nd(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function qa(a,b){if("srcdoc"===b)return p.HTML;var c=L(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return p.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b)return p.RESOURCE_URL}function ra(a,b,d,e,f){var g=qa(a,e),h=!f,i=x[e]||f,j=c(d,h,g,i);if(j){if("multiple"===e&&"select"===L(a))throw af("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(a));b.push({priority:100,compile:function(){return{pre:function(a,b,f){var h=f.$$observers||(f.$$observers=pa());if(A.test(e))throw af("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=f[e];k!==d&&(j=k&&c(k,!0,g,i),d=k),j&&(f[e]=j(a),(h[e]||(h[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(j,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function sa(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;f>e;e++)if(b[e]===g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;l>j;j++,k++)l>k?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;h>e;e++)m.appendChild(c[e]);for(Sd.hasData(g)&&(Sd.data(d,Sd.data(g)),Sd(g).off("$destroy")),Sd.cleanData(m.querySelectorAll("*")),e=1;h>e;e++)delete c[e];c[0]=d,c.length=1}function ta(a,b){return j(function(){return a.apply(null,arguments)},a,b)}function ua(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,Y(c))}}function va(a,b,e,f,g){function i(b,c,d){!y(e.$onChanges)||c===d||c!==c&&d!==d||(wa||(a.$$postDigest(K),wa=[]),k||(k={},wa.push(j)),k[b]&&(d=k[b].previousValue),k[b]=new qb(d,c))}function j(){e.$onChanges(k),k=void 0}var k,l=[],m={};return d(f,function(d,f){var j,k,o,p,q,r=d.attrName,s=d.optional,t=d.mode;switch(t){case"@":s||Md.call(b,r)||(e[f]=b[r]=void 0),q=b.$observe(r,function(a){if(v(a)||F(a)){var b=e[f];i(f,a,b),e[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],v(j)?e[f]=c(j)(a):F(j)&&(e[f]=j),m[f]=new qb(bf,e[f]),l.push(q);break;case"=":if(!Md.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),p=k.literal?O:function(a,b){return a===b||a!==a&&b!==b},o=k.assign||function(){throw j=e[f]=k(a),af("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=e[f]=k(a);var u=function(b){return p(b,e[f])||(p(b,j)?o(a,b=e[f]):e[f]=b),j=b};u.$stateful=!0,q=d.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),l.push(q);break;case"<":if(!Md.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]);var w=k.literal,x=e[f]=k(a);m[f]=new qb(bf,e[f]),q=a.$watch(k,function(a,b){if(b===a){if(b===x||w&&O(b,x))return;b=x}i(f,a,b),e[f]=a},w),l.push(q);break;case"&":if(k=b.hasOwnProperty(r)?h(b[r]):n,k===n&&s)break;e[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;b>a;++a)l[a]()}}}var wa,ya=/^\w/,za=a.document.createElement("div"),Aa=H,Ba=I,Ca=G;N.prototype={$normalize:rb,$addClass:function(a){a&&a.length>0&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=sb(a,b);c&&c.length&&C.addClass(this.$$element,c);var d=sb(b,a);d&&d.length&&C.removeClass(this.$$element,d)},$set:function(a,b,c,f){var g,h=this.$$element[0],i=Ua(h,a),j=Va(a),k=a;if(i?(this.$$element.prop(a,b),f=i):j&&(this[j]=b,k=j),this[a]=b,f?this.$attr[a]=f:(f=this.$attr[a],f||(this.$attr[a]=f=ia(a,"-"))),g=L(this.$$element),"a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=J(b,"src"===a);else if("img"===g&&"srcset"===a&&s(b)){for(var l="",m=ee(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),t=0;q>t;t++){var u=2*t;l+=J(ee(p[u]),!0),l+=" "+ee(p[u+1])}var v=ee(p[2*t]).split(/\s/);l+=J(ee(v[0]),!0),2===v.length&&(l+=" "+ee(v[1])),this[a]=b=l}c!==!1&&(null===b||r(b)?this.$$element.removeAttr(f):ya.test(f)?this.$$element.attr(f,b):P(this.$$element[0],f,b));var w=this.$$observers;w&&d(w[k],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=pa()),e=d[a]||(d[a]=[]);return e.push(b),k.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])}),function(){M(e,b)}}};var Ea=c.startSymbol(),Ga=c.endSymbol(),Ha="{{"===Ea&&"}}"===Ga?o:function(a){return a.replace(/\{\{/g,Ea).replace(/}}/g,Ga)},Ia=/^ngAttr[A-Z]/,Ja=/^(.+)Start$/;return T.$$addBindingInfo=D?function(a,b){var c=a.data("$binding")||[];ce(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:n,T.$$addBindingClass=D?function(a){S(a,"ng-binding")}:n,T.$$addScopeInfo=D?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:n,T.$$addScopeClass=D?function(a,b){S(a,b?"ng-isolate-scope":"ng-scope")}:n,T.$$createComment=function(b,c){var d="";return D&&(d=" "+(b||"")+": ",c&&(d+=c+" ")),a.document.createComment(d)},T}]}function qb(a,b){this.previousValue=a,this.currentValue=b}function rb(a){return wa(a.replace(cf,""))}function sb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g===e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function tb(a){a=Sd(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];(c.nodeType===qe||c.nodeType===pe&&""===c.nodeValue.trim())&&Wd.call(a,b,1)}return a}function ub(a,b){if(b&&v(b))return b;if(v(a)){var c=ef.exec(a);if(c)return c[3]}}function vb(){var a={},c=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){ma(b,"controller"),t(b)?j(a,b):a[b]=c},this.allowGlobals=function(){c=!0},this.$get=["$injector","$window",function(d,e){function f(a,c,d,e){if(!a||!t(a.$scope))throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,c);a.$scope[c]=d}return function(b,g,h,i){var k,l,m,n;if(h=h===!0,i&&v(i)&&(n=i),v(b)){if(l=b.match(ef),!l)throw df("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",b);if(m=l[1],n=n||l[3],b=a.hasOwnProperty(m)?a[m]:na(g.$scope,m,!0)||(c?na(e,m,!0):void 0),!b)throw df("ctrlreg","The controller with the name '{0}' is not registered.",m);la(b,m,!0)}if(h){var o=(ce(b)?b[b.length-1]:b).prototype;return k=Object.create(o||null),n&&f(g,n,k,m||b.name),j(function(){var a=d.invoke(b,k,g,m);return a!==k&&(t(a)||y(a))&&(k=a,n&&f(g,n,k,m||b.name)),k},{instance:k,identifier:n})}return k=d.instantiate(b,g,m),n&&f(g,n,k,m||b.name),k}}]}function wb(){this.$get=["$window",function(a){return Sd(a.document)}]}function xb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function yb(a){return t(a)?x(a)?a.toISOString():T(a):a}function zb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return e(a,function(a,c){null===a||r(a)||(ce(a)?d(a,function(a){b.push(ba(c)+"="+ba(yb(a)))}):b.push(ba(c)+"="+ba(yb(a))))}),b.join("&")}}}function Ab(){this.$get=function(){return function(a){function b(a,f,g){null===a||r(a)||(ce(a)?d(a,function(a,c){b(a,f+"["+(t(a)?c:"")+"]")}):t(a)&&!x(a)?e(a,function(a,c){b(a,f+(g?"":"[")+c+(g?"":"]"))}):c.push(ba(f)+"="+ba(yb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function Bb(a,b){if(v(a)){var c=a.replace(lf,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(gf)||Cb(c))&&(a=U(c))}}return a}function Cb(a){var b=a.match(jf);return b&&kf[b[0]].test(a)}function Db(a){function b(a,b){a&&(e[a]=e[a]?e[a]+", "+b:b)}var c,e=pa();return v(a)?d(a.split("\n"),function(a){c=a.indexOf(":"),b(Nd(ee(a.substr(0,c))),ee(a.substr(c+1)))}):t(a)&&d(a,function(a,c){b(Nd(c),ee(a))}),e}function Eb(a){var b;return function(c){if(b||(b=Db(a)),c){var d=b[Nd(c)];return void 0===d&&(d=null),d}return b}}function Fb(a,b,c,e){return y(e)?e(a,b,c):(d(e,function(d){a=d(a,b,c)}),a)}function Gb(a){return a>=200&&300>a}function Hb(){var a=this.defaults={transformResponse:[Bb],transformRequest:[function(a){return!t(a)||C(a)||E(a)||D(a)?a:T(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ra(hf),put:ra(hf),patch:ra(hf)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},c=!1;this.useApplyAsync=function(a){return s(a)?(c=!!a,this):c};var e=!0;this.useLegacyPromiseExtensions=function(a){return s(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(g,h,i,k,l,m){function n(c){function f(a,b){for(var c=0,d=b.length;d>c;){var e=b[c++],f=b[c++];a=a.then(e,f)}return b.length=0,a}function g(a,b){var c,e={};return d(a,function(a,d){y(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a}),e}function h(b){var c,d,e,f=a.headers,h=j({},b.headers);f=j({},f.common,f[Nd(b.method)]);a:for(c in f){d=Nd(c);for(e in h)if(Nd(e)===d)continue a;h[c]=f[c]}return g(h,ra(b))}function i(b){var c=b.headers,e=Fb(b.data,Eb(c),void 0,b.transformRequest);return r(e)&&d(c,function(a,b){"content-type"===Nd(b)&&delete c[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),q(b,e).then(k,k)}function k(a){var b=j({},a);return b.data=Fb(a.data,a.headers,a.status,n.transformResponse),Gb(a.status)?b:l.reject(b)}if(!t(c))throw b("$http")("badreq","Http request configuration must be an object.  Received: {0}",c);if(!v(c.url))throw b("$http")("badreq","Http request configuration url must be a string.  Received: {0}",c.url);var n=j({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},c);n.headers=h(c),n.method=Od(n.method),n.paramSerializer=v(n.paramSerializer)?m.get(n.paramSerializer):n.paramSerializer;var o=[],p=[],s=l.when(n);return d(x,function(a){(a.request||a.requestError)&&o.unshift(a.request,a.requestError),(a.response||a.responseError)&&p.push(a.response,a.responseError)}),s=f(s,o),s=s.then(i),s=f(s,p),e?(s.success=function(a){return la(a,"fn"),s.then(function(b){a(b.data,b.status,b.headers,n)}),s},s.error=function(a){return la(a,"fn"),s.then(null,function(b){a(b.data,b.status,b.headers,n)}),s}):(s.success=nf("success"),s.error=nf("error")),s}function o(a){d(arguments,function(a){n[a]=function(b,c){return n(j({},c||{},{method:a,url:b}))}})}function p(a){d(arguments,function(a){n[a]=function(b,c,d){return n(j({},d||{},{method:a,url:b,data:c}))}})}function q(b,e){function f(a){if(a){var b={};return d(a,function(a,d){b[d]=function(b){function d(){a(b)}c?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),b}}function i(a,b,d,e){function f(){j(b,a,d,e)}p&&(Gb(a)?p.put(z,[a,b,Db(d),e]):p.remove(z)),c?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function j(a,c,d,e){c=c>=-1?c:0,(Gb(c)?v.resolve:v.reject)({data:a,status:c,headers:Eb(d),config:b,statusText:e})}function m(a){j(a.data,a.status,ra(a.headers()),a.statusText)}function o(){var a=n.pendingRequests.indexOf(b);-1!==a&&n.pendingRequests.splice(a,1)}var p,q,v=l.defer(),x=v.promise,y=b.headers,z=u(b.url,b.paramSerializer(b.params));if(n.pendingRequests.push(b),x.then(o,o),!b.cache&&!a.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(p=t(b.cache)?b.cache:t(a.cache)?a.cache:w),p&&(q=p.get(z),s(q)?G(q)?q.then(m,m):ce(q)?j(q[1],q[0],ra(q[2]),q[3]):j(q,200,{},"OK"):p.put(z,x)),r(q)){var A=Jc(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:void 0;A&&(y[b.xsrfHeaderName||a.xsrfHeaderName]=A),g(b.method,z,e,i,y,b.timeout,b.withCredentials,b.responseType,f(b.eventHandlers),f(b.uploadEventHandlers))}return x}function u(a,b){return b.length>0&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}var w=i("$http");a.paramSerializer=v(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var x=[];return d(f,function(a){x.unshift(v(a)?m.get(a):m.invoke(a))}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put","patch"),n.defaults=a,n}]}function Ib(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Jb(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,c,d){return Kb(a,d,a.defer,b,c[0])}]}function Kb(a,b,c,e,f){function g(a,b,c){a=a.replace("JSON_CALLBACK",b);var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){xe(d,"load",g),xe(d,"error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e.wasCalled(b)||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},we(d,"load",g),we(d,"error",g),f.body.appendChild(d),g}return function(f,h,i,j,k,l,m,o,p,q){function t(){w&&w(),x&&x.abort()}function u(b,d,e,f,g){s(A)&&c.cancel(A),w=x=null,b(d,e,f,g),a.$$completeOutstandingRequest(n)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"===Nd(f))var v=e.createCallback(h),w=g(h,v,function(a,b){var c=200===a&&e.getResponse(v);u(j,a,c,"",b),e.removeCallback(v)});else{var x=b(f,h);x.open(f,h,!0),d(k,function(a,b){s(a)&&x.setRequestHeader(b,a)}),x.onload=function(){var a=x.statusText||"",b="response"in x?x.response:x.responseText,c=1223===x.status?204:x.status;0===c&&(c=b?200:"file"===Ic(h).protocol?404:0),u(j,c,b,x.getAllResponseHeaders(),a)};var y=function(){u(j,-1,null,null,"")};if(x.onerror=y,x.onabort=y,x.ontimeout=y,d(p,function(a,b){x.addEventListener(b,a)}),d(q,function(a,b){x.upload.addEventListener(b,a)}),m&&(x.withCredentials=!0),o)try{x.responseType=o}catch(z){if("json"!==o)throw z}x.send(r(i)?null:i)}if(l>0)var A=c(t,l);else G(l)&&l.then(t)}}function Lb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=T(a)}return a}function i(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function k(f,k,n,o){function q(a){try{return a=G(a),o&&!s(a)?a:h(a)}catch(b){d(of.interr(f,b))}}if(!f.length||-1===f.indexOf(a)){var t;if(!k){var u=g(f);t=p(u),t.exp=f,t.expressions=[],t.$$watchDelegate=i}return t}o=!!o;for(var v,w,x,z=0,A=[],B=[],C=f.length,D=[],E=[];C>z;){if(-1===(v=f.indexOf(a,z))||-1===(w=f.indexOf(b,v+l))){z!==C&&D.push(g(f.substring(z)));break}z!==v&&D.push(g(f.substring(z,v))),x=f.substring(v+l,w),A.push(x),B.push(c(x,q)),z=w+m,E.push(D.length),D.push("")}if(n&&D.length>1&&of.throwNoconcat(f),!k||A.length){var F=function(a){for(var b=0,c=A.length;c>b;b++){if(o&&r(a[b]))return;D[E[b]]=a[b]}return D.join("")},G=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return j(function(a){var b=0,c=A.length,e=new Array(c);try{for(;c>b;b++)e[b]=B[b](a);return F(e)}catch(g){d(of.interr(f,g))}},{exp:f,expressions:A,$$watchDelegate:function(a,b){var c;return a.$watchGroup(B,function(d,e){var f=F(d);y(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Mb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?Q(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=s(j)&&!j,r=(q?d:c).defer(),t=r.promise;return i=s(i)?i:0,t.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(t.$$intervalId),delete g[t.$$intervalId]),q||a.$apply()},h),g[t.$$intervalId]=r,t}var g={};return f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1},f}]}function Nb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=aa(b[c]);return b.join("/")}function Ob(a,b){var c=Ic(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||rf[c.protocol]||null}function Pb(a,b){if(tf.test(a))throw sf("badpath",'Invalid url "{0}".',a);var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Ic(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=$(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Qb(a,b){return a.slice(0,b.length)===b}function Rb(a,b){return Qb(b,a)?b.substr(a.length):void 0}function Sb(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function Tb(a){return a.replace(/(#.+)|#$/,"$1")}function Ub(a){return a.substr(0,Sb(a).lastIndexOf("/")+1)}function Vb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Wb(a,b,c){this.$$html5=!0,c=c||"",Ob(a,this),this.$$parse=function(a){var c=Rb(b,a);if(!v(c))throw sf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Pb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=_(this.$$search),c=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Nb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return s(f=Rb(a,d))?(g=f,h=c&&s(f=Rb(c,f))?b+(Rb("/",f)||f):a+g):s(f=Rb(b,d))?h=b+f:b===d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Xb(a,b,c){Ob(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return Qb(b,c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Rb(a,d)||Rb(b,d);r(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",r(g)&&(a=d,this.replace())):(f=Rb(c,g),r(f)&&(f=g)),Pb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=_(this.$$search),d=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Nb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Sb(a)===Sb(b)?(this.$$parse(b),!0):!1}}function Yb(a,b,c){this.$$html5=!0,Xb.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===Sb(d)?f=d:(g=Rb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=_(this.$$search),d=this.$$hash?"#"+aa(this.$$hash):"";this.$$url=Nb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Zb(a){return function(){return this[a]}}function $b(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function _b(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return F(a)?(b.enabled=a,this):t(a)?(F(a.enabled)&&(b.enabled=a.enabled),F(a.requireBase)&&(b.requireBase=a.requireBase),(F(a.rewriteLinks)||v(a.rewriteLinks))&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw sf("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Vb(n)+(m||"/"),k=e.history?Wb:Yb}else l=Sb(n),k=Xb;var o=Ub(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var h=Sd(a.target);"a"!==L(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!v(e)||!r(h.attr(e))){var i=h.prop("href"),k=h.attr("href")||h.attr("xlink:href");t(i)&&"[object SVGAnimatedString]"===i.toString()&&(i=Ic(i.animVal).href),p.test(i)||!i||h.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(i,k)&&(a.preventDefault(),j.absUrl()!==d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0));
}}}),Tb(j.absUrl())!==Tb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return r(Rb(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Tb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Tb(d.url()),b=Tb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function ac(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function e(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(h){}return g?function(){var a=[];return d(arguments,function(b){a.push(e(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function bc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw vf("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function cc(a){return a+""}function dc(a,b){if(a){if(a.constructor===a)throw vf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw vf("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw vf("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw vf("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function ec(a,b){if(a){if(a.constructor===a)throw vf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===If||a===Jf||a===Kf)throw vf("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function fc(a,b){if(a&&(a===wf||a===xf||a===yf||a===zf||a===Af||a===Bf||a===Cf||a===Df||a===Ef||a===Ff||a===Gf||a===Hf))throw vf("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",b)}function gc(a,b){return"undefined"!=typeof a?a:b}function hc(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function ic(a,b){var c=a(b);return!c.$stateful}function jc(a,b){var c,e,f;switch(a.type){case Pf.Program:c=!0,d(a.body,function(a){jc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case Pf.Literal:a.constant=!0,a.toWatch=[];break;case Pf.UnaryExpression:jc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case Pf.BinaryExpression:jc(a.left,b),jc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case Pf.LogicalExpression:jc(a.left,b),jc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case Pf.ConditionalExpression:jc(a.test,b),jc(a.alternate,b),jc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case Pf.Identifier:a.constant=!1,a.toWatch=[a];break;case Pf.MemberExpression:jc(a.object,b),a.computed&&jc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case Pf.CallExpression:f=a.filter?ic(b,a.callee.name):!1,c=f,e=[],d(a.arguments,function(a){jc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=f?e:[a];break;case Pf.AssignmentExpression:jc(a.left,b),jc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case Pf.ArrayExpression:c=!0,e=[],d(a.elements,function(a){jc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case Pf.ObjectExpression:c=!0,e=[],d(a.properties,function(a){jc(a.value,b),c=c&&a.value.constant&&!a.computed,a.value.constant||e.push.apply(e,a.value.toWatch)}),a.constant=c,a.toWatch=e;break;case Pf.ThisExpression:a.constant=!1,a.toWatch=[];break;case Pf.LocalsExpression:a.constant=!1,a.toWatch=[]}}function kc(a){if(1===a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function lc(a){return a.type===Pf.Identifier||a.type===Pf.MemberExpression}function mc(a){return 1===a.body.length&&lc(a.body[0].expression)?{type:Pf.AssignmentExpression,left:a.body[0].expression,right:{type:Pf.NGValueParameter},operator:"="}:void 0}function nc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===Pf.Literal||a.body[0].expression.type===Pf.ArrayExpression||a.body[0].expression.type===Pf.ObjectExpression)}function oc(a){return a.constant}function pc(a,b){this.astBuilder=a,this.$filter=b}function qc(a,b){this.astBuilder=a,this.$filter=b}function rc(a){return"constructor"===a}function sc(a){return y(a.valueOf)?a.valueOf():Lf.call(a)}function tc(){var a,b,c=pa(),e=pa(),f={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(a,b){f[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(g){function h(a,b,d){var f,h,j;switch(d=d||u,typeof a){case"string":a=a.trim(),j=a;var q=d?e:c;if(f=q[j],!f){":"===a.charAt(0)&&":"===a.charAt(1)&&(h=!0,a=a.substring(2));var s=d?t:r,v=new Of(s),w=new Qf(v,g,s);f=w.parse(a),f.constant?f.$$watchDelegate=o:h?f.$$watchDelegate=f.literal?m:l:f.inputs&&(f.$$watchDelegate=k),d&&(f=i(f)),q[j]=f}return p(f,b);case"function":return p(a,b);default:return p(n,b)}}function i(a){function b(b,c,d,e){var f=u;u=!0;try{return a(b,c,d,e)}finally{u=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=i(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=i(a.inputs[c]);return b.inputs=a.inputs,b}function j(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=sc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function k(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var h=j;return g=g[0],a.$watch(function(a){var b=g(a);return j(b,h)||(f=d(a,void 0,void 0,[b]),h=b&&sc(b)),f},b,c,e)}for(var i=[],k=[],l=0,m=g.length;m>l;l++)i[l]=j,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;e>c;c++){var h=g[c](a);(b||(b=!j(h,i[c])))&&(k[c]=h,i[c]=h&&sc(h))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,y(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function m(a,b,c,e){function f(a){var b=!0;return d(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return e(a)},function(a,c,d){h=a,y(b)&&b.call(this,a,c,d),f(a)&&d.$$postDigest(function(){f(h)&&g()})},c)}function o(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==m&&c!==l,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return s(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==k?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=k,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var q=ge().noUnsafeEval,r={csp:q,expensiveChecks:!1,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},t={csp:q,expensiveChecks:!0,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},u=!1;return h.$$runningExpensiveChecks=function(){return u},h}]}function uc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return wc(function(b){a.$evalAsync(b)},b)}]}function vc(){this.$get=["$browser","$exceptionHandler",function(a,b){return wc(function(b){a.defer(b)},b)}]}function wc(a,c){function e(){var a=new k;return a.resolve=g(a,a.resolve),a.reject=g(a,a.reject),a.notify=g(a,a.notify),a}function f(){this.$$state={status:0}}function g(a,b){return function(c){b.call(a,c)}}function h(a){var b,d,e;e=a.pending,a.processScheduled=!1,a.pending=void 0;for(var f=0,g=e.length;g>f;++f){d=e[f][0],b=e[f][a.status];try{y(b)?d.resolve(b(a.value)):1===a.status?d.resolve(a.value):d.reject(a.value)}catch(h){d.reject(h),c(h)}}}function i(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){h(b)}))}function k(){this.promise=new f}function l(a){var b=new k;return b.reject(a),b.promise}function m(a,b,c){var d=null;try{y(c)&&(d=c())}catch(e){return l(e)}return G(d)?d.then(function(){return b(a)},l):b(a)}function n(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)}function o(a){var b=new k,c=0,e=ce(a)?[]:{};return d(a,function(a,d){c++,n(a).then(function(a){e[d]=a,--c||b.resolve(e)},function(a){b.reject(a)})}),0===c&&b.resolve(e),b.promise}function p(a){var b=e();return d(a,function(a){n(a).then(b.resolve,b.reject)}),b.promise}function q(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!y(a))throw s("norslvr","Expected resolverFn, got '{0}'",a);var d=new k;return a(b,c),d.promise}var s=b("$q",TypeError);j(f.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&i(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return m(b,u,a)},function(b){return m(b,l,a)},b)}}),j(k.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(s("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function b(a){h||(h=!0,f.$$resolve(a))}function d(a){h||(h=!0,f.$$reject(a))}var e,f=this,h=!1;try{(t(a)||y(a))&&(e=a&&a.then),y(e)?(this.promise.$$state.status=-1,e.call(a,b,d,g(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,i(this.promise.$$state))}catch(j){d(j),c(j)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(b){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(y(a)?a(b):b)}catch(h){c(h)}}})}});var u=n;return q.prototype=f.prototype,q.defer=e,q.reject=l,q.when=n,q.resolve=u,q.all=o,q.race=p,q}function xc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function yc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=g(),this.$$ChildScope=null}return b.prototype=a,b}var e=10,f=b("$rootScope"),h=null,i=null;this.digestTtl=function(a){return arguments.length&&(e=a),e},this.$get=["$exceptionHandler","$parse","$browser",function(b,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Rd&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=g(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(z.$$phase)throw f("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function q(){z.$$phase=null}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){b(a)}i=null}function x(){null===i&&(i=k.defer(function(){z.$apply(w)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,g=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return h=null,y(b)||(i.fn=n),g||(g=f.$$watchers=[],g.$$digestWatchIndex=-1),g.unshift(i),g.$$digestWatchIndex++,s(this,1),function(){var a=M(g,i);a>=0&&(s(f,-1),a<g.$$digestWatchIndex&&g.$$digestWatchIndex--),h=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(f,f,h)):b(f,e,h)}var e=new Array(a.length),f=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(f,f,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,d){f[0]=a,e[0]=c,b(f,a===c?f:e,d)}):(d(a,function(a,b){var d=h.$watch(a,function(a,d){f[b]=a,e[b]=d,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function d(a){f=a;var b,d,e,h,i;if(!r(f)){if(t(f))if(c(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],e=i!==i&&h!==h,e||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(d in f)Md.call(f,d)&&(b++,h=f[d],i=g[d],d in g?(e=i!==i&&h!==h,e||i===h||(l++,g[d]=h)):(q++,g[d]=h,l++));if(q>b){l++;for(d in g)Md.call(f,d)||(q--,delete g[d])}}else g!==f&&(g=f,l++);return l}}function e(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(t(f))if(c(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var d in f)Md.call(f,d)&&(h[d]=f[d])}else h=f}d.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,d),n=[],o={},p=!0,q=0;return this.$watch(m,e)},$digest:function(){var a,c,d,g,j,l,m,n,o,r,s,t=e,u=this,x=[];p("$digest"),k.$$checkUrlChange(),this===z&&null!==i&&(k.defer.cancel(i),w()),h=null;do{m=!1,o=u;for(var C=0;C<A.length;C++){try{s=A[C],s.scope.$eval(s.expression,s.locals)}catch(E){b(E)}h=null}A.length=0;a:do{if(l=o.$$watchers)for(l.$$digestWatchIndex=l.length;l.$$digestWatchIndex--;)try{if(a=l[l.$$digestWatchIndex])if(j=a.get,(c=j(o))===(d=a.last)||(a.eq?O(c,d):be(c)&&be(d))){if(a===h){m=!1;break a}}else m=!0,h=a,a.last=a.eq?N(c,null):c,g=a.fn,g(c,d===v?c:d,o),5>t&&(r=4-t,x[r]||(x[r]=[]),x[r].push({msg:y(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:c,oldVal:d}))}catch(E){b(E)}if(!(n=o.$$watchersCount&&o.$$childHead||o!==u&&o.$$nextSibling))for(;o!==u&&!(n=o.$$nextSibling);)o=o.$parent}while(o=n);if((m||A.length)&&!t--)throw q(),f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(m||A.length);for(q();D<B.length;)try{B[D++]()}catch(E){b(E)}B.length=D=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&k.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=n,this.$on=this.$watch=this.$watchGroup=function(){return n},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){z.$$phase||A.length||k.defer(function(){A.length&&z.$digest()}),A.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{q()}}catch(c){b(c)}finally{try{z.$digest()}catch(c){throw b(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,c){var d,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=P([j],arguments,1);do{for(d=h.$$listeners[a]||g,j.currentScope=h,e=0,f=d.length;f>e;e++)if(d[e])try{d[e].apply(null,k)}catch(l){b(l)}else d.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,c){var d=this,e=d,f=d,g={name:a,targetScope:d,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!d.$$listenerCount[a])return g;for(var h,i,j,k=P([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;j>i;i++)if(h[i])try{h[i].apply(null,k)}catch(l){b(l)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==d&&e.$$nextSibling))for(;e!==d&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var z=new o,A=z.$$asyncQueue=[],B=z.$$postDigestQueue=[],C=z.$$applyAsyncQueue=[],D=0;return z}]}function zc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Ic(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Ac(a){if("self"===a)return a;if(v(a)){if(a.indexOf("***")>-1)throw Rf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=fe(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+a+"$")}if(z(a))return new RegExp("^"+a.source+"$");throw Rf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Bc(a){var b=[];return s(a)&&d(a,function(a){b.push(Ac(a))}),b}function Cc(){this.SCE_CONTEXTS=Sf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Bc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Bc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Jc(b):!!a.exec(b.href)}function e(c){var e,f,g=Ic(c.toString()),h=!1;for(e=0,f=a.length;f>e;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;f>e;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw Rf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||r(b)||""===b)return b;if("string"!=typeof b)throw Rf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||r(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===Sf.RESOURCE_URL){if(e(b))return b;throw Rf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===Sf.HTML)return j(b);throw Rf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw Rf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[Sf.HTML]=f(k),l[Sf.CSS]=f(k),l[Sf.URL]=f(k),l[Sf.JS]=f(k),l[Sf.RESOURCE_URL]=f(l[Sf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Dc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Rd)throw Rf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=ra(Sf);e.isEnabled=function(){return a},e.trustAs=c.trustAs,e.getTrusted=c.getTrusted,e.valueOf=c.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=o),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:b(c,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return d(Sf,function(a,b){var c=Nd(b);e[wa("parse_as_"+c)]=function(b){return f(a,b)},e[wa("get_trusted_"+c)]=function(b){return g(a,b)},e[wa("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function Ec(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id),g=!f&&a.history&&a.history.pushState,h=l((/android (\d+)/.exec(Nd((a.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,m=j.body&&j.body.style,n=!1,o=!1;if(m){for(var p in m)if(d=k.exec(p)){c=d[0],c=c[0].toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in m&&"webkit"),n=!!("transition"in m||c+"Transition"in m),o=!!("animation"in m||c+"Animation"in m),!h||n&&o||(n=v(m.webkitTransition),o=v(m.webkitAnimation))}return{history:!(!g||4>h||i),hasEvent:function(a){if("input"===a&&11>=Rd)return!1;if(r(e[a])){var b=j.createElement("div");e[a]="on"+a in b}return e[a]},csp:ge(),vendorPrefix:c,transitions:n,animations:o,android:h}}]}function Fc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw Tf("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,(!v(g)||r(b.get(g)))&&(g=e.getTrustedResourceUrl(g));var k=c.defaults&&c.defaults.transformResponse;return ce(k)?k=k.filter(function(a){return a!==Bb}):k===Bb&&(k=null),c.get(g,j({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Gc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var e={};return e.findBindings=function(a,b,c){var e=a.getElementsByClassName("ng-binding"),f=[];return d(e,function(a){var e=_d.element(a).data("$binding");e&&d(e,function(d){if(c){var e=new RegExp("(^|\\s)"+fe(b)+"(\\s|\\||$)");e.test(d)&&f.push(a)}else-1!==d.indexOf(b)&&f.push(a)})}),f},e.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},e.getLocation=function(){return c.url()},e.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},e.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},e}]}function Hc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){y(f)||(i=h,h=f,f=n);var j,k=Q(arguments,3),l=s(i)&&!i,m=(l?d:c).defer(),o=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[o.$$timeoutId]}l||a.$apply()},h),o.$$timeoutId=j,g[j]=m,o}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function Ic(a){var b=a;return Rd&&(Uf.setAttribute("href",b),b=Uf.href),Uf.setAttribute("href",b),{href:Uf.href,protocol:Uf.protocol?Uf.protocol.replace(/:$/,""):"",host:Uf.host,search:Uf.search?Uf.search.replace(/^\?/,""):"",hash:Uf.hash?Uf.hash.replace(/^#/,""):"",hostname:Uf.hostname,port:Uf.port,pathname:"/"===Uf.pathname.charAt(0)?Uf.pathname:"/"+Uf.pathname}}function Jc(a){var b=v(a)?Ic(a):a;return b.protocol===Vf.protocol&&b.host===Vf.host}function Kc(){this.$get=p(a)}function Lc(a){function b(a){try{return a.cookie||""}catch(b){return""}}function c(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},e={},f="";return function(){var a,g,h,i,j,k=b(d);if(k!==f)for(f=k,a=f.split("; "),e={},h=0;h<a.length;h++)g=a[h],i=g.indexOf("="),i>0&&(j=c(g.substring(0,i)),r(e[j])&&(e[j]=c(g.substring(i+1))));return e}}function Mc(){this.$get=Lc}function Nc(a){function b(e,f){if(t(e)){var g={};return d(e,function(a,c){g[c]=b(c,a)}),g}return a.factory(e+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Sc),b("date",fd),b("filter",Oc),b("json",gd),b("limitTo",hd),b("lowercase",ag),b("number",Tc),b("orderBy",jd),b("uppercase",bg)}function Oc(){return function(a,d,e,f){if(!c(a)){if(null==a)return a;throw b("filter")("notarray","Expected array but received: {0}",a)}f=f||"$";var g,h,i=Rc(d);switch(i){case"function":g=d;break;case"boolean":case"null":case"number":case"string":h=!0;case"object":g=Pc(d,e,f,h);break;default:return a}return Array.prototype.filter.call(a,g)}}function Pc(a,b,c,d){var e,f=t(a)&&c in a;return b===!0?b=O:y(b)||(b=function(a,b){return r(a)?!1:null===a||null===b?a===b:t(b)||t(a)&&!q(a)?!1:(a=Nd(""+a),b=Nd(""+b),-1!==a.indexOf(b))}),e=function(e){return f&&!t(e)?Qc(e,a[c],b,c,!1):Qc(e,a,b,c,d)}}function Qc(a,b,c,d,e,f){var g=Rc(a),h=Rc(b);if("string"===h&&"!"===b.charAt(0))return!Qc(a,b.substring(1),c,d,e);if(ce(a))return a.some(function(a){return Qc(a,b,c,d,e)});switch(g){case"object":var i;if(e){for(i in a)if("$"!==i.charAt(0)&&Qc(a[i],b,c,d,!0))return!0;return f?!1:Qc(a,b,c,d,!1)}if("object"===h){for(i in b){var j=b[i];if(!y(j)&&!r(j)){var k=i===d,l=k?a:a[i];if(!Qc(l,j,c,d,k,k))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Rc(a){return null===a?"null":typeof a}function Sc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Wc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Tc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Wc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Uc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(Xf))>-1&&(a=a.replace(Xf,"")),(d=a.search(/e/i))>0?(0>c&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):0>c&&(c=a.length),d=0;a.charAt(d)===Yf;d++);if(d===(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)===Yf;)f--;for(c-=d,b=[],e=0;f>=d;d++,e++)b[e]=+a.charAt(d)}return c>Wf&&(b=b.splice(0,Wf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Vc(a,b,c,d){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;g>j;j++)e[j]=0}if(h>=5)if(0>g-1){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Wc(a,b,c,d,e){if(!v(a)&&!w(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Uc(i),Vc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);0>l;)k.unshift(0),l++;l>0?n=k.splice(l,k.length):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return 0>a&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Xc(a,b,c,d){var e="";for((0>a||d&&0>=a)&&(d?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=Yf+a;return c&&(a=a.substr(a.length-b)),e+a}function Yc(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&-12===c&&(g=12),Xc(g,b,d,e)}}function Zc(a,b,c){return function(d,e){var f=d["get"+a](),g=(c?"STANDALONE":"")+(b?"SHORT":""),h=Od(g+a);return e[h][f]}}function $c(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Xc(Math[d>0?"floor":"ceil"](d/60),2)+Xc(Math.abs(d%60),2)}function _c(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function ad(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function bd(a){return function(b){var c=_c(b.getFullYear()),d=ad(b),e=+d-+c,f=1+Math.round(e/6048e5);return Xc(f,a)}}function cd(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function dd(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function ed(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function fd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g,h,i="",j=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,v(c)&&(c=_f.test(c)?l(c):b(c)),w(c)&&(c=new Date(c)),!x(c)||!isFinite(c.getTime()))return c;for(;e;)h=$f.exec(e),h?(j=P(j,h,1),e=j.pop()):(j.push(e),e=null);var k=c.getTimezoneOffset();return f&&(k=V(f,k),c=X(c,f,!0)),d(j,function(b){g=Zf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function gd(){return function(a,b){return r(b)&&(b=2),T(a,b)}}function hd(){return function(a,b,d){return b=Math.abs(Number(b))===1/0?Number(b):l(b),be(b)?a:(w(a)&&(a=a.toString()),c(a)?(d=!d||isNaN(d)?0:l(d),d=0>d?Math.max(0,a.length+d):d,b>=0?id(a,d,d+b):0===d?id(a,b,a.length):id(a,Math.max(0,d+b),d)):a)}}function id(a,b,c){return v(a)?a.slice(b,c):Vd.call(a,b,c)}function jd(a){function d(b){return b.map(function(b){var c=1,d=o;if(y(b))d=b;else if(v(b)&&(("+"===b.charAt(0)||"-"===b.charAt(0))&&(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b),d.constant))){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function e(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a){return y(a.valueOf)&&(a=a.valueOf(),e(a))?a:q(a)&&(a=a.toString(),e(a))?a:a}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"object"===c&&(a=f(a)),{value:a,type:c,index:b}}function h(a,b){var c=0,d=a.type,e=b.type;if(d===e){var f=a.value,g=b.value;"string"===d?(f=f.toLowerCase(),g=g.toLowerCase()):"object"===d&&(t(f)&&(f=a.index),t(g)&&(g=b.index)),f!==g&&(c=g>f?-1:1)}else c=e>d?-1:1;return c}return function(a,e,f,i){function j(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:l.map(function(c){return g(c.get(a),b)})}}function k(a,b){for(var c=0,d=l.length;d>c;c++){var e=n(a.predicateValues[c],b.predicateValues[c]);if(e)return e*l[c].descending*m}return n(a.tieBreaker,b.tieBreaker)*m}if(null==a)return a;if(!c(a))throw b("orderBy")("notarray","Expected array but received: {0}",a);ce(e)||(e=[e]),0===e.length&&(e=["+"]);var l=d(e),m=f?-1:1,n=y(i)?i:h,o=Array.prototype.map.call(a,j);return o.sort(k),a=o.map(function(a){return a.value})}}function kd(a){
return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function ld(a,b){a.$name=b}function md(a,b,c,e,f){var g=this,h=[];g.$error={},g.$$success={},g.$pending=void 0,g.$name=f(b.name||b.ngForm||"")(c),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,g.$$parentForm=eg,g.$rollbackViewValue=function(){d(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){d(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){ma(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a),a.$$parentForm=g},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],d(g.$pending,function(b,c){g.$setValidity(c,null,a)}),d(g.$error,function(b,c){g.$setValidity(c,null,a)}),d(g.$$success,function(b,c){g.$setValidity(c,null,a)}),M(h,a),a.$$parentForm=eg},Hd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(M(d,c),0===d.length&&delete a[b])},$animate:e}),g.$setDirty=function(){e.removeClass(a,Qg),e.addClass(a,Rg),g.$dirty=!0,g.$pristine=!1,g.$$parentForm.$setDirty()},g.$setPristine=function(){e.setClass(a,Qg,Rg+" "+fg),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,d(h,function(a){a.$setPristine()})},g.$setUntouched=function(){d(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,fg),g.$submitted=!0,g.$$parentForm.$setSubmitted()}}function nd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function od(a,b,c,d,e,f){pd(a,b,c,d,e,f),nd(d)}function pd(a,b,c,d,e,f){var g=Nd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=ee(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),tg[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(sg,function(a){if(!i){var b=this[Ld],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,(b.badInput!==c||b.typeMismatch!==d)&&j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function qd(a,b){if(x(a))return a;if(v(a)){pg.lastIndex=0;var c=pg.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=_c(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function rd(a,b){return function(c,e){var f,g;if(x(c))return c;if(v(c)){if('"'===c.charAt(0)&&'"'===c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),jg.test(c))return new Date(c);if(a.lastIndex=0,f=a.exec(c))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},d(f,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function sd(a,b,c,d){return function(e,f,g,h,i,j,k){function l(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function m(a){return s(a)&&!x(a)?c(a)||void 0:a}td(e,f,g,h),pd(e,f,g,h,i,j);var n,o=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a)){var d=c(a,n);return o&&(d=X(d,o)),d}return void 0}),h.$formatters.push(function(a){if(a&&!x(a))throw Xg("datefmt","Expected `{0}` to be a date",a);return l(a)?(n=a,n&&o&&(n=X(n,o,!0)),k("date")(a,d,o)):(n=null,"")}),s(g.min)||g.ngMin){var p;h.$validators.min=function(a){return!l(a)||r(p)||c(a)>=p},g.$observe("min",function(a){p=m(a),h.$validate()})}if(s(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!l(a)||r(q)||c(a)<=q},g.$observe("max",function(a){q=m(a),h.$validate()})}}}function td(a,b,c,d){var e=b[0],f=d.$$hasNativeValidators=t(e.validity);f&&d.$parsers.push(function(a){var c=b.prop(Ld)||{};return c.badInput||c.typeMismatch?void 0:a})}function ud(a){a.$$parserName="number",a.$parsers.push(function(b){return a.$isEmpty(b)?null:mg.test(b)?parseFloat(b):void 0}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!w(b))throw Xg("numfmt","Expected `{0}` to be a number",b);b=b.toString()}return b})}function vd(a){return s(a)&&!w(a)&&(a=parseFloat(a)),be(a)?void 0:a}function wd(a){return(0|a)===a}function xd(a){var b=a.toString(),c=b.indexOf(".");if(-1===c){if(a>-1&&1>a){var d=/e-(\d+)$/.exec(b);if(d)return Number(d[1])}return 0}return b.length-c-1}function yd(a,b,c){var d=Number(a);if(!wd(d)||!wd(b)||!wd(c)){var e=Math.max(xd(d),xd(b),xd(c)),f=Math.pow(10,e);d*=f,b*=f,c*=f}return(d-b)%c===0}function zd(a,b,c,d,e,f){td(a,b,c,d),pd(a,b,c,d,e,f),ud(d);var g,h;(s(c.min)||c.ngMin)&&(d.$validators.min=function(a){return d.$isEmpty(a)||r(g)||a>=g},c.$observe("min",function(a){g=vd(a),d.$validate()})),(s(c.max)||c.ngMax)&&(d.$validators.max=function(a){return d.$isEmpty(a)||r(h)||h>=a},c.$observe("max",function(a){h=vd(a),d.$validate()}))}function Ad(a,b,c,d,e,f){function g(a,d){b.attr(a,c[a]),c.$observe(a,d)}function h(a){if(l=vd(a),!be(d.$modelValue))if(k){var c=b.val();l>c&&(c=l,b.val(c)),d.$setViewValue(c)}else d.$validate()}function i(a){if(m=vd(a),!be(d.$modelValue))if(k){var c=b.val();c>m&&(b.val(m),c=l>m?l:m),d.$setViewValue(c)}else d.$validate()}function j(a){n=vd(a),be(d.$modelValue)||(k&&d.$viewValue!==b.val()?d.$setViewValue(b.val()):d.$validate())}td(a,b,c,d),ud(d),pd(a,b,c,d,e,f);var k=d.$$hasNativeValidators&&"range"===b[0].type,l=k?0:void 0,m=k?100:void 0,n=k?1:void 0,o=b[0].validity,p=s(c.min),q=s(c.max),t=s(c.step),u=d.$render;d.$render=k&&s(o.rangeUnderflow)&&s(o.rangeOverflow)?function(){u(),d.$setViewValue(b.val())}:u,p&&(d.$validators.min=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||r(l)||b>=l},g("min",h)),q&&(d.$validators.max=k?function(){return!0}:function(a,b){return d.$isEmpty(b)||r(m)||m>=b},g("max",i)),t&&(d.$validators.step=k?function(){return!o.stepMismatch}:function(a,b){return d.$isEmpty(b)||r(n)||yd(b,l||0,n)},g("step",j))}function Bd(a,b,c,d,e,f){pd(a,b,c,d,e,f),nd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||kg.test(c)}}function Cd(a,b,c,d,e,f){pd(a,b,c,d,e,f),nd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||lg.test(c)}}function Dd(a,b,c,d){r(c.name)&&b.attr("name",g());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function Ed(a,b,c,d,e){var f;if(s(d)){if(f=a(d),!f.constant)throw Xg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function Fd(a,b,c,d,e,f,g,h){var i=Ed(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Ed(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return O(a,i)}),d.$parsers.push(function(a){return a?i:j})}function Gd(a,b){return a="ngClass"+a,["$animate",function(c){function e(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e===b[f])continue a;c.push(e)}return c}function f(a){var b=[];return ce(a)?(d(a,function(a){b=b.concat(f(a))}),b):v(a)?a.split(" "):t(a)?(d(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||pa(),e=[];return d(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&e.push(a))}),h.data("$classCounts",c),e.join(" ")}function m(a,b){var d=e(b,a),f=e(a,b);d=l(d,1),f=l(f,-1),d&&d.length&&c.addClass(h,d),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||(1&g.$index)===b){var c=f(a||[]);if(o){if(!O(a,o)){var d=f(o);m(d,c)}}else j(c)}o=ce(a)?a.map(function(a){return ra(a)}):ra(a)}var o;i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(a,c){var d=1&a;if(d!==(1&c)){var e=f(o);d===b?j(e):k(e)}}),g.$watch(i[a],n,!0)}}}]}function Hd(a){function b(a,b,h){r(b)?c("$pending",a,h):d("$pending",a,h),F(b)?b?(k(g.$error,a,h),j(g.$$success,a,h)):(j(g.$error,a,h),k(g.$$success,a,h)):(k(g.$error,a,h),k(g.$$success,a,h)),g.$pending?(e(Ug,!0),g.$valid=g.$invalid=void 0,f("",null)):(e(Ug,!1),g.$valid=Id(g.$error),g.$invalid=!g.$valid,f("",g.$valid));var i;i=g.$pending&&g.$pending[a]?void 0:g.$error[a]?!1:g.$$success[a]?!0:null,f(a,i),g.$$parentForm.$setValidity(a,i,g)}function c(a,b,c){g[a]||(g[a]={}),j(g[a],b,c)}function d(a,b,c){g[a]&&k(g[a],b,c),Id(g[a])&&(g[a]=void 0)}function e(a,b){b&&!i[a]?(l.addClass(h,a),i[a]=!0):!b&&i[a]&&(l.removeClass(h,a),i[a]=!1)}function f(a,b){a=a?"-"+ia(a,"-"):"",e(Og+a,b===!0),e(Pg+a,b===!1)}var g=a.ctrl,h=a.$element,i={},j=a.set,k=a.unset,l=a.$animate;i[Pg]=!(i[Og]=h.hasClass(Og)),g.$setValidity=b}function Id(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Jd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var Kd=/^\/(.+)\/([a-z]*)$/,Ld="validity",Md=Object.prototype.hasOwnProperty,Nd=function(a){return v(a)?a.toLowerCase():a},Od=function(a){return v(a)?a.toUpperCase():a},Pd=function(a){return v(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Qd=function(a){return v(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Nd=Pd,Od=Qd);var Rd,Sd,Td,Ud,Vd=[].slice,Wd=[].splice,Xd=[].push,Yd=Object.prototype.toString,Zd=Object.getPrototypeOf,$d=b("ng"),_d=a.angular||(a.angular={}),ae=0;Rd=a.document.documentMode;var be=Number.isNaN||function(a){return a!==a};n.$inject=[],o.$inject=[];var ce=Array.isArray,de=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,ee=function(a){return v(a)?a.trim():a},fe=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ge=function(){function b(){try{return new Function(""),!1}catch(a){return!0}}if(!s(ge.rules)){var c=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");ge.rules={noUnsafeEval:!d||-1!==d.indexOf("no-unsafe-eval"),noInlineStyle:!d||-1!==d.indexOf("no-inline-style")}}else ge.rules={noUnsafeEval:b(),noInlineStyle:!1}}return ge.rules},he=function(){if(s(he.name_))return he.name_;var b,c,d,e,f=je.length;for(c=0;f>c;++c)if(d=je[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return he.name_=e},ie=/:/g,je=["ng-","data-ng-","ng:","x-ng-"],ke=da(a.document),le=/[A-Z]/g,me=!1,ne=1,oe=2,pe=3,qe=8,re=9,se=11,te={full:"1.5.11",major:1,minor:5,dot:11,codeName:"princely-quest"};Ea.expando="ng339";var ue=Ea.cache={},ve=1,we=function(a,b,c){a.addEventListener(b,c,!1)},xe=function(a,b,c){a.removeEventListener(b,c,!1)};Ea._data=function(a){return this.cache[a[this.expando]]||{}};var ye=/([:\-_]+(.))/g,ze=/^moz([A-Z])/,Ae={mouseleave:"mouseout",mouseenter:"mouseover"},Be=b("jqLite"),Ce=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,De=/<|&#?\w+;/,Ee=/<([\w:-]+)/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ge={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var He=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Ie=Ea.prototype={ready:function(b){function c(){d||(d=!0,b())}var d=!1;"complete"===a.document.readyState?a.setTimeout(c):(this.on("DOMContentLoaded",c),Ea(a).on("load",c))},toString:function(){var a=[];return d(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Sd(a>=0?this[a]:this[this.length+a])},length:0,push:Xd,sort:[].sort,splice:[].splice},Je={};d("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Je[Nd(a)]=a});var Ke={};d("input,select,option,textarea,button,form,details".split(","),function(a){Ke[a]=!0});var Le={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};d({data:Ka,removeData:Ia,hasData:za,cleanData:Aa},function(a,b){Ea[b]=a}),d({data:Ka,inheritedData:Qa,scope:function(a){return Sd.data(a,"$scope")||Qa(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Sd.data(a,"$isolateScope")||Sd.data(a,"$isolateScopeNoTemplate")},controller:Pa,injector:function(a){return Qa(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:La,css:function(a,b,c){return b=wa(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,c){var d=a.nodeType;if(d!==pe&&d!==oe&&d!==qe){var e=Nd(b);if(Je[e]){if(!s(c))return a[b]||(a.attributes.getNamedItem(b)||n).specified?e:void 0;c?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(c))a.setAttribute(b,c);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?void 0:f}}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===ne||c===pe?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===L(a)){var c=[];return d(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(Ga(a,!0),void(a.innerHTML=b))},empty:Ra},function(a,b){Ea.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Ra&&r(2===a.length&&a!==La&&a!==Pa?b:c)){if(t(b)){for(d=0;f>d;d++)if(a===Ka)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=r(g)?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),d({removeData:Ia,on:function(a,b,c,d){if(s(d))throw Be("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ya(a)){var e=Ja(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Wa(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||we(a,b,g)),h.push(c)};i--;)b=h[i],Ae[b]?(j(Ae[b],Ya),j(b,void 0,!0)):j(b)}},off:Ha,one:function(a,b,c){a=Sd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,e=a.parentNode;Ga(a),d(new Ea(b),function(b){c?e.insertBefore(b,c.nextSibling):e.replaceChild(b,a),c=b})},children:function(a){var b=[];return d(a.childNodes,function(a){a.nodeType===ne&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===ne||c===se){b=new Ea(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===ne){var c=a.firstChild;d(new Ea(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Da(a,Sd(b).eq(0).clone()[0])},remove:Sa,detach:function(a){Sa(a,!0)},after:function(a,b){var c=a,d=a.parentNode;if(d){b=new Ea(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}}},addClass:Na,removeClass:Ma,toggleClass:function(a,b,c){b&&d(b.split(" "),function(b){var d=c;r(d)&&(d=!La(a,b)),(d?Na:Ma)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==se?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Fa,triggerHandler:function(a,b,c){var e,f,g,h=b.type||b,i=Ja(a),k=i&&i.events,l=k&&k[h];l&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:n,type:h,target:a},b.type&&(e=j(e,b)),f=ra(l),g=c?[e].concat(c):[e],d(f,function(b){e.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Ea.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Sd(e))):Oa(e,a(this[f],b,c,d));return s(e)?e:this}}),Ea.prototype.bind=Ea.prototype.on,Ea.prototype.unbind=Ea.prototype.off,_a.prototype={put:function(a,b){this[$a(a,this.nextUid)]=b},get:function(a){return this[$a(a,this.nextUid)]},remove:function(a){var b=this[a=$a(a,this.nextUid)];return delete this[a],b}};var Me=[function(){this.$get=[function(){return _a}]}],Ne=/^([^(]+?)=>/,Oe=/^[^(]*\(\s*([^)]*)\)/m,Pe=/,/,Qe=/^\s*(_?)(\S+?)\1\s*$/,Re=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Se=b("$injector");eb.$$annotate=db;var Te=b("$animate"),Ue=1,Ve="ng-animate",We=function(){this.$get=n},Xe=function(){var a=new _a,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,e){function f(a,b,c){var e=!1;return b&&(b=v(b)?b.split(" "):ce(b)?b:[],d(b,function(b){b&&(e=!0,a[b]=c)})),e}function g(){d(b,function(b){var c=a.get(b);if(c){var e=ib(b.attr("class")),f="",g="";d(c,function(a,b){var c=!!e[b];a!==c&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)}),d(b,function(a){f&&Na(a,f),g&&Ma(a,g)}),a.remove(b)}}),b.length=0}function h(c,d,h){var i=a.get(c)||{},j=f(i,d,!0),k=f(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&e.$$postDigest(g))}return{enabled:n,on:n,off:n,pin:n,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Ye=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Te("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Ve+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw Te("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ve)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=hb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Sd(d),e=e&&Sd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",jb(f))},move:function(c,d,e,f){return d=d&&Sd(d),e=e&&Sd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",jb(f))},leave:function(b,c){return a.push(b,"leave",jb(c),function(){b.remove()})},addClass:function(b,c,d){return d=jb(d),d.addClass=gb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=jb(d),d.removeClass=gb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=jb(e),e.addClass=gb(e.addClass,c),e.removeClass=gb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=jb(f),f.from=f.from?j(f.from,c):c,f.to=f.to?j(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=gb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ze=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},$e=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,e,f){function g(a){this.setHost(a);var b=c(),d=function(a){f(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=e[0];c&&c.hidden?d(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){f=f&&c,++e===a.length&&b(f)}var e=0,f=!0;d(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:n,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(d(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},_e=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=N(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},af=b("$compile"),bf=new ob;pb.$inject=["$provide","$$sanitizeUriProvider"],qb.prototype.isFirstChange=function(){return this.previousValue===bf};var cf=/^((?:x|data)[:\-_])/i,df=b("$controller"),ef=/^(\S+)(\s+as\s+([\w$]+))?$/,ff=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Sd&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},gf="application/json",hf={"Content-Type":gf+";charset=utf-8"},jf=/^\[|^\{(?!\{)/,kf={"[":/]$/,"{":/}$/},lf=/^\)]\}',?\n/,mf=b("$http"),nf=function(a){return function(){throw mf("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},of=_d.$interpolateMinErr=b("$interpolate");of.throwNoconcat=function(a){throw of("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},of.interr=function(a,b){return of("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var pf=function(){this.$get=["$window",function(a){function b(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var c=a.angular.callbacks,d={};return{createCallback:function(a){var e="_"+(c.$$counter++).toString(36),f="angular.callbacks."+e,g=b(e);return d[f]=c[e]=g,f},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){var b=d[a];delete c[b.id],delete d[a]}}}]},qf=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,rf={http:80,https:443,ftp:21},sf=b("$location"),tf=/^\s*[\\/]{2,}/,uf={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Zb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=qf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Zb("$$protocol"),host:Zb("$$host"),port:Zb("$$port"),path:$b("$$path",function(a){return a=null!==a?a.toString():"","/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||w(a))a=a.toString(),this.$$search=$(a);else{if(!t(a))throw sf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=N(a,{}),d(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:$b("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};d([Yb,Xb,Wb],function(a){a.prototype=Object.create(uf),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Wb||!this.$$html5)throw sf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var vf=b("$parse"),wf=[].constructor,xf=(!1).constructor,yf=Function.constructor,zf=0..constructor,Af={}.constructor,Bf="".constructor,Cf=wf.prototype,Df=xf.prototype,Ef=yf.prototype,Ff=zf.prototype,Gf=Af.prototype,Hf=Bf.prototype,If=Ef.call,Jf=Ef.apply,Kf=Ef.bind,Lf=Gf.valueOf,Mf=pa();d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Mf[a]=!0});var Nf={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Of=function(a){this.options=a};Of.prototype={constructor:Of,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=Mf[b],f=Mf[c],g=Mf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&56319>=c&&d>=56320&&57343>=d?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw vf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Nd(this.text.charAt(this.index));if("."===c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"===c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"===a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=Nf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var Pf=function(a,b){this.lexer=a,this.options=b};Pf.Program="Program",Pf.ExpressionStatement="ExpressionStatement",Pf.AssignmentExpression="AssignmentExpression",Pf.ConditionalExpression="ConditionalExpression",Pf.LogicalExpression="LogicalExpression",Pf.BinaryExpression="BinaryExpression",Pf.UnaryExpression="UnaryExpression",Pf.CallExpression="CallExpression",Pf.MemberExpression="MemberExpression",Pf.Identifier="Identifier",Pf.Literal="Literal",Pf.ArrayExpression="ArrayExpression",Pf.Property="Property",Pf.ObjectExpression="ObjectExpression",Pf.ThisExpression="ThisExpression",Pf.LocalsExpression="LocalsExpression",Pf.NGValueParameter="NGValueParameter",Pf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:Pf.Program,body:a}},expressionStatement:function(){return{type:Pf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!lc(a))throw vf("lval","Trying to assign a value to a non l-value");a={type:Pf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:Pf.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:Pf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:Pf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:Pf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:Pf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:Pf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:Pf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:Pf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:Pf.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:Pf.CallExpression,
callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:Pf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:Pf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:Pf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.filterChain());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:Pf.Identifier,name:a.text}},constant:function(){return{type:Pf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Pf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:Pf.Property,kind:"init"},this.peek().constant?(a.key=this.constant(),a.computed=!1,this.consume(":"),a.value=this.expression()):this.peek().identifier?(a.key=this.identifier(),a.computed=!1,this.peek(":")?(this.consume(":"),a.value=this.expression()):a.value=a.key):this.peek("[")?(this.consume("["),a.key=this.expression(),this.consume("]"),a.computed=!0,this.consume(":"),a.value=this.expression()):this.throwError("invalid key",this.peek()),b.push(a)}while(this.expect(","));return this.consume("}"),{type:Pf.ObjectExpression,properties:b}},throwError:function(a,b){throw vf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw vf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw vf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},selfReferential:{"this":{type:Pf.ThisExpression},$locals:{type:Pf.LocalsExpression}}},pc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},jc(e,c.$filter);var f,g="";if(this.stage="assign",f=mc(e)){this.state.computing="assign";var h=this.nextId();this.recurse(f,h),this.return_(h),g="fn.assign="+this.generateFunction("assign","s,v,l")}var i=kc(e.body);c.stage="inputs",d(i,function(a,b){var d="fn"+b;c.state[d]={vars:[],body:[],own:{}},c.state.computing=d;var e=c.nextId();c.recurse(a,e),c.return_(e),c.state.inputs.push(d),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var j='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;",k=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",j)(this.$filter,bc,dc,ec,cc,fc,gc,hc,a);return this.state=this.stage=void 0,k.literal=nc(e),k.constant=oc(e),k},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return d(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return d(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,e,f,g){var h,i,j,k,l,m=this;if(e=e||n,!g&&s(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,e,f,!0));switch(a.type){case Pf.Program:d(a.body,function(b,c){m.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?m.current().body.push(i,";"):m.return_(i)});break;case Pf.Literal:k=this.escape(a.value),this.assign(b,k),e(k);break;case Pf.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),e(k);break;case Pf.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),e(k);break;case Pf.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case Pf.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case Pf.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),bc(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){f&&1!==f&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||rc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case Pf.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,h,void 0,function(){m.if_(m.notNull(h),function(){f&&1!==f&&m.addEnsureSafeAssignContext(h),a.computed?(i=m.nextId(),m.recurse(a.property,i),m.getStringValue(i),m.addEnsureSafeMemberName(i),f&&1!==f&&m.if_(m.not(m.computedMember(h,i)),m.lazyAssign(m.computedMember(h,i),"{}")),k=m.ensureSafeObject(m.computedMember(h,i)),m.assign(b,k),c&&(c.computed=!0,c.name=i)):(bc(a.property.name),f&&1!==f&&m.if_(m.not(m.nonComputedMember(h,a.property.name)),m.lazyAssign(m.nonComputedMember(h,a.property.name),"{}")),k=m.nonComputedMember(h,a.property.name),(m.state.expensiveChecks||rc(a.property.name))&&(k=m.ensureSafeObject(k)),m.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!f);break;case Pf.CallExpression:b=b||this.nextId(),a.filter?(i=m.filter(a.callee.name),j=[],d(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",m.assign(b,k),e(b)):(i=m.nextId(),h={},j=[],m.recurse(a.callee,i,h,function(){m.if_(m.notNull(i),function(){m.addEnsureSafeFunction(i),d(a.arguments,function(a){m.recurse(a,m.nextId(),void 0,function(a){j.push(m.ensureSafeObject(a))})}),h.name?(m.state.expensiveChecks||m.addEnsureSafeObject(h.context),k=m.member(h.context,h.name,h.computed)+"("+j.join(",")+")"):k=i+"("+j.join(",")+")",k=m.ensureSafeObject(k),m.assign(b,k)},function(){m.assign(b,"undefined")}),e(b)}));break;case Pf.AssignmentExpression:i=this.nextId(),h={},this.recurse(a.left,void 0,h,function(){m.if_(m.notNull(h.context),function(){m.recurse(a.right,i),m.addEnsureSafeObject(m.member(h.context,h.name,h.computed)),m.addEnsureSafeAssignContext(h.context),k=m.member(h.context,h.name,h.computed)+a.operator+i,m.assign(b,k),e(b||k)})},1);break;case Pf.ArrayExpression:j=[],d(a.elements,function(a){m.recurse(a,m.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),e(k);break;case Pf.ObjectExpression:j=[],l=!1,d(a.properties,function(a){a.computed&&(l=!0)}),l?(b=b||this.nextId(),this.assign(b,"{}"),d(a.properties,function(a){a.computed?(h=m.nextId(),m.recurse(a.key,h)):h=a.key.type===Pf.Identifier?a.key.name:""+a.key.value,i=m.nextId(),m.recurse(a.value,i),m.assign(m.member(b,h,a.computed),i)})):(d(a.properties,function(b){m.recurse(b.value,a.constant?void 0:m.nextId(),void 0,function(a){j.push(m.escape(b.key.type===Pf.Identifier?b.key.name:""+b.key.value)+":"+a)})}),k="{"+j.join(",")+"}",this.assign(b,k)),e(b||k);break;case Pf.ThisExpression:this.assign(b,"s"),e("s");break;case Pf.LocalsExpression:this.assign(b,"l"),e("l");break;case Pf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,d=/[^$_a-zA-Z0-9]/g;return c.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(v(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw vf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},qc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,jc(e,c.$filter);var f,g;(f=mc(e))&&(g=this.recurse(f));var h,i=kc(e.body);i&&(h=[],d(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];d(e.body,function(a){j.push(c.recurse(a.expression))});var k=0===e.body.length?n:1===e.body.length?j[0]:function(a,b){var c;return d(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=nc(e),k.constant=oc(e),k},recurse:function(a,b,c){var e,f,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case Pf.Literal:return this.value(a.value,b);case Pf.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case Pf.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case Pf.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case Pf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case Pf.Identifier:return bc(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||rc(a.name),b,c,h.expression);case Pf.MemberExpression:return e=this.recurse(a.object,!1,!!c),a.computed||(bc(a.property.name,h.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,c,h.expression):this.nonComputedMember(e,f,h.expensiveChecks,b,c,h.expression);case Pf.CallExpression:return g=[],d(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,c,d,e){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,e));var j=f.apply(void 0,h,e);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,e){var i,j=f(a,c,d,e);if(null!=j.value){dc(j.context,h.expression),ec(j.value,h.expression);for(var k=[],l=0;l<g.length;++l)k.push(dc(g[l](a,c,d,e),h.expression));i=dc(j.value.apply(j.context,k),h.expression)}return b?{value:i}:i};case Pf.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,g){var i=e(a,c,d,g),j=f(a,c,d,g);return dc(i.value,h.expression),fc(i.context),i.context[i.name]=j,b?{value:j}:j};case Pf.ArrayExpression:return g=[],d(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case Pf.ObjectExpression:return g=[],d(a.properties,function(a){a.computed?g.push({key:h.recurse(a.key),computed:!0,value:h.recurse(a.value)}):g.push({key:a.key.type===Pf.Identifier?a.key.name:""+a.key.value,computed:!1,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)g[h].computed?f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e):f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case Pf.ThisExpression:return function(a){return b?{value:a}:a};case Pf.LocalsExpression:return function(a,c){return b?{value:c}:c};case Pf.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=hc(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(s(h)?h:0)-(s(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c,d,e){return function(f,g,h,i){var j=g&&a in g?g:f;d&&1!==d&&j&&!j[a]&&(j[a]={});var k=j?j[a]:void 0;return b&&dc(k,e),c?{context:j,name:a,value:k}:k}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=cc(j),bc(j,e),d&&1!==d&&(fc(l),l&&!l[j]&&(l[j]={})),k=l[j],dc(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,c,d,e,f){return function(g,h,i,j){var k=a(g,h,i,j);e&&1!==e&&(fc(k),k&&!k[b]&&(k[b]={}));var l=null!=k?k[b]:void 0;return(c||rc(b))&&dc(l,f),d?{context:k,name:b,value:l}:l}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var Qf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new Pf(a,c),this.astCompiler=c.csp?new qc(this.ast,b):new pc(this.ast,b)};Qf.prototype={constructor:Qf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var Rf=b("$sce"),Sf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Tf=b("$compile"),Uf=a.document.createElement("a"),Vf=Ic(a.location.href);Lc.$inject=["$document"],Nc.$inject=["$provide"];var Wf=22,Xf=".",Yf="0";Sc.$inject=["$locale"],Tc.$inject=["$locale"];var Zf={yyyy:Yc("FullYear",4,0,!1,!0),yy:Yc("FullYear",2,0,!0,!0),y:Yc("FullYear",1,0,!1,!0),MMMM:Zc("Month"),MMM:Zc("Month",!0),MM:Yc("Month",2,1),M:Yc("Month",1,1),LLLL:Zc("Month",!1,!0),dd:Yc("Date",2),d:Yc("Date",1),HH:Yc("Hours",2),H:Yc("Hours",1),hh:Yc("Hours",2,-12),h:Yc("Hours",1,-12),mm:Yc("Minutes",2),m:Yc("Minutes",1),ss:Yc("Seconds",2),s:Yc("Seconds",1),sss:Yc("Milliseconds",3),EEEE:Zc("Day"),EEE:Zc("Day",!0),a:cd,Z:$c,ww:bd(2),w:bd(1),G:dd,GG:dd,GGG:dd,GGGG:ed},$f=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,_f=/^-?\d+$/;fd.$inject=["$locale"];var ag=p(Nd),bg=p(Od);jd.$inject=["$parse"];var cg=p({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Yd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),dg={};d(Je,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!==a){var d=rb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),dg[d]=function(){return{restrict:"A",priority:100,link:e}}}}),d(Le,function(a,b){dg[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"===d.ngPattern.charAt(0)){var e=d.ngPattern.match(Kd);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),d(["src","srcset","href"],function(a){var b=rb("ng-"+a);dg[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Yd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Rd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var eg={$addControl:n,$$renameControl:ld,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n,$setSubmitted:n},fg="ng-submitted";md.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var gg=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||n}var e={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:md,compile:function(c,e){c.addClass(Qg).addClass(Og);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};we(c[0],"submit",i),c.on("$destroy",function(){b(function(){xe(c[0],"submit",i)},0,!1)})}var k=g[1]||h.$$parentForm;k.$addControl(h);var l=f?d(h.$name):n;f&&(l(a,h),e.$observe(f,function(b){h.$name!==b&&(l(a,void 0),h.$$parentForm.$$renameControl(h,b),(l=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),l(a,void 0),j(h,eg)})}}}};return e}]},hg=gg(),ig=gg(!0),jg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,kg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,lg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ng=/^(\d{4,})-(\d{2})-(\d{2})$/,og=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pg=/^(\d{4,})-W(\d\d)$/,qg=/^(\d{4,})-(\d\d)$/,rg=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sg="keydown wheel mousedown",tg=pa();d("date,datetime-local,month,time,week".split(","),function(a){tg[a]=!0});var ug={text:od,date:sd("date",ng,rd(ng,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":sd("datetimelocal",og,rd(og,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:sd("time",rg,rd(rg,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:sd("week",pg,qd,"yyyy-Www"),month:sd("month",qg,rd(qg,["yyyy","MM"]),"yyyy-MM"),number:zd,url:Bd,email:Cd,radio:Dd,range:Ad,checkbox:Fd,hidden:n,button:n,submit:n,reset:n,file:n},vg=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){if(h[0]){var i=Nd(g.type);"range"!==i||g.hasOwnProperty("ngInputRange")||(i="text"),(ug[i]||ug.text)(e,f,g,h[0],b,a,c,d)}}}}}],wg=/^(true|false|\d+)$/,xg=function(){return{restrict:"A",priority:100,compile:function(a,b){return wg.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},yg=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=r(a)?"":a})}}}}],zg=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],Ag=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){var c=f(b);d.html(a.getTrustedHtml(c)||"")})}}}}],Bg=p({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Cg=Gd("",!0),Dg=Gd("Odd",0),Eg=Gd("Even",1),Fg=kd({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Gg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Hg={},Ig={blur:!0,focus:!0};d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=rb("ng-"+a);Hg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};Ig[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Jg=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=oa(h.clone),a.leave(j).done(function(a){a!==!1&&(j=null)}),h=null))})}}}],Kg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_d.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).done(function(a){a!==!1&&(m=null)}),m=n,n=null)};d.$watch(f,function(f){var i=function(a){a===!1||!s(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).done(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],Lg=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Yd.call(d[0]).match(/SVG/)?(d.empty(),void b(Ba(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void b(d.contents())(c))}}}],Mg=kd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Ng=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,e){var f=b.attr(c.$attr.ngList)||", ",g="false"!==c.ngTrim,h=g?ee(f):f,i=function(a){if(!r(a)){var b=[];return a&&d(a.split(h),function(a){a&&b.push(g?ee(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return ce(a)?a.join(f):void 0}),e.$isEmpty=function(a){return!a||!a.length}}}},Og="ng-valid",Pg="ng-invalid",Qg="ng-pristine",Rg="ng-dirty",Sg="ng-untouched",Tg="ng-touched",Ug="ng-pending",Vg="ng-empty",Wg="ng-not-empty",Xg=b("ngModel"),Yg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,c,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(c.name||"",!1)(a),this.$$parentForm=eg;var l,m=f(c.ngModel),o=m.assign,p=m,q=o,t=null,u=this;this.$$setOptions=function(a){if(u.$options=a,a&&a.getterSetter){var b=f(c.ngModel+"()"),d=f(c.ngModel+"($$$p)");p=function(a){var c=m(a);return y(c)&&(c=b(a)),c},q=function(a,b){y(m(a))?d(a,{$$$p:b}):o(a,b)}}else if(!m.assign)throw Xg("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,Y(e))},this.$render=n,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){u.$isEmpty(a)?(g.removeClass(e,Wg),g.addClass(e,Vg)):(g.removeClass(e,Vg),g.addClass(e,Wg))};var v=0;Hd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:g}),this.$setPristine=function(){u.$dirty=!1,u.$pristine=!0,g.removeClass(e,Rg),g.addClass(e,Qg)},this.$setDirty=function(){u.$dirty=!0,u.$pristine=!1,g.removeClass(e,Qg),g.addClass(e,Rg),u.$$parentForm.$setDirty()},this.$setUntouched=function(){u.$touched=!1,u.$untouched=!0,g.setClass(e,Sg,Tg)},this.$setTouched=function(){u.$touched=!0,u.$untouched=!1,g.setClass(e,Tg,Sg)},this.$rollbackViewValue=function(){h.cancel(t),u.$viewValue=u.$$lastCommittedViewValue,u.$render()},this.$validate=function(){if(!be(u.$modelValue)){var a=u.$$lastCommittedViewValue,b=u.$$rawModelValue,c=u.$valid,d=u.$modelValue,e=u.$options&&u.$options.allowInvalid;u.$$runValidators(b,a,function(a){e||c===a||(u.$modelValue=a?b:void 0,u.$modelValue!==d&&u.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function e(){var a=u.$$parserName||"parse";return r(l)?(h(a,null),!0):(l||(d(u.$validators,function(a,b){h(b,null)}),d(u.$asyncValidators,function(a,b){h(b,null)})),h(a,l),l)}function f(){var c=!0;return d(u.$validators,function(d,e){var f=d(a,b);c=c&&f,h(e,f)}),c?!0:(d(u.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var c=[],e=!0;d(u.$asyncValidators,function(d,f){var g=d(a,b);if(!G(g))throw Xg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",g);h(f,void 0),c.push(g.then(function(){h(f,!0)},function(){e=!1,h(f,!1)}))}),c.length?j.all(c).then(function(){i(e)},n):i(!0)}function h(a,b){k===v&&u.$setValidity(a,b)}function i(a){k===v&&c(a)}v++;var k=v;return e()&&f()?void g():void i(!1)},this.$commitViewValue=function(){var a=u.$viewValue;h.cancel(t),(u.$$lastCommittedViewValue!==a||""===a&&u.$$hasNativeValidators)&&(u.$$updateEmptyClasses(a),u.$$lastCommittedViewValue=a,u.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){u.$modelValue!==f&&u.$$writeModelToScope()}var c=u.$$lastCommittedViewValue,d=c;if(l=r(d)?void 0:!0)for(var e=0;e<u.$parsers.length;e++)if(d=u.$parsers[e](d),r(d)){l=!1;break}be(u.$modelValue)&&(u.$modelValue=p(a));var f=u.$modelValue,g=u.$options&&u.$options.allowInvalid;u.$$rawModelValue=d,g&&(u.$modelValue=d,b()),u.$$runValidators(d,u.$$lastCommittedViewValue,function(a){g||(u.$modelValue=a?d:void 0,b())})},this.$$writeModelToScope=function(){q(a,u.$modelValue),d(u.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){u.$viewValue=a,(!u.$options||u.$options.updateOnDefault)&&u.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=u.$options;e&&s(e.debounce)&&(c=e.debounce,w(c)?d=c:w(c[b])?d=c[b]:w(c["default"])&&(d=c["default"])),h.cancel(t),d?t=h(function(){u.$commitViewValue()},d):i.$$phase?u.$commitViewValue():a.$apply(function(){u.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==u.$modelValue&&(u.$modelValue===u.$modelValue||b===b)){u.$modelValue=u.$$rawModelValue=b,l=void 0;for(var c=u.$formatters,d=c.length,e=b;d--;)e=c[d](e);u.$viewValue!==e&&(u.$$updateEmptyClasses(e),u.$viewValue=u.$$lastCommittedViewValue=e,u.$render(),u.$$runValidators(u.$modelValue,u.$viewValue,n))}return b})}],Zg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Yg,priority:1,compile:function(b){return b.addClass(Qg).addClass(Sg).addClass(Og),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],$g=/(\s+|^)default(\s+|$)/,_g=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=N(a.$eval(b.ngModelOptions)),s(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=ee(this.$options.updateOn.replace($g,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ah=kd({terminal:!0,priority:1e3}),bh=b("ngOptions"),ch=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,dh=["$compile","$document","$parse",function(b,e,f){function g(a,b,d){function e(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&c(a))b=a;else{b=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b.push(d)}return b}var h=a.match(ch);if(!h)throw bh("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Y(b));
var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=f(h[2]?h[1]:i),n=k&&f(k),o=n||m,p=l&&f(l),q=l?function(a,b){return p(d,b)}:function(a){return $a(a)},r=function(a,b){return q(a,x(a,b))},s=f(h[2]||h[1]),t=f(h[3]||""),u=f(h[4]||""),v=f(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:f(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;e>f;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],f=g(c),h=f.length,i=0;h>i;i++){var j=c===f?i:f[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new e(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?N(a.viewValue):a.viewValue}}}}}function h(a,c,f,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),l(a,c)}function l(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}function m(){var a=y&&o.readValue();if(y)for(var b=y.items.length-1;b>=0;b--){var d=y.items[b];Sa(s(d.group)?d.element.parentNode:d.element)}y=z.getOptions();var e={};if(v&&c.prepend(n),y.items.forEach(function(a){var b;s(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),A.appendChild(b),b.label=null===a.group?"null":a.group,e[a.group]=b),k(a,b)):k(a,A)}),c[0].appendChild(A),p.$render(),!p.$isEmpty(a)){var f=o.readValue(),g=z.trackBy||q;(g?O(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var n,o=h[0],p=h[1],q=f.multiple,r=0,t=c.children(),u=t.length;u>r;r++)if(""===t[r].value){n=t.eq(r);break}var v=!!n,w=!1,x=Sd(i.cloneNode(!1));x.val("?");var y,z=g(f.ngOptions,c,a),A=e[0].createDocumentFragment(),B=function(){v||c.prepend(n),c.val(""),w&&(n.prop("selected",!0),n.attr("selected",!0))},C=function(){v?w&&n.removeAttr("selected"):n.remove()},D=function(){c.prepend(x),c.val("?"),x.prop("selected",!0),x.attr("selected",!0)},E=function(){x.remove()};q?(p.$isEmpty=function(a){return!a||0===a.length},o.writeValue=function(a){y.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=y.getOptionFromViewValue(a);b&&(b.element.selected=!0)})},o.readValue=function(){var a=c.val()||[],b=[];return d(a,function(a){var c=y.selectValueMap[a];c&&!c.disabled&&b.push(y.getViewValueFromOption(c))}),b},z.trackBy&&a.$watchCollection(function(){return ce(p.$viewValue)?p.$viewValue.map(function(a){return z.getTrackByValue(a)}):void 0},function(){p.$render()})):(o.writeValue=function(a){var b=y.selectValueMap[c.val()],d=y.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected"),d?(c[0].value!==d.selectValue&&(E(),C(),c[0].value=d.selectValue,d.element.selected=!0),d.element.setAttribute("selected","selected")):null===a||v?(E(),B()):(C(),D())},o.readValue=function(){var a=y.selectValueMap[c.val()];return a&&!a.disabled?(C(),E(),y.getViewValueFromOption(a)):null},z.trackBy&&a.$watch(function(){return z.getTrackByValue(p.$viewValue)},function(){p.$render()})),v?(n.remove(),b(n)(a),n[0].nodeType===qe?(w=!1,o.registerOption=function(a,b){""===b.val()&&(w=!0,n=b,n.removeClass("ng-scope"),p.$render(),b.on("$destroy",function(){n=void 0,w=!1}))}):(n.removeClass("ng-scope"),w=!0)):n=Sd(i.cloneNode(!1)),c.empty(),m(),a.$watchCollection(z.getWatchables,m)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=n},post:h}}}],eh=["$locale","$interpolate","$log",function(a,b,c){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),o=i.offset||0,p=g.$eval(m)||{},q={},s=b.startSymbol(),t=b.endSymbol(),u=s+l+"-"+o+t,v=_d.noop;d(i,function(a,b){var c=f.exec(b);if(c){var d=(c[1]?"-":"")+Nd(c[2]);p[d]=h.attr(i.$attr[b])}}),d(p,function(a,c){q[c]=b(a.replace(e,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=be(d);if(e||d in p||(d=a.pluralCat(d-o)),!(d===k||e&&be(k))){v();var f=q[d];r(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=n,j()):v=g.$watch(f,j),k=d}})}}}],fh=["$parse","$animate","$compile",function(a,e,f){var g="$$NG_REMOVED",h=b("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},j=function(a){return a.clone[0]},k=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(b,l){var m=l.ngRepeat,n=f.$$createComment("end ngRepeat",m),o=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!o)throw h("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var p=o[1],q=o[2],r=o[3],s=o[4];if(o=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!o)throw h("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var t=o[3]||o[1],u=o[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw h("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",r);var v,w,x,y,z={$id:$a};return s?v=a(s):(x=function(a,b){return $a(b)},y=function(a){return a}),function(a,b,f,l,o){v&&(w=function(b,c,d){return u&&(z[u]=b),z[t]=c,z.$index=d,v(a,z)});var p=pa();a.$watchCollection(q,function(f){var l,q,s,v,z,A,B,C,D,E,F,G,H=b[0],I=pa();if(r&&(a[r]=f),c(f))D=f,C=w||x;else{C=w||y,D=[];for(var J in f)Md.call(f,J)&&"$"!==J.charAt(0)&&D.push(J)}for(v=D.length,F=new Array(v),l=0;v>l;l++)if(z=f===D?l:D[l],A=f[z],B=C(z,A,l),p[B])E=p[B],delete p[B],I[B]=E,F[l]=E;else{if(I[B])throw d(F,function(a){a&&a.scope&&(p[a.id]=a)}),h("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,B,A);F[l]={id:B,scope:void 0,clone:void 0},I[B]=!0}for(var K in p){if(E=p[K],G=oa(E.clone),e.leave(G),G[0].parentNode)for(l=0,q=G.length;q>l;l++)G[l][g]=!0;E.scope.$destroy()}for(l=0;v>l;l++)if(z=f===D?l:D[l],A=f[z],E=F[l],E.scope){s=H;do s=s.nextSibling;while(s&&s[g]);j(E)!==s&&e.move(oa(E.clone),null,H),H=k(E),i(E.scope,l,t,A,u,z,v)}else o(function(a,b){E.scope=b;var c=n.cloneNode(!1);a[a.length++]=c,e.enter(a,null,H),H=c,E.clone=a,I[E.id]=E,i(E.scope,l,t,A,u,z,v)});p=I})}}}}],gh="ng-hide",hh="ng-hide-animate",ih=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,gh,{tempClasses:hh})})}}}],jh=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,gh,{tempClasses:hh})})}}}],kh=kd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&d(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),lh=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,e,f,g){var h=f.ngSwitch||f.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(c){c!==!1&&a.splice(b,1)}};c.$watch(h,function(c){for(var e,f;k.length;)a.cancel(k.pop());for(e=0,f=l.length;f>e;++e){var h=oa(j[e].clone);l[e].$destroy();var n=k[e]=a.leave(h);n.done(m(k,e))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&d(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],mh=kd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,e,f){var g=c.ngSwitchWhen.split(c.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});d(g,function(a){e.cases["!"+a]=e.cases["!"+a]||[],e.cases["!"+a].push({transclude:f,element:b})})}}),nh=kd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),oh=b("ngTransclude"),ph=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var c=a(b.contents());return b.empty(),function(a,b,d,e,f){function g(a,c){a.length?b.append(a):(h(),c.$destroy())}function h(){c(a,function(a){b.append(a)})}if(!f)throw oh("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(b));d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");var i=d.ngTransclude||d.ngTranscludeSlot;f(g,null,i),i&&!f.isSlotFilled(i)&&h()}}}}],qh=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"===c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],rh={$setViewValue:n,$render:n},sh=["$element","$scope",function(b,c){var d=this,e=new _a;d.ngModelCtrl=rh,d.unknownOption=Sd(a.document.createElement("option")),d.renderUnknownOption=function(a){var c="? "+$a(a)+" ?";d.unknownOption.val(c),b.prepend(d.unknownOption),b.val(c)},c.$on("$destroy",function(){d.renderUnknownOption=n}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),b.val()},d.writeValue=function(a){d.hasOption(a)?(d.removeUnknownOption(),b.val(a),""===a&&d.emptyOption.prop("selected",!0)):null==a&&d.emptyOption?(d.removeUnknownOption(),b.val("")):d.renderUnknownOption(a)},d.addOption=function(a,b){if(b[0].nodeType!==qe){ma(a,'"option value"'),""===a&&(d.emptyOption=b);var c=e.get(a)||0;e.put(a,c+1),d.ngModelCtrl.$render(),Jd(b)}},d.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(d.emptyOption=void 0)):e.put(a,b-1))},d.hasOption=function(a){return!!e.get(a)},d.registerOption=function(a,b,c,e,f){if(e){var g;c.$observe("value",function(a){s(g)&&d.removeOption(g),g=a,d.addOption(a,b)})}else f?a.$watch(f,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],th=function(){function a(a,b,c,e){var f=e[1];if(f){var g=e[0];if(g.ngModelCtrl=f,b.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return d(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new _a(a);d(b.find("option"),function(a){a.selected=s(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==f.$viewValue||O(h,f.$viewValue)||(h=ra(f.$viewValue),f.$render()),i=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:sh,priority:1,link:{pre:a,post:b}}},uh=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){var d,e;return s(c.ngValue)?d=!0:s(c.value)?d=a(c.value,!0):(e=a(b.text(),!0),e||c.$set("value",b.text())),function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],vh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},wh=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(v(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,a,Y(c));f=a||void 0,e.$validate()}),e.$validators.pattern=function(a,b){return e.$isEmpty(b)||r(f)||f.test(b)}}}}},xh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=l(a);e=be(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},yh=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load angular more than once.")):(ja(),ua(_d),_d.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d),f=(a*e|0)%e;return{v:d,f:f}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),void Sd(a.document).ready(function(){ea(a.document,fa)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(a,b){"use strict";function c(a,b){if(h(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(i(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function d(){function a(a,c){return b.extend(Object.create(a),c)}function d(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(a,b,c,d){var f="?"===d||"*?"===d?"?":null,g="*"===d||"*?"===d?"*":null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([/$*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}h=b.isArray,i=b.isObject;var e={};this.when=function(a,f){var g=c(f);if(b.isUndefined(g.reloadOnSearch)&&(g.reloadOnSearch=!0),b.isUndefined(g.caseInsensitiveMatch)&&(g.caseInsensitiveMatch=this.caseInsensitiveMatch),e[a]=b.extend(g,a&&d(a,g)),a){var h="/"===a[a.length-1]?a.substr(0,a.length-1):a+"/";e[h]=b.extend({redirectTo:a},d(h,g))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,d,f,g,h,i,j){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function m(a){var d=v.current;s=q(),t=s&&d&&s.$$route===d.$$route&&b.equals(s.pathParams,d.pathParams)&&!s.reloadOnSearch&&!u,t||!d&&!s||c.$broadcast("$routeChangeStart",s,d).defaultPrevented&&a&&a.preventDefault()}function n(){var a=v.current,e=s;t?(a.params=e.params,b.copy(a.params,f),c.$broadcast("$routeUpdate",a)):(e||a)&&(u=!1,v.current=e,e&&e.redirectTo&&(b.isString(e.redirectTo)?d.path(r(e.redirectTo,e.params)).search(e.params).replace():d.url(e.redirectTo(e.pathParams,d.path(),d.search())).replace()),g.when(e).then(o).then(function(d){e===v.current&&(e&&(e.locals=d,b.copy(e.params,f)),c.$broadcast("$routeChangeSuccess",e,a))},function(b){e===v.current&&c.$broadcast("$routeChangeError",e,a,b)}))}function o(a){if(a){var c=b.extend({},a.resolve);b.forEach(c,function(a,d){c[d]=b.isString(a)?h.get(a):h.invoke(a,null,null,d)});var d=p(a);return b.isDefined(d)&&(c.$template=d),g.all(c)}}function p(a){var c,d;return b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),b.isDefined(d)&&(a.loadedTemplateUrl=j.valueOf(d),c=i(d))),c}function q(){var c,f;return b.forEach(e,function(e,g){!f&&(c=l(d.path(),e))&&(f=a(e,{params:b.extend({},d.search(),c),pathParams:c}),f.$$route=e)}),f||e[null]&&a(e[null],{params:{},pathParams:{}})}function r(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var s,t,u=!1,v={routes:e,reload:function(){u=!0;var a={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,u=!1}};c.$evalAsync(function(){m(a),a.defaultPrevented||n()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw k("norout","Tried updating route when with no current route");a=b.extend({},this.current.params,a),d.path(r(this.current.$$route.originalPath,a)),d.search(a)}};return c.$on("$locationChangeStart",m),c.$on("$locationChangeSuccess",n),v}]}function e(){this.$get=function(){return{}}}function f(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.done(function(a){a!==!1&&(n=null)}),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f).done(function(a){a===!1||!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function g(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}d[f.resolveAs||"$resolve"]=g,h(d)}}}var h,i,j=b.module("ngRoute",["ng"]).provider("$route",d),k=b.$$minErr("ngRoute");j.provider("$routeParams",e),j.directive("ngView",f),j.directive("ngView",g),f.$inject=["$route","$anchorScroll","$animate"],g.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b){"use strict";function c(a,b,c){if(!a)throw pa("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function d(a,b){return a||b?a?b?(X(a)&&(a=a.join(" ")),X(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function e(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function f(a,b,c){var d="";return a=X(a)?a:a&&aa(a)&&a.length?a.split(/\s+/):[],W(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function g(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function h(a){if(a instanceof ca)switch(a.length){case 0:return a;case 1:if(a[0].nodeType===L)return a;break;default:return ca(i(a))}return a.nodeType===L?ca(a):void 0}function i(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===L)return c}}function j(a,b,c){W(b,function(b){a.addClass(b,c)})}function k(a,b,c){W(b,function(b){a.removeClass(b,c)})}function l(a){return function(b,c){c.addClass&&(j(a,b,c.addClass),c.addClass=null),c.removeClass&&(k(a,b,c.removeClass),c.removeClass=null)}}function m(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||da;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=da},a.$$prepared=!0}return a}function n(a,b){o(a,b),p(a,b)}function o(a,b){b.from&&(a.css(b.from),b.from=null)}function p(a,b){b.to&&(a.css(b.to),b.to=null)}function q(a,b,c){var d=b.options||{},e=c.options||{},f=(d.addClass||"")+" "+(e.addClass||""),g=(d.removeClass||"")+" "+(e.removeClass||""),h=r(a.attr("class"),f,g);e.preparationClasses&&(d.preparationClasses=y(e.preparationClasses,d.preparationClasses),delete e.preparationClasses);var i=d.domOperation!==da?d.domOperation:null;return V(d,e),i&&(d.domOperation=i),h.addClass?d.addClass=h.addClass:d.addClass=null,h.removeClass?d.removeClass=h.removeClass:d.removeClass=null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function r(a,b,c){function d(a){aa(a)&&(a=a.split(" "));var b={};return W(a,function(a){a.length&&(b[a]=!0)}),b}var e=1,f=-1,g={};a=d(a),b=d(b),W(b,function(a,b){g[b]=e}),c=d(c),W(c,function(a,b){g[b]=g[b]===e?null:f});var h={addClass:"",removeClass:""};return W(g,function(b,c){var d,g;b===e?(d="addClass",g=!a[c]||a[c+N]):b===f&&(d="removeClass",g=a[c]||a[c+M]),g&&(h[d].length&&(h[d]+=" "),h[d]+=c)}),h}function s(a){return a instanceof ca?a[0]:a}function t(a,b,c){var d="";b&&(d=f(b,O,!0)),c.addClass&&(d=y(d,f(c.addClass,M))),c.removeClass&&(d=y(d,f(c.removeClass,N))),d.length&&(c.preparationClasses=d,a.addClass(d))}function u(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function v(a,b){var c=b?"-"+b+"s":"";return x(a,[na,c]),[na,c]}function w(a,b){var c=b?"paused":"",d=J+ja;return x(a,[d,c]),[d,c]}function x(a,b){var c=b[0],d=b[1];a.style[c]=d}function y(a,b){return a?b?a+" "+b:a:b}function z(a){return[ma,a+"s"]}function A(a,b){var c=b?la:na;return[c,a+"s"]}function B(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return W(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=C(c)),0===c&&(c=null),d[b]=c}}),d}function C(a){var b=0,c=a.split(/\s*,\s*/);return W(c,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function D(a){return 0===a||null!=a}function E(a,b){var c=H,d=a+"s";return b?c+=ea:d+=" linear all",[c,d]}function F(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function G(a,b,c){W(c,function(c){a[c]=Y(a[c])?a[c]:b.style.getPropertyValue(c)})}var H,I,J,K,L=1,M="-add",N="-remove",O="ng-",P="-active",Q="-prepare",R="ng-animate",S="$$ngAnimateChildren",T="";void 0===a.ontransitionend&&void 0!==a.onwebkittransitionend?(T="-webkit-",H="WebkitTransition",I="webkitTransitionEnd transitionend"):(H="transition",I="transitionend"),void 0===a.onanimationend&&void 0!==a.onwebkitanimationend?(T="-webkit-",J="WebkitAnimation",K="webkitAnimationEnd animationend"):(J="animation",K="animationend");var U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea="Duration",fa="Property",ga="Delay",ha="TimingFunction",ia="IterationCount",ja="PlayState",ka=9999,la=J+ga,ma=J+ea,na=H+ga,oa=H+ea,pa=b.$$minErr("ng"),qa=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],ra=["$interpolate",function(a){return{link:function(b,c,d){function e(a){a="on"===a||"true"===a,c.data(S,a)}var f=d.ngAnimateChildren;aa(f)&&0===f.length?c.data(S,!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}],sa="$$animateCss",ta=1e3,ua=3,va=1.5,wa={transitionDuration:oa,transitionDelay:na,transitionProperty:H+fa,animationDuration:ma,animationDelay:la,animationIterationCount:J+ia},xa={transitionDuration:oa,transitionDelay:na,animationDuration:ma,animationDelay:la},ya=["$animateProvider",function(a){var b=F(),c=F();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,d,h,i,j,k,q,r){function t(a,b){var c="$$ngAnimateParentKey",d=a.parentNode,e=d[c]||(d[c]=++Q);return e+"-"+a.getAttribute("class")+"-"+b}function u(c,d,e,f){var g=b.get(e);return g||(g=B(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function y(e,g,h,i){var j;if(b.count(h)>0&&(j=c.get(h),!j)){var k=f(g,"-stagger");d.addClass(e,k),j=B(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function C(a){R.push(a),q.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=j(),d=0;d<R.length;d++)R[d](a);R.length=0})}function F(a,b,c){var d=u(a,b,c,wa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var L=l(d),Q=0,R=[];return function(a,c){function j(){q()}function l(){q(!0)}function q(b){if(!(Y||$&&Z)){Y=!0,Z=!1,S.$$skipPreparationClasses||d.removeClass(a,wa),d.removeClass(a,za),w(V,!1),v(V,!1),W(ja,function(a){V.style[a[0]]=""}),L(a,S),n(a,S),Object.keys(T).length&&W(T,function(a,b){a?V.style.setProperty(b,a):V.style.removeProperty(b)}),S.onDone&&S.onDone(),na&&na.length&&a.off(na.join(" "),Q);var c=a.data(sa);c&&(i.cancel(c[0].timer),a.removeData(sa)),_&&_.complete(!b)}}function u(a){Na.blockTransition&&v(V,a),Na.blockKeyframeAnimation&&w(V,!!a)}function B(){return _=new h({end:j,cancel:l}),C(da),q(),{$$willAnimate:!1,start:function(){return _},end:j}}function Q(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(ua));Math.max(c-ia,0)>=ca&&d>=ea&&($=!0,q())}function R(){function b(){if(!Y){if(u(!1),W(ja,function(a){var b=a[0],c=a[1];V.style[b]=c}),L(a,S),d.addClass(a,za),Na.recalculateTimingStyles){if(ya=V.className+" "+wa,Ca=t(V,ya),La=F(V,ya,Ca),Ma=La.maxDelay,ba=Math.max(Ma,0),ea=La.maxDuration,0===ea)return void q();Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0}if(Na.applyAnimationDelay&&(Ma="boolean"!=typeof S.delay&&D(S.delay)?parseFloat(S.delay):Ma,ba=Math.max(Ma,0),La.animationDelay=Ma,Oa=A(Ma,!0),ja.push(Oa),V.style[Oa[0]]=Oa[1]),ca=ba*ta,ga=ea*ta,S.easing){var b,e=S.easing;Na.hasTransitions&&(b=H+ha,ja.push([b,e]),V.style[b]=e),Na.hasAnimations&&(b=J+ha,ja.push([b,e]),V.style[b]=e)}La.transitionDuration&&na.push(I),La.animationDuration&&na.push(K),ia=Date.now();var f=ca+va*ga,g=ia+f,h=a.data(sa)||[],j=!0;if(h.length){var k=h[0];j=g>k.expectedEndTime,j?i.cancel(k.timer):h.push(q)}if(j){var l=i(c,f,!1);h[0]={timer:l,expectedEndTime:g},h.push(q),a.data(sa,h)}na.length&&a.on(na.join(" "),Q),S.to&&(S.cleanupStyles&&G(T,V,Object.keys(S.to)),p(a,S))}}function c(){var b=a.data(sa);if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData(sa)}}if(!Y){if(!V.parentNode)return void q();var e=function(a){if($)Z&&a&&(Z=!1,q());else if(Z=!a,La.animationDuration){var b=w(V,Z);Z?ja.push(b):g(ja,b)}},f=Ja>0&&(La.transitionDuration&&0===Da.transitionDuration||La.animationDuration&&0===Da.animationDuration)&&Math.max(Da.animationDelay,Da.transitionDelay);f?i(b,Math.floor(f*Ja*ta),!1):b(),aa.resume=function(){e(!0)},aa.pause=function(){e(!1)}}}var S=c||{};S.$$prepared||(S=m(U(S)));var T={},V=s(a);if(!V||!V.parentNode||!r.enabled())return B();var Y,Z,$,_,aa,ba,ca,ea,ga,ia,ja=[],la=a.attr("class"),ma=e(S),na=[];if(0===S.duration||!k.animations&&!k.transitions)return B();var oa=S.event&&X(S.event)?S.event.join(" "):S.event,pa=oa&&S.structural,qa="",ra="";pa?qa=f(oa,O,!0):oa&&(qa=oa),S.addClass&&(ra+=f(S.addClass,M)),S.removeClass&&(ra.length&&(ra+=" "),ra+=f(S.removeClass,N)),S.applyClassesEarly&&ra.length&&L(a,S);var wa=[qa,ra].join(" ").trim(),ya=la+" "+wa,za=f(wa,P),Aa=ma.to&&Object.keys(ma.to).length>0,Ba=(S.keyframeStyle||"").length>0;if(!Ba&&!Aa&&!wa)return B();var Ca,Da;if(S.stagger>0){var Ea=parseFloat(S.stagger);Da={transitionDelay:Ea,animationDelay:Ea,transitionDuration:0,animationDuration:0}}else Ca=t(V,ya),Da=y(V,wa,Ca,xa);S.$$skipPreparationClasses||d.addClass(a,wa);var Fa;if(S.transitionStyle){var Ga=[H,S.transitionStyle];x(V,Ga),ja.push(Ga)}if(S.duration>=0){Fa=V.style[H].length>0;var Ha=E(S.duration,Fa);x(V,Ha),ja.push(Ha)}if(S.keyframeStyle){var Ia=[J,S.keyframeStyle];x(V,Ia),ja.push(Ia)}var Ja=Da?S.staggerIndex>=0?S.staggerIndex:b.count(Ca):0,Ka=0===Ja;Ka&&!S.skipBlocking&&v(V,ka);var La=F(V,ya,Ca),Ma=La.maxDelay;ba=Math.max(Ma,0),ea=La.maxDuration;var Na={};if(Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0,Na.hasTransitionAll=Na.hasTransitions&&"all"===La.transitionProperty,Na.applyTransitionDuration=Aa&&(Na.hasTransitions&&!Na.hasTransitionAll||Na.hasAnimations&&!Na.hasTransitions),Na.applyAnimationDuration=S.duration&&Na.hasAnimations,Na.applyTransitionDelay=D(S.delay)&&(Na.applyTransitionDuration||Na.hasTransitions),Na.applyAnimationDelay=D(S.delay)&&Na.hasAnimations,Na.recalculateTimingStyles=ra.length>0,(Na.applyTransitionDuration||Na.applyAnimationDuration)&&(ea=S.duration?parseFloat(S.duration):ea,Na.applyTransitionDuration&&(Na.hasTransitions=!0,La.transitionDuration=ea,Fa=V.style[H+fa].length>0,ja.push(E(ea,Fa))),Na.applyAnimationDuration&&(Na.hasAnimations=!0,La.animationDuration=ea,ja.push(z(ea)))),0===ea&&!Na.recalculateTimingStyles)return B();if(null!=S.delay){var Oa;"boolean"!=typeof S.delay&&(Oa=parseFloat(S.delay),ba=Math.max(Oa,0)),Na.applyTransitionDelay&&ja.push(A(Oa)),Na.applyAnimationDelay&&ja.push(A(Oa,!0))}return null==S.duration&&La.transitionDuration>0&&(Na.recalculateTimingStyles=Na.recalculateTimingStyles||Ka),ca=ba*ta,ga=ea*ta,S.skipBlocking||(Na.blockTransition=La.transitionDuration>0,Na.blockKeyframeAnimation=La.animationDuration>0&&Da.animationDelay>0&&0===Da.animationDuration),S.from&&(S.cleanupStyles&&G(T,V,Object.keys(S.from)),o(a,S)),Na.blockTransition||Na.blockKeyframeAnimation?u(ea):S.skipBlocking||v(V,!1),{$$willAnimate:!0,end:j,start:function(){return Y?void 0:(aa={end:j,cancel:l,resume:null,pause:null},_=new h(aa),C(R),_)}}}}]}],za=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor",e="ng-anchor-out",f="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,g,h,i,j,k,l){function m(a){return a.replace(/\bng-\S+\b/g,"")}function n(a,b){return aa(a)&&(a=a.split(" ")),aa(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function o(b,g,i){function j(a){var b={},c=s(a).getBoundingClientRect();return W(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=r.scrollTop;break;case"left":d+=r.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function k(){var b=a(q,{addClass:e,delay:!0,from:j(g)});return b.$$willAnimate?b:null}function l(a){return a.attr("class")||""}function o(){var b=m(l(i)),c=n(b,t),d=n(t,b),g=a(q,{to:j(i),addClass:f+" "+c,removeClass:e+" "+d,delay:!0});return g.$$willAnimate?g:null}function p(){q.remove(),g.removeClass(c),i.removeClass(c)}var q=ca(s(g).cloneNode(!0)),t=m(l(q));g.addClass(c),i.addClass(c),q.addClass(d),u.append(q);var v,w=k();if(!w&&(v=o(),!v))return p();var x=w||v;return{start:function(){function a(){c&&c.end()}var b,c=x.start();return c.done(function(){return c=null,!v&&(v=o())?(c=v.start(),c.done(function(){c=null,p(),b.complete();
}),c):(p(),void b.complete())}),b=new h({end:a,cancel:a})}}}function p(a,b,c,d){var e=q(a,da),f=q(b,da),g=[];return W(d,function(a){var b=a.out,d=a["in"],e=o(c,b,d);e&&g.push(e)}),e||f||0!==g.length?{start:function(){function a(){W(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),f&&b.push(f.start()),W(g,function(a){b.push(a.start())});var c=new h({end:a,cancel:a});return h.all(b,function(a){c.complete(a)}),c}}:void 0}function q(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation)),d.preparationClasses&&(d.event=y(d.event,d.preparationClasses));var e=a(c,d);return e.$$willAnimate?e:null}if(!j.animations&&!j.transitions)return da;var r=l[0].body,t=s(i),u=ca(b(t)||r.contains(t)?t:r);return function(a){return a.from&&a.to?p(a.from,a.to,a.classes,a.anchors):q(a)}}]}],Aa=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=X(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var f=l(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){o=!0,h(),n(a,g)}function j(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,r,s,f];break;case"addClass":g=[b,r,f];break;case"removeClass":g=[b,s,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if($(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if($(h))return h;return da}function k(a,b,d,e,f){var g=[];return W(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||da)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){var b=a===!1;i(b)}),e})}),g}function l(a,b,d,e,f){var g=k(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=k(a,"removeClass",d,e,"beforeRemoveClass"),i=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=k(a,"removeClass",d,e,"removeClass"),i=k(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&W(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){W(b,function(b){a?b.cancel():b.end()})}}}var o=!1;3===arguments.length&&_(d)&&(g=d,d=null),g=m(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,t=e(d);if(t.length){var u,v;"leave"===b?(v="leave",u="afterLeave"):(v="before"+b.charAt(0).toUpperCase()+b.substr(1),u=b),"enter"!==b&&"move"!==b&&(p=l(a,b,g,t,v)),q=l(a,b,g,t,u)}if(p||q){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(i(),w=new c,w.complete(!0)),w},start:function(){function a(a){i(a),w.complete(a)}function b(b){o||((d||da)(b),a(b))}if(w)return w;w=new c;var d,e=[];return p&&e.push(function(a){d=p(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),q&&e.push(function(a){d=q(a)}),w.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),w}}}}}]}],Ba=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){W(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],Ca="data-ng-animate",Da="$ngAnimatePin",Ea=["$animateProvider",function(b){function d(a){if(!a)return null;var b=a.split(o),c=Object.create(null);return W(b,function(a){c[a]=!0}),c}function e(a,b){if(a&&b){var c=d(b);return a.split(o).some(function(a){return c[a]})}}function f(a,b,c,d){return p[a].some(function(a){return a(b,c,d)})}function g(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var j=1,k=2,o=" ",p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(a,b,c){return!b.structural&&g(b)}),p.skip.push(function(a,b,c){return!b.structural&&!g(b)}),p.skip.push(function(a,b,c){return"leave"===c.event&&b.structural}),p.skip.push(function(a,b,c){return c.structural&&c.state===k&&!b.structural}),p.cancel.push(function(a,b,c){return c.structural&&b.structural}),p.cancel.push(function(a,b,c){return c.state===k&&b.structural}),p.cancel.push(function(a,b,c){if(c.structural)return!1;var d=b.addClass,f=b.removeClass,g=c.addClass,h=c.removeClass;return ba(d)&&ba(f)||ba(g)&&ba(h)?!1:e(d,h)||e(f,g)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(d,e,o,p,r,v,w,x,y,z){function A(){var a=!1;return function(b){a?b():e.$$postDigest(function(){a=!0,b()})}}function B(a,b){return q(a,b,{})}function C(a,b,c){var d=s(b),e=s(a),f=[],g=Q[c];return g&&W(g,function(a){da.call(a.node,d)?f.push(a.callback):"leave"===c&&da.call(a.node,e)&&f.push(a.callback)}),f}function D(a,b,c){var d=i(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}function E(a,b){"close"!==a||b[0].parentNode||ea.off(b)}function F(a,b,c){function i(b,c,e,f){z(function(){var b=C(r,a,c);b.length?d(function(){W(b,function(b){b(a,e,f)}),E(e,a)}):E(e,a)}),b.progress(c,e,f)}function l(b){u(a,x),$(a,x),n(a,x),x.domOperation(),y.complete(!b)}var o,r,x=U(c);a=h(a),a&&(o=s(a),r=a.parent()),x=m(x);var y=new w,z=A();if(X(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!aa(x.addClass)&&(x.addClass=null),X(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!aa(x.removeClass)&&(x.removeClass=null),x.from&&!_(x.from)&&(x.from=null),x.to&&!_(x.to)&&(x.to=null),!o)return l(),y;var D=[o.className,x.addClass,x.removeClass].join(" ");if(!T(D))return l(),y;var F=["enter","move","leave"].indexOf(b)>=0,I=p[0].hidden,L=!O||I||N.get(o),P=!L&&M.get(o)||{},Q=!!P.state;if(L||Q&&P.state===j||(L=!J(a,r,b)),L)return I&&i(y,b,"start"),l(),I&&i(y,b,"close"),y;F&&G(a);var R={structural:F,element:a,event:b,addClass:x.addClass,removeClass:x.removeClass,close:l,options:x,runner:y};if(Q){var S=f("skip",a,R,P);if(S)return P.state===k?(l(),y):(q(a,P,R),P.runner);var V=f("cancel",a,R,P);if(V)if(P.state===k)P.runner.end();else{if(!P.structural)return q(a,P,R),P.runner;P.close()}else{var Y=f("join",a,R,P);if(Y){if(P.state!==k)return t(a,F?b:null,x),b=R.event=P.event,x=q(a,P,R),P.runner;B(a,R)}}}else B(a,R);var Z=R.structural;if(Z||(Z="animate"===R.event&&Object.keys(R.options.to||{}).length>0||g(R)),!Z)return l(),H(a),y;var ba=(P.counter||0)+1;return R.counter=ba,K(a,j,R),e.$$postDigest(function(){var c=M.get(o),d=!c;c=c||{};var e=a.parent()||[],f=e.length>0&&("animate"===c.event||c.structural||g(c));if(d||c.counter!==ba||!f)return d&&($(a,x),n(a,x)),(d||F&&c.event!==b)&&(x.domOperation(),y.end()),void(f||H(a));b=!c.structural&&g(c,!0)?"setClass":c.event,K(a,k);var h=v(a,b,c.options);y.setHost(h),i(y,b,"start",{}),h.done(function(c){l(!c);var d=M.get(o);d&&d.counter===ba&&H(s(a)),i(y,b,"close",{})})}),y}function G(a){var b=s(a),c=b.querySelectorAll("["+Ca+"]");W(c,function(a){var b=parseInt(a.getAttribute(Ca),10),c=M.get(a);if(c)switch(b){case k:c.runner.end();case j:M.remove(a)}})}function H(a){var b=s(a);b.removeAttribute(Ca),M.remove(b)}function I(a,b){return s(a)===s(b)}function J(a,b,c){var d,e=ca(p[0].body),f=I(a,e)||"HTML"===a[0].nodeName,g=I(a,o),h=!1,i=N.get(s(a)),j=ca.data(a[0],Da);for(j&&(b=j),b=s(b);b&&(g||(g=I(b,o)),b.nodeType===L);){var k=M.get(b)||{};if(!h){var l=N.get(b);if(l===!0&&i!==!1){i=!0;break}l===!1&&(i=!1),h=k.structural}if(ba(d)||d===!0){var m=ca.data(b,S);Y(m)&&(d=m)}if(h&&d===!1)break;if(f||(f=I(b,e)),f&&g)break;b=g||!(j=ca.data(b,Da))?b.parentNode:s(j)}var n=(!h||d)&&i!==!0;return n&&g&&f}function K(a,b,c){c=c||{},c.state=b;var d=s(a);d.setAttribute(Ca,b);var e=M.get(d),f=e?V(e,c):c;M.put(d,f)}var M=new r,N=new r,O=null,P=e.$watch(function(){return 0===x.totalPendingRequests},function(a){a&&(P(),e.$$postDigest(function(){e.$$postDigest(function(){null===O&&(O=!0)})}))}),Q=Object.create(null),R=b.classNameFilter(),T=R?function(a){return R.test(a)}:function(){return!0},$=l(y),da=a.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},ea={on:function(a,b,c){var d=i(b);Q[a]=Q[a]||[],Q[a].push({node:d,callback:c}),ca(b).on("$destroy",function(){var e=M.get(d);e||ea.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||aa(arguments[0])){var d=Q[a];d&&(Q[a]=1===arguments.length?null:D(d,b,c))}else{b=arguments[0];for(var e in Q)Q[e]=D(Q[e],b)}},pin:function(a,b){c(Z(a),"element","not an element"),c(Z(b),"parentElement","not an element"),a.data(Da,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,F(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!O;else{var d=Z(a);if(d){var e=s(a);1===c?b=!N.get(e):N.put(e,!b)}else b=O=!!a}return b}};return ea}]}],Fa=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function e(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,h,i,j,k,o){function p(a){function b(a){if(a.processed)return a;a.processed=!0;var c=a.domNode,d=c.parentNode;f.put(c,a);for(var g;d;){if(g=f.get(d)){g.processed||(g=b(g));break}d=d.parentNode}return(g||e).children.push(a),a}function c(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];0>=e&&(e=f,f=0,c.push(g),g=[]),g.push(h.fn),h.children.forEach(function(a){f++,d.push(a)}),e--}return g.length&&c.push(g),c}var d,e={children:[]},f=new k;for(d=0;d<a.length;d++){var g=a[d];f.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return c(e)}var q=[],r=l(a);return function(k,l,t){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return W(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};W(a,function(a,d){var e=a.element,g=s(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";W(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:ca(a)}})}else b.push(a)});var d={},e={};return W(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,"in":h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a){for(var b=g.length-1;b>=0;b--){var c=g[b],d=i.get(c),e=d(a);if(e)return e}}function y(){k.addClass(R),F&&a.addClass(k,F),G&&(a.removeClass(k,G),G=null)}function z(a,b){function c(a){var c=e(a);c&&c.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=e(k);!a||"leave"===l&&t.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),r(k,t),n(k,t),t.domOperation(),F&&a.removeClass(k,F),k.removeClass(R),D.complete(!b)}t=m(t);var C=["enter","move","leave"].indexOf(l)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=d(k.attr("class"),d(t.addClass,t.removeClass)),F=t.tempClasses;F&&(E+=" "+F,t.tempClasses=null);var G;return C&&(G="ng-"+l+Q,a.addClass(k,G)),q.push({element:k,classes:E,event:l,structural:C,options:t,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a=[];W(q,function(b){e(b.element)?a.push(b):b.close()}),q.length=0;var b=v(a),c=[];W(b,function(a){c.push({domNode:s(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close,d=a.anchors?a.from.element||a.to.element:a.element;if(e(d)){var f=x(a);f&&(b=f.start)}if(b){var g=b();g.done(function(a){c(!a)}),z(a,g)}else c()}})}),o(p(c))}),D)}}]}],Ga=["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d["for"],function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[],function(){da=b.noop,U=b.copy,V=b.extend,ca=b.element,W=b.forEach,X=b.isArray,aa=b.isString,_=b.isObject,ba=b.isUndefined,Y=b.isDefined,$=b.isFunction,Z=b.isElement}).directive("ngAnimateSwap",Ga).directive("ngAnimateChildren",ra).factory("$$rAFScheduler",qa).provider("$$animateQueue",Ea).provider("$$animation",Fa).provider("$animateCss",ya).provider("$$animateCssDriver",za).provider("$$animateJs",Aa).provider("$$animateJsDriver",Ba)}(window,window.angular),function(a,b){"use strict";function c(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&g.test("."+a)}function d(a,d){if(!c(d))throw f("badmember",'Dotted member path "@{0}" is invalid.',d);for(var e=d.split("."),g=0,h=e.length;h>g&&b.isDefined(a);g++){var i=e[g];a=null!==a?a[i]:void 0}return a}function e(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var f=b.$$minErr("$resource"),g=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=/^https?:\/\/[^/]*/,c=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(g,h,i,j){function k(a){return l(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function l(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function m(a,b){this.template=a,this.defaults=q({},c.defaults,b),this.urlParams={}}function n(a,b,k,l){function w(a,c){var e={};return c=q({},b,c),p(c,function(b,c){u(b)&&(b=b(a)),e[c]=b&&b.charAt&&"@"===b.charAt(0)?d(a,b.substr(1)):b}),e}function x(a){return a.resource}function y(a){e(a||{},this)}var z=new m(a,l);return k=q({},c.defaults.actions,k),y.prototype.toJSON=function(){var a=q({},this);return delete a.$promise,delete a.$resolved,delete a.$cancelRequest,a},p(k,function(a,b){var c=/^(POST|PUT|PATCH)$/i.test(a.method),d=a.timeout,k=t(a.cancellable)?a.cancellable:z.defaults.cancellable;d&&!v(d)&&(h.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete a.timeout,d=null),y[b]=function(h,l,m,n){var t,v,A,B={};switch(arguments.length){case 4:A=n,v=m;case 3:case 2:if(!u(l)){B=h,t=l,v=m;break}if(u(h)){v=h,A=l;break}v=l,A=m;case 1:u(h)?v=h:c?t=h:B=h;break;case 0:break;default:throw f("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C,D,E=this instanceof y,F=E?t:a.isArray?[]:new y(t),G={},H=a.interceptor&&a.interceptor.response||x,I=a.interceptor&&a.interceptor.responseError||void 0;p(a,function(a,b){switch(b){default:G[b]=r(a);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!E&&k&&(C=i.defer(),G.timeout=C.promise,d&&(D=j(C.resolve,d))),c&&(G.data=t),z.setUrlParams(G,q({},w(t,a.params||{}),B),a.url);var J=g(G).then(function(c){var d=c.data;if(d){if(s(d)!==!!a.isArray)throw f("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",b,a.isArray?"array":"object",s(d)?"array":"object",G.method,G.url);if(a.isArray)F.length=0,p(d,function(a){"object"==typeof a?F.push(new y(a)):F.push(a)});else{var g=F.$promise;e(d,F),F.$promise=g}}return c.resource=F,c},function(a){return(A||o)(a),i.reject(a)});return J["finally"](function(){F.$resolved=!0,!E&&k&&(F.$cancelRequest=o,j.cancel(D),C=D=G.timeout=null)}),J=J.then(function(a){var b=H(a);return(v||o)(b,a.headers,a.status,a.statusText),b},I),E?J:(F.$promise=J,F.$resolved=!1,k&&(F.$cancelRequest=C.resolve),F)},y.prototype["$"+b]=function(a,c,d){u(a)&&(d=c,c=a,a={});var e=y[b].call(this,a,this,c,d);return e.$promise||e}}),y.bind=function(c){var d=q({},b,c);return n(a,d,k,l)},y}var o=b.noop,p=b.forEach,q=b.extend,r=b.copy,s=b.isArray,t=b.isDefined,u=b.isFunction,v=b.isNumber;return m.prototype={setUrlParams:function(b,c,d){var e,g,h=this,i=d||h.template,j="",m=h.urlParams={};p(i.split(/\W/),function(a){if("hasOwnProperty"===a)throw f("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(i)&&(m[a]={isQueryParamValue:new RegExp("\\?.*=:"+a+"(?:\\W|$)").test(i)})}),i=i.replace(/\\:/g,":"),i=i.replace(a,function(a){return j=a,""}),c=c||{},p(h.urlParams,function(a,b){e=c.hasOwnProperty(b)?c[b]:h.defaults[b],t(e)&&null!==e?(g=a.isQueryParamValue?l(e,!0):k(e),i=i.replace(new RegExp(":"+b+"(\\W|$)","g"),function(a,b){return g+b})):i=i.replace(new RegExp("(/?):"+b+"(\\W|$)","g"),function(a,b,c){return"/"===c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(i=i.replace(/\/+$/,"")||"/"),i=i.replace(/\/\.(?=\w+($|\?))/,"."),b.url=j+i.replace(/\/\\\./,"/."),p(c,function(a,c){h.urlParams[c]||(b.params=b.params||{},b.params[c]=a)})}},n}]})}(window,window.angular),function(a,b){"use strict";function c(){function c(a,b){var c,d={},e=a.split(",");for(c=0;c<e.length;c++)d[b?i(e[c]):e[c]]=!0;return d}function d(b,c){null===b||void 0===b?b="":"string"!=typeof b&&(b=""+b),s.innerHTML=b;var d=5;do{if(0===d)throw m("uinput","Failed to sanitize html because the input is unstable");d--,a.document.documentMode&&q(s),b=s.innerHTML,s.innerHTML=b}while(b!==s.innerHTML);for(var e=s.firstChild;e;){switch(e.nodeType){case 1:c.start(e.nodeName.toLowerCase(),n(e.attributes));break;case 3:c.chars(e.textContent)}var f;if(!(f=e.firstChild)&&(1===e.nodeType&&c.end(e.nodeName.toLowerCase()),f=e.nextSibling,!f))for(;null==f&&(e=e.parentNode,e!==s);)f=e.nextSibling,1===e.nodeType&&c.end(e.nodeName.toLowerCase());e=f}for(;e=s.firstChild;)s.removeChild(e)}function n(a){for(var b={},c=0,d=a.length;d>c;c++){var e=a[c];b[e.name]=e.value}return b}function o(a){return a.replace(/&/g,"&amp;").replace(t,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(a,b){var c=!1,d=e(a,a.push);return{start:function(a,e){a=i(a),!c&&C[a]&&(c=a),c||D[a]!==!0||(d("<"),d(a),g(e,function(c,e){var f=i(e),g="img"===a&&"src"===f||"background"===f;H[f]!==!0||E[f]===!0&&!b(c,g)||(d(" "),d(e),d('="'),d(o(c)),d('"'))}),d(">"))},end:function(a){a=i(a),c||D[a]!==!0||v[a]===!0||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(o(a))}}}function q(b){for(;b;){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;e>d;d++){var f=c[d],g=f.name.toLowerCase();("xmlns:ns1"===g||0===g.lastIndexOf("ns1:",0))&&(b.removeAttributeNode(f),d--,e--)}var h=b.firstChild;h&&q(h),b=b.nextSibling}}var r=!1;this.$get=["$$sanitizeUri",function(a){return r&&f(D,B),function(b){var c=[];return k(b,l(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return h(a)?(r=a,this):r},e=b.bind,f=b.extend,g=b.forEach,h=b.isDefined,i=b.lowercase,j=b.noop,k=d,l=p;var s,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,v=c("area,br,col,hr,img,wbr"),w=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=c("rp,rt"),y=f({},x,w),z=f({},w,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=f({},x,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=c("script,style"),D=f({},v,z,A,y),E=c("background,cite,href,longdesc,src,xlink:href"),F=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),G=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=f({},E,G,F);!function(a){var b;if(!a.document||!a.document.implementation)throw m("noinert","Can't create an inert html document");b=a.document.implementation.createHTMLDocument("inert");var c=b.documentElement||b.getDocumentElement(),d=c.getElementsByTagName("body");if(1===d.length)s=d[0];else{var e=b.createElement("html");s=b.createElement("body"),e.appendChild(s),b.appendChild(e)}}(a)}function d(a){var b=[],c=l(b,j);return c.chars(a),b.join("")}var e,f,g,h,i,j,k,l,m=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,e=/^mailto:/i,f=b.$$minErr("linky"),g=b.isDefined,h=b.isFunction,i=b.isObject,j=b.isString;return function(b,k,l){function m(a){a&&t.push(d(a))}function n(a,b){var c,d=r(a);t.push("<a ");for(c in d)t.push(c+'="'+d[c]+'" ');!g(k)||"target"in d||t.push('target="',k,'" '),t.push('href="',a.replace(/"/g,"&quot;"),'">'),m(b),t.push("</a>")}if(null==b||""===b)return b;if(!j(b))throw f("notstring","Expected string but received: {0}",b);for(var o,p,q,r=h(l)?l:i(l)?function(){return l}:function(){return{}},s=b,t=[];o=s.match(c);)p=o[0],o[2]||o[4]||(p=(o[3]?"http://":"mailto:")+p),q=o.index,m(s.substr(0,q)),n(p,o[0].replace(e,"")),s=s.substring(q+o[0].length);return m(s),a(t.join(""))}}])}(window,window.angular),function(a,b){"use strict";function c(a,c,d){function e(a,d,e){var g,h;e=e||{},h=e.expires,g=b.isDefined(e.path)?e.path:f,b.isUndefined(d)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",d=""),b.isString(h)&&(h=new Date(h));var i=encodeURIComponent(a)+"="+encodeURIComponent(d);i+=g?";path="+g:"",i+=e.domain?";domain="+e.domain:"",i+=h?";expires="+h.toUTCString():"",i+=e.secure?";secure":"";var j=i.length+1;return j>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+j+" > 4096 bytes)!"),i}var f=d.baseHref(),g=a[0];return function(a,b,c){g.cookie=e(a,b,c)}}b.module("ngCookies",["ng"]).provider("$cookies",[function(){function a(a){return a?b.extend({},c,a):c}var c=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(c,d){return{get:function(a){return c()[a]},getObject:function(a){var c=this.get(a);return c?b.fromJson(c):c},getAll:function(){return c()},put:function(b,c,e){d(b,c,a(e))},putObject:function(a,c,d){this.put(a,b.toJson(c),d)},remove:function(b,c){d(b,void 0,a(c))}}}]}]),b.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]),c.$inject=["$document","$log","$browser"],b.module("ngCookies").provider("$$cookieWriter",function(){this.$get=c})}(window,window.angular),function(a,b){"use strict";function c(a){var b,c=/^(-?\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(b=a.match(c)){var e=new Date(0),f=0,g=0;return b[9]&&(f=d(b[9]+b[10]),g=d(b[9]+b[11])),e.setUTCFullYear(d(b[1]),d(b[2])-1,d(b[3])),e.setUTCHours(d(b[4]||0)-f,d(b[5]||0)-g,d(b[6]||0),d(b[7]||0)),e}return a}function d(a){return parseInt(a,10)}function e(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function f(a,c,d,e){function f(a,c,d,e){return b.isFunction(a)?a:function(){return b.isNumber(a)?[a,c,d,e]:[200,a,c,d]}}function i(a,f,g,i,j,k,q,r,s,t){function u(a){return b.isString(a)||b.isFunction(a)||a instanceof RegExp?a:b.toJson(a)}function v(b){function d(){var c=b.response(a,f,g,j,b.params(f));w.$$respHeaders=c[2],i(p(c[0]),p(c[1]),w.getAllResponseHeaders(),p(c[3]||""))}function h(){for(var a=0,b=n.length;b>a;a++)if(n[a]===d){n.splice(a,1),i(-1,void 0,"");break}}return!e&&k&&(k.then?k.then(h):c(h,k)),d}var w=new h,x=m[0],y=!1;if(w.$$events=s,w.upload.$$events=t,x&&x.match(a,f)){if(!x.matchData(g))throw new Error("Expected "+x+" with different data\nEXPECTED: "+u(x.data)+"\nGOT:      "+g);if(!x.matchHeaders(j))throw new Error("Expected "+x+" with different headers\nEXPECTED: "+u(x.headers)+"\nGOT:      "+u(j));if(m.shift(),x.response)return void n.push(v(x));y=!0}for(var z,A=-1;z=l[++A];)if(z.match(a,f,g,j||{})){if(z.response)(e?e.defer:o)(v(z));else{if(!z.passThrough)throw new Error("No response defined !");d(a,f,g,i,j,k,q,r,s,t)}return}throw y?new Error("No response defined !"):new Error("Unexpected request: "+a+" "+f+"\n"+(x?"Expected "+x:"No more request expected"))}function j(a){var c={regexp:a},d=c.keys=[];return a&&b.isString(a)?(a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([?*])?/g,function(a,b,c,e){var f="?"===e?e:null,g="*"===e?e:null;return d.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([/$*])/g,"\\$1"),c.regexp=new RegExp("^"+a,"i"),c):c}function k(a){b.forEach(["GET","DELETE","JSONP","HEAD"],function(b){i[a+b]=function(c,d,e){return i[a](b,c,void 0,d,e)}}),b.forEach(["PUT","POST","PATCH"],function(b){i[a+b]=function(c,d,e,f){return i[a](b,c,d,e,f)}})}var l=[],m=[],n=[],o=b.bind(n,n.push),p=b.copy;return i.when=function(a,b,c,d,h){var i=new g(a,b,c,d,h),j={respond:function(a,b,c,d){return i.passThrough=void 0,i.response=f(a,b,c,d),j}};return e&&(j.passThrough=function(){return i.response=void 0,i.passThrough=!0,j}),l.push(i),j},k("when"),i.whenRoute=function(a,b){var c=j(b);return i.when(a,c.regexp,void 0,void 0,c.keys)},i.expect=function(a,b,c,d,e){var h=new g(a,b,c,d,e),i={respond:function(a,b,c,d){return h.response=f(a,b,c,d),i}};return m.push(h),i},k("expect"),i.expectRoute=function(a,b){var c=j(b);return i.expect(a,c.regexp,void 0,void 0,c.keys)},i.flush=function(c,d,e){if(e!==!1&&a.$digest(),d=d||0,d>=n.length)throw new Error("No pending request to flush !");if(b.isDefined(c)&&null!==c)for(;c--;){var f=n.splice(d,1);if(!f.length)throw new Error("No more pending request to flush !");f[0]()}else for(;n.length>d;)n.splice(d,1)[0]();i.verifyNoOutstandingExpectation(e)},i.verifyNoOutstandingExpectation=function(b){if(b!==!1&&a.$digest(),m.length)throw new Error("Unsatisfied requests: "+m.join(", "))},i.verifyNoOutstandingRequest=function(){if(n.length)throw new Error("Unflushed requests: "+n.length)},i.resetExpectations=function(){m.length=0,n.length=0},i}function g(a,c,d,e,f){function g(a){var b=a.slice(a.indexOf("?")+1).split("&");return b.sort()}function h(a){return c.slice(0,c.indexOf("?"))===a.slice(0,a.indexOf("?"))&&g(c).join()===g(a).join()}this.data=d,this.headers=e,this.match=function(c,d,e,f){return a!==c?!1:this.matchUrl(d)?b.isDefined(e)&&!this.matchData(e)?!1:b.isDefined(f)&&!this.matchHeaders(f)?!1:!0:!1},this.matchUrl=function(a){return c?b.isFunction(c.test)?c.test(a):b.isFunction(c)?c(a):c===a||h(a):!0},this.matchHeaders=function(a){return b.isUndefined(e)?!0:b.isFunction(e)?e(a):b.equals(e,a)},this.matchData=function(a){return b.isUndefined(d)?!0:d&&b.isFunction(d.test)?d.test(a):d&&b.isFunction(d)?d(a):d&&!b.isString(d)?b.equals(b.fromJson(b.toJson(d)),b.fromJson(a)):d==a},this.toString=function(){return a+" "+c},this.params=function(a){function d(){var d={};if(!c||!b.isFunction(c.test)||!f||0===f.length)return d;var e=c.exec(a);if(!e)return d;for(var g=1,h=e.length;h>g;++g){var i=f[g-1],j=e[g];i&&j&&(d[i.name||i]=j)}return d}function e(){var c,d,e={},f=a.indexOf("?")>-1?a.substring(a.indexOf("?")+1):"";return b.forEach(f.split("&"),function(a){if(a&&(c=a.replace(/\+/g,"%20").split("="),d=g(c[0]),b.isDefined(d))){var f=b.isDefined(c[1])?g(c[1]):!0;hasOwnProperty.call(e,d)?b.isArray(e[d])?e[d].push(f):e[d]=[e[d],f]:e[d]=f}}),e}function g(a){try{return decodeURIComponent(a)}catch(b){}}return b.extend(e(),d())}}function h(){h.$$lastInstance=this,this.open=function(a,b,c){this.$$method=a,this.$$url=b,this.$$async=c,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(a){this.$$data=a},this.setRequestHeader=function(a,b){this.$$reqHeaders[a]=b},this.getResponseHeader=function(a){var c=this.$$respHeaders[a];return c?c:(a=b.lowercase(a),(c=this.$$respHeaders[a])?c:(c=void 0,b.forEach(this.$$respHeaders,function(d,e){c||b.lowercase(e)!==a||(c=d)}),c))},this.getAllResponseHeaders=function(){var a=[];return b.forEach(this.$$respHeaders,function(b,c){a.push(c+": "+b)}),a.join("\n")},this.abort=b.noop,this.$$events={},this.addEventListener=function(a,c){b.isUndefined(this.$$events[a])&&(this.$$events[a]=[]),this.$$events[a].push(c)},this.upload={$$events:{},addEventListener:this.addEventListener}}function i(a){return b.mock.$ControllerDecorator=["$delegate",function(c){return function(d,e,f,g){if(f&&"object"==typeof f){var h=a.preAssignBindingsEnabled(),i=c(d,e,!0,g);h&&b.extend(i.instance,f);var j=i();return h&&j===i.instance||b.extend(j,f),j}return c(d,e,f,g)}}],b.mock.$ControllerDecorator}b.mock={},b.mock.$BrowserProvider=function(){this.$get=function(){return new b.mock.$Browser}},b.mock.$Browser=function(){var a=this;this.isMock=!0,a.$$url="http://server/",a.$$lastUrl=a.$$url,a.pollFns=[],a.$$completeOutstandingRequest=b.noop,a.$$incOutstandingRequestCount=b.noop,a.onUrlChange=function(b){return a.pollFns.push(function(){(a.$$lastUrl!==a.$$url||a.$$state!==a.$$lastState)&&(a.$$lastUrl=a.$$url,a.$$lastState=a.$$state,b(a.$$url,a.$$state))}),b},a.$$applicationDestroyed=b.noop,a.$$checkUrlChange=b.noop,a.deferredFns=[],a.deferredNextId=0,a.defer=function(b,c){return c=c||0,a.deferredFns.push({time:a.defer.now+c,fn:b,id:a.deferredNextId}),a.deferredFns.sort(function(a,b){return a.time-b.time}),a.deferredNextId++},a.defer.now=0,
a.defer.cancel=function(c){var d;return b.forEach(a.deferredFns,function(a,b){a.id===c&&(d=b)}),b.isDefined(d)?(a.deferredFns.splice(d,1),!0):!1},a.defer.flush=function(c){var d;if(b.isDefined(c))d=a.defer.now+c;else{if(!a.deferredFns.length)throw new Error("No deferred tasks to be flushed");d=a.deferredFns[a.deferredFns.length-1].time}for(;a.deferredFns.length&&a.deferredFns[0].time<=d;)a.defer.now=a.deferredFns[0].time,a.deferredFns.shift().fn();a.defer.now=d},a.$$baseHref="/",a.baseHref=function(){return this.$$baseHref}},b.mock.$Browser.prototype={poll:function(){b.forEach(this.pollFns,function(a){a()})},url:function(a,c,d){return b.isUndefined(d)&&(d=null),a?(this.$$url=a,this.$$state=b.copy(d),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(a){a()}},b.mock.$ExceptionHandlerProvider=function(){var a;this.mode=function(b){switch(b){case"log":case"rethrow":var c=[];a=function(a){if(1===arguments.length?c.push(a):c.push([].slice.call(arguments,0)),"rethrow"===b)throw a},a.errors=c;break;default:throw new Error("Unknown mode '"+b+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return a},this.mode("rethrow")},b.mock.$LogProvider=function(){function a(a,b,c){return a.concat(Array.prototype.slice.call(b,c))}var c=!0;this.debugEnabled=function(a){return b.isDefined(a)?(c=a,this):c},this.$get=function(){var d={log:function(){d.log.logs.push(a([],arguments,0))},warn:function(){d.warn.logs.push(a([],arguments,0))},info:function(){d.info.logs.push(a([],arguments,0))},error:function(){d.error.logs.push(a([],arguments,0))},debug:function(){c&&d.debug.logs.push(a([],arguments,0))}};return d.reset=function(){d.log.logs=[],d.info.logs=[],d.warn.logs=[],d.error.logs=[],d.debug.logs=[]},d.assertEmpty=function(){var a=[];if(b.forEach(["error","warn","info","log","debug"],function(c){b.forEach(d[c].logs,function(d){b.forEach(d,function(b){a.push("MOCK $log ("+c+"): "+String(b)+"\n"+(b.stack||""))})})}),a.length)throw a.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),a.push(""),new Error(a.join("\n---------\n"))},d.reset(),d}},b.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(a,c,d,e){var f=[],g=0,h=0,i=function(i,j,k,l){function m(){if(r.notify(p++),k>0&&p>=k){var d;r.resolve(p),b.forEach(f,function(a,b){a.id===s.$$intervalId&&(d=b)}),b.isDefined(d)&&f.splice(d,1)}q?a.defer.flush():c.$apply()}var n=arguments.length>4,o=n?Array.prototype.slice.call(arguments,4):[],p=0,q=b.isDefined(l)&&!l,r=(q?e:d).defer(),s=r.promise;return k=b.isDefined(k)?k:0,s.then(null,null,n?function(){i.apply(null,o)}:i),s.$$intervalId=g,f.push({nextTime:h+j,delay:j,fn:m,id:g,deferred:r}),f.sort(function(a,b){return a.nextTime-b.nextTime}),g++,s};return i.cancel=function(a){if(!a)return!1;var c;return b.forEach(f,function(b,d){b.id===a.$$intervalId&&(c=d)}),b.isDefined(c)?(f[c].deferred.reject("canceled"),f.splice(c,1),!0):!1},i.flush=function(a){for(h+=a;f.length&&f[0].nextTime<=h;){var b=f[0];b.fn(),b.nextTime+=b.delay,f.sort(function(a,b){return a.nextTime-b.nextTime})}return a},i}]},b.mock.TzDate=function(a,d){var f=new Date(0);if(b.isString(d)){var g=d;if(f.origDate=c(d),d=f.origDate.getTime(),isNaN(d))throw{name:"Illegal Argument",message:"Arg '"+g+"' passed into TzDate constructor is not a valid date string"}}else f.origDate=new Date(d);var h=new Date(d).getTimezoneOffset();f.offsetDiff=60*h*1e3-1e3*a*60*60,f.date=new Date(d+f.offsetDiff),f.getTime=function(){return f.date.getTime()-f.offsetDiff},f.toLocaleDateString=function(){return f.date.toLocaleDateString()},f.getFullYear=function(){return f.date.getFullYear()},f.getMonth=function(){return f.date.getMonth()},f.getDate=function(){return f.date.getDate()},f.getHours=function(){return f.date.getHours()},f.getMinutes=function(){return f.date.getMinutes()},f.getSeconds=function(){return f.date.getSeconds()},f.getMilliseconds=function(){return f.date.getMilliseconds()},f.getTimezoneOffset=function(){return 60*a},f.getUTCFullYear=function(){return f.origDate.getUTCFullYear()},f.getUTCMonth=function(){return f.origDate.getUTCMonth()},f.getUTCDate=function(){return f.origDate.getUTCDate()},f.getUTCHours=function(){return f.origDate.getUTCHours()},f.getUTCMinutes=function(){return f.origDate.getUTCMinutes()},f.getUTCSeconds=function(){return f.origDate.getUTCSeconds()},f.getUTCMilliseconds=function(){return f.origDate.getUTCMilliseconds()},f.getDay=function(){return f.date.getDay()},f.toISOString&&(f.toISOString=function(){return e(f.origDate.getUTCFullYear(),4)+"-"+e(f.origDate.getUTCMonth()+1,2)+"-"+e(f.origDate.getUTCDate(),2)+"T"+e(f.origDate.getUTCHours(),2)+":"+e(f.origDate.getUTCMinutes(),2)+":"+e(f.origDate.getUTCSeconds(),2)+"."+e(f.origDate.getUTCMilliseconds(),3)+"Z"});var i=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return b.forEach(i,function(a){f[a]=function(){throw new Error("Method '"+a+"' is not implemented in the TzDate mock")}}),f},b.mock.TzDate.prototype=Date.prototype,b.mock.animate=b.module("ngAnimateMock",["ng"]).config(["$provide",function(a){a.factory("$$forceReflow",function(){function a(){a.totalReflows++}return a.totalReflows=0,a}),a.factory("$$animateAsyncRun",function(){var a=[],b=function(){return function(b){a.push(b)}};return b.flush=function(){if(0===a.length)return!1;for(var b=0;b<a.length;b++)a[b]();return a=[],!0},b}),a.decorator("$$animateJs",["$delegate",function(a){var b=[],c=function(){var c=a.apply(a,arguments);return c&&b.push(c),c};return c.$closeAndFlush=function(){b.forEach(function(a){a.end()}),b=[]},c}]),a.decorator("$animateCss",["$delegate",function(a){var b=[],c=function(c,d){var e=a(c,d);return b.push(e),e};return c.$closeAndFlush=function(){b.forEach(function(a){a.end()}),b=[]},c}]),a.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$animateCss","$$animateJs","$$forceReflow","$$animateAsyncRun","$rootScope",function(a,c,d,e,f,g,h,i,j){var k={queue:[],cancel:a.cancel,on:a.on,off:a.off,pin:a.pin,get reflows(){return h.totalReflows},enabled:a.enabled,closeAndFlush:function(){this.flush(!0),f.$closeAndFlush(),g.$closeAndFlush(),this.flush()},flush:function(a){j.$digest();var b,c=!1;do b=!1,e.queue.length&&(e.flush(),b=c=!0),i.flush()&&(b=c=!0);while(b);if(!c&&!a)throw new Error("No pending animations ready to be closed or flushed");j.$digest()}};return b.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(b){k[b]=function(){return k.queue.push({event:b,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),a[b].apply(a,arguments)}}),k}])}]),b.mock.dump=function(a){function c(a){var e;return b.isElement(a)?(a=b.element(a),e=b.element("<div></div>"),b.forEach(a,function(a){e.append(b.element(a).clone())}),e=e.html()):b.isArray(a)?(e=[],b.forEach(a,function(a){e.push(c(a))}),e="[ "+e.join(", ")+" ]"):e=b.isObject(a)?b.isFunction(a.$eval)&&b.isFunction(a.$apply)?d(a):a instanceof Error?a.stack||""+a.name+": "+a.message:b.toJson(a,!0):String(a),e}function d(a,c){c=c||"  ";var e=[c+"Scope("+a.$id+"): {"];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&!f.match(/^(\$|this)/)&&e.push("  "+f+": "+b.toJson(a[f]));for(var g=a.$$childHead;g;)e.push(d(g,c+"  ")),g=g.$$nextSibling;return e.push("}"),e.join("\n"+c)}return c(a)},b.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",f]},b.mock.$TimeoutDecorator=["$delegate","$browser",function(a,c){function d(a){var c=[];return b.forEach(a,function(a){c.push("{id: "+a.id+", time: "+a.time+"}")}),c.join(", ")}return a.flush=function(a){c.defer.flush(a)},a.verifyNoPendingTasks=function(){if(c.deferredFns.length)throw new Error("Deferred tasks to flush ("+c.deferredFns.length+"): "+d(c.deferredFns))},a}],b.mock.$RAFDecorator=["$delegate",function(a){var b=function(a){var c=b.queue.length;return b.queue.push(a),function(){b.queue.splice(c,1)}};return b.queue=[],b.supported=a.supported,b.flush=function(){if(0===b.queue.length)throw new Error("No rAF callbacks present");for(var a=b.queue.length,c=0;a>c;c++)b.queue[c]();b.queue=b.queue.slice(c)},b}];var j;b.mock.$RootElementProvider=function(){this.$get=["$injector",function(a){return j=b.element("<div ng-app></div>").data("$injector",a)}]},b.mock.$ComponentControllerProvider=["$compileProvider",function(a){this.$get=["$controller","$injector","$rootScope",function(a,b,c){return function(d,e,f,g){var h=b.get(d+"Directive"),i=h.filter(function(a){return a.controller&&a.controllerAs&&"E"===a.restrict});if(0===i.length)throw new Error("No component found");if(i.length>1)throw new Error("Too many components found");var j=i[0];return e=e||{},e.$scope=e.$scope||c.$new(!0),a(j.controller,e,f,g||j.controllerAs)}}]}],b.module("ngMock",["ng"]).provider({$browser:b.mock.$BrowserProvider,$exceptionHandler:b.mock.$ExceptionHandlerProvider,$log:b.mock.$LogProvider,$interval:b.mock.$IntervalProvider,$httpBackend:b.mock.$HttpBackendProvider,$rootElement:b.mock.$RootElementProvider,$componentController:b.mock.$ComponentControllerProvider}).config(["$provide","$compileProvider",function(a,c){a.decorator("$timeout",b.mock.$TimeoutDecorator),a.decorator("$$rAF",b.mock.$RAFDecorator),a.decorator("$rootScope",b.mock.$RootScopeDecorator),a.decorator("$controller",i(c))}]),b.module("ngMockE2E",["ng"]).config(["$provide",function(a){a.value("$httpBackend",b.injector(["ng"]).get("$httpBackend")),a.decorator("$httpBackend",b.mock.e2e.$httpBackendDecorator)}]),b.mock.e2e={},b.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",f],b.mock.$RootScopeDecorator=["$delegate",function(a){function b(){for(var a,b=0,c=[this.$$childHead];c.length;)for(a=c.shift();a;)b+=1,c.push(a.$$childHead),a=a.$$nextSibling;return b}function c(){for(var a,b=this.$$watchers?this.$$watchers.length:0,c=[this.$$childHead];c.length;)for(a=c.shift();a;)b+=a.$$watchers?a.$$watchers.length:0,c.push(a.$$childHead),a=a.$$nextSibling;return b}var d=Object.getPrototypeOf(a);return d.$countChildScopes=b,d.$countWatchers=c,a}],function(c){function d(){this.shared=!1,this.sharedError=null,this.cleanupAfterEach=function(){return!this.shared||this.sharedError}}if(c){var e=null,f=new d,g=[],i=function(){return!!e};b.mock.$$annotate=b.injector.$$annotate,b.injector.$$annotate=function(a){return"function"!=typeof a||a.$inject||g.push(a),b.mock.$$annotate.apply(this,arguments)};var k=a.module=b.mock.module=function(){function a(){if(e.$injector)throw new Error("Injector already created, can not register a module!");var a,d=e.$modules||(e.$modules=[]);b.forEach(c,function(c){a=b.isObject(c)&&!b.isArray(c)?["$provide",function(a){b.forEach(c,function(b,c){a.value(c,b)})}]:c,e.$providerInjector?e.$providerInjector.invoke(a):d.push(a)})}var c=Array.prototype.slice.call(arguments,0);return i()?a():a};k.$$beforeAllHook=a.before||a.beforeAll,k.$$afterAllHook=a.after||a.afterAll,k.$$currentSpec=function(a){return 0===arguments.length?a:void(e=a)},k.sharedInjector=function(){if(!k.$$beforeAllHook||!k.$$afterAllHook)throw Error("sharedInjector() cannot be used unless your test runner defines beforeAll/afterAll");var a=!1;k.$$beforeAllHook(function(){if(f.shared)throw f.sharedError=Error("sharedInjector() cannot be called inside a context that has already called sharedInjector()"),f.sharedError;a=!0,e=this,f.shared=!0}),k.$$afterAllHook(function(){a?(f=new d,k.$$cleanup()):f.sharedError=null})},k.$$beforeEach=function(){if(f.shared&&e&&e!==this){var a=e;e=this,b.forEach(["$injector","$modules","$providerInjector","$injectorStrict"],function(b){e[b]=a[b],a[b]=null})}else e=this,j=null,g=[]},k.$$afterEach=function(){f.cleanupAfterEach()&&k.$$cleanup()},k.$$cleanup=function(){var a=e.$injector;if(g.forEach(function(a){delete a.$inject}),b.forEach(e.$modules,function(a){a&&a.$$hashKey&&(a.$$hashKey=void 0)}),e.$injector=null,e.$modules=null,e.$providerInjector=null,e=null,a){var c=a.get("$rootElement"),d=c&&c[0],f=j?[j[0]]:[];!d||j&&d===j[0]||f.push(d),b.element.cleanData(f);var i=a.get("$rootScope");i&&i.$destroy&&i.$destroy()}b.forEach(b.element.fragments,function(a,c){delete b.element.fragments[c]}),h.$$lastInstance=null,b.forEach(b.callbacks,function(a,c){delete b.callbacks[c]}),b.callbacks.$$counter=0},(a.beforeEach||a.setup)(k.$$beforeEach),(a.afterEach||a.teardown)(k.$$afterEach);var l=function(a,b){this.message=a.message,this.name=a.name,a.line&&(this.line=a.line),a.sourceId&&(this.sourceId=a.sourceId),a.stack&&b&&(this.stack=a.stack+"\n"+b.stack),a.stackArray&&(this.stackArray=a.stackArray)};l.prototype=Error.prototype,a.inject=b.mock.inject=function(){function a(){var a=e.$modules||[],f=!!e.$injectorStrict;a.unshift(["$injector",function(a){e.$providerInjector=a}]),a.unshift("ngMock"),a.unshift("ng");var g=e.$injector;g||(f&&b.forEach(a,function(a){"function"==typeof a&&b.injector.$$annotate(a)}),g=e.$injector=b.injector(a,f),e.$injectorStrict=f);for(var h=0,i=c.length;i>h;h++){e.$injectorStrict&&g.annotate(c[h]);try{g.invoke(c[h]||b.noop,this)}catch(j){if(j.stack&&d)throw new l(j,d);throw j}finally{d=null}}}var c=Array.prototype.slice.call(arguments,0),d=new Error("Declaration Location");if(!d.stack)try{throw d}catch(f){}return i()?a.call(e):a},b.mock.inject.strictDi=function(a){function b(){if(a!==e.$injectorStrict){if(e.$injector)throw new Error("Injector already created, can not modify strict annotations");e.$injectorStrict=a}}return a=arguments.length?!!a:!0,i()?b():b}}}(a.jasmine||a.mocha)}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(l(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start()["finally"](i):a.addClass(f,"in",{to:{height:f[0].scrollHeight+"px"}}).then(i)})}function i(){f.removeClass("collapsing").addClass("collapse").css({height:"auto"}),m(d)}function j(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(n(d)).then(function(){f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:{height:"0"}}).start()["finally"](k):a.removeClass(f,"in",{to:{height:"0"}}).then(k)}):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse"),o(d)}var l=c(g.expanding),m=c(g.expanded),n=c(g.collapsing),o=c(g.collapsed);d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),d.$watch(g.uibCollapse,function(a){a?j():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){function a(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(b,c,d,e){b.$watch(function(){return e[d.uibAccordionTransclude]},function(b){if(b){var d=angular.element(c[0].querySelector(a()));d.html(""),d.append(b)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);(!a||angular.isDefined(d.uncheckable))&&b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(){for(;t.length;)t.shift()}function g(a){for(var b=0;b<q.length;b++)q[b].slide.active=b===a}function h(c,d,i){if(!u){if(angular.extend(c,{direction:i}),angular.extend(q[s].slide||{},{direction:i}),e.enabled(b)&&!a.$currentTransition&&q[d].element&&p.slides.length>1){q[d].element.data(r,c.direction);var j=p.getCurrentIndex();angular.isNumber(j)&&q[j].element&&q[j].element.data(r,c.direction),a.$currentTransition=!0,e.on("addClass",q[d].element,function(b,c){if("close"===c&&(a.$currentTransition=null,e.off("addClass",b),t.length)){var d=t.pop().slide,g=d.index,i=g>p.getCurrentIndex()?"next":"prev";f(),h(d,g,i)}})}a.active=c.index,s=c.index,g(d),l()}}function i(a){for(var b=0;b<q.length;b++)if(q[b].slide===a)return b}function j(){n&&(c.cancel(n),n=null)}function k(b){b.length||(a.$currentTransition=null,f())}function l(){j();var b=+a.interval;!isNaN(b)&&b>0&&(n=c(m,b))}function m(){var b=+a.interval;o&&!isNaN(b)&&b>0&&q.length?a.next():a.pause()}var n,o,p=this,q=p.slides=a.slides=[],r="uib-slideDirection",s=a.active,t=[],u=!1;p.addSlide=function(b,c){q.push({slide:b,element:c}),q.sort(function(a,b){return+a.slide.index-+b.slide.index}),(b.index===a.active||1===q.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),s=b.index,a.active=b.index,g(s),p.select(q[i(b)]),1===q.length&&a.play())},p.getCurrentIndex=function(){for(var a=0;a<q.length;a++)if(q[a].slide.index===s)return a},p.next=a.next=function(){var b=(p.getCurrentIndex()+1)%q.length;return 0===b&&a.noWrap()?void a.pause():p.select(q[b],"next")},p.prev=a.prev=function(){var b=p.getCurrentIndex()-1<0?q.length-1:p.getCurrentIndex()-1;return a.noWrap()&&b===q.length-1?void a.pause():p.select(q[b],"prev")},p.removeSlide=function(b){var c=i(b),d=t.indexOf(q[c]);-1!==d&&t.splice(d,1),q.splice(c,1),q.length>0&&s===c?c>=q.length?(s=q.length-1,a.active=s,g(s),p.select(q[q.length-1])):(s=c,a.active=s,g(s),p.select(q[c])):s>c&&(s--,a.active=s),0===q.length&&(s=null,a.active=null,f())},p.select=a.select=function(b,c){var d=i(b.slide);void 0===c&&(c=d>p.getCurrentIndex()?"next":"prev"),b.slide.index===s||a.$currentTransition?b&&b.slide.index!==s&&a.$currentTransition&&t.push(q[d]):h(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.isPrevDisabled=function(){return 0===a.active&&a.noWrap()},a.isNextDisabled=function(){return a.active===q.length-1&&a.noWrap()},a.pause=function(){a.noPause||(o=!1,j())},a.play=function(){o||(o=!0,l())},a.$on("$destroy",function(){u=!0,j()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",l),a.$watchCollection("slides",k),a.$watch("active",function(a){if(angular.isNumber(a)&&s!==a){for(var b=0;b<q.length;b++)if(q[b].slide.index===a){a=b;break}var c=q[a];c&&(g(a),p.select(q[a]),s=a)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)})}}}).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="uib-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(a,b,c,d){function e(a,b){var c=[],e=a.split(""),f=a.indexOf("'");if(f>-1){var g=!1;a=a.split("");for(var h=f;h<a.length;h++)g?("'"===a[h]&&(h+1<a.length&&"'"===a[h+1]?(a[h+1]="$",e[h+1]=""):(e[h]="",g=!1)),a[h]="$"):"'"===a[h]&&(a[h]="$",e[h]="",g=!0);a=a.join("")}return angular.forEach(n,function(d){var f=a.indexOf(d.key);if(f>-1){a=a.split(""),e[f]="("+d.regex+")",a[f]="$";for(var g=f+1,h=f+d.key.length;h>g;g++)e[g]="",a[g]="$";a=a.join(""),c.push({index:f,key:d.key,apply:d[b],matcher:d.regex})}}),{regex:new RegExp("^"+e.join("")+"$"),map:d(c,"index")}}function f(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}function g(a){return parseInt(a,10)}function h(a,b){return a&&b?l(a,b):a}function i(a,b){return a&&b?l(a,b,!0):a}function j(a,b){a=a.replace(/:/g,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function k(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function l(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=j(b,d);return k(a,c*(e-d))}var m,n,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=b.id,this.parsers={},this.formatters={},n=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){a=+a,this.year=69>a?a+2e3:a+1900},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=g(c+d),this.minutes+=g(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(a){return c(a,"GGGG")}},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GGG")}},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"GG")}},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|"),formatter:function(a){return c(a,"G")}}]},this.init(),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return"";c=b.DATETIME_FORMATS[c]||c,b.id!==m&&this.init(),this.formatters[c]||(this.formatters[c]=e(c,"formatter"));var d=this.formatters[c],f=d.map,g=c;return f.reduce(function(b,c,d){var e=g.match(new RegExp("(.*)"+c.key));e&&angular.isString(e[1])&&(b+=e[1],g=g.replace(e[1]+c.key,""));var h=d===f.length-1?g:"";return c.apply?b+c.apply.call(null,a)+h:b+h},"")},this.parse=function(c,d,g){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(o,"\\$&"),b.id!==m&&this.init(),this.parsers[d]||(this.parsers[d]=e(d,"apply"));var h=this.parsers[d],i=h.regex,j=h.map,k=c.match(i),l=!1;if(k&&k.length){var n,p;angular.isDate(g)&&!isNaN(g.getTime())?n={year:g.getFullYear(),month:g.getMonth(),date:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()}:(g&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var q=1,r=k.length;r>q;q++){var s=j[q-1];"Z"===s.matcher&&(l=!0),s.apply&&s.apply.call(n,k[q])}var t=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return f(n.year,n.month,n.date)&&(!angular.isDate(g)||isNaN(g.getTime())||l?(p=new Date(0),t.call(p,n.year,n.month,n.date),u.call(p,n.hours||0,n.minutes||0,n.seconds||0,n.milliseconds||0)):(p=new Date(g),t.call(p,n.year,n.month,n.date),u.call(p,n.hours,n.minutes,n.seconds,n.milliseconds))),p}},this.toTimezone=h,this.fromTimezone=i,this.timezoneToOffset=j,this.addDateMinutes=k,this.convertTimezoneToLocal=l}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;
return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){var d=a.scope.$eval(m);return d===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){a.datepickerMode=b,a.datepickerOptions.datepickerMode=b}var m=this,n={$setViewValue:angular.noop},o={},p=[];!!b.datepickerOptions;a.datepickerOptions||(a.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:h.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":m[b]=angular.isDefined(a.datepickerOptions[b])?d(a.datepickerOptions[b])(a.$parent):h[b];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":m[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:h[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?m.startingDay=a.datepickerOptions.startingDay:angular.isNumber(h.startingDay)?m.startingDay=h.startingDay:m.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.$watch("datepickerOptions."+b,function(a){a?angular.isDate(a)?m[b]=k.fromTimezone(new Date(a),o.timezone):(i&&f.warn("Literal date support has been deprecated, please switch to date object usage"),m[b]=new Date(g(a,"medium"))):m[b]=h[b]?k.fromTimezone(new Date(h[b]),o.timezone):null,m.refreshView()});break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){m[b]=a[b]=angular.isDefined(c)?c:datepickerOptions[b],("minMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)<m.modes.indexOf(m[b])||"maxMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)>m.modes.indexOf(m[b]))&&(a.datepickerMode=m[b],a.datepickerOptions.datepickerMode=m[b])}):m[b]=a[b]=h[b]||null}}),a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(b.disabled)||!1,angular.isDefined(b.ngDisabled)&&p.push(a.$parent.$watch(b.ngDisabled,function(b){a.disabled=b,m.refreshView()})),a.isActive=function(b){return 0===m.compare(b.date,m.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(b){n=b,o=b.$options||h.ngModelOptions,a.datepickerOptions.initDate?(m.activeDate=k.fromTimezone(a.datepickerOptions.initDate,o.timezone)||new Date,a.$watch("datepickerOptions.initDate",function(a){a&&(n.$isEmpty(n.$modelValue)||n.$invalid)&&(m.activeDate=k.fromTimezone(a,o.timezone),m.refreshView())})):m.activeDate=new Date;var c=n.$modelValue?new Date(n.$modelValue):new Date;this.activeDate=isNaN(c)?k.fromTimezone(new Date,o.timezone):k.fromTimezone(c,o.timezone),n.$render=function(){m.render()}},this.render=function(){if(n.$viewValue){var a=new Date(n.$viewValue),b=!isNaN(a);b?this.activeDate=k.fromTimezone(a,o.timezone):j||f.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=n.$viewValue?new Date(n.$viewValue):null;b=k.fromTimezone(b,o.timezone),n.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=n.$viewValue?new Date(n.$viewValue):null;d=k.fromTimezone(d,o.timezone);var e=new Date;e=k.fromTimezone(e,o.timezone);var f=this.compare(b,e),g={date:b,label:k.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),m.activeDate&&0===this.compare(g.date,m.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===m.minMode){var c=n.$viewValue?k.fromTimezone(new Date(n.$viewValue),o.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=k.toTimezone(c,o.timezone),n.$setViewValue(c),n.$render()}else m.activeDate=b,l(m.modes[m.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode");a.$broadcast("uib:datepicker.focus")},a.move=function(a){var b=m.activeDate.getFullYear()+a*(m.step.years||0),c=m.activeDate.getMonth()+a*(m.step.months||0);m.activeDate.setFullYear(b,c,1),m.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===m.maxMode&&1===b||a.datepickerMode===m.minMode&&-1===b||(l(m.modes[m.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var q=function(){m.element[0].focus()};a.$on("uib:datepicker.focus",q),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),m.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(m.isDisabled(m.activeDate))return;a.select(m.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(m.handleKeyDown(c,b),m.refreshView()):a.toggleMode("up"===c?1:-1)},a.$on("$destroy",function(){for(;p.length;)p.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d,e={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},f={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},g=/(HTML|BODY)/;return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return"static"===(b.getComputedStyle(a).position||"static")}c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(e){if(e){if(angular.isUndefined(d)){var f=a.find("body");f.addClass("uib-position-body-scrollbar-measure"),d=b.innerWidth-f[0].clientWidth,d=isFinite(d)?d:0,f.removeClass("uib-position-body-scrollbar-measure")}return d}if(angular.isUndefined(c)){var g=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(g),c=g[0].offsetWidth-g[0].clientWidth,c=isFinite(c)?c:0,g.remove()}return c},scrollbarPadding:function(a){a=this.getRawNode(a);var c=b.getComputedStyle(a),d=this.parseStyle(c.paddingRight),e=this.parseStyle(c.paddingBottom),f=this.scrollParent(a,!1,!0),h=this.scrollbarWidth(f,g.test(f.tagName));return{scrollbarWidth:h,widthOverflow:f.scrollWidth>f.clientWidth,right:d+h,originalRight:d,heightOverflow:f.scrollHeight>f.clientHeight,bottom:e+h,originalBottom:e}},isScrollable:function(a,c){a=this.getRawNode(a);var d=c?e.hidden:e.normal,f=b.getComputedStyle(a);return d.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,d,f){c=this.getRawNode(c);var g=d?e.hidden:e.normal,h=a[0].documentElement,i=b.getComputedStyle(c);if(f&&g.test(i.overflow+i.overflowY+i.overflowX))return c;var j="absolute"===i.position,k=c.parentElement||h;if(k===h||"fixed"===i.position)return h;for(;k.parentElement&&k!==h;){var l=b.getComputedStyle(k);if(j&&"static"!==l.position&&(j=!1),!j&&g.test(l.overflow+l.overflowY+l.overflowX))break;k=k.parentElement}return k},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=e!==!1?!0:!1;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=f.auto.test(a);return b&&(a=a.replace(f.auto,"")),a=a.split("-"),a[0]=a[0]||"top",f.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",f.secondary.test(a[1])||(a[1]="center"),b?a[2]=!0:a[2]=!1,a},positionElements:function(a,c,d,e){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=e?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,e),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(f.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":f.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var e=angular.element(d).hasClass("tooltip-inner"),g=e?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";k+=f.vertical.test(c[0])?c[0]+"-"+c[1]:c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(e?d:a)[k];switch(c[0]){case"top":h.bottom=e?"0":"-"+j;break;case"bottom":h.top=e?"0":"-"+j;break;case"left":h.right=e?"0":"-"+j;break;case"right":h.left=e?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(b){var c=l.parse(b,w,a.date);if(isNaN(c))for(var d=0;d<I.length;d++)if(c=l.parse(b,I[d],a.date),!isNaN(c))return c;return c}function r(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=q(a);if(!isNaN(b))return l.toTimezone(b,J)}return F.$options&&F.$options.allowInvalid?a:void 0}function s(a,b){var d=a||b;return c.ngRequired||d?(angular.isNumber(d)&&(d=new Date(d)),d?angular.isDate(d)&&!isNaN(d)?!0:angular.isString(d)?!isNaN(q(b)):!1:!0):!0}function t(c){if(a.isOpen||!a.disabled){var d=H[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function u(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function v(){if(a.isOpen){var d=angular.element(H[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,y);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=!1,L=[];this.init=function(e){if(F=e,G=e.$options,x=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,y=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,z=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,A=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,B=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,I=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(w=m.html5Types[c.type],K=!0):(w=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==w&&(w=c,F.$modelValue=null,!w))throw new Error("uibDatepickerPopup must have a date format specified.")})),!w)throw new Error("uibDatepickerPopup must have a date format specified.");if(K&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");C=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),G?(J=G.timezone,a.ngModelOptions=angular.copy(G),a.ngModelOptions.timezone=null,a.ngModelOptions.updateOnDefault===!0&&(a.ngModelOptions.updateOn=a.ngModelOptions.updateOn?a.ngModelOptions.updateOn+" default":"default"),C.attr("ng-model-options","ngModelOptions")):J=null,C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":A}),D=angular.element(C.children()[0]),D.attr("template-url",B),a.datepickerOptions||(a.datepickerOptions={}),K&&"month"===c.type&&(a.datepickerOptions.datepickerMode="month",a.datepickerOptions.minMode="month"),D.attr("datepicker-options","datepickerOptions"),K?F.$formatters.push(function(b){return a.date=l.fromTimezone(b,J),b}):(F.$$parserName="date",F.$validators.date=s,F.$parsers.unshift(r),F.$formatters.push(function(b){return F.$isEmpty(b)?(a.date=b,b):(angular.isNumber(b)&&(b=new Date(b)),a.date=l.fromTimezone(b,J),l.filter(a.date,w))})),F.$viewChangeListeners.push(function(){a.date=q(F.$viewValue)}),b.on("keydown",u),H=d(C)(a),C.remove(),y?h.find("body").append(H):b.after(H),a.$on("$destroy",function(){for(a.isOpen===!0&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),H.remove(),b.off("keydown",u),h.off("click",t),E&&E.off("scroll",v),angular.element(g).off("resize",v);L.length;)L.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){"today"===b&&(b=l.fromTimezone(new Date,J));var c={};return angular.forEach(["minDate","maxDate"],function(b){a.datepickerOptions[b]?angular.isDate(a.datepickerOptions[b])?c[b]=l.fromTimezone(new Date(a.datepickerOptions[b]),J):(p&&e.warn("Literal date support has been deprecated, please switch to date object usage"),c[b]=new Date(k(a.datepickerOptions[b],"medium"))):c[b]=null}),a.datepickerOptions&&c.minDate&&a.compare(b,c.minDate)<0||c.maxDate&&a.compare(b,c.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?l.filter(a.date,w):null;b.val(d),F.$setViewValue(d),x&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):b=new Date(d.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&L.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){v(),z&&a.$broadcast("uib:datepicker.focus"),h.on("click",t);var d=c.popupPlacement?c.popupPlacement:m.placement;y||j.parsePlacement(d)[2]?(E=E||angular.element(j.scrollParent(b)),E&&E.on("scroll",v)):E=null,angular.element(g).on("resize",v)},0,!1):(h.off("click",t),E&&E.off("scroll",v),angular.element(g).off("resize",v))}),a.$on("uib:datepicker.mode",function(){n(v,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b,f){c||(a.on("click",d),f.on("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b,f){c===b&&(c=null,a.off("click",d),f.off("keydown",e))};var d=function(a){if(c&&!(a&&"disabled"===c.getAutoClose()||a&&3===a.which)){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(a.stopPropagation(),c.focusToggleElement(),d()):c.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.appendToOpenClass,q=e.openClass,r=angular.noop,s=c.onToggle?d(c.onToggle):angular.noop,t=!1,u=null,v=!1,w=i.find("body");b.addClass("dropdown"),this.init=function(){if(c.isOpen&&(m=d(c.isOpen),r=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),angular.isDefined(c.dropdownAppendTo)){var e=d(c.dropdownAppendTo)(o);e&&(u=angular.element(e))}t=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.keyboardNav),t&&!u&&(u=w),u&&n.dropdownMenu&&(u.append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen,angular.isFunction(r)&&r(o,o.isOpen),o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return v},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(u&&n.dropdownMenu){var e,i,m,v=h.positionElements(b,n.dropdownMenu,"bottom-left",!0);if(e={top:v.top+"px",display:c?"block":"none"},i=n.dropdownMenu.hasClass("dropdown-menu-right"),i?(e.left="auto",m=h.scrollbarWidth(!0),e.right=window.innerWidth-m-(v.left+b.prop("offsetWidth"))+"px"):(e.left=v.left+"px",e.right="auto"),!t){var w=h.offset(u);e.top=v.top-w.top+"px",i?e.right=window.innerWidth-(v.left-w.left+b.prop("offsetWidth"))+"px":e.left=v.left-w.left+"px"}n.dropdownMenu.css(e)}var x=u?u:b,y=x.hasClass(u?p:q);if(y===!c&&g[c?"addClass":"removeClass"](x,u?p:q).then(function(){angular.isDefined(c)&&c!==d&&s(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o,b);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var z=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(z),n.dropdownMenu=z}f.close(o,b),n.selectedOption=null}angular.isFunction(r)&&r(a,c)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){
if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"===a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(a,b,c,d,e,f,g,h,i){function j(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function k(){for(var a=-1,b=v.keys(),c=0;c<b.length;c++)v.get(b[c]).value.backdrop&&(a=c);return a>-1&&y>a&&(a=y),a}function l(a,b){var c=v.get(a).value,d=c.appendTo;v.remove(a),z=v.top(),z&&(y=parseInt(z.value.modalDomEl.attr("index"),10)),o(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||u;w.remove(b,a);var e=w.hasKey(b);d.toggleClass(b,e),!e&&t&&t.heightOverflow&&t.scrollbarWidth&&(t.originalRight?d.css({paddingRight:t.originalRight+"px"}):d.css({paddingRight:""}),t=null),m(!0)},c.closedDeferred),n(),b&&b.focus?b.focus():d.focus&&d.focus()}function m(a){var b;v.length()>0&&(b=v.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function n(){if(r&&-1===k()){var a=s;o(r,s,function(){a=null}),r=void 0,s=void 0}}function o(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){b.remove(),e&&e.resolve()}),c.$destroy(),d&&d())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(x.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function p(a){if(a.isDefaultPrevented())return a;var b=v.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){x.dismiss(b.key,"escape key press")}));break;case 9:var c=x.loadFocusElementList(b),d=!1;a.shiftKey?(x.isFocusInFirstItem(a,c)||x.isModalFocused(a,b))&&(d=x.focusLastFocusableElement(c)):x.isFocusInLastItem(a,c)&&(d=x.focusFirstFocusableElement(c)),d&&(a.preventDefault(),a.stopPropagation())}}function q(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var r,s,t,u="modal-open",v=h.createNew(),w=g.createNew(),x={NOW_CLOSING_EVENT:"modal.stack.now-closing"},y=0,z=null,A="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(k,function(a){s&&(s.index=a)}),c.on("keydown",p),e.$on("$destroy",function(){c.off("keydown",p)}),x.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||u;m(!1),z=v.top(),v.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),w.put(h,b);var j=f.appendTo,l=k();if(!j.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");l>=0&&!r&&(s=e.$new(!0),s.modalOptions=f,s.index=l,r=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),r.attr("backdrop-class",f.backdropClass),f.animation&&r.attr("modal-animation","true"),d(r)(s),a.enter(r,j),t=i.scrollbarPadding(j),t.heightOverflow&&t.scrollbarWidth&&j.css({paddingRight:t.right+"px"})),y=z?parseInt(z.value.modalDomEl.attr("index"),10)+1:0;var n=angular.element('<div uib-modal-window="modal-window"></div>');n.attr({"template-url":f.windowTemplateUrl,"window-class":f.windowClass,"window-top-class":f.windowTopClass,size:f.size,index:y,animate:"animate"}).html(f.content),f.animation&&n.attr("modal-animation","true"),j.addClass(h),a.enter(d(n)(f.scope),j),v.top().value.modalDomEl=n,v.top().value.modalOpener=g},x.close=function(a,b){var c=v.get(a);return c&&q(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),l(a,c.value.modalOpener),!0):!c},x.dismiss=function(a,b){var c=v.get(a);return c&&q(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),l(a,c.value.modalOpener),!0):!c},x.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},x.getTop=function(){return v.top()},x.modalRendered=function(a){var b=v.get(a);b&&b.value.renderDeferred.resolve()},x.focusFirstFocusableElement=function(a){return a.length>0?(a[0].focus(),!0):!1},x.focusLastFocusableElement=function(a){return a.length>0?(a[a.length-1].focus(),!0):!1},x.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},x.isFocusInFirstItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[0]:!1},x.isFocusInLastItem=function(a,b){return b.length>0?(a.target||a.srcElement)===b[b.length-1]:!1},x.loadFocusElementList=function(a){if(a){var b=a.value.modalDomEl;if(b&&b.length){var c=b[0].querySelectorAll(A);return c?Array.prototype.filter.call(c,function(a){return j(a)}):c}}},x}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return r}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=c.all([i(e),g.resolve(e.resolve,{},null,null)]);return q=k=c.all([k]).then(j,j).then(function(a){var c=e.scope||b,d=c.$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var g,i,j={};e.controller&&(j.$scope=d,j.$scope.$resolve={},j.$uibModalInstance=p,angular.forEach(a[1],function(a,b){j[b]=a,j.$scope.$resolve[b]=a}),i=f(e.controller,j,!0,e.controllerAs),e.controllerAs&&e.bindToController&&(g=i.instance,g.$close=d.$close,g.$dismiss=d.$dismiss,angular.extend(g,{$resolve:j.$scope.$resolve},c)),g=i(),angular.isFunction(g.$onInit)&&g.$onInit()),h.open(p,{scope:d,deferred:l,renderDeferred:o,closedDeferred:n,content:a[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo}),m.resolve(!0)},function(a){m.reject(a),l.reject(a)})["finally"](function(){k===q&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();var e=!c.ngDisabled||!d;e&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),e=d+i-1,e>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(a,c,d,e){var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),o.removeTop(),b=null)}}var o=m.createNew();return h.on("keypress",n),k.$on("$destroy",function(){h.off("keypress",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup uib-title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){N.isOpen?q():m()}function m(){(!M||a.$eval(d[k+"Enable"]))&&(u(),x(),N.popupDelay?G||(G=g(r,N.popupDelay,!1)):r())}function q(){s(),N.popupCloseDelay?H||(H=g(t,N.popupCloseDelay,!1)):t()}function r(){return s(),u(),N.content?(v(),void N.$evalAsync(function(){N.isOpen=!0,y(!0),S()})):angular.noop}function s(){G&&(g.cancel(G),G=null),I&&(g.cancel(I),I=null)}function t(){N&&N.$evalAsync(function(){N&&(N.isOpen=!1,y(!1),N.animation?F||(F=g(w,150,!1)):w())})}function u(){H&&(g.cancel(H),H=null),F&&(g.cancel(F),F=null)}function v(){D||(E=N.$new(),D=c(E,function(a){K?h.find("body").append(a):b.after(a)}),z())}function w(){s(),u(),A(),D&&(D.remove(),D=null),E&&(E.$destroy(),E=null)}function x(){N.title=d[k+"Title"],Q?N.content=Q(a):N.content=d[e],N.popupClass=d[k+"Class"],N.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(N.placement);J=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);N.popupDelay=isNaN(c)?n.popupDelay:c,N.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){P&&angular.isFunction(P.assign)&&P.assign(a,b)}function z(){R.length=0,Q?(R.push(a.$watch(Q,function(a){N.content=a,!a&&N.isOpen&&t()})),R.push(E.$watch(function(){O||(O=!0,E.$$postDigest(function(){O=!1,N&&N.isOpen&&S()}))}))):R.push(d.$observe(e,function(a){N.content=a,!a&&N.isOpen?t():S()})),R.push(d.$observe(k+"Title",function(a){N.title=a,N.isOpen&&S()})),R.push(d.$observe(k+"Placement",function(a){N.placement=a?a:n.placement,N.isOpen&&S()}))}function A(){R.length&&(angular.forEach(R,function(a){a()}),R.length=0)}function B(a){N&&N.isOpen&&D&&(b[0].contains(a.target)||D[0].contains(a.target)||q())}function C(){var a=d[k+"Trigger"];T(),L=p(a),"none"!==L.show&&L.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===L.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(L.hide[c],q)),b.on("keypress",function(a){27===a.which&&q()})})}var D,E,F,G,H,I,J,K=angular.isDefined(n.appendToBody)?n.appendToBody:!1,L=p(void 0),M=angular.isDefined(d[k+"Enable"]),N=a.$new(!0),O=!1,P=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,Q=n.useContentExp?l(d[e]):!1,R=[],S=function(){D&&D.html()&&(I||(I=g(function(){var a=i.positionElements(b,D,N.placement,K);D.css({top:a.top+"px",left:a.left+"px"}),D.hasClass(a.placement.split("-")[0])||(D.removeClass(J.split("-")[0]),D.addClass(a.placement.split("-")[0])),D.hasClass(n.placementClassPrefix+a.placement)||(D.removeClass(n.placementClassPrefix+J),D.addClass(n.placementClassPrefix+a.placement)),D.hasClass("uib-position-measure")?(i.positionArrow(D,a.placement),D.removeClass("uib-position-measure")):J!==a.placement&&i.positionArrow(D,a.placement),J=a.placement,I=null},0,!1)))};N.origScope=a,N.isOpen=!1,o.add(N,{close:t}),N.contentExp=function(){return N.content},d.$observe("disabled",function(a){a&&s(),a&&N.isOpen&&t()}),P&&a.$watch(P,function(a){N&&!a===N.isOpen&&j()});var T=function(){L.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j))}),L.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};C();var U=a.$eval(d[k+"Animation"]);N.animation=angular.isDefined(U)?!!U:n.animation;var V,W=k+"AppendToBody";V=W in d&&void 0===d[W]?!0:a.$eval(d[W]),K=angular.isDefined(V)?V:K,a.$on("$destroy",function(){T(),w(),o.remove(N),N=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation()&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff,this.enableReset=angular.isDefined(b.enableReset)?a.$parent.$eval(b.enableReset):c.enableReset;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){var c=e.enableReset&&d.$viewValue===b?0:b;d.$setViewValue(c),d.$render()}},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a,f){if(!e){var g=b(c),h=d.tabs[g];if(h){if(h.tab.onDeselect({$event:f,$selectedIndex:a}),f&&f.isDefaultPrevented())return;h.tab.active=!1}var i=d.tabs[a];i?(i.tab.onSelect({$event:f}),i.tab.active=!0,d.active=i.index,c=i.index):!i&&angular.isDefined(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isDefined(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){for(var b,c=0;c<d.tabs.length;c++)if(d.tabs[c].tab===a){b=c;break}if(d.tabs[b].index===d.active){var e=b===d.tabs.length-1?b-1:b+1%d.tabs.length;d.select(e)}d.tabs.splice(b,1)},a.$watch("tabset.active",function(a){angular.isDefined(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(a){if(!b.disabled){for(var c,d=0;d<e.tabs.length;d++)if(e.tabs[d].tab===b){c=d;break}e.select(c,a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours,c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c&&""!==a.hours?(a.showMeridian&&(12===b&&(b=0),a.meridian===v[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes,c=b>=0&&60>b;return c&&""!==a.minutes?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a,b){return null===a?"":angular.isDefined(a)&&a.toString().length<2&&!b?"0"+a:a.toString()}function l(a){m(),u.$setViewValue(new Date(s)),n(a)}function m(){u.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(u.$modelValue){var c=s.getHours(),d=s.getMinutes(),e=s.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c,!w),"m"!==b&&(a.minutes=k(d)),a.meridian=s.getHours()<12?v[0]:v[1],"s"!==b&&(a.seconds=k(e)),a.meridian=s.getHours()<12?v[0]:v[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=v[0]}function o(a){s=q(s,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}function r(){return(null===a.hours||""===a.hours)&&(null===a.minutes||""===a.minutes)&&(!a.showSeconds||a.showSeconds&&(null===a.seconds||""===a.seconds))}var s=new Date,t=[],u={$setViewValue:angular.noop},v=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS,w=angular.isDefined(c.padHours)?a.$parent.$eval(c.padHours):!0;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){u=b,u.$render=this.render,u.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2),i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var x=g.hourStep;c.hourStep&&t.push(a.$parent.$watch(d(c.hourStep),function(a){x=+a}));var y=g.minuteStep;c.minuteStep&&t.push(a.$parent.$watch(d(c.minuteStep),function(a){y=+a}));var z;t.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);z=isNaN(b)?void 0:b}));var A;t.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);A=isNaN(b)?void 0:b}));var B=!1;c.ngDisabled&&t.push(a.$parent.$watch(d(c.ngDisabled),function(a){B=a})),a.noIncrementHours=function(){var a=p(s,60*x);return B||a>A||s>a&&z>a},a.noDecrementHours=function(){var a=p(s,60*-x);return B||z>a||a>s&&a>A},a.noIncrementMinutes=function(){var a=p(s,y);return B||a>A||s>a&&z>a},a.noDecrementMinutes=function(){var a=p(s,-y);return B||z>a||a>s&&a>A},a.noIncrementSeconds=function(){var a=q(s,C);return B||a>A||s>a&&z>a},a.noDecrementSeconds=function(){var a=q(s,-C);return B||z>a||a>s&&a>A},a.noToggleMeridian=function(){return s.getHours()<12?B||p(s,720)>A:B||p(s,-720)<z};var C=g.secondStep;c.secondStep&&t.push(a.$parent.$watch(d(c.secondStep),function(a){C=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&t.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&t.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,u.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(s.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.bind("mousewheel wheel",function(b){B||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()));
}),c.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.bind("keydown",function(b){B||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){u.$setViewValue(null),u.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c),angular.isDefined(d)&&(a.invalidSeconds=d)};a.updateHours=function(){var a=h(),b=i();u.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(s.setHours(a),s.setMinutes(b),z>s||s>A?e(!0):l("h")):e(!0)},b.bind("blur",function(b){u.$setTouched(),r()?m():null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours,!w)})}),a.updateMinutes=function(){var a=i(),b=h();u.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(s.setHours(b),s.setMinutes(a),z>s||s>A?e(void 0,!0):l("m")):e(void 0,!0)},c.bind("blur",function(b){u.$setTouched(),r()?m():null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();u.$setDirty(),angular.isDefined(a)?(s.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.bind("blur",function(b){r()?m():!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=u.$viewValue;isNaN(b)?(u.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(s=b),z>s||s>A?(u.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*x*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-x*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*y)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-y)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(C)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-C)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(s.getHours()<12?60:-60)):a.meridian=a.meridian===v[0]?v[1]:v[0])},a.blur=function(){u.$setTouched()},a.$on("$destroy",function(){for(;t.length;)t.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){O.moveInProgress||(O.moveInProgress=!0,O.$digest()),Z()}function o(){O.position=E?l.offset(b):l.position(b),O.position.top+=b.prop("offsetHeight")}var p,q,r=[9,13,27,38,40],s=200,t=a.$eval(c.typeaheadMinLength);t||0===t||(t=1),a.$watch(c.typeaheadMinLength,function(a){t=a||0===a?a:1});var u=a.$eval(c.typeaheadWaitMs)||0,v=a.$eval(c.typeaheadEditable)!==!1;a.$watch(c.typeaheadEditable,function(a){v=a!==!1});var w,x,y=e(c.typeaheadLoading).assign||angular.noop,z=c.typeaheadShouldSelect?e(c.typeaheadShouldSelect):function(a,b){var c=b.$event;return 13===c.which||9===c.which},A=e(c.typeaheadOnSelect),B=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,C=e(c.typeaheadNoResults).assign||angular.noop,D=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,E=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,F=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,G=a.$eval(c.typeaheadFocusFirst)!==!1,H=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,I=e(c.typeaheadIsOpen).assign||angular.noop,J=a.$eval(c.typeaheadShowHint)||!1,K=e(c.ngModel),L=e(c.ngModel+"($$$p)"),M=function(b,c){return angular.isFunction(K(a))&&q&&q.$options&&q.$options.getterSetter?L(b,{$$$p:c}):K.assign(b,c)},N=m.parse(c.uibTypeahead),O=a.$new(),P=a.$on("$destroy",function(){O.$destroy()});O.$on("$destroy",P);var Q="typeahead-"+O.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":Q});var R,S;J&&(R=angular.element("<div></div>"),R.css("position","relative"),b.after(R),S=b.clone(),S.attr("placeholder",""),S.attr("tabindex","-1"),S.val(""),S.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),R.append(S),S.after(b));var T=angular.element("<div uib-typeahead-popup></div>");T.attr({id:Q,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&T.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&T.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var U=function(){J&&S.val("")},V=function(){O.matches=[],O.activeIdx=-1,b.attr("aria-expanded",!1),U()},W=function(a){return Q+"-option-"+a};O.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",W(a))});var X=function(a,b){return O.matches.length>b&&a?a.toUpperCase()===O.matches[b].label.toUpperCase():!1},Y=function(c,d){var e={$viewValue:c};y(a,!0),C(a,!1),f.when(N.source(a,e)).then(function(f){var g=c===p.$viewValue;if(g&&w)if(f&&f.length>0){O.activeIdx=G?0:-1,C(a,!1),O.matches.length=0;for(var h=0;h<f.length;h++)e[N.itemName]=f[h],O.matches.push({id:W(h),label:N.viewMapper(O,e),model:f[h]});if(O.query=c,o(),b.attr("aria-expanded",!0),H&&1===O.matches.length&&X(c,0)&&(angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(0,d)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate["default"]):O.select(0,d)),J){var i=O.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?S.val(c+i.slice(c.length)):S.val("")}}else V(),C(a,!0);g&&y(a,!1)},function(){V(),y(a,!1),C(a,!0)})};E&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var Z=k(function(){O.matches.length&&o(),O.moveInProgress=!1},s);O.moveInProgress=!1,O.query=void 0;var $,_=function(a){$=g(function(){Y(a)},u)},aa=function(){$&&g.cancel($)};V(),O.assignIsOpen=function(b){I(a,b)},O.select=function(d,e){var f,h,i={};x=!0,i[N.itemName]=h=O.matches[d].model,f=N.modelMapper(a,i),M(a,f),p.$setValidity("editable",!0),p.$setValidity("parse",!0),A(a,{$item:h,$model:f,$label:N.viewMapper(a,i),$event:e}),V(),O.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==O.matches.length&&-1!==r.indexOf(b.which)){var c=z(a,{$event:b});if(-1===O.activeIdx&&c||9===b.which&&b.shiftKey)return V(),void O.$digest();b.preventDefault();var d;switch(b.which){case 27:b.stopPropagation(),V(),a.$digest();break;case 38:O.activeIdx=(O.activeIdx>0?O.activeIdx:O.matches.length)-1,O.$digest(),d=T.find("li")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;case 40:O.activeIdx=(O.activeIdx+1)%O.matches.length,O.$digest(),d=T.find("li")[O.activeIdx],d.parentNode.scrollTop=d.offsetTop;break;default:c&&O.$apply(function(){angular.isNumber(O.debounceUpdate)||angular.isObject(O.debounceUpdate)?k(function(){O.select(O.activeIdx,b)},angular.isNumber(O.debounceUpdate)?O.debounceUpdate:O.debounceUpdate["default"]):O.select(O.activeIdx,b)})}}}),b.bind("focus",function(a){w=!0,0!==t||p.$viewValue||g(function(){Y(p.$viewValue,a)},0)}),b.bind("blur",function(a){B&&O.matches.length&&-1!==O.activeIdx&&!x&&(x=!0,O.$apply(function(){angular.isObject(O.debounceUpdate)&&angular.isNumber(O.debounceUpdate.blur)?k(function(){O.select(O.activeIdx,a)},O.debounceUpdate.blur):O.select(O.activeIdx,a)})),!v&&p.$error.editable&&(p.$setViewValue(),p.$setValidity("editable",!0),p.$setValidity("parse",!0),b.val("")),w=!1,x=!1});var ba=function(c){b[0]!==c.target&&3!==c.which&&0!==O.matches.length&&(V(),j.$$phase||a.$digest())};h.on("click",ba),a.$on("$destroy",function(){h.off("click",ba),(E||F)&&ca.remove(),E&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),T.remove(),J&&R.remove()});var ca=d(T)(O);E?h.find("body").append(ca):F?angular.element(F).eq(0).append(ca):b.after(ca),this.init=function(b,c){p=b,q=c,O.debounceUpdate=p.$options&&e(p.$options.debounce)(a),p.$parsers.unshift(function(b){return w=!0,0===t||b&&b.length>=t?u>0?(aa(),_(b)):Y(b):(y(a,!1),aa(),V()),v?b:b?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(b){var c,d,e={};return v||p.$setValidity("editable",!0),D?(e.$model=b,D(a,e)):(e[N.itemName]=b,c=N.viewMapper(a,e),e[N.itemName]=void 0,d=N.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e["default"]):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Ed.apply(null,arguments)}function b(a){Ed=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return zb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=Fd.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),Gd.length>0)for(c=0;c<Gd.length;c++)d=Gd[c],e=b[d],f(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Hd===!1&&(Hd=!0,a.updateOffset(this),Hd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),Id[b]||(w(c),Id[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Qd[c]=Qd[c+"s"]=Qd[b]=a}function K(a){return"string"==typeof a?Qd[a]||Qd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Rd[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Rd[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function P(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Vd[a]=e),b&&(Vd[b[0]]=function(){return O(e.apply(this,arguments),b[1],b[2])}),c&&(Vd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function Q(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function R(a){var b,c,d=a.match(Sd);for(b=0,c=d.length;c>b;b++)Vd[d[b]]?d[b]=Vd[d[b]]:d[b]=Q(d[b]);return function(b){var e,f="";for(e=0;c>e;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}function S(a,b){return a.isValid()?(b=T(b,a.localeData()),Ud[b]=Ud[b]||R(b),Ud[b](a)):a.localeData().invalidDate()}function T(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Td.lastIndex=0;d>=0&&Td.test(a);)a=a.replace(Td,c),Td.lastIndex=0,d-=1;return a}function U(a,b,c){le[a]=z(b)?b:function(a,d){return a&&c?c:b}}function V(a,b){return j(le,a)?le[a](b._strict,b._locale):new RegExp(W(a))}function W(a){return X(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function X(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)me[a[c]]=d}function Z(a,b){Y(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function $(a,b,c){null!=b&&j(me,a)&&me[a](b,c._a,c,a)}function _(a){return aa(a)?366:365}function aa(a){return a%4===0&&a%100!==0||a%400===0}function ba(){return aa(this.year())}function ca(b,c){return function(d){return null!=d?(ea(this,b,d),a.updateOffset(this,c),this):da(this,b)}}function da(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function ea(a,b,c){a.isValid()&&!isNaN(c)&&("FullYear"===b&&aa(a.year())&&1===a.month()&&29===a.date()?a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ia(c,a.month())):a._d["set"+(a._isUTC?"UTC":"")+b](c))}function fa(a){return a=K(a),z(this[a])?this[a]():this}function ga(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function ha(a,b){return(a%b+b)%b}function ia(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=ha(b,12);return a+=(b-c)/12,1===c?aa(a)?29:28:31-c%7%2}function ja(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ye).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone}function ka(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ye.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function la(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=we.call(this._shortMonthsParse,g),-1!==e?e:null):(e=we.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?(e=we.call(this._shortMonthsParse,g),-1!==e?e:(e=we.call(this._longMonthsParse,g),-1!==e?e:null)):(e=we.call(this._longMonthsParse,g),-1!==e?e:(e=we.call(this._shortMonthsParse,g),-1!==e?e:null))}function ma(a,b,c){var d,e,f;if(this._monthsParseExact)return la.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function na(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!g(b))return a;return c=Math.min(a.date(),ia(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function oa(b){return null!=b?(na(this,b),a.updateOffset(this,!0),this):da(this,"Month")}function pa(){return ia(this.year(),this.month())}function qa(a){return this._monthsParseExact?(j(this,"_monthsRegex")||sa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=Be),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function ra(a){return this._monthsParseExact?(j(this,"_monthsRegex")||sa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=Ce),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function sa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=X(d[b]),e[b]=X(e[b]);for(b=0;24>b;b++)f[b]=X(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ta(a,b,c,d,e,f,g){var h;return 100>a&&a>=0?(h=new Date(a+400,b,c,d,e,f,g),isFinite(h.getFullYear())&&h.setFullYear(a)):h=new Date(a,b,c,d,e,f,g),h}function ua(a){var b;if(100>a&&a>=0){var c=Array.prototype.slice.call(arguments);c[0]=a+400,b=new Date(Date.UTC.apply(null,c)),isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a)}else b=new Date(Date.UTC.apply(null,arguments));return b}function va(a,b,c){var d=7+b-c,e=(7+ua(a,0,d).getUTCDay()-b)%7;return-e+d-1}function wa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=va(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=_(f)+j):j>_(a)?(f=a+1,g=j-_(a)):(f=a,g=j),{year:f,dayOfYear:g}}function xa(a,b,c){var d,e,f=va(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ya(e,b,c)):g>ya(a.year(),b,c)?(d=g-ya(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ya(a,b,c){var d=va(a,b,c),e=va(a+1,b,c);return(_(a)-d+e)/7}function za(a){return xa(a,this._week.dow,this._week.doy).week}function Aa(){return this._week.dow}function Ba(){return this._week.doy}function Ca(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Da(a){var b=xa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Ea(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Fa(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ga(a,b){return a.slice(b,7).concat(a.slice(0,b))}function Ha(a,b){var d=c(this._weekdays)?this._weekdays:this._weekdays[a&&a!==!0&&this._weekdays.isFormat.test(b)?"format":"standalone"];return a===!0?Ga(d,this._week.dow):a?d[a.day()]:d}function Ia(a){return a===!0?Ga(this._weekdaysShort,this._week.dow):a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ja(a){return a===!0?Ga(this._weekdaysMin,this._week.dow):a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ka(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=we.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=we.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?(e=we.call(this._weekdaysParse,g),-1!==e?e:(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:(e=we.call(this._minWeekdaysParse,g),-1!==e?e:null))):"ddd"===b?(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:(e=we.call(this._weekdaysParse,g),-1!==e?e:(e=we.call(this._minWeekdaysParse,g),-1!==e?e:null))):(e=we.call(this._minWeekdaysParse,g),-1!==e?e:(e=we.call(this._weekdaysParse,g),-1!==e?e:(e=we.call(this._shortWeekdaysParse,g),-1!==e?e:null)))}function La(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ka.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ma(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Ea(a,this.localeData()),this.add(a-b,"d")):b}function Na(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Oa(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Fa(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=He),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Qa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ie),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ra(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Sa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;7>b;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;7>b;b++)h[b]=X(h[b]),i[b]=X(i[b]),j[b]=X(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ta(){return this.hours()%12||12}function Ua(){return this.hours()||24}function Va(a,b){P(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Wa(a,b){return b._meridiemParse}function Xa(a){return"p"===(a+"").toLowerCase().charAt(0)}function Ya(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Za(a){return a?a.toLowerCase().replace("_","-"):a}function $a(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Za(a[f]).split("-"),b=e.length,c=Za(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=_a(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return Ke}function _a(a){var b=null;if(!Oe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ke._abbr;var c=require;c("./locale/"+a),ab(b)}catch(d){}return Oe[a]}function ab(a,b){var c;return a&&(c=f(b)?db(a):bb(a,b),c?Ke=c:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?")),Ke._abbr}function bb(a,b){if(null!==b){var c,d=Ne;if(b.abbr=a,null!=Oe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=Oe[a]._config;else if(null!=b.parentLocale)if(null!=Oe[b.parentLocale])d=Oe[b.parentLocale]._config;else{if(c=_a(b.parentLocale),null==c)return Pe[b.parentLocale]||(Pe[b.parentLocale]=[]),Pe[b.parentLocale].push({name:a,config:b}),null;d=c._config}return Oe[a]=new C(B(d,b)),Pe[a]&&Pe[a].forEach(function(a){bb(a.name,a.config)}),ab(a),Oe[a]}return delete Oe[a],null}function cb(a,b){if(null!=b){var c,d,e=Ne;d=_a(a),null!=d&&(e=d._config),b=B(e,b),c=new C(b),c.parentLocale=Oe[a],Oe[a]=c,ab(a)}else null!=Oe[a]&&(null!=Oe[a].parentLocale?Oe[a]=Oe[a].parentLocale:null!=Oe[a]&&delete Oe[a]);return Oe[a]}function db(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ke;if(!c(a)){if(b=_a(a))return b;a=[a]}return $a(a)}function eb(){return Jd(Oe)}function fb(a){var b,c=a._a;return c&&-2===n(a).overflow&&(b=c[oe]<0||c[oe]>11?oe:c[pe]<1||c[pe]>ia(c[ne],c[oe])?pe:c[qe]<0||c[qe]>24||24===c[qe]&&(0!==c[re]||0!==c[se]||0!==c[te])?qe:c[re]<0||c[re]>59?re:c[se]<0||c[se]>59?se:c[te]<0||c[te]>999?te:-1,n(a)._overflowDayOfYear&&(ne>b||b>pe)&&(b=pe),n(a)._overflowWeeks&&-1===b&&(b=ue),n(a)._overflowWeekday&&-1===b&&(b=ve),n(a).overflow=b),a}function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ib(a){var b,c,d,e,f,g=[];if(!a._d){for(d=hb(a),a._w&&null==a._a[pe]&&null==a._a[oe]&&jb(a),null!=a._dayOfYear&&(f=gb(a._a[ne],d[ne]),(a._dayOfYear>_(f)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ua(f,0,a._dayOfYear),a._a[oe]=c.getUTCMonth(),a._a[pe]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=g[b]=d[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[qe]&&0===a._a[re]&&0===a._a[se]&&0===a._a[te]&&(a._nextDay=!0,a._a[qe]=0),a._d=(a._useUTC?ua:ta).apply(null,g),e=a._useUTC?a._d.getUTCDay():a._d.getDay(),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[qe]=24),a._w&&"undefined"!=typeof a._w.d&&a._w.d!==e&&(n(a).weekdayMismatch=!0)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=gb(b.GG,a._a[ne],xa(Ab(),1,4).year),d=gb(b.W,1),e=gb(b.E,1),(1>e||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=xa(Ab(),f,g);c=gb(b.gg,a._a[ne],j.year),d=gb(b.w,j.week),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}1>d||d>ya(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=wa(c,d,e,f,g),a._a[ne]=h.year,a._dayOfYear=h.dayOfYear)}function kb(a){var b,c,d,e,f,g,h=a._i,i=Qe.exec(h)||Re.exec(h);if(i){for(n(a).iso=!0,b=0,c=Te.length;c>b;b++)if(Te[b][1].exec(i[1])){e=Te[b][0],d=Te[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Ue.length;c>b;b++)if(Ue[b][1].exec(i[3])){f=(i[2]||" ")+Ue[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Se.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),sb(a)}else a._isValid=!1}function lb(a,b,c,d,e,f){var g=[mb(a),Ae.indexOf(b),parseInt(c,10),parseInt(d,10),parseInt(e,10)];return f&&g.push(parseInt(f,10)),g}function mb(a){var b=parseInt(a,10);return 49>=b?2e3+b:999>=b?1900+b:b}function nb(a){return a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ob(a,b,c){if(a){var d=Fe.indexOf(a),e=new Date(b[0],b[1],b[2]).getDay();if(d!==e)return n(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function pb(a,b,c){if(a)return Xe[a];if(b)return 0;var d=parseInt(c,10),e=d%100,f=(d-e)/100;return 60*f+e}function qb(a){var b=We.exec(nb(a._i));if(b){var c=lb(b[4],b[3],b[2],b[5],b[6],b[7]);if(!ob(b[1],c,a))return;a._a=c,a._tzm=pb(b[8],b[9],b[10]),a._d=ua.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),n(a).rfc2822=!0}else a._isValid=!1}function rb(b){var c=Ve.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(kb(b),void(b._isValid===!1&&(delete b._isValid,qb(b),b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b)))))}function sb(b){if(b._f===a.ISO_8601)return void kb(b);if(b._f===a.RFC_2822)return void qb(b);b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=T(b._f,b._locale).match(Sd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(V(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Vd[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),$(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,h.length>0&&n(b).unusedInput.push(h),b._a[qe]<=12&&n(b).bigHour===!0&&b._a[qe]>0&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[qe]=tb(b._locale,b._a[qe],b._meridiem),ib(b),fb(b)}function tb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ub(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],sb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||d>f)&&(d=f,c=b));k(a,c||b)}function vb(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function wb(a){var b=new r(fb(xb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function xb(a){var b=a._i,d=a._f;return a._locale=a._locale||db(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(fb(b)):(h(b)?a._d=b:c(d)?ub(a):d?sb(a):yb(a),o(a)||(a._d=null),a))}function yb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?rb(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),ib(b)):d(e)?vb(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function zb(a,b,f,g,h){var i={};return(f===!0||f===!1)&&(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,wb(i)}function Ab(a,b,c,d){return zb(a,b,c,d,!1)}function Bb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ab();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Cb(){var a=[].slice.call(arguments,0);return Bb("isBefore",a)}function Db(){var a=[].slice.call(arguments,0);return Bb("isAfter",a)}function Eb(a){for(var b in a)if(-1===we.call(_e,b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<_e.length;++d)if(a[_e[d]]){if(c)return!1;parseFloat(a[_e[d]])!==u(a[_e[d]])&&(c=!0)}return!0}function Fb(){return this._isValid}function Gb(){return Zb(NaN)}function Hb(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||b.isoWeek||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=Eb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=db(),this._bubble()}function Ib(a){return a instanceof Hb}function Jb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Kb(a,b){P(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+O(~~(a/60),2)+b+O(~~a%60,2)})}function Lb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(af)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Mb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():Ab(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):Ab(b).local()}function Nb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ob(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Lb(ie,b),null===b)return this}else Math.abs(b)<16&&!d&&(b=60*b);
return!this._isUTC&&c&&(e=Nb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?cc(this,Zb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Nb(this)}function Pb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qb(a){return this.utcOffset(0,a)}function Rb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Nb(this),"m")),this}function Sb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Lb(he,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Tb(a){return this.isValid()?(a=a?Ab(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ub(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vb(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=xb(a),a._a){var b=a._isUTC?l(a._a):Ab(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wb(){return this.isValid()?!this._isUTC:!1}function Xb(){return this.isValid()?this._isUTC:!1}function Yb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Zb(a,b){var c,d,e,f=a,h=null;return Ib(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=bf.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[pe])*c,h:u(h[qe])*c,m:u(h[re])*c,s:u(h[se])*c,ms:u(Jb(1e3*h[te]))*c}):(h=cf.exec(a))?(c="-"===h[1]?-1:1,f={y:$b(h[2],c),M:$b(h[3],c),w:$b(h[4],c),d:$b(h[5],c),h:$b(h[6],c),m:$b(h[7],c),s:$b(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=ac(Ab(f.from),Ab(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Hb(f),Ib(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function $b(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _b(a,b){var c={};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ac(a,b){var c;return a.isValid()&&b.isValid()?(b=Mb(b,a),a.isBefore(b)?c=_b(a,b):(c=_b(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bc(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Zb(c,d),cc(this,e,a),this}}function cc(b,c,d,e){var f=c._milliseconds,g=Jb(c._days),h=Jb(c._months);b.isValid()&&(e=null==e?!0:e,h&&na(b,da(b,"Month")+h*d),g&&ea(b,"Date",da(b,"Date")+g*d),f&&b._d.setTime(b._d.valueOf()+f*d),e&&a.updateOffset(b,g||h))}function dc(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"}function ec(b,c){var d=b||Ab(),e=Mb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,Ab(d)))}function fc(){return new r(this)}function gc(a,b){var c=s(a)?a:Ab(a);return this.isValid()&&c.isValid()?(b=K(b)||"millisecond","millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf()):!1}function hc(a,b){var c=s(a)?a:Ab(a);return this.isValid()&&c.isValid()?(b=K(b)||"millisecond","millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf()):!1}function ic(a,b,c,d){var e=s(a)?a:Ab(a),f=s(b)?b:Ab(b);return this.isValid()&&e.isValid()&&f.isValid()?(d=d||"()",("("===d[0]?this.isAfter(e,c):!this.isBefore(e,c))&&(")"===d[1]?this.isBefore(f,c):!this.isAfter(f,c))):!1}function jc(a,b){var c,d=s(a)?a:Ab(a);return this.isValid()&&d.isValid()?(b=K(b)||"millisecond","millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf())):!1}function kc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function lc(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function mc(a,b,c){var d,e,f;if(!this.isValid())return NaN;if(d=Mb(a,this),!d.isValid())return NaN;switch(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b)){case"year":f=nc(this,d)/12;break;case"month":f=nc(this,d);break;case"quarter":f=nc(this,d)/3;break;case"second":f=(this-d)/1e3;break;case"minute":f=(this-d)/6e4;break;case"hour":f=(this-d)/36e5;break;case"day":f=(this-d-e)/864e5;break;case"week":f=(this-d-e)/6048e5;break;default:f=this-d}return c?f:t(f)}function nc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function oc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pc(a){if(!this.isValid())return null;var b=a!==!0,c=b?this.clone().utc():this;return c.year()<0||c.year()>9999?S(c,b?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):z(Date.prototype.toISOString)?b?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",S(c,"Z")):S(c,b?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function rc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=S(this,b);return this.localeData().postformat(c)}function sc(a,b){return this.isValid()&&(s(a)&&a.isValid()||Ab(a).isValid())?Zb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tc(a){return this.from(Ab(),a)}function uc(a,b){return this.isValid()&&(s(a)&&a.isValid()||Ab(a).isValid())?Zb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function vc(a){return this.to(Ab(),a)}function wc(a){var b;return void 0===a?this._locale._abbr:(b=db(a),null!=b&&(this._locale=b),this)}function xc(){return this._locale}function yc(a,b){return(a%b+b)%b}function zc(a,b,c){return 100>a&&a>=0?new Date(a+400,b,c)-kf:new Date(a,b,c).valueOf()}function Ac(a,b,c){return 100>a&&a>=0?Date.UTC(a+400,b,c)-kf:Date.UTC(a,b,c)}function Bc(b){var c;if(b=K(b),void 0===b||"millisecond"===b||!this.isValid())return this;var d=this._isUTC?Ac:zc;switch(b){case"year":c=d(this.year(),0,1);break;case"quarter":c=d(this.year(),this.month()-this.month()%3,1);break;case"month":c=d(this.year(),this.month(),1);break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":c=d(this.year(),this.month(),this.date());break;case"hour":c=this._d.valueOf(),c-=yc(c+(this._isUTC?0:this.utcOffset()*hf),jf);break;case"minute":c=this._d.valueOf(),c-=yc(c,hf);break;case"second":c=this._d.valueOf(),c-=yc(c,gf)}return this._d.setTime(c),a.updateOffset(this,!0),this}function Cc(b){var c;if(b=K(b),void 0===b||"millisecond"===b||!this.isValid())return this;var d=this._isUTC?Ac:zc;switch(b){case"year":c=d(this.year()+1,0,1)-1;break;case"quarter":c=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":c=d(this.year(),this.month()+1,1)-1;break;case"week":c=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":c=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":c=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":c=this._d.valueOf(),c+=jf-yc(c+(this._isUTC?0:this.utcOffset()*hf),jf)-1;break;case"minute":c=this._d.valueOf(),c+=hf-yc(c,hf)-1;break;case"second":c=this._d.valueOf(),c+=gf-yc(c,gf)-1}return this._d.setTime(c),a.updateOffset(this,!0),this}function Dc(){return this._d.valueOf()-6e4*(this._offset||0)}function Ec(){return Math.floor(this.valueOf()/1e3)}function Fc(){return new Date(this.valueOf())}function Gc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Hc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ic(){return this.isValid()?this.toISOString():null}function Jc(){return o(this)}function Kc(){return k({},n(this))}function Lc(){return n(this).overflow}function Mc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Nc(a,b){P(0,[a,a.length],0,b)}function Oc(a){return Sc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pc(a){return Sc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Qc(){return ya(this.year(),1,4)}function Rc(){var a=this.localeData()._week;return ya(this.year(),a.dow,a.doy)}function Sc(a,b,c,d,e){var f;return null==a?xa(this,d,e).year:(f=ya(a,d,e),b>f&&(b=f),Tc.call(this,a,b,c,d,e))}function Tc(a,b,c,d,e){var f=wa(a,b,c,d,e),g=ua(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Uc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Vc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Wc(a,b){b[te]=u(1e3*("0."+a))}function Xc(){return this._isUTC?"UTC":""}function Yc(){return this._isUTC?"Coordinated Universal Time":""}function Zc(a){return Ab(1e3*a)}function $c(){return Ab.apply(null,arguments).parseZone()}function _c(a){return a}function ad(a,b,c,d){var e=db(),f=l().set(d,b);return e[c](f,a)}function bd(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return ad(a,b,c,"month");var d,e=[];for(d=0;12>d;d++)e[d]=ad(a,d,c,"month");return e}function cd(a,b,c,d){"boolean"==typeof a?(g(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,g(b)&&(c=b,b=void 0),b=b||"");var e=db(),f=a?e._week.dow:0;if(null!=c)return ad(b,(c+f)%7,d,"day");var h,i=[];for(h=0;7>h;h++)i[h]=ad(b,(h+f)%7,d,"day");return i}function dd(a,b){return bd(a,b,"months")}function ed(a,b){return bd(a,b,"monthsShort")}function fd(a,b,c){return cd(a,b,c,"weekdays")}function gd(a,b,c){return cd(a,b,c,"weekdaysShort")}function hd(a,b,c){return cd(a,b,c,"weekdaysMin")}function id(){var a=this._data;return this._milliseconds=sf(this._milliseconds),this._days=sf(this._days),this._months=sf(this._months),a.milliseconds=sf(a.milliseconds),a.seconds=sf(a.seconds),a.minutes=sf(a.minutes),a.hours=sf(a.hours),a.months=sf(a.months),a.years=sf(a.years),this}function jd(a,b,c,d){var e=Zb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function kd(a,b){return jd(this,a,b,1)}function ld(a,b){return jd(this,a,b,-1)}function md(a){return 0>a?Math.floor(a):Math.ceil(a)}function nd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*md(pd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(od(g)),h+=e,g-=md(pd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function od(a){return 4800*a/146097}function pd(a){return 146097*a/4800}function qd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"quarter"===a||"year"===a)switch(b=this._days+d/864e5,c=this._months+od(b),a){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(b=this._days+Math.round(pd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function rd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN}function sd(a){return function(){return this.as(a)}}function td(){return Zb(this)}function ud(a){return a=K(a),this.isValid()?this[a+"s"]():NaN}function vd(a){return function(){return this.isValid()?this._data[a]:NaN}}function wd(){return t(this.days()/7)}function xd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function yd(a,b,c){var d=Zb(a).abs(),e=Jf(d.as("s")),f=Jf(d.as("m")),g=Jf(d.as("h")),h=Jf(d.as("d")),i=Jf(d.as("M")),j=Jf(d.as("y")),k=e<=Kf.ss&&["s",e]||e<Kf.s&&["ss",e]||1>=f&&["m"]||f<Kf.m&&["mm",f]||1>=g&&["h"]||g<Kf.h&&["hh",g]||1>=h&&["d"]||h<Kf.d&&["dd",h]||1>=i&&["M"]||i<Kf.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,xd.apply(null,k)}function zd(a){return void 0===a?Jf:"function"==typeof a?(Jf=a,!0):!1}function Ad(a,b){return void 0===Kf[a]?!1:void 0===b?Kf[a]:(Kf[a]=b,"s"===a&&(Kf.ss=b-1),!0)}function Bd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=yd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cd(a){return(a>0)-(0>a)||+a}function Dd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=Lf(this._milliseconds)/1e3,e=Lf(this._days),f=Lf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d?d.toFixed(3).replace(/\.?0+$/,""):"",m=this.asSeconds();if(!m)return"P0D";var n=0>m?"-":"",o=Cd(this._months)!==Cd(m)?"-":"",p=Cd(this._days)!==Cd(m)?"-":"",q=Cd(this._milliseconds)!==Cd(m)?"-":"";return n+"P"+(g?o+g+"Y":"")+(h?o+h+"M":"")+(i?p+i+"D":"")+(j||k||l?"T":"")+(j?q+j+"H":"")+(k?q+k+"M":"")+(l?q+l+"S":"")}var Ed,Fd;Fd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;c>d;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Gd=a.momentProperties=[],Hd=!1,Id={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var Jd;Jd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Qd={},Rd={},Sd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Td=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ud={},Vd={},Wd=/\d/,Xd=/\d\d/,Yd=/\d{3}/,Zd=/\d{4}/,$d=/[+-]?\d{6}/,_d=/\d\d?/,ae=/\d\d\d\d?/,be=/\d\d\d\d\d\d?/,ce=/\d{1,3}/,de=/\d{1,4}/,ee=/[+-]?\d{1,6}/,fe=/\d+/,ge=/[+-]?\d+/,he=/Z|[+-]\d\d:?\d\d/gi,ie=/Z|[+-]\d\d(?::?\d\d)?/gi,je=/[+-]?\d+(\.\d{1,3})?/,ke=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={},me={},ne=0,oe=1,pe=2,qe=3,re=4,se=5,te=6,ue=7,ve=8;P("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),U("Y",ge),U("YY",_d,Xd),U("YYYY",de,Zd),U("YYYYY",ee,$d),U("YYYYYY",ee,$d),Y(["YYYYY","YYYYYY"],ne),Y("YYYY",function(b,c){c[ne]=2===b.length?a.parseTwoDigitYear(b):u(b)}),Y("YY",function(b,c){c[ne]=a.parseTwoDigitYear(b)}),Y("Y",function(a,b){b[ne]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var we,xe=ca("FullYear",!0);we=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),P("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),U("M",_d),U("MM",_d,Xd),U("MMM",function(a,b){return b.monthsShortRegex(a)}),U("MMMM",function(a,b){return b.monthsRegex(a)}),Y(["M","MM"],function(a,b){b[oe]=u(a)-1}),Y(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[oe]=e:n(c).invalidMonth=a});var ye=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ze="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Be=ke,Ce=ke;P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),U("w",_d),U("ww",_d,Xd),U("W",_d),U("WW",_d,Xd),Z(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var De={dow:0,doy:6};P("d",0,"do","day"),P("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),P("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),P("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),U("d",_d),U("e",_d),U("E",_d),U("dd",function(a,b){return b.weekdaysMinRegex(a)}),U("ddd",function(a,b){return b.weekdaysShortRegex(a)}),U("dddd",function(a,b){return b.weekdaysRegex(a)}),Z(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),Z(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var Ee="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),He=ke,Ie=ke,Je=ke;P("H",["HH",2],0,"hour"),P("h",["hh",2],0,Ta),P("k",["kk",2],0,Ua),P("hmm",0,0,function(){return""+Ta.apply(this)+O(this.minutes(),2)}),P("hmmss",0,0,function(){return""+Ta.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),Va("a",!0),Va("A",!1),J("hour","h"),M("hour",13),U("a",Wa),U("A",Wa),U("H",_d),U("h",_d),U("k",_d),U("HH",_d,Xd),U("hh",_d,Xd),U("kk",_d,Xd),U("hmm",ae),U("hmmss",be),U("Hmm",ae),U("Hmmss",be),Y(["H","HH"],qe),Y(["k","kk"],function(a,b,c){var d=u(a);b[qe]=24===d?0:d}),Y(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Y(["h","hh"],function(a,b,c){b[qe]=u(a),n(c).bigHour=!0}),Y("hmm",function(a,b,c){var d=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d)),n(c).bigHour=!0}),Y("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d,2)),b[se]=u(a.substr(e)),n(c).bigHour=!0}),Y("Hmm",function(a,b,c){var d=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d))}),Y("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[qe]=u(a.substr(0,d)),b[re]=u(a.substr(d,2)),b[se]=u(a.substr(e))});var Ke,Le=/[ap]\.?m?\.?/i,Me=ca("Hours",!0),Ne={calendar:Kd,longDateFormat:Ld,invalidDate:Md,ordinal:Nd,dayOfMonthOrdinalParse:Od,relativeTime:Pd,months:ze,monthsShort:Ae,week:De,weekdays:Ee,weekdaysMin:Ge,weekdaysShort:Fe,meridiemParse:Le},Oe={},Pe={},Qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Re=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Se=/Z|[+-]\d\d(?::?\d\d)?/,Te=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ue=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ve=/^\/?Date\((\-?\d+)/i,We=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Ye=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:p()}),Ze=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=Ab.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),$e=function(){return Date.now?Date.now():+new Date},_e=["year","quarter","month","week","day","hour","minute","second","millisecond"];Kb("Z",":"),Kb("ZZ",""),U("Z",ie),U("ZZ",ie),Y(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Lb(ie,a)});var af=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var bf=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,cf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Zb.fn=Hb.prototype,Zb.invalid=Gb;var df=bc(1,"add"),ef=bc(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ff=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)}),gf=1e3,hf=60*gf,jf=60*hf,kf=3506328*jf;P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nc("gggg","weekYear"),Nc("ggggg","weekYear"),Nc("GGGG","isoWeekYear"),Nc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),U("G",ge),U("g",ge),U("GG",_d,Xd),U("gg",_d,Xd),U("GGGG",de,Zd),U("gggg",de,Zd),U("GGGGG",ee,$d),U("ggggg",ee,$d),Z(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),Z(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),P("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),U("Q",Wd),Y("Q",function(a,b){b[oe]=3*(u(a)-1)}),P("D",["DD",2],"Do","date"),J("date","D"),M("date",9),U("D",_d),U("DD",_d,Xd),U("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),Y(["D","DD"],pe),Y("Do",function(a,b){b[pe]=u(a.match(_d)[0])});var lf=ca("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),U("DDD",ce),U("DDDD",Yd),Y(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),P("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),U("m",_d),U("mm",_d,Xd),Y(["m","mm"],re);var mf=ca("Minutes",!1);P("s",["ss",2],0,"second"),J("second","s"),M("second",15),U("s",_d),U("ss",_d,Xd),Y(["s","ss"],se);var nf=ca("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),U("S",ce,Wd),U("SS",ce,Xd),U("SSS",ce,Yd);var of;for(of="SSSS";of.length<=9;of+="S")U(of,fe);for(of="S";of.length<=9;of+="S")Y(of,Wc);var pf=ca("Milliseconds",!1);P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var qf=r.prototype;qf.add=df,qf.calendar=ec,qf.clone=fc,qf.diff=mc,qf.endOf=Cc,qf.format=rc,qf.from=sc,qf.fromNow=tc,qf.to=uc,qf.toNow=vc,qf.get=fa,qf.invalidAt=Lc,qf.isAfter=gc,qf.isBefore=hc,qf.isBetween=ic,qf.isSame=jc,qf.isSameOrAfter=kc,qf.isSameOrBefore=lc,qf.isValid=Jc,qf.lang=ff,qf.locale=wc,qf.localeData=xc,qf.max=Ze,qf.min=Ye,qf.parsingFlags=Kc,qf.set=ga,qf.startOf=Bc,qf.subtract=ef,qf.toArray=Gc,qf.toObject=Hc,qf.toDate=Fc,qf.toISOString=pc,qf.inspect=qc,qf.toJSON=Ic,qf.toString=oc,qf.unix=Ec,qf.valueOf=Dc,qf.creationData=Mc,qf.year=xe,qf.isLeapYear=ba,qf.weekYear=Oc,qf.isoWeekYear=Pc,qf.quarter=qf.quarters=Uc,qf.month=oa,qf.daysInMonth=pa,qf.week=qf.weeks=Ca,qf.isoWeek=qf.isoWeeks=Da,qf.weeksInYear=Rc,qf.isoWeeksInYear=Qc,qf.date=lf,qf.day=qf.days=Ma,qf.weekday=Na,qf.isoWeekday=Oa,qf.dayOfYear=Vc,qf.hour=qf.hours=Me,qf.minute=qf.minutes=mf,qf.second=qf.seconds=nf,qf.millisecond=qf.milliseconds=pf,qf.utcOffset=Ob,qf.utc=Qb,qf.local=Rb,qf.parseZone=Sb,qf.hasAlignedHourOffset=Tb,qf.isDST=Ub,qf.isLocal=Wb,qf.isUtcOffset=Xb,qf.isUtc=Yb,qf.isUTC=Yb,qf.zoneAbbr=Xc,qf.zoneName=Yc,qf.dates=x("dates accessor is deprecated. Use date instead.",lf),qf.months=x("months accessor is deprecated. Use month instead",oa),qf.years=x("years accessor is deprecated. Use year instead",xe),qf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pb),qf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vb);var rf=C.prototype;rf.calendar=D,rf.longDateFormat=E,rf.invalidDate=F,rf.ordinal=G,rf.preparse=_c,rf.postformat=_c,rf.relativeTime=H,rf.pastFuture=I,rf.set=A,rf.months=ja,rf.monthsShort=ka,rf.monthsParse=ma,rf.monthsRegex=ra,rf.monthsShortRegex=qa,rf.week=za,rf.firstDayOfYear=Ba,rf.firstDayOfWeek=Aa,rf.weekdays=Ha,rf.weekdaysMin=Ja,rf.weekdaysShort=Ia,rf.weekdaysParse=La,rf.weekdaysRegex=Pa,rf.weekdaysShortRegex=Qa,rf.weekdaysMinRegex=Ra,rf.isPM=Xa,rf.meridiem=Ya,ab("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",ab),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",db);var sf=Math.abs,tf=sd("ms"),uf=sd("s"),vf=sd("m"),wf=sd("h"),xf=sd("d"),yf=sd("w"),zf=sd("M"),Af=sd("Q"),Bf=sd("y"),Cf=vd("milliseconds"),Df=vd("seconds"),Ef=vd("minutes"),Ff=vd("hours"),Gf=vd("days"),Hf=vd("months"),If=vd("years"),Jf=Math.round,Kf={ss:44,s:45,m:45,h:22,d:26,M:11},Lf=Math.abs,Mf=Hb.prototype;return Mf.isValid=Fb,Mf.abs=id,Mf.add=kd,Mf.subtract=ld,Mf.as=qd,Mf.asMilliseconds=tf,Mf.asSeconds=uf,Mf.asMinutes=vf,Mf.asHours=wf,Mf.asDays=xf,Mf.asWeeks=yf,Mf.asMonths=zf,Mf.asQuarters=Af,Mf.asYears=Bf,Mf.valueOf=rd,Mf._bubble=nd,Mf.clone=td,Mf.get=ud,Mf.milliseconds=Cf,Mf.seconds=Df,Mf.minutes=Ef,Mf.hours=Ff,Mf.days=Gf,Mf.weeks=wd,Mf.months=Hf,Mf.years=If,Mf.humanize=Bd,Mf.toISOString=Dd,Mf.toString=Dd,Mf.toJSON=Dd,Mf.locale=wc,Mf.localeData=xc,Mf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dd),Mf.lang=ff,P("X",0,0,"unix"),P("x",0,0,"valueOf"),U("x",ge),U("X",je),Y("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Y("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.24.0",b(Ab),a.fn=qf,a.min=Cb,a.max=Db,a.now=$e,a.utc=l,a.unix=Zc,a.months=dd,a.isDate=h,a.locale=ab,a.invalid=p,a.duration=Zb,a.isMoment=s,a.weekdays=fd,a.parseZone=$c,a.localeData=db,a.isDuration=Ib,a.monthsShort=ed,a.weekdaysMin=hd,a.defineLocale=bb,a.updateLocale=cb,a.locales=eb,a.weekdaysShort=gd,a.normalizeUnits=K,a.relativeTimeRounding=zd,a.relativeTimeThreshold=Ad,a.calendarFormat=dc,a.prototype=qf,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}),function(a,b){"use strict";"undefined"!=typeof module&&module.exports?module.exports=b(require("angular")):"function"==typeof define&&define.amd?define(["angular"],b):b(a.angular)}(window,function(a){"use strict";a.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(a,b,c,d,e,f,g){function h(b,f,g,h){function w(a,c){a&&("object"==typeof a?(b.searchStr=C(a),z({originalObject:a})):"string"==typeof a&&a.length>0?b.searchStr=a:console&&console.error&&console.error("Tried to set "+(c?"initial":"")+" value of angucomplete to",a,"which is an invalid value"),F(!0))}function x(a){na=null,b.hideResults(a),document.body.removeEventListener("click",x)}function y(a){return a.which?a.which:a.keyCode}function z(a){"function"==typeof b.selectedObject?b.selectedObject(a,b.selectedObjectData):b.selectedObject=a,F(a?!0:!1)}function A(a){return function(c){return b[a]?b[a](c):c}}function B(a){z({originalObject:a}),b.clearSelected&&(b.searchStr=null),U()}function C(a){return b.titleField.split(",").map(function(b){return D(a,b)}).join(" ")}function D(a,b){var c,d;if(b){c=b.split("."),d=a;for(var e=0;e<c.length;e++)d=d[c[e]]}else d=a;return d}function E(a,c){var e,f,g;return g=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),a?(a.match&&a.replace||(a=a.toString()),f=a.match(g),e=f?a.replace(g,'<span class="'+b.matchClass+'">'+f[0]+"</span>"):a,d.trustAsHtml(e)):void 0}function F(a){b.notEmpty=a,ia=b.searchStr,b.fieldRequired&&h&&b.inputName&&h[b.inputName].$setValidity(ha,a)}function G(a){var c=y(a);if(c!==l&&c!==j)if(c===k||c===n)a.preventDefault();else if(c===i)a.preventDefault(),!b.showDropdown&&b.searchStr&&b.searchStr.length>=fa&&(V(),b.searching=!0,Y(b.searchStr));else if(c===m)U(),b.$apply(function(){ea.val(b.searchStr)});else{if(0===fa&&!b.searchStr)return;b.searchStr&&""!==b.searchStr?b.searchStr.length>=fa&&(V(),ga&&e.cancel(ga),b.searching=!0,ga=e(function(){Y(b.searchStr)},b.pause)):b.showDropdown=!1,ia&&ia!==b.searchStr&&!b.clearSelected&&b.$apply(function(){z()})}}function H(a){!b.overrideSuggestions||b.selectedObject&&b.selectedObject.originalObject===b.searchStr||(a&&a.preventDefault(),e.cancel(ga),R(),B(b.searchStr))}function I(a){var b=getComputedStyle(a);return a.offsetHeight+parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function J(){return la.getBoundingClientRect().top+parseInt(getComputedStyle(la).maxHeight,10)}function K(){return f[0].querySelectorAll(".angucomplete-row")[b.currentIndex]}function L(){return K().getBoundingClientRect().top-(la.getBoundingClientRect().top+parseInt(getComputedStyle(la).paddingTop,10))}function M(a){la.scrollTop=la.scrollTop+a}function N(){var a=b.results[b.currentIndex];b.matchClass?ea.val(C(a.originalObject)):ea.val(a.title)}function O(a){var c=y(a),d=null,e=null;c===n&&b.results?(b.currentIndex>=0&&b.currentIndex<b.results.length?(a.preventDefault(),b.selectResult(b.results[b.currentIndex])):(H(a),U()),b.$apply()):c===i&&b.results?(a.preventDefault(),b.currentIndex+1<b.results.length&&b.showDropdown&&(b.$apply(function(){b.currentIndex++,N()}),ma&&(d=K(),J()<d.getBoundingClientRect().bottom&&M(I(d))))):c===k&&b.results?(a.preventDefault(),b.currentIndex>=1?(b.$apply(function(){b.currentIndex--,N()}),ma&&(e=L(),
0>e&&M(e-1))):0===b.currentIndex&&b.$apply(function(){b.currentIndex=-1,ea.val(b.searchStr)})):c===o?b.results&&b.results.length>0&&b.showDropdown?-1===b.currentIndex&&b.overrideSuggestions?H():(-1===b.currentIndex&&(b.currentIndex=0),b.selectResult(b.results[b.currentIndex]),b.$digest()):b.searchStr&&b.searchStr.length>0&&H():c===m&&a.preventDefault()}function P(a){return function(c,d,e,f){d||e||f||!c.data||(c=c.data),b.searching=!1,Z(D(aa(c),b.remoteUrlDataField),a)}}function Q(a,c,d,e){b.searching=ka,c||d||e||(c=a.status),0!==c&&-1!==c&&(b.remoteUrlErrorCallback?b.remoteUrlErrorCallback(a,c,d,e):console&&console.error&&console.error("http error"))}function R(){ja&&ja.resolve()}function S(d){var e={},f=b.remoteUrl+encodeURIComponent(d);b.remoteUrlRequestFormatter&&(e={params:b.remoteUrlRequestFormatter(d)},f=b.remoteUrl),b.remoteUrlRequestWithCredentials&&(e.withCredentials=!0),R(),ja=a.defer(),e.timeout=ja.promise,ka=!0,c.get(f,e).then(P(d))["catch"](Q)["finally"](function(){ka=!1})}function T(c){R(),ja=a.defer(),b.remoteApiHandler(c,ja.promise).then(P(c))["catch"](Q)}function U(){b.showDropdown=!1,b.results=[],la&&(la.scrollTop=0)}function V(){b.showDropdown=ca,b.currentIndex=b.focusFirst?0:-1,b.results=[]}function W(a){var c,d,e,f,g=b.searchFields.split(","),h=[];for("undefined"!=typeof b.parseInput()&&(a=b.parseInput()(a)),c=0;c<b.localData.length;c++){for(d=!1,e=0;e<g.length;e++)f=D(b.localData[c],g[e])||"",d=d||f.toString().toLowerCase().indexOf(a.toString().toLowerCase())>=0;d&&(h[h.length]=b.localData[c])}return h}function X(a,c,d){if(!d)return!1;for(var e in c)if(c[e].toLowerCase()===d.toLowerCase())return b.selectResult(a),!0;return!1}function Y(a){!a||a.length<fa||(b.localData?b.$apply(function(){var c;c="undefined"!=typeof b.localSearch()?b.localSearch()(a,b.localData):W(a),b.searching=!1,Z(c,a)}):b.remoteApiHandler?T(a):S(a))}function Z(a,c){var d,e,f,g,h,i;if(a&&a.length>0)for(b.results=[],d=0;d<a.length;d++)b.titleField&&""!==b.titleField&&(g=h=C(a[d])),e="",b.descriptionField&&(e=i=D(a[d],b.descriptionField)),f="",b.imageField&&(f=D(a[d],b.imageField)),b.matchClass&&(h=E(g,c),i=E(e,c)),b.results[b.results.length]={title:h,description:i,image:f,originalObject:a[d]};else b.results=[];b.autoMatch&&1===b.results.length&&X(b.results[0],{title:g,desc:e||""},b.searchStr)?b.showDropdown=!1:0!==b.results.length||da?b.showDropdown=!0:b.showDropdown=!1}function $(){b.localData?(b.searching=!1,Z(b.localData,"")):b.remoteApiHandler?(b.searching=!0,T("")):(b.searching=!0,S(""))}var _,aa,ba,ca,da,ea=f.find("input"),fa=p,ga=null,ha=t,ia=null,ja=null,ka=!1,la=f[0].querySelector(".angucomplete-dropdown"),ma=!1,na=null;f.on("mousedown",function(a){a.target.id?(na=a.target.id,na===b.id+"_dropdown"&&document.body.addEventListener("click",x)):na=a.target.className}),b.currentIndex=b.focusFirst?0:null,b.searching=!1,ba=b.$watch("initialValue",function(a){a&&(ba(),w(a,!0))}),b.$watch("fieldRequired",function(a,c){a!==c&&(a?F(ia&&-1!==b.currentIndex?!0:!1):h[b.inputName].$setValidity(ha,!0))}),b.$on("angucomplete-alt:clearInput",function(a,c){c&&c!==b.id||(b.searchStr=null,z(),F(!1),U())}),b.$on("angucomplete-alt:changeInput",function(a,c,d){c&&c===b.id&&w(d)}),b.onFocusHandler=function(){b.focusIn&&b.focusIn(),0!==fa||b.searchStr&&0!==b.searchStr.length||(b.currentIndex=b.focusFirst?0:b.currentIndex,b.showDropdown=!0,$())},b.hideResults=function(){na&&(na===b.id+"_dropdown"||na.indexOf("angucomplete")>=0)?na=null:(_=e(function(){U(),b.$apply(function(){b.searchStr&&b.searchStr.length>0&&ea.val(b.searchStr)})},s),R(),b.focusOut&&b.focusOut(),b.overrideSuggestions&&b.searchStr&&b.searchStr.length>0&&-1===b.currentIndex&&H())},b.resetHideResults=function(){_&&e.cancel(_)},b.hoverRow=function(a){b.currentIndex=a},b.selectResult=function(a){b.matchClass&&(a.title=C(a.originalObject),a.description=D(a.originalObject,b.descriptionField)),b.clearSelected?b.searchStr=null:b.searchStr=a.title,z(a),U()},b.inputChangeHandler=function(a){return a.length<fa?(R(),U()):0===a.length&&0===fa&&$(),b.inputChanged&&(a=b.inputChanged(a)),a},b.fieldRequiredClass&&""!==b.fieldRequiredClass&&(ha=b.fieldRequiredClass),b.minlength&&""!==b.minlength&&(fa=parseInt(b.minlength,10)),b.pause||(b.pause=r),b.clearSelected||(b.clearSelected=!1),b.overrideSuggestions||(b.overrideSuggestions=!1),b.fieldRequired&&h&&F(b.initialValue?!0:!1),b.inputType=g.type?g.type:"text",b.textSearching=g.textSearching?g.textSearching:u,b.textNoResults=g.textNoResults?g.textNoResults:v,ca="false"===b.textSearching?!1:!0,da="false"===b.textNoResults?!1:!0,b.maxlength=g.maxlength?g.maxlength:q,ea.on("keydown",O),ea.on("keyup compositionend",G),aa=A("remoteUrlResponseFormatter"),e(function(){var a=getComputedStyle(la);ma=a.maxHeight&&"auto"===a.overflowY})}var i=40,j=39,k=38,l=37,m=27,n=13,o=9,p=3,q=524288,r=500,s=200,t="autocomplete-required",u="Searching...",v="No results found",w="/angucomplete-alt/index.html";return f.put(w,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" tabindex="{{fieldTabindex}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",selectedObjectData:"=",disableInput:"=",initialValue:"=",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",textSearching:"@",textNoResults:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&"},templateUrl:function(a,b){return b.templateUrl||w},compile:function(a){var b=g.startSymbol(),c=g.endSymbol();if("{{"!==b||"}}"!==c){var d=a.html().replace(/\{\{/g,b).replace(/\}\}/g,c);a.html(d)}return h}}}])}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(function(){try{return require("moment")}catch(a){}}()):"function"==typeof define&&define.amd?define(["require"],function(a){return b(function(){try{return a("moment")}catch(b){}}())}):a.Chart=b(a.moment)}(this,function(a){"use strict";function c(a){var b,c,d,e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),0>b&&(b+=360),d=(h+i)/2,c=i==h?0:.5>=d?j/(i+h):j/(2-i-h),[b,100*c,100*d]}function d(a){var b,c,d,e=a[0],f=a[1],g=a[2],h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return c=0==i?0:j/i*1e3/10,i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),0>b&&(b+=360),d=i/255*1e3/10,[b,c,d]}function e(a){var b=a[0],d=a[1],e=a[2],f=c(a)[0],g=1/255*Math.min(b,Math.min(d,e)),e=1-1/255*Math.max(b,Math.max(d,e));return[f,100*g,100*e]}function f(a){var b,c,d,e,f=a[0]/255,g=a[1]/255,h=a[2]/255;return e=Math.min(1-f,1-g,1-h),b=(1-f-e)/(1-e)||0,c=(1-g-e)/(1-e)||0,d=(1-h-e)/(1-e)||0,[100*b,100*c,100*d,100*e]}function h(a){return ec[JSON.stringify(a)]}function i(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92;var e=.4124*b+.3576*c+.1805*d,f=.2126*b+.7152*c+.0722*d,g=.0193*b+.1192*c+.9505*d;return[100*e,100*f,100*g]}function j(a){var b,c,d,e=i(a),f=e[0],g=e[1],h=e[2];return f/=95.047,g/=100,h/=108.883,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,b=116*g-16,c=500*(f-g),d=200*(g-h),[b,c,d]}function k(a){return K(j(a))}function l(a){var b,c,d,e,f,g=a[0]/360,h=a[1]/100,i=a[2]/100;if(0==h)return f=255*i,[f,f,f];c=.5>i?i*(1+h):i+h-i*h,b=2*i-c,e=[0,0,0];for(var j=0;3>j;j++)d=g+1/3*-(j-1),0>d&&d++,d>1&&d--,f=1>6*d?b+6*(c-b)*d:1>2*d?c:2>3*d?b+(c-b)*(2/3-d)*6:b,e[j]=255*f;return e}function m(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return 0===f?[0,0,0]:(f*=2,e*=1>=f?f:2-f,c=(f+e)/2,b=2*e/(f+e),[d,100*b,100*c])}function n(a){return e(l(a))}function o(a){return f(l(a))}function p(a){return h(l(a))}function q(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=Math.floor(b)%6,f=b-Math.floor(b),g=255*d*(1-c),h=255*d*(1-c*f),i=255*d*(1-c*(1-f)),d=255*d;switch(e){case 0:return[d,i,g];case 1:return[h,d,g];case 2:return[g,d,i];case 3:return[g,h,d];case 4:return[i,g,d];case 5:return[d,g,h]}}function s(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return c=(2-e)*f,b=e*f,b/=1>=c?c:2-c,b=b||0,c/=2,[d,100*b,100*c]}function t(a){return e(q(a))}function u(a){return f(q(a))}function v(a){return h(q(a))}function w(a){var c,d,e,f,h=a[0]/360,i=a[1]/100,j=a[2]/100,k=i+j;switch(k>1&&(i/=k,j/=k),c=Math.floor(6*h),d=1-j,e=6*h-c,0!=(1&c)&&(e=1-e),f=i+e*(d-i),c){default:case 6:case 0:r=d,g=f,b=i;break;case 1:r=f,g=d,b=i;break;case 2:r=i,g=d,b=f;break;case 3:r=i,g=f,b=d;break;case 4:r=f,g=i,b=d;break;case 5:r=d,g=i,b=f}return[255*r,255*g,255*b]}function x(a){return c(w(a))}function y(a){return d(w(a))}function z(a){return f(w(a))}function A(a){return h(w(a))}function B(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100,h=a[3]/100;return b=1-Math.min(1,e*(1-h)+h),c=1-Math.min(1,f*(1-h)+h),d=1-Math.min(1,g*(1-h)+h),[255*b,255*c,255*d]}function C(a){return c(B(a))}function D(a){return d(B(a))}function E(a){return e(B(a))}function F(a){return h(B(a))}function G(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100;return b=3.2406*e+-1.5372*f+g*-.4986,c=e*-.9689+1.8758*f+.0415*g,d=.0557*e+f*-.204+1.057*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=12.92*b,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c=12.92*c,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d=12.92*d,b=Math.min(Math.max(0,b),1),c=Math.min(Math.max(0,c),1),d=Math.min(Math.max(0,d),1),[255*b,255*c,255*d]}function H(a){var b,c,d,e=a[0],f=a[1],g=a[2];return e/=95.047,f/=100,g/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,b=116*f-16,c=500*(e-f),d=200*(f-g),[b,c,d]}function I(a){return K(H(a))}function J(a){var b,c,d,e,f=a[0],g=a[1],h=a[2];return 8>=f?(c=100*f/903.3,e=7.787*(c/100)+16/116):(c=100*Math.pow((f+16)/116,3),e=Math.pow(c/100,1/3)),b=.008856>=b/95.047?b=95.047*(g/500+e-16/116)/7.787:95.047*Math.pow(g/500+e,3),d=.008859>=d/108.883?d=108.883*(e-h/200-16/116)/7.787:108.883*Math.pow(e-h/200,3),[b,c,d]}function K(a){var b,c,d,e=a[0],f=a[1],g=a[2];return b=Math.atan2(g,f),c=360*b/2/Math.PI,0>c&&(c+=360),d=Math.sqrt(f*f+g*g),[e,d,c]}function L(a){return G(J(a))}function M(a){var b,c,d,e=a[0],f=a[1],g=a[2];return d=g/360*2*Math.PI,b=f*Math.cos(d),c=f*Math.sin(d),[e,b,c]}function N(a){return J(M(a))}function O(a){return L(M(a))}function P(a){return dc[a]}function Q(a){return c(P(a))}function R(a){return d(P(a))}function S(a){return e(P(a))}function T(a){return f(P(a))}function U(a){return j(P(a))}function V(a){return i(P(a))}function W(a){if(a){var b=/^#([a-fA-F0-9]{3,4})$/i,c=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,d=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,e=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,f=/(\w+)/,g=[0,0,0],h=1,i=a.match(b),j="";if(i){i=i[1],j=i[3];for(var k=0;k<g.length;k++)g[k]=parseInt(i[k]+i[k],16);j&&(h=Math.round(parseInt(j+j,16)/255*100)/100)}else if(i=a.match(c)){j=i[2],i=i[1];for(var k=0;k<g.length;k++)g[k]=parseInt(i.slice(2*k,2*k+2),16);j&&(h=Math.round(parseInt(j,16)/255*100)/100)}else if(i=a.match(d)){for(var k=0;k<g.length;k++)g[k]=parseInt(i[k+1]);h=parseFloat(i[4])}else if(i=a.match(e)){for(var k=0;k<g.length;k++)g[k]=Math.round(2.55*parseFloat(i[k+1]));h=parseFloat(i[4])}else if(i=a.match(f)){if("transparent"==i[1])return[0,0,0,0];if(g=nc[i[1]],!g)return}for(var k=0;k<g.length;k++)g[k]=ja(g[k],0,255);return h=h||0==h?ja(h,0,1):1,g[3]=h,g}}function X(a){if(a){var b=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=parseFloat(c[4]),e=ja(parseInt(c[1]),0,360),f=ja(parseFloat(c[2]),0,100),g=ja(parseFloat(c[3]),0,100),h=ja(isNaN(d)?1:d,0,1);return[e,f,g,h]}}}function Y(a){if(a){var b=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=parseFloat(c[4]),e=ja(parseInt(c[1]),0,360),f=ja(parseFloat(c[2]),0,100),g=ja(parseFloat(c[3]),0,100),h=ja(isNaN(d)?1:d,0,1);return[e,f,g,h]}}}function Z(a){var b=W(a);return b&&b.slice(0,3)}function $(a){var b=X(a);return b&&b.slice(0,3)}function _(a){var b=W(a);return b?b[3]:(b=X(a))?b[3]:(b=Y(a))?b[3]:void 0}function aa(a,b){var b=void 0!==b&&3===a.length?b:a[3];return"#"+ka(a[0])+ka(a[1])+ka(a[2])+(b>=0&&1>b?ka(Math.round(255*b)):"")}function ba(a,b){return 1>b||a[3]&&a[3]<1?ca(a,b):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function ca(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+b+")"}function da(a,b){if(1>b||a[3]&&a[3]<1)return ea(a,b);var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgb("+c+"%, "+d+"%, "+e+"%)"}function ea(a,b){var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgba("+c+"%, "+d+"%, "+e+"%, "+(b||a[3]||1)+")"}function fa(a,b){return 1>b||a[3]&&a[3]<1?ga(a,b):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"}function ga(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+b+")"}function ha(a,b){return void 0===b&&(b=void 0!==a[3]?a[3]:1),"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==b&&1!==b?", "+b:"")+")"}function ia(a){return pc[a.slice(0,3)]}function ja(a,b,c){return Math.min(Math.max(b,a),c)}function ka(a){var b=a.toString(16).toUpperCase();return b.length<2?"0"+b:b}function la(a){return!a||uc.isNullOrUndef(a.size)||uc.isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function ma(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=Object.keys(c);for(e=0,f=n.length;f>e;++e)if(g=n[e],j=c[g],b.hasOwnProperty(g)||(b[g]=j),h=b[g],h!==j&&"_"!==g[0]){if(a.hasOwnProperty(g)||(a[g]=h),i=a[g],k=typeof j,k===typeof i)if("string"===k){if(l=sc(i),l.valid&&(m=sc(j),m.valid)){b[g]=m.mix(l,d).rgbString();continue}}else if(Jc.isFinite(i)&&Jc.isFinite(j)){b[g]=i+(j-i)*d;continue}b[g]=j}}function na(a,b){return a._chartjs?void a._chartjs.listeners.push(b):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[b]}}),void Tc.forEach(function(b){var c="onData"+b.charAt(0).toUpperCase()+b.slice(1),d=a[b];Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value:function(){var b=Array.prototype.slice.call(arguments),e=d.apply(this,b);return Jc.each(a._chartjs.listeners,function(a){"function"==typeof a[c]&&a[c].apply(a,b)}),e}})}))}function oa(a,b){var c=a._chartjs;if(c){var d=c.listeners,e=d.indexOf(b);-1!==e&&d.splice(e,1),d.length>0||(Tc.forEach(function(b){delete a[b]}),delete a._chartjs)}}function pa(a){var b=this._view;return b?Math.abs(a-b.x)<b.radius+b.hitRadius:!1}function qa(a){var b=this._view;return b?Math.abs(a-b.y)<b.radius+b.hitRadius:!1}function ra(a){return a&&void 0!==a.width}function sa(a){var b,c,d,e,f;return ra(a)?(f=a.width/2,b=a.x-f,c=a.x+f,d=Math.min(a.y,a.base),e=Math.max(a.y,a.base)):(f=a.height/2,b=Math.min(a.x,a.base),c=Math.max(a.x,a.base),d=a.y-f,e=a.y+f),{left:b,top:d,right:c,bottom:e}}function ta(a,b,c){return a===b?c:a===c?b:a}function ua(a){var b=a.borderSkipped,c={};return b?(a.horizontal?a.base>a.x&&(b=ta(b,"left","right")):a.base<a.y&&(b=ta(b,"bottom","top")),c[b]=!0,c):c}function va(a,b,c){var d,e,f,g,h=a.borderWidth,i=ua(a);return Jc.isObject(h)?(d=+h.top||0,e=+h.right||0,f=+h.bottom||0,g=+h.left||0):d=e=f=g=+h||0,{t:i.top||0>d?0:d>c?c:d,r:i.right||0>e?0:e>b?b:e,b:i.bottom||0>f?0:f>c?c:f,l:i.left||0>g?0:g>b?b:g}}function wa(a){var b=sa(a),c=b.right-b.left,d=b.bottom-b.top,e=va(a,c/2,d/2);return{outer:{x:b.left,y:b.top,w:c,h:d},inner:{x:b.left+e.l,y:b.top+e.t,w:c-e.l-e.r,h:d-e.t-e.b}}}function xa(a,b,c){var d=null===b,e=null===c,f=!a||d&&e?!1:sa(a);return f&&(d||b>=f.left&&b<=f.right)&&(e||c>=f.top&&c<=f.bottom)}function ya(a,b){var c,d,e,f,g=a.isHorizontal()?a.width:a.height,h=a.getTicks();for(e=1,f=b.length;f>e;++e)g=Math.min(g,Math.abs(b[e]-b[e-1]));for(e=0,f=h.length;f>e;++e)d=a.getPixelForTick(e),g=e>0?Math.min(g,d-c):g,c=d;return g}function za(a,b,c){var d,e,f=c.barThickness,g=b.stackCount,h=b.pixels[a];return Jc.isNullOrUndef(f)?(d=b.min*c.categoryPercentage,e=c.barPercentage):(d=f*g,e=1),{chunk:d/g,ratio:e,start:h-d/2}}function Aa(a,b,c){var d,e,f=b.pixels,g=f[a],h=a>0?f[a-1]:null,i=a<f.length-1?f[a+1]:null,j=c.categoryPercentage;return null===h&&(h=g-(null===i?b.end-b.start:i-g)),null===i&&(i=g+g-h),d=g-(g-Math.min(h,i))/2*j,e=Math.abs(i-h)/2*j,{chunk:e/b.stackCount,ratio:c.barPercentage,start:d}}function Ba(a,b){return rd(a.showLine,b.showLines)}function Ca(a,b){return a["native"]?{x:a.x,y:a.y}:Jc.getRelativePosition(a,b)}function Da(a,b){var c,d,e,f,g,h=a.data.datasets;for(d=0,f=h.length;f>d;++d)if(a.isDatasetVisible(d))for(c=a.getDatasetMeta(d),e=0,g=c.data.length;g>e;++e){var i=c.data[e];i._view.skip||b(i)}}function Ea(a,b){var c=[];return Da(a,function(a){a.inRange(b.x,b.y)&&c.push(a)}),c}function Fa(a,b,c,d){var e=Number.POSITIVE_INFINITY,f=[];return Da(a,function(a){if(!c||a.inRange(b.x,b.y)){var g=a.getCenterPoint(),h=d(b,g);e>h?(f=[a],e=h):h===e&&f.push(a)}}),f}function Ga(a){var b=-1!==a.indexOf("x"),c=-1!==a.indexOf("y");return function(a,d){var e=b?Math.abs(a.x-d.x):0,f=c?Math.abs(a.y-d.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(f,2))}}function Ha(a,b,c){var d=Ca(b,a);c.axis=c.axis||"x";var e=Ga(c.axis),f=c.intersect?Ea(a,d):Fa(a,d,!1,e),g=[];return f.length?(a.data.datasets.forEach(function(b,c){if(a.isDatasetVisible(c)){var d=a.getDatasetMeta(c),e=d.data[f[0]._index];e&&!e._view.skip&&g.push(e)}}),g):[]}function Ia(a,b){return Jc.where(a,function(a){return a.position===b})}function Ja(a,b){a.forEach(function(a,b){return a._tmpIndex_=b,a}),a.sort(function(a,c){var d=b?c:a,e=b?a:c;return d.weight===e.weight?d._tmpIndex_-e._tmpIndex_:d.weight-e.weight}),a.forEach(function(a){delete a._tmpIndex_})}function Ka(a){var b=0,c=0,d=0,e=0;return Jc.each(a,function(a){if(a.getPadding){var f=a.getPadding();b=Math.max(b,f.top),c=Math.max(c,f.left),d=Math.max(d,f.bottom),e=Math.max(e,f.right)}}),{top:b,left:c,bottom:d,right:e}}function La(a,b){Jc.each(a,function(a){b[a.position]+=a.isHorizontal()?a.height:a.width})}function Ma(a){return a&&a["default"]||a}function Na(a,b){var c=Jc.getStyle(a,b),d=c&&c.match(/^(\d+)(\.\d+)?px$/);return d?Number(d[1]):void 0}function Oa(a,b){var c=a.style,d=a.getAttribute("height"),e=a.getAttribute("width");if(a[Jd]={initial:{height:d,width:e,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",null===e||""===e){var f=Na(a,"width");void 0!==f&&(a.width=f)}if(null===d||""===d)if(""===a.style.height)a.height=a.width/(b.options.aspectRatio||2);else{var g=Na(a,"height");void 0!==f&&(a.height=g)}return a}function Pa(a,b,c){a.addEventListener(b,c,Rd)}function Qa(a,b,c){a.removeEventListener(b,c,Rd)}function Ra(a,b,c,d,e){return{type:a,chart:b,"native":e||null,x:void 0!==c?c:null,y:void 0!==d?d:null}}function Sa(a,b){var c=Pd[a.type]||a.type,d=Jc.getRelativePosition(a,b);return Ra(c,b,d.x,d.y,a)}function Ta(a,b){var c=!1,d=[];return function(){d=Array.prototype.slice.call(arguments),b=b||this,c||(c=!0,Jc.requestAnimFrame.call(window,function(){c=!1,a.apply(b,d)}))}}function Ua(a){var b=document.createElement("div");return b.className=a||"",b}function Va(a){var b=1e6,c=Ua(Ld),d=Ua(Ld+"-expand"),e=Ua(Ld+"-shrink");d.appendChild(Ua()),e.appendChild(Ua()),c.appendChild(d),c.appendChild(e),c._reset=function(){d.scrollLeft=b,d.scrollTop=b,e.scrollLeft=b,e.scrollTop=b};var f=function(){c._reset(),a()};return Pa(d,"scroll",f.bind(d,"expand")),Pa(e,"scroll",f.bind(e,"shrink")),c}function Wa(a,b){var c=a[Jd]||(a[Jd]={}),d=c.renderProxy=function(a){a.animationName===Nd&&b()};Jc.each(Od,function(b){Pa(a,b,d)}),c.reflow=!!a.offsetParent,a.classList.add(Md)}function Xa(a){var b=a[Jd]||{},c=b.renderProxy;c&&(Jc.each(Od,function(b){Qa(a,b,c)}),delete b.renderProxy),a.classList.remove(Md)}function Ya(a,b,c){var d=a[Jd]||(a[Jd]={}),e=d.resizer=Va(Ta(function(){if(d.resizer){var e=c.options.maintainAspectRatio&&a.parentNode,f=e?e.clientWidth:0;b(Ra("resize",c)),e&&e.clientWidth<f&&c.canvas&&b(Ra("resize",c))}}));Wa(a,function(){if(d.resizer){var b=a.parentNode;b&&b!==e.parentNode&&b.insertBefore(e,b.firstChild),e._reset()}})}function Za(a){var b=a[Jd]||{},c=b.resizer;delete b.resizer,Xa(a),c&&c.parentNode&&c.parentNode.removeChild(c)}function $a(a,b){var c=a._style||document.createElement("style");a._style||(a._style=c,b="/* Chart.js */\n"+b,c.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(c)),c.appendChild(document.createTextNode(b))}function _a(a,b){return b&&(Jc.isArray(b)?Array.prototype.push.apply(a,b):a.push(b)),a}function ab(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function bb(a){var b=a._xScale,c=a._yScale||a._scale,d=a._index,e=a._datasetIndex,f=a._chart.getDatasetMeta(e).controller,g=f._getIndexScale(),h=f._getValueScale();return{xLabel:b?b.getLabelForIndex(d,e):"",yLabel:c?c.getLabelForIndex(d,e):"",label:g?""+g.getLabelForIndex(d,e):"",value:h?""+h.getLabelForIndex(d,e):"",index:d,datasetIndex:e,x:a._model.x,y:a._model.y}}function cb(a){var b=Gc.global;return{xPadding:a.xPadding,yPadding:a.yPadding,xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:Xd(a.bodyFontFamily,b.defaultFontFamily),_bodyFontStyle:Xd(a.bodyFontStyle,b.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:Xd(a.bodyFontSize,b.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:Xd(a.titleFontFamily,b.defaultFontFamily),_titleFontStyle:Xd(a.titleFontStyle,b.defaultFontStyle),titleFontSize:Xd(a.titleFontSize,b.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:Xd(a.footerFontFamily,b.defaultFontFamily),_footerFontStyle:Xd(a.footerFontStyle,b.defaultFontStyle),footerFontSize:Xd(a.footerFontSize,b.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,borderColor:a.borderColor,borderWidth:a.borderWidth}}function db(a,b){var c=a._chart.ctx,d=2*b.yPadding,e=0,f=b.body,g=f.reduce(function(a,b){return a+b.before.length+b.lines.length+b.after.length},0);g+=b.beforeBody.length+b.afterBody.length;var h=b.title.length,i=b.footer.length,j=b.titleFontSize,k=b.bodyFontSize,l=b.footerFontSize;d+=h*j,d+=h?(h-1)*b.titleSpacing:0,d+=h?b.titleMarginBottom:0,d+=g*k,d+=g?(g-1)*b.bodySpacing:0,d+=i?b.footerMarginTop:0,d+=i*l,d+=i?(i-1)*b.footerSpacing:0;var m=0,n=function(a){e=Math.max(e,c.measureText(a).width+m)};return c.font=Jc.fontString(j,b._titleFontStyle,b._titleFontFamily),Jc.each(b.title,n),c.font=Jc.fontString(k,b._bodyFontStyle,b._bodyFontFamily),Jc.each(b.beforeBody.concat(b.afterBody),n),m=b.displayColors?k+2:0,Jc.each(f,function(a){Jc.each(a.before,n),Jc.each(a.lines,n),Jc.each(a.after,n)}),m=0,c.font=Jc.fontString(l,b._footerFontStyle,b._footerFontFamily),Jc.each(b.footer,n),e+=2*b.xPadding,{width:e,height:d}}function eb(a,b){var c=a._model,d=a._chart,e=a._chart.chartArea,f="center",g="center";c.y<b.height?g="top":c.y>d.height-b.height&&(g="bottom");var h,i,j,k,l,m=(e.left+e.right)/2,n=(e.top+e.bottom)/2;"center"===g?(h=function(a){return m>=a},i=function(a){return a>m}):(h=function(a){return a<=b.width/2},i=function(a){return a>=d.width-b.width/2}),j=function(a){return a+b.width+c.caretSize+c.caretPadding>d.width},k=function(a){return a-b.width-c.caretSize-c.caretPadding<0},l=function(a){return n>=a?"top":"bottom"},h(c.x)?(f="left",j(c.x)&&(f="center",g=l(c.y))):i(c.x)&&(f="right",k(c.x)&&(f="center",g=l(c.y)));var o=a._options;return{xAlign:o.xAlign?o.xAlign:f,yAlign:o.yAlign?o.yAlign:g}}function fb(a,b,c,d){var e=a.x,f=a.y,g=a.caretSize,h=a.caretPadding,i=a.cornerRadius,j=c.xAlign,k=c.yAlign,l=g+h,m=i+h;return"right"===j?e-=b.width:"center"===j&&(e-=b.width/2,e+b.width>d.width&&(e=d.width-b.width),0>e&&(e=0)),"top"===k?f+=l:f-="bottom"===k?b.height+l:b.height/2,"center"===k?"left"===j?e+=l:"right"===j&&(e-=l):"left"===j?e-=m:"right"===j&&(e+=m),{x:e,y:f}}function gb(a,b){return"center"===b?a.x+a.width/2:"right"===b?a.x+a.width-a.xPadding:a.x+a.xPadding}function hb(a){return _a([],ab(a))}function ib(){return Jc.merge({},[].slice.call(arguments),{merger:function(a,b,c,d){if("xAxes"===a||"yAxes"===a){var e,f,g,h=c[a].length;for(b[a]||(b[a]=[]),e=0;h>e;++e)g=c[a][e],f=ae(g.type,"xAxes"===a?"category":"linear"),e>=b[a].length&&b[a].push({}),!b[a][e].type||g.type&&g.type!==b[a][e].type?Jc.merge(b[a][e],[Wd.getScaleDefaults(f),g]):Jc.merge(b[a][e],g)}else Jc._merger(a,b,c,d)}})}function jb(){return Jc.merge({},[].slice.call(arguments),{merger:function(a,b,c,d){var e=b[a]||{},f=c[a];"scales"===a?b[a]=ib(e,f):"scale"===a?b[a]=Jc.merge(e,[Wd.getScaleDefaults(f.type),f]):Jc._merger(a,b,c,d)}})}function kb(a){a=a||{};var b=a.data=a.data||{};return b.datasets=b.datasets||[],b.labels=b.labels||[],a.options=jb(Gc.global,Gc[a.type],a.options||{}),a}function lb(a){var b=a.options;Jc.each(a.scales,function(b){Ed.removeBox(a,b)}),b=jb(Gc.global,Gc[a.config.type],b),a.options=a.config.options=b,a.ensureScalesHaveIDs(),a.buildOrUpdateScales(),a.tooltip._options=b.tooltips,a.tooltip.initialize()}function mb(a){return"top"===a||"bottom"===a}function nb(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ob(a){this.options=a||{}}function pb(a){var b,c,d=[];for(b=0,c=a.length;c>b;++b)d.push(a[b].label);return d}function qb(a,b,c){var d=a.getPixelForTick(b);return c&&(d-=1===a.getTicks().length?a.isHorizontal()?Math.max(d-a.left,a.right-d):Math.max(d-a.top,a.bottom-d):0===b?(a.getPixelForTick(1)-d)/2:(d-a.getPixelForTick(b-1))/2),d}function rb(a,b,c){return Jc.isArray(b)?Jc.longestText(a,c,b):a.measureText(b).width}function sb(a,b){var c,d,e,f,g=[],h=1e-14,i=a.stepSize,j=i||1,k=a.maxTicks-1,l=a.min,m=a.max,n=a.precision,o=b.min,p=b.max,q=Jc.niceNum((p-o)/k/j)*j;if(h>q&&oe(l)&&oe(m))return[o,p];f=Math.ceil(p/q)-Math.floor(o/q),f>k&&(q=Jc.niceNum(f*q/k/j)*j),i||oe(n)?c=Math.pow(10,Jc._decimalPlaces(q)):(c=Math.pow(10,n),q=Math.ceil(q*c)/c),d=Math.floor(o/q)*q,e=Math.ceil(p/q)*q,i&&(!oe(l)&&Jc.almostWhole(l/q,q/1e3)&&(d=l),!oe(m)&&Jc.almostWhole(m/q,q/1e3)&&(e=m)),f=(e-d)/q,f=Jc.almostEquals(f,Math.round(f),q/1e3)?Math.round(f):Math.ceil(f),d=Math.round(d*c)/c,e=Math.round(e*c)/c,g.push(oe(l)?d:l);for(var r=1;f>r;++r)g.push(Math.round((d+r*q)*c)/c);return g.push(oe(m)?e:m),g}function tb(a,b){var c,d,e=[],f=te(a.min,Math.pow(10,Math.floor(Jc.log10(b.min)))),g=Math.floor(Jc.log10(b.max)),h=Math.ceil(b.max/Math.pow(10,g));0===f?(c=Math.floor(Jc.log10(b.minNotZero)),d=Math.floor(b.minNotZero/Math.pow(10,c)),e.push(f),f=d*Math.pow(10,c)):(c=Math.floor(Jc.log10(f)),d=Math.floor(f/Math.pow(10,c)));var i=0>c?Math.pow(10,Math.abs(c)):1;do e.push(f),++d,10===d&&(d=1,++c,i=c>=0?1:i),f=Math.round(d*Math.pow(10,c)*i)/i;while(g>c||c===g&&h>d);var j=te(a.max,f);return e.push(j),e}function ub(a,b){return Jc.isFinite(a)&&a>=0?a:b}function vb(a){var b=a.options;return b.angleLines.display||b.pointLabels.display?a.chart.data.labels.length:0}function wb(a){var b=a.ticks;return b.display&&a.display?xe(b.fontSize,Gc.global.defaultFontSize)+2*b.backdropPaddingY:0}function xb(a,b,c){return Jc.isArray(c)?{w:Jc.longestText(a,a.font,c),h:c.length*b}:{w:a.measureText(c).width,h:b}}function yb(a,b,c,d,e){return a===d||a===e?{start:b-c/2,end:b+c/2}:d>a||a>e?{start:b-c,end:b}:{start:b,end:b+c}}function zb(a){var b,c,d,e=Jc.options._parseFont(a.options.pointLabels),f={l:0,r:a.width,t:0,b:a.height-a.paddingTop},g={};a.ctx.font=e.string,a._pointLabelSizes=[];var h=vb(a);for(b=0;h>b;b++){d=a.getPointPosition(b,a.drawingArea+5),c=xb(a.ctx,e.lineHeight,a.pointLabels[b]||""),a._pointLabelSizes[b]=c;var i=a.getIndexAngle(b),j=Jc.toDegrees(i)%360,k=yb(j,d.x,c.w,0,180),l=yb(j,d.y,c.h,90,270);k.start<f.l&&(f.l=k.start,g.l=i),k.end>f.r&&(f.r=k.end,g.r=i),l.start<f.t&&(f.t=l.start,g.t=i),l.end>f.b&&(f.b=l.end,g.b=i)}a.setReductions(a.drawingArea,f,g)}function Ab(a){return 0===a||180===a?"center":180>a?"left":"right"}function Bb(a,b,c,d){var e,f,g=c.y+d/2;if(Jc.isArray(b))for(e=0,f=b.length;f>e;++e)a.fillText(b[e],c.x,g),g+=d;else a.fillText(b,c.x,g)}function Cb(a,b,c){90===a||270===a?c.y-=b.h/2:(a>270||90>a)&&(c.y-=b.h)}function Db(a){var b=a.ctx,c=a.options,d=c.angleLines,e=c.gridLines,f=c.pointLabels,g=xe(d.lineWidth,e.lineWidth),h=xe(d.color,e.color),i=wb(c);b.save(),b.lineWidth=g,b.strokeStyle=h,b.setLineDash&&(b.setLineDash(ze([d.borderDash,e.borderDash,[]])),b.lineDashOffset=ze([d.borderDashOffset,e.borderDashOffset,0]));var j=a.getDistanceFromCenterForValue(c.ticks.reverse?a.min:a.max),k=Jc.options._parseFont(f);b.font=k.string,b.textBaseline="middle";for(var l=vb(a)-1;l>=0;l--){if(d.display&&g&&h){var m=a.getPointPosition(l,j);b.beginPath(),b.moveTo(a.xCenter,a.yCenter),b.lineTo(m.x,m.y),b.stroke()}if(f.display){var n=0===l?i/2:0,o=a.getPointPosition(l,j+n+5),p=ye(f.fontColor,l,Gc.global.defaultFontColor);b.fillStyle=p;var q=a.getIndexAngle(l),r=Jc.toDegrees(q);b.textAlign=Ab(r),Cb(r,a._pointLabelSizes[l],o),Bb(b,a.pointLabels[l]||"",o,k.lineHeight)}}b.restore()}function Eb(a,b,c,d){var e,f=a.ctx,g=b.circular,h=vb(a),i=ye(b.color,d-1),j=ye(b.lineWidth,d-1);if((g||h)&&i&&j){if(f.save(),f.strokeStyle=i,f.lineWidth=j,f.setLineDash&&(f.setLineDash(b.borderDash||[]),f.lineDashOffset=b.borderDashOffset||0),f.beginPath(),g)f.arc(a.xCenter,a.yCenter,c,0,2*Math.PI);else{e=a.getPointPosition(0,c),f.moveTo(e.x,e.y);for(var k=1;h>k;k++)e=a.getPointPosition(k,c),
f.lineTo(e.x,e.y)}f.closePath(),f.stroke(),f.restore()}}function Fb(a){return Jc.isNumber(a)?a:0}function Gb(a,b){return a-b}function Hb(a){var b,c,d,e={},f=[];for(b=0,c=a.length;c>b;++b)d=a[b],e[d]||(e[d]=!0,f.push(d));return f}function Ib(a,b,c,d){if("linear"===d||!a.length)return[{time:b,pos:0},{time:c,pos:1}];var e,f,g,h,i,j=[],k=[b];for(e=0,f=a.length;f>e;++e)h=a[e],h>b&&c>h&&k.push(h);for(k.push(c),e=0,f=k.length;f>e;++e)i=k[e+1],g=k[e-1],h=k[e],(void 0===g||void 0===i||Math.round((i+g)/2)!==h)&&j.push({time:h,pos:e/(f-1)});return j}function Jb(a,b,c){for(var d,e,f,g=0,h=a.length-1;g>=0&&h>=g;){if(d=g+h>>1,e=a[d-1]||null,f=a[d],!e)return{lo:null,hi:f};if(f[b]<c)g=d+1;else{if(!(e[b]>c))return{lo:e,hi:f};h=d-1}}return{lo:f,hi:null}}function Kb(a,b,c,d){var e=Jb(a,b,c),f=e.lo?e.hi?e.lo:a[a.length-2]:a[0],g=e.lo?e.hi?e.hi:a[a.length-1]:a[1],h=g[b]-f[b],i=h?(c-f[b])/h:0,j=(g[d]-f[d])*i;return f[d]+j}function Lb(a,b){var c=a._adapter,d=a.options.time,e=d.parser,f=e||d.format,g=b;return"function"==typeof e&&(g=e(g)),Jc.isFinite(g)||(g="string"==typeof f?c.parse(g,f):c.parse(g)),null!==g?+g:(e||"function"!=typeof f||(g=f(b),Jc.isFinite(g)||(g=c.parse(g))),g)}function Mb(a,b){if(Jc.isNullOrUndef(b))return null;var c=a.options.time,d=Lb(a,a.getRightValue(b));return null===d?d:(c.round&&(d=+a._adapter.startOf(d,c.round)),d)}function Nb(a,b,c,d){var e,f,g,h=b-a,i=Ge[c],j=i.size,k=i.steps;if(!k)return Math.ceil(h/(d*j));for(e=0,f=k.length;f>e&&(g=k[e],!(Math.ceil(h/(j*g))<=d));++e);return g}function Ob(a,b,c,d){var e,f,g,h=He.length;for(e=He.indexOf(a);h-1>e;++e)if(f=Ge[He[e]],g=f.steps?f.steps[f.steps.length-1]:Fe,f.common&&Math.ceil((c-b)/(g*f.size))<=d)return He[e];return He[h-1]}function Pb(a,b,c,d,e){var f,g,h=He.length;for(f=h-1;f>=He.indexOf(c);f--)if(g=He[f],Ge[g].common&&a._adapter.diff(e,d,g)>=b.length)return g;return He[c?He.indexOf(c):0]}function Qb(a){for(var b=He.indexOf(a)+1,c=He.length;c>b;++b)if(Ge[He[b]].common)return He[b]}function Rb(a,b,c,d){var e,f=a._adapter,g=a.options,h=g.time,i=h.unit||Ob(h.minUnit,b,c,d),j=Qb(i),k=De(h.stepSize,h.unitStepSize),l="week"===i?h.isoWeekday:!1,m=g.ticks.major.enabled,n=Ge[i],o=b,p=c,q=[];for(k||(k=Nb(b,c,i,d)),l&&(o=+f.startOf(o,"isoWeek",l),p=+f.startOf(p,"isoWeek",l)),o=+f.startOf(o,l?"day":i),p=+f.startOf(p,l?"day":i),c>p&&(p=+f.add(p,1,i)),e=o,m&&j&&!l&&!h.round&&(e=+f.startOf(e,j),e=+f.add(e,~~((o-e)/(n.size*k))*k,i));p>e;e=+f.add(e,k,i))q.push(+e);return q.push(+e),q}function Sb(a,b,c,d,e){var f,g,h=0,i=0;return e.offset&&b.length&&(e.time.min||(f=Kb(a,"time",b[0],"pos"),h=1===b.length?1-f:(Kb(a,"time",b[1],"pos")-f)/2),e.time.max||(g=Kb(a,"time",b[b.length-1],"pos"),i=1===b.length?g:(g-Kb(a,"time",b[b.length-2],"pos"))/2)),{start:h,end:i}}function Tb(a,b,c){var d,e,f,g,h=[];for(d=0,e=b.length;e>d;++d)f=b[d],g=c?f===+a._adapter.startOf(f,c):!1,h.push({value:f,major:g});return h}function Ub(a,b,c){var d,e=a._model||{},f=e.fill;if(void 0===f&&(f=!!e.backgroundColor),f===!1||null===f)return!1;if(f===!0)return"origin";if(d=parseFloat(f,10),isFinite(d)&&Math.floor(d)===d)return("-"===f[0]||"+"===f[0])&&(d=b+d),d===b||0>d||d>=c?!1:d;switch(f){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return f;default:return!1}}function Vb(a){var b,c=a.el._model||{},d=a.el._scale||{},e=a.fill,f=null;if(isFinite(e))return null;if("start"===e?f=void 0===c.scaleBottom?d.bottom:c.scaleBottom:"end"===e?f=void 0===c.scaleTop?d.top:c.scaleTop:void 0!==c.scaleZero?f=c.scaleZero:d.getBasePosition?f=d.getBasePosition():d.getBasePixel&&(f=d.getBasePixel()),void 0!==f&&null!==f){if(void 0!==f.x&&void 0!==f.y)return f;if(Jc.isFinite(f))return b=d.isHorizontal(),{x:b?f:null,y:b?null:f}}return null}function Wb(a,b,c){var d,e=a[b],f=e.fill,g=[b];if(!c)return f;for(;f!==!1&&-1===g.indexOf(f);){if(!isFinite(f))return f;if(d=a[f],!d)return!1;if(d.visible)return f;g.push(f),f=d.fill}return!1}function Xb(a){var b=a.fill,c="dataset";return b===!1?null:(isFinite(b)||(c="boundary"),Ne[c](a))}function Yb(a){return a&&!a.skip}function Zb(a,b,c,d,e){var f;if(d&&e){for(a.moveTo(b[0].x,b[0].y),f=1;d>f;++f)Jc.canvas.lineTo(a,b[f-1],b[f]);for(a.lineTo(c[e-1].x,c[e-1].y),f=e-1;f>0;--f)Jc.canvas.lineTo(a,c[f],c[f-1],!0)}}function $b(a,b,c,d,e,f){var g,h,i,j,k,l,m,n=b.length,o=d.spanGaps,p=[],q=[],r=0,s=0;for(a.beginPath(),g=0,h=n+!!f;h>g;++g)i=g%n,j=b[i]._view,k=c(j,i,d),l=Yb(j),m=Yb(k),l&&m?(r=p.push(j),s=q.push(k)):r&&s&&(o?(l&&p.push(j),m&&q.push(k)):(Zb(a,p,q,r,s),r=s=0,p=[],q=[]));Zb(a,p,q,r,s),a.closePath(),a.fillStyle=e,a.fill()}function _b(a,b){return a.usePointStyle&&a.boxWidth>b?b:a.boxWidth}function ac(a,b){var c=new Re({ctx:a.ctx,options:b,chart:a});Ed.configure(a,c,b),Ed.addBox(a,c),a.legend=c}function bc(a,b){var c=new Ue({ctx:a.ctx,options:b,chart:a});Ed.configure(a,c,b),Ed.addBox(a,c),a.titleBlock=c}a=a&&a.hasOwnProperty("default")?a["default"]:a;var cc={rgb2hsl:c,rgb2hsv:d,rgb2hwb:e,rgb2cmyk:f,rgb2keyword:h,rgb2xyz:i,rgb2lab:j,rgb2lch:k,hsl2rgb:l,hsl2hsv:m,hsl2hwb:n,hsl2cmyk:o,hsl2keyword:p,hsv2rgb:q,hsv2hsl:s,hsv2hwb:t,hsv2cmyk:u,hsv2keyword:v,hwb2rgb:w,hwb2hsl:x,hwb2hsv:y,hwb2cmyk:z,hwb2keyword:A,cmyk2rgb:B,cmyk2hsl:C,cmyk2hsv:D,cmyk2hwb:E,cmyk2keyword:F,keyword2rgb:P,keyword2hsl:Q,keyword2hsv:R,keyword2hwb:S,keyword2cmyk:T,keyword2lab:U,keyword2xyz:V,xyz2rgb:G,xyz2lab:H,xyz2lch:I,lab2xyz:J,lab2rgb:L,lab2lch:K,lch2lab:M,lch2xyz:N,lch2rgb:O},dc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ec={};for(var fc in dc)ec[JSON.stringify(dc[fc])]=fc;var gc=function(){return new lc};for(var hc in cc){gc[hc+"Raw"]=function(a){return function(b){return"number"==typeof b&&(b=Array.prototype.slice.call(arguments)),cc[a](b)}}(hc);var ic=/(\w+)2(\w+)/.exec(hc),jc=ic[1],kc=ic[2];gc[jc]=gc[jc]||{},gc[jc][kc]=gc[hc]=function(a){return function(b){"number"==typeof b&&(b=Array.prototype.slice.call(arguments));var c=cc[a](b);if("string"==typeof c||void 0===c)return c;for(var d=0;d<c.length;d++)c[d]=Math.round(c[d]);return c}}(hc)}var lc=function(){this.convs={}};lc.prototype.routeSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c))},lc.prototype.setValues=function(a,b){return this.space=a,this.convs={},this.convs[a]=b,this},lc.prototype.getValues=function(a){var b=this.convs[a];if(!b){var c=this.space,d=this.convs[c];b=gc[c][a](d),this.convs[a]=b}return b},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){lc.prototype[a]=function(b){return this.routeSpace(a,arguments)}});var mc=gc,nc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},oc={getRgba:W,getHsla:X,getRgb:Z,getHsl:$,getHwb:Y,getAlpha:_,hexString:aa,rgbString:ba,rgbaString:ca,percentString:da,percentaString:ea,hslString:fa,hslaString:ga,hwbString:ha,keyword:ia},pc={};for(var qc in nc)pc[nc[qc]]=qc;var rc=function(a){if(a instanceof rc)return a;if(!(this instanceof rc))return new rc(a);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var b;"string"==typeof a?(b=oc.getRgba(a),b?this.setValues("rgb",b):(b=oc.getHsla(a))?this.setValues("hsl",b):(b=oc.getHwb(a))&&this.setValues("hwb",b)):"object"==typeof a&&(b=a,void 0!==b.r||void 0!==b.red?this.setValues("rgb",b):void 0!==b.l||void 0!==b.lightness?this.setValues("hsl",b):void 0!==b.v||void 0!==b.value?this.setValues("hsv",b):void 0!==b.w||void 0!==b.whiteness?this.setValues("hwb",b):(void 0!==b.c||void 0!==b.cyan)&&this.setValues("cmyk",b))};rc.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a%=360,a=0>a?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return oc.hexString(this.values.rgb)},rgbString:function(){return oc.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return oc.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return oc.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return oc.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return oc.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return oc.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return oc.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=this.values.rgb,b=[],c=0;c<a.length;c++){var d=a[c]/255;b[c]=.03928>=d?d/12.92:Math.pow((d+.055)/1.055,2.4)}return.2126*b[0]+.7152*b[1]+.0722*b[2]},contrast:function(a){var b=this.luminosity(),c=a.luminosity();return b>c?(b+.05)/(c+.05):(c+.05)/(b+.05)},level:function(a){var b=this.contrast(a);return b>=7.1?"AAA":b>=4.5?"AA":""},dark:function(){var a=this.values.rgb,b=(299*a[0]+587*a[1]+114*a[2])/1e3;return 128>b},light:function(){return!this.dark()},negate:function(){for(var a=[],b=0;3>b;b++)a[b]=255-this.values.rgb[b];return this.setValues("rgb",a),this},lighten:function(a){var b=this.values.hsl;return b[2]+=b[2]*a,this.setValues("hsl",b),this},darken:function(a){var b=this.values.hsl;return b[2]-=b[2]*a,this.setValues("hsl",b),this},saturate:function(a){var b=this.values.hsl;return b[1]+=b[1]*a,this.setValues("hsl",b),this},desaturate:function(a){var b=this.values.hsl;return b[1]-=b[1]*a,this.setValues("hsl",b),this},whiten:function(a){var b=this.values.hwb;return b[1]+=b[1]*a,this.setValues("hwb",b),this},blacken:function(a){var b=this.values.hwb;return b[2]+=b[2]*a,this.setValues("hwb",b),this},greyscale:function(){var a=this.values.rgb,b=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[b,b,b]),this},clearer:function(a){var b=this.values.alpha;return this.setValues("alpha",b-b*a),this},opaquer:function(a){var b=this.values.alpha;return this.setValues("alpha",b+b*a),this},rotate:function(a){var b=this.values.hsl,c=(b[0]+a)%360;return b[0]=0>c?360+c:c,this.setValues("hsl",b),this},mix:function(a,b){var c=this,d=a,e=void 0===b?.5:b,f=2*e-1,g=c.alpha()-d.alpha(),h=((f*g===-1?f:(f+g)/(1+f*g))+1)/2,i=1-h;return this.rgb(h*c.red()+i*d.red(),h*c.green()+i*d.green(),h*c.blue()+i*d.blue()).alpha(c.alpha()*e+d.alpha()*(1-e))},toJSON:function(){return this.rgb()},clone:function(){var a,b,c=new rc,d=this.values,e=c.values;for(var f in d)d.hasOwnProperty(f)&&(a=d[f],b={}.toString.call(a),"[object Array]"===b?e[f]=a.slice(0):"[object Number]"===b?e[f]=a:console.error("unexpected color value:",a));return c}},rc.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},rc.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},rc.prototype.getValues=function(a){for(var b=this.values,c={},d=0;d<a.length;d++)c[a.charAt(d)]=b[a][d];return 1!==b.alpha&&(c.a=b.alpha),c},rc.prototype.setValues=function(a,b){var c,d=this.values,e=this.spaces,f=this.maxes,g=1;if(this.valid=!0,"alpha"===a)g=b;else if(b.length)d[a]=b.slice(0,a.length),g=b[a.length];else if(void 0!==b[a.charAt(0)]){for(c=0;c<a.length;c++)d[a][c]=b[a.charAt(c)];g=b.a}else if(void 0!==b[e[a][0]]){var h=e[a];for(c=0;c<a.length;c++)d[a][c]=b[h[c]];g=b.alpha}if(d.alpha=Math.max(0,Math.min(1,void 0===g?d.alpha:g)),"alpha"===a)return!1;var i;for(c=0;c<a.length;c++)i=Math.max(0,Math.min(f[a][c],d[a][c])),d[a][c]=Math.round(i);for(var j in e)j!==a&&(d[j]=mc[a][j](d[a]));return!0},rc.prototype.setSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c),this)},rc.prototype.setChannel=function(a,b,c){var d=this.values[a];return void 0===c?d[b]:c===d[b]?this:(d[b]=c,this.setValues(a,d),this)},"undefined"!=typeof window&&(window.Color=rc);var sc=rc,tc={noop:function(){},uid:function(){var a=0;return function(){return a++}}(),isNullOrUndef:function(a){return null===a||"undefined"==typeof a},isArray:function(a){if(Array.isArray&&Array.isArray(a))return!0;var b=Object.prototype.toString.call(a);return"[object"===b.substr(0,7)&&"Array]"===b.substr(-6)?!0:!1},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},isFinite:function(a){return("number"==typeof a||a instanceof Number)&&isFinite(a)},valueOrDefault:function(a,b){return"undefined"==typeof a?b:a},valueAtIndexOrDefault:function(a,b,c){return tc.valueOrDefault(tc.isArray(a)?a[b]:a,c)},callback:function(a,b,c){return a&&"function"==typeof a.call?a.apply(c,b):void 0},each:function(a,b,c,d){var e,f,g;if(tc.isArray(a))if(f=a.length,d)for(e=f-1;e>=0;e--)b.call(c,a[e],e);else for(e=0;f>e;e++)b.call(c,a[e],e);else if(tc.isObject(a))for(g=Object.keys(a),f=g.length,e=0;f>e;e++)b.call(c,a[g[e]],g[e])},arrayEquals:function(a,b){var c,d,e,f;if(!a||!b||a.length!==b.length)return!1;for(c=0,d=a.length;d>c;++c)if(e=a[c],f=b[c],e instanceof Array&&f instanceof Array){if(!tc.arrayEquals(e,f))return!1}else if(e!==f)return!1;return!0},clone:function(a){if(tc.isArray(a))return a.map(tc.clone);if(tc.isObject(a)){for(var b={},c=Object.keys(a),d=c.length,e=0;d>e;++e)b[c[e]]=tc.clone(a[c[e]]);return b}return a},_merger:function(a,b,c,d){var e=b[a],f=c[a];tc.isObject(e)&&tc.isObject(f)?tc.merge(e,f,d):b[a]=tc.clone(f)},_mergerIf:function(a,b,c){var d=b[a],e=c[a];tc.isObject(d)&&tc.isObject(e)?tc.mergeIf(d,e):b.hasOwnProperty(a)||(b[a]=tc.clone(e))},merge:function(a,b,c){var d,e,f,g,h,i=tc.isArray(b)?b:[b],j=i.length;if(!tc.isObject(a))return a;for(c=c||{},d=c.merger||tc._merger,e=0;j>e;++e)if(b=i[e],tc.isObject(b))for(f=Object.keys(b),h=0,g=f.length;g>h;++h)d(f[h],a,b,c);return a},mergeIf:function(a,b){return tc.merge(a,b,{merger:tc._mergerIf})},extend:function(a){for(var b=function(b,c){a[c]=b},c=1,d=arguments.length;d>c;++c)tc.each(arguments[c],b);return a},inherits:function(a){var b=this,c=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return b.apply(this,arguments)},d=function(){this.constructor=c};return d.prototype=b.prototype,c.prototype=new d,c.extend=tc.inherits,a&&tc.extend(c.prototype,a),c.__super__=b.prototype,c}},uc=tc;tc.callCallback=tc.callback,tc.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)},tc.getValueOrDefault=tc.valueOrDefault,tc.getValueAtIndexOrDefault=tc.valueAtIndexOrDefault;var vc={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-((a-=1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1===a?1:(c||(c=.3),1>d?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:1===a?1:(c||(c=.3),1>d?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0===a?0:2===(a/=.5)?1:(c||(c=.45),1>d?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),1>a?-.5*(d*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)):d*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/c)*.5+1)},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-vc.easeOutBounce(1-a)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return.5>a?.5*vc.easeInBounce(2*a):.5*vc.easeOutBounce(2*a-1)+.5}},wc={effects:vc};uc.easingEffects=vc;var xc=Math.PI,yc=xc/180,zc=2*xc,Ac=xc/2,Bc=xc/4,Cc=2*xc/3,Dc={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,b,c,d,e,f){if(f){var g=Math.min(f,e/2,d/2),h=b+g,i=c+g,j=b+d-g,k=c+e-g;a.moveTo(b,i),j>h&&k>i?(a.arc(h,i,g,-xc,-Ac),a.arc(j,i,g,-Ac,0),a.arc(j,k,g,0,Ac),a.arc(h,k,g,Ac,xc)):j>h?(a.moveTo(h,c),a.arc(j,i,g,-Ac,Ac),a.arc(h,i,g,Ac,xc+Ac)):k>i?(a.arc(h,i,g,-xc,0),a.arc(h,k,g,0,xc)):a.arc(h,i,g,-xc,xc),a.closePath(),a.moveTo(b,c)}else a.rect(b,c,d,e)},drawPoint:function(a,b,c,d,e,f){var g,h,i,j,k,l=(f||0)*yc;if(b&&"object"==typeof b&&(g=b.toString(),"[object HTMLImageElement]"===g||"[object HTMLCanvasElement]"===g))return void a.drawImage(b,d-b.width/2,e-b.height/2,b.width,b.height);if(!(isNaN(c)||0>=c)){switch(a.beginPath(),b){default:a.arc(d,e,c,0,zc),a.closePath();break;case"triangle":a.moveTo(d+Math.sin(l)*c,e-Math.cos(l)*c),l+=Cc,a.lineTo(d+Math.sin(l)*c,e-Math.cos(l)*c),l+=Cc,a.lineTo(d+Math.sin(l)*c,e-Math.cos(l)*c),a.closePath();break;case"rectRounded":k=.516*c,j=c-k,h=Math.cos(l+Bc)*j,i=Math.sin(l+Bc)*j,a.arc(d-h,e-i,k,l-xc,l-Ac),a.arc(d+i,e-h,k,l-Ac,l),a.arc(d+h,e+i,k,l,l+Ac),a.arc(d-i,e+h,k,l+Ac,l+xc),a.closePath();break;case"rect":if(!f){j=Math.SQRT1_2*c,a.rect(d-j,e-j,2*j,2*j);break}l+=Bc;case"rectRot":h=Math.cos(l)*c,i=Math.sin(l)*c,a.moveTo(d-h,e-i),a.lineTo(d+i,e-h),a.lineTo(d+h,e+i),a.lineTo(d-i,e+h),a.closePath();break;case"crossRot":l+=Bc;case"cross":h=Math.cos(l)*c,i=Math.sin(l)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d+i,e-h),a.lineTo(d-i,e+h);break;case"star":h=Math.cos(l)*c,i=Math.sin(l)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d+i,e-h),a.lineTo(d-i,e+h),l+=Bc,h=Math.cos(l)*c,i=Math.sin(l)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i),a.moveTo(d+i,e-h),a.lineTo(d-i,e+h);break;case"line":h=Math.cos(l)*c,i=Math.sin(l)*c,a.moveTo(d-h,e-i),a.lineTo(d+h,e+i);break;case"dash":a.moveTo(d,e),a.lineTo(d+Math.cos(l)*c,e+Math.sin(l)*c)}a.fill(),a.stroke()}},_isPointInArea:function(a,b){var c=1e-6;return a.x>b.left-c&&a.x<b.right+c&&a.y>b.top-c&&a.y<b.bottom+c},clipArea:function(a,b){a.save(),a.beginPath(),a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top),a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,b,c,d){var e=c.steppedLine;if(e){if("middle"===e){var f=(b.x+c.x)/2;a.lineTo(f,d?c.y:b.y),a.lineTo(f,d?b.y:c.y)}else"after"===e&&!d||"after"!==e&&d?a.lineTo(b.x,c.y):a.lineTo(c.x,b.y);return void a.lineTo(c.x,c.y)}return c.tension?void a.bezierCurveTo(d?b.controlPointPreviousX:b.controlPointNextX,d?b.controlPointPreviousY:b.controlPointNextY,d?c.controlPointNextX:c.controlPointPreviousX,d?c.controlPointNextY:c.controlPointPreviousY,c.x,c.y):void a.lineTo(c.x,c.y)}},Ec=Dc;uc.clear=Dc.clear,uc.drawRoundedRectangle=function(a){a.beginPath(),Dc.roundedRect.apply(Dc,arguments)};var Fc={_set:function(a,b){return uc.merge(this[a]||(this[a]={}),b)}};Fc._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Gc=Fc,Hc=uc.valueOrDefault,Ic={toLineHeight:function(a,b){var c=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!c||"normal"===c[1])return 1.2*b;switch(a=+c[2],c[3]){case"px":return a;case"%":a/=100}return b*a},toPadding:function(a){var b,c,d,e;return uc.isObject(a)?(b=+a.top||0,c=+a.right||0,d=+a.bottom||0,e=+a.left||0):b=c=d=e=+a||0,{top:b,right:c,bottom:d,left:e,height:b+d,width:e+c}},_parseFont:function(a){var b=Gc.global,c=Hc(a.fontSize,b.defaultFontSize),d={family:Hc(a.fontFamily,b.defaultFontFamily),lineHeight:uc.options.toLineHeight(Hc(a.lineHeight,b.defaultLineHeight),c),size:c,style:Hc(a.fontStyle,b.defaultFontStyle),weight:null,string:""};return d.string=la(d),d},resolve:function(a,b,c){var d,e,f;for(d=0,e=a.length;e>d;++d)if(f=a[d],void 0!==f&&(void 0!==b&&"function"==typeof f&&(f=f(b)),void 0!==c&&uc.isArray(f)&&(f=f[c]),void 0!==f))return f}},Jc=uc,Kc=wc,Lc=Ec,Mc=Ic;Jc.easing=Kc,Jc.canvas=Lc,Jc.options=Mc;var Nc=function(a){Jc.extend(this,a),this.initialize.apply(this,arguments)};Jc.extend(Nc.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var a=this;return a._view||(a._view=Jc.clone(a._model)),a._start={},a},transition:function(a){var b=this,c=b._model,d=b._start,e=b._view;return c&&1!==a?(e||(e=b._view={}),d||(d=b._start={}),ma(d,e,c,a),b):(b._view=c,b._start=null,b)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Jc.isNumber(this._model.x)&&Jc.isNumber(this._model.y)}}),Nc.extend=Jc.inherits;var Oc=Nc,Pc=Oc.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Qc=Pc;Object.defineProperty(Pc.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Pc.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=a}}),Gc._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Jc.noop,onComplete:Jc.noop}});var Rc={animations:[],request:null,addAnimation:function(a,b,c,d){var e,f,g=this.animations;for(b.chart=a,b.startTime=Date.now(),b.duration=c,d||(a.animating=!0),e=0,f=g.length;f>e;++e)if(g[e].chart===a)return void(g[e]=b);g.push(b),1===g.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var b=Jc.findIndex(this.animations,function(b){return b.chart===a});-1!==b&&(this.animations.splice(b,1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=Jc.requestAnimFrame.call(window,function(){a.request=null,a.startDigest()}))},startDigest:function(){var a=this;a.advance(),a.animations.length>0&&a.requestAnimationFrame()},advance:function(){for(var a,b,c,d,e=this.animations,f=0;f<e.length;)a=e[f],b=a.chart,c=a.numSteps,d=Math.floor((Date.now()-a.startTime)/a.duration*c)+1,a.currentStep=Math.min(d,c),Jc.callback(a.render,[b,a],b),Jc.callback(a.onAnimationProgress,[a],b),a.currentStep>=c?(Jc.callback(a.onAnimationComplete,[a],b),b.animating=!1,e.splice(f,1)):++f}},Sc=Jc.options.resolve,Tc=["push","pop","shift","splice","unshift"],Uc=function(a,b){this.initialize(a,b)};Jc.extend(Uc.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,b){var c=this;c.chart=a,c.index=b,c.linkScales(),c.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this,b=a.getMeta(),c=a.getDataset();null!==b.xAxisID&&b.xAxisID in a.chart.scales||(b.xAxisID=c.xAxisID||a.chart.options.scales.xAxes[0].id),null!==b.yAxisID&&b.yAxisID in a.chart.scales||(b.yAxisID=c.yAxisID||a.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){
return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&oa(this._data,this)},createMetaDataset:function(){var a=this,b=a.datasetElementType;return b&&new b({_chart:a.chart,_datasetIndex:a.index})},createMetaData:function(a){var b=this,c=b.dataElementType;return c&&new c({_chart:b.chart,_datasetIndex:b.index,_index:a})},addElements:function(){var a,b,c=this,d=c.getMeta(),e=c.getDataset().data||[],f=d.data;for(a=0,b=e.length;b>a;++a)f[a]=f[a]||c.createMetaData(a);d.dataset=d.dataset||c.createMetaDataset()},addElementAndReset:function(a){var b=this.createMetaData(a);this.getMeta().data.splice(a,0,b),this.updateElement(b,a,!0)},buildOrUpdateElements:function(){var a=this,b=a.getDataset(),c=b.data||(b.data=[]);a._data!==c&&(a._data&&oa(a._data,a),c&&Object.isExtensible(c)&&na(c,a),a._data=c),a.resyncElements()},update:Jc.noop,transition:function(a){for(var b=this.getMeta(),c=b.data||[],d=c.length,e=0;d>e;++e)c[e].transition(a);b.dataset&&b.dataset.transition(a)},draw:function(){var a=this.getMeta(),b=a.data||[],c=b.length,d=0;for(a.dataset&&a.dataset.draw();c>d;++d)b[d].draw()},removeHoverStyle:function(a){Jc.merge(a._model,a.$previousStyle||{}),delete a.$previousStyle},setHoverStyle:function(a){var b=this.chart.data.datasets[a._datasetIndex],c=a._index,d=a.custom||{},e=a._model,f=Jc.getHoverColor;a.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Sc([d.hoverBackgroundColor,b.hoverBackgroundColor,f(e.backgroundColor)],void 0,c),e.borderColor=Sc([d.hoverBorderColor,b.hoverBorderColor,f(e.borderColor)],void 0,c),e.borderWidth=Sc([d.hoverBorderWidth,b.hoverBorderWidth,e.borderWidth],void 0,c)},resyncElements:function(){var a=this,b=a.getMeta(),c=a.getDataset().data,d=b.data.length,e=c.length;d>e?b.data.splice(e,d-e):e>d&&a.insertElements(d,e-d)},insertElements:function(a,b){for(var c=0;b>c;++c)this.addElementAndReset(a+c)},onDataPush:function(){var a=arguments.length;this.insertElements(this.getDataset().data.length-a,a)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,b){this.getMeta().data.splice(a,b),this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Uc.extend=Jc.inherits;var Vc=Uc;Gc._set("global",{elements:{arc:{backgroundColor:Gc.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Wc=Oc.extend({inLabelRange:function(a){var b=this._view;return b?Math.pow(a-b.x,2)<Math.pow(b.radius+b.hoverRadius,2):!1},inRange:function(a,b){var c=this._view;if(c){for(var d=Jc.getAngleFromPoint(c,{x:a,y:b}),e=d.angle,f=d.distance,g=c.startAngle,h=c.endAngle;g>h;)h+=2*Math.PI;for(;e>h;)e-=2*Math.PI;for(;g>e;)e+=2*Math.PI;var i=e>=g&&h>=e,j=f>=c.innerRadius&&f<=c.outerRadius;return i&&j}return!1},getCenterPoint:function(){var a=this._view,b=(a.startAngle+a.endAngle)/2,c=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},getArea:function(){var a=this._view;return Math.PI*((a.endAngle-a.startAngle)/(2*Math.PI))*(Math.pow(a.outerRadius,2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,b=a.startAngle+(a.endAngle-a.startAngle)/2,c=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(b)*c,y:a.y+Math.sin(b)*c}},draw:function(){var a,b=this._chart.ctx,c=this._view,d=c.startAngle,e=c.endAngle,f="inner"===c.borderAlign?.33:0;b.save(),b.beginPath(),b.arc(c.x,c.y,Math.max(c.outerRadius-f,0),d,e),b.arc(c.x,c.y,c.innerRadius,e,d,!0),b.closePath(),b.fillStyle=c.backgroundColor,b.fill(),c.borderWidth&&("inner"===c.borderAlign?(b.beginPath(),a=f/c.outerRadius,b.arc(c.x,c.y,c.outerRadius,d-a,e+a),c.innerRadius>f?(a=f/c.innerRadius,b.arc(c.x,c.y,c.innerRadius-f,e+a,d-a,!0)):b.arc(c.x,c.y,f,e+Math.PI/2,d-Math.PI/2),b.closePath(),b.clip(),b.beginPath(),b.arc(c.x,c.y,c.outerRadius,d,e),b.arc(c.x,c.y,c.innerRadius,e,d,!0),b.closePath(),b.lineWidth=2*c.borderWidth,b.lineJoin="round"):(b.lineWidth=c.borderWidth,b.lineJoin="bevel"),b.strokeStyle=c.borderColor,b.stroke()),b.restore()}}),Xc=Jc.valueOrDefault,Yc=Gc.global.defaultColor;Gc._set("global",{elements:{line:{tension:.4,backgroundColor:Yc,borderWidth:3,borderColor:Yc,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Zc=Oc.extend({draw:function(){var a,b,c,d,e=this,f=e._view,g=e._chart.ctx,h=f.spanGaps,i=e._children.slice(),j=Gc.global,k=j.elements.line,l=-1;for(e._loop&&i.length&&i.push(i[0]),g.save(),g.lineCap=f.borderCapStyle||k.borderCapStyle,g.setLineDash&&g.setLineDash(f.borderDash||k.borderDash),g.lineDashOffset=Xc(f.borderDashOffset,k.borderDashOffset),g.lineJoin=f.borderJoinStyle||k.borderJoinStyle,g.lineWidth=Xc(f.borderWidth,k.borderWidth),g.strokeStyle=f.borderColor||j.defaultColor,g.beginPath(),l=-1,a=0;a<i.length;++a)b=i[a],c=Jc.previousItem(i,a),d=b._view,0===a?d.skip||(g.moveTo(d.x,d.y),l=a):(c=-1===l?c:i[l],d.skip||(l!==a-1&&!h||-1===l?g.moveTo(d.x,d.y):Jc.canvas.lineTo(g,c._view,b._view),l=a));g.stroke(),g.restore()}}),$c=Jc.valueOrDefault,_c=Gc.global.defaultColor;Gc._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:_c,borderColor:_c,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ad=Oc.extend({inRange:function(a,b){var c=this._view;return c?Math.pow(a-c.x,2)+Math.pow(b-c.y,2)<Math.pow(c.hitRadius+c.radius,2):!1},inLabelRange:pa,inXRange:pa,inYRange:qa,getCenterPoint:function(){var a=this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var b=this._view,c=this._chart.ctx,d=b.pointStyle,e=b.rotation,f=b.radius,g=b.x,h=b.y,i=Gc.global,j=i.defaultColor;b.skip||(void 0===a||Jc.canvas._isPointInArea(b,a))&&(c.strokeStyle=b.borderColor||j,c.lineWidth=$c(b.borderWidth,i.elements.point.borderWidth),c.fillStyle=b.backgroundColor||j,Jc.canvas.drawPoint(c,d,f,g,h,e))}}),bd=Gc.global.defaultColor;Gc._set("global",{elements:{rectangle:{backgroundColor:bd,borderColor:bd,borderSkipped:"bottom",borderWidth:0}}});var cd=Oc.extend({draw:function(){var a=this._chart.ctx,b=this._view,c=wa(b),d=c.outer,e=c.inner;a.fillStyle=b.backgroundColor,a.fillRect(d.x,d.y,d.w,d.h),(d.w!==e.w||d.h!==e.h)&&(a.save(),a.beginPath(),a.rect(d.x,d.y,d.w,d.h),a.clip(),a.fillStyle=b.borderColor,a.rect(e.x,e.y,e.w,e.h),a.fill("evenodd"),a.restore())},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,b){return xa(this._view,a,b)},inLabelRange:function(a,b){var c=this._view;return ra(c)?xa(c,a,null):xa(c,null,b)},inXRange:function(a){return xa(this._view,a,null)},inYRange:function(a){return xa(this._view,null,a)},getCenterPoint:function(){var a,b,c=this._view;return ra(c)?(a=c.x,b=(c.y+c.base)/2):(a=(c.x+c.base)/2,b=c.y),{x:a,y:b}},getArea:function(){var a=this._view;return ra(a)?a.width*Math.abs(a.y-a.base):a.height*Math.abs(a.x-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}}),dd={},ed=Wc,fd=Zc,gd=ad,hd=cd;dd.Arc=ed,dd.Line=fd,dd.Point=gd,dd.Rectangle=hd;var id=Jc.options.resolve;Gc._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var jd=Vc.extend({dataElementType:dd.Rectangle,initialize:function(){var a,b=this;Vc.prototype.initialize.apply(b,arguments),a=b.getMeta(),a.stack=b.getDataset().stack,a.bar=!0},update:function(a){var b,c,d=this,e=d.getMeta().data;for(d._ruler=d.getRuler(),b=0,c=e.length;c>b;++b)d.updateElement(e[b],b,a)},updateElement:function(a,b,c){var d=this,e=d.getMeta(),f=d.getDataset(),g=d._resolveElementOptions(a,b);a._xScale=d.getScaleForId(e.xAxisID),a._yScale=d.getScaleForId(e.yAxisID),a._datasetIndex=d.index,a._index=b,a._model={backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderSkipped:g.borderSkipped,borderWidth:g.borderWidth,datasetLabel:f.label,label:d.chart.data.labels[b]},d._updateElementGeometry(a,b,c),a.pivot()},_updateElementGeometry:function(a,b,c){var d=this,e=a._model,f=d._getValueScale(),g=f.getBasePixel(),h=f.isHorizontal(),i=d._ruler||d.getRuler(),j=d.calculateBarValuePixels(d.index,b),k=d.calculateBarIndexPixels(d.index,b,i);e.horizontal=h,e.base=c?g:j.base,e.x=h?c?g:j.head:k.center,e.y=h?k.center:c?g:j.head,e.height=h?k.size:void 0,e.width=h?void 0:k.size},_getStacks:function(a){var b,c,d=this,e=d.chart,f=d._getIndexScale(),g=f.options.stacked,h=void 0===a?e.data.datasets.length:a+1,i=[];for(b=0;h>b;++b)c=e.getDatasetMeta(b),c.bar&&e.isDatasetVisible(b)&&(g===!1||g===!0&&-1===i.indexOf(c.stack)||void 0===g&&(void 0===c.stack||-1===i.indexOf(c.stack)))&&i.push(c.stack);return i},getStackCount:function(){return this._getStacks().length},getStackIndex:function(a,b){var c=this._getStacks(a),d=void 0!==b?c.indexOf(b):-1;return-1===d?c.length-1:d},getRuler:function(){var a,b,c,d=this,e=d._getIndexScale(),f=d.getStackCount(),g=d.index,h=e.isHorizontal(),i=h?e.left:e.top,j=i+(h?e.width:e.height),k=[];for(a=0,b=d.getMeta().data.length;b>a;++a)k.push(e.getPixelForValue(null,a,g));return c=Jc.isNullOrUndef(e.options.barThickness)?ya(e,k):-1,{min:c,pixels:k,start:i,end:j,stackCount:f,scale:e}},calculateBarValuePixels:function(a,b){var c,d,e,f,g,h,i=this,j=i.chart,k=i.getMeta(),l=i._getValueScale(),m=l.isHorizontal(),n=j.data.datasets,o=+l.getRightValue(n[a].data[b]),p=l.options.minBarLength,q=l.options.stacked,r=k.stack,s=0;if(q||void 0===q&&void 0!==r)for(c=0;a>c;++c)d=j.getDatasetMeta(c),d.bar&&d.stack===r&&d.controller._getValueScaleId()===l.id&&j.isDatasetVisible(c)&&(e=+l.getRightValue(n[c].data[b]),(0>o&&0>e||o>=0&&e>0)&&(s+=e));return f=l.getPixelForValue(s),g=l.getPixelForValue(s+o),h=g-f,void 0!==p&&Math.abs(h)<p&&(h=p,g=o>=0&&!m||0>o&&m?f-p:f+p),{size:h,base:f,head:g,center:g+h/2}},calculateBarIndexPixels:function(a,b,c){var d=this,e=c.scale.options,f="flex"===e.barThickness?Aa(b,c,e):za(b,c,e),g=d.getStackIndex(a,d.getMeta().stack),h=f.start+f.chunk*g+f.chunk/2,i=Math.min(Jc.valueOrDefault(e.maxBarThickness,1/0),f.chunk*f.ratio);return{base:h-i/2,head:h+i/2,center:h,size:i}},draw:function(){var a=this,b=a.chart,c=a._getValueScale(),d=a.getMeta().data,e=a.getDataset(),f=d.length,g=0;for(Jc.canvas.clipArea(b.ctx,b.chartArea);f>g;++g)isNaN(c.getRightValue(e.data[g]))||d[g].draw();Jc.canvas.unclipArea(b.ctx)},_resolveElementOptions:function(a,b){var c,d,e,f=this,g=f.chart,h=g.data.datasets,i=h[f.index],j=a.custom||{},k=g.options.elements.rectangle,l={},m={chart:g,dataIndex:b,dataset:i,datasetIndex:f.index},n=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(c=0,d=n.length;d>c;++c)e=n[c],l[e]=id([j[e],i[e],k[e]],m,b);return l}}),kd=Jc.valueOrDefault,ld=Jc.options.resolve;Gc._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.datasets[a.datasetIndex].label||"",d=b.datasets[a.datasetIndex].data[a.index];return c+": ("+a.xLabel+", "+a.yLabel+", "+d.r+")"}}}});var md=Vc.extend({dataElementType:dd.Point,update:function(a){var b=this,c=b.getMeta(),d=c.data;Jc.each(d,function(c,d){b.updateElement(c,d,a)})},updateElement:function(a,b,c){var d=this,e=d.getMeta(),f=a.custom||{},g=d.getScaleForId(e.xAxisID),h=d.getScaleForId(e.yAxisID),i=d._resolveElementOptions(a,b),j=d.getDataset().data[b],k=d.index,l=c?g.getPixelForDecimal(.5):g.getPixelForValue("object"==typeof j?j:NaN,b,k),m=c?h.getBasePixel():h.getPixelForValue(j,b,k);a._xScale=g,a._yScale=h,a._options=i,a._datasetIndex=k,a._index=b,a._model={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,hitRadius:i.hitRadius,pointStyle:i.pointStyle,rotation:i.rotation,radius:c?0:i.radius,skip:f.skip||isNaN(l)||isNaN(m),x:l,y:m},a.pivot()},setHoverStyle:function(a){var b=a._model,c=a._options,d=Jc.getHoverColor;a.$previousStyle={backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,radius:b.radius},b.backgroundColor=kd(c.hoverBackgroundColor,d(c.backgroundColor)),b.borderColor=kd(c.hoverBorderColor,d(c.borderColor)),b.borderWidth=kd(c.hoverBorderWidth,c.borderWidth),b.radius=c.radius+c.hoverRadius},_resolveElementOptions:function(a,b){var c,d,e,f=this,g=f.chart,h=g.data.datasets,i=h[f.index],j=a.custom||{},k=g.options.elements.point,l=i.data[b],m={},n={chart:g,dataIndex:b,dataset:i,datasetIndex:f.index},o=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(c=0,d=o.length;d>c;++c)e=o[c],m[e]=ld([j[e],i[e],k[e]],n,b);return m.radius=ld([j.radius,l?l.r:void 0,i.radius,k.radius],n,b),m}}),nd=Jc.options.resolve,od=Jc.valueOrDefault;Gc._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var b=a.data;return b.labels.length&&b.datasets.length?b.labels.map(function(c,d){var e=a.getDatasetMeta(0),f=b.datasets[0],g=e.data[d],h=g&&g.custom||{},i=a.options.elements.arc,j=nd([h.backgroundColor,f.backgroundColor,i.backgroundColor],void 0,d),k=nd([h.borderColor,f.borderColor,i.borderColor],void 0,d),l=nd([h.borderWidth,f.borderWidth,i.borderWidth],void 0,d);return{text:c,fillStyle:j,strokeStyle:k,lineWidth:l,hidden:isNaN(f.data[d])||e.data[d].hidden,index:d}}):[]}},onClick:function(a,b){var c,d,e,f=b.index,g=this.chart;for(c=0,d=(g.data.datasets||[]).length;d>c;++c)e=g.getDatasetMeta(c),e.data[f]&&(e.data[f].hidden=!e.data[f].hidden);g.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(a,b){var c=b.labels[a.index],d=": "+b.datasets[a.datasetIndex].data[a.index];return Jc.isArray(c)?(c=c.slice(),c[0]+=d):c+=d,c}}}});var pd=Vc.extend({dataElementType:dd.Arc,linkScales:Jc.noop,getRingIndex:function(a){for(var b=0,c=0;a>c;++c)this.chart.isDatasetVisible(c)&&++b;return b},update:function(a){var b,c,d=this,e=d.chart,f=e.chartArea,g=e.options,h=f.right-f.left,i=f.bottom-f.top,j=Math.min(h,i),k={x:0,y:0},l=d.getMeta(),m=l.data,n=g.cutoutPercentage,o=g.circumference,p=d._getRingWeight(d.index);if(o<2*Math.PI){var q=g.rotation%(2*Math.PI);q+=2*Math.PI*(q>=Math.PI?-1:q<-Math.PI?1:0);var r=q+o,s={x:Math.cos(q),y:Math.sin(q)},t={x:Math.cos(r),y:Math.sin(r)},u=0>=q&&r>=0||q<=2*Math.PI&&2*Math.PI<=r,v=q<=.5*Math.PI&&.5*Math.PI<=r||q<=2.5*Math.PI&&2.5*Math.PI<=r,w=q<=-Math.PI&&-Math.PI<=r||q<=Math.PI&&Math.PI<=r,x=q<=.5*-Math.PI&&.5*-Math.PI<=r||q<=1.5*Math.PI&&1.5*Math.PI<=r,y=n/100,z={x:w?-1:Math.min(s.x*(s.x<0?1:y),t.x*(t.x<0?1:y)),y:x?-1:Math.min(s.y*(s.y<0?1:y),t.y*(t.y<0?1:y))},A={x:u?1:Math.max(s.x*(s.x>0?1:y),t.x*(t.x>0?1:y)),y:v?1:Math.max(s.y*(s.y>0?1:y),t.y*(t.y>0?1:y))},B={width:.5*(A.x-z.x),height:.5*(A.y-z.y)};j=Math.min(h/B.width,i/B.height),k={x:(A.x+z.x)*-.5,y:(A.y+z.y)*-.5}}for(b=0,c=m.length;c>b;++b)m[b]._options=d._resolveElementOptions(m[b],b);for(e.borderWidth=d.getMaxBorderWidth(),e.outerRadius=Math.max((j-e.borderWidth)/2,0),e.innerRadius=Math.max(n?e.outerRadius/100*n:0,0),e.radiusLength=(e.outerRadius-e.innerRadius)/(d._getVisibleDatasetWeightTotal()||1),e.offsetX=k.x*e.outerRadius,e.offsetY=k.y*e.outerRadius,l.total=d.calculateTotal(),d.outerRadius=e.outerRadius-e.radiusLength*d._getRingWeightOffset(d.index),d.innerRadius=Math.max(d.outerRadius-e.radiusLength*p,0),b=0,c=m.length;c>b;++b)d.updateElement(m[b],b,a)},updateElement:function(a,b,c){var d=this,e=d.chart,f=e.chartArea,g=e.options,h=g.animation,i=(f.left+f.right)/2,j=(f.top+f.bottom)/2,k=g.rotation,l=g.rotation,m=d.getDataset(),n=c&&h.animateRotate?0:a.hidden?0:d.calculateCircumference(m.data[b])*(g.circumference/(2*Math.PI)),o=c&&h.animateScale?0:d.innerRadius,p=c&&h.animateScale?0:d.outerRadius,q=a._options||{};Jc.extend(a,{_datasetIndex:d.index,_index:b,_model:{backgroundColor:q.backgroundColor,borderColor:q.borderColor,borderWidth:q.borderWidth,borderAlign:q.borderAlign,x:i+e.offsetX,y:j+e.offsetY,startAngle:k,endAngle:l,circumference:n,outerRadius:p,innerRadius:o,label:Jc.valueAtIndexOrDefault(m.label,b,e.data.labels[b])}});var r=a._model;c&&h.animateRotate||(0===b?r.startAngle=g.rotation:r.startAngle=d.getMeta().data[b-1]._model.endAngle,r.endAngle=r.startAngle+r.circumference),a.pivot()},calculateTotal:function(){var a,b=this.getDataset(),c=this.getMeta(),d=0;return Jc.each(c.data,function(c,e){a=b.data[e],isNaN(a)||c.hidden||(d+=Math.abs(a))}),d},calculateCircumference:function(a){var b=this.getMeta().total;return b>0&&!isNaN(a)?2*Math.PI*(Math.abs(a)/b):0},getMaxBorderWidth:function(a){var b,c,d,e,f,g,h,i,j=this,k=0,l=j.chart;if(!a)for(b=0,c=l.data.datasets.length;c>b;++b)if(l.isDatasetVisible(b)){d=l.getDatasetMeta(b),a=d.data,b!==j.index&&(f=d.controller);break}if(!a)return 0;for(b=0,c=a.length;c>b;++b)e=a[b],g=f?f._resolveElementOptions(e,b):e._options,"inner"!==g.borderAlign&&(h=g.borderWidth,i=g.hoverBorderWidth,k=h>k?h:k,k=i>k?i:k);return k},setHoverStyle:function(a){var b=a._model,c=a._options,d=Jc.getHoverColor;a.$previousStyle={backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth},b.backgroundColor=od(c.hoverBackgroundColor,d(c.backgroundColor)),b.borderColor=od(c.hoverBorderColor,d(c.borderColor)),b.borderWidth=od(c.hoverBorderWidth,c.borderWidth)},_resolveElementOptions:function(a,b){var c,d,e,f=this,g=f.chart,h=f.getDataset(),i=a.custom||{},j=g.options.elements.arc,k={},l={chart:g,dataIndex:b,dataset:h,datasetIndex:f.index},m=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(c=0,d=m.length;d>c;++c)e=m[c],k[e]=nd([i[e],h[e],j[e]],l,b);return k},_getRingWeightOffset:function(a){for(var b=0,c=0;a>c;++c)this.chart.isDatasetVisible(c)&&(b+=this._getRingWeight(c));return b},_getRingWeight:function(a){return Math.max(od(this.chart.data.datasets[a].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Gc._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var qd=jd.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),rd=Jc.valueOrDefault,sd=Jc.options.resolve,td=Jc.canvas._isPointInArea;Gc._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ud=Vc.extend({datasetElementType:dd.Line,dataElementType:dd.Point,update:function(a){var b,c,d=this,e=d.getMeta(),f=e.dataset,g=e.data||[],h=d.getScaleForId(e.yAxisID),i=d.getDataset(),j=Ba(i,d.chart.options);for(j&&(void 0!==i.tension&&void 0===i.lineTension&&(i.lineTension=i.tension),f._scale=h,f._datasetIndex=d.index,f._children=g,f._model=d._resolveLineOptions(f),f.pivot()),b=0,c=g.length;c>b;++b)d.updateElement(g[b],b,a);for(j&&0!==f._model.tension&&d.updateBezierControlPoints(),b=0,c=g.length;c>b;++b)g[b].pivot()},updateElement:function(a,b,c){var d,e,f=this,g=f.getMeta(),h=a.custom||{},i=f.getDataset(),j=f.index,k=i.data[b],l=f.getScaleForId(g.yAxisID),m=f.getScaleForId(g.xAxisID),n=g.dataset._model,o=f._resolvePointOptions(a,b);d=m.getPixelForValue("object"==typeof k?k:NaN,b,j),e=c?l.getBasePixel():f.calculatePointY(k,b,j),a._xScale=m,a._yScale=l,a._options=o,a._datasetIndex=j,a._index=b,a._model={x:d,y:e,skip:h.skip||isNaN(d)||isNaN(e),radius:o.radius,pointStyle:o.pointStyle,rotation:o.rotation,backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,tension:rd(h.tension,n?n.tension:0),steppedLine:n?n.steppedLine:!1,hitRadius:o.hitRadius}},_resolvePointOptions:function(a,b){var c,d,e,f=this,g=f.chart,h=g.data.datasets[f.index],i=a.custom||{},j=g.options.elements.point,k={},l={chart:g,dataIndex:b,dataset:h,datasetIndex:f.index},m={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},n=Object.keys(m);for(c=0,d=n.length;d>c;++c)e=n[c],k[e]=sd([i[e],h[m[e]],h[e],j[e]],l,b);return k},_resolveLineOptions:function(a){var b,c,d,e=this,f=e.chart,g=f.data.datasets[e.index],h=a.custom||{},i=f.options,j=i.elements.line,k={},l=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(b=0,c=l.length;c>b;++b)d=l[b],k[d]=sd([h[d],g[d],j[d]]);return k.spanGaps=rd(g.spanGaps,i.spanGaps),k.tension=rd(g.lineTension,j.tension),k.steppedLine=sd([h.steppedLine,g.steppedLine,j.stepped]),k},calculatePointY:function(a,b,c){var d,e,f,g=this,h=g.chart,i=g.getMeta(),j=g.getScaleForId(i.yAxisID),k=0,l=0;if(j.options.stacked){for(d=0;c>d;d++)if(e=h.data.datasets[d],f=h.getDatasetMeta(d),"line"===f.type&&f.yAxisID===j.id&&h.isDatasetVisible(d)){var m=Number(j.getRightValue(e.data[b]));0>m?l+=m||0:k+=m||0}var n=Number(j.getRightValue(a));return 0>n?j.getPixelForValue(l+n):j.getPixelForValue(k+n)}return j.getPixelForValue(a)},updateBezierControlPoints:function(){function a(a,b,c){return Math.max(Math.min(a,c),b)}var b,c,d,e,f=this,g=f.chart,h=f.getMeta(),i=h.dataset._model,j=g.chartArea,k=h.data||[];if(i.spanGaps&&(k=k.filter(function(a){return!a._model.skip})),"monotone"===i.cubicInterpolationMode)Jc.splineCurveMonotone(k);else for(b=0,c=k.length;c>b;++b)d=k[b]._model,e=Jc.splineCurve(Jc.previousItem(k,b)._model,d,Jc.nextItem(k,b)._model,i.tension),d.controlPointPreviousX=e.previous.x,d.controlPointPreviousY=e.previous.y,d.controlPointNextX=e.next.x,d.controlPointNextY=e.next.y;if(g.options.elements.line.capBezierPoints)for(b=0,c=k.length;c>b;++b)d=k[b]._model,td(d,j)&&(b>0&&td(k[b-1]._model,j)&&(d.controlPointPreviousX=a(d.controlPointPreviousX,j.left,j.right),d.controlPointPreviousY=a(d.controlPointPreviousY,j.top,j.bottom)),b<k.length-1&&td(k[b+1]._model,j)&&(d.controlPointNextX=a(d.controlPointNextX,j.left,j.right),d.controlPointNextY=a(d.controlPointNextY,j.top,j.bottom)))},draw:function(){var a,b=this,c=b.chart,d=b.getMeta(),e=d.data||[],f=c.chartArea,g=e.length,h=0;for(Ba(b.getDataset(),c.options)&&(a=(d.dataset._model.borderWidth||0)/2,Jc.canvas.clipArea(c.ctx,{left:f.left,right:f.right,top:f.top-a,bottom:f.bottom+a}),d.dataset.draw(),Jc.canvas.unclipArea(c.ctx));g>h;++h)e[h].draw(f)},setHoverStyle:function(a){var b=a._model,c=a._options,d=Jc.getHoverColor;a.$previousStyle={backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,radius:b.radius},b.backgroundColor=rd(c.hoverBackgroundColor,d(c.backgroundColor)),b.borderColor=rd(c.hoverBorderColor,d(c.borderColor)),b.borderWidth=rd(c.hoverBorderWidth,c.borderWidth),b.radius=rd(c.hoverRadius,c.radius)}}),vd=Jc.options.resolve;Gc._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');var c=a.data,d=c.datasets,e=c.labels;if(d.length)for(var f=0;f<d[0].data.length;++f)b.push('<li><span style="background-color:'+d[0].backgroundColor[f]+'"></span>'),e[f]&&b.push(e[f]),b.push("</li>");return b.push("</ul>"),b.join("")},legend:{labels:{generateLabels:function(a){var b=a.data;return b.labels.length&&b.datasets.length?b.labels.map(function(c,d){var e=a.getDatasetMeta(0),f=b.datasets[0],g=e.data[d],h=g.custom||{},i=a.options.elements.arc,j=vd([h.backgroundColor,f.backgroundColor,i.backgroundColor],void 0,d),k=vd([h.borderColor,f.borderColor,i.borderColor],void 0,d),l=vd([h.borderWidth,f.borderWidth,i.borderWidth],void 0,d);return{text:c,fillStyle:j,strokeStyle:k,lineWidth:l,hidden:isNaN(f.data[d])||e.data[d].hidden,index:d}}):[]}},onClick:function(a,b){var c,d,e,f=b.index,g=this.chart;for(c=0,d=(g.data.datasets||[]).length;d>c;++c)e=g.getDatasetMeta(c),e.data[f].hidden=!e.data[f].hidden;g.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,b){return b.labels[a.index]+": "+a.yLabel}}}});var wd=Vc.extend({dataElementType:dd.Arc,linkScales:Jc.noop,update:function(a){var b,c,d,e=this,f=e.getDataset(),g=e.getMeta(),h=e.chart.options.startAngle||0,i=e._starts=[],j=e._angles=[],k=g.data;for(e._updateRadius(),g.count=e.countVisibleElements(),b=0,c=f.data.length;c>b;b++)i[b]=h,d=e._computeAngle(b),j[b]=d,h+=d;for(b=0,c=k.length;c>b;++b)k[b]._options=e._resolveElementOptions(k[b],b),e.updateElement(k[b],b,a)},_updateRadius:function(){var a=this,b=a.chart,c=b.chartArea,d=b.options,e=Math.min(c.right-c.left,c.bottom-c.top);b.outerRadius=Math.max(e/2,0),b.innerRadius=Math.max(d.cutoutPercentage?b.outerRadius/100*d.cutoutPercentage:1,0),b.radiusLength=(b.outerRadius-b.innerRadius)/b.getVisibleDatasetCount(),a.outerRadius=b.outerRadius-b.radiusLength*a.index,a.innerRadius=a.outerRadius-b.radiusLength},updateElement:function(a,b,c){var d=this,e=d.chart,f=d.getDataset(),g=e.options,h=g.animation,i=e.scale,j=e.data.labels,k=i.xCenter,l=i.yCenter,m=g.startAngle,n=a.hidden?0:i.getDistanceFromCenterForValue(f.data[b]),o=d._starts[b],p=o+(a.hidden?0:d._angles[b]),q=h.animateScale?0:i.getDistanceFromCenterForValue(f.data[b]),r=a._options||{};Jc.extend(a,{_datasetIndex:d.index,_index:b,_scale:i,_model:{backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,borderAlign:r.borderAlign,x:k,y:l,innerRadius:0,outerRadius:c?q:n,startAngle:c&&h.animateRotate?m:o,endAngle:c&&h.animateRotate?m:p,label:Jc.valueAtIndexOrDefault(j,b,j[b])}}),a.pivot()},countVisibleElements:function(){var a=this.getDataset(),b=this.getMeta(),c=0;return Jc.each(b.data,function(b,d){isNaN(a.data[d])||b.hidden||c++}),c},setHoverStyle:function(a){var b=a._model,c=a._options,d=Jc.getHoverColor,e=Jc.valueOrDefault;a.$previousStyle={backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth},b.backgroundColor=e(c.hoverBackgroundColor,d(c.backgroundColor)),b.borderColor=e(c.hoverBorderColor,d(c.borderColor)),b.borderWidth=e(c.hoverBorderWidth,c.borderWidth)},_resolveElementOptions:function(a,b){var c,d,e,f=this,g=f.chart,h=f.getDataset(),i=a.custom||{},j=g.options.elements.arc,k={},l={chart:g,dataIndex:b,dataset:h,datasetIndex:f.index},m=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(c=0,d=m.length;d>c;++c)e=m[c],k[e]=vd([i[e],h[e],j[e]],l,b);return k},_computeAngle:function(a){var b=this,c=this.getMeta().count,d=b.getDataset(),e=b.getMeta();if(isNaN(d.data[a])||e.data[a].hidden)return 0;var f={chart:b.chart,dataIndex:a,dataset:d,datasetIndex:b.index};return vd([b.chart.options.elements.arc.angle,2*Math.PI/c],f,a)}});Gc._set("pie",Jc.clone(Gc.doughnut)),Gc._set("pie",{cutoutPercentage:0});var xd=pd,yd=Jc.valueOrDefault,zd=Jc.options.resolve;Gc._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var Ad=Vc.extend({datasetElementType:dd.Line,dataElementType:dd.Point,linkScales:Jc.noop,update:function(a){var b,c,d=this,e=d.getMeta(),f=e.dataset,g=e.data||[],h=d.chart.scale,i=d.getDataset();for(void 0!==i.tension&&void 0===i.lineTension&&(i.lineTension=i.tension),f._scale=h,f._datasetIndex=d.index,f._children=g,f._loop=!0,f._model=d._resolveLineOptions(f),f.pivot(),b=0,c=g.length;c>b;++b)d.updateElement(g[b],b,a);for(d.updateBezierControlPoints(),b=0,c=g.length;c>b;++b)g[b].pivot()},updateElement:function(a,b,c){var d=this,e=a.custom||{},f=d.getDataset(),g=d.chart.scale,h=g.getPointPositionForValue(b,f.data[b]),i=d._resolvePointOptions(a,b),j=d.getMeta().dataset._model,k=c?g.xCenter:h.x,l=c?g.yCenter:h.y;a._scale=g,a._options=i,a._datasetIndex=d.index,a._index=b,a._model={x:k,y:l,skip:e.skip||isNaN(k)||isNaN(l),radius:i.radius,pointStyle:i.pointStyle,rotation:i.rotation,backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,tension:yd(e.tension,j?j.tension:0),hitRadius:i.hitRadius}},_resolvePointOptions:function(a,b){var c,d,e,f=this,g=f.chart,h=g.data.datasets[f.index],i=a.custom||{},j=g.options.elements.point,k={},l={chart:g,dataIndex:b,dataset:h,datasetIndex:f.index},m={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},n=Object.keys(m);for(c=0,d=n.length;d>c;++c)e=n[c],k[e]=zd([i[e],h[m[e]],h[e],j[e]],l,b);return k},_resolveLineOptions:function(a){var b,c,d,e=this,f=e.chart,g=f.data.datasets[e.index],h=a.custom||{},i=f.options.elements.line,j={},k=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(b=0,c=k.length;c>b;++b)d=k[b],j[d]=zd([h[d],g[d],i[d]]);return j.tension=yd(g.lineTension,i.tension),j},updateBezierControlPoints:function(){function a(a,b,c){return Math.max(Math.min(a,c),b)}var b,c,d,e,f=this,g=f.getMeta(),h=f.chart.chartArea,i=g.data||[];for(b=0,c=i.length;c>b;++b)d=i[b]._model,e=Jc.splineCurve(Jc.previousItem(i,b,!0)._model,d,Jc.nextItem(i,b,!0)._model,d.tension),d.controlPointPreviousX=a(e.previous.x,h.left,h.right),d.controlPointPreviousY=a(e.previous.y,h.top,h.bottom),d.controlPointNextX=a(e.next.x,h.left,h.right),d.controlPointNextY=a(e.next.y,h.top,h.bottom)},setHoverStyle:function(a){var b=a._model,c=a._options,d=Jc.getHoverColor;a.$previousStyle={backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,radius:b.radius},b.backgroundColor=yd(c.hoverBackgroundColor,d(c.backgroundColor)),b.borderColor=yd(c.hoverBorderColor,d(c.borderColor)),b.borderWidth=yd(c.hoverBorderWidth,c.borderWidth),b.radius=yd(c.hoverRadius,c.radius)}});Gc._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}});var Bd=ud,Cd={bar:jd,bubble:md,doughnut:pd,horizontalBar:qd,line:ud,polarArea:wd,pie:xd,radar:Ad,scatter:Bd},Dd={modes:{single:function(a,b){var c=Ca(b,a),d=[];return Da(a,function(a){return a.inRange(c.x,c.y)?(d.push(a),d):void 0}),d.slice(0,1)},label:Ha,index:Ha,dataset:function(a,b,c){var d=Ca(b,a);c.axis=c.axis||"xy";var e=Ga(c.axis),f=c.intersect?Ea(a,d):Fa(a,d,!1,e);return f.length>0&&(f=a.getDatasetMeta(f[0]._datasetIndex).data),f},"x-axis":function(a,b){return Ha(a,b,{intersect:!1})},point:function(a,b){var c=Ca(b,a);return Ea(a,c)},nearest:function(a,b,c){var d=Ca(b,a);c.axis=c.axis||"xy";var e=Ga(c.axis);return Fa(a,d,c.intersect,e)},x:function(a,b,c){var d=Ca(b,a),e=[],f=!1;return Da(a,function(a){a.inXRange(d.x)&&e.push(a),a.inRange(d.x,d.y)&&(f=!0)}),c.intersect&&!f&&(e=[]),e},y:function(a,b,c){var d=Ca(b,a),e=[],f=!1;
return Da(a,function(a){a.inYRange(d.y)&&e.push(a),a.inRange(d.x,d.y)&&(f=!0)}),c.intersect&&!f&&(e=[]),e}}};Gc._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Ed={defaults:{},addBox:function(a,b){a.boxes||(a.boxes=[]),b.fullWidth=b.fullWidth||!1,b.position=b.position||"top",b.weight=b.weight||0,a.boxes.push(b)},removeBox:function(a,b){var c=a.boxes?a.boxes.indexOf(b):-1;-1!==c&&a.boxes.splice(c,1)},configure:function(a,b,c){for(var d,e=["fullWidth","position","weight"],f=e.length,g=0;f>g;++g)d=e[g],c.hasOwnProperty(d)&&(b[d]=c[d])},update:function(a,b,c){function d(a){var b,c=a.isHorizontal();c?(b=a.update(a.fullWidth?w:A,x/2),B-=b.height):(b=a.update(z,B),A-=b.width),D.push({horizontal:c,width:b.width,box:a})}function e(a){var b=Jc.findNextWhere(D,function(b){return b.box===a});if(b)if(b.horizontal){var c={left:Math.max(C.left,s.left),right:Math.max(C.right,s.right),top:0,bottom:0};a.update(a.fullWidth?w:A,x/2,c)}else a.update(b.width,B)}function f(a){var b=Jc.findNextWhere(D,function(b){return b.box===a}),c={left:0,right:0,top:C.top,bottom:C.bottom};b&&a.update(b.width,B,c)}function g(a){a.isHorizontal()?(a.left=a.fullWidth?j:C.left,a.right=a.fullWidth?b-k:C.left+A,a.top=J,a.bottom=J+a.height,J=a.bottom):(a.left=I,a.right=I+a.width,a.top=C.top,a.bottom=C.top+B,I=a.right)}if(a){var h=a.options.layout||{},i=Jc.options.toPadding(h.padding),j=i.left,k=i.right,l=i.top,m=i.bottom,n=Ia(a.boxes,"left"),o=Ia(a.boxes,"right"),p=Ia(a.boxes,"top"),q=Ia(a.boxes,"bottom"),r=Ia(a.boxes,"chartArea");Ja(n,!0),Ja(o,!1),Ja(p,!0),Ja(q,!1);var s,t=n.concat(o),u=p.concat(q),v=t.concat(u),w=b-j-k,x=c-l-m,y=w/2,z=(b-y)/t.length,A=w,B=x,C={top:l,left:j,bottom:m,right:k},D=[];Jc.each(v,d),s=Ka(v),Jc.each(t,e),La(t,C),Jc.each(u,e),La(u,C),Jc.each(t,f),C={top:l,left:j,bottom:m,right:k},La(v,C);var E=Math.max(s.left-C.left,0);C.left+=E,C.right+=Math.max(s.right-C.right,0);var F=Math.max(s.top-C.top,0);C.top+=F,C.bottom+=Math.max(s.bottom-C.bottom,0);var G=c-C.top-C.bottom,H=b-C.left-C.right;(H!==A||G!==B)&&(Jc.each(t,function(a){a.height=G}),Jc.each(u,function(a){a.fullWidth||(a.width=H)}),B=G,A=H);var I=j+E,J=l+F;Jc.each(n.concat(p),g),I+=A,J+=B,Jc.each(o,g),Jc.each(q,g),a.chartArea={left:C.left,top:C.top,right:C.left+A,bottom:C.top+B},Jc.each(r,function(b){b.left=a.chartArea.left,b.top=a.chartArea.top,b.right=a.chartArea.right,b.bottom=a.chartArea.bottom,b.update(A,B)})}}},Fd={acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}},Gd="/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n	from { opacity: 0.99; }\n	to { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n	animation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n	position: absolute;\n	direction: ltr;\n	left: 0;\n	top: 0;\n	right: 0;\n	bottom: 0;\n	overflow: hidden;\n	pointer-events: none;\n	visibility: hidden;\n	z-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n	position: absolute;\n	width: 1000000px;\n	height: 1000000px;\n	left: 0;\n	top: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n	position: absolute;\n	width: 200%;\n	height: 200%;\n	left: 0;\n	top: 0;\n}\n",Hd=Object.freeze({"default":Gd}),Id=Ma(Hd),Jd="$chartjs",Kd="chartjs-",Ld=Kd+"size-monitor",Md=Kd+"render-monitor",Nd=Kd+"render-animation",Od=["animationstart","webkitAnimationStart"],Pd={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qd=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,b)}catch(c){}return a}(),Rd=Qd?{passive:!0}:!1,Sd={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){this._loaded||(this._loaded=!0,this.disableCSSInjection||$a(this,Id))},acquireContext:function(a,b){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas);var c=a&&a.getContext&&a.getContext("2d");return this._ensureLoaded(),c&&c.canvas===a?(Oa(a,b),c):null},releaseContext:function(a){var b=a.canvas;if(b[Jd]){var c=b[Jd].initial;["height","width"].forEach(function(a){var d=c[a];Jc.isNullOrUndef(d)?b.removeAttribute(a):b.setAttribute(a,d)}),Jc.each(c.style||{},function(a,c){b.style[c]=a}),b.width=b.width,delete b[Jd]}},addEventListener:function(a,b,c){var d=a.canvas;if("resize"===b)return void Ya(d,c,a);var e=c[Jd]||(c[Jd]={}),f=e.proxies||(e.proxies={}),g=f[a.id+"_"+b]=function(b){c(Sa(b,a))};Pa(d,b,g)},removeEventListener:function(a,b,c){var d=a.canvas;if("resize"===b)return void Za(d);var e=c[Jd]||{},f=e.proxies||{},g=f[a.id+"_"+b];g&&Qa(d,b,g)}};Jc.addEvent=Pa,Jc.removeEvent=Qa;var Td=Sd._enabled?Sd:Fd,Ud=Jc.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Td);Gc._set("global",{plugins:{}});var Vd={_plugins:[],_cacheId:0,register:function(a){var b=this._plugins;[].concat(a).forEach(function(a){-1===b.indexOf(a)&&b.push(a)}),this._cacheId++},unregister:function(a){var b=this._plugins;[].concat(a).forEach(function(a){var c=b.indexOf(a);-1!==c&&b.splice(c,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,b,c){var d,e,f,g,h,i=this.descriptors(a),j=i.length;for(d=0;j>d;++d)if(e=i[d],f=e.plugin,h=f[b],"function"==typeof h&&(g=[a].concat(c||[]),g.push(e.options),h.apply(f,g)===!1))return!1;return!0},descriptors:function(a){var b=a.$plugins||(a.$plugins={});if(b.id===this._cacheId)return b.descriptors;var c=[],d=[],e=a&&a.config||{},f=e.options&&e.options.plugins||{};return this._plugins.concat(e.plugins||[]).forEach(function(a){var b=c.indexOf(a);if(-1===b){var e=a.id,g=f[e];g!==!1&&(g===!0&&(g=Jc.clone(Gc.global.plugins[e])),c.push(a),d.push({plugin:a,options:g||{}}))}}),b.descriptors=d,b.id=this._cacheId,d},_invalidate:function(a){delete a.$plugins}},Wd={constructors:{},defaults:{},registerScaleType:function(a,b,c){this.constructors[a]=b,this.defaults[a]=Jc.clone(c)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?Jc.merge({},[Gc.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,b){var c=this;c.defaults.hasOwnProperty(a)&&(c.defaults[a]=Jc.extend(c.defaults[a],b))},addScalesToLayout:function(a){Jc.each(a.scales,function(b){b.fullWidth=b.options.fullWidth,b.position=b.options.position,b.weight=b.options.weight,Ed.addBox(a,b)})}},Xd=Jc.valueOrDefault;Gc._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Jc.noop,title:function(a,b){var c="",d=b.labels,e=d?d.length:0;if(a.length>0){var f=a[0];f.label?c=f.label:f.xLabel?c=f.xLabel:e>0&&f.index<e&&(c=d[f.index])}return c},afterTitle:Jc.noop,beforeBody:Jc.noop,beforeLabel:Jc.noop,label:function(a,b){var c=b.datasets[a.datasetIndex].label||"";return c&&(c+=": "),c+=Jc.isNullOrUndef(a.value)?a.yLabel:a.value},labelColor:function(a,b){var c=b.getDatasetMeta(a.datasetIndex),d=c.data[a.index],e=d._view;return{borderColor:e.borderColor,backgroundColor:e.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Jc.noop,afterBody:Jc.noop,beforeFooter:Jc.noop,footer:Jc.noop,afterFooter:Jc.noop}}});var Yd={average:function(a){if(!a.length)return!1;var b,c,d=0,e=0,f=0;for(b=0,c=a.length;c>b;++b){var g=a[b];if(g&&g.hasValue()){var h=g.tooltipPosition();d+=h.x,e+=h.y,++f}}return{x:d/f,y:e/f}},nearest:function(a,b){var c,d,e,f=b.x,g=b.y,h=Number.POSITIVE_INFINITY;for(c=0,d=a.length;d>c;++c){var i=a[c];if(i&&i.hasValue()){var j=i.getCenterPoint(),k=Jc.distanceBetweenPoints(b,j);h>k&&(h=k,e=i)}}if(e){var l=e.tooltipPosition();f=l.x,g=l.y}return{x:f,y:g}}},Zd=Oc.extend({initialize:function(){this._model=cb(this._options),this._lastActive=[]},getTitle:function(){var a=this,b=a._options,c=b.callbacks,d=c.beforeTitle.apply(a,arguments),e=c.title.apply(a,arguments),f=c.afterTitle.apply(a,arguments),g=[];return g=_a(g,ab(d)),g=_a(g,ab(e)),g=_a(g,ab(f))},getBeforeBody:function(){return hb(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(a,b){var c=this,d=c._options.callbacks,e=[];return Jc.each(a,function(a){var f={before:[],lines:[],after:[]};_a(f.before,ab(d.beforeLabel.call(c,a,b))),_a(f.lines,d.label.call(c,a,b)),_a(f.after,ab(d.afterLabel.call(c,a,b))),e.push(f)}),e},getAfterBody:function(){return hb(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var a=this,b=a._options.callbacks,c=b.beforeFooter.apply(a,arguments),d=b.footer.apply(a,arguments),e=b.afterFooter.apply(a,arguments),f=[];return f=_a(f,ab(c)),f=_a(f,ab(d)),f=_a(f,ab(e))},update:function(a){var b,c,d=this,e=d._options,f=d._model,g=d._model=cb(e),h=d._active,i=d._data,j={xAlign:f.xAlign,yAlign:f.yAlign},k={x:f.x,y:f.y},l={width:f.width,height:f.height},m={x:f.caretX,y:f.caretY};if(h.length){g.opacity=1;var n=[],o=[];m=Yd[e.position].call(d,h,d._eventPosition);var p=[];for(b=0,c=h.length;c>b;++b)p.push(bb(h[b]));e.filter&&(p=p.filter(function(a){return e.filter(a,i)})),e.itemSort&&(p=p.sort(function(a,b){return e.itemSort(a,b,i)})),Jc.each(p,function(a){n.push(e.callbacks.labelColor.call(d,a,d._chart)),o.push(e.callbacks.labelTextColor.call(d,a,d._chart))}),g.title=d.getTitle(p,i),g.beforeBody=d.getBeforeBody(p,i),g.body=d.getBody(p,i),g.afterBody=d.getAfterBody(p,i),g.footer=d.getFooter(p,i),g.x=m.x,g.y=m.y,g.caretPadding=e.caretPadding,g.labelColors=n,g.labelTextColors=o,g.dataPoints=p,l=db(this,g),j=eb(this,l),k=fb(g,l,j,d._chart)}else g.opacity=0;return g.xAlign=j.xAlign,g.yAlign=j.yAlign,g.x=k.x,g.y=k.y,g.width=l.width,g.height=l.height,g.caretX=m.x,g.caretY=m.y,d._model=g,a&&e.custom&&e.custom.call(d,g),d},drawCaret:function(a,b){var c=this._chart.ctx,d=this._view,e=this.getCaretPosition(a,b,d);c.lineTo(e.x1,e.y1),c.lineTo(e.x2,e.y2),c.lineTo(e.x3,e.y3)},getCaretPosition:function(a,b,c){var d,e,f,g,h,i,j=c.caretSize,k=c.cornerRadius,l=c.xAlign,m=c.yAlign,n=a.x,o=a.y,p=b.width,q=b.height;if("center"===m)h=o+q/2,"left"===l?(d=n,e=d-j,f=d,g=h+j,i=h-j):(d=n+p,e=d+j,f=d,g=h-j,i=h+j);else if("left"===l?(e=n+k+j,d=e-j,f=e+j):"right"===l?(e=n+p-k-j,d=e-j,f=e+j):(e=c.caretX,d=e-j,f=e+j),"top"===m)g=o,h=g-j,i=g;else{g=o+q,h=g+j,i=g;var r=f;f=d,d=r}return{x1:d,x2:e,x3:f,y1:g,y2:h,y3:i}},drawTitle:function(a,b,c){var d=b.title;if(d.length){a.x=gb(b,b._titleAlign),c.textAlign=b._titleAlign,c.textBaseline="top";var e=b.titleFontSize,f=b.titleSpacing;c.fillStyle=b.titleFontColor,c.font=Jc.fontString(e,b._titleFontStyle,b._titleFontFamily);var g,h;for(g=0,h=d.length;h>g;++g)c.fillText(d[g],a.x,a.y),a.y+=e+f,g+1===d.length&&(a.y+=b.titleMarginBottom-f)}},drawBody:function(a,b,c){var d,e=b.bodyFontSize,f=b.bodySpacing,g=b._bodyAlign,h=b.body,i=b.displayColors,j=b.labelColors,k=0,l=i?gb(b,"left"):0;c.textAlign=g,c.textBaseline="top",c.font=Jc.fontString(e,b._bodyFontStyle,b._bodyFontFamily),a.x=gb(b,g);var m=function(b){c.fillText(b,a.x+k,a.y),a.y+=e+f};c.fillStyle=b.bodyFontColor,Jc.each(b.beforeBody,m),k=i&&"right"!==g?"center"===g?e/2+1:e+2:0,Jc.each(h,function(f,g){d=b.labelTextColors[g],c.fillStyle=d,Jc.each(f.before,m),Jc.each(f.lines,function(f){i&&(c.fillStyle=b.legendColorBackground,c.fillRect(l,a.y,e,e),c.lineWidth=1,c.strokeStyle=j[g].borderColor,c.strokeRect(l,a.y,e,e),c.fillStyle=j[g].backgroundColor,c.fillRect(l+1,a.y+1,e-2,e-2),c.fillStyle=d),m(f)}),Jc.each(f.after,m)}),k=0,Jc.each(b.afterBody,m),a.y-=f},drawFooter:function(a,b,c){var d=b.footer;d.length&&(a.x=gb(b,b._footerAlign),a.y+=b.footerMarginTop,c.textAlign=b._footerAlign,c.textBaseline="top",c.fillStyle=b.footerFontColor,c.font=Jc.fontString(b.footerFontSize,b._footerFontStyle,b._footerFontFamily),Jc.each(d,function(d){c.fillText(d,a.x,a.y),a.y+=b.footerFontSize+b.footerSpacing}))},drawBackground:function(a,b,c,d){c.fillStyle=b.backgroundColor,c.strokeStyle=b.borderColor,c.lineWidth=b.borderWidth;var e=b.xAlign,f=b.yAlign,g=a.x,h=a.y,i=d.width,j=d.height,k=b.cornerRadius;c.beginPath(),c.moveTo(g+k,h),"top"===f&&this.drawCaret(a,d),c.lineTo(g+i-k,h),c.quadraticCurveTo(g+i,h,g+i,h+k),"center"===f&&"right"===e&&this.drawCaret(a,d),c.lineTo(g+i,h+j-k),c.quadraticCurveTo(g+i,h+j,g+i-k,h+j),"bottom"===f&&this.drawCaret(a,d),c.lineTo(g+k,h+j),c.quadraticCurveTo(g,h+j,g,h+j-k),"center"===f&&"left"===e&&this.drawCaret(a,d),c.lineTo(g,h+k),c.quadraticCurveTo(g,h,g+k,h),c.closePath(),c.fill(),b.borderWidth>0&&c.stroke()},draw:function(){var a=this._chart.ctx,b=this._view;if(0!==b.opacity){var c={width:b.width,height:b.height},d={x:b.x,y:b.y},e=Math.abs(b.opacity<.001)?0:b.opacity,f=b.title.length||b.beforeBody.length||b.body.length||b.afterBody.length||b.footer.length;this._options.enabled&&f&&(a.save(),a.globalAlpha=e,this.drawBackground(d,b,a,c),d.y+=b.yPadding,this.drawTitle(d,b,a),this.drawBody(d,b,a),this.drawFooter(d,b,a),a.restore())}},handleEvent:function(a){var b=this,c=b._options,d=!1;return b._lastActive=b._lastActive||[],"mouseout"===a.type?b._active=[]:b._active=b._chart.getElementsAtEventForMode(a,c.mode,c),d=!Jc.arrayEquals(b._active,b._lastActive),d&&(b._lastActive=b._active,(c.enabled||c.custom)&&(b._eventPosition={x:a.x,y:a.y},b.update(!0),b.pivot())),d}}),$d=Yd,_d=Zd;_d.positioners=$d;var ae=Jc.valueOrDefault;Gc._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var be=function(a,b){return this.construct(a,b),this};Jc.extend(be.prototype,{construct:function(a,b){var c=this;b=kb(b);var d=Ud.acquireContext(a,b),e=d&&d.canvas,f=e&&e.height,g=e&&e.width;return c.id=Jc.uid(),c.ctx=d,c.canvas=e,c.config=b,c.width=g,c.height=f,c.aspectRatio=f?g/f:null,c.options=b.options,c._bufferedRender=!1,c.chart=c,c.controller=c,be.instances[c.id]=c,Object.defineProperty(c,"data",{get:function(){return c.config.data},set:function(a){c.config.data=a}}),d&&e?(c.initialize(),void c.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var a=this;return Vd.notify(a,"beforeInit"),Jc.retinaScale(a,a.options.devicePixelRatio),a.bindEvents(),a.options.responsive&&a.resize(!0),a.ensureScalesHaveIDs(),a.buildOrUpdateScales(),a.initToolTip(),Vd.notify(a,"afterInit"),a},clear:function(){return Jc.canvas.clear(this),this},stop:function(){return Rc.cancelAnimation(this),this},resize:function(a){var b=this,c=b.options,d=b.canvas,e=c.maintainAspectRatio&&b.aspectRatio||null,f=Math.max(0,Math.floor(Jc.getMaximumWidth(d))),g=Math.max(0,Math.floor(e?f/e:Jc.getMaximumHeight(d)));if((b.width!==f||b.height!==g)&&(d.width=b.width=f,d.height=b.height=g,d.style.width=f+"px",d.style.height=g+"px",Jc.retinaScale(b,c.devicePixelRatio),!a)){var h={width:f,height:g};Vd.notify(b,"resize",[h]),c.onResize&&c.onResize(b,h),b.stop(),b.update({duration:c.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var a=this.options,b=a.scales||{},c=a.scale;Jc.each(b.xAxes,function(a,b){a.id=a.id||"x-axis-"+b}),Jc.each(b.yAxes,function(a,b){a.id=a.id||"y-axis-"+b}),c&&(c.id=c.id||"scale")},buildOrUpdateScales:function(){var a=this,b=a.options,c=a.scales||{},d=[],e=Object.keys(c).reduce(function(a,b){return a[b]=!1,a},{});b.scales&&(d=d.concat((b.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category",dposition:"bottom"}}),(b.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear",dposition:"left"}}))),b.scale&&d.push({options:b.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Jc.each(d,function(b){var d=b.options,f=d.id,g=ae(d.type,b.dtype);mb(d.position)!==mb(b.dposition)&&(d.position=b.dposition),e[f]=!0;var h=null;if(f in c&&c[f].type===g)h=c[f],h.options=d,h.ctx=a.ctx,h.chart=a;else{var i=Wd.getScaleConstructor(g);if(!i)return;h=new i({id:f,type:g,options:d,ctx:a.ctx,chart:a}),c[h.id]=h}h.mergeTicksOptions(),b.isDefault&&(a.scale=h)}),Jc.each(e,function(a,b){a||delete c[b]}),a.scales=c,Wd.addScalesToLayout(this)},buildOrUpdateControllers:function(){var a=this,b=[];return Jc.each(a.data.datasets,function(c,d){var e=a.getDatasetMeta(d),f=c.type||a.config.type;if(e.type&&e.type!==f&&(a.destroyDatasetMeta(d),e=a.getDatasetMeta(d)),e.type=f,e.controller)e.controller.updateIndex(d),e.controller.linkScales();else{var g=Cd[e.type];if(void 0===g)throw new Error('"'+e.type+'" is not a chart type.');e.controller=new g(a,d),b.push(e.controller)}},a),b},resetElements:function(){var a=this;Jc.each(a.data.datasets,function(b,c){a.getDatasetMeta(c).controller.reset()},a)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(a){var b=this;if(a&&"object"==typeof a||(a={duration:a,lazy:arguments[1]}),lb(b),Vd._invalidate(b),Vd.notify(b,"beforeUpdate")!==!1){b.tooltip._data=b.data;var c=b.buildOrUpdateControllers();Jc.each(b.data.datasets,function(a,c){b.getDatasetMeta(c).controller.buildOrUpdateElements()},b),b.updateLayout(),b.options.animation&&b.options.animation.duration&&Jc.each(c,function(a){a.reset()}),b.updateDatasets(),b.tooltip.initialize(),b.lastActive=[],Vd.notify(b,"afterUpdate"),b._bufferedRender?b._bufferedRequest={duration:a.duration,easing:a.easing,lazy:a.lazy}:b.render(a)}},updateLayout:function(){var a=this;Vd.notify(a,"beforeLayout")!==!1&&(Ed.update(this,this.width,this.height),Vd.notify(a,"afterScaleUpdate"),Vd.notify(a,"afterLayout"))},updateDatasets:function(){var a=this;if(Vd.notify(a,"beforeDatasetsUpdate")!==!1){for(var b=0,c=a.data.datasets.length;c>b;++b)a.updateDataset(b);Vd.notify(a,"afterDatasetsUpdate")}},updateDataset:function(a){var b=this,c=b.getDatasetMeta(a),d={meta:c,index:a};Vd.notify(b,"beforeDatasetUpdate",[d])!==!1&&(c.controller.update(),Vd.notify(b,"afterDatasetUpdate",[d]))},render:function(a){var b=this;a&&"object"==typeof a||(a={duration:a,lazy:arguments[1]});var c=b.options.animation,d=ae(a.duration,c&&c.duration),e=a.lazy;if(Vd.notify(b,"beforeRender")!==!1){var f=function(a){Vd.notify(b,"afterRender"),Jc.callback(c&&c.onComplete,[a],b)};if(c&&d){var g=new Qc({numSteps:d/16.66,easing:a.easing||c.easing,render:function(a,b){var c=Jc.easing.effects[b.easing],d=b.currentStep,e=d/b.numSteps;a.draw(c(e),e,d)},onAnimationProgress:c.onProgress,onAnimationComplete:f});Rc.addAnimation(b,g,d,e)}else b.draw(),f(new Qc({numSteps:0,chart:b}));return b}},draw:function(a){var b=this;b.clear(),Jc.isNullOrUndef(a)&&(a=1),b.transition(a),b.width<=0||b.height<=0||Vd.notify(b,"beforeDraw",[a])!==!1&&(Jc.each(b.boxes,function(a){a.draw(b.chartArea)},b),b.drawDatasets(a),b._drawTooltip(a),Vd.notify(b,"afterDraw",[a]))},transition:function(a){for(var b=this,c=0,d=(b.data.datasets||[]).length;d>c;++c)b.isDatasetVisible(c)&&b.getDatasetMeta(c).controller.transition(a);b.tooltip.transition(a)},drawDatasets:function(a){var b=this;if(Vd.notify(b,"beforeDatasetsDraw",[a])!==!1){for(var c=(b.data.datasets||[]).length-1;c>=0;--c)b.isDatasetVisible(c)&&b.drawDataset(c,a);Vd.notify(b,"afterDatasetsDraw",[a])}},drawDataset:function(a,b){var c=this,d=c.getDatasetMeta(a),e={meta:d,index:a,easingValue:b};Vd.notify(c,"beforeDatasetDraw",[e])!==!1&&(d.controller.draw(b),Vd.notify(c,"afterDatasetDraw",[e]))},_drawTooltip:function(a){var b=this,c=b.tooltip,d={tooltip:c,easingValue:a};Vd.notify(b,"beforeTooltipDraw",[d])!==!1&&(c.draw(),Vd.notify(b,"afterTooltipDraw",[d]))},getElementAtEvent:function(a){return Dd.modes.single(this,a)},getElementsAtEvent:function(a){return Dd.modes.label(this,a,{intersect:!0})},getElementsAtXAxis:function(a){return Dd.modes["x-axis"](this,a,{intersect:!0})},getElementsAtEventForMode:function(a,b,c){var d=Dd.modes[b];return"function"==typeof d?d(this,a,c):[]},getDatasetAtEvent:function(a){return Dd.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){var b=this,c=b.data.datasets[a];c._meta||(c._meta={});var d=c._meta[b.id];return d||(d=c._meta[b.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),d},getVisibleDatasetCount:function(){for(var a=0,b=0,c=this.data.datasets.length;c>b;++b)this.isDatasetVisible(b)&&a++;return a},isDatasetVisible:function(a){var b=this.getDatasetMeta(a);return"boolean"==typeof b.hidden?!b.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var b=this.id,c=this.data.datasets[a],d=c._meta&&c._meta[b];d&&(d.controller.destroy(),delete c._meta[b])},destroy:function(){var a,b,c=this,d=c.canvas;for(c.stop(),a=0,b=c.data.datasets.length;b>a;++a)c.destroyDatasetMeta(a);d&&(c.unbindEvents(),Jc.canvas.clear(c),Ud.releaseContext(c.ctx),c.canvas=null,c.ctx=null),Vd.notify(c,"destroy"),delete be.instances[c.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var a=this;a.tooltip=new _d({_chart:a,_chartInstance:a,_data:a.data,_options:a.options.tooltips},a)},bindEvents:function(){var a=this,b=a._listeners={},c=function(){a.eventHandler.apply(a,arguments)};Jc.each(a.options.events,function(d){Ud.addEventListener(a,d,c),b[d]=c}),a.options.responsive&&(c=function(){a.resize()},Ud.addEventListener(a,"resize",c),b.resize=c)},unbindEvents:function(){var a=this,b=a._listeners;b&&(delete a._listeners,Jc.each(b,function(b,c){Ud.removeEventListener(a,c,b)}))},updateHoverStyle:function(a,b,c){var d,e,f,g=c?"setHoverStyle":"removeHoverStyle";for(e=0,f=a.length;f>e;++e)d=a[e],d&&this.getDatasetMeta(d._datasetIndex).controller[g](d)},eventHandler:function(a){var b=this,c=b.tooltip;if(Vd.notify(b,"beforeEvent",[a])!==!1){b._bufferedRender=!0,b._bufferedRequest=null;var d=b.handleEvent(a);c&&(d=c._start?c.handleEvent(a):d|c.handleEvent(a)),Vd.notify(b,"afterEvent",[a]);var e=b._bufferedRequest;return e?b.render(e):d&&!b.animating&&(b.stop(),b.render({duration:b.options.hover.animationDuration,lazy:!0})),b._bufferedRender=!1,b._bufferedRequest=null,b}},handleEvent:function(a){var b=this,c=b.options||{},d=c.hover,e=!1;return b.lastActive=b.lastActive||[],"mouseout"===a.type?b.active=[]:b.active=b.getElementsAtEventForMode(a,d.mode,d),Jc.callback(c.onHover||c.hover.onHover,[a["native"],b.active],b),("mouseup"===a.type||"click"===a.type)&&c.onClick&&c.onClick.call(b,a["native"],b.active),b.lastActive.length&&b.updateHoverStyle(b.lastActive,d.mode,!1),b.active.length&&d.mode&&b.updateHoverStyle(b.active,d.mode,!0),e=!Jc.arrayEquals(b.active,b.lastActive),b.lastActive=b.active,e}}),be.instances={};var ce=be;be.Controller=be,be.types={},Jc.configMerge=jb,Jc.scaleMerge=ib;var de=function(){function a(a,b,c){var d;return"string"==typeof a?(d=parseInt(a,10),-1!==a.indexOf("%")&&(d=d/100*b.parentNode[c])):d=a,d}function b(a){return void 0!==a&&null!==a&&"none"!==a}function c(c,d,e){var f=document.defaultView,g=Jc._getParentNode(c),h=f.getComputedStyle(c)[d],i=f.getComputedStyle(g)[d],j=b(h),k=b(i),l=Number.POSITIVE_INFINITY;return j||k?Math.min(j?a(h,c,e):l,k?a(i,g,e):l):"none"}Jc.where=function(a,b){if(Jc.isArray(a)&&Array.prototype.filter)return a.filter(b);var c=[];return Jc.each(a,function(a){b(a)&&c.push(a)}),c},Jc.findIndex=Array.prototype.findIndex?function(a,b,c){return a.findIndex(b,c)}:function(a,b,c){c=void 0===c?a:c;for(var d=0,e=a.length;e>d;++d)if(b.call(c,a[d],d,a))return d;return-1},Jc.findNextWhere=function(a,b,c){Jc.isNullOrUndef(c)&&(c=-1);for(var d=c+1;d<a.length;d++){var e=a[d];if(b(e))return e}},Jc.findPreviousWhere=function(a,b,c){Jc.isNullOrUndef(c)&&(c=a.length);for(var d=c-1;d>=0;d--){var e=a[d];if(b(e))return e}},Jc.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},Jc.almostEquals=function(a,b,c){return Math.abs(a-b)<c},Jc.almostWhole=function(a,b){var c=Math.round(a);return a>c-b&&c+b>a},Jc.max=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.max(a,b)},Number.NEGATIVE_INFINITY)},Jc.min=function(a){return a.reduce(function(a,b){return isNaN(b)?a:Math.min(a,b)},Number.POSITIVE_INFINITY)},Jc.sign=Math.sign?function(a){return Math.sign(a)}:function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1},Jc.log10=Math.log10?function(a){return Math.log10(a)}:function(a){var b=Math.log(a)*Math.LOG10E,c=Math.round(b),d=a===Math.pow(10,c);return d?c:b},Jc.toRadians=function(a){return a*(Math.PI/180)},Jc.toDegrees=function(a){return a*(180/Math.PI)},Jc._decimalPlaces=function(a){if(Jc.isFinite(a)){for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}},Jc.getAngleFromPoint=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=Math.sqrt(c*c+d*d),f=Math.atan2(d,c);return f<-.5*Math.PI&&(f+=2*Math.PI),{angle:f,distance:e}},Jc.distanceBetweenPoints=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},Jc.aliasPixel=function(a){return a%2===0?0:.5},Jc._alignPixel=function(a,b,c){var d=a.currentDevicePixelRatio,e=c/2;return Math.round((b-e)*d)/d+e},Jc.splineCurve=function(a,b,c,d){var e=a.skip?b:a,f=b,g=c.skip?b:c,h=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),i=Math.sqrt(Math.pow(g.x-f.x,2)+Math.pow(g.y-f.y,2)),j=h/(h+i),k=i/(h+i);j=isNaN(j)?0:j,k=isNaN(k)?0:k;var l=d*j,m=d*k;return{previous:{x:f.x-l*(g.x-e.x),y:f.y-l*(g.y-e.y)},next:{x:f.x+m*(g.x-e.x),y:f.y+m*(g.y-e.y)}}},Jc.EPSILON=Number.EPSILON||1e-14,Jc.splineCurveMonotone=function(a){var b,c,d,e,f=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),g=f.length;for(b=0;g>b;++b)if(d=f[b],!d.model.skip){if(c=b>0?f[b-1]:null,e=g-1>b?f[b+1]:null,e&&!e.model.skip){var h=e.model.x-d.model.x;d.deltaK=0!==h?(e.model.y-d.model.y)/h:0}!c||c.model.skip?d.mK=d.deltaK:!e||e.model.skip?d.mK=c.deltaK:this.sign(c.deltaK)!==this.sign(d.deltaK)?d.mK=0:d.mK=(c.deltaK+d.deltaK)/2}var i,j,k,l;for(b=0;g-1>b;++b)d=f[b],e=f[b+1],d.model.skip||e.model.skip||(Jc.almostEquals(d.deltaK,0,this.EPSILON)?d.mK=e.mK=0:(i=d.mK/d.deltaK,j=e.mK/d.deltaK,l=Math.pow(i,2)+Math.pow(j,2),9>=l||(k=3/Math.sqrt(l),d.mK=i*k*d.deltaK,e.mK=j*k*d.deltaK)));var m;for(b=0;g>b;++b)d=f[b],d.model.skip||(c=b>0?f[b-1]:null,e=g-1>b?f[b+1]:null,c&&!c.model.skip&&(m=(d.model.x-c.model.x)/3,d.model.controlPointPreviousX=d.model.x-m,d.model.controlPointPreviousY=d.model.y-m*d.mK),e&&!e.model.skip&&(m=(e.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+m,d.model.controlPointNextY=d.model.y+m*d.mK))},Jc.nextItem=function(a,b,c){return c?b>=a.length-1?a[0]:a[b+1]:b>=a.length-1?a[a.length-1]:a[b+1]},Jc.previousItem=function(a,b,c){return c?0>=b?a[a.length-1]:a[b-1]:0>=b?a[0]:a[b-1]},Jc.niceNum=function(a,b){var c,d=Math.floor(Jc.log10(a)),e=a/Math.pow(10,d);return c=b?1.5>e?1:3>e?2:7>e?5:10:1>=e?1:2>=e?2:5>=e?5:10,c*Math.pow(10,d)},Jc.requestAnimFrame=function(){return"undefined"==typeof window?function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),Jc.getRelativePosition=function(a,b){var c,d,e=a.originalEvent||a,f=a.target||a.srcElement,g=f.getBoundingClientRect(),h=e.touches;h&&h.length>0?(c=h[0].clientX,d=h[0].clientY):(c=e.clientX,d=e.clientY);var i=parseFloat(Jc.getStyle(f,"padding-left")),j=parseFloat(Jc.getStyle(f,"padding-top")),k=parseFloat(Jc.getStyle(f,"padding-right")),l=parseFloat(Jc.getStyle(f,"padding-bottom")),m=g.right-g.left-i-k,n=g.bottom-g.top-j-l;return c=Math.round((c-g.left-i)/m*f.width/b.currentDevicePixelRatio),d=Math.round((d-g.top-j)/n*f.height/b.currentDevicePixelRatio),{x:c,y:d}},Jc.getConstraintWidth=function(a){return c(a,"max-width","clientWidth")},Jc.getConstraintHeight=function(a){return c(a,"max-height","clientHeight")},Jc._calculatePadding=function(a,b,c){return b=Jc.getStyle(a,b),b.indexOf("%")>-1?c*parseInt(b,10)/100:parseInt(b,10)},Jc._getParentNode=function(a){var b=a.parentNode;return b&&"[object ShadowRoot]"===b.toString()&&(b=b.host),b},Jc.getMaximumWidth=function(a){var b=Jc._getParentNode(a);if(!b)return a.clientWidth;var c=b.clientWidth,d=Jc._calculatePadding(b,"padding-left",c),e=Jc._calculatePadding(b,"padding-right",c),f=c-d-e,g=Jc.getConstraintWidth(a);return isNaN(g)?f:Math.min(f,g)},Jc.getMaximumHeight=function(a){var b=Jc._getParentNode(a);if(!b)return a.clientHeight;var c=b.clientHeight,d=Jc._calculatePadding(b,"padding-top",c),e=Jc._calculatePadding(b,"padding-bottom",c),f=c-d-e,g=Jc.getConstraintHeight(a);return isNaN(g)?f:Math.min(f,g)},Jc.getStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,null).getPropertyValue(b)},Jc.retinaScale=function(a,b){var c=a.currentDevicePixelRatio=b||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==c){var d=a.canvas,e=a.height,f=a.width;d.height=e*c,d.width=f*c,a.ctx.scale(c,c),d.style.height||d.style.width||(d.style.height=e+"px",d.style.width=f+"px")}},Jc.fontString=function(a,b,c){return b+" "+a+"px "+c},Jc.longestText=function(a,b,c,d){d=d||{};var e=d.data=d.data||{},f=d.garbageCollect=d.garbageCollect||[];d.font!==b&&(e=d.data={},f=d.garbageCollect=[],d.font=b),a.font=b;var g=0;Jc.each(c,function(b){void 0!==b&&null!==b&&Jc.isArray(b)!==!0?g=Jc.measureText(a,e,f,g,b):Jc.isArray(b)&&Jc.each(b,function(b){void 0===b||null===b||Jc.isArray(b)||(g=Jc.measureText(a,e,f,g,b))})});var h=f.length/2;if(h>c.length){for(var i=0;h>i;i++)delete e[f[i]];f.splice(0,h)}return g},Jc.measureText=function(a,b,c,d,e){var f=b[e];return f||(f=b[e]=a.measureText(e).width,c.push(e)),f>d&&(d=f),d},Jc.numberOfLabelLines=function(a){var b=1;return Jc.each(a,function(a){Jc.isArray(a)&&a.length>b&&(b=a.length)}),b},Jc.color=sc?function(a){return a instanceof CanvasGradient&&(a=Gc.global.defaultColor),sc(a)}:function(a){return console.error("Color.js not found!"),a},Jc.getHoverColor=function(a){return a instanceof CanvasPattern||a instanceof CanvasGradient?a:Jc.color(a).saturate(.5).darken(.1).rgbString()}};Jc.extend(ob.prototype,{formats:nb,parse:nb,format:nb,add:nb,diff:nb,startOf:nb,endOf:nb,_create:function(a){return a}}),ob.override=function(a){Jc.extend(ob.prototype,a)};var ee=ob,fe={_date:ee},ge={formatters:{values:function(a){return Jc.isArray(a)?a:""+a},linear:function(a,b,c){var d=c.length>3?c[2]-c[1]:c[1]-c[0];Math.abs(d)>1&&a!==Math.floor(a)&&(d=a-Math.floor(a));var e=Jc.log10(Math.abs(d)),f="";if(0!==a){var g=Math.max(Math.abs(c[0]),Math.abs(c[c.length-1]));if(1e-4>g){var h=Jc.log10(Math.abs(a));f=a.toExponential(Math.floor(h)-Math.floor(e))}else{var i=-1*Math.floor(e);i=Math.max(Math.min(i,20),0),f=a.toFixed(i)}}else f="0";return f},logarithmic:function(a,b,c){var d=a/Math.pow(10,Math.floor(Jc.log10(a)));return 0===a?"0":1===d||2===d||5===d||0===b||b===c.length-1?a.toExponential():""}}},he=Jc.valueOrDefault,ie=Jc.valueAtIndexOrDefault;Gc._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,
maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:ge.formatters.values,minor:{},major:{}}});var je=Oc.extend({getPadding:function(){var a=this;return{left:a.paddingLeft||0,top:a.paddingTop||0,right:a.paddingRight||0,bottom:a.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var a=this.options.ticks;a.minor===!1&&(a.minor={display:!1}),a.major===!1&&(a.major={display:!1});for(var b in a)"major"!==b&&"minor"!==b&&("undefined"==typeof a.minor[b]&&(a.minor[b]=a[b]),"undefined"==typeof a.major[b]&&(a.major[b]=a[b]))},beforeUpdate:function(){Jc.callback(this.options.beforeUpdate,[this])},update:function(a,b,c){var d,e,f,g,h,i,j=this;for(j.beforeUpdate(),j.maxWidth=a,j.maxHeight=b,j.margins=Jc.extend({left:0,right:0,top:0,bottom:0},c),j._maxLabelLines=0,j.longestLabelWidth=0,j.longestTextCache=j.longestTextCache||{},j.beforeSetDimensions(),j.setDimensions(),j.afterSetDimensions(),j.beforeDataLimits(),j.determineDataLimits(),j.afterDataLimits(),j.beforeBuildTicks(),h=j.buildTicks()||[],h=j.afterBuildTicks(h)||h,j.beforeTickToLabelConversion(),f=j.convertTicksToLabels(h)||j.ticks,j.afterTickToLabelConversion(),j.ticks=f,d=0,e=f.length;e>d;++d)g=f[d],i=h[d],i?i.label=g:h.push(i={label:g,major:!1});return j._ticks=h,j.beforeCalculateTickRotation(),j.calculateTickRotation(),j.afterCalculateTickRotation(),j.beforeFit(),j.fit(),j.afterFit(),j.afterUpdate(),j.minSize},afterUpdate:function(){Jc.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Jc.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0},afterSetDimensions:function(){Jc.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Jc.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Jc.noop,afterDataLimits:function(){Jc.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Jc.callback(this.options.beforeBuildTicks,[this])},buildTicks:Jc.noop,afterBuildTicks:function(a){var b=this;return Jc.isArray(a)&&a.length?Jc.callback(b.options.afterBuildTicks,[b,a]):(b.ticks=Jc.callback(b.options.afterBuildTicks,[b,b.ticks])||b.ticks,a)},beforeTickToLabelConversion:function(){Jc.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this,b=a.options.ticks;a.ticks=a.ticks.map(b.userCallback||b.callback,this)},afterTickToLabelConversion:function(){Jc.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Jc.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var a=this,b=a.ctx,c=a.options.ticks,d=pb(a._ticks),e=Jc.options._parseFont(c);b.font=e.string;var f=c.minRotation||0;if(d.length&&a.options.display&&a.isHorizontal())for(var g,h,i=Jc.longestText(b,e.string,d,a.longestTextCache),j=i,k=a.getPixelForTick(1)-a.getPixelForTick(0)-6;j>k&&f<c.maxRotation;){var l=Jc.toRadians(f);if(g=Math.cos(l),h=Math.sin(l),h*i>a.maxHeight){f--;break}f++,j=g*i}a.labelRotation=f},afterCalculateTickRotation:function(){Jc.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Jc.callback(this.options.beforeFit,[this])},fit:function(){var a=this,b=a.minSize={width:0,height:0},c=pb(a._ticks),d=a.options,e=d.ticks,f=d.scaleLabel,g=d.gridLines,h=a._isVisible(),i=d.position,j=a.isHorizontal(),k=Jc.options._parseFont,l=k(e),m=d.gridLines.tickMarkLength;if(j?b.width=a.isFullWidth()?a.maxWidth-a.margins.left-a.margins.right:a.maxWidth:b.width=h&&g.drawTicks?m:0,j?b.height=h&&g.drawTicks?m:0:b.height=a.maxHeight,f.display&&h){var n=k(f),o=Jc.options.toPadding(f.padding),p=n.lineHeight+o.height;j?b.height+=p:b.width+=p}if(e.display&&h){var q=Jc.longestText(a.ctx,l.string,c,a.longestTextCache),r=Jc.numberOfLabelLines(c),s=.5*l.size,t=a.options.ticks.padding;if(a._maxLabelLines=r,a.longestLabelWidth=q,j){var u=Jc.toRadians(a.labelRotation),v=Math.cos(u),w=Math.sin(u),x=w*q+l.lineHeight*r+s;b.height=Math.min(a.maxHeight,b.height+x+t),a.ctx.font=l.string;var y,z,A=rb(a.ctx,c[0],l.string),B=rb(a.ctx,c[c.length-1],l.string),C=a.getPixelForTick(0)-a.left,D=a.right-a.getPixelForTick(c.length-1);0!==a.labelRotation?(y="bottom"===i?v*A:v*s,z="bottom"===i?v*s:v*B):(y=A/2,z=B/2),a.paddingLeft=Math.max(y-C,0)+3,a.paddingRight=Math.max(z-D,0)+3}else e.mirror?q=0:q+=t+s,b.width=Math.min(a.maxWidth,b.width+q),a.paddingTop=l.size/2,a.paddingBottom=l.size/2}a.handleMargins(),a.width=b.width,a.height=b.height},handleMargins:function(){var a=this;a.margins&&(a.paddingLeft=Math.max(a.paddingLeft-a.margins.left,0),a.paddingTop=Math.max(a.paddingTop-a.margins.top,0),a.paddingRight=Math.max(a.paddingRight-a.margins.right,0),a.paddingBottom=Math.max(a.paddingBottom-a.margins.bottom,0))},afterFit:function(){Jc.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(Jc.isNullOrUndef(a))return NaN;if(("number"==typeof a||a instanceof Number)&&!isFinite(a))return NaN;if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},getLabelForIndex:Jc.noop,getPixelForValue:Jc.noop,getValueForPixel:Jc.noop,getPixelForTick:function(a){var b=this,c=b.options.offset;if(b.isHorizontal()){var d=b.width-(b.paddingLeft+b.paddingRight),e=d/Math.max(b._ticks.length-(c?0:1),1),f=e*a+b.paddingLeft;c&&(f+=e/2);var g=b.left+f;return g+=b.isFullWidth()?b.margins.left:0}var h=b.height-(b.paddingTop+b.paddingBottom);return b.top+a*(h/(b._ticks.length-1))},getPixelForDecimal:function(a){var b=this;if(b.isHorizontal()){var c=b.width-(b.paddingLeft+b.paddingRight),d=c*a+b.paddingLeft,e=b.left+d;return e+=b.isFullWidth()?b.margins.left:0}return b.top+a*b.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this,b=a.min,c=a.max;return a.beginAtZero?0:0>b&&0>c?c:b>0&&c>0?b:0},_autoSkip:function(a){var b,c,d=this,e=d.isHorizontal(),f=d.options.ticks.minor,g=a.length,h=!1,i=f.maxTicksLimit,j=d._tickSize()*(g-1),k=e?d.width-(d.paddingLeft+d.paddingRight):d.height-(d.paddingTop+d.PaddingBottom),l=[];for(j>k&&(h=1+Math.floor(j/k)),g>i&&(h=Math.max(h,1+Math.floor(g/i))),b=0;g>b;b++)c=a[b],h>1&&b%h>0&&delete c.label,l.push(c);return l},_tickSize:function(){var a=this,b=a.isHorizontal(),c=a.options.ticks.minor,d=Jc.toRadians(a.labelRotation),e=Math.abs(Math.cos(d)),f=Math.abs(Math.sin(d)),g=c.autoSkipPadding||0,h=a.longestLabelWidth+g||0,i=Jc.options._parseFont(c),j=a._maxLabelLines*i.lineHeight+g||0;return b?j*e>h*f?h/e:j/f:h*e>j*f?j/e:h/f},_isVisible:function(){var a,b,c,d=this,e=d.chart,f=d.options.display;if("auto"!==f)return!!f;for(a=0,b=e.data.datasets.length;b>a;++a)if(e.isDatasetVisible(a)&&(c=e.getDatasetMeta(a),c.xAxisID===d.id||c.yAxisID===d.id))return!0;return!1},draw:function(a){var b=this,c=b.options;if(b._isVisible()){var d,e,f,g=b.chart,h=b.ctx,i=Gc.global,j=i.defaultFontColor,k=c.ticks.minor,l=c.ticks.major||k,m=c.gridLines,n=c.scaleLabel,o=c.position,p=0!==b.labelRotation,q=k.mirror,r=b.isHorizontal(),s=Jc.options._parseFont,t=k.display&&k.autoSkip?b._autoSkip(b.getTicks()):b.getTicks(),u=he(k.fontColor,j),v=s(k),w=v.lineHeight,x=he(l.fontColor,j),y=s(l),z=k.padding,A=k.labelOffset,B=m.drawTicks?m.tickMarkLength:0,C=he(n.fontColor,j),D=s(n),E=Jc.options.toPadding(n.padding),F=Jc.toRadians(b.labelRotation),G=[],H=m.drawBorder?ie(m.lineWidth,0,0):0,I=Jc._alignPixel;"top"===o?(d=I(g,b.bottom,H),e=b.bottom-B,f=d-H/2):"bottom"===o?(d=I(g,b.top,H),e=d+H/2,f=b.top+B):"left"===o?(d=I(g,b.right,H),e=b.right-B,f=d-H/2):(d=I(g,b.left,H),e=d+H/2,f=b.left+B);var J=1e-7;if(Jc.each(t,function(d,h){if(!Jc.isNullOrUndef(d.label)){var i,j,k,l,n=d.label;h===b.zeroLineIndex&&c.offset===m.offsetGridLines?(i=m.zeroLineWidth,j=m.zeroLineColor,k=m.zeroLineBorderDash||[],l=m.zeroLineBorderDashOffset||0):(i=ie(m.lineWidth,h),j=ie(m.color,h),k=m.borderDash||[],l=m.borderDashOffset||0);var s,t,u,v,x,y,C,D,E,K,L,M,N=Jc.isArray(n)?n.length:1,O=qb(b,h,m.offsetGridLines);if(r){var P=B+z;O<b.left-J&&(j="rgba(0,0,0,0)"),s=u=x=C=I(g,O,i),t=e,v=f,E=b.getPixelForTick(h)+A,"top"===o?(y=I(g,a.top,H)+H/2,D=a.bottom,L=((p?1:.5)-N)*w,M=p?"left":"center",K=b.bottom-P):(y=a.top,D=I(g,a.bottom,H)-H/2,L=(p?0:.5)*w,M=p?"right":"center",K=b.top+P)}else{var Q=(q?0:B)+z;O<b.top-J&&(j="rgba(0,0,0,0)"),s=e,u=f,t=v=y=D=I(g,O,i),K=b.getPixelForTick(h)+A,L=(1-N)*w/2,"left"===o?(x=I(g,a.left,H)+H/2,C=a.right,M=q?"left":"right",E=b.right-Q):(x=a.left,C=I(g,a.right,H)-H/2,M=q?"right":"left",E=b.left+Q)}G.push({tx1:s,ty1:t,tx2:u,ty2:v,x1:x,y1:y,x2:C,y2:D,labelX:E,labelY:K,glWidth:i,glColor:j,glBorderDash:k,glBorderDashOffset:l,rotation:-1*F,label:n,major:d.major,textOffset:L,textAlign:M})}}),Jc.each(G,function(a){var b=a.glWidth,c=a.glColor;if(m.display&&b&&c&&(h.save(),h.lineWidth=b,h.strokeStyle=c,h.setLineDash&&(h.setLineDash(a.glBorderDash),h.lineDashOffset=a.glBorderDashOffset),h.beginPath(),m.drawTicks&&(h.moveTo(a.tx1,a.ty1),h.lineTo(a.tx2,a.ty2)),m.drawOnChartArea&&(h.moveTo(a.x1,a.y1),h.lineTo(a.x2,a.y2)),h.stroke(),h.restore()),k.display){h.save(),h.translate(a.labelX,a.labelY),h.rotate(a.rotation),h.font=a.major?y.string:v.string,h.fillStyle=a.major?x:u,h.textBaseline="middle",h.textAlign=a.textAlign;var d=a.label,e=a.textOffset;if(Jc.isArray(d))for(var f=0;f<d.length;++f)h.fillText(""+d[f],0,e),e+=w;else h.fillText(d,0,e);h.restore()}}),n.display){var K,L,M=0,N=D.lineHeight/2;if(r)K=b.left+(b.right-b.left)/2,L="bottom"===o?b.bottom-N-E.bottom:b.top+N+E.top;else{var O="left"===o;K=O?b.left+N+E.top:b.right-N-E.top,L=b.top+(b.bottom-b.top)/2,M=O?-.5*Math.PI:.5*Math.PI}h.save(),h.translate(K,L),h.rotate(M),h.textAlign="center",h.textBaseline="middle",h.fillStyle=C,h.font=D.string,h.fillText(n.labelString,0,0),h.restore()}if(H){var P,Q,R,S,T=H,U=ie(m.lineWidth,t.length-1,0);r?(P=I(g,b.left,T)-T/2,Q=I(g,b.right,U)+U/2,R=S=d):(R=I(g,b.top,T)-T/2,S=I(g,b.bottom,U)+U/2,P=Q=d),h.lineWidth=H,h.strokeStyle=ie(m.color,0),h.beginPath(),h.moveTo(P,R),h.lineTo(Q,S),h.stroke()}}}}),ke={position:"bottom"},le=je.extend({getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a=this,b=a.getLabels();a.minIndex=0,a.maxIndex=b.length-1;var c;void 0!==a.options.ticks.min&&(c=b.indexOf(a.options.ticks.min),a.minIndex=-1!==c?c:a.minIndex),void 0!==a.options.ticks.max&&(c=b.indexOf(a.options.ticks.max),a.maxIndex=-1!==c?c:a.maxIndex),a.min=b[a.minIndex],a.max=b[a.maxIndex]},buildTicks:function(){var a=this,b=a.getLabels();a.ticks=0===a.minIndex&&a.maxIndex===b.length-1?b:b.slice(a.minIndex,a.maxIndex+1)},getLabelForIndex:function(a,b){var c=this,d=c.chart;return d.getDatasetMeta(b).controller._getValueScaleId()===c.id?c.getRightValue(d.data.datasets[b].data[a]):c.ticks[a-c.minIndex]},getPixelForValue:function(a,b){var c,d=this,e=d.options.offset,f=Math.max(d.maxIndex+1-d.minIndex-(e?0:1),1);if(void 0!==a&&null!==a&&(c=d.isHorizontal()?a.x:a.y),void 0!==c||void 0!==a&&isNaN(b)){var g=d.getLabels();a=c||a;var h=g.indexOf(a);b=-1!==h?h:b}if(d.isHorizontal()){var i=d.width/f,j=i*(b-d.minIndex);return e&&(j+=i/2),d.left+j}var k=d.height/f,l=k*(b-d.minIndex);return e&&(l+=k/2),d.top+l},getPixelForTick:function(a){return this.getPixelForValue(this.ticks[a],a+this.minIndex,null)},getValueForPixel:function(a){var b,c=this,d=c.options.offset,e=Math.max(c._ticks.length-(d?0:1),1),f=c.isHorizontal(),g=(f?c.width:c.height)/e;return a-=f?c.left:c.top,d&&(a-=g/2),b=0>=a?0:Math.round(a/g),b+c.minIndex},getBasePixel:function(){return this.bottom}}),me=ke;le._defaults=me;var ne=Jc.noop,oe=Jc.isNullOrUndef,pe=je.extend({getRightValue:function(a){return"string"==typeof a?+a:je.prototype.getRightValue.call(this,a)},handleTickRangeOptions:function(){var a=this,b=a.options,c=b.ticks;if(c.beginAtZero){var d=Jc.sign(a.min),e=Jc.sign(a.max);0>d&&0>e?a.max=0:d>0&&e>0&&(a.min=0)}var f=void 0!==c.min||void 0!==c.suggestedMin,g=void 0!==c.max||void 0!==c.suggestedMax;void 0!==c.min?a.min=c.min:void 0!==c.suggestedMin&&(null===a.min?a.min=c.suggestedMin:a.min=Math.min(a.min,c.suggestedMin)),void 0!==c.max?a.max=c.max:void 0!==c.suggestedMax&&(null===a.max?a.max=c.suggestedMax:a.max=Math.max(a.max,c.suggestedMax)),f!==g&&a.min>=a.max&&(f?a.max=a.min+1:a.min=a.max-1),a.min===a.max&&(a.max++,c.beginAtZero||a.min--)},getTickLimit:function(){var a,b=this,c=b.options.ticks,d=c.stepSize,e=c.maxTicksLimit;return d?a=Math.ceil(b.max/d)-Math.floor(b.min/d)+1:(a=b._computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ne,buildTicks:function(){var a=this,b=a.options,c=b.ticks,d=a.getTickLimit();d=Math.max(2,d);var e={maxTicks:d,min:c.min,max:c.max,precision:c.precision,stepSize:Jc.valueOrDefault(c.fixedStepSize,c.stepSize)},f=a.ticks=sb(e,a);a.handleDirectionalChanges(),a.max=Jc.max(f),a.min=Jc.min(f),c.reverse?(f.reverse(),a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max)},convertTicksToLabels:function(){var a=this;a.ticksAsNumbers=a.ticks.slice(),a.zeroLineIndex=a.ticks.indexOf(0),je.prototype.convertTicksToLabels.call(a)}}),qe={position:"left",ticks:{callback:ge.formatters.linear}},re=pe.extend({determineDataLimits:function(){function a(a){return g?a.xAxisID===b.id:a.yAxisID===b.id}var b=this,c=b.options,d=b.chart,e=d.data,f=e.datasets,g=b.isHorizontal(),h=0,i=1;b.min=null,b.max=null;var j=c.stacked;if(void 0===j&&Jc.each(f,function(b,c){if(!j){var e=d.getDatasetMeta(c);d.isDatasetVisible(c)&&a(e)&&void 0!==e.stack&&(j=!0)}}),c.stacked||j){var k={};Jc.each(f,function(e,f){var g=d.getDatasetMeta(f),h=[g.type,void 0===c.stacked&&void 0===g.stack?f:"",g.stack].join(".");void 0===k[h]&&(k[h]={positiveValues:[],negativeValues:[]});var i=k[h].positiveValues,j=k[h].negativeValues;d.isDatasetVisible(f)&&a(g)&&Jc.each(e.data,function(a,d){var e=+b.getRightValue(a);isNaN(e)||g.data[d].hidden||(i[d]=i[d]||0,j[d]=j[d]||0,c.relativePoints?i[d]=100:0>e?j[d]+=e:i[d]+=e)})}),Jc.each(k,function(a){var c=a.positiveValues.concat(a.negativeValues),d=Jc.min(c),e=Jc.max(c);b.min=null===b.min?d:Math.min(b.min,d),b.max=null===b.max?e:Math.max(b.max,e)})}else Jc.each(f,function(c,e){var f=d.getDatasetMeta(e);d.isDatasetVisible(e)&&a(f)&&Jc.each(c.data,function(a,c){var d=+b.getRightValue(a);isNaN(d)||f.data[c].hidden||(null===b.min?b.min=d:d<b.min&&(b.min=d),null===b.max?b.max=d:d>b.max&&(b.max=d))})});b.min=isFinite(b.min)&&!isNaN(b.min)?b.min:h,b.max=isFinite(b.max)&&!isNaN(b.max)?b.max:i,this.handleTickRangeOptions()},_computeTickLimit:function(){var a,b=this;return b.isHorizontal()?Math.ceil(b.width/40):(a=Jc.options._parseFont(b.options.ticks),Math.ceil(b.height/a.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForValue:function(a){var b,c=this,d=c.start,e=+c.getRightValue(a),f=c.end-d;return b=c.isHorizontal()?c.left+c.width/f*(e-d):c.bottom-c.height/f*(e-d)},getValueForPixel:function(a){var b=this,c=b.isHorizontal(),d=c?b.width:b.height,e=(c?a-b.left:b.bottom-a)/d;return b.start+(b.end-b.start)*e},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}}),se=qe;re._defaults=se;var te=Jc.valueOrDefault,ue={position:"left",ticks:{callback:ge.formatters.logarithmic}},ve=je.extend({determineDataLimits:function(){function a(a){return g?a.xAxisID===b.id:a.yAxisID===b.id}var b=this,c=b.options,d=b.chart,e=d.data,f=e.datasets,g=b.isHorizontal();b.min=null,b.max=null,b.minNotZero=null;var h=c.stacked;if(void 0===h&&Jc.each(f,function(b,c){if(!h){var e=d.getDatasetMeta(c);d.isDatasetVisible(c)&&a(e)&&void 0!==e.stack&&(h=!0)}}),c.stacked||h){var i={};Jc.each(f,function(e,f){var g=d.getDatasetMeta(f),h=[g.type,void 0===c.stacked&&void 0===g.stack?f:"",g.stack].join(".");d.isDatasetVisible(f)&&a(g)&&(void 0===i[h]&&(i[h]=[]),Jc.each(e.data,function(a,c){var d=i[h],e=+b.getRightValue(a);isNaN(e)||g.data[c].hidden||0>e||(d[c]=d[c]||0,d[c]+=e)}))}),Jc.each(i,function(a){if(a.length>0){var c=Jc.min(a),d=Jc.max(a);b.min=null===b.min?c:Math.min(b.min,c),b.max=null===b.max?d:Math.max(b.max,d)}})}else Jc.each(f,function(c,e){var f=d.getDatasetMeta(e);d.isDatasetVisible(e)&&a(f)&&Jc.each(c.data,function(a,c){var d=+b.getRightValue(a);isNaN(d)||f.data[c].hidden||0>d||(null===b.min?b.min=d:d<b.min&&(b.min=d),null===b.max?b.max=d:d>b.max&&(b.max=d),0!==d&&(null===b.minNotZero||d<b.minNotZero)&&(b.minNotZero=d))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var a=this,b=a.options.ticks,c=1,d=10;a.min=ub(b.min,a.min),a.max=ub(b.max,a.max),a.min===a.max&&(0!==a.min&&null!==a.min?(a.min=Math.pow(10,Math.floor(Jc.log10(a.min))-1),a.max=Math.pow(10,Math.floor(Jc.log10(a.max))+1)):(a.min=c,a.max=d)),null===a.min&&(a.min=Math.pow(10,Math.floor(Jc.log10(a.max))-1)),null===a.max&&(a.max=0!==a.min?Math.pow(10,Math.floor(Jc.log10(a.min))+1):d),null===a.minNotZero&&(a.min>0?a.minNotZero=a.min:a.max<1?a.minNotZero=Math.pow(10,Math.floor(Jc.log10(a.max))):a.minNotZero=c)},buildTicks:function(){var a=this,b=a.options.ticks,c=!a.isHorizontal(),d={min:ub(b.min),max:ub(b.max)},e=a.ticks=tb(d,a);a.max=Jc.max(e),a.min=Jc.min(e),b.reverse?(c=!c,a.start=a.max,a.end=a.min):(a.start=a.min,a.end=a.max),c&&e.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),je.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},_getFirstTickValue:function(a){var b=Math.floor(Jc.log10(a)),c=Math.floor(a/Math.pow(10,b));return c*Math.pow(10,b)},getPixelForValue:function(a){var b,c,d,e,f,g=this,h=g.options.ticks,i=h.reverse,j=Jc.log10,k=g._getFirstTickValue(g.minNotZero),l=0;return a=+g.getRightValue(a),i?(d=g.end,e=g.start,f=-1):(d=g.start,e=g.end,f=1),g.isHorizontal()?(b=g.width,c=i?g.right:g.left):(b=g.height,f*=-1,c=i?g.top:g.bottom),a!==d&&(0===d&&(l=te(h.fontSize,Gc.global.defaultFontSize),b-=l,d=k),0!==a&&(l+=b/(j(e)-j(d))*(j(a)-j(d))),c+=f*l),c},getValueForPixel:function(a){var b,c,d,e,f=this,g=f.options.ticks,h=g.reverse,i=Jc.log10,j=f._getFirstTickValue(f.minNotZero);if(h?(c=f.end,d=f.start):(c=f.start,d=f.end),f.isHorizontal()?(b=f.width,e=h?f.right-a:a-f.left):(b=f.height,e=h?a-f.top:f.bottom-a),e!==c){if(0===c){var k=te(g.fontSize,Gc.global.defaultFontSize);e-=k,b-=k,c=j}e*=i(d)-i(c),e/=b,e=Math.pow(10,i(c)+e)}return e}}),we=ue;ve._defaults=we;var xe=Jc.valueOrDefault,ye=Jc.valueAtIndexOrDefault,ze=Jc.options.resolve,Ae={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ge.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}},Be=pe.extend({setDimensions:function(){var a=this;a.width=a.maxWidth,a.height=a.maxHeight,a.paddingTop=wb(a.options)/2,a.xCenter=Math.floor(a.width/2),a.yCenter=Math.floor((a.height-a.paddingTop)/2),a.drawingArea=Math.min(a.height-a.paddingTop,a.width)/2},determineDataLimits:function(){var a=this,b=a.chart,c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;Jc.each(b.data.datasets,function(e,f){if(b.isDatasetVisible(f)){var g=b.getDatasetMeta(f);Jc.each(e.data,function(b,e){var f=+a.getRightValue(b);isNaN(f)||g.data[e].hidden||(c=Math.min(f,c),d=Math.max(f,d))})}}),a.min=c===Number.POSITIVE_INFINITY?0:c,a.max=d===Number.NEGATIVE_INFINITY?0:d,a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/wb(this.options))},convertTicksToLabels:function(){var a=this;pe.prototype.convertTicksToLabels.call(a),a.pointLabels=a.chart.data.labels.map(a.options.pointLabels.callback,a)},getLabelForIndex:function(a,b){return+this.getRightValue(this.chart.data.datasets[b].data[a])},fit:function(){var a=this,b=a.options;b.display&&b.pointLabels.display?zb(a):a.setCenterPoint(0,0,0,0)},setReductions:function(a,b,c){var d=this,e=b.l/Math.sin(c.l),f=Math.max(b.r-d.width,0)/Math.sin(c.r),g=-b.t/Math.cos(c.t),h=-Math.max(b.b-(d.height-d.paddingTop),0)/Math.cos(c.b);e=Fb(e),f=Fb(f),g=Fb(g),h=Fb(h),d.drawingArea=Math.min(Math.floor(a-(e+f)/2),Math.floor(a-(g+h)/2)),d.setCenterPoint(e,f,g,h)},setCenterPoint:function(a,b,c,d){var e=this,f=e.width-b-e.drawingArea,g=a+e.drawingArea,h=c+e.drawingArea,i=e.height-e.paddingTop-d-e.drawingArea;e.xCenter=Math.floor((g+f)/2+e.left),e.yCenter=Math.floor((h+i)/2+e.top+e.paddingTop)},getIndexAngle:function(a){var b=2*Math.PI/vb(this),c=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,d=c*Math.PI*2/360;return a*b+d},getDistanceFromCenterForValue:function(a){var b=this;if(null===a)return 0;var c=b.drawingArea/(b.max-b.min);return b.options.ticks.reverse?(b.max-a)*c:(a-b.min)*c},getPointPosition:function(a,b){var c=this,d=c.getIndexAngle(a)-Math.PI/2;return{x:Math.cos(d)*b+c.xCenter,y:Math.sin(d)*b+c.yCenter}},getPointPositionForValue:function(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))},getBasePosition:function(){var a=this,b=a.min,c=a.max;return a.getPointPositionForValue(0,a.beginAtZero?0:0>b&&0>c?c:b>0&&c>0?b:0)},draw:function(){var a=this,b=a.options,c=b.gridLines,d=b.ticks;if(b.display){var e=a.ctx,f=this.getIndexAngle(0),g=Jc.options._parseFont(d);(b.angleLines.display||b.pointLabels.display)&&Db(a),Jc.each(a.ticks,function(b,h){if(h>0||d.reverse){var i=a.getDistanceFromCenterForValue(a.ticksAsNumbers[h]);if(c.display&&0!==h&&Eb(a,c,i,h),d.display){var j=xe(d.fontColor,Gc.global.defaultFontColor);if(e.font=g.string,e.save(),e.translate(a.xCenter,a.yCenter),e.rotate(f),d.showLabelBackdrop){var k=e.measureText(b).width;e.fillStyle=d.backdropColor,e.fillRect(-k/2-d.backdropPaddingX,-i-g.size/2-d.backdropPaddingY,k+2*d.backdropPaddingX,g.size+2*d.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=j,e.fillText(b,0,-i),e.restore()}}})}}}),Ce=Ae;Be._defaults=Ce;var De=Jc.valueOrDefault,Ee=Number.MIN_SAFE_INTEGER||-9007199254740991,Fe=Number.MAX_SAFE_INTEGER||9007199254740991,Ge={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},He=Object.keys(Ge),Ie={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Je=je.extend({initialize:function(){this.mergeTicksOptions(),je.prototype.initialize.call(this)},update:function(){var a=this,b=a.options,c=b.time||(b.time={}),d=a._adapter=new fe._date(b.adapters.date);return c.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),Jc.mergeIf(c.displayFormats,d.formats()),je.prototype.update.apply(a,arguments)},getRightValue:function(a){return a&&void 0!==a.t&&(a=a.t),je.prototype.getRightValue.call(this,a)},determineDataLimits:function(){var a,b,c,d,e,f,g=this,h=g.chart,i=g._adapter,j=g.options.time,k=j.unit||"day",l=Fe,m=Ee,n=[],o=[],p=[],q=h.data.labels||[];for(a=0,c=q.length;c>a;++a)p.push(Mb(g,q[a]));for(a=0,c=(h.data.datasets||[]).length;c>a;++a)if(h.isDatasetVisible(a))if(e=h.data.datasets[a].data,Jc.isObject(e[0]))for(o[a]=[],b=0,d=e.length;d>b;++b)f=Mb(g,e[b]),n.push(f),o[a][b]=f;else{for(b=0,d=p.length;d>b;++b)n.push(p[b]);o[a]=p.slice(0)}else o[a]=[];p.length&&(p=Hb(p).sort(Gb),l=Math.min(l,p[0]),m=Math.max(m,p[p.length-1])),n.length&&(n=Hb(n).sort(Gb),l=Math.min(l,n[0]),m=Math.max(m,n[n.length-1])),l=Mb(g,j.min)||l,m=Mb(g,j.max)||m,l=l===Fe?+i.startOf(Date.now(),k):l,m=m===Ee?+i.endOf(Date.now(),k)+1:m,g.min=Math.min(l,m),g.max=Math.max(l+1,m),g._horizontal=g.isHorizontal(),g._table=[],g._timestamps={data:n,datasets:o,labels:p}},buildTicks:function(){var a,b,c,d=this,e=d.min,f=d.max,g=d.options,h=g.time,i=[],j=[];switch(g.ticks.source){case"data":i=d._timestamps.data;break;case"labels":i=d._timestamps.labels;break;case"auto":default:i=Rb(d,e,f,d.getLabelCapacity(e),g)}for("ticks"===g.bounds&&i.length&&(e=i[0],f=i[i.length-1]),e=Mb(d,h.min)||e,f=Mb(d,h.max)||f,a=0,b=i.length;b>a;++a)c=i[a],c>=e&&f>=c&&j.push(c);return d.min=e,d.max=f,d._unit=h.unit||Pb(d,j,h.minUnit,d.min,d.max),d._majorUnit=Qb(d._unit),d._table=Ib(d._timestamps.data,e,f,g.distribution),d._offsets=Sb(d._table,j,e,f,g),g.ticks.reverse&&j.reverse(),Tb(d,j,d._majorUnit)},getLabelForIndex:function(a,b){var c=this,d=c._adapter,e=c.chart.data,f=c.options.time,g=e.labels&&a<e.labels.length?e.labels[a]:"",h=e.datasets[b].data[a];return Jc.isObject(h)&&(g=c.getRightValue(h)),f.tooltipFormat?d.format(Lb(c,g),f.tooltipFormat):"string"==typeof g?g:d.format(Lb(c,g),f.displayFormats.datetime)},tickFormatFunction:function(a,b,c,d){var e=this,f=e._adapter,g=e.options,h=g.time.displayFormats,i=h[e._unit],j=e._majorUnit,k=h[j],l=+f.startOf(a,j),m=g.ticks.major,n=m.enabled&&j&&k&&a===l,o=f.format(a,d?d:n?k:i),p=n?m:g.ticks.minor,q=De(p.callback,p.userCallback);return q?q(o,b,c):o},convertTicksToLabels:function(a){var b,c,d=[];for(b=0,c=a.length;c>b;++b)d.push(this.tickFormatFunction(a[b].value,b,a));return d},getPixelForOffset:function(a){var b=this,c=b.options.ticks.reverse,d=b._horizontal?b.width:b.height,e=b._horizontal?c?b.right:b.left:c?b.bottom:b.top,f=Kb(b._table,"time",a,"pos"),g=d*(b._offsets.start+f)/(b._offsets.start+1+b._offsets.end);return c?e-g:e+g},getPixelForValue:function(a,b,c){var d=this,e=null;return void 0!==b&&void 0!==c&&(e=d._timestamps.datasets[c][b]),null===e&&(e=Mb(d,a)),null!==e?d.getPixelForOffset(e):void 0},getPixelForTick:function(a){var b=this.getTicks();return a>=0&&a<b.length?this.getPixelForOffset(b[a].value):null},getValueForPixel:function(a){var b=this,c=b._horizontal?b.width:b.height,d=b._horizontal?b.left:b.top,e=(c?(a-d)/c:0)*(b._offsets.start+1+b._offsets.start)-b._offsets.end,f=Kb(b._table,"pos",e,"time");return b._adapter._create(f)},getLabelWidth:function(a){var b=this,c=b.options.ticks,d=b.ctx.measureText(a).width,e=Jc.toRadians(c.maxRotation),f=Math.cos(e),g=Math.sin(e),h=De(c.fontSize,Gc.global.defaultFontSize);return d*f+h*g},getLabelCapacity:function(a){var b=this,c=b.options.time.displayFormats.millisecond,d=b.tickFormatFunction(a,0,[],c),e=b.getLabelWidth(d),f=b.isHorizontal()?b.width:b.height,g=Math.floor(f/e);return g>0?g:1}}),Ke=Ie;Je._defaults=Ke;var Le={category:le,linear:re,logarithmic:ve,radialLinear:Be,time:Je},Me={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};fe._date.override("function"==typeof a?{_id:"moment",formats:function(){return Me},parse:function(b,c){return"string"==typeof b&&"string"==typeof c?b=a(b,c):b instanceof a||(b=a(b)),b.isValid()?b.valueOf():null},format:function(b,c){return a(b).format(c)},add:function(b,c,d){return a(b).add(c,d).valueOf()},diff:function(b,c,d){return a.duration(a(b).diff(a(c))).as(d)},startOf:function(b,c,d){return b=a(b),"isoWeek"===c?b.isoWeekday(d).valueOf():b.startOf(c).valueOf()},endOf:function(b,c){return a(b).endOf(c).valueOf()},_create:function(b){return a(b)}}:{}),Gc._set("global",{plugins:{filler:{propagate:!0}}});var Ne={dataset:function(a){var b=a.fill,c=a.chart,d=c.getDatasetMeta(b),e=d&&c.isDatasetVisible(b),f=e&&d.dataset._children||[],g=f.length||0;return g?function(a,b){return g>b&&f[b]._view||null}:null},boundary:function(a){var b=a.boundary,c=b?b.x:null,d=b?b.y:null;return function(a){return{x:null===c?a.x:c,y:null===d?a.y:d}}}},Oe={id:"filler",afterDatasetsUpdate:function(a,b){var c,d,e,f,g=(a.data.datasets||[]).length,h=b.propagate,i=[];for(d=0;g>d;++d)c=a.getDatasetMeta(d),e=c.dataset,f=null,e&&e._model&&e instanceof dd.Line&&(f={visible:a.isDatasetVisible(d),fill:Ub(e,d,g),chart:a,el:e}),c.$filler=f,i.push(f);for(d=0;g>d;++d)f=i[d],f&&(f.fill=Wb(i,d,h),f.boundary=Vb(f),f.mapper=Xb(f))},beforeDatasetDraw:function(a,b){var c=b.meta.$filler;if(c){var d=a.ctx,e=c.el,f=e._view,g=e._children||[],h=c.mapper,i=f.backgroundColor||Gc.global.defaultColor;h&&i&&g.length&&(Jc.canvas.clipArea(d,a.chartArea),$b(d,g,h,f,i,e._loop),Jc.canvas.unclipArea(d))}}},Pe=Jc.noop,Qe=Jc.valueOrDefault;Gc._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(a,b){var c=b.datasetIndex,d=this.chart,e=d.getDatasetMeta(c);e.hidden=null===e.hidden?!d.data.datasets[c].hidden:null,d.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var b=a.data;return Jc.isArray(b.datasets)?b.datasets.map(function(b,c){return{text:b.label,fillStyle:Jc.isArray(b.backgroundColor)?b.backgroundColor[0]:b.backgroundColor,hidden:!a.isDatasetVisible(c),lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,pointStyle:b.pointStyle,datasetIndex:c}},this):[]}}},legendCallback:function(a){var b=[];b.push('<ul class="'+a.id+'-legend">');for(var c=0;c<a.data.datasets.length;c++)b.push('<li><span style="background-color:'+a.data.datasets[c].backgroundColor+'"></span>'),a.data.datasets[c].label&&b.push(a.data.datasets[c].label),b.push("</li>");return b.push("</ul>"),b.join("")}});var Re=Oc.extend({initialize:function(a){Jc.extend(this,a),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Pe,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:Pe,beforeSetDimensions:Pe,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:Pe,beforeBuildLabels:Pe,buildLabels:function(){var a=this,b=a.options.labels||{},c=Jc.callback(b.generateLabels,[a.chart],a)||[];b.filter&&(c=c.filter(function(c){return b.filter(c,a.chart.data)})),a.options.reverse&&c.reverse(),a.legendItems=c},afterBuildLabels:Pe,beforeFit:Pe,fit:function(){var a=this,b=a.options,c=b.labels,d=b.display,e=a.ctx,f=Jc.options._parseFont(c),g=f.size,h=a.legendHitBoxes=[],i=a.minSize,j=a.isHorizontal();if(j?(i.width=a.maxWidth,i.height=d?10:0):(i.width=d?10:0,i.height=a.maxHeight),d)if(e.font=f.string,j){var k=a.lineWidths=[0],l=0;e.textAlign="left",e.textBaseline="top",Jc.each(a.legendItems,function(a,b){var d=_b(c,g),f=d+g/2+e.measureText(a.text).width;(0===b||k[k.length-1]+f+c.padding>i.width)&&(l+=g+c.padding,k[k.length-(b>0?0:1)]=c.padding),h[b]={left:0,top:0,width:f,height:g},k[k.length-1]+=f+c.padding}),i.height+=l}else{var m=c.padding,n=a.columnWidths=[],o=c.padding,p=0,q=0,r=g+m;Jc.each(a.legendItems,function(a,b){var d=_b(c,g),f=d+g/2+e.measureText(a.text).width;b>0&&q+r>i.height-m&&(o+=p+c.padding,n.push(p),p=0,q=0),p=Math.max(p,f),q+=r,
h[b]={left:0,top:0,width:f,height:g}}),o+=p,n.push(p),i.width+=o}a.width=i.width,a.height=i.height},afterFit:Pe,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,b=a.options,c=b.labels,d=Gc.global,e=d.defaultColor,f=d.elements.line,g=a.width,h=a.lineWidths;if(b.display){var i,j=a.ctx,k=Qe(c.fontColor,d.defaultFontColor),l=Jc.options._parseFont(c),m=l.size;j.textAlign="left",j.textBaseline="middle",j.lineWidth=.5,j.strokeStyle=k,j.fillStyle=k,j.font=l.string;var n=_b(c,m),o=a.legendHitBoxes,p=function(a,c,d){if(!(isNaN(n)||0>=n)){j.save();var g=Qe(d.lineWidth,f.borderWidth);if(j.fillStyle=Qe(d.fillStyle,e),j.lineCap=Qe(d.lineCap,f.borderCapStyle),j.lineDashOffset=Qe(d.lineDashOffset,f.borderDashOffset),j.lineJoin=Qe(d.lineJoin,f.borderJoinStyle),j.lineWidth=g,j.strokeStyle=Qe(d.strokeStyle,e),j.setLineDash&&j.setLineDash(Qe(d.lineDash,f.borderDash)),b.labels&&b.labels.usePointStyle){var h=n*Math.SQRT2/2,i=a+n/2,k=c+m/2;Jc.canvas.drawPoint(j,d.pointStyle,h,i,k)}else 0!==g&&j.strokeRect(a,c,n,m),j.fillRect(a,c,n,m);j.restore()}},q=function(a,b,c,d){var e=m/2,f=n+e+a,g=b+e;j.fillText(c.text,f,g),c.hidden&&(j.beginPath(),j.lineWidth=2,j.moveTo(f,g),j.lineTo(f+d,g),j.stroke())},r=a.isHorizontal();i=r?{x:a.left+(g-h[0])/2+c.padding,y:a.top+c.padding,line:0}:{x:a.left+c.padding,y:a.top+c.padding,line:0};var s=m+c.padding;Jc.each(a.legendItems,function(b,d){var e=j.measureText(b.text).width,f=n+m/2+e,k=i.x,l=i.y;r?d>0&&k+f+c.padding>a.left+a.minSize.width&&(l=i.y+=s,i.line++,k=i.x=a.left+(g-h[i.line])/2+c.padding):d>0&&l+s>a.top+a.minSize.height&&(k=i.x=k+a.columnWidths[i.line]+c.padding,l=i.y=a.top+c.padding,i.line++),p(k,l,b),o[d].left=k,o[d].top=l,q(k,l,b,e),r?i.x+=f+c.padding:i.y+=s})}},_getLegendItemAt:function(a,b){var c,d,e,f=this;if(a>=f.left&&a<=f.right&&b>=f.top&&b<=f.bottom)for(e=f.legendHitBoxes,c=0;c<e.length;++c)if(d=e[c],a>=d.left&&a<=d.left+d.width&&b>=d.top&&b<=d.top+d.height)return f.legendItems[c];return null},handleEvent:function(a){var b,c=this,d=c.options,e="mouseup"===a.type?"click":a.type;if("mousemove"===e){if(!d.onHover&&!d.onLeave)return}else{if("click"!==e)return;if(!d.onClick)return}b=c._getLegendItemAt(a.x,a.y),"click"===e?b&&d.onClick&&d.onClick.call(c,a["native"],b):(d.onLeave&&b!==c._hoveredItem&&(c._hoveredItem&&d.onLeave.call(c,a["native"],c._hoveredItem),c._hoveredItem=b),d.onHover&&b&&d.onHover.call(c,a["native"],b))}}),Se={id:"legend",_element:Re,beforeInit:function(a){var b=a.options.legend;b&&ac(a,b)},beforeUpdate:function(a){var b=a.options.legend,c=a.legend;b?(Jc.mergeIf(b,Gc.global.legend),c?(Ed.configure(a,c,b),c.options=b):ac(a,b)):c&&(Ed.removeBox(a,c),delete a.legend)},afterEvent:function(a,b){var c=a.legend;c&&c.handleEvent(b)}},Te=Jc.noop;Gc._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Ue=Oc.extend({initialize:function(a){var b=this;Jc.extend(b,a),b.legendHitBoxes=[]},beforeUpdate:Te,update:function(a,b,c){var d=this;return d.beforeUpdate(),d.maxWidth=a,d.maxHeight=b,d.margins=c,d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeBuildLabels(),d.buildLabels(),d.afterBuildLabels(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:Te,beforeSetDimensions:Te,setDimensions:function(){var a=this;a.isHorizontal()?(a.width=a.maxWidth,a.left=0,a.right=a.width):(a.height=a.maxHeight,a.top=0,a.bottom=a.height),a.paddingLeft=0,a.paddingTop=0,a.paddingRight=0,a.paddingBottom=0,a.minSize={width:0,height:0}},afterSetDimensions:Te,beforeBuildLabels:Te,buildLabels:Te,afterBuildLabels:Te,beforeFit:Te,fit:function(){var a=this,b=a.options,c=b.display,d=a.minSize,e=Jc.isArray(b.text)?b.text.length:1,f=Jc.options._parseFont(b),g=c?e*f.lineHeight+2*b.padding:0;a.isHorizontal()?(d.width=a.maxWidth,d.height=g):(d.width=g,d.height=a.maxHeight),a.width=d.width,a.height=d.height},afterFit:Te,isHorizontal:function(){var a=this.options.position;return"top"===a||"bottom"===a},draw:function(){var a=this,b=a.ctx,c=a.options;if(c.display){var d,e,f,g=Jc.options._parseFont(c),h=g.lineHeight,i=h/2+c.padding,j=0,k=a.top,l=a.left,m=a.bottom,n=a.right;b.fillStyle=Jc.valueOrDefault(c.fontColor,Gc.global.defaultFontColor),b.font=g.string,a.isHorizontal()?(e=l+(n-l)/2,f=k+i,d=n-l):(e="left"===c.position?l+i:n-i,f=k+(m-k)/2,d=m-k,j=Math.PI*("left"===c.position?-.5:.5)),b.save(),b.translate(e,f),b.rotate(j),b.textAlign="center",b.textBaseline="middle";var o=c.text;if(Jc.isArray(o))for(var p=0,q=0;q<o.length;++q)b.fillText(o[q],0,p,d),p+=h;else b.fillText(o,0,0,d);b.restore()}}}),Ve={id:"title",_element:Ue,beforeInit:function(a){var b=a.options.title;b&&bc(a,b)},beforeUpdate:function(a){var b=a.options.title,c=a.titleBlock;b?(Jc.mergeIf(b,Gc.global.title),c?(Ed.configure(a,c,b),c.options=b):bc(a,b)):c&&(Ed.removeBox(a,c),delete a.titleBlock)}},We={},Xe=Oe,Ye=Se,Ze=Ve;We.filler=Xe,We.legend=Ye,We.title=Ze,ce.helpers=Jc,de(ce),ce._adapters=fe,ce.Animation=Qc,ce.animationService=Rc,ce.controllers=Cd,ce.DatasetController=Vc,ce.defaults=Gc,ce.Element=Oc,ce.elements=dd,ce.Interaction=Dd,ce.layouts=Ed,ce.platform=Ud,ce.plugins=Vd,ce.Scale=je,ce.scaleService=Wd,ce.Ticks=ge,ce.Tooltip=_d,ce.helpers.each(Le,function(a,b){ce.scaleService.registerScaleType(b,a,a._defaults)});for(var $e in We)We.hasOwnProperty($e)&&ce.plugins.register(We[$e]);ce.platform.initialize();var _e=ce;return"undefined"!=typeof window&&(window.Chart=ce),ce.Chart=ce,ce.Legend=We.legend._element,ce.Title=We.title._element,ce.pluginService=ce.plugins,ce.PluginBase=ce.Element.extend({}),ce.canvasHelpers=ce.helpers.canvas,ce.layoutService=ce.layouts,ce.LinearScaleBase=pe,ce.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(a){ce[a]=function(b,c){return new ce(b,ce.helpers.merge(c||{},{type:a.charAt(0).toLowerCase()+a.slice(1)}))}}),_e}),function(a){"use strict";if("object"==typeof exports)module.exports=a("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart.js"));else if("function"==typeof define&&define.amd)define(["angular","chart"],a);else{if("undefined"==typeof angular)throw new Error("AngularJS framework needs to be included, see https://angularjs.org/");if("undefined"==typeof Chart)throw new Error("Chart.js library needs to be included, see http://jtblin.github.io/angular-chart.js/");a(angular,Chart)}}(function(a,b){"use strict";function c(){var c={responsive:!0},d={Chart:b,getOptions:function(b){var d=b&&c[b]||{};return a.extend({},c,d)}};this.setOptions=function(b,e){e?c[b]=a.merge(c[b]||{},e):(e=b,c=a.merge(c,e)),a.merge(d.Chart.defaults,c)},this.$get=function(){return d}}function d(c,d){function f(a,b,d){var e=w(a,b);if(r(b)&&A(a,b,d,e)){var f=d[0],g=f.getContext("2d");b.chartGetColor=s(b);var h=t(a,b);B(b),b.chart=new c.Chart(g,{type:a,data:h,options:e}),b.$emit("chart-create",b.chart),x(f,b)}}function g(a,b){return a&&b&&a.length&&b.length?Array.isArray(a[0])?a.length===b.length&&a.every(function(a,c){return a.length===b[c].length}):b.reduce(h,0)>0?a.length===b.length:!1:!1}function h(a,b){return a+b}function i(b,c,d){var e={point:void 0,points:void 0};return function(f){var g=b.chart.getElementAtEvent||b.chart.getPointAtEvent,h=b.chart.getElementsAtEvent||b.chart.getPointsAtEvent;if(h){var i=h.call(b.chart,f),j=g?g.call(b.chart,f)[0]:void 0;(d===!1||!a.equals(e.points,i)&&!a.equals(e.point,j))&&(e.point=j,e.points=i,b[c](i,f,j))}}}function j(d,e){for(var f=a.copy(e.chartColors||c.getOptions(d).chartColors||b.defaults.global.colors),g=f.length<e.chartData.length;f.length<e.chartData.length;)f.push(e.chartGetColor());return g&&(e.chartColors=f),f.map(k)}function k(a){return"string"==typeof a&&"r"===a[0]?m(q(a)):"string"==typeof a&&"#"===a[0]?m(p(a.substr(1))):"object"==typeof a&&null!==a?a:l()}function l(){var a=[n(0,255),n(0,255),n(0,255)];return m(a)}function m(a){var b=a[3]||1;return a=a.slice(0,3),{backgroundColor:o(a,.2),pointBackgroundColor:o(a,b),pointHoverBackgroundColor:o(a,.8),borderColor:o(a,b),pointBorderColor:"#fff",pointHoverBorderColor:o(a,b)}}function n(a,b){return Math.floor(Math.random()*(b-a+1))+a}function o(a,b){return e?"rgb("+a.join(",")+")":"rgba("+a.concat(b).join(",")+")"}function p(a){var b=parseInt(a,16),c=b>>16&255,d=b>>8&255,e=255&b;return[c,d,e]}function q(a){var b=a.match(/^rgba?\(([\d,.]+)\)$/);if(!b)throw new Error("Cannot parse rgb value");return a=b[1].split(","),a.map(Number)}function r(a){return a.chartData&&a.chartData.length}function s(a){return"function"==typeof a.chartGetColor?a.chartGetColor:l}function t(a,b){var c=j(a,b);return Array.isArray(b.chartData[0])?u(b.chartLabels,b.chartData,b.chartSeries||[],c,b.chartDatasetOverride):v(b.chartLabels,b.chartData,c,b.chartDatasetOverride)}function u(b,c,d,e,f){return{labels:b,datasets:c.map(function(b,c){var g=a.extend({},e[c],{label:d[c],data:b});return f&&f.length>=c&&a.merge(g,f[c]),g})}}function v(b,c,d,e){var f={labels:b,datasets:[{data:c,backgroundColor:d.map(function(a){return a.pointBackgroundColor}),hoverBackgroundColor:d.map(function(a){return a.backgroundColor})}]};return e&&a.merge(f.datasets[0],e),f}function w(b,d){return a.extend({},c.getOptions(b),d.chartOptions)}function x(b,c){b.onclick=c.chartClick?i(c,"chartClick",!1):a.noop,b.onmousemove=c.chartHover?i(c,"chartHover",!0):a.noop}function y(a,b){Array.isArray(b.chartData[0])?b.chart.data.datasets.forEach(function(b,c){b.data=a[c]}):b.chart.data.datasets[0].data=a,b.chart.update(),b.$emit("chart-update",b.chart)}function z(a){return!a||Array.isArray(a)&&!a.length||"object"==typeof a&&!Object.keys(a).length}function A(a,b,c,e){return e.responsive&&0===c[0].clientHeight?(d(function(){f(a,b,c)},50,!1),!1):!0}function B(a){a.chart&&(a.chart.destroy(),a.$emit("chart-destroy",a.chart))}return function(b){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(c,d){function h(a,e){if(!a||!a.length||Array.isArray(a[0])&&!a[0].length)return void B(c);var h=b||c.chartType;if(h)return c.chart&&g(a,e)?y(a,c):void f(h,c,d)}function i(e,g){if(!z(e)&&!a.equals(e,g)){var h=b||c.chartType;h&&f(h,c,d)}}function j(b,e){z(b)||a.equals(b,e)||f(b,c,d)}e&&window.G_vmlCanvasManager.initElement(d[0]),c.$watch("chartData",h,!0),c.$watch("chartSeries",i,!0),c.$watch("chartLabels",i,!0),c.$watch("chartOptions",i,!0),c.$watch("chartColors",i,!0),c.$watch("chartDatasetOverride",i,!0),c.$watch("chartType",j,!1),c.$on("$destroy",function(){B(c)}),c.$on("$resize",function(){c.chart&&c.chart.resize()})}}}}b.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",b.defaults.global.tooltips.mode="label",b.defaults.global.elements.line.borderWidth=2,b.defaults.global.elements.rectangle.borderWidth=2,b.defaults.global.legend.display=!1,b.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var e="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return e&&(b.defaults.global.animation=!1),a.module("chart.js",[]).provider("ChartJs",c).factory("ChartJsFactory",["ChartJs","$timeout",d]).directive("chartBase",["ChartJsFactory",function(a){return new a}]).directive("chartLine",["ChartJsFactory",function(a){return new a("line")}]).directive("chartBar",["ChartJsFactory",function(a){return new a("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(a){return new a("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(a){return new a("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(a){return new a("doughnut")}]).directive("chartPie",["ChartJsFactory",function(a){return new a("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(a){return new a("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(a){return new a("bubble")}]).name}),function(a){function b(a,b){return"all"==b?a:a.filter(function(a){return-1!=b.toLowerCase().indexOf(a)})}var c="application/x-dnd",d="application/json",e="Text",f=["move","copy","link"];a.directive("dndDraggable",["$parse","$timeout",function(a,h){return function(i,j,k){j.attr("draggable","true"),k.dndDisableIf&&i.$watch(k.dndDisableIf,function(a){j.attr("draggable",!a)}),j.on("dragstart",function(l){if(l=l.originalEvent||l,"false"==j.attr("draggable"))return!0;g.isDragging=!0,g.itemType=k.dndType&&i.$eval(k.dndType).toLowerCase(),g.dropEffect="none",g.effectAllowed=k.dndEffectAllowed||f[0],l.dataTransfer.effectAllowed=g.effectAllowed;var m=i.$eval(k.dndDraggable),n=c+(g.itemType?"-"+g.itemType:"");try{l.dataTransfer.setData(n,angular.toJson(m))}catch(o){var p=angular.toJson({item:m,type:g.itemType});try{l.dataTransfer.setData(d,p)}catch(o){var q=b(f,g.effectAllowed);l.dataTransfer.effectAllowed=q[0],l.dataTransfer.setData(e,p)}}if(j.addClass("dndDragging"),h(function(){j.addClass("dndDraggingSource")},0),l._dndHandle&&l.dataTransfer.setDragImage&&l.dataTransfer.setDragImage(j[0],0,0),a(k.dndDragstart)(i,{event:l}),k.dndCallback){var r=a(k.dndCallback);g.callback=function(a){return r(i,a||{})}}l.stopPropagation()}),j.on("dragend",function(b){b=b.originalEvent||b,i.$apply(function(){var c=g.dropEffect,d={copy:"dndCopied",link:"dndLinked",move:"dndMoved",none:"dndCanceled"};a(k[d[c]])(i,{event:b}),a(k.dndDragend)(i,{event:b,dropEffect:c})}),g.isDragging=!1,g.callback=void 0,j.removeClass("dndDragging"),j.removeClass("dndDraggingSource"),b.stopPropagation(),h(function(){j.removeClass("dndDraggingSource")},0)}),j.on("click",function(b){k.dndSelected&&(b=b.originalEvent||b,i.$apply(function(){a(k.dndSelected)(i,{event:b})}),b.stopPropagation())}),j.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]),a.directive("dndList",["$parse",function(a){return function(h,i,j){function k(a){if(!a)return e;for(var b=0;b<a.length;b++)if(a[b]==e||a[b]==d||a[b].substr(0,c.length)==c)return a[b];return null}function l(a){return g.isDragging?g.itemType||void 0:a==e||a==d?null:a&&a.substr(c.length+1)||void 0}function m(a){return v.disabled?!1:v.externalSources||g.isDragging?v.allowedTypes&&null!==a?a&&-1!=v.allowedTypes.indexOf(a):!0:!1}function n(a,c){var d=f;return c||(d=b(d,a.dataTransfer.effectAllowed)),g.isDragging&&(d=b(d,g.effectAllowed)),j.dndEffectAllowed&&(d=b(d,j.dndEffectAllowed)),d.length?a.ctrlKey&&-1!=d.indexOf("copy")?"copy":a.altKey&&-1!=d.indexOf("link")?"link":d[0]:"none"}function o(){return s.remove(),i.removeClass("dndDragover"),!0}function p(b,c,d,e,f,i){return a(b)(h,{callback:g.callback,dropEffect:d,event:c,external:!g.isDragging,index:void 0!==f?f:q(),item:i||void 0,type:e})}function q(){return Array.prototype.indexOf.call(u.children,t)}function r(){var a;return angular.forEach(i.children(),function(b){var c=angular.element(b);c.hasClass("dndPlaceholder")&&(a=c)}),a||angular.element("<li class='dndPlaceholder'></li>")}var s=r();s.remove();var t=s[0],u=i[0],v={};i.on("dragenter",function(a){a=a.originalEvent||a;var b=j.dndAllowedTypes&&h.$eval(j.dndAllowedTypes);v={allowedTypes:angular.isArray(b)&&b.join("|").toLowerCase().split("|"),disabled:j.dndDisableIf&&h.$eval(j.dndDisableIf),externalSources:j.dndExternalSources&&h.$eval(j.dndExternalSources),horizontal:j.dndHorizontalList&&h.$eval(j.dndHorizontalList)};var c=k(a.dataTransfer.types);return c&&m(l(c))?void a.preventDefault():!0}),i.on("dragover",function(a){a=a.originalEvent||a;var b=k(a.dataTransfer.types),c=l(b);if(!b||!m(c))return!0;if(t.parentNode!=u&&i.append(s),a.target!=u){for(var d=a.target;d.parentNode!=u&&d.parentNode;)d=d.parentNode;if(d.parentNode==u&&d!=t){var f=d.getBoundingClientRect();if(v.horizontal)var g=a.clientX<f.left+f.width/2;else var g=a.clientY<f.top+f.height/2;u.insertBefore(t,g?d:d.nextSibling)}}var h=b==e,q=n(a,h);return"none"==q?o():j.dndDragover&&!p(j.dndDragover,a,q,c)?o():(a.preventDefault(),h||(a.dataTransfer.dropEffect=q),i.addClass("dndDragover"),a.stopPropagation(),!1)}),i.on("drop",function(a){a=a.originalEvent||a;var b=k(a.dataTransfer.types),c=l(b);if(!b||!m(c))return!0;a.preventDefault();try{var f=JSON.parse(a.dataTransfer.getData(b))}catch(i){return o()}if((b==e||b==d)&&(c=f.type||void 0,f=f.item,!m(c)))return o();var r=b==e,s=n(a,r);if("none"==s)return o();var t=q();return j.dndDrop&&(f=p(j.dndDrop,a,s,c,t,f),!f)?o():(g.dropEffect=s,r||(a.dataTransfer.dropEffect=s),f!==!0&&h.$apply(function(){h.$eval(j.dndList).splice(t,0,f)}),p(j.dndInserted,a,s,c,t,f),o(),a.stopPropagation(),!1)}),i.on("dragleave",function(a){a=a.originalEvent||a;var b=document.elementFromPoint(a.clientX,a.clientY);u.contains(b)&&!a._dndPhShown?a._dndPhShown=!0:o()})}}]),a.directive("dndNodrag",function(){return function(a,b,c){b.attr("draggable","true"),b.on("dragstart",function(a){a=a.originalEvent||a,a._dndHandle||(a.dataTransfer.types&&a.dataTransfer.types.length||a.preventDefault(),a.stopPropagation())}),b.on("dragend",function(a){a=a.originalEvent||a,a._dndHandle||a.stopPropagation()})}}),a.directive("dndHandle",function(){return function(a,b,c){b.attr("draggable","true"),b.on("dragstart dragend",function(a){a=a.originalEvent||a,a._dndHandle=!0})}});var g={}}(angular.module("dndLists",[])),function(){var a=angular.module("toggle-switch",["ng"]);a.provider("toggleSwitchConfig",[function(){this.onLabel="On",this.offLabel="Off",this.knobLabel=" ";var a=this;this.$get=function(){return{onLabel:a.onLabel,offLabel:a.offLabel,knobLabel:a.knobLabel}}}]),a.directive("toggleSwitch",["toggleSwitchConfig",function(a){return{restrict:"EA",replace:!0,require:"ngModel",scope:{disabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@"},template:'<div role="radio" class="toggle-switch" ng-class="{ \'disabled\': disabled }"><div class="toggle-switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left" ng-bind="onLabel"></span><span class="knob" ng-bind="knobLabel"></span><span class="switch-right" ng-bind="offLabel"></span></div></div>',compile:function(b,c){return c.onLabel||(c.onLabel=a.onLabel),c.offLabel||(c.offLabel=a.offLabel),c.knobLabel||(c.knobLabel=a.knobLabel),this.link},link:function(a,b,c,d){var e=32;b.on("click",function(){a.$apply(a.toggle)}),b.on("keydown",function(b){var c=b.which?b.which:b.keyCode;c===e&&a.$apply(a.toggle)}),d.$formatters.push(function(a){return a}),d.$parsers.push(function(a){return a}),d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)}),d.$render=function(){a.model=d.$viewValue},a.toggle=function(){a.disabled||(a.model=!a.model,d.$setViewValue(a.model))}}}}])}(),function(a,b){"function"==typeof define&&define.amd?define(["module","angular"],function(a,c){a.exports=b(c)}):"object"==typeof module?module.exports=b(require("angular")):(a.mp||(a.mp={}),a.mp.colorPicker=b(a.angular))}(this,function(a){"use strict";function b(a,b,c){"object"==typeof a&&(b=a.s,c=a.v,a=a.h);var d,e,f,g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b);switch(g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return d=Math.floor(255*d)+256,e=Math.floor(255*e)+256,f=Math.floor(255*f)+256,"#"+d.toString(16).slice(1)+e.toString(16).slice(1)+f.toString(16).slice(1)}function c(a){var b=/^#(..)(..)(..)$/.exec(a);if(b){var c,d,e=b.slice(1).map(function(a){return parseInt(a,16)/255}),f=e[0],g=e[1],h=e[2],i=Math.max(f,g,h),j=i-Math.min(f,g,h),k=function(a){return(i-a)/6/j+.5};if(0===j)c=d=0;else{d=j/i;var l=k(f),m=k(g),n=k(h);f===i?c=n-m:g===i?c=1/3+l-n:h===i&&(c=2/3+m-l),0>c?c+=1:c>1&&(c-=1)}return{h:c,s:d,v:i}}}return a.module("mp.colorPicker",[]).directive("colorPicker",["$window",function(d){d.document.createElement("color-picker");var e='<div class="angular-color-picker">    <div class="_variations" ng-style="{ backgroundColor: hueBackgroundColor }">        <div class="_whites">            <div class="_blacks">                <div class="_cursor" ng-if="colorCursor" ng-style="{ left: colorCursor.x - 5 + \'px\', top: colorCursor.y - 5 + \'px\' }"></div>                <div class="_mouse-trap" ng-mousedown="startDrag($event, \'color\')"></div>            </div>        </div>    </div>    <div class="_hues">        <div class="_ie-1"></div>        <div class="_ie-2"></div>        <div class="_ie-3"></div>        <div class="_ie-4"></div>        <div class="_ie-5"></div>        <div class="_ie-6"></div>        <div class="_cursor" ng-style="{ top: hueCursor - 5 + \'px\' }"></div>        <div class="_mouse-trap" ng-mousedown="startDrag($event, \'hue\')"></div>    </div></div>';return{restrict:"AE",template:e,replace:!0,require:"?ngModel",scope:{},link:function(e,f,g,h){function i(a,c){a=Math.max(Math.min(a,n.width),0),c=Math.max(Math.min(c,n.height),0),"hue"===m?(e.hueCursor=c,e.hsv.h=c/n.height,e.hueBackgroundColor=b(e.hsv.h,1,1)):(e.colorCursor={x:a,y:c},e.hsv.s=a/n.width,e.hsv.v=1-c/n.height),"undefined"!=typeof e.hsv.s&&(e.color=b(e.hsv),h&&h.$setViewValue(e.color))}function j(a){a.preventDefault(),e.$apply(function(){i(a.clientX-n.x,a.clientY-n.y)})}function k(a){a.preventDefault(),e.$apply(function(){i(a.targetTouches[0].clientX-n.x,a.targetTouches[0].clientY-n.y)})}function l(){a.element(d).off("mousemove",j).off("touchmove",k)}e.hsv={h:0,s:0,v:0},h&&(h.$render=function(){/^#[0-9A-Fa-f]{6}$/.test(h.$viewValue)?(e.color=h.$viewValue,e.hsv=c(e.color),e.colorCursor={x:200*e.hsv.s,y:200*(1-e.hsv.v)}):(e.color=null,e.hsv={h:.5},e.colorCursor=null),e.hueBackgroundColor=b(e.hsv.h,1,1),e.hueCursor=200*e.hsv.h});var m,n;e.startDrag=function(b,c){var e=b.target.getBoundingClientRect();m=c,n={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top},i(b.offsetX||b.layerX,b.offsetY||b.layerY),a.element(d).on("mousemove",j).on("touchmove",k).one("mouseup",l).one("touchend",l)}}}}])}),angular.module("uiCropper",[]),angular.module("uiCropper").factory("cropAreaCircle",["cropArea",function(a){var b=function(){a.apply(this,arguments),this._boxResizeBaseSize=25,this._boxResizeNormalRatio=1,this._boxResizeHoverRatio=1.2,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._boxResizeNormalSize=this._boxResizeBaseSize*this._boxResizeNormalRatio,this._boxResizeHoverSize=this._boxResizeBaseSize*this._boxResizeHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._boxResizeIsHover=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!1,this._areaIsDragging=!1};return b.prototype=new a,b.prototype.getType=function(){return"circle"},b.prototype._calcCirclePerimeterCoords=function(a){var b=this._size.w/2,c=a*(Math.PI/180);return[this.getCenterPoint().x+b*Math.cos(c),this.getCenterPoint().y+b*Math.sin(c)]},b.prototype._calcResizeIconCenterCoords=function(){return this._calcCirclePerimeterCoords(-45)},b.prototype._isCoordWithinArea=function(a){return Math.sqrt((a[0]-this.getCenterPoint().x)*(a[0]-this.getCenterPoint().x)+(a[1]-this.getCenterPoint().y)*(a[1]-this.getCenterPoint().y))<this._size.w/2},b.prototype._isCoordWithinBoxResize=function(a){var b=this._calcResizeIconCenterCoords(),c=this._boxResizeHoverSize/2;return a[0]>b[0]-c&&a[0]<b[0]+c&&a[1]>b[1]-c&&a[1]<b[1]+c},b.prototype._drawArea=function(a,b,c){a.arc(b.x,b.y,c.w/2,0,2*Math.PI)},b.prototype.draw=function(){a.prototype.draw.apply(this,arguments);var b=this.getCenterPoint();this._cropCanvas.drawIconMove([b.x,b.y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio),this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(),this._boxResizeBaseSize,this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio)},b.prototype.processMouseMove=function(a,b){var c="default",d=!1;if(this._boxResizeIsHover=!1,this._areaIsHover=!1,this._areaIsDragging)this.setCenterPointOnMove({x:a-this._posDragStartX,y:b-this._posDragStartY}),this._areaIsHover=!0,c="move",d=!0,this._events.trigger("area-move");else if(this._boxResizeIsDragging){c="nesw-resize";var e,f,g;e=(f=a-this._posResizeStartX)>(g=this._posResizeStartY-b)?this._posResizeStartSize.w+2*g:this._posResizeStartSize.w+2*f;var h={},i={};h.x=this.getCenterPoint().x-.5*e,i.x=this.getCenterPoint().x+.5*e,h.y=this.getCenterPoint().y-.5*e,i.y=this.getCenterPoint().y+.5*e,this.circleOnMove(h,i),this._boxResizeIsHover=!0,d=!0,this._events.trigger("area-resize")}else this._isCoordWithinBoxResize([a,b])?(c="nesw-resize",this._areaIsHover=!1,this._boxResizeIsHover=!0,d=!0):this._isCoordWithinArea([a,b])&&(c="move",this._areaIsHover=!0,d=!0);return angular.element(this._ctx.canvas).css({cursor:c}),d},b.prototype.processMouseDown=function(a,b){if(this._isCoordWithinBoxResize([a,b]))this._areaIsDragging=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!0,this._boxResizeIsHover=!0,this._posResizeStartX=a,this._posResizeStartY=b,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start");else if(this._isCoordWithinArea([a,b])){this._areaIsDragging=!0,this._areaIsHover=!0,this._boxResizeIsDragging=!1,this._boxResizeIsHover=!1;var c=this.getCenterPoint();this._posDragStartX=a-c.x,this._posDragStartY=b-c.y,this._events.trigger("area-move-start")}},b.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._boxResizeIsDragging&&(this._boxResizeIsDragging=!1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._boxResizeIsHover=!1,this._posDragStartX=0,this._posDragStartY=0},b}]),angular.module("uiCropper").factory("cropAreaRectangle",["cropArea",function(a){var b=function(){a.apply(this,arguments),this._resizeCtrlBaseRadius=15,this._resizeCtrlNormalRatio=.6,this._resizeCtrlHoverRatio=.7,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize={w:0,h:0},this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return b.prototype=new a,b.prototype.getType=function(){return"rectangle"},b.prototype._calcRectangleCorners=function(){var a=this.getSize(),b=this.getSouthEastBound();return[[a.x,a.y],[b.x,a.y],[a.x,b.y],[b.x,b.y]]},b.prototype._calcRectangleDimensions=function(){var a=this.getSize(),b=this.getSouthEastBound();return{left:a.x,top:a.y,right:b.x,bottom:b.y}},b.prototype._isCoordWithinArea=function(a){var b=this._calcRectangleDimensions();return a[0]>=b.left&&a[0]<=b.right&&a[1]>=b.top&&a[1]<=b.bottom},b.prototype._isCoordWithinResizeCtrl=function(a){for(var b=this._calcRectangleCorners(),c=-1,d=0,e=b.length;e>d;d++){var f=b[d];if(a[0]>f[0]-this._resizeCtrlHoverRadius&&a[0]<f[0]+this._resizeCtrlHoverRadius&&a[1]>f[1]-this._resizeCtrlHoverRadius&&a[1]<f[1]+this._resizeCtrlHoverRadius){c=d;break}}return c},b.prototype._drawArea=function(a,b,c){a.rect(c.x,c.y,c.w,c.h)},b.prototype.draw=function(){a.prototype.draw.apply(this,arguments);var b=this.getCenterPoint();this._cropCanvas.drawIconMove([b.x,b.y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var c=this._calcRectangleCorners(),d=0,e=c.length;e>d;d++){var f=c[d];this._cropCanvas.drawIconResizeBoxBase(f,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===d?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},b.prototype.processMouseMove=function(a,b){var c="default",d=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this.setCenterPointOnMove({x:a-this._posDragStartX,y:b-this._posDragStartY}),this._areaIsHover=!0,c="move",d=!0,this._events.trigger("area-move");else if(this._resizeCtrlIsDragging>-1){var e=this.getSize(),f=this.getSouthEastBound(),g=a;switch(this._resizeCtrlIsDragging){case 0:this._aspect&&(g=f.x-(f.y-b)*this._aspect),this.setSizeByCorners({x:g,y:b},{x:f.x,y:f.y}),c="nwse-resize";break;case 1:this._aspect&&(g=e.x+(f.y-b)*this._aspect),this.setSizeByCorners({x:e.x,y:b},{x:g,y:f.y}),c="nesw-resize";break;case 2:this._aspect&&(g=f.x-(b-e.y)*this._aspect),this.setSizeByCorners({x:g,y:e.y},{x:f.x,y:b}),c="nesw-resize";break;case 3:this._aspect&&(g=e.x+(b-e.y)*this._aspect),this.setSizeByCorners({x:e.x,y:e.y},{x:g,y:b}),c="nwse-resize"}this._resizeCtrlIsHover=this._resizeCtrlIsDragging,d=!0,this._events.trigger("area-resize")}else{var h=this._isCoordWithinResizeCtrl([a,b]);if(h>-1){switch(h){case 0:c="nwse-resize";break;case 1:case 2:c="nesw-resize";break;case 3:c="nwse-resize"}this._areaIsHover=!1,this._resizeCtrlIsHover=h,d=!0}else this._isCoordWithinArea([a,b])&&(c="move",this._areaIsHover=!0,d=!0)}return angular.element(this._ctx.canvas).css({cursor:c}),d},b.prototype.processMouseDown=function(a,b){var c=this._isCoordWithinResizeCtrl([a,b]);if(c>-1)this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=c,this._resizeCtrlIsHover=c,this._posResizeStartX=a,this._posResizeStartY=b,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start");else if(this._isCoordWithinArea([a,b])){this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1;var d=this.getCenterPoint();this._posDragStartX=a-d.x,this._posDragStartY=b-d.y,this._events.trigger("area-move-start")}},b.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},b}]),angular.module("uiCropper").factory("cropAreaSquare",["cropArea",function(a){var b=function(){a.apply(this,arguments),this._resizeCtrlBaseRadius=15,this._resizeCtrlNormalRatio=.6,this._resizeCtrlHoverRatio=.7,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return b.prototype=new a,b.prototype.getType=function(){return"square"},b.prototype._calcSquareCorners=function(){var a=this.getSize(),b=this.getSouthEastBound();return[[a.x,a.y],[b.x,a.y],[a.x,b.y],[b.x,b.y]]},b.prototype._calcSquareDimensions=function(){var a=this.getSize(),b=this.getSouthEastBound();return{left:a.x,top:a.y,right:b.x,bottom:b.y}},b.prototype._isCoordWithinArea=function(a){var b=this._calcSquareDimensions();return a[0]>=b.left&&a[0]<=b.right&&a[1]>=b.top&&a[1]<=b.bottom},b.prototype._isCoordWithinResizeCtrl=function(a){for(var b=this._calcSquareCorners(),c=-1,d=0,e=b.length;e>d;d++){var f=b[d];if(a[0]>f[0]-this._resizeCtrlHoverRadius&&a[0]<f[0]+this._resizeCtrlHoverRadius&&a[1]>f[1]-this._resizeCtrlHoverRadius&&a[1]<f[1]+this._resizeCtrlHoverRadius){c=d;break}}return c},b.prototype._drawArea=function(a,b,c){a.rect(c.x,c.y,c.w,c.h)},b.prototype.draw=function(){a.prototype.draw.apply(this,arguments);var b=this.getCenterPoint();this._cropCanvas.drawIconMove([b.x,b.y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var c=this._calcSquareCorners(),d=0,e=c.length;e>d;d++){var f=c[d];this._cropCanvas.drawIconResizeBoxBase(f,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===d?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},b.prototype._clampPoint=function(a,b){var c=this._ctx.canvas.width;return 0>a&&(b-=Math.abs(a),a=0),0>b&&(a-=Math.abs(b),b=0),a>c&&(b-=c-a,a=c),b>c&&(a-=c-b,b=c),{x:a,y:b}},b.prototype.processMouseMove=function(a,b){
var c="default",d=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this.setCenterPointOnMove({x:a-this._posDragStartX,y:b-this._posDragStartY}),this._areaIsHover=!0,c="move",d=!0,this._events.trigger("area-move");else if(this._resizeCtrlIsDragging>-1){var e,f;switch(this._resizeCtrlIsDragging){case 0:e=-1,f=-1,c="nwse-resize";break;case 1:e=1,f=-1,c="nesw-resize";break;case 2:e=-1,f=1,c="nesw-resize";break;case 3:e=1,f=1,c="nwse-resize"}var g,h=(a-this._posResizeStartX)*e,i=(b-this._posResizeStartY)*f;g=h>i?this._posResizeStartSize.w+i:this._posResizeStartSize.w+h;var j=Math.max(this._minSize.w,g),k={},l={},m={},n={},o=this.getSize(),p=this.getSouthEastBound();switch(this._resizeCtrlIsDragging){case 0:k.x=p.x-j,k.y=p.y-j,k=this._clampPoint(k.x,k.y),this.setSizeByCorners(k,{x:p.x,y:p.y}),c="nwse-resize";break;case 1:n.x=o.x+j,n.y=p.y-j,n=this._clampPoint(n.x,n.y),this.setSizeByCorners({x:o.x,y:n.y},{x:n.x,y:p.y}),c="nesw-resize";break;case 2:m.x=p.x-j,m.y=o.y+j,m=this._clampPoint(m.x,m.y),this.setSizeByCorners({x:m.x,y:o.y},{x:p.x,y:m.y}),c="nesw-resize";break;case 3:l.x=o.x+j,l.y=o.y+j,l=this._clampPoint(l.x,l.y),this.setSizeByCorners({x:o.x,y:o.y},l),c="nwse-resize"}this._resizeCtrlIsHover=this._resizeCtrlIsDragging,d=!0,this._events.trigger("area-resize")}else{var q=this._isCoordWithinResizeCtrl([a,b]);if(q>-1){switch(q){case 0:c="nwse-resize";break;case 1:case 2:c="nesw-resize";break;case 3:c="nwse-resize"}this._areaIsHover=!1,this._resizeCtrlIsHover=q,d=!0}else this._isCoordWithinArea([a,b])&&(c="move",this._areaIsHover=!0,d=!0)}return angular.element(this._ctx.canvas).css({cursor:c}),d},b.prototype.processMouseDown=function(a,b){var c=this._isCoordWithinResizeCtrl([a,b]);if(c>-1)this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=c,this._resizeCtrlIsHover=c,this._posResizeStartX=a,this._posResizeStartY=b,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start");else if(this._isCoordWithinArea([a,b])){this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1;var d=this.getCenterPoint();this._posDragStartX=a-d.x,this._posDragStartY=b-d.y,this._events.trigger("area-move-start")}},b.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},b}]),angular.module("uiCropper").factory("cropArea",["cropCanvas",function(a){var b=function(b,c){this._ctx=b,this._events=c,this._minSize={x:0,y:0,w:80,h:80},this._initSize=void 0,this._initCoords=void 0,this._allowCropResizeOnCorners=!1,this._forceAspectRatio=!1,this._aspect=null,this._cropCanvas=new a(b),this._image=new Image,this._size={x:0,y:0,w:150,h:150}};return b.prototype.setAllowCropResizeOnCorners=function(a){this._allowCropResizeOnCorners=a},b.prototype.getImage=function(){return this._image},b.prototype.setImage=function(a){this._image=a},b.prototype.setForceAspectRatio=function(a){this._forceAspectRatio=a},b.prototype.setAspect=function(a){this._aspect=a},b.prototype.getAspect=function(){return this._aspect},b.prototype.getCanvasSize=function(){return{w:this._ctx.canvas.width,h:this._ctx.canvas.height}},b.prototype.getSize=function(){return this._size},b.prototype.setSize=function(a){a=this._processSize(a),this._size=this._preventBoundaryCollision(a)},b.prototype.setSizeOnMove=function(a){a=this._processSize(a),this._allowCropResizeOnCorners?this._size=this._preventBoundaryCollision(a):this._size=this._allowMouseOutsideCanvas(a)},b.prototype.circleOnMove=function(a,b){var c={x:a.x,y:a.y,w:b.x-a.x,h:b.y-a.y},d=this._ctx.canvas.height,e=this._ctx.canvas.width;(c.w>e||c.h>d)&&(d>e?(c.w=e,c.h=e):(c.w=d,c.h=d)),c.x+c.w>e&&(c.x=e-c.w),c.y+c.h>d&&(c.y=d-c.h),c.x<0&&(c.x=0),c.y<0&&(c.y=0),this._minSize.w>c.w&&(c.w=this._minSize.w,c.x=this._size.x),this._minSize.h>c.h&&(c.h=this._minSize.h,c.y=this._size.y),this._size=c},b.prototype.setSizeByCorners=function(a,b){var c={x:a.x,y:a.y,w:b.x-a.x,h:b.y-a.y};this.setSize(c)},b.prototype.getSouthEastBound=function(){return this._southEastBound(this.getSize())},b.prototype.setMinSize=function(a){this._minSize=this._processSize(a),this.setSize(this._minSize)},b.prototype.getMinSize=function(){return this._minSize},b.prototype.getCenterPoint=function(){var a=this.getSize();return{x:a.x+a.w/2,y:a.y+a.h/2}},b.prototype.setCenterPoint=function(a){var b=this.getSize();this.setSize({x:a.x-b.w/2,y:a.y-b.h/2,w:b.w,h:b.h})},b.prototype.setCenterPointOnMove=function(a){var b=this.getSize();this.setSizeOnMove({x:a.x-b.w/2,y:a.y-b.h/2,w:b.w,h:b.h})},b.prototype.setInitSize=function(a){this._initSize=this._processSize(a),this.setSize(this._initSize)},b.prototype.getInitSize=function(){return this._initSize},b.prototype.setInitCoords=function(a){a.h=this.getSize().h,a.w=this.getSize().w,this._initCoords=this._processSize(a),this.setSize(this._initCoords)},b.prototype.getInitCoords=function(){return this._initCoords},b.prototype.getType=function(){return"circle"},b.prototype._allowMouseOutsideCanvas=function(a){var b=this._ctx.canvas.height,c=this._ctx.canvas.width,d={w:a.w,h:a.h};return a.x<0?d.x=0:a.x+a.w>c?d.x=c-a.w:d.x=a.x,a.y<0?d.y=0:a.y+a.h>b?d.y=b-a.h:d.y=a.y,d},b.prototype._preventBoundaryCollision=function(a){var b=this._ctx.canvas.height,c=this._ctx.canvas.width,d={x:a.x,y:a.y},e=this._southEastBound(a);d.x<0&&(d.x=0),d.y<0&&(d.y=0),e.x>c&&(e.x=c),e.y>b&&(e.y=b);var f=this._forceAspectRatio?a.w:e.x-d.x,g=this._forceAspectRatio?a.h:e.y-d.y;g>b&&(g=b),this._aspect&&(f=g*this._aspect,d.x+f>c&&(g=(f=c-d.x)/this._aspect,this._minSize.w>f&&(f=this._minSize.w),this._minSize.h>g&&(g=this._minSize.h),d.x=c-f),d.y+g>b&&(d.y=b-g)),this._forceAspectRatio&&(f=g,d.x+f>c&&((f=c-d.x)<this._minSize.w&&(f=this._minSize.w),g=f));var h={x:d.x,y:d.y,w:f,h:g};return h.w<this._minSize.w&&!this._forceAspectRatio&&(h.w=this._minSize.w,(e=this._southEastBound(h)).x>c&&(e.x=c,d.x=Math.max(e.x-c,e.x-this._minSize.w),h={x:d.x,y:d.y,w:e.x-d.x,h:e.y-d.y})),h.h<this._minSize.h&&!this._forceAspectRatio&&(h.h=this._minSize.h,(e=this._southEastBound(h)).y>b&&(e.y=b,d.y=Math.max(e.y-b,e.y-this._minSize.h),h={x:d.x,y:d.y,w:e.x-d.x,h:e.y-d.y})),this._forceAspectRatio&&((e=this._southEastBound(h)).y>b&&(h.y=b-h.h),e.x>c&&(h.x=c-h.w)),h},b.prototype._dontDragOutside=function(){var a=this._ctx.canvas.height,b=this._ctx.canvas.width;this._width>b&&(this._width=b),this._height>a&&(this._height=a),this._x<this._width/2&&(this._x=this._width/2),this._x>b-this._width/2&&(this._x=b-this._width/2),this._y<this._height/2&&(this._y=this._height/2),this._y>a-this._height/2&&(this._y=a-this._height/2)},b.prototype._drawArea=function(){},b.prototype._processSize=function(a){"number"==typeof a&&(a={w:a,h:a});var b=a.w;return this._aspect&&(b=a.h*this._aspect),{x:void 0===a.x?this.getSize().x:a.x,y:void 0===a.y?this.getSize().y:a.y,w:b||this._minSize.w,h:a.h||this._minSize.h}},b.prototype._southEastBound=function(a){return{x:a.x+a.w,y:a.y+a.h}},b.prototype.draw=function(){this._cropCanvas.drawCropArea(this._image,this.getCenterPoint(),this._size,this._drawArea)},b.prototype.processMouseMove=function(){},b.prototype.processMouseDown=function(){},b.prototype.processMouseUp=function(){},b}]),angular.module("uiCropper").factory("cropCanvas",[function(){var a=[[-.5,-2],[-3,-4.5],[-.5,-7],[-7,-7],[-7,-.5],[-4.5,-3],[-2,-.5]],b=[[.5,-2],[3,-4.5],[.5,-7],[7,-7],[7,-.5],[4.5,-3],[2,-.5]],c=[[-.5,2],[-3,4.5],[-.5,7],[-7,7],[-7,.5],[-4.5,3],[-2,.5]],d=[[.5,2],[3,4.5],[.5,7],[7,7],[7,.5],[4.5,3],[2,.5]],e=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]],f=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]],g=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]],h=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]],i={areaOutline:"#fff",resizeBoxStroke:"#bababa",resizeBoxFill:"#444",resizeBoxArrowFill:"#fff",resizeCircleStroke:"#bababa",resizeCircleFill:"#444",moveIconFill:"#fff"},j={strokeWidth:1};return function(k){var l=function(a,b,c){return[c*a[0]+b[0],c*a[1]+b[1]]},m=function(a,b,c,d){k.save(),k.fillStyle=b,k.beginPath();var e,f=l(a[0],c,d);k.moveTo(f[0],f[1]);for(var g in a)g>0&&(e=l(a[g],c,d),k.lineTo(e[0],e[1]));k.lineTo(f[0],f[1]),k.fill(),k.closePath(),k.restore()};this.drawIconMove=function(a,b){m(e,i.moveIconFill,a,b),m(f,i.moveIconFill,a,b),m(g,i.moveIconFill,a,b),m(h,i.moveIconFill,a,b)},this.drawIconResizeCircle=function(a,b,c){var d=b*c;k.save(),k.strokeStyle=i.resizeCircleStroke,k.lineWidth=j.strokeWidth,k.fillStyle=i.resizeCircleFill,k.beginPath(),k.arc(a[0],a[1],d,0,2*Math.PI),k.fill(),k.stroke(),k.closePath(),k.restore()},this.drawIconResizeBoxBase=function(a,b,c){var d=b*c;k.save(),k.strokeStyle=i.resizeBoxStroke,k.lineWidth=j.strokeWidth,k.fillStyle=i.resizeBoxFill,k.fillRect(a[0]-d/2,a[1]-d/2,d,d),k.strokeRect(a[0]-d/2,a[1]-d/2,d,d),k.restore()},this.drawIconResizeBoxNESW=function(a,d,e){this.drawIconResizeBoxBase(a,d,e),m(b,i.resizeBoxArrowFill,a,e),m(c,i.resizeBoxArrowFill,a,e)},this.drawIconResizeBoxNWSE=function(b,c,e){this.drawIconResizeBoxBase(b,c,e),m(a,i.resizeBoxArrowFill,b,e),m(d,i.resizeBoxArrowFill,b,e)},this.drawCropArea=function(a,b,c,d){var e=Math.abs(a.width/k.canvas.width),f=Math.abs(a.height/k.canvas.height),g=Math.abs(b.x-c.w/2),h=Math.abs(b.y-c.h/2);k.save(),k.strokeStyle=i.areaOutline,k.lineWidth=j.strokeWidth,k.setLineDash([5,5]),k.beginPath(),d(k,b,c),k.stroke(),k.clip(),c.w>0&&k.drawImage(a,g*e,h*f,Math.abs(c.w*e),Math.abs(c.h*f),g,h,Math.abs(c.w),Math.abs(c.h)),k.beginPath(),d(k,b,c),k.stroke(),k.clip(),k.restore()}}}]),angular.module("uiCropper").service("cropEXIF",[function(){function a(a){return!!a.exifdata}function b(a,b){b=b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"",a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var c=atob(a),d=c.length,e=new ArrayBuffer(d),f=new Uint8Array(e),g=0;d>g;g++)f[g]=c.charCodeAt(g);return e}function c(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.responseType="blob",c.onload=function(a){200!==this.status&&0!==this.status||b(this.response)},c.send()}function d(a,d){function g(b){var c=e(b),g=f(b);a.exifdata=c||{},a.iptcdata=g||{},d&&d.call(a)}var h=new FileReader;if(a.src){/^data\:/i.test(a.src)?g(b(a.src)):/^blob\:/i.test(a.src)&&(h.onload=function(a){g(a.target.result)},c(a.src,function(a){h.readAsArrayBuffer(a)}));var i=new XMLHttpRequest;i.onload=function(){if(200!==this.status&&0!==this.status)throw"Could not load image";g(i.response),i=null},i.open("GET",a.src,!0),i.responseType="arraybuffer";try{i.send(null)}catch(a){}}else window.FileReader&&(a instanceof window.Blob||a instanceof window.File)&&(h.onload=function(a){l&&console.log("Got file of length "+a.target.result.byteLength),g(a.target.result)},h.readAsArrayBuffer(a))}function e(a){var b=new DataView(a);if(l&&console.log("Got file of length "+a.byteLength),255!==b.getUint8(0)||216!==b.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var c,d=2,e=a.byteLength;e>d;){if(255!==b.getUint8(d))return l&&console.log("Not a valid marker at offset "+d+", found: "+b.getUint8(d)),!1;if(c=b.getUint8(d+1),l&&console.log(c),225===c)return l&&console.log("Found 0xFFE1 marker"),k(b,d+4,b.getUint16(d+2));d+=2+b.getUint16(d+2)}}function f(a){var b=new DataView(a);if(l&&console.log("Got file of length "+a.byteLength),255!==b.getUint8(0)||216!==b.getUint8(1))return l&&console.log("Not a valid JPEG"),!1;for(var c=2,d=a.byteLength;d>c;){if(function(a,b){return 56===a.getUint8(b)&&66===a.getUint8(b+1)&&73===a.getUint8(b+2)&&77===a.getUint8(b+3)&&4===a.getUint8(b+4)&&4===a.getUint8(b+5)}(b,c)){var e=b.getUint8(c+7);return e%2!=0&&(e+=1),0===e&&(e=4),g(a,c+8+e,b.getUint16(c+6+e))}c++}}function g(a,b,c){for(var d,e,f,g,h=new DataView(a),i={},k=b;b+c>k;)28===h.getUint8(k)&&2===h.getUint8(k+1)&&(g=h.getUint8(k+2))in q&&((f=h.getInt16(k+3))+5,e=q[g],d=j(h,k+5,f),i.hasOwnProperty(e)?i[e]instanceof Array?i[e].push(d):i[e]=[i[e],d]:i[e]=d),k++;return i}function h(a,b,c,d,e){var f,g,h,j=a.getUint16(c,!e),k={};for(h=0;j>h;h++)f=c+12*h+2,!(g=d[a.getUint16(f,!e)])&&l&&console.log("Unknown tag: "+a.getUint16(f,!e)),k[g]=i(a,f,b,c,e);return k}function i(a,b,c,d,e){var f,g,h,i,k,l,m=a.getUint16(b+2,!e),n=a.getUint32(b+4,!e),o=a.getUint32(b+8,!e)+c;switch(m){case 1:case 7:if(1===n)return a.getUint8(b+8,!e);for(f=n>4?o:b+8,g=[],i=0;n>i;i++)g[i]=a.getUint8(f+i);return g;case 2:return f=n>4?o:b+8,j(a,f,n-1);case 3:if(1===n)return a.getUint16(b+8,!e);for(f=n>2?o:b+8,g=[],i=0;n>i;i++)g[i]=a.getUint16(f+2*i,!e);return g;case 4:if(1===n)return a.getUint32(b+8,!e);for(g=[],i=0;n>i;i++)g[i]=a.getUint32(o+4*i,!e);return g;case 5:if(1===n)return k=a.getUint32(o,!e),l=a.getUint32(o+4,!e),h={},h.numerator=k,h.denominator=l,h;for(g=[],i=0;n>i;i++)k=a.getUint32(o+8*i,!e),l=a.getUint32(o+4+8*i,!e),g[i]={},g[i].numerator=k,g[i].denominator=l;return g;case 9:if(1===n)return a.getInt32(b+8,!e);for(g=[],i=0;n>i;i++)g[i]=a.getInt32(o+4*i,!e);return g;case 10:if(1===n)return a.getInt32(o,!e)/a.getInt32(o+4,!e);for(g=[],i=0;n>i;i++)g[i]=a.getInt32(o+8*i,!e)/a.getInt32(o+4+8*i,!e);return g}}function j(a,b,c){for(var d="",e=b;b+c>e;e++)d+=String.fromCharCode(a.getUint8(e));return d}function k(a,b){if("Exif"!==j(a,b,4))return l&&console.log("Not valid EXIF data! "+j(a,b,4)),!1;var c,d,e,f,g,i=b+6;if(18761===a.getUint16(i))c=!1;else{if(19789!==a.getUint16(i))return l&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;c=!0}if(42!==a.getUint16(i+2,!c))return l&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var k=a.getUint32(i+4,!c);if(8>k)return l&&console.log("Not valid TIFF data! (First offset less than 8)",a.getUint32(i+4,!c)),!1;if((d=h(a,i,i+k,n,c)).ExifIFDPointer){f=h(a,i,i+d.ExifIFDPointer,m,c);for(e in f){switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":f[e]=p[e][f[e]];break;case"ExifVersion":case"FlashpixVersion":f[e]=String.fromCharCode(f[e][0],f[e][1],f[e][2],f[e][3]);break;case"ComponentsConfiguration":f[e]=p.Components[f[e][0]]+p.Components[f[e][1]]+p.Components[f[e][2]]+p.Components[f[e][3]]}d[e]=f[e]}}if(d.GPSInfoIFDPointer){g=h(a,i,i+d.GPSInfoIFDPointer,o,c);for(e in g){switch(e){case"GPSVersionID":g[e]=g[e][0]+"."+g[e][1]+"."+g[e][2]+"."+g[e][3]}d[e]=g[e]}}return d}var l=!1,m=this.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},n=this.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},o=this.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},p=this.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},q={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};this.getData=function(b,c){return!((b instanceof Image||b instanceof HTMLImageElement)&&!b.complete||(a(b)?c&&c.call(b):d(b,c),0))},this.getTag=function(b,c){return a(b)?b.exifdata[c]:void 0},this.getAllTags=function(b){if(!a(b))return{};var c,d=b.exifdata,e={};for(c in d)d.hasOwnProperty(c)&&(e[c]=d[c]);return e},this.pretty=function(b){if(!a(b))return"";var c,d=b.exifdata,e="";for(c in d)d.hasOwnProperty(c)&&(e+="object"==typeof d[c]?d[c]instanceof Number?c+" : "+d[c]+" ["+d[c].numerator+"/"+d[c].denominator+"]\r\n":c+" : ["+d[c].length+" values]\r\n":c+" : "+d[c]+"\r\n");return e},this.readFromBinaryFile=function(a){return e(a)}}]),angular.module("uiCropper").factory("cropHost",["$document","$q","cropAreaCircle","cropAreaSquare","cropAreaRectangle","cropEXIF",function(a,b,c,d,e,f){var g=8,h=function(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{top:Math.round(i),left:Math.round(j)}};return function(i,j,k){function l(){m.clearRect(0,0,m.canvas.width,m.canvas.height),null!==n&&(m.drawImage(n,0,0,m.canvas.width,m.canvas.height),m.save(),m.fillStyle="rgba(0, 0, 0, 0.65)",m.fillRect(0,0,m.canvas.width,m.canvas.height),m.restore(),o.draw())}var m=null,n=null,o=null,p=null,q=null,r=this,s=[100,100],t=[300,300],u=null,v=[],w={w:200,h:200},x=null,y="image/png",z=null,A=!1;this.setInitMax=function(a){p=a},this.setAllowCropResizeOnCorners=function(a){o.setAllowCropResizeOnCorners(a)};var B=function(){if(null!==n){o.setImage(n);var a=[n.width,n.height],b=n.width/n.height,c=a;c[0]>t[0]?(c[0]=t[0],c[1]=c[0]/b):c[0]<s[0]&&(c[0]=s[0],c[1]=c[0]/b),"fixed-height"===u&&c[1]>t[1]?(c[1]=t[1],c[0]=c[1]*b):c[1]<s[1]&&(c[1]=s[1],c[0]=c[1]*b),i.prop("width",c[0]).prop("height",c[1]),"fixed-height"===u&&i.css({"margin-left":-c[0]/2+"px","margin-top":-c[1]/2+"px"});var d=m.canvas.width,e=m.canvas.height,f=r.getAreaType();if("circle"===f||"square"===f)d>e&&(d=e),e=d;else if("rectangle"===f&&q){var g=o.getAspect();d/e>g?d=g*e:e=g*d}if(p?o.setSize({w:d,h:e}):void 0!==o.getInitSize()?o.setSize({w:Math.min(o.getInitSize().w,d/2),h:Math.min(o.getInitSize().h,e/2)}):o.setSize({w:Math.min(200,d/2),h:Math.min(200,e/2)}),o.getInitCoords())if(r.areaInitIsRelativeToImage){var h=n.width/c[0];o.setSize({w:o.getInitSize().w/h,h:o.getInitSize().h/h,x:o.getInitCoords().x/h,y:o.getInitCoords().y/h})}else o.setSize({w:o.getSize().w,h:o.getSize().h,x:o.getInitCoords().x,y:o.getInitCoords().y});else o.setCenterPoint({x:m.canvas.width/2,y:m.canvas.height/2})}else i.prop("width",0).prop("height",0).css({"margin-top":0});l()},C=function(a){return angular.isDefined(a.changedTouches)?a.changedTouches:a.originalEvent.changedTouches},D=function(a){if(null!==n){var b,c,d=h(m.canvas);"touchmove"===a.type?(b=C(a)[0].pageX,c=C(a)[0].pageY):(b=a.pageX,c=a.pageY),o.processMouseMove(b-d.left,c-d.top),l()}},E=function(a){if(a.preventDefault(),a.stopPropagation(),null!==n){var b,c,d=h(m.canvas);"touchstart"===a.type?(b=C(a)[0].pageX,c=C(a)[0].pageY):(b=a.pageX,c=a.pageY),o.processMouseDown(b-d.left,c-d.top),l()}},F=function(a){if(null!==n){var b,c,d=h(m.canvas);"touchend"===a.type?(b=C(a)[0].pageX,c=C(a)[0].pageY):(b=a.pageX,c=a.pageY),o.processMouseUp(b-d.left,c-d.top),l()}},G=function(a,b){var c,d;if(d=angular.element("<canvas></canvas>")[0],c=d.getContext("2d"),d.width=a.w,d.height=a.h,null!==n){var e=(b.x-o.getSize().w/2)*(n.width/m.canvas.width),f=(b.y-o.getSize().h/2)*(n.height/m.canvas.height),g=o.getSize().w*(n.width/m.canvas.width),h=o.getSize().h*(n.height/m.canvas.height);if(A)c.drawImage(n,e,f,g,h,0,0,a.w,a.h);else{var i,j,k=g/h;k>1?i=(j=a.w)/k:j=(i=a.h)*k,d.width=j,d.height=i,c.drawImage(n,e,f,g,h,0,0,Math.round(j),Math.round(i))}}return d},H=function(a){var b,c={dataURI:null,imageData:null};return b=G(a,o.getCenterPoint()),null!==n&&(c.dataURI=null!==z?b.toDataURL(y,z):b.toDataURL(y)),c};this.getResultImage=function(){if(0===v.length)return H(this.getResultImageSize());for(var a=[],b=0;b<v.length;b++)a.push({dataURI:H(v[b]).dataURI,w:v[b].w,h:v[b].h});return a},this.getResultImageDataBlob=function(){var a,c=b.defer();return a=G(this.getResultImageSize(),o.getCenterPoint()),null!==z?a.toBlob(function(a){c.resolve(a)},y,z):a.toBlob(function(a){c.resolve(a)},y),c.promise},this.getAreaCoords=function(){return o.getSize()},this.getArea=function(){return o},this.setNewImageSource=function(a){if(n=null,B(),a){var b=new Image;b.onload=function(){k.trigger("load-done"),f.getData(b,function(){var a=f.getTag(b,"Orientation");if([3,6,8].indexOf(a)>-1){var c=document.createElement("canvas"),d=c.getContext("2d"),e=b.width,g=b.height,h=0,i=0,j=0,l=0,m=0;switch(l=e,m=g,a){case 3:h=-b.width,i=-b.height,j=180;break;case 6:e=b.height,g=b.width,i=-b.height,l=g,m=e,j=90;break;case 8:e=b.height,g=b.width,h=-b.width,l=g,m=e,j=270}if(e>1e3||g>1e3){var o=0;e>1e3?(o=1e3/e,e=1e3,g*=o):g>1e3&&(o=1e3/g,g=1e3,e*=o),i*=o,h*=o,l*=o,m*=o}c.width=e,c.height=g,d.rotate(j*Math.PI/180),d.drawImage(b,h,i,l,m),(n=new Image).onload=function(){B(),k.trigger("image-updated")},n.src=c.toDataURL(y)}else n=b,k.trigger("image-updated");B()})},b.onerror=function(){k.trigger("load-error")},k.trigger("load-start"),a instanceof window.Blob?b.src=URL.createObjectURL(a):("http"!==a.substring(0,4).toLowerCase()&&"//"!==a.substring(0,2)||(b.crossOrigin="anonymous"),b.src=a)}},this.setMaxDimensions=function(a,b){if(t=[a,b],null!==n){var c=m.canvas.width,d=m.canvas.height,e=[n.width,n.height],f=n.width/n.height,g=e;g[0]>t[0]?(g[0]=t[0],g[1]=g[0]/f):g[0]<s[0]&&(g[0]=s[0],g[1]=g[0]/f),"fixed-height"===u&&g[1]>t[1]?(g[1]=t[1],g[0]=g[1]*f):g[1]<s[1]&&(g[1]=s[1],g[0]=g[1]*f),i.prop("width",g[0]).prop("height",g[1]),"fixed-height"===u&&i.css({"margin-left":-g[0]/2+"px","margin-top":-g[1]/2+"px"});var h=m.canvas.width/c,j=m.canvas.height/d,k=Math.min(h,j),p=o.getCenterPoint();o.setSize({w:o.getSize().w*k,h:o.getSize().h*k}),o.setCenterPoint({x:p.x*h,y:p.y*j})}else i.prop("width",0).prop("height",0).css({"margin-top":0});l()},this.setAreaMinSize=function(a){angular.isUndefined(a)||(a="number"==typeof a||"string"==typeof a?{w:parseInt(parseInt(a),10),h:parseInt(parseInt(a),10)}:{w:parseInt(a.w,10),h:parseInt(a.h,10)},isNaN(a.w)||isNaN(a.h)||(o.setMinSize(a),l()))},this.setAreaMinRelativeSize=function(a){if(null!==n&&!angular.isUndefined(a)){var b=o.getCanvasSize();"number"==typeof a||"string"==typeof a?(x={w:a,h:a},a={w:b.w/(n.width/parseInt(parseInt(a),10)),h:b.h/(n.height/parseInt(parseInt(a),10))}):(x=a,a={w:b.w/(n.width/parseInt(parseInt(a.w),10)),h:b.h/(n.height/parseInt(parseInt(a.h),10))}),isNaN(a.w)||isNaN(a.h)||(o.setMinSize(a),l())}},this.setAreaInitSize=function(a){angular.isUndefined(a)||(a="number"==typeof a||"string"==typeof a?{w:parseInt(parseInt(a),10),h:parseInt(parseInt(a),10)}:{w:parseInt(a.w,10),h:parseInt(a.h,10)},isNaN(a.w)||isNaN(a.h)||(o.setInitSize(a),l()))},this.setAreaInitCoords=function(a){angular.isUndefined(a)||(a={x:parseInt(a.x,10),y:parseInt(a.y,10)},isNaN(a.x)||isNaN(a.y)||(o.setInitCoords(a),l()))},this.setMaxCanvasDimensions=function(a){if(!angular.isUndefined(a)){var b=[];b="number"==typeof a||"string"==typeof a?[parseInt(parseInt(a),10),parseInt(parseInt(a),10)]:[parseInt(a.w,10),parseInt(a.h,10)],!isNaN(b[0])&&b[0]>0&&b[0]>s[0]&&!isNaN(b[1])&&b[1]>0&&b[1]>s[1]&&(t=b)}},this.setMinCanvasDimensions=function(a){if(!angular.isUndefined(a)){var b=[];b="number"==typeof a||"string"==typeof a?[parseInt(parseInt(a),10),parseInt(parseInt(a),10)]:[parseInt(a.w,10),parseInt(a.h,10)],!isNaN(b[0])&&b[0]>=0&&!isNaN(b[1])&&b[1]>=0&&(s=b)}},this.setScalemode=function(a){u=a},this.getScalemode=function(){return u},this.getResultImageSize=function(){if("selection"===w)return o.getSize();if("max"===w){var a=1;n&&m&&m.canvas&&(a=n.width/m.canvas.width);var b={w:a*o.getSize().w,h:a*o.getSize().h};return x&&(b.w<x.w&&(b.w=x.w),b.h<x.h&&(b.h=x.h)),b}return w},this.setResultImageSize=function(a){return angular.isArray(a)?(v=a.slice(),void(a={w:parseInt(a[0].w,10),h:parseInt(a[0].h,10)})):void(angular.isUndefined(a)||(angular.isString(a)?w=a:(angular.isNumber(a)&&(a={w:a=parseInt(a,10),h:a}),a={w:parseInt(a.w,10),h:parseInt(a.h,10)},isNaN(a.w)||isNaN(a.h)||(w=a,l()))))},this.setResultImageFormat=function(a){y=a},this.setResultImageQuality=function(a){a=parseFloat(a),!isNaN(a)&&a>=0&&1>=a&&(z=a)},this.getAreaType=function(){return o.getType()},this.setAreaType=function(a){var b=o.getCenterPoint(),f=o.getSize(),g=o.getMinSize(),h=b.x,i=b.y,j=c;"square"===a?j=d:"rectangle"===a&&(j=e),(o=new j(m,k)).setMinSize(g),o.setSize(f),"square"===a||"circle"===a?(A=!0,o.setForceAspectRatio(!0)):(A=!1,o.setForceAspectRatio(!1)),o.setCenterPoint({x:h,y:i}),null!==n&&o.setImage(n),l()},this.getDominantColor=function(a){var c=new Image,d=new ColorThief,e=null,f=b.defer();return c.src=a,c.onload=function(){e=d.getColor(c),f.resolve(e)},f.promise},this.getPalette=function(a){var c=new Image,d=new ColorThief,e=null,f=b.defer();return c.src=a,c.onload=function(){e=d.getPalette(c,g),f.resolve(e)},f.promise},this.setPaletteColorLength=function(a){g=a},this.setAspect=function(a){q=!0,o.setAspect(a);var b=o.getMinSize();b.w=b.h*a,o.setMinSize(b);var c=o.getSize();c.w=c.h*a,o.setSize(c)},m=i[0].getContext("2d"),o=new c(m,k),a.on("mousemove",D),i.on("mousedown",E),a.on("mouseup",F),a.on("touchmove",D),i.on("touchstart",E),a.on("touchend",F),this.destroy=function(){a.off("mousemove",D),i.off("mousedown",E),a.off("mouseup",F),a.off("touchmove",D),i.off("touchstart",E),a.off("touchend",F),i.remove()}}}]),angular.module("uiCropper").factory("cropPubSub",[function(){return function(){var a={};this.on=function(b,c){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),a[b].push(c)}),this},this.trigger=function(b,c){return angular.forEach(a[b],function(a){a.call(null,c)}),this}}}]),angular.module("uiCropper").directive("uiCropper",["$timeout","cropHost","cropPubSub",function(a,b,c){return{restrict:"E",scope:{image:"=",resultImage:"=",resultArrayImage:"=?",resultBlob:"=?",urlBlob:"=?",chargement:"=?",cropject:"=?",maxCanvasDimensions:"=?",minCanvasDimensions:"=?",canvasScalemode:"@?",changeOnFly:"=?",liveView:"=?",initMaxArea:"=?",areaCoords:"=?",areaType:"@",areaMinSize:"=?",areaInitSize:"=?",areaInitCoords:"=?",areaInitIsRelativeToImage:"=?",areaMinRelativeSize:"=?",resultImageSize:"=?",resultImageFormat:"@",resultImageQuality:"=?",aspectRatio:"=?",allowCropResizeOnCorners:"=?",dominantColor:"=?",paletteColor:"=?",paletteColorLength:"=?",onChange:"&",onLoadBegin:"&",onLoadDone:"&",onLoadError:"&"},template:"<canvas></canvas>",controller:["$scope",function(a){a.events=new c}],link:function(c,d){var e=c.events,f=new b(d.find("canvas"),{},e);c.canvasScalemode?f.setScalemode(c.canvasScalemode):f.setScalemode("fixed-height"),d.addClass(f.getScalemode());var g,h=function(a){a.areaCoords=f.getAreaCoords()},i=function(a,b,c){if(""!==a.image&&(!a.liveView.block||b)){var d,e=f.getResultImage();angular.isArray(e)?(d=e[0].dataURI,a.resultArrayImage=e):d=e.dataURI;var i=window.URL||window.webkitURL;g!==d&&(g=d,a.resultImage=d,a.liveView.callback&&a.liveView.callback(d),c&&c(d),f.getResultImageDataBlob().then(function(b){a.resultBlob=b,a.urlBlob=i.createObjectURL(b)}),a.resultImage&&(f.getDominantColor(a.resultImage).then(function(b){a.dominantColor=b}),f.getPalette(a.resultImage).then(function(b){a.paletteColor=b})),h(a),a.onChange({$dataURI:a.resultImage}))}};c.liveView&&"boolean"==typeof c.liveView.block?c.liveView.render=function(a){i(c,!0,a)}:c.liveView={block:!1};var j=function(a){var b=f.getAreaCoords(),c={x:f.getArea().getImage().width/f.getArea().getCanvasSize().w,
y:f.getArea().getImage().height/f.getArea().getCanvasSize().h};a.cropject={canvasSize:f.getArea().getCanvasSize(),areaCoords:b,cropWidth:b.w,cropHeight:b.h,cropTop:b.y,cropLeft:b.x,cropImageWidth:Math.round(b.w*c.x),cropImageHeight:Math.round(b.h*c.y),cropImageTop:Math.round(b.y*c.y),cropImageLeft:Math.round(b.x*c.x)}},k=function(b){return function(){a(function(){c.$apply(function(a){b(a)})})}};c.chargement||(c.chargement=function(){switch(window.navigator.userLanguage||window.navigator.language){case"nl":case"nl_NL":return"Aan het laden";case"fr":case"fr-FR":return"Chargement";case"es":case"es-ES":return"Cargando";case"ca":case"ca-ES":return"Càrrega";case"de":case"de-DE":return"Laden";case"pt":case"pt-BR":return"Carregando";default:return"Loading"}}());var l=function(){d.append('<div class="loading"><span>'+c.chargement+"...</span></div>")};e.on("load-start",k(function(a){a.onLoadBegin({})})).on("load-done",k(function(a){var b=d.children();angular.forEach(b,function(a){angular.element(a).hasClass("loading")&&angular.element(a).remove()}),j(a),a.onLoadDone({})})).on("load-error",k(function(a){a.onLoadError({})})).on("area-move area-resize",k(function(a){!0===a.changeOnFly&&i(a),j(a)})).on("image-updated",k(function(a){f.setAreaMinRelativeSize(a.areaMinRelativeSize)})).on("area-move-end area-resize-end image-updated",k(function(a){i(a),j(a)})),c.$watch("image",function(b){b&&l(),null!==c.timeout&&a.cancel(c.timeout),c.timeout=a(function(){c.timeout=null,f.setInitMax(c.initMaxArea),f.setNewImageSource(c.image)},100)}),c.$watch("areaType",function(){f.setAreaType(c.areaType),i(c)}),c.$watch("areaMinSize",function(){f.setAreaMinSize(c.areaMinSize),i(c)}),c.$watch("areaMinRelativeSize",function(){""!==c.image&&(f.setAreaMinRelativeSize(c.areaMinRelativeSize),i(c))}),c.$watch("areaInitSize",function(){f.setAreaInitSize(c.areaInitSize),i(c)}),c.$watch("areaInitCoords",function(){f.setAreaInitCoords(c.areaInitCoords),f.areaInitIsRelativeToImage=c.areaInitIsRelativeToImage,i(c)}),c.$watch("maxCanvasDimensions",function(){f.setMaxCanvasDimensions(c.maxCanvasDimensions)}),c.$watch("minCanvasDimensions",function(){f.setMinCanvasDimensions(c.minCanvasDimensions)}),c.$watch("resultImageFormat",function(){f.setResultImageFormat(c.resultImageFormat),i(c)}),c.$watch("resultImageQuality",function(){f.setResultImageQuality(c.resultImageQuality),i(c)}),c.$watch("resultImageSize",function(){f.setResultImageSize(c.resultImageSize),i(c)}),c.$watch("paletteColorLength",function(){f.setPaletteColorLength(c.paletteColorLength)}),c.$watch("aspectRatio",function(){"string"==typeof c.aspectRatio&&""!==c.aspectRatio&&(c.aspectRatio=parseInt(c.aspectRatio)),c.aspectRatio&&f.setAspect(c.aspectRatio)}),c.$watch("allowCropResizeOnCorners",function(){c.allowCropResizeOnCorners&&f.setAllowCropResizeOnCorners(c.allowCropResizeOnCorners)}),c.$watch(function(){return"fixed-height"===f.getScalemode()?[d[0].clientWidth,d[0].clientHeight]:"full-width"===f.getScalemode()?d[0].clientWidth:void 0},function(a){"fixed-height"===f.getScalemode()&&a[0]>0&&a[1]>0&&(f.setMaxDimensions(a[0],a[1]),i(c)),"full-width"===f.getScalemode()&&a>0&&f.setMaxDimensions(a)},!0),c.$on("$destroy",function(){f.destroy()})}}}]),function(a){"use strict";var b,c=a.Uint8Array,d=a.HTMLCanvasElement,e=d&&d.prototype,f=/\s*;\s*base64\s*(?:;|$)/i,g="toDataURL",h=function(a){for(var d,e,f=a.length,g=new c(f/4*3|0),h=0,i=0,j=[0,0],k=0,l=0;f--;)e=a.charCodeAt(h++),255!==(d=b[e-43])&&void 0!==d&&(j[1]=j[0],j[0]=e,l=l<<6|d,4===++k&&(g[i++]=l>>>16,61!==j[1]&&(g[i++]=l>>>8),61!==j[0]&&(g[i++]=l),k=0));return g};c&&(b=new c([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),d&&!e.toBlob&&(e.toBlob=function(a,b){if(b||(b="image/png"),this.mozGetAsFile)a(this.mozGetAsFile("canvas",b));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(b))a(this.msToBlob());else{var d,e=Array.prototype.slice.call(arguments,1),i=this[g].apply(this,e),j=i.indexOf(","),k=i.substring(j+1),l=f.test(i.substring(0,j));Blob.fake?((d=new Blob).encoding=l?"base64":"URI",d.data=k,d.size=k.length):c&&(d=l?new Blob([h(k)],{type:b}):new Blob([decodeURIComponent(k)],{type:b})),void 0!==a&&a(d)}},e.toDataURLHD?e.toBlobHD=function(){g="toDataURLHD";var a=this.toBlob();return g="toDataURL",a}:e.toBlobHD=e.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(){var a=function(a){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=a.width,this.height=this.canvas.height=a.height,this.context.drawImage(a,0,0,this.width,this.height)};a.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},a.prototype.update=function(a){this.context.putImageData(a,0,0)},a.prototype.getPixelCount=function(){return this.width*this.height},a.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},a.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var b=function(){};if(window.ColorThief=b,b.prototype.getColor=function(a,b){return this.getPalette(a,5,b)[0]},b.prototype.getPalette=function(b,c,e){void 0===c&&(c=10),(void 0===e||1>e)&&(e=10);for(var f,g,h,i,j=new a(b),k=j.getImageData().data,l=j.getPixelCount(),m=[],n=0;l>n;n+=e)g=k[(f=4*n)+0],h=k[f+1],i=k[f+2],k[f+3]>=125&&(g>250&&h>250&&i>250||m.push([g,h,i]));var o=d.quantize(m,c),p=o?o.palette():null;return j.removeCanvas(),p},!c)var c={map:function(a,b){var c={};return b?a.map(function(a,d){return c.index=d,b.call(c,a)}):a.slice()},naturalOrder:function(a,b){return b>a?-1:a>b?1:0},sum:function(a,b){var c={};return a.reduce(b?function(a,d,e){return c.index=e,a+b.call(c,d)}:function(a,b){return a+b},0)},max:function(a,b){return Math.max.apply(null,b?c.map(a,b):a)}};var d=function(){function a(a,b,c){return(a<<2*i)+(b<<i)+c}function b(a){function b(){c.sort(a),d=!0}var c=[],d=!1;return{push:function(a){c.push(a),d=!1},peek:function(a){return d||b(),void 0===a&&(a=c.length-1),c[a]},pop:function(){return d||b(),c.pop()},size:function(){return c.length},map:function(a){return c.map(a)},debug:function(){return d||b(),c}}}function d(a,b,c,d,e,f,g){var h=this;h.r1=a,h.r2=b,h.g1=c,h.g2=d,h.b1=e,h.b2=f,h.histo=g}function e(){this.vboxes=new b(function(a,b){return c.naturalOrder(a.vbox.count()*a.vbox.volume(),b.vbox.count()*b.vbox.volume())})}function f(b){var c,d,e,f,g=1<<3*i,h=new Array(g);return b.forEach(function(b){d=b[0]>>j,e=b[1]>>j,f=b[2]>>j,c=a(d,e,f),h[c]=(h[c]||0)+1}),h}function g(a,b){var c,e,f,g=1e6,h=0,i=1e6,k=0,l=1e6,m=0;return a.forEach(function(a){c=a[0]>>j,e=a[1]>>j,f=a[2]>>j,g>c?g=c:c>h&&(h=c),i>e?i=e:e>k&&(k=e),l>f?l=f:f>m&&(m=f)}),new d(g,h,i,k,l,m,b)}function h(b,d){function e(a){var b,c,e,f,g,h=a+"1",i=a+"2",k=0;for(j=d[h];j<=d[i];j++)if(o[j]>n/2){for(e=d.copy(),f=d.copy(),g=(b=j-d[h])<=(c=d[i]-j)?Math.min(d[i]-1,~~(j+c/2)):Math.max(d[h],~~(j-1-b/2));!o[g];)g++;for(k=p[g];!k&&o[g-1];)k=p[--g];return e[i]=g,f[h]=e[i]+1,[e,f]}}if(d.count()){var f=d.r2-d.r1+1,g=d.g2-d.g1+1,h=d.b2-d.b1+1,i=c.max([f,g,h]);if(1==d.count())return[d.copy()];var j,k,l,m,n=0,o=[],p=[];if(i==f)for(j=d.r1;j<=d.r2;j++){for(m=0,k=d.g1;k<=d.g2;k++)for(l=d.b1;l<=d.b2;l++)m+=b[a(j,k,l)]||0;n+=m,o[j]=n}else if(i==g)for(j=d.g1;j<=d.g2;j++){for(m=0,k=d.r1;k<=d.r2;k++)for(l=d.b1;l<=d.b2;l++)m+=b[a(k,j,l)]||0;n+=m,o[j]=n}else for(j=d.b1;j<=d.b2;j++){for(m=0,k=d.r1;k<=d.r2;k++)for(l=d.g1;l<=d.g2;l++)m+=b[a(k,l,j)]||0;n+=m,o[j]=n}return o.forEach(function(a,b){p[b]=n-a}),e(i==f?"r":i==g?"g":"b")}}var i=5,j=8-i,k=1e3,l=.75;return d.prototype={volume:function(a){var b=this;return b._volume&&!a||(b._volume=(b.r2-b.r1+1)*(b.g2-b.g1+1)*(b.b2-b.b1+1)),b._volume},count:function(b){var c=this,d=c.histo;if(!c._count_set||b){var e,f,g,h=0;for(e=c.r1;e<=c.r2;e++)for(f=c.g1;f<=c.g2;f++)for(g=c.b1;g<=c.b2;g++)h+=d[a(e,f,g)]||0;c._count=h,c._count_set=!0}return c._count},copy:function(){var a=this;return new d(a.r1,a.r2,a.g1,a.g2,a.b1,a.b2,a.histo)},avg:function(b){var c=this,d=c.histo;if(!c._avg||b){var e,f,g,h,j=0,k=1<<8-i,l=0,m=0,n=0;for(f=c.r1;f<=c.r2;f++)for(g=c.g1;g<=c.g2;g++)for(h=c.b1;h<=c.b2;h++)j+=e=d[a(f,g,h)]||0,l+=e*(f+.5)*k,m+=e*(g+.5)*k,n+=e*(h+.5)*k;c._avg=j?[~~(l/j),~~(m/j),~~(n/j)]:[~~(k*(c.r1+c.r2+1)/2),~~(k*(c.g1+c.g2+1)/2),~~(k*(c.b1+c.b2+1)/2)]}return c._avg},contains:function(a){var b=this,c=a[0]>>j;return gval=a[1]>>j,bval=a[2]>>j,c>=b.r1&&c<=b.r2&&gval>=b.g1&&gval<=b.g2&&bval>=b.b1&&bval<=b.b2}},e.prototype={push:function(a){this.vboxes.push({vbox:a,color:a.avg()})},palette:function(){return this.vboxes.map(function(a){return a.color})},size:function(){return this.vboxes.size()},map:function(a){for(var b=this.vboxes,c=0;c<b.size();c++)if(b.peek(c).vbox.contains(a))return b.peek(c).color;return this.nearest(a)},nearest:function(a){for(var b,c,d,e=this.vboxes,f=0;f<e.size();f++)((c=Math.sqrt(Math.pow(a[0]-e.peek(f).color[0],2)+Math.pow(a[1]-e.peek(f).color[1],2)+Math.pow(a[2]-e.peek(f).color[2],2)))<b||void 0===b)&&(b=c,d=e.peek(f).color);return d},forcebw:function(){var a=this.vboxes;a.sort(function(a,b){return c.naturalOrder(c.sum(a.color),c.sum(b.color))});var b=a[0].color;b[0]<5&&b[1]<5&&b[2]<5&&(a[0].color=[0,0,0]);var d=a.length-1,e=a[d].color;e[0]>251&&e[1]>251&&e[2]>251&&(a[d].color=[255,255,255])}},{quantize:function(a,d){function i(a,b){for(var c,d=1,e=0;k>e;)if((c=a.pop()).count()){var f=h(j,c),g=f[0],i=f[1];if(!g)return;if(a.push(g),i&&(a.push(i),d++),d>=b)return;if(e++>k)return}else a.push(c),e++}if(!a.length||2>d||d>256)return!1;var j=f(a),m=0;j.forEach(function(){m++});var n=g(a,j),o=new b(function(a,b){return c.naturalOrder(a.count(),b.count())});o.push(n),i(o,l*d);for(var p=new b(function(a,b){return c.naturalOrder(a.count()*a.volume(),b.count()*b.volume())});o.size();)p.push(o.pop());i(p,d-p.size());for(var q=new e;p.size();)q.push(p.pop());return q}}}();"function"==typeof define&&define.amd?define([],function(){return b}):"object"==typeof exports?module.exports=b:this.ColorThief=b}.call(this),function(){function a(a){var b=a.naturalWidth;if(b*a.naturalHeight>1048576){var c=document.createElement("canvas");c.width=c.height=1;var d=c.getContext("2d");return d.drawImage(a,1-b,0),0===d.getImageData(0,0,1,1).data[3]}return!1}function b(a,b,c){var d=document.createElement("canvas");d.width=1,d.height=c;var e=d.getContext("2d");e.drawImage(a,0,0);for(var f=e.getImageData(0,0,1,c).data,g=0,h=c,i=c;i>g;)0===f[4*(i-1)+3]?h=i:g=i,i=h+g>>1;var j=i/c;return 0===j?1:j}function c(a,b,c){var e=document.createElement("canvas");return d(a,e,b,c),e.toDataURL("image/jpeg",b.quality||.8)}function d(c,d,f,g){var h=c.naturalWidth,i=c.naturalHeight;if(h+i!==!1){var j=f.width,k=f.height,l=d.getContext("2d");l.save(),e(d,l,j,k,f.orientation),a(c)&&(h/=2,i/=2);var m=1024,n=document.createElement("canvas");n.width=n.height=m;for(var o=n.getContext("2d"),p=g?b(c,h,i):1,q=Math.ceil(m*j/h),r=Math.ceil(m*k/i/p),s=0,t=0;i>s;){for(var u=0,v=0;h>u;)o.clearRect(0,0,m,m),o.drawImage(c,-u,-s),l.drawImage(n,0,0,m,m,v,t,q,r),u+=m,v+=q;s+=m,t+=r}l.restore(),n=o=null}}function e(a,b,c,d,e){switch(e){case 5:case 6:case 7:case 8:a.width=d,a.height=c;break;default:a.width=c,a.height=d}switch(e){case 2:b.translate(c,0),b.scale(-1,1);break;case 3:b.translate(c,d),b.rotate(Math.PI);break;case 4:b.translate(0,d),b.scale(1,-1);break;case 5:b.rotate(.5*Math.PI),b.scale(1,-1);break;case 6:b.rotate(.5*Math.PI),b.translate(0,-d);break;case 7:b.rotate(.5*Math.PI),b.translate(c,-d),b.scale(-1,1);break;case 8:b.rotate(-.5*Math.PI),b.translate(-c,0)}}function f(a){if(window.Blob&&a instanceof Blob){if(!g)throw Error("No createObjectURL function found to create blob url");var b=new Image;b.src=g.createObjectURL(a),this.blob=a,a=b}if(!a.naturalWidth&&!a.naturalHeight){var c=this;a.onload=a.onerror=function(){var a=c.imageLoadListeners;if(a){c.imageLoadListeners=null;for(var b=0,d=a.length;d>b;b++)a[b]()}},this.imageLoadListeners=[]}this.srcImage=a}var g=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;f.prototype.render=function(a,b,e){if(this.imageLoadListeners){var f=this;this.imageLoadListeners.push(function(){f.render(a,b,e)})}else{b=b||{};var h=this.srcImage.naturalWidth,i=this.srcImage.naturalHeight,j=b.width,k=b.height,l=b.maxWidth,m=b.maxHeight,n=!this.blob||"image/jpeg"===this.blob.type;j&&!k?k=i*j/h<<0:k&&!j?j=h*k/i<<0:(j=h,k=i),l&&j>l&&(k=i*(j=l)/h<<0),m&&k>m&&(j=h*(k=m)/i<<0);var o={width:j,height:k};for(var p in b)o[p]=b[p];var q=a.tagName.toLowerCase();"img"===q?a.src=c(this.srcImage,o,n):"canvas"===q&&d(this.srcImage,a,o,n),"function"==typeof this.onrender&&this.onrender(a),e&&e(),this.blob&&(this.blob=null,g.revokeObjectURL(this.srcImage.src))}},"function"==typeof define&&define.amd?define([],function(){return f}):"object"==typeof exports?module.exports=f:this.MegaPixImage=f}.call(this),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],b):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=b():a["pdfjs-dist/build/pdf"]=a.pdfjsDistBuildPdf=b()}("undefined"!=typeof self?self:this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=75)}([function(a,b,c){"use strict";function d(a){ga=a}function e(){return ga}function f(a){ga>=da.infos&&console.log("Info: "+a)}function g(a){ga>=da.warnings&&console.log("Warning: "+a)}function h(a){console.log("Deprecated API usage: "+a)}function i(a){throw new Error(a)}function j(a,b){a||i(b)}function k(a,b){try{var c=new URL(a);if(!c.origin||"null"===c.origin)return!1}catch(d){return!1}var e=new URL(b,c);return c.origin===e.origin}function l(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function m(a,b){if(!a)return null;try{var c=b?new URL(a,b):new URL(a);if(l(c))return c}catch(d){}return null}function n(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}function o(a){var b;return function(){return a&&(b=Object.create(null),a(b),a=null),b}}function p(a){return"string"!=typeof a?(g("The argument for removeNullCharacters must be a string."),a):a.replace(ta,"")}function q(a){j(null!==a&&"object"===("undefined"==typeof a?"undefined":T(a))&&void 0!==a.length,"Invalid argument for bytesToString");var b=a.length,c=8192;if(c>b)return String.fromCharCode.apply(null,a);for(var d=[],e=0;b>e;e+=c){var f=Math.min(e+c,b),g=a.subarray(e,f);d.push(String.fromCharCode.apply(null,g))}return d.join("")}function r(a){j("string"==typeof a,"Invalid argument for stringToBytes");for(var b=a.length,c=new Uint8Array(b),d=0;b>d;++d)c[d]=255&a.charCodeAt(d);return c}function s(a){return void 0!==a.length?a.length:(j(void 0!==a.byteLength),a.byteLength)}function t(a){if(1===a.length&&a[0]instanceof Uint8Array)return a[0];var b,c,d,e=0,f=a.length;for(b=0;f>b;b++)c=a[b],d=s(c),e+=d;var g=0,h=new Uint8Array(e);for(b=0;f>b;b++)c=a[b],c instanceof Uint8Array||(c="string"==typeof c?r(c):new Uint8Array(c)),d=c.byteLength,h.set(c,g),g+=d;return h}function u(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)}function v(a){for(var b=1,c=0;a>b;)b<<=1,c++;return c}function w(a,b){return a[b]<<24>>24}function x(a,b){return a[b]<<8|a[b+1]}function y(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}function z(){var a=new Uint8Array(4);a[0]=1;var b=new Uint32Array(a.buffer,0,1);return 1===b[0]}function A(){try{return new Function(""),!0}catch(a){return!1}}function B(a){var b,c=a.length,d=[];if("þ"===a[0]&&"ÿ"===a[1])for(b=2;c>b;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;c>b;++b){var e=xa[a.charCodeAt(b)];d.push(e?String.fromCharCode(e):a.charAt(b))}return d.join("")}function C(a){return decodeURIComponent(escape(a))}function D(a){return unescape(encodeURIComponent(a))}function E(a){for(var b in a)return!1;return!0}function F(a){return"boolean"==typeof a}function G(a){return"number"==typeof a}function H(a){return"string"==typeof a}function I(a){return"object"===("undefined"==typeof a?"undefined":T(a))&&null!==a&&void 0!==a.byteLength}function J(a){return 32===a||9===a||13===a||10===a}function K(){return"object"===("undefined"==typeof process?"undefined":T(process))&&process+""=="[object process]"}function L(){var a={};return a.promise=new Promise(function(b,c){a.resolve=b,a.reject=c}),a}function M(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a?new Promise(function(d,e){d(a.apply(c,b))}):Promise.resolve(void 0)}function N(a){if("object"!==("undefined"==typeof a?"undefined":T(a)))return a;switch(a.name){case"AbortException":return new sa(a.message);case"MissingPDFException":return new ma(a.message);case"UnexpectedResponseException":return new na(a.message,a.status);default:return new ka(a.message,a.details)}}function O(a){return!(a instanceof Error)||a instanceof sa||a instanceof ma||a instanceof na||a instanceof ka?a:new ka(a.message,a.toString())}function P(a,b,c){b?a.resolve():a.reject(c)}function Q(a){return Promise.resolve(a)["catch"](function(){})}function R(a,b,c){var d=this;this.sourceName=a,this.targetName=b,this.comObj=c,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var e=this.callbacksCapabilities=Object.create(null),f=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===d.sourceName)if(b.stream)d._processStreamMessage(b);else if(b.isReply){var g=b.callbackId;if(!(b.callbackId in e))throw new Error("Cannot resolve callback "+g);var h=e[g];delete e[g],"error"in b?h.reject(N(b.error)):h.resolve(b.data)}else{if(!(b.action in f))throw new Error("Unknown action from worker: "+b.action);var i=f[b.action];if(b.callbackId){var j=d.sourceName,k=b.sourceName;Promise.resolve().then(function(){return i[0].call(i[1],b.data)}).then(function(a){c.postMessage({sourceName:j,targetName:k,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:j,targetName:k,isReply:!0,callbackId:b.callbackId,error:O(a)})})}else b.streamId?d._createStreamSink(b):i[0].call(i[1],b.data)}},c.addEventListener("message",this._onComObjOnMessage)}function S(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)},d.onerror=function(){c.resolve(a,null),g("Error during JPEG image loading")},d.src=b}Object.defineProperty(b,"__esModule",{value:!0}),b.unreachable=b.warn=b.utf8StringToString=b.stringToUTF8String=b.stringToPDFString=b.stringToBytes=b.string32=b.shadow=b.setVerbosityLevel=b.ReadableStream=b.removeNullCharacters=b.readUint32=b.readUint16=b.readInt8=b.log2=b.loadJpegStream=b.isEvalSupported=b.isLittleEndian=b.createValidAbsoluteUrl=b.isSameOrigin=b.isNodeJS=b.isSpace=b.isString=b.isNum=b.isEmptyObj=b.isBool=b.isArrayBuffer=b.info=b.getVerbosityLevel=b.getLookupTableFactory=b.deprecated=b.createObjectURL=b.createPromiseCapability=b.createBlob=b.bytesToString=b.assert=b.arraysToBytes=b.arrayByteLength=b.FormatError=b.XRefParseException=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.StatTimer=b.PasswordResponses=b.PasswordException=b.PageViewport=b.NotImplementedException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=b.MessageHandler=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VERBOSITY_LEVELS=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(76);var U=c(116),V=[.001,0,0,.001,0,0],W={NONE:"none",DECODE:"decode",DISPLAY:"display"},X={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Z={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},$={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},_={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},aa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ba={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},ca={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},da={errors:0,warnings:1,infos:5},ea={NONE:0,BINARY:1,STREAM:2},fa={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ga=da.warnings,ha={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},ia={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ja=function(){function a(a,b){this.name="PasswordException",this.message=a,this.code=b}return a.prototype=new Error,a.constructor=a,a}(),ka=function(){function a(a,b){this.name="UnknownErrorException",this.message=a,this.details=b}return a.prototype=new Error,a.constructor=a,a}(),la=function(){function a(a){this.name="InvalidPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),ma=function(){function a(a){this.name="MissingPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),na=function(){function a(a,b){this.name="UnexpectedResponseException",this.message=a,this.status=b}return a.prototype=new Error,a.constructor=a,a}(),oa=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="NotImplementedException",a.constructor=a,a}(),pa=function(){function a(a,b){this.begin=a,this.end=b,this.message="Missing data ["+a+", "+b+")"}return a.prototype=new Error,a.prototype.name="MissingDataException",a.constructor=a,a}(),qa=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="XRefParseException",a.constructor=a,a}(),ra=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="FormatError",a.constructor=a,a}(),sa=function(){function a(a){this.name="AbortException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),ta=/\x00/g,ua=[1,0,0,1,0,0],va=function(){function a(){}var b=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(a,c,d){return b[1]=a,b[3]=c,b[5]=d,b.join("")},a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]},a.applyTransform=function(a,b){var c=a[0]*b[0]+a[1]*b[2]+b[4],d=a[0]*b[1]+a[1]*b[3]+b[5];return[c,d]},a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2],d=(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,e=(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c;return[d,e]},a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]},a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]},a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]},a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt((c+f)*(c+f)-4*(c*f-e*d))/2,i=g+h||1,j=g-h||1;return[Math.sqrt(i),Math.sqrt(j)]},a.normalizeRect=function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b},a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];return b=a.normalizeRect(b),c=a.normalizeRect(c),e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0]?(g[0]=e[1],g[2]=e[2],f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1]?(g[1]=f[1],g[3]=f[2],g):!1):!1};var c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return a.toRoman=function(a,b){j(Number.isInteger(a)&&a>0,"The number should be a positive integer.");for(var d,e=[];a>=1e3;)a-=1e3,e.push("M");d=a/100|0,a%=100,e.push(c[d]),d=a/10|0,a%=10,e.push(c[10+d]),e.push(c[20+a]);var f=e.join("");return b?f.toLowerCase():f},a.appendToArray=function(a,b){Array.prototype.push.apply(a,b)},a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)},a.extendObj=function(a,b){for(var c in b)a[c]=b[c]},a.getInheritableProperty=function(a,b,c){for(;a&&!a.has(b);)a=a.get("Parent");return a?c?a.getArray(b):a.get(b):null},a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype),a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]},a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a),b&&(c.onload=function(){d||b(),d=!0}),document.getElementsByTagName("head")[0].appendChild(c)},a}(),wa=function(){function a(a,b,c,d,e,f){this.viewBox=a,this.scale=b,this.rotation=c,this.offsetX=d,this.offsetY=e;var g,h,i,j,k=(a[2]+a[0])/2,l=(a[3]+a[1])/2;switch(c%=360,c=0>c?c+360:c){case 180:g=-1,h=0,i=0,j=1;break;case 90:g=0,h=1,i=1,j=0;break;case 270:g=0,h=-1,i=-1,j=0;break;default:g=1,h=0,i=0,j=-1}f&&(i=-i,j=-j);var m,n,o,p;0===g?(m=Math.abs(l-a[1])*b+d,n=Math.abs(k-a[0])*b+e,o=Math.abs(a[3]-a[1])*b,p=Math.abs(a[2]-a[0])*b):(m=Math.abs(k-a[0])*b+d,n=Math.abs(l-a[1])*b+e,o=Math.abs(a[2]-a[0])*b,p=Math.abs(a[3]-a[1])*b),this.transform=[g*b,h*b,i*b,j*b,m-g*b*k-i*b*l,n-h*b*k-j*b*l],this.width=o,this.height=p,this.fontScale=b}return a.prototype={clone:function(b){b=b||{};var c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return va.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=va.applyTransform([a[0],a[1]],this.transform),c=va.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]},convertToPdfPoint:function(a,b){return va.applyInverseTransform([a,b],this.transform)}},a}(),xa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],ya=function(){function a(a,b,c){for(;a.length<c;)a+=b;return a}function b(){this.started=Object.create(null),this.times=[],this.enabled=!0}return b.prototype={time:function(a){this.enabled&&(a in this.started&&g("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||g("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])},toString:function(){var b,c,d=this.times,e="",f=0;for(b=0,c=d.length;c>b;++b){var g=d[b].name;g.length>f&&(f=g.length)}for(b=0,c=d.length;c>b;++b){var h=d[b],i=h.end-h.start;e+=a(h.name," ",f)+" "+i+"ms\n"}return e}},b}(),za=function(a,b){if("undefined"!=typeof Blob)return new Blob([a],{type:b});throw new Error('The "Blob" constructor is not supported.')},Aa=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(!d&&URL.createObjectURL){var e=za(b,c);return URL.createObjectURL(e)}for(var f="data:"+c+";base64,",g=0,h=b.length;h>g;g+=3){var i=255&b[g],j=255&b[g+1],k=255&b[g+2],l=i>>2,m=(3&i)<<4|j>>4,n=h>g+1?(15&j)<<2|k>>6:64,o=h>g+2?63&k:64;f+=a[l]+a[m]+a[n]+a[o]}return f}}();R.prototype={on:function(a,b,c){var d=this.actionHandler;if(d[a])throw new Error('There is already an actionName called "'+a+'"');d[a]=[b,c]},send:function(a,b,c){var d={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b};this.postMessage(d,c)},sendWithPromise:function(a,b,c){var d=this.callbackId++,e={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d},f=L();this.callbacksCapabilities[d]=f;try{this.postMessage(e,c)}catch(g){f.reject(g)}return f.promise},sendWithStream:function(a,b,c,d){var e=this,f=this.streamId++,g=this.sourceName,h=this.targetName;return new U.ReadableStream({start:function(c){var d=L();return e.streamControllers[f]={controller:c,startCall:d,isClosed:!1},e.postMessage({sourceName:g,targetName:h,action:a,streamId:f,data:b,desiredSize:c.desiredSize}),d.promise},pull:function(a){var b=L();return e.streamControllers[f].pullCall=b,e.postMessage({sourceName:g,targetName:h,stream:"pull",streamId:f,desiredSize:a.desiredSize}),b.promise},cancel:function(a){var b=L();return e.streamControllers[f].cancelCall=b,e.streamControllers[f].isClosed=!0,e.postMessage({sourceName:g,targetName:h,stream:"cancel",reason:a,streamId:f}),b.promise}},c)},_createStreamSink:function(a){var b=this,c=this,d=this.actionHandler[a.action],e=a.streamId,f=a.desiredSize,g=this.sourceName,h=a.sourceName,i=L(),j=function(a){
var c=a.stream,d=a.chunk,f=a.transfers,i=a.success,j=a.reason;b.postMessage({sourceName:g,targetName:h,stream:c,streamId:e,chunk:d,success:i,reason:j},f)},k={enqueue:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments[2];if(!this.isCancelled){var d=this.desiredSize;this.desiredSize-=b,d>0&&this.desiredSize<=0&&(this.sinkCapability=L(),this.ready=this.sinkCapability.promise),j({stream:"enqueue",chunk:a,transfers:c})}},close:function(){this.isCancelled||(this.isCancelled=!0,j({stream:"close"}),delete c.streamSinks[e])},error:function(a){this.isCancelled||(this.isCancelled=!0,j({stream:"error",reason:a}))},sinkCapability:i,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[e]=k,M(d[0],[a.data,k],d[1]).then(function(){j({stream:"start_complete",success:!0})},function(a){j({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,d=a.sourceName,e=a.streamId,f=function(a){var f=a.stream,g=a.success,h=a.reason;b.comObj.postMessage({sourceName:c,targetName:d,stream:f,success:g,streamId:e,reason:h})},g=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&Q(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case"start_complete":P(this.streamControllers[a.streamId].startCall,a.success,N(a.reason));break;case"pull_complete":P(this.streamControllers[a.streamId].pullCall,a.success,N(a.reason));break;case"pull":if(!this.streamSinks[a.streamId]){f({stream:"pull_complete",success:!0});break}this.streamSinks[a.streamId].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[a.streamId].sinkCapability.resolve(),this.streamSinks[a.streamId].desiredSize=a.desiredSize,M(this.streamSinks[a.streamId].onPull).then(function(){f({stream:"pull_complete",success:!0})},function(a){f({stream:"pull_complete",success:!1,reason:a})});break;case"enqueue":j(this.streamControllers[a.streamId],"enqueue should have stream controller"),this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case"close":if(j(this.streamControllers[a.streamId],"close should have stream controller"),this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0,this.streamControllers[a.streamId].controller.close(),g();break;case"error":j(this.streamControllers[a.streamId],"error should have stream controller"),this.streamControllers[a.streamId].controller.error(N(a.reason)),g();break;case"cancel_complete":P(this.streamControllers[a.streamId].cancelCall,a.success,N(a.reason)),g();break;case"cancel":if(!this.streamSinks[a.streamId])break;M(this.streamSinks[a.streamId].onCancel,[N(a.reason)]).then(function(){f({stream:"cancel_complete",success:!0})},function(a){f({stream:"cancel_complete",success:!1,reason:a})}),this.streamSinks[a.streamId].sinkCapability.reject(N(a.reason)),this.streamSinks[a.streamId].isCancelled=!0,delete this.streamSinks[a.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},b.FONT_IDENTITY_MATRIX=V,b.IDENTITY_MATRIX=ua,b.OPS=fa,b.VERBOSITY_LEVELS=da,b.UNSUPPORTED_FEATURES=ha,b.AnnotationBorderStyleType=aa,b.AnnotationFieldFlag=_,b.AnnotationFlag=$,b.AnnotationType=Z,b.FontType=ca,b.ImageKind=Y,b.CMapCompressionType=ea,b.AbortException=sa,b.InvalidPDFException=la,b.MessageHandler=R,b.MissingDataException=pa,b.MissingPDFException=ma,b.NativeImageDecoding=W,b.NotImplementedException=oa,b.PageViewport=wa,b.PasswordException=ja,b.PasswordResponses=ia,b.StatTimer=ya,b.StreamType=ba,b.TextRenderingMode=X,b.UnexpectedResponseException=na,b.UnknownErrorException=ka,b.Util=va,b.XRefParseException=qa,b.FormatError=ra,b.arrayByteLength=s,b.arraysToBytes=t,b.assert=j,b.bytesToString=q,b.createBlob=za,b.createPromiseCapability=L,b.createObjectURL=Aa,b.deprecated=h,b.getLookupTableFactory=o,b.getVerbosityLevel=e,b.info=f,b.isArrayBuffer=I,b.isBool=F,b.isEmptyObj=E,b.isNum=G,b.isString=H,b.isSpace=J,b.isNodeJS=K,b.isSameOrigin=k,b.createValidAbsoluteUrl=m,b.isLittleEndian=z,b.isEvalSupported=A,b.loadJpegStream=S,b.log2=v,b.readInt8=w,b.readUint16=x,b.readUint32=y,b.removeNullCharacters=p,b.ReadableStream=U.ReadableStream,b.setVerbosityLevel=d,b.shadow=n,b.string32=u,b.stringToBytes=r,b.stringToPDFString=B,b.stringToUTF8String=C,b.utf8StringToString=D,b.warn=g,b.unreachable=i},function(a,b,c){"use strict";var d=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(a){return"object"===("undefined"==typeof a?"undefined":d(a))?null!==a:"function"==typeof a}},function(a,b,c){"use strict";var d=c(51)("wks"),e=c(16),f=c(1).Symbol,g="function"==typeof f,h=a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},function(a,b,c){"use strict";var d=a.exports={version:"2.5.7"};"number"==typeof __e&&(__e=d)},function(a,b,c){"use strict";var d=c(1),e=c(4),f=c(6),g=c(14),h=c(11),i="prototype",j=function k(a,b,c){var j,l,m,n,o=a&k.F,p=a&k.G,q=a&k.S,r=a&k.P,s=a&k.B,t=p?d:q?d[b]||(d[b]={}):(d[b]||{})[i],u=p?e:e[b]||(e[b]={}),v=u[i]||(u[i]={});p&&(c=b);for(j in c)l=!o&&t&&void 0!==t[j],m=(l?t:c)[j],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,j,m,a&k.U),u[j]!=m&&f(u,j,n),r&&v[j]!=m&&(v[j]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b,c){"use strict";var d=c(13),e=c(27);a.exports=c(8)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b,c){"use strict";var d=c(2);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b,c){"use strict";a.exports=!c(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b,c){"use strict";var d={}.hasOwnProperty;a.exports=function(a,b){return d.call(a,b)}},function(a,b,c){"use strict";var d=c(22);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b,c){"use strict";var d=c(17),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){"use strict";var d=c(7),e=c(45),f=c(33),g=Object.defineProperty;b.f=c(8)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(h){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b,c){"use strict";var d=c(1),e=c(6),f=c(10),g=c(16)("src"),h="toString",i=Function[h],j=(""+i).split(h);c(4).inspectSource=function(a){return i.call(a)},(a.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){var c=b&&b.url;if(a.href=a.title=c?l.removeNullCharacters(c):"",c){var d=b.target;"undefined"==typeof d&&(d=h("externalLinkTarget")),a.target=w[d];var e=b.rel;"undefined"==typeof e&&(e=h("externalLinkRel")),a.rel=e}}function g(a){var b=a.indexOf("#"),c=a.indexOf("?"),d=Math.min(b>0?b:a.length,c>0?c:a.length);return a.substring(a.lastIndexOf("/",d)+1,d)}function h(a){var b=n["default"].PDFJS;switch(a){case"pdfBug":return b?b.pdfBug:!1;case"disableAutoFetch":return b?b.disableAutoFetch:!1;case"disableStream":return b?b.disableStream:!1;case"disableRange":return b?b.disableRange:!1;case"disableFontFace":return b?b.disableFontFace:!1;case"disableCreateObjectURL":return b?b.disableCreateObjectURL:!1;case"disableWebGL":return b?b.disableWebGL:!0;case"cMapUrl":return b?b.cMapUrl:null;case"cMapPacked":return b?b.cMapPacked:!1;case"postMessageTransfers":return b?b.postMessageTransfers:!0;case"workerPort":return b?b.workerPort:null;case"workerSrc":return b?b.workerSrc:null;case"disableWorker":return b?b.disableWorker:!1;case"maxImageSize":return b?b.maxImageSize:-1;case"imageResourcesPath":return b?b.imageResourcesPath:"";case"isEvalSupported":return b?b.isEvalSupported:!0;case"externalLinkTarget":if(!b)return v.NONE;switch(b.externalLinkTarget){case v.NONE:case v.SELF:case v.BLANK:case v.PARENT:case v.TOP:return b.externalLinkTarget}return l.warn("PDFJS.externalLinkTarget is invalid: "+b.externalLinkTarget),b.externalLinkTarget=v.NONE,v.NONE;case"externalLinkRel":return b?b.externalLinkRel:o;case"enableStats":return!(!b||!b.enableStats);case"pdfjsNext":return!(!b||!b.pdfjsNext);default:throw new Error("Unknown default setting: "+a)}}function i(){var a=h("externalLinkTarget");switch(a){case v.NONE:return!1;case v.SELF:case v.BLANK:case v.PARENT:case v.TOP:return!0}}function j(a,b){l.deprecated("isValidUrl(), please use createValidAbsoluteUrl() instead.");var c=b?"http://example.com":null;return null!==l.createValidAbsoluteUrl(a,c)}Object.defineProperty(b,"__esModule",{value:!0}),b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.getDefaultSetting=b.LinkTarget=b.getFilenameFromUrl=b.isValidUrl=b.isExternalLinkTargetSet=b.addLinkAttributes=b.RenderingCancelledException=b.CustomStyle=void 0;var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=c(0),m=c(20),n=d(m),o="noopener noreferrer nofollow",p="http://www.w3.org/2000/svg",q=function(){function a(){e(this,a)}return k(a,[{key:"create",value:function(a,b){if(0>=a||0>=b)throw new Error("invalid canvas size");var c=document.createElement("canvas"),d=c.getContext("2d");return c.width=a,c.height=b,{canvas:c,context:d}}},{key:"reset",value:function(a,b,c){if(!a.canvas)throw new Error("canvas is not specified");if(0>=b||0>=c)throw new Error("invalid canvas size");a.canvas.width=b,a.canvas.height=c}},{key:"destroy",value:function(a){if(!a.canvas)throw new Error("canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}}]),a}(),r=function(){function a(b){var c=b.baseUrl,d=void 0===c?null:c,f=b.isCompressed,g=void 0===f?!1:f;e(this,a),this.baseUrl=d,this.isCompressed=g}return k(a,[{key:"fetch",value:function(a){var b=this,c=a.name;return this.baseUrl?c?new Promise(function(a,d){var e=b.baseUrl+c+(b.isCompressed?".bcmap":""),f=new XMLHttpRequest;f.open("GET",e,!0),b.isCompressed&&(f.responseType="arraybuffer"),f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(200===f.status||0===f.status){var c=void 0;if(b.isCompressed&&f.response?c=new Uint8Array(f.response):!b.isCompressed&&f.responseText&&(c=l.stringToBytes(f.responseText)),c)return void a({cMapData:c,compressionType:b.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE})}d(new Error("Unable to load "+(b.isCompressed?"binary ":"")+"CMap at: "+e))}},f.send(null)}):Promise.reject(new Error("CMap name must be specified.")):Promise.reject(new Error('CMap baseUrl must be specified, see "PDFJS.cMapUrl" (and also "PDFJS.cMapPacked").'))}}]),a}(),s=function(){function a(){e(this,a)}return k(a,[{key:"create",value:function(a,b){l.assert(a>0&&b>0,"Invalid SVG dimensions");var c=document.createElementNS(p,"svg:svg");return c.setAttribute("version","1.1"),c.setAttribute("width",a+"px"),c.setAttribute("height",b+"px"),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox","0 0 "+a+" "+b),c}},{key:"createElement",value:function(a){return l.assert("string"==typeof a,"Invalid SVG element type"),document.createElementNS(p,a)}}]),a}(),t=function(){function a(){}var b=["ms","Moz","Webkit","O"],c=Object.create(null);return a.getProp=function(a,d){if(1===arguments.length&&"string"==typeof c[a])return c[a];d=d||document.documentElement;var e,f,g=d.style;if("string"==typeof g[a])return c[a]=a;f=a.charAt(0).toUpperCase()+a.slice(1);for(var h=0,i=b.length;i>h;h++)if(e=b[h]+f,"string"==typeof g[e])return c[a]=e;return c[a]="undefined"},a.setProp=function(a,b,c){var d=this.getProp(a);"undefined"!==d&&(b.style[d]=c)},a}(),u=function x(){function x(a,b){this.message=a,this.type=b}return x.prototype=new Error,x.prototype.name="RenderingCancelledException",x.constructor=x,x}(),v={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},w=["","_self","_blank","_parent","_top"];b.CustomStyle=t,b.RenderingCancelledException=u,b.addLinkAttributes=f,b.isExternalLinkTargetSet=i,b.isValidUrl=j,b.getFilenameFromUrl=g,b.LinkTarget=v,b.getDefaultSetting=h,b.DEFAULT_LINK_REL=o,b.DOMCanvasFactory=q,b.DOMCMapReaderFactory=r,b.DOMSVGFactory=s},function(a,b,c){"use strict";var d=0,e=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},function(a,b,c){"use strict";var d=Math.ceil,e=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},function(a,b,c){"use strict";var d=c(35);a.exports=function(a){return Object(d(a))}},function(a,b,c){"use strict";a.exports={}},function(a,b,c){"use strict";a.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(a,b,c){"use strict";a.exports=!1},function(a,b,c){"use strict";a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){"use strict";var d=c(14);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},function(a,b,c){"use strict";a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){"use strict";var d={}.toString;a.exports=function(a){return d.call(a).slice(8,-1)}},function(a,b,c){"use strict";var d=c(13).f,e=c(10),f=c(3)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){"use strict";a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){"use strict";var d=c(34),e=c(35);a.exports=function(a){return d(e(a))}},function(a,b,c){"use strict";var d=c(17),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),0>a?e(a+b,0):f(a,b)}},function(a,b,c){"use strict";var d=c(25),e=c(3)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(c){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){"use strict";var d=c(11),e=c(98),f=c(53),g=c(7),h=c(12),i=c(57),j={},k={},l=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),q===j||q===k)return q};l.BREAK=j,l.RETURN=k},function(a,b,c){"use strict";var d=c(2),e=c(1).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){"use strict";var d=c(2);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){"use strict";var d=c(25);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b,c){"use strict";a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){"use strict";var d=c(51)("keys"),e=c(16);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b,c){"use strict";a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){"use strict";var d=c(49),e=c(37);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(11),e=c(34),f=c(18),g=c(12),h=c(82);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},function(a,b,c){"use strict";var d=c(7),e=c(22),f=c(3)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},function(a,b,c){"use strict";var d=c(3)("iterator"),e=!1;try{var f=[7][d]();f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(g){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(h){}return c}},function(a,b,c){"use strict";function d(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=e(b),this.reject=e(c)}var e=c(22);a.exports.f=function(a){return new d(a)}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(16)("meta"),f=c(2),g=c(10),h=c(13).f,i=0,j=Object.isExtensible||function(){return!0},k=!c(9)(function(){return j(Object.preventExtensions({}))}),l=function(a){h(a,e,{value:{i:"O"+ ++i,w:{}}})},m=function(a,b){if(!f(a))return"symbol"==("undefined"==typeof a?"undefined":d(a))?a:("string"==typeof a?"S":"P")+a;if(!g(a,e)){if(!j(a))return"F";if(!b)return"E";l(a)}return a[e].i},n=function(a,b){if(!g(a,e)){if(!j(a))return!0;if(!b)return!1;l(a)}return a[e].w},o=function(a){return k&&p.NEED&&j(a)&&!g(a,e)&&l(a),a},p=a.exports={KEY:e,NEED:!1,fastKey:m,getWeak:n,onFreeze:o}},function(a,b,c){"use strict";function d(a){var b=a.getResponseHeader,c=a.isHttp,d=a.rangeChunkSize,e=a.disableRange;g.assert(d>0);var f={allowRangeRequests:!1,suggestedLength:void 0};if(e||!c)return f;if("bytes"!==b("Accept-Ranges"))return f;var h=b("Content-Encoding")||"identity";if("identity"!==h)return f;var i=parseInt(b("Content-Length"),10);return Number.isInteger(i)?(f.suggestedLength=i,2*d>=i?f:(f.allowRangeRequests=!0,f)):f}function e(a,b){return 404===a||0===a&&/^file:/.test(b)?new g.MissingPDFException('Missing PDF "'+b+'".'):new g.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)}function f(a){return 200===a||206===a}Object.defineProperty(b,"__esModule",{value:!0}),b.validateResponseStatus=b.validateRangeRequestCapabilities=b.createResponseStatusError=void 0;var g=c(0);b.createResponseStatusError=e,b.validateRangeRequestCapabilities=d,b.validateResponseStatus=f},function(a,b,c){"use strict";a.exports=!c(8)&&!c(9)(function(){return 7!=Object.defineProperty(c(32)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";for(var d,e=c(1),f=c(6),g=c(16),h=g("typed_array"),i=g("view"),j=!(!e.ArrayBuffer||!e.DataView),k=j,l=0,m=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");m>l;)(d=e[n[l++]])?(f(d.prototype,h,!0),f(d.prototype,i,!0)):k=!1;a.exports={ABV:j,CONSTR:k,TYPED:h,VIEW:i}},function(a,b,c){"use strict";var d=c(17),e=c(12);a.exports=function(a){if(void 0===a)return 0;var b=d(a),c=e(b);if(b!==c)throw RangeError("Wrong length!");return c}},function(a,b,c){"use strict";var d=c(49),e=c(37).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(10),e=c(28),f=c(50)(!1),g=c(36)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){"use strict";var d=c(28),e=c(12),f=c(29);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b,c){"use strict";var d=c(4),e=c(1),f="__core-js_shared__",g=e[f]||(e[f]={});(a.exports=function(a,b){return g[a]||(g[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:c(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(a,b,c){"use strict";var d=c(18),e=c(29),f=c(12);a.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;return b}},function(a,b,c){"use strict";var d=c(19),e=c(3)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){"use strict";var d=c(7),e=c(81),f=c(37),g=c(36)("IE_PROTO"),h=function(){},i="prototype",j=function(){var a,b=c(32)("iframe"),d=f.length,e="<",g=">";for(b.style.display="none",c(55).appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(e+"script"+g+"document.F=Object"+e+"/script"+g),a.close(),j=a.F;d--;)delete j[i][f[d]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){"use strict";var d=c(1).document;a.exports=d&&d.documentElement},function(a,b,c){"use strict";var d=c(10),e=c(18),f=c(36)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){"use strict";var d=c(30),e=c(3)("iterator"),f=c(19);a.exports=c(4).getIteratorMethod=function(a){return void 0!=a?a[e]||a["@@iterator"]||f[d(a)]:void 0}},function(a,b,c){"use strict";var d=c(85),e=c(86),f=c(19),g=c(28);a.exports=c(59)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){"use strict";var d=c(21),e=c(5),f=c(14),g=c(6),h=c(19),i=c(87),j=c(26),k=c(56),l=c(3)("iterator"),m=!([].keys&&"next"in[].keys()),n="@@iterator",o="keys",p="values",q=function(){return this};a.exports=function(a,b,c,r,s,t,u){i(c,b,r);var v,w,x,y=function(a){if(!m&&a in C)return C[a];switch(a){case o:return function(){return new c(this,a)};case p:return function(){return new c(this,a)}}return function(){return new c(this,a)}},z=b+" Iterator",A=s==p,B=!1,C=a.prototype,D=C[l]||C[n]||s&&C[s],E=D||y(s),F=s?A?y("entries"):E:void 0,G="Array"==b?C.entries||D:D;if(G&&(x=k(G.call(new a)),x!==Object.prototype&&x.next&&(j(x,z,!0),d||"function"==typeof x[l]||g(x,l,q))),A&&D&&D.name!==p&&(B=!0,E=function(){return D.call(this)}),d&&!u||!m&&!B&&C[l]||g(C,l,E),h[b]=E,h[z]=q,s)if(v={values:A?E:y(p),keys:t?E:y(o),entries:F},u)for(w in v)w in C||f(C,w,v[w]);else e(e.P+e.F*(m||B),b,v);return v}},function(a,b,c){"use strict";var d=c(1),e=c(13),f=c(8),g=c(3)("species");a.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},function(a,b,c){"use strict";var d=c(62),e=c(27),f=c(28),g=c(33),h=c(10),i=c(45),j=Object.getOwnPropertyDescriptor;b.f=c(8)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(c){}return h(a,b)?e(!d.f.call(a,b),a[b]):void 0}},function(a,b,c){"use strict";b.f={}.propertyIsEnumerable},function(a,b,c){"use strict";var d=c(30),e={};e[c(3)("toStringTag")]="z",e+""!="[object z]"&&c(14)(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},function(a,b,c){"use strict";for(var d=c(58),e=c(38),f=c(14),g=c(1),h=c(6),i=c(19),j=c(3),k=j("iterator"),l=j("toStringTag"),m=i.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},o=e(n),p=0;p<o.length;p++){var q,r=o[p],s=n[r],t=g[r],u=t&&t.prototype;if(u&&(u[k]||h(u,k,m),u[l]||h(u,l,r),i[r]=m,s))for(q in d)u[q]||f(u,q,d[q],!0)}},function(a,b,c){"use strict";var d,e,f,g=c(11),h=c(99),i=c(55),j=c(32),k=c(1),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s="onreadystatechange",t=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},u=function(a){t.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==c(25)(l)?d=function(a){l.nextTick(g(t,a,1))}:p&&p.now?d=function(a){p.now(g(t,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=u,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",u,!1)):d=s in j("script")?function(a){i.appendChild(j("script"))[s]=function(){i.removeChild(this),t.call(a)}}:function(a){setTimeout(g(t,a,1),0)}),a.exports={set:m,clear:n}},function(a,b,c){"use strict";a.exports=function(a){try{return{e:!1,v:a()}}catch(b){return{e:!0,v:b}}}},function(a,b,c){"use strict";var d=c(7),e=c(2),f=c(42);a.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a),g=c.resolve;return g(b),c.promise}},function(a,b,c){"use strict";var d=c(2);a.exports=function(a,b){if(!d(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){A=a}function g(a,b,c,d){var e=new D;arguments.length>1&&l.deprecated("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),b&&(b instanceof E||(b=Object.create(b),b.length=a.length,b.initialData=a.initialData,b.abort||(b.abort=function(){})),a=Object.create(a),a.range=b),e.onPassword=c||null,e.onProgress=d||null;var f;if("string"==typeof a)f={url:a};else if(l.isArrayBuffer(a))f={data:a};else if(a instanceof E)f={range:a};else{if("object"!==("undefined"==typeof a?"undefined":k(a)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw new Error("Invalid parameter object: need either .data, .range or .url");f=a}var g={},i=null,j=null,n=m.DOMCMapReaderFactory;for(var o in f)if("url"!==o||"undefined"==typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||f[o]instanceof Uint8Array)"CMapReaderFactory"!==o?g[o]=f[o]:n=f[o];else{var p=f[o];if("string"==typeof p)g[o]=l.stringToBytes(p);else if("object"!==("undefined"==typeof p?"undefined":k(p))||null===p||isNaN(p.length)){if(!l.isArrayBuffer(p))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");g[o]=new Uint8Array(p)}else g[o]=new Uint8Array(p)}else j=f[o];else i=f[o];else g[o]=new URL(f[o],window.location).href;if(g.rangeChunkSize=g.rangeChunkSize||t,g.ignoreErrors=g.stopAtErrors!==!0,void 0!==g.disableNativeImageDecoder&&l.deprecated("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead"),g.nativeImageDecoderSupport=g.nativeImageDecoderSupport||(g.disableNativeImageDecoder===!0?l.NativeImageDecoding.NONE:l.NativeImageDecoding.DECODE),g.nativeImageDecoderSupport!==l.NativeImageDecoding.DECODE&&g.nativeImageDecoderSupport!==l.NativeImageDecoding.NONE&&g.nativeImageDecoderSupport!==l.NativeImageDecoding.DISPLAY&&(l.warn("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}"),g.nativeImageDecoderSupport=l.NativeImageDecoding.DECODE),!j){var q=m.getDefaultSetting("workerPort");j=q?I.fromPort(q):new I,e._worker=j}var r=e.docId;return j.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");return h(j,g,i,r).then(function(a){if(e.destroyed)throw new Error("Loading aborted");var b=void 0;i?b=new s.PDFDataTransportStream(g,i):g.data||(b=new A({source:g,disableRange:m.getDefaultSetting("disableRange")}));var c=new l.MessageHandler(r,a,j.port);c.postMessageTransfers=j.postMessageTransfers;var d=new J(c,e,b,n);e._transport=d,c.send("Ready",null)})})["catch"](e._capability.reject),e}function h(a,b,c,d){if(a.destroyed)return Promise.reject(new Error("Worker was destroyed"));var e="1.10.100";return b.disableAutoFetch=m.getDefaultSetting("disableAutoFetch"),b.disableStream=m.getDefaultSetting("disableStream"),b.chunkedViewerLoading=!!c,c&&(b.length=c.length,b.initialData=c.initialData),a.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:e,source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:m.getDefaultSetting("maxImageSize"),disableFontFace:m.getDefaultSetting("disableFontFace"),disableCreateObjectURL:m.getDefaultSetting("disableCreateObjectURL"),postMessageTransfers:m.getDefaultSetting("postMessageTransfers")&&!v,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:m.getDefaultSetting("isEvalSupported")}).then(function(b){if(a.destroyed)throw new Error("Worker was destroyed");return b})}Object.defineProperty(b,"__esModule",{value:!0}),b.build=b.version=b._UnsupportedManager=b.setPDFNetworkStreamClass=b.PDFPageProxy=b.PDFDocumentProxy=b.PDFWorker=b.PDFDataRangeTransport=b.LoopbackPort=b.getDocument=void 0;var i,j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=c(0),m=c(15),n=c(119),o=c(120),p=c(20),q=d(p),r=c(71),s=c(123),t=65536,u=!1,v=!1,w="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,x=null,y=!1;"undefined"==typeof window?(u=!0,"undefined"==typeof require.ensure&&(require.ensure=require("node-ensure")),y=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(y=!0),
"undefined"!=typeof requirejs&&requirejs.toUrl&&(i=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var z="undefined"!=typeof requirejs&&requirejs.load;x=y?function(a){require.ensure([],function(){var b;b=require("./pdf.worker.js"),a(b.WorkerMessageHandler)})}:z?function(a){requirejs(["pdfjs-dist/build/pdf.worker"],function(b){a(b.WorkerMessageHandler)})}:null;var A,B,C,D=function(){function a(){this._capability=l.createPromiseCapability(),this._transport=null,this._worker=null,this.docId="d"+b++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var b=0;return a.prototype={get promise(){return this._capability.promise},destroy:function(){var a=this;this.destroyed=!0;var b=this._transport?this._transport.destroy():Promise.resolve();return b.then(function(){a._transport=null,a._worker&&(a._worker.destroy(),a._worker=null)})},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}},a}(),E=function(){function a(a,b){this.length=a,this.initialData=b,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=l.createPromiseCapability()}return a.prototype={addRangeListener:function(a){this._rangeListeners.push(a)},addProgressListener:function(a){this._progressListeners.push(a)},addProgressiveReadListener:function(a){this._progressiveReadListeners.push(a)},onDataRange:function(a,b){for(var c=this._rangeListeners,d=0,e=c.length;e>d;++d)c[d](a,b)},onDataProgress:function(a){var b=this;this._readyCapability.promise.then(function(){for(var c=b._progressListeners,d=0,e=c.length;e>d;++d)c[d](a)})},onDataProgressiveRead:function(a){var b=this;this._readyCapability.promise.then(function(){for(var c=b._progressiveReadListeners,d=0,e=c.length;e>d;++d)c[d](a)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(a,b){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},a}(),F=function(){function a(a,b,c){this.pdfInfo=a,this.transport=b,this.loadingTask=c}return a.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(a){return this.transport.getDestination(a)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},a}(),G=function(){function a(a,b,c){this.pageIndex=a,this.pageInfo=b,this.transport=c,this.stats=new l.StatTimer,this.stats.enabled=m.getDefaultSetting("enableStats"),this.commonObjs=c.commonObjs,this.objs=new K,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return a.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(a,b){return arguments.length<2&&(b=this.rotate),new l.PageViewport(this.view,a,b,0,0)},getAnnotations:function(a){var b=a&&a.intent||null;return this.annotationsPromise&&this.annotationsIntent===b||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,b),this.annotationsIntent=b),this.annotationsPromise},render:function(a){var b=this,c=this.stats;c.time("Overall"),this.pendingCleanup=!1;var d="print"===a.intent?"print":"display",e=a.canvasFactory||new m.DOMCanvasFactory;this.intentStates[d]||(this.intentStates[d]=Object.create(null));var f=this.intentStates[d];f.displayReadyCapability||(f.receivingOperatorList=!0,f.displayReadyCapability=l.createPromiseCapability(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d,renderInteractiveForms:a.renderInteractiveForms===!0}));var g=function(a){var d=f.renderTasks.indexOf(h);d>=0&&f.renderTasks.splice(d,1),b.cleanupAfterRender&&(b.pendingCleanup=!0),b._tryCleanup(),a?h.capability.reject(a):h.capability.resolve(),c.timeEnd("Rendering"),c.timeEnd("Overall")},h=new M(g,a,this.objs,this.commonObjs,f.operatorList,this.pageNumber,e);h.useRequestAnimationFrame="print"!==d,f.renderTasks||(f.renderTasks=[]),f.renderTasks.push(h);var i=h.task;return a.continueCallback&&(l.deprecated("render is used with continueCallback parameter"),i.onContinue=a.continueCallback),f.displayReadyCapability.promise.then(function(a){return b.pendingCleanup?void g():(c.time("Rendering"),h.initializeGraphics(a),void h.operatorListChanged())})["catch"](g),i},getOperatorList:function(){function a(){if(d.operatorList.lastChunk){d.opListReadCapability.resolve(d.operatorList);var a=d.renderTasks.indexOf(c);a>=0&&d.renderTasks.splice(a,1)}}var b="oplist";this.intentStates[b]||(this.intentStates[b]=Object.create(null));var c,d=this.intentStates[b];return d.opListReadCapability||(c={},c.operatorListChanged=a,d.receivingOperatorList=!0,d.opListReadCapability=l.createPromiseCapability(),d.renderTasks=[],d.renderTasks.push(c),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:b})),d.opListReadCapability.promise},streamTextContent:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=100;return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:a.normalizeWhitespace===!0,combineTextItems:a.disableCombineTextItems!==!0},{highWaterMark:b,size:function(a){return a.items.length}})},getTextContent:function(a){a=a||{};var b=this.streamTextContent(a);return new Promise(function(a,c){function d(){e.read().then(function(b){var c=b.value,e=b.done;return e?void a(f):(l.Util.extendObj(f.styles,c.styles),l.Util.appendToArray(f.items,c.items),void d())},c)}var e=b.getReader(),f={items:[],styles:Object.create(null)};d()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var a=[];return Object.keys(this.intentStates).forEach(function(b){if("oplist"!==b){var c=this.intentStates[b];c.renderTasks.forEach(function(b){var c=b.capability.promise["catch"](function(){});a.push(c),b.cancel()})}},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(a)},destroy:function(){l.deprecated("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(a){var b=this.intentStates[a];return 0!==b.renderTasks.length||b.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(a,b){var c=this.intentStates[b];c.displayReadyCapability&&c.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c,d,e=this.intentStates[b];for(c=0,d=a.length;d>c;c++)e.operatorList.fnArray.push(a.fnArray[c]),e.operatorList.argsArray.push(a.argsArray[c]);for(e.operatorList.lastChunk=a.lastChunk,c=0;c<e.renderTasks.length;c++)e.renderTasks[c].operatorListChanged();a.lastChunk&&(e.receivingOperatorList=!1,this._tryCleanup())}},a}(),H=function(){function a(b){e(this,a),this._listeners=[],this._defer=b,this._deferred=Promise.resolve(void 0)}return j(a,[{key:"postMessage",value:function(a,b){function c(a){if("object"!==("undefined"==typeof a?"undefined":k(a))||null===a)return a;if(e.has(a))return e.get(a);var d,f;if((f=a.buffer)&&l.isArrayBuffer(f)){var g=b&&b.indexOf(f)>=0;return d=a===f?a:g?new a.constructor(f,a.byteOffset,a.byteLength):new a.constructor(a),e.set(a,d),d}d=Array.isArray(a)?[]:{},e.set(a,d);for(var h in a){for(var i,j=a;!(i=Object.getOwnPropertyDescriptor(j,h));)j=Object.getPrototypeOf(j);"undefined"!=typeof i.value&&"function"!=typeof i.value&&(d[h]=c(i.value))}return d}var d=this;if(!this._defer)return void this._listeners.forEach(function(b){b.call(this,{data:a})},this);var e=new WeakMap,f={data:c(a)};this._deferred.then(function(){d._listeners.forEach(function(a){a.call(this,f)},d)})}},{key:"addEventListener",value:function(a,b){this._listeners.push(b)}},{key:"removeEventListener",value:function(a,b){var c=this._listeners.indexOf(b);this._listeners.splice(c,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),a}(),I=function(){function a(){if("undefined"!=typeof i)return i;if(m.getDefaultSetting("workerSrc"))return m.getDefaultSetting("workerSrc");if(w)return w.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error("No PDFJS.workerSrc specified")}function b(){if(f)return f.promise;f=l.createPromiseCapability();var b=x||function(b){l.Util.loadScript(a(),function(){b(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})};return b(f.resolve),f.promise}function c(a){var b="importScripts('"+a+"');";return URL.createObjectURL(new Blob([b]))}function d(a,b){if(b&&g.has(b))throw new Error("Cannot use more than one PDFWorker per port");return this.name=a,this.destroyed=!1,this.postMessageTransfers=!0,this._readyCapability=l.createPromiseCapability(),this._port=null,this._webWorker=null,this._messageHandler=null,b?(g.set(b,this),void this._initializeFromPort(b)):void this._initialize()}var e=0,f=void 0,g=new WeakMap;return d.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(a){this._port=a,this._messageHandler=new l.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var b=this;if(!u&&!m.getDefaultSetting("disableWorker")&&"undefined"!=typeof Worker){var d=a();try{l.isSameOrigin(window.location.href,d)||(d=c(new URL(d,window.location).href));var e=new Worker(d),f=new l.MessageHandler("main","worker",e),g=function(){e.removeEventListener("error",h),f.destroy(),e.terminate(),b.destroyed?b._readyCapability.reject(new Error("Worker was destroyed")):b._setupFakeWorker()},h=function(){b._webWorker||g()};e.addEventListener("error",h),f.on("test",function(a){if(e.removeEventListener("error",h),b.destroyed)return void g();var c=a&&a.supportTypedArray;c?(b._messageHandler=f,b._port=e,b._webWorker=e,a.supportTransfers||(b.postMessageTransfers=!1,v=!0),b._readyCapability.resolve(),f.send("configure",{verbosity:l.getVerbosityLevel()})):(b._setupFakeWorker(),f.destroy(),e.terminate())}),f.on("console_log",function(a){console.log.apply(console,a)}),f.on("console_error",function(a){console.error.apply(console,a)}),f.on("ready",function(a){if(e.removeEventListener("error",h),b.destroyed)return void g();try{i()}catch(c){b._setupFakeWorker()}});var i=function(){var a=m.getDefaultSetting("postMessageTransfers")&&!v,b=new Uint8Array([a?255:0]);try{f.send("test",b,[b.buffer])}catch(c){l.info("Cannot use postMessage transfers"),b[0]=0,f.send("test",b)}};return void i()}catch(j){l.info("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var a=this;u||m.getDefaultSetting("disableWorker")||(l.warn("Setting up fake worker."),u=!0),b().then(function(b){if(a.destroyed)return void a._readyCapability.reject(new Error("Worker was destroyed"));var c=Uint8Array!==Float32Array,d=new H(c);a._port=d;var f="fake"+e++,g=new l.MessageHandler(f+"_worker",f,d);b.setup(g,d);var h=new l.MessageHandler(f,f+"_worker",d);a._messageHandler=h,a._readyCapability.resolve()})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),g["delete"](this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},d.fromPort=function(a){return g.has(a)?g.get(a):new d(null,a)},d}(),J=function(){function a(a,b,c,d){this.messageHandler=a,this.loadingTask=b,this.commonObjs=new K,this.fontLoader=new n.FontLoader(b.docId),this.CMapReaderFactory=new d({baseUrl:m.getDefaultSetting("cMapUrl"),isCompressed:m.getDefaultSetting("cMapPacked")}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=l.createPromiseCapability(),this.setupMessageHandler()}return a.prototype={destroy:function(){var a=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=l.createPromiseCapability(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var b=[];this.pageCache.forEach(function(a){a&&b.push(a._destroy())}),this.pageCache=[],this.pagePromises=[];var c=this.messageHandler.sendWithPromise("Terminate",null);return b.push(c),Promise.all(b).then(function(){a.fontLoader.clear(),a._networkStream&&a._networkStream.cancelAllRequests(),a.messageHandler&&(a.messageHandler.destroy(),a.messageHandler=null),a.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var a=this.messageHandler,b=this.loadingTask;a.on("GetReader",function(a,b){var c=this;l.assert(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(a){c._lastProgress={loaded:a.loaded,total:a.total}},b.onPull=function(){c._fullReader.read().then(function(a){var c=a.value,d=a.done;return d?void b.close():(l.assert(l.isArrayBuffer(c)),void b.enqueue(new Uint8Array(c),1,[c]))})["catch"](function(a){b.error(a)})},b.onCancel=function(a){c._fullReader.cancel(a)}},this),a.on("ReaderHeadersReady",function(a){var b=this,c=l.createPromiseCapability(),d=this._fullReader;return d.headersReady.then(function(){if(!d.isStreamingSupported||!d.isRangeSupported){if(b._lastProgress){var a=b.loadingTask;a.onProgress&&a.onProgress(b._lastProgress)}d.onProgress=function(a){var c=b.loadingTask;c.onProgress&&c.onProgress({loaded:a.loaded,total:a.total})}}c.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},c.reject),c.promise},this),a.on("GetRangeReader",function(a,b){l.assert(this._networkStream);var c=this._networkStream.getRangeReader(a.begin,a.end);b.onPull=function(){c.read().then(function(a){var c=a.value,d=a.done;return d?void b.close():(l.assert(l.isArrayBuffer(c)),void b.enqueue(new Uint8Array(c),1,[c]))})["catch"](function(a){b.error(a)})},b.onCancel=function(a){c.cancel(a)}},this),a.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=a.pdfInfo.numPages;var c=this.loadingTask,d=new F(b,this,c);this.pdfDocument=d,c._capability.resolve(d)},this),a.on("PasswordRequest",function(a){var c=this;if(this._passwordCapability=l.createPromiseCapability(),b.onPassword){var d=function(a){c._passwordCapability.resolve({password:a})};b.onPassword(d,a.code)}else this._passwordCapability.reject(new l.PasswordException(a.message,a.code));return this._passwordCapability.promise},this),a.on("PasswordException",function(a){b._capability.reject(new l.PasswordException(a.message,a.code))},this),a.on("InvalidPDF",function(a){this.loadingTask._capability.reject(new l.InvalidPDFException(a.message))},this),a.on("MissingPDF",function(a){this.loadingTask._capability.reject(new l.MissingPDFException(a.message))},this),a.on("UnexpectedResponse",function(a){this.loadingTask._capability.reject(new l.UnexpectedResponseException(a.message,a.status))},this),a.on("UnknownError",function(a){this.loadingTask._capability.reject(new l.UnknownErrorException(a.message,a.details))},this),a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this),a.on("PDFManagerReady",function(a){},this),a.on("StartRenderPage",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request"),b._startRenderPage(a.transparency,a.intent)}},this),a.on("RenderPageChunk",function(a){if(!this.destroyed){var b=this.pageCache[a.pageIndex];b._renderPageChunk(a.operatorList,a.intent)}},this),a.on("commonobj",function(a){var b=this;if(!this.destroyed){var c=a[0],d=a[1];if(!this.commonObjs.hasData(c))switch(d){case"Font":var e=a[2];if("error"in e){var f=e.error;l.warn("Error during font loading: "+f),this.commonObjs.resolve(c,f);break}var g=null;m.getDefaultSetting("pdfBug")&&q["default"].FontInspector&&q["default"].FontInspector.enabled&&(g={registerFont:function(a,b){q["default"].FontInspector.fontAdded(a,b)}});var h=new n.FontFaceObject(e,{isEvalSupported:m.getDefaultSetting("isEvalSupported"),disableFontFace:m.getDefaultSetting("disableFontFace"),fontRegistry:g}),i=function(a){b.commonObjs.resolve(c,h)};this.fontLoader.bind([h],i);break;case"FontPath":this.commonObjs.resolve(c,a[2]);break;default:throw new Error("Got unknown common object type "+d)}}},this),a.on("obj",function(a){if(!this.destroyed){var b,c=a[0],d=a[1],e=a[2],f=this.pageCache[d];if(!f.objs.hasData(c))switch(e){case"JpegStream":b=a[3],l.loadJpegStream(c,b,f.objs);break;case"Image":b=a[3],f.objs.resolve(c,b);var g=8e6;b&&"data"in b&&b.data.length>g&&(f.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+e)}}},this),a.on("DocProgress",function(a){if(!this.destroyed){var b=this.loadingTask;b.onProgress&&b.onProgress({loaded:a.loaded,total:a.total})}},this),a.on("PageError",function(a){if(!this.destroyed){var b=this.pageCache[a.pageNum-1],c=b.intentStates[a.intent];if(!c.displayReadyCapability)throw new Error(a.error);if(c.displayReadyCapability.reject(a.error),c.operatorList){c.operatorList.lastChunk=!0;for(var d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged()}}},this),a.on("UnsupportedFeature",function(a){if(!this.destroyed){var b=a.featureId,c=this.loadingTask;c.onUnsupportedFeature&&c.onUnsupportedFeature(b),N.notify(b)}},this),a.on("JpegDecode",function(a){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var b=a[0],c=a[1];return 3!==c&&1!==c?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){var e=new Image;e.onload=function(){var b=e.width,d=e.height,f=b*d,g=4*f,h=new Uint8Array(f*c),i=document.createElement("canvas");i.width=b,i.height=d;var j=i.getContext("2d");j.drawImage(e,0,0);var k,l,m=j.getImageData(0,0,b,d).data;if(3===c)for(k=0,l=0;g>k;k+=4,l+=3)h[l]=m[k],h[l+1]=m[k+1],h[l+2]=m[k+2];else if(1===c)for(k=0,l=0;g>k;k+=4,l++)h[l]=m[k];a({data:h,width:b,height:d})},e.onerror=function(){d(new Error("JpegDecode failed to load image"))},e.src=b})},this),a.on("FetchBuiltInCMap",function(a){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:a.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(a,b){var c=this;if(!Number.isInteger(a)||0>=a||a>this.numPages)return Promise.reject(new Error("Invalid page request"));var d=a-1;if(d in this.pagePromises)return this.pagePromises[d];var e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:d}).then(function(a){if(c.destroyed)throw new Error("Transport destroyed");var b=new G(d,a,c);return c.pageCache[d]=b,b});return this.pagePromises[d]=e,e},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})["catch"](function(a){return Promise.reject(new Error(a))})},getAnnotations:function(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(a){return this.messageHandler.sendWithPromise("GetDestination",{id:a})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?new r.Metadata(a[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var a=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var b=0,c=a.pageCache.length;c>b;b++){var d=a.pageCache[b];d&&d.cleanup()}a.commonObjs.clear(),a.fontLoader.clear()})}},a}(),K=function(){function a(){this.objs=Object.create(null)}return a.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:l.createPromiseCapability(),data:null,resolved:!1};return this.objs[a]=b,b},get:function(a,b){if(b)return this.ensureObj(a).capability.promise.then(b),null;var c=this.objs[a];if(!c||!c.resolved)throw new Error("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=!0,c.data=b,c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:!1},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return b[a]&&b[a].resolved?b[a].data:null},clear:function(){this.objs=Object.create(null)}},a}(),L=function(){function a(a){this._internalRenderTask=a,this.onContinue=null}return a.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(a,b){return this.promise.then.apply(this.promise,arguments)}},a}(),M=function(){function a(a,b,c,d,e,f,g){this.callback=a,this.params=b,this.objs=c,this.commonObjs=d,this.operatorListIdx=null,this.operatorList=e,this.pageNumber=f,this.canvasFactory=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=l.createPromiseCapability(),this.task=new L(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}var b=new WeakMap;return a.prototype={initializeGraphics:function(a){if(this._canvas){if(b.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b.set(this._canvas,this)}if(!this.cancelled){m.getDefaultSetting("pdfBug")&&q["default"].StepperManager&&q["default"].StepperManager.enabled&&(this.stepper=q["default"].StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var c=this.params;this.gfx=new o.CanvasGraphics(c.canvasContext,this.commonObjs,this.objs,this.canvasFactory,c.imageLayer),this.gfx.beginDrawing({transform:c.transform,viewport:c.viewport,transparency:a,background:c.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&b["delete"](this._canvas),m.getDefaultSetting("pdfjsNext")?this.callback(new m.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound))},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&b["delete"](this._canvas),this.callback())))}},a}(),N=function(){var a=[];return{listen:function(b){l.deprecated("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),a.push(b)},notify:function(b){for(var c=0,d=a.length;d>c;c++)a[c](b)}}}();b.version=B="1.10.100",b.build=C="ea29ec83",b.getDocument=g,b.LoopbackPort=H,b.PDFDataRangeTransport=E,b.PDFWorker=I,b.PDFDocumentProxy=F,b.PDFPageProxy=G,b.setPDFNetworkStreamClass=f,b._UnsupportedManager=N,b.version=B,b.build=C},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLUtils=void 0;var d=c(15),e=c(0),f=function(){function a(a,b,c){var d=a.createShader(c);a.shaderSource(d,b),a.compileShader(d);var e=a.getShaderParameter(d,a.COMPILE_STATUS);if(!e){var f=a.getShaderInfoLog(d);throw new Error("Error during shader compilation: "+f)}return d}function b(b,c){return a(b,c,b.VERTEX_SHADER)}function c(b,c){return a(b,c,b.FRAGMENT_SHADER)}function f(a,b){for(var c=a.createProgram(),d=0,e=b.length;e>d;++d)a.attachShader(c,b[d]);a.linkProgram(c);var f=a.getProgramParameter(c,a.LINK_STATUS);if(!f){var g=a.getProgramInfoLog(c);throw new Error("Error during program linking: "+g)}return c}function g(a,b,c){a.activeTexture(c);var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),d}function h(){n||(o=document.createElement("canvas"),n=o.getContext("webgl",{premultipliedalpha:!1}))}function i(){var a,d;h(),a=o,o=null,d=n,n=null;var e=b(d,p),g=c(d,q),i=f(d,[e,g]);d.useProgram(i);var j={};j.gl=d,j.canvas=a,j.resolutionLocation=d.getUniformLocation(i,"u_resolution"),j.positionLocation=d.getAttribLocation(i,"a_position"),j.backdropLocation=d.getUniformLocation(i,"u_backdrop"),j.subtypeLocation=d.getUniformLocation(i,"u_subtype");var k=d.getAttribLocation(i,"a_texCoord"),l=d.getUniformLocation(i,"u_image"),m=d.getUniformLocation(i,"u_mask"),s=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,s),d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),d.STATIC_DRAW),d.enableVertexAttribArray(k),d.vertexAttribPointer(k,2,d.FLOAT,!1,0,0),d.uniform1i(l,0),d.uniform1i(m,1),r=j}function j(a,b,c){var d=a.width,e=a.height;r||i();var f=r,h=f.canvas,j=f.gl;h.width=d,h.height=e,j.viewport(0,0,j.drawingBufferWidth,j.drawingBufferHeight),j.uniform2f(f.resolutionLocation,d,e),c.backdrop?j.uniform4f(f.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):j.uniform4f(f.resolutionLocation,0,0,0,0),j.uniform1i(f.subtypeLocation,"Luminosity"===c.subtype?1:0);var k=g(j,a,j.TEXTURE0),l=g(j,b,j.TEXTURE1),m=j.createBuffer();return j.bindBuffer(j.ARRAY_BUFFER,m),j.bufferData(j.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,e,0,e,d,0,d,e]),j.STATIC_DRAW),j.enableVertexAttribArray(f.positionLocation),j.vertexAttribPointer(f.positionLocation,2,j.FLOAT,!1,0,0),j.clearColor(0,0,0,0),j.enable(j.BLEND),j.blendFunc(j.ONE,j.ONE_MINUS_SRC_ALPHA),j.clear(j.COLOR_BUFFER_BIT),j.drawArrays(j.TRIANGLES,0,6),j.flush(),j.deleteTexture(k),j.deleteTexture(l),j.deleteBuffer(m),h}function k(){var a,d;h(),a=o,o=null,d=n,n=null;var e=b(d,s),g=c(d,t),i=f(d,[e,g]);d.useProgram(i);var j={};j.gl=d,j.canvas=a,j.resolutionLocation=d.getUniformLocation(i,"u_resolution"),j.scaleLocation=d.getUniformLocation(i,"u_scale"),j.offsetLocation=d.getUniformLocation(i,"u_offset"),j.positionLocation=d.getAttribLocation(i,"a_position"),j.colorLocation=d.getAttribLocation(i,"a_color"),u=j}function l(a,b,c,d,e){u||k();var f=u,g=f.canvas,h=f.gl;g.width=a,g.height=b,h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),h.uniform2f(f.resolutionLocation,a,b);var i,j,l,m=0;for(i=0,j=d.length;j>i;i++)switch(d[i].type){case"lattice":l=d[i].coords.length/d[i].verticesPerRow|0,m+=(l-1)*(d[i].verticesPerRow-1)*6;break;case"triangles":m+=d[i].coords.length}var n=new Float32Array(2*m),o=new Uint8Array(3*m),p=e.coords,q=e.colors,r=0,s=0;for(i=0,j=d.length;j>i;i++){var t=d[i],v=t.coords,w=t.colors;switch(t.type){case"lattice":var x=t.verticesPerRow;l=v.length/x|0;for(var y=1;l>y;y++)for(var z=y*x+1,A=1;x>A;A++,z++)n[r]=p[v[z-x-1]],n[r+1]=p[v[z-x-1]+1],n[r+2]=p[v[z-x]],n[r+3]=p[v[z-x]+1],n[r+4]=p[v[z-1]],n[r+5]=p[v[z-1]+1],o[s]=q[w[z-x-1]],o[s+1]=q[w[z-x-1]+1],o[s+2]=q[w[z-x-1]+2],o[s+3]=q[w[z-x]],o[s+4]=q[w[z-x]+1],o[s+5]=q[w[z-x]+2],o[s+6]=q[w[z-1]],o[s+7]=q[w[z-1]+1],o[s+8]=q[w[z-1]+2],n[r+6]=n[r+2],n[r+7]=n[r+3],n[r+8]=n[r+4],n[r+9]=n[r+5],n[r+10]=p[v[z]],n[r+11]=p[v[z]+1],o[s+9]=o[s+3],o[s+10]=o[s+4],o[s+11]=o[s+5],o[s+12]=o[s+6],o[s+13]=o[s+7],o[s+14]=o[s+8],o[s+15]=q[w[z]],o[s+16]=q[w[z]+1],o[s+17]=q[w[z]+2],r+=12,s+=18;break;case"triangles":for(var B=0,C=v.length;C>B;B++)n[r]=p[v[B]],n[r+1]=p[v[B]+1],o[s]=q[w[B]],o[s+1]=q[w[B]+1],o[s+2]=q[w[B]+2],r+=2,s+=3}}c?h.clearColor(c[0]/255,c[1]/255,c[2]/255,1):h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT);var D=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,D),h.bufferData(h.ARRAY_BUFFER,n,h.STATIC_DRAW),h.enableVertexAttribArray(f.positionLocation),h.vertexAttribPointer(f.positionLocation,2,h.FLOAT,!1,0,0);var E=h.createBuffer();return h.bindBuffer(h.ARRAY_BUFFER,E),h.bufferData(h.ARRAY_BUFFER,o,h.STATIC_DRAW),h.enableVertexAttribArray(f.colorLocation),h.vertexAttribPointer(f.colorLocation,3,h.UNSIGNED_BYTE,!1,0,0),h.uniform2f(f.scaleLocation,e.scaleX,e.scaleY),h.uniform2f(f.offsetLocation,e.offsetX,e.offsetY),h.drawArrays(h.TRIANGLES,0,m),h.flush(),h.deleteBuffer(D),h.deleteBuffer(E),g}function m(){r&&r.canvas&&(r.canvas.width=0,r.canvas.height=0),u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),r=null,u=null}var n,o,p="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",q="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",r=null,s="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",t="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",u=null;
return{get isEnabled(){if(d.getDefaultSetting("disableWebGL"))return!1;var a=!1;try{h(),a=!!n}catch(b){}return e.shadow(this,"isEnabled",a)},composeSMask:j,drawFigures:l,clear:m}}();b.WebGLUtils=f},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(0),g=c(122),h=function(){function a(b){d(this,a),f.assert("string"==typeof b,"Metadata: input is not a string"),b=this._repair(b);var c=new g.SimpleXMLParser,e=c.parseFromString(b);this._metadata=Object.create(null),e&&this._parse(e)}return e(a,[{key:"_repair",value:function(a){return a.replace(/>\\376\\377([^<]+)/g,function(a,b){for(var c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}),d="",e=0,f=c.length;f>e;e+=2){var g=256*c.charCodeAt(e)+c.charCodeAt(e+1);d+=g>=32&&127>g&&60!==g&&62!==g&&38!==g?String.fromCharCode(g):"&#x"+(65536+g).toString(16).substring(1)+";"}return">"+d})}},{key:"_parse",value:function(a){var b=a.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==b.nodeName.toLowerCase();)b=b.nextSibling;var c=b?b.nodeName.toLowerCase():null;if(b&&"rdf:rdf"===c&&b.hasChildNodes())for(var d=b.childNodes,e=0,f=d.length;f>e;e++){var g=d[e];if("rdf:description"===g.nodeName.toLowerCase())for(var h=0,i=g.childNodes.length;i>h;h++)if("#text"!==g.childNodes[h].nodeName.toLowerCase()){var j=g.childNodes[h],k=j.nodeName.toLowerCase();this._metadata[k]=j.textContent.trim()}}}},{key:"get",value:function(a){return this._metadata[a]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(a){return"undefined"!=typeof this._metadata[a]}},{key:"metadata",get:function(){return f.deprecated("`metadata` getter; use `getAll()` instead."),this.getAll()}}]),a}();b.Metadata=h},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayer=void 0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(15),i=c(0),j=function(){function a(){f(this,a)}return g(a,null,[{key:"create",value:function(a){var b=a.data.annotationType;switch(b){case i.AnnotationType.LINK:return new l(a);case i.AnnotationType.TEXT:return new m(a);case i.AnnotationType.WIDGET:var c=a.data.fieldType;switch(c){case"Tx":return new o(a);case"Btn":if(a.data.radioButton)return new q(a);if(a.data.checkBox)return new p(a);i.warn("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new r(a)}return new n(a);case i.AnnotationType.POPUP:return new s(a);case i.AnnotationType.LINE:return new u(a);case i.AnnotationType.SQUARE:return new v(a);case i.AnnotationType.CIRCLE:return new w(a);case i.AnnotationType.POLYLINE:return new x(a);case i.AnnotationType.POLYGON:return new y(a);case i.AnnotationType.HIGHLIGHT:return new z(a);case i.AnnotationType.UNDERLINE:return new A(a);case i.AnnotationType.SQUIGGLY:return new B(a);case i.AnnotationType.STRIKEOUT:return new C(a);case i.AnnotationType.STAMP:return new D(a);case i.AnnotationType.FILEATTACHMENT:return new E(a);default:return new k(a)}}}]),a}(),k=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;f(this,a),this.isRenderable=c,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderInteractiveForms=b.renderInteractiveForms,this.svgFactory=b.svgFactory,c&&(this.container=this._createContainer(d))}return g(a,[{key:"_createContainer",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,b=this.data,c=this.page,d=this.viewport,e=document.createElement("section"),f=b.rect[2]-b.rect[0],g=b.rect[3]-b.rect[1];e.setAttribute("data-annotation-id",b.id);var j=i.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);if(h.CustomStyle.setProp("transform",e,"matrix("+d.transform.join(",")+")"),h.CustomStyle.setProp("transformOrigin",e,-j[0]+"px "+-j[1]+"px"),!a&&b.borderStyle.width>0){e.style.borderWidth=b.borderStyle.width+"px",b.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(f-=2*b.borderStyle.width,g-=2*b.borderStyle.width);var k=b.borderStyle.horizontalCornerRadius,l=b.borderStyle.verticalCornerRadius;if(k>0||l>0){var m=k+"px / "+l+"px";h.CustomStyle.setProp("borderRadius",e,m)}switch(b.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:e.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:e.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:i.warn("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:i.warn("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:e.style.borderBottomStyle="solid"}b.color?e.style.borderColor=i.Util.makeCssRgb(0|b.color[0],0|b.color[1],0|b.color[2]):e.style.borderWidth=0}return e.style.left=j[0]+"px",e.style.top=j[1]+"px",e.style.width=f+"px",e.style.height=g+"px",e}},{key:"_createPopup",value:function(a,b,c){b||(b=document.createElement("div"),b.style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));var d=new t({container:a,trigger:b,color:c.color,title:c.title,contents:c.contents,hideWrapper:!0}),e=d.render();e.style.left=a.style.width,a.appendChild(e)}},{key:"render",value:function(){throw new Error("Abstract method `AnnotationElement.render` called")}}]),a}(),l=function(a){function b(a){f(this,b);var c=!!(a.data.url||a.data.dest||a.data.action);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="linkAnnotation";var a=document.createElement("a");return h.addLinkAttributes(a,{url:this.data.url,target:this.data.newWindow?h.LinkTarget.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(a,this.data.action):this._bindLink(a,this.data.dest)),this.container.appendChild(a),this.container}},{key:"_bindLink",value:function(a,b){var c=this;a.href=this.linkService.getDestinationHash(b),a.onclick=function(){return b&&c.linkService.navigateTo(b),!1},b&&(a.className="internalLink")}},{key:"_bindNamedAction",value:function(a,b){var c=this;a.href=this.linkService.getAnchorUrl(""),a.onclick=function(){return c.linkService.executeNamedAction(b),!1},a.className="internalLink"}}]),b}(k),m=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="textAnnotation";var a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}}]),b}(k),n=function(a){function b(){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return e(b,a),g(b,[{key:"render",value:function(){return this.container}}]),b}(k),o=function(a){function b(a){f(this,b);var c=a.renderInteractiveForms||!a.data.hasAppearance&&!!a.data.fieldValue;return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return e(b,a),g(b,[{key:"render",value:function(){var a=["left","center","right"];this.container.className="textWidgetAnnotation";var b=null;if(this.renderInteractiveForms){if(this.data.multiLine?(b=document.createElement("textarea"),b.textContent=this.data.fieldValue):(b=document.createElement("input"),b.type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){var c=this.data.rect[2]-this.data.rect[0],d=c/this.data.maxLen;b.classList.add("comb"),b.style.letterSpacing="calc("+d+"px - 1ch)"}}else{b=document.createElement("div"),b.textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell";var e=null;this.data.fontRefName&&(e=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(b,e)}return null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]),this.container.appendChild(b),this.container}},{key:"_setTextStyle",value:function(a,b){var c=a.style;if(c.fontSize=this.data.fontSize+"px",c.direction=this.data.fontDirection<0?"rtl":"ltr",b){c.fontWeight=b.black?b.bold?"900":"bold":b.bold?"bold":"normal",c.fontStyle=b.italic?"italic":"normal";var d=b.loadedName?'"'+b.loadedName+'", ':"",e=b.fallbackName||"Helvetica, sans-serif";c.fontFamily=d+e}}}]),b}(n),p=function(a){function b(a){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),b}(n),q=function(a){function b(a){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="radio",a.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}]),b}(n),r=function(a){function b(a){return f(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,a.renderInteractiveForms))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var a=document.createElement("select");a.disabled=this.data.readOnly,this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0));for(var b=0,c=this.data.options.length;c>b;b++){var d=this.data.options[b],e=document.createElement("option");e.textContent=d.displayValue,e.value=d.exportValue,this.data.fieldValue.indexOf(d.displayValue)>=0&&e.setAttribute("selected",!0),a.appendChild(e)}return this.container.appendChild(a),this.container}}]),b}(n),s=function(a){function b(a){f(this,b);var c=!(!a.data.title&&!a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return e(b,a),g(b,[{key:"render",value:function(){var a=["Line","Square","Circle","PolyLine","Polygon"];if(this.container.className="popupAnnotation",a.indexOf(this.data.parentType)>=0)return this.container;var b='[data-annotation-id="'+this.data.parentId+'"]',c=this.layer.querySelector(b);if(!c)return this.container;var d=new t({container:this.container,trigger:c,color:this.data.color,title:this.data.title,contents:this.data.contents}),e=parseFloat(c.style.left),f=parseFloat(c.style.width);return h.CustomStyle.setProp("transformOrigin",this.container,-(e+f)+"px -"+c.style.top),this.container.style.left=e+f+"px",this.container.appendChild(d.render()),this.container}}]),b}(k),t=function(){function a(b){f(this,a),this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.title=b.title,this.contents=b.contents,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}return g(a,[{key:"render",value:function(){var a=.7,b=document.createElement("div");b.className="popupWrapper",this.hideElement=this.hideWrapper?b:this.container,this.hideElement.setAttribute("hidden",!0);var c=document.createElement("div");c.className="popup";var d=this.color;if(d){var e=a*(255-d[0])+d[0],f=a*(255-d[1])+d[1],g=a*(255-d[2])+d[2];c.style.backgroundColor=i.Util.makeCssRgb(0|e,0|f,0|g)}var h=this._formatContents(this.contents),j=document.createElement("h1");return j.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),c.addEventListener("click",this._hide.bind(this,!0)),c.appendChild(j),c.appendChild(h),b.appendChild(c),b}},{key:"_formatContents",value:function(a){for(var b=document.createElement("p"),c=a.split(/(?:\r\n?|\n)/),d=0,e=c.length;e>d;++d){var f=c[d];b.appendChild(document.createTextNode(f)),e-1>d&&b.appendChild(document.createElement("br"))}return b}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1;a&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!0;a&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),a}(),u=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="lineAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=this.svgFactory.createElement("svg:line");return e.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),e.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),e.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),e.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),e.setAttribute("stroke-width",a.borderStyle.width),e.setAttribute("stroke","transparent"),d.appendChild(e),this.container.append(d),this._createPopup(this.container,e,a),this.container}}]),b}(k),v=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="squareAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",e/2),f.setAttribute("y",e/2),f.setAttribute("width",b-e),f.setAttribute("height",c-e),f.setAttribute("stroke-width",e),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}]),b}(k),w=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="circleAnnotation";var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",b/2),f.setAttribute("cy",c/2),f.setAttribute("rx",b/2-e/2),f.setAttribute("ry",c/2-e/2),f.setAttribute("stroke-width",e),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}]),b}(k),x=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents),e=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0));return e.containerClassName="polylineAnnotation",e.svgElementName="svg:polyline",e}return e(b,a),g(b,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.vertices,f=[],g=0,h=e.length;h>g;g++){var i=e[g].x-a.rect[0],j=a.rect[3]-e[g].y;f.push(i+","+j)}f=f.join(" ");var k=a.borderStyle.width,l=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",f),l.setAttribute("stroke-width",k),l.setAttribute("stroke","transparent"),l.setAttribute("fill","none"),d.appendChild(l),this.container.append(d),this._createPopup(this.container,l,a),this.container}}]),b}(k),y=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.containerClassName="polygonAnnotation",c.svgElementName="svg:polygon",c}return e(b,a),b}(x),z=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),A=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),B=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),C=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),D=function(a){function b(a){f(this,b);var c=!!(a.data.hasPopup||a.data.title||a.data.contents);return d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,!0))}return e(b,a),g(b,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),b}(k),E=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,!0)),e=c.data.file;return c.filename=h.getFilenameFromUrl(e.filename),c.content=e.content,c.linkService.onFileAttachmentAnnotation({id:i.stringToPDFString(e.filename),filename:e.filename,content:e.content}),c}return e(b,a),g(b,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}},{key:"_download",value:function(){return this.downloadManager?void this.downloadManager.downloadData(this.content,this.filename,""):void i.warn("Download cannot be started due to unavailable download manager")}}]),b}(k),F=function(){function a(){f(this,a)}return g(a,null,[{key:"render",value:function(a){for(var b=0,c=a.annotations.length;c>b;b++){var d=a.annotations[b];if(d){var e=j.create({data:d,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||h.getDefaultSetting("imageResourcesPath"),renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new h.DOMSVGFactory});e.isRenderable&&a.div.appendChild(e.render())}}}},{key:"update",value:function(a){for(var b=0,c=a.annotations.length;c>b;b++){var d=a.annotations[b],e=a.div.querySelector('[data-annotation-id="'+d.id+'"]');e&&h.CustomStyle.setProp("transform",e,"matrix("+a.viewport.transform.join(",")+")")}a.div.removeAttribute("hidden")}}]),a}();b.AnnotationLayer=F},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.renderTextLayer=void 0;var d=c(0),e=c(15),f=function(){function a(a){return!l.test(a)}function b(b,c,f){var g=document.createElement("div"),h={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(b._textDivs.push(g),a(c.str))return h.isWhitespace=!0,void b._textDivProperties.set(g,h);var i=d.Util.transform(b._viewport.transform,c.transform),j=Math.atan2(i[1],i[0]),k=f[c.fontName];k.vertical&&(j+=Math.PI/2);var l=Math.sqrt(i[2]*i[2]+i[3]*i[3]),n=l;k.ascent?n=k.ascent*n:k.descent&&(n=(1+k.descent)*n);var o,p;if(0===j?(o=i[4],p=i[5]-n):(o=i[4]+n*Math.sin(j),p=i[5]-n*Math.cos(j)),m[1]=o,m[3]=p,m[5]=l,m[7]=k.fontFamily,h.style=m.join(""),g.setAttribute("style",h.style),g.textContent=c.str,e.getDefaultSetting("pdfBug")&&(g.dataset.fontName=c.fontName),0!==j&&(h.angle=j*(180/Math.PI)),c.str.length>1&&(k.vertical?h.canvasWidth=c.height*b._viewport.scale:h.canvasWidth=c.width*b._viewport.scale),b._textDivProperties.set(g,h),b._textContentStream&&b._layoutText(g),b._enhanceTextSelection){var q=1,r=0;0!==j&&(q=Math.cos(j),r=Math.sin(j));var s,t,u=(k.vertical?c.height:c.width)*b._viewport.scale,v=l;0!==j?(s=[q,r,-r,q,o,p],t=d.Util.getAxialAlignedBoundingBox([0,0,u,v],s)):t=[o,p,o+u,p+v],b._bounds.push({left:t[0],top:t[1],right:t[2],bottom:t[3],div:g,size:[u,v],m:s})}}function c(a){if(!a._canceled){var b=a._textDivs,c=a._capability,d=b.length;if(d>k)return a._renderingDone=!0,void c.resolve();if(!a._textContentStream)for(var e=0;d>e;e++)a._layoutText(b[e]);a._renderingDone=!0,c.resolve()}}function f(a){for(var b=a._bounds,c=a._viewport,e=g(c.width,c.height,b),f=0;f<e.length;f++){var h=b[f].div,i=a._textDivProperties.get(h);if(0!==i.angle){var j=e[f],k=b[f],l=k.m,m=l[0],n=l[1],o=[[0,0],[0,k.size[1]],[k.size[0],0],k.size],p=new Float64Array(64);o.forEach(function(a,b){var c=d.Util.applyTransform(a,l);p[b+0]=m&&(j.left-c[0])/m,p[b+4]=n&&(j.top-c[1])/n,p[b+8]=m&&(j.right-c[0])/m,p[b+12]=n&&(j.bottom-c[1])/n,p[b+16]=n&&(j.left-c[0])/-n,p[b+20]=m&&(j.top-c[1])/m,p[b+24]=n&&(j.right-c[0])/-n,p[b+28]=m&&(j.bottom-c[1])/m,p[b+32]=m&&(j.left-c[0])/-m,p[b+36]=n&&(j.top-c[1])/-n,p[b+40]=m&&(j.right-c[0])/-m,p[b+44]=n&&(j.bottom-c[1])/-n,p[b+48]=n&&(j.left-c[0])/n,p[b+52]=m&&(j.top-c[1])/-m,p[b+56]=n&&(j.right-c[0])/n,p[b+60]=m&&(j.bottom-c[1])/-m});var q=function(a,b,c){for(var d=0,e=0;c>e;e++){var f=a[b++];f>0&&(d=d?Math.min(f,d):f)}return d},r=1+Math.min(Math.abs(m),Math.abs(n));i.paddingLeft=q(p,32,16)/r,i.paddingTop=q(p,48,16)/r,i.paddingRight=q(p,0,16)/r,i.paddingBottom=q(p,16,16)/r,a._textDivProperties.set(h,i)}else i.paddingLeft=b[f].left-e[f].left,i.paddingTop=b[f].top-e[f].top,i.paddingRight=e[f].right-b[f].right,i.paddingBottom=e[f].bottom-b[f].bottom,a._textDivProperties.set(h,i)}}function g(a,b,c){var d=c.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});h(a,d);var e=new Array(c.length);return d.forEach(function(a){var b=a.index;e[b]={left:a.x1New,top:0,right:a.x2New,bottom:0}}),c.map(function(b,c){var f=e[c],g=d[c];g.x1=b.top,g.y1=a-f.right,g.x2=b.bottom,g.y2=a-f.left,g.index=c,g.x1New=void 0,g.x2New=void 0}),h(b,d),d.forEach(function(a){var b=a.index;e[b].top=a.x1New,e[b].bottom=a.x2New}),e}function h(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var c={x1:-(1/0),y1:-(1/0),x2:0,y2:1/0,index:-1,x1New:0,x2New:0},d=[{start:-(1/0),end:1/0,boundary:c}];b.forEach(function(a){for(var b=0;b<d.length&&d[b].end<=a.y1;)b++;for(var c=d.length-1;c>=0&&d[c].start>=a.y2;)c--;var e,f,g,h,i=-(1/0);for(g=b;c>=g;g++){e=d[g],f=e.boundary;var j;j=f.x2>a.x1?f.index>a.index?f.x1New:a.x1:void 0===f.x2New?(f.x2+a.x1)/2:f.x2New,j>i&&(i=j)}for(a.x1New=i,g=b;c>=g;g++)e=d[g],f=e.boundary,void 0===f.x2New?f.x2>a.x1?f.index>a.index&&(f.x2New=f.x2):f.x2New=i:f.x2New>i&&(f.x2New=Math.max(i,f.x2));var k=[],l=null;for(g=b;c>=g;g++){e=d[g],f=e.boundary;var m=f.x2>a.x2?f:a;l===m?k[k.length-1].end=e.end:(k.push({start:e.start,end:e.end,boundary:m}),l=m)}for(d[b].start<a.y1&&(k[0].start=a.y1,k.unshift({start:d[b].start,end:a.y1,boundary:d[b].boundary})),a.y2<d[c].end&&(k[k.length-1].end=a.y2,k.push({start:a.y2,end:d[c].end,boundary:d[c].boundary})),g=b;c>=g;g++)if(e=d[g],f=e.boundary,void 0===f.x2New){var n=!1;for(h=b-1;!n&&h>=0&&d[h].start>=f.y1;h--)n=d[h].boundary===f;for(h=c+1;!n&&h<d.length&&d[h].end<=f.y2;h++)n=d[h].boundary===f;for(h=0;!n&&h<k.length;h++)n=k[h].boundary===f;n||(f.x2New=i)}Array.prototype.splice.apply(d,[b,c-b+1].concat(k))}),d.forEach(function(b){var c=b.boundary;void 0===c.x2New&&(c.x2New=Math.max(a,c.x2))})}function i(a){var b=a.textContent,c=a.textContentStream,e=a.container,f=a.viewport,g=a.textDivs,h=a.textContentItemsStr,i=a.enhanceTextSelection;this._textContent=b,this._textContentStream=c,this._container=e,this._viewport=f,this._textDivs=g||[],this._textContentItemsStr=h||[],this._enhanceTextSelection=!!i,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=d.createPromiseCapability(),this._renderTimer=null,this._bounds=[]}function j(a){var b=new i({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return b._render(a.timeout),b}var k=1e5,l=/\S/,m=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];return i.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new d.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(a,c){for(var d=0,e=a.length;e>d;d++)this._textContentItemsStr.push(a[d].str),b(this,a[d],c)},_layoutText:function(a){var b=this._container,c=this._textDivProperties.get(a);if(!c.isWhitespace){var d=a.style.fontSize,f=a.style.fontFamily;(d!==this._layoutTextLastFontSize||f!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=d+" "+f,this._lastFontSize=d,this._lastFontFamily=f);var g=this._layoutTextCtx.measureText(a.textContent).width,h="";0!==c.canvasWidth&&g>0&&(c.scale=c.canvasWidth/g,h="scaleX("+c.scale+")"),0!==c.angle&&(h="rotate("+c.angle+"deg) "+h),""!==h&&(c.originalTransform=h,e.CustomStyle.setProp("transform",a,h)),this._textDivProperties.set(a,c),b.appendChild(a)}},_render:function(a){var b=this,e=d.createPromiseCapability(),f=Object.create(null),g=document.createElement("canvas");if(g.mozOpaque=!0,this._layoutTextCtx=g.getContext("2d",{alpha:!1}),this._textContent){var h=this._textContent.items,i=this._textContent.styles;this._processItems(h,i),e.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var j=function k(){b._reader.read().then(function(a){var c=a.value,g=a.done;return g?void e.resolve():(d.Util.extendObj(f,c.styles),b._processItems(c.items,f),void k())},e.reject)};this._reader=this._textContentStream.getReader(),j()}e.promise.then(function(){f=null,a?b._renderTimer=setTimeout(function(){c(b),b._renderTimer=null},a):c(b)},this._capability.reject)},expandTextDivs:function(a){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(f(this),this._bounds=null);for(var b=0,c=this._textDivs.length;c>b;b++){var d=this._textDivs[b],g=this._textDivProperties.get(d);if(!g.isWhitespace)if(a){var h="",i="";1!==g.scale&&(h="scaleX("+g.scale+")"),0!==g.angle&&(h="rotate("+g.angle+"deg) "+h),0!==g.paddingLeft&&(i+=" padding-left: "+g.paddingLeft/g.scale+"px;",h+=" translateX("+-g.paddingLeft/g.scale+"px)"),0!==g.paddingTop&&(i+=" padding-top: "+g.paddingTop+"px;",h+=" translateY("+-g.paddingTop+"px)"),0!==g.paddingRight&&(i+=" padding-right: "+g.paddingRight/g.scale+"px;"),0!==g.paddingBottom&&(i+=" padding-bottom: "+g.paddingBottom+"px;"),""!==i&&d.setAttribute("style",g.style+i),""!==h&&e.CustomStyle.setProp("transform",d,h)}else d.style.padding=0,e.CustomStyle.setProp("transform",d,g.originalTransform||"")}}}},j}();b.renderTextLayer=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SVGGraphics=void 0;var d=c(0),e=c(15),f=function(){throw new Error("Not implemented: SVGGraphics")},g={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h=function(){function a(a,b,c){for(var d=-1,e=b;c>e;e++){var f=255&(d^a[e]),g=j[f];d=d>>>8^g}return-1^d}function b(b,c,d,e){var f=e,g=c.length;d[f]=g>>24&255,d[f+1]=g>>16&255,d[f+2]=g>>8&255,d[f+3]=255&g,f+=4,d[f]=255&b.charCodeAt(0),d[f+1]=255&b.charCodeAt(1),d[f+2]=255&b.charCodeAt(2),d[f+3]=255&b.charCodeAt(3),f+=4,d.set(c,f),f+=c.length;var h=a(d,e+4,f);d[f]=h>>24&255,d[f+1]=h>>16&255,d[f+2]=h>>8&255,d[f+3]=255&h}function c(a,b,c){for(var d=1,e=0,f=b;c>f;++f)d=(d+(255&a[f]))%65521,e=(e+d)%65521;return e<<16|d}function e(a){if(!d.isNodeJS())return f(a);try{var b;b=parseInt(process.versions.node)>=8?a:new Buffer(a);var c=require("zlib").deflateSync(b,{level:9});return c instanceof Uint8Array?c:new Uint8Array(c)}catch(e){d.warn("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return f(a)}function f(a){var b=a.length,d=65535,e=Math.ceil(b/d),f=new Uint8Array(2+b+5*e+4),g=0;f[g++]=120,f[g++]=156;for(var h=0;b>d;)f[g++]=0,f[g++]=255,f[g++]=255,f[g++]=0,f[g++]=0,f.set(a.subarray(h,h+d),g),g+=d,h+=d,b-=d;f[g++]=1,f[g++]=255&b,f[g++]=b>>8&255,f[g++]=65535&~b&255,f[g++]=(65535&~b)>>8&255,f.set(a.subarray(h),g),g+=a.length-h;var i=c(a,0,a.length);return f[g++]=i>>24&255,f[g++]=i>>16&255,f[g++]=i>>8&255,f[g++]=255&i,f}function g(a,c,f){var g,j,k,l=a.width,m=a.height,n=a.data;switch(c){case d.ImageKind.GRAYSCALE_1BPP:j=0,g=1,k=l+7>>3;break;case d.ImageKind.RGB_24BPP:j=2,g=8,k=3*l;break;case d.ImageKind.RGBA_32BPP:j=6,g=8,k=4*l;break;default:throw new Error("invalid format")}var o,p,q=new Uint8Array((1+k)*m),r=0,s=0;for(o=0;m>o;++o)q[r++]=0,q.set(n.subarray(s,s+k),r),s+=k,r+=k;if(c===d.ImageKind.GRAYSCALE_1BPP)for(r=0,o=0;m>o;o++)for(r++,p=0;k>p;p++)q[r++]^=255;var t=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,m>>24&255,m>>16&255,m>>8&255,255&m,g,j,0,0,0]),u=e(q),v=h.length+3*i+t.length+u.length,w=new Uint8Array(v),x=0;return w.set(h,x),x+=h.length,b("IHDR",t,w,x),x+=i+t.length,b("IDATA",u,w,x),x+=i+u.length,b("IEND",new Uint8Array(0),w,x),d.createObjectURL(w,"image/png",f)}for(var h=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,j=new Int32Array(256),k=0;256>k;k++){
for(var l=k,m=0;8>m;m++)l=1&l?3988292384^l>>1&2147483647:l>>1&2147483647;j[k]=l}return function(a,b){var c=void 0===a.kind?d.ImageKind.GRAYSCALE_1BPP:a.kind;return g(a,c,b)}}(),i=function(){function a(){this.fontSizeScale=1,this.fontWeight=g.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=g.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}();b.SVGGraphics=f=function(){function a(a){for(var b=[],c=[],d=a.length,e=0;d>e;e++)"save"!==a[e].fn?"restore"===a[e].fn?b=c.pop():b.push(a[e]):(b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items);return b}function b(a){if(Number.isInteger(a))return a.toString();var b=a.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c]);return b.substr(0,"."===b[c]?c:c+1)}function c(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":"scale("+b(a[0])+" "+b(a[3])+")";if(a[0]===a[3]&&a[1]===-a[2]){var c=180*Math.acos(a[0])/Math.PI;return"rotate("+b(c)+")"}}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return"translate("+b(a[4])+" "+b(a[5])+")";return"matrix("+b(a[0])+" "+b(a[1])+" "+b(a[2])+" "+b(a[3])+" "+b(a[4])+" "+b(a[5])+")"}function f(a,b,c){this.svgFactory=new e.DOMSVGFactory,this.current=new i,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=a,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!c}var j="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/1999/xlink",l=["butt","round","square"],m=["miter","round","bevel"],n=0,o=0;return f.prototype={save:function(){this.transformStack.push(this.transformMatrix);var a=this.current;this.extraStack.push(a),this.current=a.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(a){this.save(),this.executeOpTree(a),this.restore()},loadDependencies:function(a){for(var b=this,c=a.fnArray,e=c.length,f=a.argsArray,g=0;e>g;g++)if(d.OPS.dependency===c[g])for(var h=f[g],i=0,j=h.length;j>i;i++){var k,l=h[i],m="g_"===l.substring(0,2);k=m?new Promise(function(a){b.commonObjs.get(l,a)}):new Promise(function(a){b.objs.get(l,a)}),this.current.dependencies.push(k)}return Promise.all(this.current.dependencies)},transform:function(a,b,c,e,f,g){var h=[a,b,c,e,f,g];this.transformMatrix=d.Util.transform(this.transformMatrix,h),this.tgrp=null},getSVG:function(a,b){var c=this;this.viewport=b;var e=this._initialize(b);return this.loadDependencies(a).then(function(){c.transformMatrix=d.IDENTITY_MATRIX;var b=c.convertOpList(a);return c.executeOpTree(b),e})},convertOpList:function(b){var c=b.argsArray,e=b.fnArray,f=e.length,g=[],h=[];for(var i in d.OPS)g[d.OPS[i]]=i;for(var j=0;f>j;j++){var k=e[j];h.push({fnId:k,fn:g[k],args:c[j]})}return a(h)},executeOpTree:function(a){for(var b=a.length,c=0;b>c;c++){var e=a[c].fn,f=a[c].fnId,g=a[c].args;switch(0|f){case d.OPS.beginText:this.beginText();break;case d.OPS.setLeading:this.setLeading(g);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(g[0],g[1]);break;case d.OPS.setFont:this.setFont(g);break;case d.OPS.showText:this.showText(g[0]);break;case d.OPS.showSpacedText:this.showText(g[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(g[0],g[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(g[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(g[0]);break;case d.OPS.setHScale:this.setHScale(g[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(g[0],g[1],g[2],g[3],g[4],g[5]);break;case d.OPS.setTextRise:this.setTextRise(g[0]);break;case d.OPS.setLineWidth:this.setLineWidth(g[0]);break;case d.OPS.setLineJoin:this.setLineJoin(g[0]);break;case d.OPS.setLineCap:this.setLineCap(g[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(g[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(g[0],g[1],g[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(g[0],g[1],g[2]);break;case d.OPS.setDash:this.setDash(g[0],g[1]);break;case d.OPS.setGState:this.setGState(g[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintJpegXObject:this.paintJpegXObject(g[0],g[1],g[2]);break;case d.OPS.paintImageXObject:this.paintImageXObject(g[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(g[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(g[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(g[0],g[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(g[0],g[1],g[2],g[3],g[4],g[5]);break;case d.OPS.constructPath:this.constructPath(g[0],g[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(a[c].items);break;default:d.warn("Unimplemented operator "+e)}}},setWordSpacing:function(a){this.current.wordSpacing=a},setCharSpacing:function(a){this.current.charSpacing=a},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,c,d,e,f,g){var h=this.current;this.current.textMatrix=this.current.lineMatrix=[a,c,d,e,f,g],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,h.xcoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",b(h.fontSize)+"px"),h.tspan.setAttributeNS(null,"y",b(-h.y)),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtElement.appendChild(h.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=d.IDENTITY_MATRIX,this.current.lineMatrix=d.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function(a,c){var d=this.current;this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=c,d.xcoords=[],d.tspan=this.svgFactory.createElement("svg:tspan"),d.tspan.setAttributeNS(null,"font-family",d.fontFamily),d.tspan.setAttributeNS(null,"font-size",b(d.fontSize)+"px"),d.tspan.setAttributeNS(null,"y",b(-d.y))},showText:function(a){var e=this.current,f=e.font,h=e.fontSize;if(0!==h){var i,k=e.charSpacing,l=e.wordSpacing,m=e.fontDirection,n=e.textHScale*m,o=a.length,p=f.vertical,q=h*e.fontMatrix[0],r=0;for(i=0;o>i;++i){var s=a[i];if(null!==s)if(d.isNum(s))r+=-s*h*.001;else{var t=s.width,u=s.fontChar,v=(s.isSpace?l:0)+k,w=t*q+v*m;s.isInFont||f.missingFile?(e.xcoords.push(e.x+r*n),e.tspan.textContent+=u,r+=w):r+=w}else r+=m*l}p?e.y-=r*n:e.x+=r*n,e.tspan.setAttributeNS(null,"x",e.xcoords.map(b).join(" ")),e.tspan.setAttributeNS(null,"y",b(-e.y)),e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size",b(e.fontSize)+"px"),e.fontStyle!==g.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==g.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight),e.fillColor!==g.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor);var x=e.textMatrix;0!==e.textRise&&(x=x.slice(),x[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform",c(x)+" scale(1, -1)"),e.txtElement.setAttributeNS(j,"xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},addFontStyle:function(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var b=d.createObjectURL(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+a.loadedName+'"; src: url('+b+"); }\n"},setFont:function(a){var c=this.current,e=this.commonObjs.get(a[0]),f=a[1];this.current.font=e,this.embedFonts&&e.data&&!this.embeddedFonts[e.loadedName]&&(this.addFontStyle(e),this.embeddedFonts[e.loadedName]=e),c.fontMatrix=e.fontMatrix?e.fontMatrix:d.FONT_IDENTITY_MATRIX;var g=e.black?e.bold?"bolder":"bold":e.bold?"bold":"normal",h=e.italic?"italic":"normal";0>f?(f=-f,c.fontDirection=-1):c.fontDirection=1,c.fontSize=f,c.fontFamily=e.loadedName,c.fontWeight=g,c.fontStyle=h,c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"y",b(-c.y)),c.xcoords=[]},endText:function(){},setLineWidth:function(a){this.current.lineWidth=a},setLineCap:function(a){this.current.lineCap=l[a]},setLineJoin:function(a){this.current.lineJoin=m[a]},setMiterLimit:function(a){this.current.miterLimit=a},setStrokeAlpha:function(a){this.current.strokeAlpha=a},setStrokeRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.current.strokeColor=e},setFillAlpha:function(a){this.current.fillAlpha=a},setFillRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.current.fillColor=e,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function(a,b){this.current.dashArray=a,this.current.dashPhase=b},constructPath:function(a,c){var e=this.current,f=e.x,g=e.y;e.path=this.svgFactory.createElement("svg:path");for(var h=[],i=a.length,j=0,k=0;i>j;j++)switch(0|a[j]){case d.OPS.rectangle:f=c[k++],g=c[k++];var l=c[k++],m=c[k++],n=f+l,o=g+m;h.push("M",b(f),b(g),"L",b(n),b(g),"L",b(n),b(o),"L",b(f),b(o),"Z");break;case d.OPS.moveTo:f=c[k++],g=c[k++],h.push("M",b(f),b(g));break;case d.OPS.lineTo:f=c[k++],g=c[k++],h.push("L",b(f),b(g));break;case d.OPS.curveTo:f=c[k+4],g=c[k+5],h.push("C",b(c[k]),b(c[k+1]),b(c[k+2]),b(c[k+3]),b(f),b(g)),k+=6;break;case d.OPS.curveTo2:f=c[k+2],g=c[k+3],h.push("C",b(f),b(g),b(c[k]),b(c[k+1]),b(c[k+2]),b(c[k+3])),k+=4;break;case d.OPS.curveTo3:f=c[k+2],g=c[k+3],h.push("C",b(c[k]),b(c[k+1]),b(f),b(g),b(f),b(g)),k+=4;break;case d.OPS.closePath:h.push("Z")}e.path.setAttributeNS(null,"d",h.join(" ")),e.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(e.path),e.element=e.path,e.setCurrentPoint(f,g)},endPath:function(){if(this.pendingClip){var a=this.current,b="clippath"+n;n++;var d=this.svgFactory.createElement("svg:clipPath");d.setAttributeNS(null,"id",b),d.setAttributeNS(null,"transform",c(this.transformMatrix));var e=a.element.cloneNode();"evenodd"===this.pendingClip?e.setAttributeNS(null,"clip-rule","evenodd"):e.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,d.appendChild(e),this.defs.appendChild(d),a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null})),a.activeClipUrl="url(#"+b+")",this.tgrp=null}},clip:function(a){this.pendingClip=a},closePath:function(){var a=this.current,b=a.path.getAttributeNS(null,"d");b+="Z",a.path.setAttributeNS(null,"d",b)},setLeading:function(a){this.current.leading=-a},setTextRise:function(a){this.current.textRise=a},setHScale:function(a){this.current.textHScale=a/100},setGState:function(a){for(var b=0,c=a.length;c>b;b++){var e=a[b],f=e[0],g=e[1];switch(f){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"Font":this.setFont(g);break;case"CA":this.setStrokeAlpha(g);break;case"ca":this.setFillAlpha(g);break;default:d.warn("Unimplemented graphic state "+f)}}},fill:function(){var a=this.current;a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha)},stroke:function(){var a=this.current;a.element.setAttributeNS(null,"stroke",a.strokeColor),a.element.setAttributeNS(null,"stroke-opacity",a.strokeAlpha),a.element.setAttributeNS(null,"stroke-miterlimit",b(a.miterLimit)),a.element.setAttributeNS(null,"stroke-linecap",a.lineCap),a.element.setAttributeNS(null,"stroke-linejoin",a.lineJoin),a.element.setAttributeNS(null,"stroke-width",b(a.lineWidth)+"px"),a.element.setAttributeNS(null,"stroke-dasharray",a.dashArray.map(b).join(" ")),a.element.setAttributeNS(null,"stroke-dashoffset",b(a.dashPhase)+"px"),a.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var a=this.current,b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",a.fillColor),this._ensureTransformGroup().appendChild(b)},paintJpegXObject:function(a,c,d){var e=this.objs.get(a),f=this.svgFactory.createElement("svg:image");f.setAttributeNS(k,"xlink:href",e.src),f.setAttributeNS(null,"width",b(c)),f.setAttributeNS(null,"height",b(d)),f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y",b(-d)),f.setAttributeNS(null,"transform","scale("+b(1/c)+" "+b(-1/d)+")"),this._ensureTransformGroup().appendChild(f)},paintImageXObject:function(a){var b=this.objs.get(a);return b?void this.paintInlineImageXObject(b):void d.warn("Dependent image isn't ready yet")},paintInlineImageXObject:function(a,c){var d=a.width,e=a.height,f=h(a,this.forceDataSchema),g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width",b(d)),g.setAttributeNS(null,"height",b(e)),this.current.element=g,this.clip("nonzero");var i=this.svgFactory.createElement("svg:image");i.setAttributeNS(k,"xlink:href",f),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",b(-e)),i.setAttributeNS(null,"width",b(d)+"px"),i.setAttributeNS(null,"height",b(e)+"px"),i.setAttributeNS(null,"transform","scale("+b(1/d)+" "+b(-1/e)+")"),c?c.appendChild(i):this._ensureTransformGroup().appendChild(i)},paintImageMaskXObject:function(a){var c=this.current,d=a.width,e=a.height,f=c.fillColor;c.maskId="mask"+o++;var g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",c.maskId);var h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width",b(d)),h.setAttributeNS(null,"height",b(e)),h.setAttributeNS(null,"fill",f),h.setAttributeNS(null,"mask","url(#"+c.maskId+")"),this.defs.appendChild(g),this._ensureTransformGroup().appendChild(h),this.paintInlineImageXObject(a,g)},paintFormXObjectBegin:function(a,c){if(Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),Array.isArray(c)&&4===c.length){var d=c[2]-c[0],e=c[3]-c[1],f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c[0]),f.setAttributeNS(null,"y",c[1]),f.setAttributeNS(null,"width",b(d)),f.setAttributeNS(null,"height",b(e)),this.current.element=f,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(a){var b=this.svgFactory.create(a.width,a.height),d=this.svgFactory.createElement("svg:defs");b.appendChild(d),this.defs=d;var e=this.svgFactory.createElement("svg:g");return e.setAttributeNS(null,"transform",c(a.transform)),b.appendChild(e),this.svg=e,b},_ensureClipGroup:function(){if(!this.current.clipGroup){var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},f}(),b.SVGGraphics=f},function(a,b,c){"use strict";var d=c(0),e=c(118),f=c(69),g=c(73),h=c(72),i=c(15),j=c(74);if(d.isNodeJS()){var k=c(124).PDFNodeStream;f.setPDFNetworkStreamClass(k)}else if("undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream){var l=c(125).PDFFetchStream;f.setPDFNetworkStreamClass(l)}else{var m=c(126).PDFNetworkStream;f.setPDFNetworkStreamClass(m)}b.PDFJS=e.PDFJS,b.build=f.build,b.version=f.version,b.getDocument=f.getDocument,b.LoopbackPort=f.LoopbackPort,b.PDFDataRangeTransport=f.PDFDataRangeTransport,b.PDFWorker=f.PDFWorker,b.renderTextLayer=g.renderTextLayer,b.AnnotationLayer=h.AnnotationLayer,b.CustomStyle=i.CustomStyle,b.createPromiseCapability=d.createPromiseCapability,b.PasswordResponses=d.PasswordResponses,b.InvalidPDFException=d.InvalidPDFException,b.MissingPDFException=d.MissingPDFException,b.SVGGraphics=j.SVGGraphics,b.NativeImageDecoding=d.NativeImageDecoding,b.UnexpectedResponseException=d.UnexpectedResponseException,b.OPS=d.OPS,b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES,b.isValidUrl=i.isValidUrl,b.createValidAbsoluteUrl=d.createValidAbsoluteUrl,b.createObjectURL=d.createObjectURL,b.removeNullCharacters=d.removeNullCharacters,b.shadow=d.shadow,b.createBlob=d.createBlob,b.RenderingCancelledException=i.RenderingCancelledException,b.getFilenameFromUrl=i.getFilenameFromUrl,b.addLinkAttributes=i.addLinkAttributes,b.StatTimer=d.StatTimer},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var e=c(20),f="undefined"!=typeof navigator&&navigator.userAgent||"",g=/Android/.test(f),h=/Android\s[0-2][^\d]/.test(f),i=/Android\s[0-4][^\d]/.test(f),j=f.indexOf("Chrom")>=0,k=/Chrome\/(39|40)\./.test(f),l=f.indexOf("CriOS")>=0,m=f.indexOf("Trident")>=0,n=/\b(iPad|iPhone|iPod)(?=;)/.test(f),o=f.indexOf("Opera")>=0,p=/Safari\//.test(f)&&!/(Chrome\/|Android\s)/.test(f),q="object"===("undefined"==typeof window?"undefined":d(window))&&"object"===("undefined"==typeof document?"undefined":d(document));"undefined"==typeof PDFJS&&(e.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){function a(a,b){return new i(this.slice(a,b))}function b(a,b){arguments.length<2&&(b=0);for(var c=0,d=a.length;d>c;++c,++b)this[b]=255&a[c]}function f(a,b){this.buffer=a,this.byteLength=a.length,this.length=b,h(this.length)}function g(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=this.buffer,d=a<<2;c[d]=255&b,c[d+1]=b>>8&255,c[d+2]=b>>16&255,c[d+3]=b>>>24&255}}}function h(a){for(;a>j;)Object.defineProperty(f.prototype,j,g(j)),j++}function i(c){var e,f,g;if("number"==typeof c)for(e=[],f=0;c>f;++f)e[f]=0;else if("slice"in c)e=c.slice(0);else for(e=[],f=0,g=c.length;g>f;++f)e[f]=c[f];return e.subarray=a,e.buffer=e,e.byteLength=e.length,e.set=b,"object"===("undefined"==typeof c?"undefined":d(c))&&c.buffer&&(e.buffer=c.buffer),e}if("undefined"==typeof Uint8ClampedArray&&(e.Uint8ClampedArray=c(77)),"undefined"!=typeof Uint8Array)return"undefined"==typeof Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(a,b){return new Uint8Array(this.slice(a,b))},Float32Array.prototype.subarray=function(a,b){return new Float32Array(this.slice(a,b))}),void("undefined"==typeof Float64Array&&(e.Float64Array=Float32Array));f.prototype=Object.create(null);var j=0;e.Uint8Array=i,e.Int8Array=i,e.Int32Array=i,e.Uint16Array=i,e.Float32Array=i,e.Float64Array=i,e.Uint32Array=function(){if(3===arguments.length){if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new f(arguments[0],arguments[2])}return i.apply(this,arguments)}}(),function(){if(q&&window.CanvasPixelArray){var a=window.CanvasPixelArray.prototype;"buffer"in a||(Object.defineProperty(a,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(a,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),function(){e.URL||(e.URL=e.webkitURL)}(),function(){if("undefined"!=typeof Object.defineProperty){var a=!0;try{q&&Object.defineProperty(new Image,"id",{value:"test"});var b=function(){};b.prototype={get id(){}},Object.defineProperty(new b,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(c){a=!1}if(a)return}Object.defineProperty=function(a,b,c){delete a[b],"get"in c&&a.__defineGetter__(b,c.get),"set"in c&&a.__defineSetter__(b,c.set),"value"in c&&(a.__defineSetter__(b,function(a){return this.__defineGetter__(b,function(){return a}),a}),a[b]=c.value)}}(),function(){if("undefined"!=typeof XMLHttpRequest){var a=XMLHttpRequest.prototype,b=new XMLHttpRequest;if("overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(a){}}),!("responseType"in b))return Object.defineProperty(a,"responseType",{get:function(){return this._responseType||"text"},set:function(a){("text"===a||"arraybuffer"===a)&&(this._responseType=a,"arraybuffer"===a&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?void Object.defineProperty(a,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}):void Object.defineProperty(a,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var a,b=this.responseText,c=b.length,d=new Uint8Array(c);for(a=0;c>a;++a)d[a]=255&b.charCodeAt(a);return d.buffer}})}}(),function(){if(!("btoa"in e)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.btoa=function(b){var c,d,e="";for(c=0,d=b.length;d>c;c+=3){var f=255&b.charCodeAt(c),g=255&b.charCodeAt(c+1),h=255&b.charCodeAt(c+2),i=f>>2,j=(3&f)<<4|g>>4,k=d>c+1?(15&g)<<2|h>>6:64,l=d>c+2?63&h:64;e+=a.charAt(i)+a.charAt(j)+a.charAt(k)+a.charAt(l)}return e}}}(),function(){if(!("atob"in e)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=function(b){if(b=b.replace(/=+$/,""),b.length%4===1)throw new Error("bad atob input");for(var c,d,e=0,f=0,g="";d=b.charAt(f++);~d&&(c=e%4?64*c+d:d,e++%4)?g+=String.fromCharCode(255&c>>(-2*e&6)):0)d=a.indexOf(d);return g}}}(),function(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments,1),d=function(){var d=c.concat(Array.prototype.slice.call(arguments));return b.apply(a,d)};return d})}(),function(){if(q){var a=document.createElement("div");"dataset"in a||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var a={},b=0,c=this.attributes.length;c>b;b++){var d=this.attributes[b];if("data-"===d.name.substring(0,5)){var e=d.name.substring(5).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()});a[e]=d.value}}return Object.defineProperty(this,"_dataset",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}(),function(){function a(a,b,c,d){var e=a.className||"",f=e.split(/\s+/g);""===f[0]&&f.shift();var g=f.indexOf(b);return 0>g&&c&&f.push(b),g>=0&&d&&f.splice(g,1),a.className=f.join(" "),g>=0}if(q){var b=document.createElement("div");if(!("classList"in b)){var c={add:function(b){a(this.element,b,!0,!1)},contains:function(b){return a(this.element,b,!1,!1)},remove:function(b){a(this.element,b,!1,!0)},toggle:function(b){a(this.element,b,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var a=Object.create(c,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}}(),function(){if(!("undefined"==typeof importScripts||"console"in e)){var a={},b={log:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_log",data:a})},error:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_error",data:a})},time:function(b){a[b]=Date.now()},timeEnd:function(b){var c=a[b];if(!c)throw new Error("Unknown timer name "+b);this.log("Timer:",b,Date.now()-c)}};e.console=b}}(),function(){return q?"console"in window?"bind"in console.log?void 0:(console.log=function(a){return function(b){return a(b)}}(console.log),console.error=function(a){return function(b){return a(b)}}(console.error),void(console.warn=function(a){return function(b){return a(b)}}(console.warn))):void(window.console={log:function(){},error:function(){},warn:function(){}}):void 0}(),function(){function a(a){b(a.target)&&a.stopPropagation()}function b(a){return a.disabled||a.parentNode&&b(a.parentNode)}o&&document.addEventListener("click",a,!0)}(),function(){(m||l)&&(PDFJS.disableCreateObjectURL=!0)}(),function(){"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US"))}(),function(){(p||h||k||n)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){q&&(!history.pushState||h)&&(PDFJS.disableHistory=!0)}(),function(){if(q)if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(a){for(var b=0,c=this.length;c>b;b++)this[b]=a[b]});else{var a,b=!1;if(j?(a=f.match(/Chrom(e|ium)\/([0-9]+)\./),b=a&&parseInt(a[2])<21):g?b=i:p&&(a=f.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),b=a&&parseInt(a[1])<6),b){var c=window.CanvasRenderingContext2D.prototype,d=c.createImageData;c.createImageData=function(a,b){var c=d.call(this,a,b);return c.data.set=function(a){for(var b=0,c=this.length;c>b;b++)this[b]=a[b]},c},c=null}}}(),function(){function a(){window.requestAnimationFrame=function(a){return window.setTimeout(a,20)},window.cancelAnimationFrame=function(a){window.clearTimeout(a)}}if(q)return n?void a():void("requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||a()))}(),function(){(n||g)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){q&&m&&window.parent!==window&&(PDFJS.disableFullscreen=!0)}(),function(){q&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:!0,configurable:!0}))}(),function(){if(q){var a=document.createElement("input");try{a.type="number"}catch(b){var c=a.constructor.prototype,d=Object.getOwnPropertyDescriptor(c,"type");Object.defineProperty(c,"type",{get:function(){return d.get.call(this)},set:function(a){d.set.call(this,"number"===a?"text":a)},enumerable:!0,configurable:!0})}}}(),function(){if(q&&document.attachEvent){var a=document.constructor.prototype,b=Object.getOwnPropertyDescriptor(a,"readyState");Object.defineProperty(a,"readyState",{get:function(){var a=b.get.call(this);return"interactive"===a?"loading":a},set:function(a){b.set.call(this,a)},enumerable:!0,configurable:!0})}}(),function(){q&&"undefined"==typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){Number.isNaN||(Number.isNaN=c(89))}(),function(){Number.isInteger||(Number.isInteger=c(91))}(),function(){e.Promise||(e.Promise=c(94))}(),function(){e.WeakMap||(e.WeakMap=c(104))}(),function(){function a(a){return void 0!==n[a]}function b(){i.call(this),this._isInvalid=!0}function c(a){return""===a&&b.call(this),a.toLowerCase()}function f(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function g(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function h(d,e,h){function i(a){t.push(a)}var j=e||"scheme start",k=0,l="",m=!1,s=!1,t=[];a:for(;(d[k-1]!==p||0===k)&&!this._isInvalid;){var u=d[k];switch(j){case"scheme start":if(!u||!q.test(u)){if(e){i("Invalid scheme.");break a}l="",j="no scheme";continue}l+=u.toLowerCase(),j="scheme";break;case"scheme":if(u&&r.test(u))l+=u.toLowerCase();else{if(":"!==u){if(e){if(u===p)break a;i("Code point not allowed in scheme: "+u);break a}l="",k=0,j="no scheme";continue}if(this._scheme=l,l="",e)break a;a(this._scheme)&&(this._isRelative=!0),j="file"===this._scheme?"relative":this._isRelative&&h&&h._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===u?(this._query="?",j="query"):"#"===u?(this._fragment="#",j="fragment"):u!==p&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._schemeData+=f(u));break;case"no scheme":if(h&&a(h._scheme)){j="relative";continue}i("Missing scheme."),b.call(this);break;case"relative or authority":if("/"!==u||"/"!==d[k+1]){i("Expected /, got: "+u),j="relative";continue}j="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=h._scheme),u===p){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._username=h._username,this._password=h._password;break a}if("/"===u||"\\"===u)"\\"===u&&i("\\ is an invalid code point."),j="relative slash";else if("?"===u)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query="?",this._username=h._username,this._password=h._password,j="query";else{if("#"!==u){var v=d[k+1],w=d[k+2];("file"!==this._scheme||!q.test(u)||":"!==v&&"|"!==v||w!==p&&"/"!==w&&"\\"!==w&&"?"!==w&&"#"!==w)&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password,this._path=h._path.slice(),this._path.pop()),j="relative path";continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment="#",this._username=h._username,this._password=h._password,j="fragment"}break;case"relative slash":if("/"!==u&&"\\"!==u){"file"!==this._scheme&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password),j="relative path";continue}"\\"===u&&i("\\ is an invalid code point."),j="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==u){i("Expected '/', got: "+u),j="authority ignore slashes";continue}j="authority second slash";break;case"authority second slash":if(j="authority ignore slashes","/"!==u){i("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!==u&&"\\"!==u){j="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"===u){m&&(i("@ already seen."),l+="%40"),m=!0;for(var x=0;x<l.length;x++){var y=l[x];if("	"!==y&&"\n"!==y&&"\r"!==y)if(":"!==y||null!==this._password){var z=f(y);null!==this._password?this._password+=z:this._username+=z}else this._password="";else i("Invalid whitespace in authority.")}l=""}else{if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u){k-=l.length,l="",j="host";continue}l+=u}break;case"file host":if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u){2!==l.length||!q.test(l[0])||":"!==l[1]&&"|"!==l[1]?0===l.length?j="relative path start":(this._host=c.call(this,l),
l="",j="relative path start"):j="relative path";continue}"	"===u||"\n"===u||"\r"===u?i("Invalid whitespace in file host."):l+=u;break;case"host":case"hostname":if(":"!==u||s){if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u){if(this._host=c.call(this,l),l="",j="relative path start",e)break a;continue}"	"!==u&&"\n"!==u&&"\r"!==u?("["===u?s=!0:"]"===u&&(s=!1),l+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=c.call(this,l),l="",j="port","hostname"===e)break a;break;case"port":if(/[0-9]/.test(u))l+=u;else{if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u||e){if(""!==l){var A=parseInt(l,10);A!==n[this._scheme]&&(this._port=A+""),l=""}if(e)break a;j="relative path start";continue}"	"===u||"\n"===u||"\r"===u?i("Invalid code point in port: "+u):b.call(this)}break;case"relative path start":if("\\"===u&&i("'\\' not allowed in path."),j="relative path","/"!==u&&"\\"!==u)continue;break;case"relative path":if(u!==p&&"/"!==u&&"\\"!==u&&(e||"?"!==u&&"#"!==u))"	"!==u&&"\n"!==u&&"\r"!==u&&(l+=f(u));else{"\\"===u&&i("\\ not allowed in relative path.");var B;(B=o[l.toLowerCase()])&&(l=B),".."===l?(this._path.pop(),"/"!==u&&"\\"!==u&&this._path.push("")):"."===l&&"/"!==u&&"\\"!==u?this._path.push(""):"."!==l&&("file"===this._scheme&&0===this._path.length&&2===l.length&&q.test(l[0])&&"|"===l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"===u?(this._query="?",j="query"):"#"===u&&(this._fragment="#",j="fragment")}break;case"query":e||"#"!==u?u!==p&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._query+=g(u)):(this._fragment="#",j="fragment");break;case"fragment":u!==p&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._fragment+=u)}k++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function j(a,b){void 0===b||b instanceof j||(b=new j(String(b))),this._url=a,i.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");h.call(this,c,null,b)}var k=!1;try{if("function"==typeof URL&&"object"===d(URL.prototype)&&"origin"in URL.prototype){var l=new URL("b","http://a");l.pathname="c%20d",k="http://a/c%20d"===l.href}}catch(m){}if(!k){var n=Object.create(null);n.ftp=21,n.file=0,n.gopher=70,n.http=80,n.https=443,n.ws=80,n.wss=443;var o=Object.create(null);o["%2e"]=".",o[".%2e"]="..",o["%2e."]="..",o["%2e%2e"]="..";var p,q=/[a-zA-Z]/,r=/[a-zA-Z0-9\+\-\.]/;j.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";return(""!==this._username||null!==this._password)&&(a=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){i.call(this),h.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||h.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],h.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),h.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),h.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new j(this._schemeData).origin||"null"}catch(b){}return"null"}return a=this.host,a?this._scheme+"://"+a:""}};var s=e.URL;s&&(j.createObjectURL=function(a){return s.createObjectURL.apply(s,arguments)},j.revokeObjectURL=function(a){s.revokeObjectURL(a)}),e.URL=j}}()}},function(a,b,c){"use strict";c(78),a.exports=c(4).Uint8ClampedArray},function(a,b,c){"use strict";c(79)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if(c(8)){var e=c(21),f=c(1),g=c(9),h=c(5),i=c(46),j=c(80),k=c(11),l=c(24),m=c(27),n=c(6),o=c(23),p=c(17),q=c(12),r=c(47),s=c(29),t=c(33),u=c(10),v=c(30),w=c(2),x=c(18),y=c(53),z=c(54),A=c(56),B=c(48).f,C=c(57),D=c(16),E=c(3),F=c(39),G=c(50),H=c(40),I=c(58),J=c(19),K=c(41),L=c(60),M=c(52),N=c(88),O=c(13),P=c(61),Q=O.f,R=P.f,S=f.RangeError,T=f.TypeError,U=f.Uint8Array,V="ArrayBuffer",W="Shared"+V,X="BYTES_PER_ELEMENT",Y="prototype",Z=Array[Y],$=j.ArrayBuffer,_=j.DataView,aa=F(0),ba=F(2),ca=F(3),da=F(4),ea=F(5),fa=F(6),ga=G(!0),ha=G(!1),ia=I.values,ja=I.keys,ka=I.entries,la=Z.lastIndexOf,ma=Z.reduce,na=Z.reduceRight,oa=Z.join,pa=Z.sort,qa=Z.slice,ra=Z.toString,sa=Z.toLocaleString,ta=E("iterator"),ua=E("toStringTag"),va=D("typed_constructor"),wa=D("def_constructor"),xa=i.CONSTR,ya=i.TYPED,za=i.VIEW,Aa="Wrong length!",Ba=F(1,function(a,b){return Ga(H(a,a[wa]),b)}),Ca=g(function(){return 1===new U(new Uint16Array([1]).buffer)[0]}),Da=!!U&&!!U[Y].set&&g(function(){new U(1).set({})}),Ea=function(a,b){var c=p(a);if(0>c||c%b)throw S("Wrong offset!");return c},Fa=function(a){if(w(a)&&ya in a)return a;throw T(a+" is not a typed array!")},Ga=function(a,b){if(!(w(a)&&va in a))throw T("It is not a typed array constructor!");return new a(b)},Ha=function(a,b){return Ia(H(a,a[wa]),b)},Ia=function(a,b){for(var c=0,d=b.length,e=Ga(a,d);d>c;)e[c]=b[c++];return e},Ja=function(a,b,c){Q(a,b,{get:function(){return this._d[c]}})},Ka=function(a){var b,c,d,e,f,g,h=x(a),i=arguments.length,j=i>1?arguments[1]:void 0,l=void 0!==j,m=C(h);if(void 0!=m&&!y(m)){for(g=m.call(h),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&i>2&&(j=k(j,arguments[2],2)),b=0,c=q(h.length),e=Ga(this,c);c>b;b++)e[b]=l?j(h[b],b):h[b];return e},La=function(){for(var a=0,b=arguments.length,c=Ga(this,b);b>a;)c[a]=arguments[a++];return c},Ma=!!U&&g(function(){sa.call(new U(1))}),Na=function(){return sa.apply(Ma?qa.call(Fa(this)):Fa(this),arguments)},Oa={copyWithin:function(a,b){return N.call(Fa(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return da(Fa(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return M.apply(Fa(this),arguments)},filter:function(a){return Ha(this,ba(Fa(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return ea(Fa(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return fa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){aa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return ha(Fa(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return ga(Fa(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return oa.apply(Fa(this),arguments)},lastIndexOf:function(a){return la.apply(Fa(this),arguments)},map:function(a){return Ba(Fa(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return ma.apply(Fa(this),arguments)},reduceRight:function(a){return na.apply(Fa(this),arguments)},reverse:function(){for(var a,b=this,c=Fa(b).length,d=Math.floor(c/2),e=0;d>e;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return ca(Fa(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return pa.call(Fa(this),a)},subarray:function(a,b){var c=Fa(this),d=c.length,e=s(a,d);return new(H(c,c[wa]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,q((void 0===b?d:s(b,d))-e))}},Pa=function(a,b){return Ha(this,qa.call(Fa(this),a,b))},Qa=function(a){Fa(this);var b=Ea(arguments[1],1),c=this.length,d=x(a),e=q(d.length),f=0;if(e+b>c)throw S(Aa);for(;e>f;)this[b+f]=d[f++]},Ra={entries:function(){return ka.call(Fa(this))},keys:function(){return ja.call(Fa(this))},values:function(){return ia.call(Fa(this))}},Sa=function(a,b){return w(a)&&a[ya]&&"symbol"!=("undefined"==typeof b?"undefined":d(b))&&b in a&&String(+b)==String(b)},Ta=function(a,b){return Sa(a,b=t(b,!0))?m(2,a[b]):R(a,b)},Ua=function(a,b,c){return!(Sa(a,b=t(b,!0))&&w(c)&&u(c,"value"))||u(c,"get")||u(c,"set")||c.configurable||u(c,"writable")&&!c.writable||u(c,"enumerable")&&!c.enumerable?Q(a,b,c):(a[b]=c.value,a)};xa||(P.f=Ta,O.f=Ua),h(h.S+h.F*!xa,"Object",{getOwnPropertyDescriptor:Ta,defineProperty:Ua}),g(function(){ra.call({})})&&(ra=sa=function(){return oa.call(this)});var Va=o({},Oa);o(Va,Ra),n(Va,ta,Ra.values),o(Va,{slice:Pa,set:Qa,constructor:function(){},toString:ra,toLocaleString:Na}),Ja(Va,"buffer","b"),Ja(Va,"byteOffset","o"),Ja(Va,"byteLength","l"),Ja(Va,"length","e"),Q(Va,ua,{get:function(){return this[ya]}}),a.exports=function(a,b,c,d){d=!!d;var j=a+(d?"Clamped":"")+"Array",k="get"+a,m="set"+a,o=f[j],p=o||{},s=o&&A(o),t=!o||!i.ABV,u={},x=o&&o[Y],y=function(a,c){var d=a._d;return d.v[k](c*b+d.o,Ca)},C=function(a,c,e){var f=a._d;d&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),f.v[m](c*b+f.o,e,Ca)},D=function(a,b){Q(a,b,{get:function(){return y(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};t?(o=c(function(a,c,d,e){l(a,o,j,"_d");var f,g,h,i,k=0,m=0;if(w(c)){if(!(c instanceof $||(i=v(c))==V||i==W))return ya in c?Ia(o,c):Ka.call(o,c);f=c,m=Ea(d,b);var p=c.byteLength;if(void 0===e){if(p%b)throw S(Aa);if(g=p-m,0>g)throw S(Aa)}else if(g=q(e)*b,g+m>p)throw S(Aa);h=g/b}else h=r(c),g=h*b,f=new $(g);for(n(a,"_d",{b:f,o:m,l:g,e:h,v:new _(f)});h>k;)D(a,k++)}),x=o[Y]=z(Va),n(x,"constructor",o)):g(function(){o(1)})&&g(function(){new o(-1)})&&K(function(a){new o,new o(null),new o(1.5),new o(a)},!0)||(o=c(function(a,c,d,e){l(a,o,j);var f;return w(c)?c instanceof $||(f=v(c))==V||f==W?void 0!==e?new p(c,Ea(d,b),e):void 0!==d?new p(c,Ea(d,b)):new p(c):ya in c?Ia(o,c):Ka.call(o,c):new p(r(c))}),aa(s!==Function.prototype?B(p).concat(B(s)):B(p),function(a){a in o||n(o,a,p[a])}),o[Y]=x,e||(x.constructor=o));var E=x[ta],F=!!E&&("values"==E.name||void 0==E.name),G=Ra.values;n(o,va,!0),n(x,ya,j),n(x,za,!0),n(x,wa,o),(d?new o(1)[ua]==j:ua in x)||Q(x,ua,{get:function(){return j}}),u[j]=o,h(h.G+h.W+h.F*(o!=p),u),h(h.S,j,{BYTES_PER_ELEMENT:b}),h(h.S+h.F*g(function(){p.of.call(o,1)}),j,{from:Ka,of:La}),X in x||n(x,X,b),h(h.P,j,Oa),L(j),h(h.P+h.F*Da,j,{set:Qa}),h(h.P+h.F*!F,j,Ra),e||x.toString==ra||(x.toString=ra),h(h.P+h.F*g(function(){new o(1).slice()}),j,{slice:Pa}),h(h.P+h.F*(g(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!g(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Na}),J[j]=F?E:G,e||F||n(x,ta,G)}}else a.exports=function(){}},function(a,b,c){"use strict";function d(a,b,c){var d,e,f,g=new Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?P(2,-24)-P(2,-77):0,l=0,m=0>a||0===a&&0>1/a?1:0;for(a=O(a),a!=a||a===M?(e=a!=a?1:0,d=i):(d=Q(R(a)/S),a*(f=P(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*P(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*P(2,b),d+=j):(e=a*P(2,j-1)*P(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g}function e(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-M:M;d+=P(2,b),k-=g}return(j?-1:1)*d*P(2,k-b)}function f(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function g(a){return[255&a]}function h(a){return[255&a,a>>8&255]}function i(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]}function j(a){return d(a,52,8)}function k(a){return d(a,23,4)}function l(a,b,c){A(a[F],b,{get:function(){return this[c]}})}function m(a,b,c,d){var e=+c,f=y(e);if(f+b>a[X])throw L(H);var g=a[W]._b,h=f+a[Y],i=g.slice(h,h+b);return d?i:i.reverse()}function n(a,b,c,d,e,f){var g=+c,h=y(g);if(h+b>a[X])throw L(H);for(var i=a[W]._b,j=h+a[Y],k=d(+e),l=0;b>l;l++)i[j+l]=k[f?l:b-l-1]}var o=c(1),p=c(8),q=c(21),r=c(46),s=c(6),t=c(23),u=c(9),v=c(24),w=c(17),x=c(12),y=c(47),z=c(48).f,A=c(13).f,B=c(52),C=c(26),D="ArrayBuffer",E="DataView",F="prototype",G="Wrong length!",H="Wrong index!",I=o[D],J=o[E],K=o.Math,L=o.RangeError,M=o.Infinity,N=I,O=K.abs,P=K.pow,Q=K.floor,R=K.log,S=K.LN2,T="buffer",U="byteLength",V="byteOffset",W=p?"_b":T,X=p?"_l":U,Y=p?"_o":V;if(r.ABV){if(!u(function(){I(1)})||!u(function(){new I(-1)})||u(function(){return new I,new I(1.5),new I(NaN),I.name!=D})){I=function(a){return v(this,I),new N(y(a))};for(var Z,$=I[F]=N[F],_=z(N),aa=0;_.length>aa;)(Z=_[aa++])in I||s(I,Z,N[Z]);q||($.constructor=I)}var ba=new J(new I(2)),ca=J[F].setInt8;ba.setInt8(0,2147483648),ba.setInt8(1,2147483649),(ba.getInt8(0)||!ba.getInt8(1))&&t(J[F],{setInt8:function(a,b){ca.call(this,a,b<<24>>24)},setUint8:function(a,b){ca.call(this,a,b<<24>>24)}},!0)}else I=function(a){v(this,I,D);var b=y(a);this._b=B.call(new Array(b),0),this[X]=b},J=function(a,b,c){v(this,J,E),v(a,I,E);var d=a[X],e=w(b);if(0>e||e>d)throw L("Wrong offset!");if(c=void 0===c?d-e:x(c),e+c>d)throw L(G);this[W]=a,this[Y]=e,this[X]=c},p&&(l(I,U,"_l"),l(J,T,"_b"),l(J,U,"_l"),l(J,V,"_o")),t(J[F],{getInt8:function(a){return m(this,1,a)[0]<<24>>24},getUint8:function(a){return m(this,1,a)[0]},getInt16:function(a){var b=m(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=m(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return f(m(this,4,a,arguments[1]))},getUint32:function(a){return f(m(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return e(m(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return e(m(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){n(this,1,a,g,b)},setUint8:function(a,b){n(this,1,a,g,b)},setInt16:function(a,b){n(this,2,a,h,b,arguments[2])},setUint16:function(a,b){n(this,2,a,h,b,arguments[2])},setInt32:function(a,b){n(this,4,a,i,b,arguments[2])},setUint32:function(a,b){n(this,4,a,i,b,arguments[2])},setFloat32:function(a,b){n(this,4,a,k,b,arguments[2])},setFloat64:function(a,b){n(this,8,a,j,b,arguments[2])}});C(I,D),C(J,E),s(J[F],r.VIEW,!0),b[D]=I,b[E]=J},function(a,b,c){"use strict";var d=c(13),e=c(7),f=c(38);a.exports=c(8)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){"use strict";var d=c(83);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){"use strict";var d=c(2),e=c(84),f=c(3)("species");a.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&(b=b[f],null===b&&(b=void 0))),void 0===b?Array:b}},function(a,b,c){"use strict";var d=c(25);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){"use strict";var d=c(3)("unscopables"),e=Array.prototype;void 0==e[d]&&c(6)(e,d,{}),a.exports=function(a){e[d][a]=!0}},function(a,b,c){"use strict";a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){"use strict";var d=c(54),e=c(27),f=c(26),g={};c(6)(g,c(3)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){"use strict";var d=c(18),e=c(29),f=c(12);a.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(h>i&&i+k>h&&(l=-1,i+=k-1,h+=k-1);k-->0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},function(a,b,c){"use strict";c(90),a.exports=c(4).Number.isNaN},function(a,b,c){"use strict";var d=c(5);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(a,b,c){"use strict";c(92),a.exports=c(4).Number.isInteger},function(a,b,c){"use strict";var d=c(5);d(d.S,"Number",{isInteger:c(93)})},function(a,b,c){"use strict";var d=c(2),e=Math.floor;a.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},function(a,b,c){"use strict";c(63),c(95),c(64),c(97),c(102),c(103),a.exports=c(4).Promise},function(a,b,c){"use strict";var d=c(96)(!0);c(59)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b,c){"use strict";var d=c(17),e=c(35);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},function(a,b,c){"use strict";var d,e,f,g,h=c(21),i=c(1),j=c(11),k=c(30),l=c(5),m=c(2),n=c(22),o=c(24),p=c(31),q=c(40),r=c(65).set,s=c(100)(),t=c(42),u=c(66),v=c(101),w=c(67),x="Promise",y=i.TypeError,z=i.process,A=z&&z.versions,B=A&&A.v8||"",C=i[x],D="process"==k(z),E=function(){},F=e=t.f,G=!!function(){try{var a=C.resolve(1),b=(a.constructor={})[c(3)("species")]=function(a){a(E,E)};return(D||"function"==typeof PromiseRejectionEvent)&&a.then(E)instanceof b&&0!==B.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(d){}}(),H=function(a){var b;return m(a)&&"function"==typeof(b=a.then)?b:!1},I=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g,h=e?b.ok:b.fail,i=b.resolve,j=b.reject,k=b.domain;try{h?(e||(2==a._h&&L(a),a._h=1),h===!0?c=d:(k&&k.enter(),c=h(d),k&&(k.exit(),g=!0)),c===b.promise?j(y("Promise-chain cycle")):(f=H(c))?f.call(c,i,j):i(c)):j(d)}catch(l){k&&!g&&k.exit(),j(l)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&J(a)})}},J=function(a){r.call(i,function(){var b,c,d,e=a._v,f=K(a);if(f&&(b=u(function(){D?z.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=D||K(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},K=function(a){return 1!==a._h&&0===(a._a||a._c).length},L=function(a){r.call(i,function(){var b;D?z.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},M=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),I(b,!0))},N=function O(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw y("Promise can't be resolved itself");(b=H(a))?s(function(){var d={_w:c,_d:!1};try{b.call(a,j(O,d,1),j(M,d,1))}catch(e){M.call(d,e)}}):(c._v=a,c._s=1,I(c,!1))}catch(d){M.call({_w:c,_d:!1},d)}}};G||(C=function(a){o(this,C,x,"_h"),n(a),d.call(this);try{a(j(N,this,1),j(M,this,1))}catch(b){M.call(this,b)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=c(23)(C.prototype,{then:function(a,b){var c=F(q(this,C));return c.ok="function"==typeof a?a:!0,c.fail="function"==typeof b&&b,c.domain=D?z.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&I(this,!1),c.promise},"catch":function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(N,a,1),this.reject=j(M,a,1)},t.f=F=function(a){return a===C||a===g?new f(a):e(a)}),l(l.G+l.W+l.F*!G,{Promise:C}),c(26)(C,x),c(60)(x),g=c(4)[x],l(l.S+l.F*!G,x,{reject:function(a){var b=F(this),c=b.reject;return c(a),b.promise}}),l(l.S+l.F*(h||!G),x,{resolve:function(a){return w(h&&this===g?C:this,a)}}),l(l.S+l.F*!(G&&c(41)(function(a){C.all(a)["catch"](E)})),x,{all:function(a){var b=this,c=F(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=F(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},function(a,b,c){"use strict";var d=c(7);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(f){var g=a["return"];throw void 0!==g&&d(g.call(a)),f}}},function(a,b,c){"use strict";a.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(a,b,c){"use strict";var d=c(1),e=c(65).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==c(25)(g);a.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(f){throw a?c():b=void 0,f}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(!f||d.navigator&&d.navigator.standalone)if(h&&h.resolve){var k=h.resolve(void 0);c=function(){k.then(j)}}else c=function(){e.call(d,j)};else{var l=!0,m=document.createTextNode("");new f(j).observe(m,{characterData:!0}),c=function(){m.data=l=!l}}return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},function(a,b,c){"use strict";var d=c(1),e=d.navigator;a.exports=e&&e.userAgent||""},function(a,b,c){"use strict";var d=c(5),e=c(4),f=c(1),g=c(40),h=c(67);d(d.P+d.R,"Promise",{"finally":function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},function(a,b,c){"use strict";var d=c(5),e=c(42),f=c(66);d(d.S,"Promise",{"try":function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},function(a,b,c){"use strict";c(63),c(64),c(105),c(112),c(114),a.exports=c(4).WeakMap},function(a,b,c){"use strict";var d,e=c(39)(0),f=c(14),g=c(43),h=c(106),i=c(108),j=c(2),k=c(9),l=c(68),m="WeakMap",n=g.getWeak,o=Object.isExtensible,p=i.ufstore,q={},r=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},s={get:function(a){if(j(a)){var b=n(a);return b===!0?p(l(this,m)).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(l(this,m),a,b)}},t=a.exports=c(109)(m,r,s,i,!0,!0);k(function(){return 7!=(new t).set((Object.freeze||Object)(q),7).get(q)})&&(d=i.getConstructor(r,m),h(d.prototype,s),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=t.prototype,c=b[a];f(b,a,function(b,e){if(j(b)&&!o(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},function(a,b,c){"use strict";var d=c(38),e=c(107),f=c(62),g=c(18),h=c(34),i=Object.assign;a.exports=!i||c(9)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},function(a,b,c){"use strict";b.f=Object.getOwnPropertySymbols},function(a,b,c){"use strict";var d=c(23),e=c(43).getWeak,f=c(7),g=c(2),h=c(24),i=c(31),j=c(39),k=c(10),l=c(68),m=j(5),n=j(6),o=0,p=function(a){return a._l||(a._l=new q)},q=function(){this.a=[]},r=function(a,b){return m(a.a,function(a){return a[0]===b})};q.prototype={get:function(a){var b=r(this,a);return b?b[1]:void 0},has:function(a){return!!r(this,a)},set:function(a,b){var c=r(this,a);c?c[1]=b:this.a.push([a,b])},"delete":function(a){var b=n(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},a.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._t=b,a._i=o++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{"delete":function(a){if(!g(a))return!1;var c=e(a);return c===!0?p(l(this,b))["delete"](a):c&&k(c,this._i)&&delete c[this._i]},has:function(a){if(!g(a))return!1;var c=e(a);return c===!0?p(l(this,b)).has(a):c&&k(c,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return d===!0?p(a).set(b,c):d[a._i]=c,a},ufstore:p}},function(a,b,c){"use strict";var d=c(1),e=c(5),f=c(14),g=c(23),h=c(43),i=c(31),j=c(24),k=c(2),l=c(9),m=c(41),n=c(26),o=c(110);a.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];f(v,a,"delete"==a?function(a){return r&&!k(a)?!1:b.call(this,0===a?0:a)}:"has"==a?function(a){return r&&!k(a)?!1:b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){(new t).entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),g(t.prototype,c),h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},function(a,b,c){"use strict";var d=c(2),e=c(111).set;a.exports=function(a,b,c){var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},function(a,b,c){"use strict";var d=c(2),e=c(7),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=c(11)(Function.call,c(61).f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(e){b=!0}return function(a,c){return f(a,c),b?a.__proto__=c:d(a,c),a}}({},!1):void 0),check:f}},function(a,b,c){"use strict";c(113)("WeakMap")},function(a,b,c){"use strict";var d=c(5);a.exports=function(a){d(d.S,a,{of:function(){for(var a=arguments.length,b=new Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(a,b,c){"use strict";c(115)("WeakMap")},function(a,b,c){"use strict";var d=c(5),e=c(22),f=c(11),g=c(31);a.exports=function(a){d(d.S,a,{from:function(a){var b,c,d,h,i=arguments[1];return e(this),b=void 0!==i,b&&e(i),void 0==a?new this:(c=[],b?(d=0,h=f(i,arguments[2],2),g(a,!1,function(a){c.push(h(a,d++))})):g(a,!1,c.push,c),new this(c))}})}},function(a,b,c){"use strict";var d=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(e){}d?b.ReadableStream=ReadableStream:b.ReadableStream=c(117).ReadableStream},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){for(var c in b)a[c]=b[c]}(b,function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=7)}([function(a,b,c){function e(a){return"string"==typeof a||"symbol"===("undefined"==typeof a?"undefined":g(a))}function f(a,b,c){if("function"!=typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}var g="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":d(a)},h=c(1),i=h.assert;b.typeIsObject=function(a){return"object"===("undefined"==typeof a?"undefined":g(a))&&null!==a||"function"==typeof a},b.createDataProperty=function(a,c,d){i(b.typeIsObject(a)),Object.defineProperty(a,c,{value:d,writable:!0,enumerable:!0,configurable:!0})},b.createArrayFromList=function(a){return a.slice()},b.ArrayBufferCopy=function(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)},b.CreateIterResultObject=function(a,b){i("boolean"==typeof b);var c={};return Object.defineProperty(c,"value",{value:a,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(c,"done",{value:b,enumerable:!0,writable:!0,configurable:!0}),c},b.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)?!1:a===1/0?!1:0>a?!1:!0},b.InvokeOrNoop=function(a,b,c){i(void 0!==a),i(e(b)),i(Array.isArray(c));var d=a[b];return void 0===d?void 0:f(d,a,c)},b.PromiseInvokeOrNoop=function(a,c,d){i(void 0!==a),i(e(c)),i(Array.isArray(d));try{return Promise.resolve(b.InvokeOrNoop(a,c,d))}catch(f){return Promise.reject(f)}},b.PromiseInvokeOrPerformFallback=function(a,b,c,d,g){i(void 0!==a),i(e(b)),i(Array.isArray(c)),i(Array.isArray(g));var h=void 0;try{h=a[b]}catch(j){return Promise.reject(j)}if(void 0===h)return d.apply(null,g);try{return Promise.resolve(f(h,a,c))}catch(k){return Promise.reject(k)}},b.TransferArrayBuffer=function(a){return a.slice()},b.ValidateAndNormalizeHighWaterMark=function(a){if(a=Number(a),Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a},b.ValidateAndNormalizeQueuingStrategy=function(a,c){if(void 0!==a&&"function"!=typeof a)throw new TypeError("size property of a queuing strategy must be a function");return c=b.ValidateAndNormalizeHighWaterMark(c),{size:a,highWaterMark:c}}},function(a,b,c){function d(a){a&&a.constructor===e&&setTimeout(function(){throw a},0)}function e(a){this.name="AssertionError",this.message=a||"",this.stack=(new Error).stack}function f(a,b){if(!a)throw new e(b)}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,a.exports={rethrowAssertionErrorRejection:d,AssertionError:e,assert:f}},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return new ta(a)}function f(a){return ja(a)&&Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!0:!1}function g(a){return la(f(a)===!0,"IsWritableStreamLocked should only be used on known writable streams"),void 0===a._writer?!1:!0}function h(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var d=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);la("writable"===c||"erroring"===c,"state must be writable or erroring");var e=!1;"erroring"===c&&(e=!0,b=void 0);var f=new Promise(function(c,d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});return e===!1&&k(a,d),f}function i(a){la(g(a)===!0),la("writable"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._writeRequests.push(d)});return b}function j(a,b){var c=a._state;return"writable"===c?void k(a,b):(la("erroring"===c),void l(a))}function k(a,b){la(void 0===a._storedError,"stream._storedError === undefined"),la("writable"===a._state,"state must be writable");var c=a._writableStreamController;la(void 0!==c,"controller must not be undefined"),a._state="erroring",a._storedError=b;var d=a._writer;void 0!==d&&B(d,b),r(a)===!1&&c._started===!0&&l(a)}function l(a){la("erroring"===a._state,"stream._state === erroring"),la(r(a)===!1,"WritableStreamHasOperationMarkedInFlight(stream) === false"),a._state="errored",a._writableStreamController.__errorSteps();for(var b=a._storedError,c=0;c<a._writeRequests.length;c++){var d=a._writeRequests[c];d._reject(b)}if(a._writeRequests=[],void 0===a._pendingAbortRequest)return void u(a);var e=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,e._wasAlreadyErroring===!0)return e._reject(b),
void u(a);var f=a._writableStreamController.__abortSteps(e._reason);f.then(function(){e._resolve(),u(a)},function(b){e._reject(b),u(a)})}function m(a){la(void 0!==a._inFlightWriteRequest),a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function n(a,b){la(void 0!==a._inFlightWriteRequest),a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,la("writable"===a._state||"erroring"===a._state),j(a,b)}function o(a){la(void 0!==a._inFlightCloseRequest),a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0;var b=a._state;la("writable"===b||"erroring"===b),"erroring"===b&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";var c=a._writer;void 0!==c&&Y(c),la(void 0===a._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),la(void 0===a._storedError,"stream._storedError === undefined")}function p(a,b){la(void 0!==a._inFlightCloseRequest),a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,la("writable"===a._state||"erroring"===a._state),void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),j(a,b)}function q(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function r(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function s(a){la(void 0===a._inFlightCloseRequest),la(void 0!==a._closeRequest),a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function t(a){la(void 0===a._inFlightWriteRequest,"there must be no pending write request"),la(0!==a._writeRequests.length,"writeRequests must not be empty"),a._inFlightWriteRequest=a._writeRequests.shift()}function u(a){la("errored"===a._state,'_stream_.[[state]] is `"errored"`'),void 0!==a._closeRequest&&(la(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&(W(b,a._storedError),b._closedPromise["catch"](function(){}))}function v(a,b){la("writable"===a._state),la(q(a)===!1);var c=a._writer;void 0!==c&&b!==a._backpressure&&(b===!0?ba(c):(la(b===!1),da(c))),a._backpressure=b}function w(a){return ja(a)&&Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!0:!1}function x(a,b){var c=a._ownerWritableStream;return la(void 0!==c),h(c,b)}function y(a){var b=a._ownerWritableStream;la(void 0!==b);var c=b._state;if("closed"===c||"errored"===c)return Promise.reject(new TypeError("The stream (in "+c+" state) is not in the writable state and cannot be closed"));la("writable"===c||"erroring"===c),la(q(b)===!1);var d=new Promise(function(a,c){var d={_resolve:a,_reject:c};b._closeRequest=d});return b._backpressure===!0&&"writable"===c&&da(a),F(b._writableStreamController),d}function z(a){var b=a._ownerWritableStream;la(void 0!==b);var c=b._state;return q(b)===!0||"closed"===c?Promise.resolve():"errored"===c?Promise.reject(b._storedError):(la("writable"===c||"erroring"===c),y(a))}function A(a,b){"pending"===a._closedPromiseState?W(a,b):X(a,b),a._closedPromise["catch"](function(){})}function B(a,b){"pending"===a._readyPromiseState?aa(a,b):ca(a,b),a._readyPromise["catch"](function(){})}function C(a){var b=a._ownerWritableStream,c=b._state;return"errored"===c||"erroring"===c?null:"closed"===c?0:H(b._writableStreamController)}function D(a){var b=a._ownerWritableStream;la(void 0!==b),la(b._writer===a);var c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");B(a,c),A(a,c),b._writer=void 0,a._ownerWritableStream=void 0}function E(a,b){var c=a._ownerWritableStream;la(void 0!==c);var d=c._writableStreamController,e=G(d,b);if(c!==a._ownerWritableStream)return Promise.reject(S("write to"));var f=c._state;if("errored"===f)return Promise.reject(c._storedError);if(q(c)===!0||"closed"===f)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===f)return Promise.reject(c._storedError);la("writable"===f);var g=i(c);return I(d,b,e),g}function F(a){pa(a,"close",0),K(a)}function G(a,b){var c=a._strategySize;if(void 0===c)return 1;try{return c(b)}catch(d){return L(a,d),1}}function H(a){return a._strategyHWM-a._queueTotalSize}function I(a,b,c){var d={chunk:b};try{pa(a,d,c)}catch(e){return void L(a,e)}var f=a._controlledWritableStream;if(q(f)===!1&&"writable"===f._state){var g=O(a);v(f,g)}K(a)}function J(a){return ja(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingSink")?!0:!1}function K(a){var b=a._controlledWritableStream;if(a._started!==!1&&void 0===b._inFlightWriteRequest){var c=b._state;if("closed"!==c&&"errored"!==c){if("erroring"===c)return void l(b);if(0!==a._queue.length){var d=qa(a);"close"===d?M(a):N(a,d.chunk)}}}}function L(a,b){"writable"===a._controlledWritableStream._state&&P(a,b)}function M(a){var b=a._controlledWritableStream;s(b),oa(a),la(0===a._queue.length,"queue must be empty once the final write record is dequeued");var c=ha(a._underlyingSink,"close",[]);c.then(function(){o(b)},function(a){p(b,a)})["catch"](ma)}function N(a,b){var c=a._controlledWritableStream;t(c);var d=ha(a._underlyingSink,"write",[b,a]);d.then(function(){m(c);var b=c._state;if(la("writable"===b||"erroring"===b),oa(a),q(c)===!1&&"writable"===b){var d=O(a);v(c,d)}K(a)},function(a){n(c,a)})["catch"](ma)}function O(a){var b=H(a);return 0>=b}function P(a,b){var c=a._controlledWritableStream;la("writable"===c._state),k(c,b)}function Q(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function R(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter")}function S(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function T(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function U(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function V(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function W(a,b){la(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),la(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),la("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function X(a,b){la(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),la(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined"),la("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending"),a._closedPromise=Promise.reject(b),a._closedPromiseState="rejected"}function Y(a){la(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),la(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),la("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function Z(a){a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function $(a,b){a._readyPromise=Promise.reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function _(a){a._readyPromise=Promise.resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function aa(a,b){la(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),la(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function ba(a){la(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),la(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined"),a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function ca(a,b){la(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),la(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined"),a._readyPromise=Promise.reject(b),a._readyPromiseState="rejected"}function da(a){la(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),la(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}var ea=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),fa=c(0),ga=fa.InvokeOrNoop,ha=fa.PromiseInvokeOrNoop,ia=fa.ValidateAndNormalizeQueuingStrategy,ja=fa.typeIsObject,ka=c(1),la=ka.assert,ma=ka.rethrowAssertionErrorRejection,na=c(3),oa=na.DequeueValue,pa=na.EnqueueValueWithSize,qa=na.PeekQueueValue,ra=na.ResetQueue,sa=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=c.size,f=c.highWaterMark,g=void 0===f?1:f;d(this,a),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1;var h=b.type;if(void 0!==h)throw new RangeError("Invalid type is specified");this._writableStreamController=new ua(this,b,e,g),this._writableStreamController.__startSteps()}return ea(a,[{key:"abort",value:function(a){return f(this)===!1?Promise.reject(Q("abort")):g(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):h(this,a)}},{key:"getWriter",value:function(){if(f(this)===!1)throw Q("getWriter");return e(this)}},{key:"locked",get:function(){if(f(this)===!1)throw Q("locked");return g(this)}}]),a}();a.exports={AcquireWritableStreamDefaultWriter:e,IsWritableStream:f,IsWritableStreamLocked:g,WritableStream:sa,WritableStreamAbort:h,WritableStreamDefaultControllerError:P,WritableStreamDefaultWriterCloseWithErrorPropagation:z,WritableStreamDefaultWriterRelease:D,WritableStreamDefaultWriterWrite:E,WritableStreamCloseQueuedOrInFlight:q};var ta=function(){function a(b){if(d(this,a),f(b)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(g(b)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b,b._writer=this;var c=b._state;if("writable"===c)q(b)===!1&&b._backpressure===!0?Z(this):_(this),T(this);else if("erroring"===c)$(this,b._storedError),this._readyPromise["catch"](function(){}),T(this);else if("closed"===c)_(this),V(this);else{la("errored"===c,"state must be errored");var e=b._storedError;$(this,e),this._readyPromise["catch"](function(){}),U(this,e),this._closedPromise["catch"](function(){})}}return ea(a,[{key:"abort",value:function(a){return w(this)===!1?Promise.reject(R("abort")):void 0===this._ownerWritableStream?Promise.reject(S("abort")):x(this,a)}},{key:"close",value:function(){if(w(this)===!1)return Promise.reject(R("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(S("close")):q(a)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):y(this)}},{key:"releaseLock",value:function(){if(w(this)===!1)throw R("releaseLock");var a=this._ownerWritableStream;void 0!==a&&(la(void 0!==a._writer),D(this))}},{key:"write",value:function(a){return w(this)===!1?Promise.reject(R("write")):void 0===this._ownerWritableStream?Promise.reject(S("write to")):E(this,a)}},{key:"closed",get:function(){return w(this)===!1?Promise.reject(R("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(w(this)===!1)throw R("desiredSize");if(void 0===this._ownerWritableStream)throw S("desiredSize");return C(this)}},{key:"ready",get:function(){return w(this)===!1?Promise.reject(R("ready")):this._readyPromise}}]),a}(),ua=function(){function a(b,c,e,g){if(d(this,a),f(b)===!1)throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=b,this._underlyingSink=c,this._queue=void 0,this._queueTotalSize=void 0,ra(this),this._started=!1;var h=ia(e,g);this._strategySize=h.size,this._strategyHWM=h.highWaterMark;var i=O(this);v(b,i)}return ea(a,[{key:"error",value:function(a){if(J(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var b=this._controlledWritableStream._state;"writable"===b&&P(this,a)}},{key:"__abortSteps",value:function(a){return ha(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ra(this)}},{key:"__startSteps",value:function(){var a=this,b=ga(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){la("writable"===c._state||"erroring"===c._state),a._started=!0,K(a)},function(b){la("writable"===c._state||"erroring"===c._state),a._started=!0,j(c,b)})["catch"](ma)}}]),a}()},function(a,b,c){var d=c(0),e=d.IsFiniteNonNegativeNumber,f=c(1),g=f.assert;b.DequeueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),g(a._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value},b.EnqueueValueWithSize=function(a,b,c){if(g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),c=Number(c),!e(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c},b.PeekQueueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),g(a._queue.length>0,"Spec-level failure: should never peek at an empty queue.");var b=a._queue[0];return b.value},b.ResetQueue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a._queue=[],a._queueTotalSize=0}},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return new bb(a)}function f(a){return new ab(a)}function g(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!0:!1}function h(a){return Ma(g(a)===!0,"IsReadableStreamDisturbed should only be used on known readable streams"),a._disturbed}function i(a){return Ma(g(a)===!0,"IsReadableStreamLocked should only be used on known readable streams"),void 0===a._reader?!1:!0}function j(a,b){Ma(g(a)===!0),Ma("boolean"==typeof b);var c=f(a),d={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};d.promise=new Promise(function(a){d._resolve=a});var e=k();e._reader=c,e._teeState=d,e._cloneForBranch2=b;var h=l();h._stream=a,h._teeState=d;var i=m();i._stream=a,i._teeState=d;var j=Object.create(Object.prototype);Ja(j,"pull",e),Ja(j,"cancel",h);var n=new _a(j),o=Object.create(Object.prototype);Ja(o,"pull",e),Ja(o,"cancel",i);var p=new _a(o);return e._branch1=n._readableStreamController,e._branch2=p._readableStreamController,c._closedPromise["catch"](function(a){d.closedOrErrored!==!0&&(K(e._branch1,a),K(e._branch2,a),d.closedOrErrored=!0)}),[n,p]}function k(){function a(){var b=a._reader,c=a._branch1,d=a._branch2,e=a._teeState;return E(b).then(function(a){Ma(Ka(a));var b=a.value,f=a.done;if(Ma("boolean"==typeof f),f===!0&&e.closedOrErrored===!1&&(e.canceled1===!1&&I(c),e.canceled2===!1&&I(d),e.closedOrErrored=!0),e.closedOrErrored!==!0){var g=b,h=b;e.canceled1===!1&&J(c,g),e.canceled2===!1&&J(d,h)}})}return a}function l(){function a(b){var c=a._stream,d=a._teeState;if(d.canceled1=!0,d.reason1=b,d.canceled2===!0){var e=Ia([d.reason1,d.reason2]),f=p(c,e);d._resolve(f)}return d.promise}return a}function m(){function a(b){var c=a._stream,d=a._teeState;if(d.canceled2=!0,d.reason2=b,d.canceled1===!0){var e=Ia([d.reason1,d.reason2]),f=p(c,e);d._resolve(f)}return d.promise}return a}function n(a){Ma(y(a._reader)===!0),Ma("readable"===a._state||"closed"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._reader._readIntoRequests.push(d)});return b}function o(a){Ma(z(a._reader)===!0),Ma("readable"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._reader._readRequests.push(d)});return b}function p(a,b){if(a._disturbed=!0,"closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);q(a);var c=a._readableStreamController.__cancelSteps(b);return c.then(function(){return void 0})}function q(a){Ma("readable"===a._state),a._state="closed";var b=a._reader;if(void 0===b)return void 0;if(z(b)===!0){for(var c=0;c<b._readRequests.length;c++){var d=b._readRequests[c]._resolve;d(Aa(void 0,!0))}b._readRequests=[]}return void ra(b)}function r(a,b){Ma(g(a)===!0,"stream must be ReadableStream"),Ma("readable"===a._state,"state must be readable"),a._state="errored",a._storedError=b;var c=a._reader;if(void 0===c)return void 0;if(z(c)===!0){for(var d=0;d<c._readRequests.length;d++){var e=c._readRequests[d];e._reject(b)}c._readRequests=[]}else{Ma(y(c),"reader must be ReadableStreamBYOBReader");for(var f=0;f<c._readIntoRequests.length;f++){var h=c._readIntoRequests[f];h._reject(b)}c._readIntoRequests=[]}pa(c,b),c._closedPromise["catch"](function(){})}function s(a,b,c){var d=a._reader;Ma(d._readIntoRequests.length>0);var e=d._readIntoRequests.shift();e._resolve(Aa(b,c))}function t(a,b,c){var d=a._reader;Ma(d._readRequests.length>0);var e=d._readRequests.shift();e._resolve(Aa(b,c))}function u(a){return a._reader._readIntoRequests.length}function v(a){return a._reader._readRequests.length}function w(a){var b=a._reader;return void 0===b?!1:y(b)===!1?!1:!0}function x(a){var b=a._reader;return void 0===b?!1:z(b)===!1?!1:!0}function y(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!0:!1}function z(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_readRequests")?!0:!1}function A(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?ma(a):"closed"===b._state?oa(a):(Ma("errored"===b._state,"state must be errored"),na(a,b._storedError),a._closedPromise["catch"](function(){}))}function B(a,b){var c=a._ownerReadableStream;return Ma(void 0!==c),p(c,b)}function C(a){Ma(void 0!==a._ownerReadableStream),Ma(a._ownerReadableStream._reader===a),"readable"===a._ownerReadableStream._state?pa(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):qa(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._closedPromise["catch"](function(){}),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function D(a,b){var c=a._ownerReadableStream;return Ma(void 0!==c),c._disturbed=!0,"errored"===c._state?Promise.reject(c._storedError):Z(c._readableStreamController,b)}function E(a){var b=a._ownerReadableStream;return Ma(void 0!==b),b._disturbed=!0,"closed"===b._state?Promise.resolve(Aa(void 0,!0)):"errored"===b._state?Promise.reject(b._storedError):(Ma("readable"===b._state),b._readableStreamController.__pullSteps())}function F(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!0:!1}function G(a){var b=H(a);if(b===!1)return void 0;if(a._pulling===!0)return void(a._pullAgain=!0);Ma(a._pullAgain===!1),a._pulling=!0;var c=Da(a._underlyingSource,"pull",[a]);return void c.then(function(){return a._pulling=!1,a._pullAgain===!0?(a._pullAgain=!1,G(a)):void 0},function(b){L(a,b)})["catch"](Na)}function H(a){var b=a._controlledReadableStream;if("closed"===b._state||"errored"===b._state)return!1;if(a._closeRequested===!0)return!1;if(a._started===!1)return!1;if(i(b)===!0&&v(b)>0)return!0;var c=M(a);return c>0?!0:!1}function I(a){var b=a._controlledReadableStream;Ma(a._closeRequested===!1),Ma("readable"===b._state),a._closeRequested=!0,0===a._queue.length&&q(b)}function J(a,b){var c=a._controlledReadableStream;if(Ma(a._closeRequested===!1),Ma("readable"===c._state),i(c)===!0&&v(c)>0)t(c,b,!1);else{var d=1;if(void 0!==a._strategySize){var e=a._strategySize;try{d=e(b)}catch(f){throw L(a,f),f}}try{Qa(a,b,d)}catch(g){throw L(a,g),g}}return void G(a)}function K(a,b){var c=a._controlledReadableStream;Ma("readable"===c._state),Ra(a),r(c,b)}function L(a,b){"readable"===a._controlledReadableStream._state&&K(a,b)}function M(a){var b=a._controlledReadableStream,c=b._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function N(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!0:!1}function O(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!0:!1}function P(a){var b=ca(a);if(b===!1)return void 0;if(a._pulling===!0)return void(a._pullAgain=!0);Ma(a._pullAgain===!1),a._pulling=!0;var c=Da(a._underlyingByteSource,"pull",[a]);return void c.then(function(){a._pulling=!1,a._pullAgain===!0&&(a._pullAgain=!1,P(a))},function(b){"readable"===a._controlledReadableStream._state&&fa(a,b)})["catch"](Na)}function Q(a){X(a),a._pendingPullIntos=[]}function R(a,b){Ma("errored"!==a._state,"state must not be errored");var c=!1;"closed"===a._state&&(Ma(0===b.bytesFilled),c=!0);var d=S(b);"default"===b.readerType?t(a,d,c):(Ma("byob"===b.readerType),s(a,d,c))}function S(a){var b=a.bytesFilled,c=a.elementSize;return Ma(b<=a.byteLength),Ma(b%c===0),new a.ctor(a.buffer,a.byteOffset,b/c)}function T(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function U(a,b){var c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,g=f-f%c,h=e,i=!1;g>d&&(h=g-b.bytesFilled,i=!0);for(var j=a._queue;h>0;){var k=j[0],l=Math.min(h,k.byteLength),m=b.byteOffset+b.bytesFilled;za(b.buffer,m,k.buffer,k.byteOffset,l),k.byteLength===l?j.shift():(k.byteOffset+=l,k.byteLength-=l),a._queueTotalSize-=l,V(a,l,b),h-=l}return i===!1&&(Ma(0===a._queueTotalSize,"queue must be empty"),Ma(b.bytesFilled>0),Ma(b.bytesFilled<b.elementSize)),i}function V(a,b,c){Ma(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===c),X(a),c.bytesFilled+=b}function W(a){Ma("readable"===a._controlledReadableStream._state),0===a._queueTotalSize&&a._closeRequested===!0?q(a._controlledReadableStream):P(a)}function X(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function Y(a){for(Ma(a._closeRequested===!1);a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos[0];U(a,b)===!0&&(ba(a),R(a._controlledReadableStream,b))}}function Z(a,b){var c=a._controlledReadableStream,d=1;b.constructor!==DataView&&(d=b.constructor.BYTES_PER_ELEMENT);var e=b.constructor,f={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:d,ctor:e,readerType:"byob"};if(a._pendingPullIntos.length>0)return f.buffer=Ea(f.buffer),a._pendingPullIntos.push(f),n(c);if("closed"===c._state){var g=new b.constructor(f.buffer,f.byteOffset,0);return Promise.resolve(Aa(g,!0))}if(a._queueTotalSize>0){if(U(a,f)===!0){var h=S(f);return W(a),Promise.resolve(Aa(h,!1))}if(a._closeRequested===!0){var i=new TypeError("Insufficient bytes to fill elements in the given buffer");return fa(a,i),Promise.reject(i)}}f.buffer=Ea(f.buffer),a._pendingPullIntos.push(f);var j=n(c);return P(a),j}function $(a,b){b.buffer=Ea(b.buffer),Ma(0===b.bytesFilled,"bytesFilled must be 0");var c=a._controlledReadableStream;if(w(c)===!0)for(;u(c)>0;){var d=ba(a);R(c,d)}}function _(a,b,c){if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");if(V(a,b,c),!(c.bytesFilled<c.elementSize)){ba(a);var d=c.bytesFilled%c.elementSize;if(d>0){var e=c.byteOffset+c.bytesFilled,f=c.buffer.slice(e-d,e);T(a,f,0,f.byteLength)}c.buffer=Ea(c.buffer),c.bytesFilled-=d,R(a._controlledReadableStream,c),Y(a)}}function aa(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if("closed"===d._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");$(a,c)}else Ma("readable"===d._state),_(a,b,c)}function ba(a){var b=a._pendingPullIntos.shift();return X(a),b}function ca(a){var b=a._controlledReadableStream;return"readable"!==b._state?!1:a._closeRequested===!0?!1:a._started===!1?!1:x(b)===!0&&v(b)>0?!0:w(b)===!0&&u(b)>0?!0:ga(a)>0?!0:!1}function da(a){var b=a._controlledReadableStream;if(Ma(a._closeRequested===!1),Ma("readable"===b._state),a._queueTotalSize>0)return void(a._closeRequested=!0);if(a._pendingPullIntos.length>0){var c=a._pendingPullIntos[0];if(c.bytesFilled>0){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");throw fa(a,d),d}}q(b)}function ea(a,b){var c=a._controlledReadableStream;Ma(a._closeRequested===!1),Ma("readable"===c._state);var d=b.buffer,e=b.byteOffset,f=b.byteLength,g=Ea(d);if(x(c)===!0)if(0===v(c))T(a,g,e,f);else{Ma(0===a._queue.length);var h=new Uint8Array(g,e,f);t(c,h,!1)}else w(c)===!0?(T(a,g,e,f),Y(a)):(Ma(i(c)===!1,"stream must not be locked"),T(a,g,e,f))}function fa(a,b){var c=a._controlledReadableStream;Ma("readable"===c._state),Q(a),Ra(a),r(c,b)}function ga(a){var b=a._controlledReadableStream,c=b._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function ha(a,b){if(b=Number(b),Ba(b)===!1)throw new RangeError("bytesWritten must be a finite");Ma(a._pendingPullIntos.length>0),aa(a,b)}function ia(a,b){Ma(a._pendingPullIntos.length>0);var c=a._pendingPullIntos[0];if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==b.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=b.buffer,aa(a,b.byteLength)}function ja(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function ka(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function la(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ma(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function na(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function oa(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function pa(a,b){Ma(void 0!==a._closedPromise_resolve),Ma(void 0!==a._closedPromise_reject),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function qa(a,b){Ma(void 0===a._closedPromise_resolve),Ma(void 0===a._closedPromise_reject),a._closedPromise=Promise.reject(b)}function ra(a){Ma(void 0!==a._closedPromise_resolve),Ma(void 0!==a._closedPromise_reject),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function sa(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function ta(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function ua(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function va(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function wa(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}var xa=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ya=c(0),za=ya.ArrayBufferCopy,Aa=ya.CreateIterResultObject,Ba=ya.IsFiniteNonNegativeNumber,Ca=ya.InvokeOrNoop,Da=ya.PromiseInvokeOrNoop,Ea=ya.TransferArrayBuffer,Fa=ya.ValidateAndNormalizeQueuingStrategy,Ga=ya.ValidateAndNormalizeHighWaterMark,Ha=c(0),Ia=Ha.createArrayFromList,Ja=Ha.createDataProperty,Ka=Ha.typeIsObject,La=c(1),Ma=La.assert,Na=La.rethrowAssertionErrorRejection,Oa=c(3),Pa=Oa.DequeueValue,Qa=Oa.EnqueueValueWithSize,Ra=Oa.ResetQueue,Sa=c(2),Ta=Sa.AcquireWritableStreamDefaultWriter,Ua=Sa.IsWritableStream,Va=Sa.IsWritableStreamLocked,Wa=Sa.WritableStreamAbort,Xa=Sa.WritableStreamDefaultWriterCloseWithErrorPropagation,Ya=Sa.WritableStreamDefaultWriterRelease,Za=Sa.WritableStreamDefaultWriterWrite,$a=Sa.WritableStreamCloseQueuedOrInFlight,_a=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=c.size,f=c.highWaterMark;d(this,a),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var g=b.type,h=String(g);if("bytes"===h)void 0===f&&(f=0),this._readableStreamController=new eb(this,b,f);else{if(void 0!==g)throw new RangeError("Invalid type is specified");void 0===f&&(f=1),this._readableStreamController=new cb(this,b,e,f)}}return xa(a,[{key:"cancel",value:function(a){return g(this)===!1?Promise.reject(ja("cancel")):i(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):p(this,a)}},{key:"getReader",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.mode;if(g(this)===!1)throw ja("getReader");if(void 0===b)return f(this);if(b=String(b),"byob"===b)return e(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(a,b){var c=a.writable,d=a.readable,e=this.pipeTo(c,b);return wa(e),d}},{key:"pipeTo",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.preventClose,e=c.preventAbort,h=c.preventCancel;if(g(this)===!1)return Promise.reject(ja("pipeTo"));if(Ua(a)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(d=Boolean(d),e=Boolean(e),h=Boolean(h),i(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(Va(a)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var j=f(this),k=Ta(a),l=!1,m=Promise.resolve();return new Promise(function(c,f){function g(){return m=Promise.resolve(),l===!0?Promise.resolve():k._readyPromise.then(function(){return E(j).then(function(a){var b=a.value,c=a.done;c!==!0&&(m=Za(k,b)["catch"](function(){}))})}).then(g)}function i(){var a=m;return m.then(function(){return a!==m?i():void 0})}function n(a,b,c){"errored"===a._state?c(a._storedError):b["catch"](c)["catch"](Na)}function o(a,b,c){
"closed"===a._state?c():b.then(c)["catch"](Na)}function q(b,c,d){function e(){b().then(function(){return s(c,d)},function(a){return s(!0,a)})["catch"](Na)}l!==!0&&(l=!0,"writable"===a._state&&$a(a)===!1?i().then(e):e())}function r(b,c){l!==!0&&(l=!0,"writable"===a._state&&$a(a)===!1?i().then(function(){return s(b,c)})["catch"](Na):s(b,c))}function s(a,b){Ya(k),C(j),a?f(b):c(void 0)}if(n(b,j._closedPromise,function(b){e===!1?q(function(){return Wa(a,b)},!0,b):r(!0,b)}),n(a,k._closedPromise,function(a){h===!1?q(function(){return p(b,a)},!0,a):r(!0,a)}),o(b,j._closedPromise,function(){d===!1?q(function(){return Xa(k)}):r()}),$a(a)===!0||"closed"===a._state){var t=new TypeError("the destination writable stream closed before all data could be piped to it");h===!1?q(function(){return p(b,t)},!0,t):r(!0,t)}g()["catch"](function(a){m=Promise.resolve(),Na(a)})})}},{key:"tee",value:function(){if(g(this)===!1)throw ja("tee");var a=j(this,!1);return Ia(a)}},{key:"locked",get:function(){if(g(this)===!1)throw ja("locked");return i(this)}}]),a}();a.exports={ReadableStream:_a,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:I,ReadableStreamDefaultControllerEnqueue:J,ReadableStreamDefaultControllerError:K,ReadableStreamDefaultControllerGetDesiredSize:M};var ab=function(){function a(b){if(d(this,a),g(b)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(i(b)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,b),this._readRequests=[]}return xa(a,[{key:"cancel",value:function(a){return z(this)===!1?Promise.reject(la("cancel")):void 0===this._ownerReadableStream?Promise.reject(ka("cancel")):B(this,a)}},{key:"read",value:function(){return z(this)===!1?Promise.reject(la("read")):void 0===this._ownerReadableStream?Promise.reject(ka("read from")):E(this)}},{key:"releaseLock",value:function(){if(z(this)===!1)throw la("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return z(this)===!1?Promise.reject(la("closed")):this._closedPromise}}]),a}(),bb=function(){function a(b){if(d(this,a),!g(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(N(b._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(i(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,b),this._readIntoRequests=[]}return xa(a,[{key:"cancel",value:function(a){return y(this)?void 0===this._ownerReadableStream?Promise.reject(ka("cancel")):B(this,a):Promise.reject(sa("cancel"))}},{key:"read",value:function(a){return y(this)?void 0===this._ownerReadableStream?Promise.reject(ka("read from")):ArrayBuffer.isView(a)?0===a.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):D(this,a):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(sa("read"))}},{key:"releaseLock",value:function(){if(!y(this))throw sa("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return y(this)?this._closedPromise:Promise.reject(sa("closed"))}}]),a}(),cb=function(){function a(b,c,e,f){if(d(this,a),g(b)===!1)throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=b,this._underlyingSource=c,this._queue=void 0,this._queueTotalSize=void 0,Ra(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var h=Fa(e,f);this._strategySize=h.size,this._strategyHWM=h.highWaterMark;var i=this,j=Ca(c,"start",[this]);Promise.resolve(j).then(function(){i._started=!0,Ma(i._pulling===!1),Ma(i._pullAgain===!1),G(i)},function(a){L(i,a)})["catch"](Na)}return xa(a,[{key:"close",value:function(){if(F(this)===!1)throw ta("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");I(this)}},{key:"enqueue",value:function(a){if(F(this)===!1)throw ta("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return J(this,a)}},{key:"error",value:function(a){if(F(this)===!1)throw ta("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");K(this,a)}},{key:"__cancelSteps",value:function(a){return Ra(this),Da(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(this._queue.length>0){var b=Pa(this);return this._closeRequested===!0&&0===this._queue.length?q(a):G(this),Promise.resolve(Aa(b,!1))}var c=o(a);return G(this),c}},{key:"desiredSize",get:function(){if(F(this)===!1)throw ta("desiredSize");return M(this)}}]),a}(),db=function(){function a(b,c){d(this,a),this._associatedReadableByteStreamController=b,this._view=c}return xa(a,[{key:"respond",value:function(a){if(O(this)===!1)throw ua("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");ha(this._associatedReadableByteStreamController,a)}},{key:"respondWithNewView",value:function(a){if(O(this)===!1)throw ua("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");ia(this._associatedReadableByteStreamController,a)}},{key:"view",get:function(){return this._view}}]),a}(),eb=function(){function a(b,c,e){if(d(this,a),g(b)===!1)throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==b._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=b,this._underlyingByteSource=c,this._pullAgain=!1,this._pulling=!1,Q(this),this._queue=this._queueTotalSize=void 0,Ra(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=Ga(e);var f=c.autoAllocateChunkSize;if(void 0!==f&&(Number.isInteger(f)===!1||0>=f))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=f,this._pendingPullIntos=[];var h=this,i=Ca(c,"start",[this]);Promise.resolve(i).then(function(){h._started=!0,Ma(h._pulling===!1),Ma(h._pullAgain===!1),P(h)},function(a){"readable"===b._state&&fa(h,a)})["catch"](Na)}return xa(a,[{key:"close",value:function(){if(N(this)===!1)throw va("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");da(this)}},{key:"enqueue",value:function(a){if(N(this)===!1)throw va("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");ea(this,a)}},{key:"error",value:function(a){if(N(this)===!1)throw va("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");fa(this,a)}},{key:"__cancelSteps",value:function(a){if(this._pendingPullIntos.length>0){var b=this._pendingPullIntos[0];b.bytesFilled=0}return Ra(this),Da(this._underlyingByteSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(Ma(x(a)===!0),this._queueTotalSize>0){Ma(0===v(a));var b=this._queue.shift();this._queueTotalSize-=b.byteLength,W(this);var c=void 0;try{c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}catch(d){return Promise.reject(d)}return Promise.resolve(Aa(c,!1))}var e=this._autoAllocateChunkSize;if(void 0!==e){var f=void 0;try{f=new ArrayBuffer(e)}catch(g){return Promise.reject(g)}var h={buffer:f,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(h)}var i=o(a);return P(this),i}},{key:"byobRequest",get:function(){if(N(this)===!1)throw va("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var a=this._pendingPullIntos[0],b=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new db(this,b)}return this._byobRequest}},{key:"desiredSize",get:function(){if(N(this)===!1)throw va("desiredSize");return ga(this)}}]),a}()},function(a,b,c){var d=c(6),e=c(4),f=c(2);b.TransformStream=d.TransformStream,b.ReadableStream=e.ReadableStream,b.IsReadableStreamDisturbed=e.IsReadableStreamDisturbed,b.ReadableStreamDefaultControllerClose=e.ReadableStreamDefaultControllerClose,b.ReadableStreamDefaultControllerEnqueue=e.ReadableStreamDefaultControllerEnqueue,b.ReadableStreamDefaultControllerError=e.ReadableStreamDefaultControllerError,b.ReadableStreamDefaultControllerGetDesiredSize=e.ReadableStreamDefaultControllerGetDesiredSize,b.AcquireWritableStreamDefaultWriter=f.AcquireWritableStreamDefaultWriter,b.IsWritableStream=f.IsWritableStream,b.IsWritableStreamLocked=f.IsWritableStreamLocked,b.WritableStream=f.WritableStream,b.WritableStreamAbort=f.WritableStreamAbort,b.WritableStreamDefaultControllerError=f.WritableStreamDefaultControllerError,b.WritableStreamDefaultWriterCloseWithErrorPropagation=f.WritableStreamDefaultWriterCloseWithErrorPropagation,b.WritableStreamDefaultWriterRelease=f.WritableStreamDefaultWriterRelease,b.WritableStreamDefaultWriterWrite=f.WritableStreamDefaultWriterWrite},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){if(a._errored===!0)throw new TypeError("TransformStream is already errored");if(a._readableClosed===!0)throw new TypeError("Readable side is already closed");h(a)}function f(a,b){if(a._errored===!0)throw new TypeError("TransformStream is already errored");if(a._readableClosed===!0)throw new TypeError("Readable side is already closed");var c=a._readableController;try{D(c,b)}catch(d){throw a._readableClosed=!0,i(a,d),a._storedError}var e=F(c),f=0>=e;f===!0&&a._backpressure===!1&&l(a,!0)}function g(a,b){if(a._errored===!0)throw new TypeError("TransformStream is already errored");j(a,b)}function h(a){u(a._errored===!1),u(a._readableClosed===!1);try{C(a._readableController)}catch(b){u(!1)}a._readableClosed=!0}function i(a,b){a._errored===!1&&j(a,b)}function j(a,b){u(a._errored===!1),a._errored=!0,a._storedError=b,a._writableDone===!1&&I(a._writableController,b),a._readableClosed===!1&&E(a._readableController,b)}function k(a){return u(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),a._backpressure===!1?Promise.resolve():(u(a._backpressure===!0,"_backpressure should have been initialized"),a._backpressureChangePromise)}function l(a,b){u(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b),a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b}),a._backpressureChangePromise.then(function(a){u(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),a._backpressure=b}function m(a,b){var c=b._controlledTransformStream;return f(c,a),Promise.resolve()}function n(a,b){u(a._errored===!1),u(a._transforming===!1),u(a._backpressure===!1),a._transforming=!0;var c=a._transformer,d=a._transformStreamController,e=x(c,"transform",[b,d],m,[b,d]);return e.then(function(){return a._transforming=!1,k(a)},function(b){return i(a,b),Promise.reject(b)})}function o(a){return z(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!0:!1}function p(a){return z(a)&&Object.prototype.hasOwnProperty.call(a,"_transformStreamController")?!0:!1}function q(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function r(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var s=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),t=c(1),u=t.assert,v=c(0),w=v.InvokeOrNoop,x=v.PromiseInvokeOrPerformFallback,y=v.PromiseInvokeOrNoop,z=v.typeIsObject,A=c(4),B=A.ReadableStream,C=A.ReadableStreamDefaultControllerClose,D=A.ReadableStreamDefaultControllerEnqueue,E=A.ReadableStreamDefaultControllerError,F=A.ReadableStreamDefaultControllerGetDesiredSize,G=c(2),H=G.WritableStream,I=G.WritableStreamDefaultControllerError,J=function(){function a(b,c){d(this,a),this._transformStream=b,this._startPromise=c}return s(a,[{key:"start",value:function(a){var b=this._transformStream;return b._writableController=a,this._startPromise.then(function(){return k(b)})}},{key:"write",value:function(a){var b=this._transformStream;return n(b,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0,j(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;u(a._transforming===!1),a._writableDone=!0;var b=y(a._transformer,"flush",[a._transformStreamController]);return b.then(function(){return a._errored===!0?Promise.reject(a._storedError):(a._readableClosed===!1&&h(a),Promise.resolve())})["catch"](function(b){return i(a,b),Promise.reject(a._storedError)})}}]),a}(),K=function(){function a(b,c){d(this,a),this._transformStream=b,this._startPromise=c}return s(a,[{key:"start",value:function(a){var b=this._transformStream;return b._readableController=a,this._startPromise.then(function(){return u(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),b._backpressure===!0?Promise.resolve():(u(b._backpressure===!1,"_backpressure should have been initialized"),b._backpressureChangePromise)})}},{key:"pull",value:function(){var a=this._transformStream;return u(a._backpressure===!0,"pull() should be never called while _backpressure is false"),u(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),l(a,!1),a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=!0,j(a,new TypeError("Readable side canceled"))}}]),a}(),L=function(){function a(b){if(d(this,a),p(b)===!1)throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==b._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=b}return s(a,[{key:"enqueue",value:function(a){if(o(this)===!1)throw q("enqueue");f(this._controlledTransformStream,a)}},{key:"close",value:function(){if(o(this)===!1)throw q("close");e(this._controlledTransformStream)}},{key:"error",value:function(a){if(o(this)===!1)throw q("error");g(this._controlledTransformStream,a)}},{key:"desiredSize",get:function(){if(o(this)===!1)throw q("desiredSize");var a=this._controlledTransformStream,b=a._readableController;return F(b)}}]),a}(),M=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,a),this._transformer=b;var c=b.readableStrategy,e=b.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new L(this);var f=void 0,g=new Promise(function(a){f=a}),h=new K(this,g);this._readable=new B(h,c);var i=new J(this,g);this._writable=new H(i,e),u(void 0!==this._writableController),u(void 0!==this._readableController);var j=F(this._readableController);l(this,0>=j);var k=this,m=w(b,"start",[k._transformStreamController]);f(m),g["catch"](function(a){k._errored===!1&&(k._errored=!0,k._storedError=a)})}return s(a,[{key:"readable",get:function(){if(p(this)===!1)throw r("readable");return this._readable}},{key:"writable",get:function(){if(p(this)===!1)throw r("writable");return this._writable}}]),a}();a.exports={TransformStream:M}},function(a,b,c){a.exports=c(5)}]))},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),b.PDFJS=b.globalScope=void 0;var e=c(69),f=c(15),g=c(0),h=c(72),i=c(20),j=d(i),k=c(71),l=c(73),m=c(74);j["default"].PDFJS||(j["default"].PDFJS={});var n=j["default"].PDFJS;n.version="1.10.100",n.build="ea29ec83",n.pdfBug=!1,void 0!==n.verbosity&&g.setVerbosityLevel(n.verbosity),delete n.verbosity,Object.defineProperty(n,"verbosity",{get:function(){return g.getVerbosityLevel()},set:function(a){g.setVerbosityLevel(a)},enumerable:!0,configurable:!0}),n.VERBOSITY_LEVELS=g.VERBOSITY_LEVELS,n.OPS=g.OPS,n.UNSUPPORTED_FEATURES=g.UNSUPPORTED_FEATURES,n.isValidUrl=f.isValidUrl,n.shadow=g.shadow,n.createBlob=g.createBlob,n.createObjectURL=function(a,b){return g.createObjectURL(a,b,n.disableCreateObjectURL)},Object.defineProperty(n,"isLittleEndian",{configurable:!0,get:function(){return g.shadow(n,"isLittleEndian",g.isLittleEndian())}}),n.removeNullCharacters=g.removeNullCharacters,n.PasswordResponses=g.PasswordResponses,n.PasswordException=g.PasswordException,n.UnknownErrorException=g.UnknownErrorException,n.InvalidPDFException=g.InvalidPDFException,n.MissingPDFException=g.MissingPDFException,n.UnexpectedResponseException=g.UnexpectedResponseException,n.Util=g.Util,n.PageViewport=g.PageViewport,n.createPromiseCapability=g.createPromiseCapability,n.maxImageSize=void 0===n.maxImageSize?-1:n.maxImageSize,n.cMapUrl=void 0===n.cMapUrl?null:n.cMapUrl,n.cMapPacked=void 0===n.cMapPacked?!1:n.cMapPacked,n.disableFontFace=void 0===n.disableFontFace?!1:n.disableFontFace,n.imageResourcesPath=void 0===n.imageResourcesPath?"":n.imageResourcesPath,n.disableWorker=void 0===n.disableWorker?!1:n.disableWorker,n.workerSrc=void 0===n.workerSrc?null:n.workerSrc,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.disableRange=void 0===n.disableRange?!1:n.disableRange,n.disableStream=void 0===n.disableStream?!1:n.disableStream,n.disableAutoFetch=void 0===n.disableAutoFetch?!1:n.disableAutoFetch,n.pdfBug=void 0===n.pdfBug?!1:n.pdfBug,n.postMessageTransfers=void 0===n.postMessageTransfers?!0:n.postMessageTransfers,n.disableCreateObjectURL=void 0===n.disableCreateObjectURL?!1:n.disableCreateObjectURL,n.disableWebGL=void 0===n.disableWebGL?!0:n.disableWebGL,n.externalLinkTarget=void 0===n.externalLinkTarget?f.LinkTarget.NONE:n.externalLinkTarget,n.externalLinkRel=void 0===n.externalLinkRel?f.DEFAULT_LINK_REL:n.externalLinkRel,n.isEvalSupported=void 0===n.isEvalSupported?!0:n.isEvalSupported,n.pdfjsNext=void 0===n.pdfjsNext?!1:n.pdfjsNext;var o=n.openExternalLinksInNewWindow;delete n.openExternalLinksInNewWindow,Object.defineProperty(n,"openExternalLinksInNewWindow",{get:function(){return n.externalLinkTarget===f.LinkTarget.BLANK},set:function(a){return a&&g.deprecated('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),n.externalLinkTarget!==f.LinkTarget.NONE?void g.warn("PDFJS.externalLinkTarget is already initialized"):void(n.externalLinkTarget=a?f.LinkTarget.BLANK:f.LinkTarget.NONE)},enumerable:!0,configurable:!0}),o&&(n.openExternalLinksInNewWindow=o),n.getDocument=e.getDocument,n.LoopbackPort=e.LoopbackPort,n.PDFDataRangeTransport=e.PDFDataRangeTransport,n.PDFWorker=e.PDFWorker,n.hasCanvasTypedArrays=!0,n.CustomStyle=f.CustomStyle,n.LinkTarget=f.LinkTarget,n.addLinkAttributes=f.addLinkAttributes,n.getFilenameFromUrl=f.getFilenameFromUrl,n.isExternalLinkTargetSet=f.isExternalLinkTargetSet,n.AnnotationLayer=h.AnnotationLayer,n.renderTextLayer=l.renderTextLayer,n.Metadata=k.Metadata,n.SVGGraphics=m.SVGGraphics,n.UnsupportedManager=e._UnsupportedManager,b.globalScope=j["default"],b.PDFJS=n},function(a,b,c){"use strict";function d(a){this.docId=a,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}Object.defineProperty(b,"__esModule",{value:!0}),b.FontLoader=b.FontFaceObject=void 0;var e=c(0);d.prototype={insertRule:function(a){var b=this.styleElement;b||(b=this.styleElement=document.createElement("style"),b.id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(b));var c=b.sheet;c.insertRule(a,c.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(a){document.fonts["delete"](a)}),this.nativeFontFaces.length=0}};var f=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};Object.defineProperty(d.prototype,"loadTestFont",{get:function(){return e.shadow(this,"loadTestFont",f())},configurable:!0}),d.prototype.addNativeFontFace=function(a){this.nativeFontFaces.push(a),document.fonts.add(a)},d.prototype.bind=function(a,b){for(var c=[],f=[],g=[],h=function(a){return a.loaded["catch"](function(b){e.warn('Failed to load font "'+a.family+'": '+b)})},i=d.isFontLoadingAPISupported&&!d.isSyncFontLoadingSupported,j=0,k=a.length;k>j;j++){var l=a[j];if(!l.attached&&l.loading!==!1)if(l.attached=!0,i){var m=l.createNativeFontFace();m&&(this.addNativeFontFace(m),g.push(h(m)))}else{var n=l.createFontFaceRule();n&&(this.insertRule(n),c.push(n),f.push(l))}}var o=this.queueLoadingCallback(b);i?Promise.all(g).then(function(){o.complete()}):c.length>0&&!d.isSyncFontLoadingSupported?this.prepareFontLoadEvent(c,f,o):o.complete()},d.prototype.queueLoadingCallback=function(a){function b(){for(e.assert(!f.end,"completeRequest() cannot be called twice"),f.end=Date.now();c.requests.length>0&&c.requests[0].end;){var a=c.requests.shift();setTimeout(a.callback,0)}}var c=this.loadingContext,d="pdfjs-font-loading-"+c.nextRequestId++,f={id:d,complete:b,callback:a,started:Date.now()};return c.requests.push(f),f},d.prototype.prepareFontLoadEvent=function(a,b,c){function d(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function f(a,b,c,d){var e=a.substr(0,b),f=a.substr(b+c);return e+d+f}function g(a,b){if(l++,l>30)return e.warn("Load test font never loaded."),void b();k.font="30px "+a,k.fillText(".",0,20);var c=k.getImageData(0,0,1,1);return c.data[3]>0?void b():void setTimeout(g.bind(null,a,b))}var h,i,j=document.createElement("canvas");j.width=1,j.height=1;var k=j.getContext("2d"),l=0,m="lt"+Date.now()+this.loadTestFontId++,n=this.loadTestFont,o=976;n=f(n,o,m.length,m);var p=16,q=1482184792,r=d(n,p);for(h=0,i=m.length-3;i>h;h+=4)r=r-q+d(m,h)|0;h<m.length&&(r=r-q+d(m+"XXX",h)|0),n=f(n,p,4,e.string32(r));var s="url(data:font/opentype;base64,"+btoa(n)+");",t='@font-face { font-family:"'+m+'";src:'+s+"}";this.insertRule(t);var u=[];for(h=0,i=b.length;i>h;h++)u.push(b[h].loadedName);u.push(m);var v=document.createElement("div");for(v.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),h=0,i=u.length;i>h;++h){var w=document.createElement("span");w.textContent="Hi",w.style.fontFamily=u[h],v.appendChild(w)}document.body.appendChild(v),g(m,function(){document.body.removeChild(v),c.complete()})},d.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;var g=function(){if("undefined"==typeof navigator)return!0;var a=!1,b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return b&&b[1]>=14&&(a=!0),a};Object.defineProperty(d,"isSyncFontLoadingSupported",{get:function(){return e.shadow(d,"isSyncFontLoadingSupported",g())},enumerable:!0,configurable:!0});var h={get value(){return e.shadow(this,"value",e.isEvalSupported())}},i=function(){function a(a,b){this.compiledGlyphs=Object.create(null);for(var c in a)this[c]=a[c];this.options=b}return a.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=new FontFace(this.loadedName,this.data,{});return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this),a},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var a=e.bytesToString(new Uint8Array(this.data)),b=this.loadedName,c="url(data:"+this.mimetype+";base64,"+btoa(a)+");",d='@font-face { font-family:"'+b+'";src:'+c+"}";return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,c),d},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c,d,e,f=a.get(this.loadedName+"_path_"+b);if(this.options.isEvalSupported&&h.value){var g,i="";for(d=0,e=f.length;e>d;d++)c=f[d],g=void 0!==c.args?c.args.join(","):"",i+="c."+c.cmd+"("+g+");\n";this.compiledGlyphs[b]=new Function("c","size",i)}else this.compiledGlyphs[b]=function(a,b){for(d=0,e=f.length;e>d;d++)c=f[d],"scale"===c.cmd&&(c.args=[b,-b]),a[c.cmd].apply(a,c.args)}}return this.compiledGlyphs[b]}},a}();b.FontFaceObject=i,b.FontLoader=d},function(a,b,c){"use strict";function d(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d,i=c*d-b*e;return[e/h,c/i,d/i,b/h,(e*f-d*g)/i,(c*f-b*g)/h]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5],this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]=c[0]*a,c[1]=c[1]*a,c[2]=c[2]*b,c[3]=c[3]*b,this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]],a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,d[0]*-c+d[2]*b,d[1]*-c+d[3]*b,d[4],d[5]],this._originalRotate(a)})}function e(a){var b,c,d,e,f=1e3,g=a.width,h=a.height,i=g+1,j=new Uint8Array(i*(h+1)),k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=g+7&-8,m=a.data,n=new Uint8Array(l*h),o=0;for(b=0,e=m.length;e>b;b++)for(var p=128,q=m[b];p>0;)n[o++]=q&p?0:255,p>>=1;var r=0;for(o=0,0!==n[o]&&(j[0]=1,++r),c=1;g>c;c++)n[o]!==n[o+1]&&(j[c]=n[o]?2:1,++r),o++;for(0!==n[o]&&(j[c]=2,++r),b=1;h>b;b++){o=b*l,d=b*i,n[o-l]!==n[o]&&(j[d]=n[o]?1:8,++r);var s=(n[o]?4:0)+(n[o-l]?8:0);for(c=1;g>c;c++)s=(s>>2)+(n[o+1]?4:0)+(n[o-l+1]?8:0),k[s]&&(j[d+c]=k[s],++r),o++;if(n[o-l]!==n[o]&&(j[d+c]=n[o]?2:4,++r),r>f)return null}for(o=l*(h-1),d=b*i,0!==n[o]&&(j[d]=8,++r),c=1;g>c;c++)n[o]!==n[o+1]&&(j[d+c]=n[o]?4:8,++r),o++;if(0!==n[o]&&(j[d+c]=4,++r),r>f)return null;var t=new Int32Array([0,i,-1,0,-i,0,0,0,1]),u=[];for(b=0;r&&h>=b;b++){for(var v=b*i,w=v+g;w>v&&!j[v];)v++;if(v!==w){var x,y=[v%i,b],z=j[v],A=v;do{var B=t[z];do v+=B;while(!j[v]);x=j[v],5!==x&&10!==x?(z=x,j[v]=0):(z=x&51*z>>4,j[v]&=z>>2|z<<2),y.push(v%i),y.push(v/i|0),--r}while(A!==v);u.push(y),--b}}var C=function(a){a.save(),a.scale(1/g,-1/h),a.translate(0,-h),a.beginPath();for(var b=0,c=u.length;c>b;b++){var d=u[b];a.moveTo(d[0],d[1]);for(var e=2,f=d.length;f>e;e+=2)a.lineTo(d[e],d[e+1])}a.fill(),a.beginPath(),a.restore()};return C}Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0;var f=c(0),g=c(121),h=c(70),i=16,j=100,k=4096,l=.65,m=!0,n=1e3,o=16,p={get value(){return f.shadow(p,"value",f.isLittleEndian())}},q=function(){function a(a){this.canvasFactory=a,this.cache=Object.create(null)}return a.prototype={getCanvas:function(a,b,c,e){var f;return void 0!==this.cache[a]?(f=this.cache[a],this.canvasFactory.reset(f,b,c),f.context.setTransform(1,0,0,1,0,0)):(f=this.canvasFactory.create(b,c),this.cache[a]=f),e&&d(f.context),f},clear:function(){for(var a in this.cache){var b=this.cache[a];this.canvasFactory.destroy(b),delete this.cache[a]}}},a}(),r=function(){function a(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=f.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,
this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}(),s=function(){function a(a,b,c,e,f){this.ctx=a,this.current=new r,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=c,this.canvasFactory=e,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new q(this.canvasFactory),a&&d(a),this.cachedGetSinglePixelWidth=null}function b(a,b){if("undefined"!=typeof ImageData&&b instanceof ImageData)return void a.putImageData(b,0,0);var c,d,e,g,h,i=b.height,j=b.width,k=i%o,l=(i-k)/o,m=0===k?l:l+1,n=a.createImageData(j,o),q=0,r=b.data,s=n.data;if(b.kind===f.ImageKind.GRAYSCALE_1BPP){var t=r.byteLength,u=new Uint32Array(s.buffer,0,s.byteLength>>2),v=u.length,w=j+7>>3,x=4294967295,y=p.value?4278190080:255;for(d=0;m>d;d++){for(g=l>d?o:k,c=0,e=0;g>e;e++){for(var z=t-q,A=0,B=z>w?j:8*z-7,C=-8&B,D=0,E=0;C>A;A+=8)E=r[q++],u[c++]=128&E?x:y,u[c++]=64&E?x:y,u[c++]=32&E?x:y,u[c++]=16&E?x:y,u[c++]=8&E?x:y,u[c++]=4&E?x:y,u[c++]=2&E?x:y,u[c++]=1&E?x:y;for(;B>A;A++)0===D&&(E=r[q++],D=128),u[c++]=E&D?x:y,D>>=1}for(;v>c;)u[c++]=0;a.putImageData(n,0,d*o)}}else if(b.kind===f.ImageKind.RGBA_32BPP){for(e=0,h=j*o*4,d=0;l>d;d++)s.set(r.subarray(q,q+h)),q+=h,a.putImageData(n,0,e),e+=o;m>d&&(h=j*k*4,s.set(r.subarray(q,q+h)),a.putImageData(n,0,e))}else{if(b.kind!==f.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+b.kind);for(g=o,h=j*g,d=0;m>d;d++){for(d>=l&&(g=k,h=j*g),c=0,e=h;e--;)s[c++]=r[q++],s[c++]=r[q++],s[c++]=r[q++],s[c++]=255;a.putImageData(n,0,d*o)}}}function c(a,b){for(var c=b.height,d=b.width,e=c%o,f=(c-e)/o,g=0===e?f:f+1,h=a.createImageData(d,o),i=0,j=b.data,k=h.data,l=0;g>l;l++){for(var m=f>l?o:e,n=3,p=0;m>p;p++)for(var q=0,r=0;d>r;r++){if(!q){var s=j[i++];q=128}k[n]=s&q?0:255,n+=4,q>>=1}a.putImageData(h,0,l*o)}}function s(a,b){for(var c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],d=0,e=c.length;e>d;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function t(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function u(a,b,c,d){for(var e=a.length,f=3;e>f;f+=4){var g=a[f];if(0===g)a[f-3]=b,a[f-2]=c,a[f-1]=d;else if(255>g){var h=255-g;a[f-3]=a[f-3]*g+b*h>>8,a[f-2]=a[f-2]*g+c*h>>8,a[f-1]=a[f-1]*g+d*h>>8}}}function v(a,b,c){for(var d=a.length,e=1/255,f=3;d>f;f+=4){var g=c?c[a[f]]:a[f];b[f]=b[f]*g*e|0}}function w(a,b,c){for(var d=a.length,e=3;d>e;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}}function x(a,b,c,d,e,f,g){var h,i=!!f,j=i?f[0]:0,k=i?f[1]:0,l=i?f[2]:0;h="Luminosity"===e?w:v;for(var m=1048576,n=Math.min(d,Math.ceil(m/c)),o=0;d>o;o+=n){var p=Math.min(n,d-o),q=a.getImageData(0,o,c,p),r=b.getImageData(0,o,c,p);i&&u(q.data,j,k,l),h(q.data,r.data,g),a.putImageData(r,0,o)}}function y(a,b,c){var d=b.canvas,e=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var f=b.backdrop||null;if(!b.transferMap&&h.WebGLUtils.isEnabled){var g=h.WebGLUtils.composeSMask(c.canvas,d,{subtype:b.subtype,backdrop:f});return a.setTransform(1,0,0,1,0,0),void a.drawImage(g,b.offsetX,b.offsetY)}x(e,c,d.width,d.height,b.subtype,f,b.transferMap),a.drawImage(d,0,0)}var z=15,A=10,B=["butt","round","square"],C=["miter","round","bevel"],D={},E={};a.prototype={beginDrawing:function(a){var b=a.transform,c=a.viewport,d=a.transparency,e=a.background,f=void 0===e?null:e,g=this.ctx.canvas.width,h=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=f||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,g,h),this.ctx.restore(),d){var i=this.cachedCanvases.getCanvas("transparent",g,h,!0);this.compositeCtx=this.ctx,this.transparentCanvas=i.canvas,this.ctx=i.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),t(this.ctx),b&&this.ctx.transform.apply(this.ctx,b),this.ctx.transform.apply(this.ctx,c.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var e=a.argsArray,g=a.fnArray,h=b||0,i=e.length;if(i===h)return h;for(var j,k=i-h>A&&"function"==typeof c,l=k?Date.now()+z:0,m=0,n=this.commonObjs,o=this.objs;;){if(void 0!==d&&h===d.nextBreakPoint)return d.breakIt(h,c),h;if(j=g[h],j!==f.OPS.dependency)this[j].apply(this,e[h]);else for(var p=e[h],q=0,r=p.length;r>q;q++){var s=p[q],t="g"===s[0]&&"_"===s[1],u=t?n:o;if(!u.isResolved(s))return u.get(s,c),h}if(h++,h===i)return h;if(k&&++m>A){if(Date.now()>l)return c(),h;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),h.WebGLUtils.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=B[a]},setLineJoin:function(a){this.ctx.lineJoin=C[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent:function(a){},setFlatness:function(a){},setGState:function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b],e=d[0],f=d[1];switch(e){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=d[1];break;case"ca":this.current.fillAlpha=d[1],this.ctx.globalAlpha=d[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=a.canvas.width,c=a.canvas.height,d="smaskGroupAt"+this.groupLevel,e=this.cachedCanvases.getCanvas(d,b,c,!0),f=this.ctx,g=f.mozCurrentTransform;this.ctx.save();var h=e.context;h.scale(1/a.scaleX,1/a.scaleY),h.translate(-a.offsetX,-a.offsetY),h.transform.apply(h,g),a.startTransformInverse=h.mozCurrentTransformInverse,s(f,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(f),this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),y(this.ctx,this.current.activeSMask,a),this.ctx.restore(),this.ctx.save(),s(a,this.ctx),this.current.resumeSMaskCtx=a;var b=f.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b),a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.restore()},resumeSMaskGroup:function(){var a=this.current.resumeSMaskCtx,b=this.ctx;this.ctx=a,this.groupStack.push(b),this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),y(this.ctx,this.current.activeSMask,a),this.ctx.restore(),s(a,this.ctx);var b=f.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this.cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,d=this.current,e=d.x,g=d.y,h=0,i=0,j=a.length;j>h;h++)switch(0|a[h]){case f.OPS.rectangle:e=b[i++],g=b[i++];var k=b[i++],l=b[i++];0===k&&(k=this.getSinglePixelWidth()),0===l&&(l=this.getSinglePixelWidth());var m=e+k,n=g+l;this.ctx.moveTo(e,g),this.ctx.lineTo(m,g),this.ctx.lineTo(m,n),this.ctx.lineTo(e,n),this.ctx.lineTo(e,g),this.ctx.closePath();break;case f.OPS.moveTo:e=b[i++],g=b[i++],c.moveTo(e,g);break;case f.OPS.lineTo:e=b[i++],g=b[i++],c.lineTo(e,g);break;case f.OPS.curveTo:e=b[i+4],g=b[i+5],c.bezierCurveTo(b[i],b[i+1],b[i+2],b[i+3],e,g),i+=6;break;case f.OPS.curveTo2:c.bezierCurveTo(e,g,b[i],b[i+1],b[i+2],b[i+3]),e=b[i+2],g=b[i+3],i+=4;break;case f.OPS.curveTo3:e=b[i+2],g=b[i+3],c.bezierCurveTo(b[i],b[i+1],e,g,e,g),i+=4;break;case f.OPS.closePath:c.closePath()}d.setCurrentPoint(e,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){a="undefined"!=typeof a?a:!0;var b=this.ctx,c=this.current.strokeColor;b.lineWidth=Math.max(this.getSinglePixelWidth()*l,this.current.lineWidth),b.globalAlpha=this.current.strokeAlpha,c&&c.hasOwnProperty("type")&&"Pattern"===c.type?(b.save(),b.strokeStyle=c.getPattern(b,this),b.stroke(),b.restore()):b.stroke(),a&&this.consumePath(),b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(a){a="undefined"!=typeof a?a:!0;var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,e=!1;d&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),e=!0),this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill(),e&&b.restore(),a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=D},eoClip:function(){this.pendingClip=E},beginText:function(){this.current.textMatrix=f.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a)return void b.beginPath();b.save(),b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform),b.translate(d.x,d.y),d.addToPath(b,d.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),d=this.current;if(!c)throw new Error("Can't find font for "+a);if(d.fontMatrix=c.fontMatrix?c.fontMatrix:f.FONT_IDENTITY_MATRIX,(0===d.fontMatrix[0]||0===d.fontMatrix[3])&&f.warn("Invalid font matrix for font "+a),0>b?(b=-b,d.fontDirection=-1):d.fontDirection=1,this.current.font=c,this.current.fontSize=b,!c.isType3Font){var e=c.loadedName||"sans-serif",g=c.black?"900":c.bold?"bold":"normal",h=c.italic?"italic":"normal",k='"'+e+'", '+c.fallbackName,l=i>b?i:b>j?j:b;this.current.fontSizeScale=b/l;var m=h+" "+g+" "+l+"px "+k;this.ctx.font=m}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c){var d,e=this.ctx,g=this.current,h=g.font,i=g.textRenderingMode,j=g.fontSize/g.fontSizeScale,k=i&f.TextRenderingMode.FILL_STROKE_MASK,l=!!(i&f.TextRenderingMode.ADD_TO_PATH_FLAG);if((h.disableFontFace||l)&&(d=h.getPathGenerator(this.commonObjs,a)),h.disableFontFace?(e.save(),e.translate(b,c),e.beginPath(),d(e,j),(k===f.TextRenderingMode.FILL||k===f.TextRenderingMode.FILL_STROKE)&&e.fill(),(k===f.TextRenderingMode.STROKE||k===f.TextRenderingMode.FILL_STROKE)&&e.stroke(),e.restore()):((k===f.TextRenderingMode.FILL||k===f.TextRenderingMode.FILL_STROKE)&&e.fillText(a,b,c),(k===f.TextRenderingMode.STROKE||k===f.TextRenderingMode.FILL_STROKE)&&e.strokeText(a,b,c)),l){var m=this.pendingTextPaths||(this.pendingTextPaths=[]);m.push({transform:e.mozCurrentTransform,x:b,y:c,fontSize:j,addToPath:d})}},get isFontSubpixelAAEnabled(){var a=this.canvasFactory.create(10,10).context;a.scale(1.5,1),a.fillText("I",0,10);for(var b=a.getImageData(0,0,10,10).data,c=!1,d=3;d<b.length;d+=4)if(b[d]>0&&b[d]<255){c=!0;break}return f.shadow(this,"isFontSubpixelAAEnabled",c)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var d=b.fontSize;if(0!==d){var e=this.ctx,g=b.fontSizeScale,h=b.charSpacing,i=b.wordSpacing,j=b.fontDirection,k=b.textHScale*j,m=a.length,n=c.vertical,o=n?1:-1,p=c.defaultVMetrics,q=d*b.fontMatrix[0],r=b.textRenderingMode===f.TextRenderingMode.FILL&&!c.disableFontFace;e.save(),e.transform.apply(e,b.textMatrix),e.translate(b.x,b.y+b.textRise),b.patternFill&&(e.fillStyle=b.fillColor.getPattern(e,this)),j>0?e.scale(k,-1):e.scale(k,1);var s=b.lineWidth,t=b.textMatrixScale;if(0===t||0===s){var u=b.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;(u===f.TextRenderingMode.STROKE||u===f.TextRenderingMode.FILL_STROKE)&&(this.cachedGetSinglePixelWidth=null,s=this.getSinglePixelWidth()*l)}else s/=t;1!==g&&(e.scale(g,g),s/=g),e.lineWidth=s;var v,w=0;for(v=0;m>v;++v){var x=a[v];if(f.isNum(x))w+=o*x*d/1e3;else{var y,z,A,B,C=!1,D=(x.isSpace?i:0)+h,E=x.fontChar,F=x.accent,G=x.width;if(n){var H,I,J;H=x.vmetric||p,I=x.vmetric?H[1]:.5*G,I=-I*q,J=H[2]*q,G=H?-H[0]:G,y=I/g,z=(w+J)/g}else y=w/g,z=0;if(c.remeasure&&G>0){var K=1e3*e.measureText(E).width/d*g;if(K>G&&this.isFontSubpixelAAEnabled){var L=G/K;C=!0,e.save(),e.scale(L,1),y/=L}else G!==K&&(y+=(G-K)/2e3*d/g)}(x.isInFont||c.missingFile)&&(r&&!F?e.fillText(E,y,z):(this.paintChar(E,y,z),F&&(A=y+F.offset.x/g,B=z-F.offset.y/g,this.paintChar(F.fontChar,A,B))));var M=G*q+D*j;w+=M,C&&e.restore()}}n?b.y-=w*k:b.x+=w*k,e.restore()}},showType3Text:function(a){var b,c,d,e,g=this.ctx,h=this.current,i=h.font,j=h.fontSize,k=h.fontDirection,l=i.vertical?1:-1,m=h.charSpacing,n=h.wordSpacing,o=h.textHScale*k,p=h.fontMatrix||f.FONT_IDENTITY_MATRIX,q=a.length,r=h.textRenderingMode===f.TextRenderingMode.INVISIBLE;if(!r&&0!==j){for(this.cachedGetSinglePixelWidth=null,g.save(),g.transform.apply(g,h.textMatrix),g.translate(h.x,h.y),g.scale(o,k),b=0;q>b;++b)if(c=a[b],f.isNum(c))e=l*c*j/1e3,this.ctx.translate(e,0),h.x+=e*o;else{var s=(c.isSpace?n:0)+m,t=i.charProcOperatorList[c.operatorListId];if(t){this.processingType3=c,this.save(),g.scale(j,j),g.transform.apply(g,p),this.executeOperatorList(t),this.restore();var u=f.Util.applyTransform([c.width,0],p);d=u[0]*j+s,g.translate(d,0),h.x+=d*o}else f.warn('Type3 character "'+c.operatorListId+'" is not available.')}g.restore(),this.processingType3=null}},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d),this.clip(),this.endPath()},getColorN_Pattern:function(b){var c,d=this;if("TilingPattern"===b[0]){var e=b[1],f=this.baseTransform||this.ctx.mozCurrentTransform.slice(),h={createCanvasGraphics:function(b){return new a(b,d.commonObjs,d.objs,d.canvasFactory)}};c=new g.TilingPattern(b,e,this.ctx,h,f)}else c=g.getShadingPatternFromIR(b);return c},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){var d=f.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=d,this.current.strokeColor=d},setFillRGBColor:function(a,b,c){var d=f.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=d,this.current.fillColor=d,this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();var c=g.getShadingPatternFromIR(a);b.fillStyle=c.getPattern(b,this,!0);var d=b.mozCurrentTransformInverse;if(d){var e=b.canvas,h=e.width,i=e.height,j=f.Util.applyTransform([0,0],d),k=f.Util.applyTransform([0,i],d),l=f.Util.applyTransform([h,0],d),m=f.Util.applyTransform([h,i],d),n=Math.min(j[0],k[0],l[0],m[0]),o=Math.min(j[1],k[1],l[1],m[1]),p=Math.max(j[0],k[0],l[0],m[0]),q=Math.max(j[1],k[1],l[1],m[1]);this.ctx.fillRect(n,o,p-n,q-o)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){throw new Error("Should not call beginInlineImage")},beginImageData:function(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,Array.isArray(b)&&4===b.length){var c=b[2]-b[0],d=b[3]-b[1];this.ctx.rect(b[0],b[1],c,d),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||f.info("TODO: Support non-isolated groups."),a.knockout&&f.warn("Knockout groups not supported.");var c=b.mozCurrentTransform;if(a.matrix&&b.transform.apply(b,a.matrix),!a.bbox)throw new Error("Bounding box is required.");var d=f.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),e=[0,0,b.canvas.width,b.canvas.height];d=f.Util.intersect(d,e)||[0,0,0,0];var g=Math.floor(d[0]),h=Math.floor(d[1]),i=Math.max(Math.ceil(d[2])-g,1),j=Math.max(Math.ceil(d[3])-h,1),l=1,m=1;i>k&&(l=i/k,i=k),j>k&&(m=j/k,j=k);var n="groupAt"+this.groupLevel;a.smask&&(n+="_smask_"+this.smaskCounter++%2);var o=this.cachedCanvases.getCanvas(n,i,j,!0),p=o.context;p.scale(1/l,1/m),p.translate(-g,-h),p.transform.apply(p,c),a.smask?this.smaskStack.push({canvas:o.canvas,context:p,offsetX:g,offsetY:h,scaleX:l,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(g,h),b.scale(l,m)),s(b,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++,this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){if(this.save(),t(this.ctx),this.current=new r,Array.isArray(a)&&4===a.length){var d=a[2]-a[0],e=a[3]-a[1];this.ctx.rect(a[0],a[1],d,e),this.clip(),this.endPath()}this.transform.apply(this,b),this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(!d)return void f.warn("Dependent image isn't ready yet");this.save();var e=this.ctx;if(e.scale(1/b,-1/c),e.drawImage(d,0,0,d.width,d.height,0,-c,b,c),this.imageLayer){var g=e.mozCurrentTransformInverse,h=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:a,left:h[0],top:h[1],width:b/g[0],height:c/g[3]})}this.restore()},paintImageMaskXObject:function(a){var b=this.ctx,d=a.width,f=a.height,g=this.current.fillColor,h=this.current.patternFill,i=this.processingType3;if(m&&i&&void 0===i.compiled&&(n>=d&&n>=f?i.compiled=e({data:a.data,width:d,height:f}):i.compiled=null),i&&i.compiled)return void i.compiled(b);var j=this.cachedCanvases.getCanvas("maskCanvas",d,f),k=j.context;k.save(),c(k,a),k.globalCompositeOperation="source-in",k.fillStyle=h?g.getPattern(k,this):g,k.fillRect(0,0,d,f),k.restore(),this.paintInlineImageXObject(j.canvas)},paintImageMaskXObjectRepeat:function(a,b,d,e){var f=a.width,g=a.height,h=this.current.fillColor,i=this.current.patternFill,j=this.cachedCanvases.getCanvas("maskCanvas",f,g),k=j.context;k.save(),c(k,a),k.globalCompositeOperation="source-in",k.fillStyle=i?h.getPattern(k,this):h,k.fillRect(0,0,f,g),k.restore();for(var l=this.ctx,m=0,n=e.length;n>m;m+=2)l.save(),l.transform(b,0,0,d,e[m],e[m+1]),l.scale(1,-1),l.drawImage(j.canvas,0,0,f,g,0,-1,1,1),l.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,d=this.current.fillColor,e=this.current.patternFill,f=0,g=a.length;g>f;f++){var h=a[f],i=h.width,j=h.height,k=this.cachedCanvases.getCanvas("maskCanvas",i,j),l=k.context;l.save(),c(l,h),l.globalCompositeOperation="source-in",l.fillStyle=e?d.getPattern(l,this):d,l.fillRect(0,0,i,j),l.restore(),b.save(),b.transform.apply(b,h.transform),b.scale(1,-1),b.drawImage(k.canvas,0,0,i,j,0,-1,1,1),b.restore()}},paintImageXObject:function(a){var b=this.objs.get(a);return b?void this.paintInlineImageXObject(b):void f.warn("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){var e=this.objs.get(a);if(!e)return void f.warn("Dependent image isn't ready yet");for(var g=e.width,h=e.height,i=[],j=0,k=d.length;k>j;j+=2)i.push({transform:[b,0,0,c,d[j],d[j+1]],x:0,y:0,w:g,h:h});this.paintInlineImageXObjectGroup(e,i)},paintInlineImageXObject:function(a){var c=a.width,d=a.height,e=this.ctx;this.save(),e.scale(1/c,-1/d);var f,g,h=e.mozCurrentTransformInverse,i=h[0],j=h[1],k=Math.max(Math.sqrt(i*i+j*j),1),l=h[2],m=h[3],n=Math.max(Math.sqrt(l*l+m*m),1);if(a instanceof HTMLElement||!a.data)f=a;else{g=this.cachedCanvases.getCanvas("inlineImage",c,d);var o=g.context;b(o,a),f=g.canvas}for(var p=c,q=d,r="prescale1";k>2&&p>1||n>2&&q>1;){var s=p,t=q;k>2&&p>1&&(s=Math.ceil(p/2),k/=p/s),n>2&&q>1&&(t=Math.ceil(q/2),n/=q/t),g=this.cachedCanvases.getCanvas(r,s,t),o=g.context,o.clearRect(0,0,s,t),o.drawImage(f,0,0,p,q,0,0,s,t),f=g.canvas,p=s,q=t,r="prescale1"===r?"prescale2":"prescale1"}if(e.drawImage(f,0,0,p,q,0,-d,c,d),this.imageLayer){var u=this.getCanvasPosition(0,-d);this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:c/h[0],height:d/h[3]})}this.restore()},paintInlineImageXObjectGroup:function(a,c){var d=this.ctx,e=a.width,f=a.height,g=this.cachedCanvases.getCanvas("inlineImage",e,f),h=g.context;b(h,a);for(var i=0,j=c.length;j>i;i++){var k=c[i];if(d.save(),d.transform.apply(d,k.transform),d.scale(1,-1),d.drawImage(g.canvas,k.x,k.y,k.w,k.h,0,-1,1,1),this.imageLayer){var l=this.getCanvasPosition(k.x,k.y);this.imageLayer.appendImage({imgData:a,left:l[0],top:l[1],width:e,height:f})}d.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){f.warn("Unsupported 'paintXObject' command.")},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===E?a.clip("evenodd"):a.clip(),this.pendingClip=null),a.beginPath()},getSinglePixelWidth:function(a){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var b=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(b[0]*b[0]+b[1]*b[1],b[2]*b[2]+b[3]*b[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var F in f.OPS)a.prototype[f.OPS[F]]=a.prototype[F];return a}();b.CanvasGraphics=s},function(a,b,c){"use strict";function d(a){var b=g[a[0]];if(!b)throw new Error("Unknown IR type: "+a[0]);return b.fromIR(a)}Object.defineProperty(b,"__esModule",{value:!0}),b.TilingPattern=b.getShadingPatternFromIR=void 0;var e=c(0),f=c(70),g={};g.RadialAxial={fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],g=a[6];return{type:"Pattern",getPattern:function(a){var h;"axial"===b?h=a.createLinearGradient(d[0],d[1],e[0],e[1]):"radial"===b&&(h=a.createRadialGradient(d[0],d[1],f,e[0],e[1],g));for(var i=0,j=c.length;j>i;++i){var k=c[i];h.addColorStop(k[0],k[1])}return h}}}};var h=function(){function a(a,b,c,d,e,f,g,h){var i,j=b.coords,k=b.colors,l=a.data,m=4*a.width;j[c+1]>j[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i),j[d+1]>j[e+1]&&(i=d,d=e,e=i,i=g,g=h,h=i),j[c+1]>j[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i);var n=(j[c]+b.offsetX)*b.scaleX,o=(j[c+1]+b.offsetY)*b.scaleY,p=(j[d]+b.offsetX)*b.scaleX,q=(j[d+1]+b.offsetY)*b.scaleY,r=(j[e]+b.offsetX)*b.scaleX,s=(j[e+1]+b.offsetY)*b.scaleY;if(!(o>=s))for(var t,u,v,w,x,y,z,A,B,C=k[f],D=k[f+1],E=k[f+2],F=k[g],G=k[g+1],H=k[g+2],I=k[h],J=k[h+1],K=k[h+2],L=Math.round(o),M=Math.round(s),N=L;M>=N;N++){q>N?(B=o>N?0:o===q?1:(o-N)/(o-q),t=n-(n-p)*B,u=C-(C-F)*B,v=D-(D-G)*B,w=E-(E-H)*B):(B=N>s?1:q===s?0:(q-N)/(q-s),t=p-(p-r)*B,u=F-(F-I)*B,v=G-(G-J)*B,w=H-(H-K)*B),B=o>N?0:N>s?1:(o-N)/(o-s),x=n-(n-r)*B,y=C-(C-I)*B,z=D-(D-J)*B,A=E-(E-K)*B;for(var O=Math.round(Math.min(t,x)),P=Math.round(Math.max(t,x)),Q=m*N+4*O,R=O;P>=R;R++)B=(t-R)/(t-x),B=0>B?0:B>1?1:B,l[Q++]=u-(u-y)*B|0,l[Q++]=v-(v-z)*B|0,l[Q++]=w-(w-A)*B|0,l[Q++]=255}}function b(b,c,d){var e,f,g=c.coords,h=c.colors;switch(c.type){case"lattice":var i=c.verticesPerRow,j=Math.floor(g.length/i)-1,k=i-1;for(e=0;j>e;e++)for(var l=e*i,m=0;k>m;m++,l++)a(b,d,g[l],g[l+1],g[l+i],h[l],h[l+1],h[l+i]),a(b,d,g[l+i+1],g[l+1],g[l+i],h[l+i+1],h[l+1],h[l+i]);break;case"triangles":for(e=0,f=g.length;f>e;e+=3)a(b,d,g[e],g[e+1],g[e+2],h[e],h[e+1],h[e+2]);break;default:throw new Error("illegal figure")}}function c(a,c,d,e,g,h,i){var j,k,l,m,n=1.1,o=3e3,p=2,q=Math.floor(a[0]),r=Math.floor(a[1]),s=Math.ceil(a[2])-q,t=Math.ceil(a[3])-r,u=Math.min(Math.ceil(Math.abs(s*c[0]*n)),o),v=Math.min(Math.ceil(Math.abs(t*c[1]*n)),o),w=s/u,x=t/v,y={coords:d,colors:e,offsetX:-q,offsetY:-r,scaleX:1/w,scaleY:1/x},z=u+2*p,A=v+2*p;if(f.WebGLUtils.isEnabled)j=f.WebGLUtils.drawFigures(u,v,h,g,y),k=i.getCanvas("mesh",z,A,!1),k.context.drawImage(j,p,p),j=k.canvas;else{k=i.getCanvas("mesh",z,A,!1);var B=k.context,C=B.createImageData(u,v);if(h){var D=C.data;for(l=0,m=D.length;m>l;l+=4)D[l]=h[0],D[l+1]=h[1],D[l+2]=h[2],D[l+3]=255}for(l=0;l<g.length;l++)b(C,g[l],y);B.putImageData(C,p,p),j=k.canvas}return{canvas:j,offsetX:q-p*w,offsetY:r-p*x,scaleX:w,scaleY:x}}return c}();g.Mesh={fromIR:function(a){var b=a[2],c=a[3],d=a[4],f=a[5],g=a[6],i=a[8];return{type:"Pattern",getPattern:function(a,j,k){var l;if(k)l=e.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(l=e.Util.singularValueDecompose2dScale(j.baseTransform),g){var m=e.Util.singularValueDecompose2dScale(g);l=[l[0]*m[0],l[1]*m[1]]}var n=h(f,l,b,c,d,k?null:i,j.cachedCanvases);return k||(a.setTransform.apply(a,j.baseTransform),g&&a.transform.apply(a,g)),a.translate(n.offsetX,n.offsetY),a.scale(n.scaleX,n.scaleY),a.createPattern(n.canvas,"no-repeat")}}}},g.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var i=function(){function a(a,b,c,d,e){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=b,this.canvasGraphicsFactory=d,this.baseTransform=e,this.type="Pattern",this.ctx=c}var b={COLORED:1,UNCOLORED:2},c=3e3;return a.prototype={createPatternCanvas:function(a){var b=this.operatorList,d=this.bbox,f=this.xstep,g=this.ystep,h=this.paintType,i=this.tilingType,j=this.color,k=this.canvasGraphicsFactory;e.info("TilingType: "+i);var l=d[0],m=d[1],n=d[2],o=d[3],p=[l,m],q=[l+f,m+g],r=q[0]-p[0],s=q[1]-p[1],t=e.Util.singularValueDecompose2dScale(this.matrix),u=e.Util.singularValueDecompose2dScale(this.baseTransform),v=[t[0]*u[0],t[1]*u[1]];r=Math.min(Math.ceil(Math.abs(r*v[0])),c),s=Math.min(Math.ceil(Math.abs(s*v[1])),c);var w=a.cachedCanvases.getCanvas("pattern",r,s,!0),x=w.context,y=k.createCanvasGraphics(x);y.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(y,h,j),this.setScale(r,s,f,g),this.transformToScale(y);var z=[1,0,0,1,-p[0],-p[1]];return y.transform.apply(y,z),this.clipBbox(y,d,l,m,n,o),y.executeOperatorList(b),w.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale,c=[b[0],0,0,b[1],0,0];a.transform.apply(a,c)},scaleToContext:function(){var a=this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,e,f){if(Array.isArray(b)&&4===b.length){var g=e-c,h=f-d;a.ctx.rect(c,d,g,h),a.clip(),a.endPath()}},setFillAndStrokeStyleToContext:function(a,c,d){var f=a.ctx,g=a.current;switch(c){case b.COLORED:var h=this.ctx;f.fillStyle=h.fillStyle,f.strokeStyle=h.strokeStyle,g.fillColor=h.fillStyle,g.strokeColor=h.strokeStyle;break;case b.UNCOLORED:var i=e.Util.makeCssRgb(d[0],d[1],d[2]);f.fillStyle=i,f.strokeStyle=i,g.fillColor=i,g.strokeColor=i;break;default:throw new e.FormatError("Unsupported paint type: "+c)}},getPattern:function(a,b){var c=this.createPatternCanvas(b);return a=this.ctx,a.setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix),this.scaleToContext(),a.createPattern(c,"repeat")}},a}();b.getShadingPatternFromIR=d,b.TilingPattern=i},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){var c=a[b];return" "===c||"\n"===c||"\r"===c||"	"===c}function h(a){for(var b=0,c=a.length;c>b;b++)if(!g(a,b))return!1;return!0}Object.defineProperty(b,"__esModule",{value:!0});var i=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=function p(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:p(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,
OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10},m=function(){function a(){f(this,a)}return k(a,[{key:"_resolveEntities",value:function(a){return a.replace(/&([^;]+);/g,function(a,b){if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(b)})}},{key:"_parseContent",value:function(a,b){function c(){for(;d<a.length&&g(a,d);)++d}for(var d=b,e=void 0,f=[];d<a.length&&!g(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;for(e=a.substring(b,d),c();d<a.length&&">"!==a[d]&&"/"!==a[d]&&"?"!==a[d];){c();for(var h="",i="";d<a.length&&!g(a,d)&&"="!==a[d];)h+=a[d],++d;if(c(),"="!==a[d])return null;++d,c();var j=a[d];if('"'!==j&&"'"!==j)return null;var k=a.indexOf(j,++d);if(0>k)return null;i=a.substring(d,k),f.push({name:h,value:this._resolveEntities(i)}),d=k+1,c()}return{name:e,attributes:f,parsed:d-b}}},{key:"_parseProcessingInstruction",value:function(a,b){function c(){for(;d<a.length&&g(a,d);)++d}for(var d=b,e=void 0,f=void 0;d<a.length&&!g(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;e=a.substring(b,d),c();for(var h=d;d<a.length&&("?"!==a[d]||">"!==a[d+1]);)++d;return f=a.substring(h,d),{name:e,value:f,parsed:d-b}}},{key:"parseXml",value:function(a){for(var b=0;b<a.length;){var c=a[b],d=b;if("<"===c){++d;var e=a[d],f=void 0;switch(e){case"/":if(++d,f=a.indexOf(">",d),0>f)return void this.onError(l.UnterminatedElement);this.onEndElement(a.substring(d,f)),d=f+1;break;case"?":++d;var g=this._parseProcessingInstruction(a,d);if("?>"!==a.substring(d+g.parsed,d+g.parsed+2))return void this.onError(l.UnterminatedXmlDeclaration);this.onPi(g.name,g.value),d+=g.parsed+2;break;case"!":if("--"===a.substring(d+1,d+3)){if(f=a.indexOf("-->",d+3),0>f)return void this.onError(l.UnterminatedComment);this.onComment(a.substring(d+3,f)),d=f+3}else if("[CDATA["===a.substring(d+1,d+8)){if(f=a.indexOf("]]>",d+8),0>f)return void this.onError(l.UnterminatedCdat);this.onCdata(a.substring(d+8,f)),d=f+3}else{if("DOCTYPE"!==a.substring(d+1,d+8))return void this.onError(l.MalformedElement);var h=a.indexOf("[",d+8),i=!1;if(f=a.indexOf(">",d+8),0>f)return void this.onError(l.UnterminatedDoctypeDeclaration);if(h>0&&f>h){if(f=a.indexOf("]>",d+8),0>f)return void this.onError(l.UnterminatedDoctypeDeclaration);i=!0}var j=a.substring(d+8,f+(i?1:0));this.onDoctype(j),d=f+(i?2:1)}break;default:var k=this._parseContent(a,d);if(null===k)return void this.onError(l.MalformedElement);var m=!1;if("/>"===a.substring(d+k.parsed,d+k.parsed+2))m=!0;else if(">"!==a.substring(d+k.parsed,d+k.parsed+1))return void this.onError(l.UnterminatedElement);this.onBeginElement(k.name,k.attributes,m),d+=k.parsed+(m?2:1)}}else{for(;d<a.length&&"<"!==a[d];)d++;var n=a.substring(b,d);this.onText(this._resolveEntities(n))}b=d}}},{key:"onResolveEntity",value:function(a){return"&"+a+";"}},{key:"onPi",value:function(a,b){}},{key:"onComment",value:function(a){}},{key:"onCdata",value:function(a){}},{key:"onDoctype",value:function(a){}},{key:"onText",value:function(a){}},{key:"onBeginElement",value:function(a,b,c){}},{key:"onEndElement",value:function(a){}},{key:"onError",value:function(a){}}]),a}(),n=function(){function a(b,c){f(this,a),this.nodeName=b,this.nodeValue=c,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return k(a,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){var a=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[a+1]}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(a){return a.textContent}).join(""):this.nodeValue||""}}]),a}(),o=function(a){function b(){f(this,b);var a=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._currentFragment=null,a._stack=null,a._errorCode=l.NoError,a}return e(b,a),k(b,[{key:"parseFromString",value:function(a){if(this._currentFragment=[],this._stack=[],this._errorCode=l.NoError,this.parseXml(a),this._errorCode!==l.NoError)return void 0;var b=i(this._currentFragment,1),c=b[0];return{documentElement:c}}},{key:"onResolveEntity",value:function(a){switch(a){case"apos":return"'"}return j(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResolveEntity",this).call(this,a)}},{key:"onText",value:function(a){if(!h(a)){var b=new n("#text",a);this._currentFragment.push(b)}}},{key:"onCdata",value:function(a){var b=new n("#text",a);this._currentFragment.push(b)}},{key:"onBeginElement",value:function(a,b,c){var d=new n(a);d.childNodes=[],this._currentFragment.push(d),c||(this._stack.push(this._currentFragment),this._currentFragment=d.childNodes)}},{key:"onEndElement",value:function(a){this._currentFragment=this._stack.pop();for(var b=this._currentFragment[this._currentFragment.length-1],c=0,d=b.childNodes.length;d>c;c++)b.childNodes[c].parentNode=b}},{key:"onError",value:function(a){this._errorCode=a}}]),b}(m);b.SimpleXMLParser=o},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDataTransportStream=void 0;var d=c(0),e=function(){function a(a,b){var c=this;d.assert(b),this._queuedChunks=[];var e=a.initialData;if(e&&e.length>0){var f=new Uint8Array(e).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=b,this._isRangeSupported=!a.disableRange,this._isStreamingSupported=!a.disableStream,this._contentLength=a.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(a,b){c._onReceiveData({begin:a,chunk:b})}),this._pdfDataRangeTransport.addProgressListener(function(a){c._onProgress({loaded:a})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(a){c._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.transportReady()}function b(a,b){this._stream=a,this._done=!1,this._queuedChunks=b||[],this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}function c(a,b,c){this._stream=a,this._begin=b,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return a.prototype={_onReceiveData:function(a){var b=new Uint8Array(a.chunk).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{var c=this._rangeReaders.some(function(c){return c._begin!==a.begin?!1:(c._enqueue(b),!0)});d.assert(c)}},_onProgress:function(a){if(this._rangeReaders.length>0){var b=this._rangeReaders[0];b.onProgress&&b.onProgress({loaded:a.loaded})}},_removeRangeReader:function(a){var b=this._rangeReaders.indexOf(a);b>=0&&this._rangeReaders.splice(b,1)},getFullReader:function(){d.assert(!this._fullRequestReader);var a=this._queuedChunks;return this._queuedChunks=null,new b(this,a)},getRangeReader:function(a,b){var d=new c(this,a,b);return this._pdfDataRangeTransport.requestDataRange(a,b),this._rangeReaders.push(d),d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeReaders.slice(0);b.forEach(function(b){b.cancel(a)}),this._pdfDataRangeTransport.abort()}},b.prototype={_enqueue:function(a){if(!this._done){if(this._requests.length>0){var b=this._requests.shift();return void b.resolve({value:a,done:!1})}this._queuedChunks.push(a)}},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(this._queuedChunks.length>0){var a=this._queuedChunks.shift();return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var b=d.createPromiseCapability();return this._requests.push(b),b.promise},cancel:function(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}},c.prototype={_enqueue:function(a){if(!this._done){if(0===this._requests.length)this._queuedChunk=a;else{var b=this._requests.shift();b.resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var a=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var b=d.createPromiseCapability();return this._requests.push(b),b.promise},cancel:function(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},a}();b.PDFDataTransportStream=e},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNodeStream=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(0),j=c(44),k=require("fs"),l=require("http"),m=require("https"),n=require("url"),o=function(){function a(b){f(this,a),this.options=b,this.source=b.source,this.url=n.parse(this.source.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol||!this.url.host,this.httpHeaders=this.isHttp&&this.source.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return h(a,[{key:"getFullReader",value:function(){return i.assert(!this._fullRequest),this._fullRequest=this.isFsUrl?new t(this):new r(this),this._fullRequest}},{key:"getRangeReader",value:function(a,b){var c=this.isFsUrl?new u(this,a,b):new s(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequest&&this._fullRequest.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}]),a}(),p=function(){function a(b){f(this,a),this._url=b.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null,this._contentLength=b.source.length,this._loaded=0,this._disableRange=b.options.disableRange||!1,this._rangeChunkSize=b.source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!b.source.disableStream,this._isRangeSupported=!b.options.disableRange,this._readableStream=null,this._readCapability=i.createPromiseCapability(),this._headersCapability=i.createPromiseCapability()}return h(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=i.createPromiseCapability(),a.read();a._loaded+=b.length,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength});var c=new Uint8Array(b).buffer;return Promise.resolve({value:c,done:!1})})}},{key:"cancel",value:function(a){return this._readableStream?void this._readableStream.destroy(a):void this._error(a)}},{key:"_error",value:function(a){this._errored=!0,this._reason=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._errored&&this._readableStream.destroy(this._reason)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),q=function(){function a(b){f(this,a),this._url=b.url,this._done=!1,this._errored=!1,this._reason=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=i.createPromiseCapability(),this._isStreamingSupported=!b.source.disableStream}return h(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){if(a._done)return Promise.resolve({value:void 0,done:!0});if(a._errored)return Promise.reject(a._reason);var b=a._readableStream.read();if(null===b)return a._readCapability=i.createPromiseCapability(),a.read();a._loaded+=b.length,a.onProgress&&a.onProgress({loaded:a._loaded});var c=new Uint8Array(b).buffer;return Promise.resolve({value:c,done:!1})})}},{key:"cancel",value:function(a){return this._readableStream?void this._readableStream.destroy(a):void this._error(a)}},{key:"_error",value:function(a){this._errored=!0,this._reason=a,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(a){var b=this;this._readableStream=a,a.on("readable",function(){b._readCapability.resolve()}),a.on("end",function(){a.destroy(),b._done=!0,b._readCapability.resolve()}),a.on("error",function(a){b._error(a)}),this._errored&&this._readableStream.destroy(this._reason)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),r=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=function(b){c._headersCapability.resolve(),c._setReadableStream(b);var d=j.validateRangeRequestCapabilities({getResponseHeader:function(a){return c._readableStream.headers[a.toLowerCase()]},isHttp:a.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),e=d.allowRangeRequests,f=d.suggestedLength;e&&(c._isRangeSupported=!0),c._contentLength=f};return c._request=null,"http:"===c._url.protocol?c._request=l.request(g(c._url,a.httpHeaders),e):c._request=m.request(g(c._url,a.httpHeaders),e),c._request.on("error",function(a){c._errored=!0,c._reason=a,c._headersCapability.reject(a)}),c._request.end(),c}return e(b,a),b}(p),s=function(a){function b(a,c,e){f(this,b);var h=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));h._httpHeaders={};for(var i in a.httpHeaders){var j=a.httpHeaders[i];"undefined"!=typeof j&&(h._httpHeaders[i]=j)}return h._httpHeaders.Range="bytes="+c+"-"+(e-1),h._request=null,"http:"===h._url.protocol?h._request=l.request(g(h._url,h._httpHeaders),function(a){h._setReadableStream(a)}):h._request=m.request(g(h._url,h._httpHeaders),function(a){h._setReadableStream(a)}),h._request.on("error",function(a){h._errored=!0,h._reason=a}),h._request.end(),h}return e(b,a),b}(q),t=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=decodeURI(c._url.path);return k.lstat(e,function(a,b){return a?(c._errored=!0,c._reason=a,void c._headersCapability.reject(a)):(c._contentLength=b.size,c._setReadableStream(k.createReadStream(e)),void c._headersCapability.resolve())}),c}return e(b,a),b}(p),u=function(a){function b(a,c,e){f(this,b);var g=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return g._setReadableStream(k.createReadStream(decodeURI(g._url.path),{start:c,end:e-1})),g}return e(b,a),b}(q);b.PDFNodeStream=o},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){return{method:"GET",headers:a,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFetchStream=void 0;var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(0),h=c(44),i=function(){function a(b){d(this,a),this.options=b,this.source=b.source,this.isHttp=/^https?:/i.test(this.source.url),this.httpHeaders=this.isHttp&&this.source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(a,[{key:"getFullReader",value:function(){return g.assert(!this._fullRequestReader),this._fullRequestReader=new j(this),this._fullRequestReader}},{key:"getRangeReader",value:function(a,b){var c=new k(this,a,b);return this._rangeRequestReaders.push(c),c}},{key:"cancelAllRequests",value:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}]),a}(),j=function(){function a(b){var c=this;d(this,a),this._stream=b,this._reader=null,this._loaded=0,this._withCredentials=b.source.withCredentials,this._contentLength=this._stream.source.length,this._headersCapability=g.createPromiseCapability(),this._disableRange=this._stream.options.disableRange,this._rangeChunkSize=this._stream.source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isRangeSupported=!this._stream.options.disableRange,this._isStreamingSupported=!this._stream.source.disableStream,this._headers=new Headers;for(var f in this._stream.httpHeaders){var i=this._stream.httpHeaders[f];"undefined"!=typeof i&&this._headers.append(f,i)}var j=this._stream.source.url;fetch(j,e(this._headers,this._withCredentials)).then(function(a){if(!h.validateResponseStatus(a.status))throw h.createResponseStatusError(a.status,j);c._reader=a.body.getReader(),c._headersCapability.resolve();var b=h.validateRangeRequestCapabilities({getResponseHeader:function(b){return a.headers.get(b)},isHttp:c._stream.isHttp,rangeChunkSize:c._rangeChunkSize,disableRange:c._disableRange}),d=b.allowRangeRequests,e=b.suggestedLength;c._contentLength=e,c._isRangeSupported=d,!c._isStreamingSupported&&c._isRangeSupported&&c.cancel(new g.AbortException("streaming is disabled"))})["catch"](this._headersCapability.reject),this.onProgress=null}return f(a,[{key:"read",value:function(){var a=this;return this._headersCapability.promise.then(function(){return a._reader.read().then(function(b){var c=b.value,d=b.done;if(d)return Promise.resolve({value:c,done:d});a._loaded+=c.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength});var e=new Uint8Array(c).buffer;return Promise.resolve({value:e,done:!1})})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}(),k=function(){function a(b,c,f){var i=this;d(this,a),this._stream=b,this._reader=null,this._loaded=0,this._withCredentials=b.source.withCredentials,this._readCapability=g.createPromiseCapability(),this._isStreamingSupported=!b.source.disableStream,this._headers=new Headers;for(var j in this._stream.httpHeaders){var k=this._stream.httpHeaders[j];"undefined"!=typeof k&&this._headers.append(j,k)}var l=c+"-"+(f-1);this._headers.append("Range","bytes="+l);var m=this._stream.source.url;fetch(m,e(this._headers,this._withCredentials)).then(function(a){if(!h.validateResponseStatus(a.status))throw h.createResponseStatusError(a.status,m);i._readCapability.resolve(),i._reader=a.body.getReader()}),this.onProgress=null}return f(a,[{key:"read",value:function(){var a=this;return this._readCapability.promise.then(function(){return a._reader.read().then(function(b){var c=b.value,d=b.done;if(d)return Promise.resolve({value:c,done:d});a._loaded+=c.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded});var e=new Uint8Array(c).buffer;return Promise.resolve({value:e,done:!1})})})}},{key:"cancel",value:function(a){this._reader&&this._reader.cancel(a)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),a}();b.PDFFetchStream=i},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){this.url=a,b=b||{},this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function f(a){var b=a.response;if("string"!=typeof b)return b;var c=j.stringToBytes(b);return c.buffer}function g(a){this._options=a;var b=a.source;this._manager=new e(b.url,{httpHeaders:b.httpHeaders,withCredentials:b.withCredentials}),this._rangeChunkSize=b.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function h(a,b){this._manager=a;var c=b.source,d={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:c.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=c.url,this._fullRequestId=a.requestFull(d),this._headersReceivedCapability=j.createPromiseCapability(),this._disableRange=b.disableRange||!1,this._contentLength=c.length,this._rangeChunkSize=c.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this.onProgress=null}function i(a,b,c){this._manager=a;var d={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,c,d),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}Object.defineProperty(b,"__esModule",{value:!0}),b.NetworkManager=b.PDFNetworkStream=void 0;var j=c(0),k=c(44),l=c(20),m=d(l),n=200,o=206,p=function(){try{var a=new XMLHttpRequest;return a.open("GET",m["default"].location.href),a.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===a.responseType}catch(b){return!1}}();e.prototype={requestRange:function(a,b,c){var d={begin:a,end:b};for(var e in c)d[e]=c[e];return this.request(d)},requestFull:function(a){return this.request(a)},request:function(a){var b=this.getXhr(),c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};b.open("GET",this.url),b.withCredentials=this.withCredentials;for(var e in this.httpHeaders){var f=this.httpHeaders[e];"undefined"!=typeof f&&b.setRequestHeader(e,f)}if(this.isHttp&&"begin"in a&&"end"in a){var g=a.begin+"-"+(a.end-1);b.setRequestHeader("Range","bytes="+g),d.expectedStatus=206}else d.expectedStatus=200;var h=p&&!!a.onProgressiveData;return h?(b.responseType="moz-chunked-arraybuffer",d.onProgressiveData=a.onProgressiveData,d.mozChunked=!0):b.responseType="arraybuffer",a.onError&&(b.onerror=function(c){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,c),b.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=a.onHeadersReceived,d.onDone=a.onDone,d.onError=a.onError,d.onProgress=a.onProgress,b.send(null),c},onProgress:function(a,b){var c=this.pendingRequests[a];if(c){if(c.mozChunked){var d=f(c.xhr);c.onProgressiveData(d)}var e=c.onProgress;e&&e(b)}},onStateChange:function(a,b){var c=this.pendingRequests[a];if(c){var d=c.xhr;if(d.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4===d.readyState&&a in this.pendingRequests){if(delete this.pendingRequests[a],0===d.status&&this.isHttp)return void(c.onError&&c.onError(d.status));var e=d.status||n,g=e===n&&c.expectedStatus===o;if(!g&&e!==c.expectedStatus)return void(c.onError&&c.onError(d.status));this.loadedRequests[a]=!0;var h=f(d);if(e===o){var i=d.getResponseHeader("Content-Range"),j=/bytes (\d+)-(\d+)\/(\d+)/.exec(i),k=parseInt(j[1],10);c.onDone({begin:k,chunk:h})}else c.onProgressiveData?c.onDone(null):h?c.onDone({begin:0,chunk:h}):c.onError&&c.onError(d.status)}}},hasPendingRequests:function(){for(var a in this.pendingRequests)return!0;return!1},getRequestXhr:function(a){return this.pendingRequests[a].xhr},isStreamingRequest:function(a){return!!this.pendingRequests[a].onProgressiveData},isPendingRequest:function(a){return a in this.pendingRequests},isLoadedRequest:function(a){return a in this.loadedRequests},abortAllRequests:function(){for(var a in this.pendingRequests)this.abortRequest(0|a)},abortRequest:function(a){var b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}},g.prototype={_onRangeRequestReaderClosed:function(a){var b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)},getFullReader:function(){return j.assert(!this._fullRequestReader),this._fullRequestReader=new h(this._manager,this._options),this._fullRequestReader},getRangeReader:function(a,b){var c=new i(this._manager,a,b);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}},h.prototype={_onHeadersReceived:function(){var a=this._fullRequestId,b=this._manager.getRequestXhr(a),c=k.validateRangeRequestCapabilities({getResponseHeader:function(a){return b.getResponseHeader(a)},isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),d=c.allowRangeRequests,e=c.suggestedLength;this._contentLength=e||this._contentLength,d&&(this._isRangeSupported=!0);var f=this._manager;f.isStreamingRequest(a)?this._isStreamingSupported=!0:this._isRangeSupported&&f.abortRequest(a),this._headersReceivedCapability.resolve()},_onProgressiveData:function(a){if(this._requests.length>0){var b=this._requests.shift();b.resolve({value:a,done:!1})}else this._cachedChunks.push(a)},_onDone:function(a){a&&this._onProgressiveData(a.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(a){var b=this._url,c=k.createResponseStatusError(a,b);this._storedError=c,this._headersReceivedCapability.reject(c),this._requests.forEach(function(a){a.reject(c)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(a){this.onProgress&&this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(this._cachedChunks.length>0){var a=this._cachedChunks.shift();return Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var b=j.createPromiseCapability();return this._requests.push(b),b.promise},cancel:function(a){this._done=!0,this._headersReceivedCapability.reject(a),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},i.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(a){var b=a.chunk;if(this._requests.length>0){var c=this._requests.shift();c.resolve({value:b,done:!1})}else this._queuedChunk=b;this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(a){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:a.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var a=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:a,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var b=j.createPromiseCapability();return this._requests.push(b),b.promise},cancel:function(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},b.PDFNetworkStream=g,b.NetworkManager=e}])}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf.worker",[],b):"object"==typeof exports?exports["pdfjs-dist/build/pdf.worker"]=b():a["pdfjs-dist/build/pdf.worker"]=a.pdfjsDistBuildPdfWorker=b()}("undefined"!=typeof self?self:this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=82)}([function(a,b,c){"use strict";function d(a){ga=a}function e(){return ga}function f(a){ga>=da.infos&&console.log("Info: "+a)}function g(a){ga>=da.warnings&&console.log("Warning: "+a)}function h(a){console.log("Deprecated API usage: "+a)}function i(a){throw new Error(a)}function j(a,b){a||i(b)}function k(a,b){try{var c=new URL(a);if(!c.origin||"null"===c.origin)return!1}catch(d){return!1}var e=new URL(b,c);return c.origin===e.origin}function l(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function m(a,b){if(!a)return null;try{var c=b?new URL(a,b):new URL(a);if(l(c))return c}catch(d){}return null}function n(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}function o(a){var b;return function(){return a&&(b=Object.create(null),a(b),a=null),b}}function p(a){return"string"!=typeof a?(g("The argument for removeNullCharacters must be a string."),a):a.replace(ta,"")}function q(a){j(null!==a&&"object"===("undefined"==typeof a?"undefined":T(a))&&void 0!==a.length,"Invalid argument for bytesToString");var b=a.length,c=8192;if(c>b)return String.fromCharCode.apply(null,a);for(var d=[],e=0;b>e;e+=c){var f=Math.min(e+c,b),g=a.subarray(e,f);d.push(String.fromCharCode.apply(null,g))}return d.join("")}function r(a){j("string"==typeof a,"Invalid argument for stringToBytes");for(var b=a.length,c=new Uint8Array(b),d=0;b>d;++d)c[d]=255&a.charCodeAt(d);return c}function s(a){return void 0!==a.length?a.length:(j(void 0!==a.byteLength),a.byteLength)}function t(a){if(1===a.length&&a[0]instanceof Uint8Array)return a[0];var b,c,d,e=0,f=a.length;for(b=0;f>b;b++)c=a[b],d=s(c),e+=d;var g=0,h=new Uint8Array(e);for(b=0;f>b;b++)c=a[b],c instanceof Uint8Array||(c="string"==typeof c?r(c):new Uint8Array(c)),d=c.byteLength,h.set(c,g),g+=d;return h}function u(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)}function v(a){for(var b=1,c=0;a>b;)b<<=1,c++;return c}function w(a,b){return a[b]<<24>>24}function x(a,b){return a[b]<<8|a[b+1]}function y(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}function z(){var a=new Uint8Array(4);a[0]=1;var b=new Uint32Array(a.buffer,0,1);return 1===b[0]}function A(){try{return new Function(""),!0}catch(a){return!1}}function B(a){
var b,c=a.length,d=[];if("þ"===a[0]&&"ÿ"===a[1])for(b=2;c>b;b+=2)d.push(String.fromCharCode(a.charCodeAt(b)<<8|a.charCodeAt(b+1)));else for(b=0;c>b;++b){var e=xa[a.charCodeAt(b)];d.push(e?String.fromCharCode(e):a.charAt(b))}return d.join("")}function C(a){return decodeURIComponent(escape(a))}function D(a){return unescape(encodeURIComponent(a))}function E(a){for(var b in a)return!1;return!0}function F(a){return"boolean"==typeof a}function G(a){return"number"==typeof a}function H(a){return"string"==typeof a}function I(a){return"object"===("undefined"==typeof a?"undefined":T(a))&&null!==a&&void 0!==a.byteLength}function J(a){return 32===a||9===a||13===a||10===a}function K(){return"object"===("undefined"==typeof process?"undefined":T(process))&&process+""=="[object process]"}function L(){var a={};return a.promise=new Promise(function(b,c){a.resolve=b,a.reject=c}),a}function M(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a?new Promise(function(d,e){d(a.apply(c,b))}):Promise.resolve(void 0)}function N(a){if("object"!==("undefined"==typeof a?"undefined":T(a)))return a;switch(a.name){case"AbortException":return new sa(a.message);case"MissingPDFException":return new ma(a.message);case"UnexpectedResponseException":return new na(a.message,a.status);default:return new ka(a.message,a.details)}}function O(a){return!(a instanceof Error)||a instanceof sa||a instanceof ma||a instanceof na||a instanceof ka?a:new ka(a.message,a.toString())}function P(a,b,c){b?a.resolve():a.reject(c)}function Q(a){return Promise.resolve(a)["catch"](function(){})}function R(a,b,c){var d=this;this.sourceName=a,this.targetName=b,this.comObj=c,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var e=this.callbacksCapabilities=Object.create(null),f=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(a){var b=a.data;if(b.targetName===d.sourceName)if(b.stream)d._processStreamMessage(b);else if(b.isReply){var g=b.callbackId;if(!(b.callbackId in e))throw new Error("Cannot resolve callback "+g);var h=e[g];delete e[g],"error"in b?h.reject(N(b.error)):h.resolve(b.data)}else{if(!(b.action in f))throw new Error("Unknown action from worker: "+b.action);var i=f[b.action];if(b.callbackId){var j=d.sourceName,k=b.sourceName;Promise.resolve().then(function(){return i[0].call(i[1],b.data)}).then(function(a){c.postMessage({sourceName:j,targetName:k,isReply:!0,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:j,targetName:k,isReply:!0,callbackId:b.callbackId,error:O(a)})})}else b.streamId?d._createStreamSink(b):i[0].call(i[1],b.data)}},c.addEventListener("message",this._onComObjOnMessage)}function S(a,b,c){var d=new Image;d.onload=function(){c.resolve(a,d)},d.onerror=function(){c.resolve(a,null),g("Error during JPEG image loading")},d.src=b}Object.defineProperty(b,"__esModule",{value:!0}),b.unreachable=b.warn=b.utf8StringToString=b.stringToUTF8String=b.stringToPDFString=b.stringToBytes=b.string32=b.shadow=b.setVerbosityLevel=b.ReadableStream=b.removeNullCharacters=b.readUint32=b.readUint16=b.readInt8=b.log2=b.loadJpegStream=b.isEvalSupported=b.isLittleEndian=b.createValidAbsoluteUrl=b.isSameOrigin=b.isNodeJS=b.isSpace=b.isString=b.isNum=b.isEmptyObj=b.isBool=b.isArrayBuffer=b.info=b.getVerbosityLevel=b.getLookupTableFactory=b.deprecated=b.createObjectURL=b.createPromiseCapability=b.createBlob=b.bytesToString=b.assert=b.arraysToBytes=b.arrayByteLength=b.FormatError=b.XRefParseException=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.StatTimer=b.PasswordResponses=b.PasswordException=b.PageViewport=b.NotImplementedException=b.NativeImageDecoding=b.MissingPDFException=b.MissingDataException=b.MessageHandler=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VERBOSITY_LEVELS=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c(84);var U=c(125),V=[.001,0,0,.001,0,0],W={NONE:"none",DECODE:"decode",DISPLAY:"display"},X={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Z={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},$={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},_={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},aa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ba={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},ca={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},da={errors:0,warnings:1,infos:5},ea={NONE:0,BINARY:1,STREAM:2},fa={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ga=da.warnings,ha={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},ia={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ja=function(){function a(a,b){this.name="PasswordException",this.message=a,this.code=b}return a.prototype=new Error,a.constructor=a,a}(),ka=function(){function a(a,b){this.name="UnknownErrorException",this.message=a,this.details=b}return a.prototype=new Error,a.constructor=a,a}(),la=function(){function a(a){this.name="InvalidPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),ma=function(){function a(a){this.name="MissingPDFException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),na=function(){function a(a,b){this.name="UnexpectedResponseException",this.message=a,this.status=b}return a.prototype=new Error,a.constructor=a,a}(),oa=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="NotImplementedException",a.constructor=a,a}(),pa=function(){function a(a,b){this.begin=a,this.end=b,this.message="Missing data ["+a+", "+b+")"}return a.prototype=new Error,a.prototype.name="MissingDataException",a.constructor=a,a}(),qa=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="XRefParseException",a.constructor=a,a}(),ra=function(){function a(a){this.message=a}return a.prototype=new Error,a.prototype.name="FormatError",a.constructor=a,a}(),sa=function(){function a(a){this.name="AbortException",this.message=a}return a.prototype=new Error,a.constructor=a,a}(),ta=/\x00/g,ua=[1,0,0,1,0,0],va=function(){function a(){}var b=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(a,c,d){return b[1]=a,b[3]=c,b[5]=d,b.join("")},a.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]},a.applyTransform=function(a,b){var c=a[0]*b[0]+a[1]*b[2]+b[4],d=a[0]*b[1]+a[1]*b[3]+b[5];return[c,d]},a.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2],d=(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,e=(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c;return[d,e]},a.getAxialAlignedBoundingBox=function(b,c){var d=a.applyTransform(b,c),e=a.applyTransform(b.slice(2,4),c),f=a.applyTransform([b[0],b[3]],c),g=a.applyTransform([b[2],b[1]],c);return[Math.min(d[0],e[0],f[0],g[0]),Math.min(d[1],e[1],f[1],g[1]),Math.max(d[0],e[0],f[0],g[0]),Math.max(d[1],e[1],f[1],g[1])]},a.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]},a.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]},a.singularValueDecompose2dScale=function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt((c+f)*(c+f)-4*(c*f-e*d))/2,i=g+h||1,j=g-h||1;return[Math.sqrt(i),Math.sqrt(j)]},a.normalizeRect=function(a){var b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b},a.intersect=function(b,c){function d(a,b){return a-b}var e=[b[0],b[2],c[0],c[2]].sort(d),f=[b[1],b[3],c[1],c[3]].sort(d),g=[];return b=a.normalizeRect(b),c=a.normalizeRect(c),e[0]===b[0]&&e[1]===c[0]||e[0]===c[0]&&e[1]===b[0]?(g[0]=e[1],g[2]=e[2],f[0]===b[1]&&f[1]===c[1]||f[0]===c[1]&&f[1]===b[1]?(g[1]=f[1],g[3]=f[2],g):!1):!1};var c=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return a.toRoman=function(a,b){j(Number.isInteger(a)&&a>0,"The number should be a positive integer.");for(var d,e=[];a>=1e3;)a-=1e3,e.push("M");d=a/100|0,a%=100,e.push(c[d]),d=a/10|0,a%=10,e.push(c[10+d]),e.push(c[20+a]);var f=e.join("");return b?f.toLowerCase():f},a.appendToArray=function(a,b){Array.prototype.push.apply(a,b)},a.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)},a.extendObj=function(a,b){for(var c in b)a[c]=b[c]},a.getInheritableProperty=function(a,b,c){for(;a&&!a.has(b);)a=a.get("Parent");return a?c?a.getArray(b):a.get(b):null},a.inherit=function(a,b,c){a.prototype=Object.create(b.prototype),a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]},a.loadScript=function(a,b){var c=document.createElement("script"),d=!1;c.setAttribute("src",a),b&&(c.onload=function(){d||b(),d=!0}),document.getElementsByTagName("head")[0].appendChild(c)},a}(),wa=function(){function a(a,b,c,d,e,f){this.viewBox=a,this.scale=b,this.rotation=c,this.offsetX=d,this.offsetY=e;var g,h,i,j,k=(a[2]+a[0])/2,l=(a[3]+a[1])/2;switch(c%=360,c=0>c?c+360:c){case 180:g=-1,h=0,i=0,j=1;break;case 90:g=0,h=1,i=1,j=0;break;case 270:g=0,h=-1,i=-1,j=0;break;default:g=1,h=0,i=0,j=-1}f&&(i=-i,j=-j);var m,n,o,p;0===g?(m=Math.abs(l-a[1])*b+d,n=Math.abs(k-a[0])*b+e,o=Math.abs(a[3]-a[1])*b,p=Math.abs(a[2]-a[0])*b):(m=Math.abs(k-a[0])*b+d,n=Math.abs(l-a[1])*b+e,o=Math.abs(a[2]-a[0])*b,p=Math.abs(a[3]-a[1])*b),this.transform=[g*b,h*b,i*b,j*b,m-g*b*k-i*b*l,n-h*b*k-j*b*l],this.width=o,this.height=p,this.fontScale=b}return a.prototype={clone:function(b){b=b||{};var c="scale"in b?b.scale:this.scale,d="rotation"in b?b.rotation:this.rotation;return new a(this.viewBox.slice(),c,d,this.offsetX,this.offsetY,b.dontFlip)},convertToViewportPoint:function(a,b){return va.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=va.applyTransform([a[0],a[1]],this.transform),c=va.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]},convertToPdfPoint:function(a,b){return va.applyInverseTransform([a,b],this.transform)}},a}(),xa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],ya=function(){function a(a,b,c){for(;a.length<c;)a+=b;return a}function b(){this.started=Object.create(null),this.times=[],this.enabled=!0}return b.prototype={time:function(a){this.enabled&&(a in this.started&&g("Timer is already running for "+a),this.started[a]=Date.now())},timeEnd:function(a){this.enabled&&(a in this.started||g("Timer has not been started for "+a),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a])},toString:function(){var b,c,d=this.times,e="",f=0;for(b=0,c=d.length;c>b;++b){var g=d[b].name;g.length>f&&(f=g.length)}for(b=0,c=d.length;c>b;++b){var h=d[b],i=h.end-h.start;e+=a(h.name," ",f)+" "+i+"ms\n"}return e}},b}(),za=function(a,b){if("undefined"!=typeof Blob)return new Blob([a],{type:b});throw new Error('The "Blob" constructor is not supported.')},Aa=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(b,c){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(!d&&URL.createObjectURL){var e=za(b,c);return URL.createObjectURL(e)}for(var f="data:"+c+";base64,",g=0,h=b.length;h>g;g+=3){var i=255&b[g],j=255&b[g+1],k=255&b[g+2],l=i>>2,m=(3&i)<<4|j>>4,n=h>g+1?(15&j)<<2|k>>6:64,o=h>g+2?63&k:64;f+=a[l]+a[m]+a[n]+a[o]}return f}}();R.prototype={on:function(a,b,c){var d=this.actionHandler;if(d[a])throw new Error('There is already an actionName called "'+a+'"');d[a]=[b,c]},send:function(a,b,c){var d={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b};this.postMessage(d,c)},sendWithPromise:function(a,b,c){var d=this.callbackId++,e={sourceName:this.sourceName,targetName:this.targetName,action:a,data:b,callbackId:d},f=L();this.callbacksCapabilities[d]=f;try{this.postMessage(e,c)}catch(g){f.reject(g)}return f.promise},sendWithStream:function(a,b,c,d){var e=this,f=this.streamId++,g=this.sourceName,h=this.targetName;return new U.ReadableStream({start:function(c){var d=L();return e.streamControllers[f]={controller:c,startCall:d,isClosed:!1},e.postMessage({sourceName:g,targetName:h,action:a,streamId:f,data:b,desiredSize:c.desiredSize}),d.promise},pull:function(a){var b=L();return e.streamControllers[f].pullCall=b,e.postMessage({sourceName:g,targetName:h,stream:"pull",streamId:f,desiredSize:a.desiredSize}),b.promise},cancel:function(a){var b=L();return e.streamControllers[f].cancelCall=b,e.streamControllers[f].isClosed=!0,e.postMessage({sourceName:g,targetName:h,stream:"cancel",reason:a,streamId:f}),b.promise}},c)},_createStreamSink:function(a){var b=this,c=this,d=this.actionHandler[a.action],e=a.streamId,f=a.desiredSize,g=this.sourceName,h=a.sourceName,i=L(),j=function(a){var c=a.stream,d=a.chunk,f=a.transfers,i=a.success,j=a.reason;b.postMessage({sourceName:g,targetName:h,stream:c,streamId:e,chunk:d,success:i,reason:j},f)},k={enqueue:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments[2];if(!this.isCancelled){var d=this.desiredSize;this.desiredSize-=b,d>0&&this.desiredSize<=0&&(this.sinkCapability=L(),this.ready=this.sinkCapability.promise),j({stream:"enqueue",chunk:a,transfers:c})}},close:function(){this.isCancelled||(this.isCancelled=!0,j({stream:"close"}),delete c.streamSinks[e])},error:function(a){this.isCancelled||(this.isCancelled=!0,j({stream:"error",reason:a}))},sinkCapability:i,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[e]=k,M(d[0],[a.data,k],d[1]).then(function(){j({stream:"start_complete",success:!0})},function(a){j({stream:"start_complete",success:!1,reason:a})})},_processStreamMessage:function(a){var b=this,c=this.sourceName,d=a.sourceName,e=a.streamId,f=function(a){var f=a.stream,g=a.success,h=a.reason;b.comObj.postMessage({sourceName:c,targetName:d,stream:f,success:g,streamId:e,reason:h})},g=function(){Promise.all([b.streamControllers[a.streamId].startCall,b.streamControllers[a.streamId].pullCall,b.streamControllers[a.streamId].cancelCall].map(function(a){return a&&Q(a.promise)})).then(function(){delete b.streamControllers[a.streamId]})};switch(a.stream){case"start_complete":P(this.streamControllers[a.streamId].startCall,a.success,N(a.reason));break;case"pull_complete":P(this.streamControllers[a.streamId].pullCall,a.success,N(a.reason));break;case"pull":if(!this.streamSinks[a.streamId]){f({stream:"pull_complete",success:!0});break}this.streamSinks[a.streamId].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[a.streamId].sinkCapability.resolve(),this.streamSinks[a.streamId].desiredSize=a.desiredSize,M(this.streamSinks[a.streamId].onPull).then(function(){f({stream:"pull_complete",success:!0})},function(a){f({stream:"pull_complete",success:!1,reason:a})});break;case"enqueue":j(this.streamControllers[a.streamId],"enqueue should have stream controller"),this.streamControllers[a.streamId].isClosed||this.streamControllers[a.streamId].controller.enqueue(a.chunk);break;case"close":if(j(this.streamControllers[a.streamId],"close should have stream controller"),this.streamControllers[a.streamId].isClosed)break;this.streamControllers[a.streamId].isClosed=!0,this.streamControllers[a.streamId].controller.close(),g();break;case"error":j(this.streamControllers[a.streamId],"error should have stream controller"),this.streamControllers[a.streamId].controller.error(N(a.reason)),g();break;case"cancel_complete":P(this.streamControllers[a.streamId].cancelCall,a.success,N(a.reason)),g();break;case"cancel":if(!this.streamSinks[a.streamId])break;M(this.streamSinks[a.streamId].onCancel,[N(a.reason)]).then(function(){f({stream:"cancel_complete",success:!0})},function(a){f({stream:"cancel_complete",success:!1,reason:a})}),this.streamSinks[a.streamId].sinkCapability.reject(N(a.reason)),this.streamSinks[a.streamId].isCancelled=!0,delete this.streamSinks[a.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},b.FONT_IDENTITY_MATRIX=V,b.IDENTITY_MATRIX=ua,b.OPS=fa,b.VERBOSITY_LEVELS=da,b.UNSUPPORTED_FEATURES=ha,b.AnnotationBorderStyleType=aa,b.AnnotationFieldFlag=_,b.AnnotationFlag=$,b.AnnotationType=Z,b.FontType=ca,b.ImageKind=Y,b.CMapCompressionType=ea,b.AbortException=sa,b.InvalidPDFException=la,b.MessageHandler=R,b.MissingDataException=pa,b.MissingPDFException=ma,b.NativeImageDecoding=W,b.NotImplementedException=oa,b.PageViewport=wa,b.PasswordException=ja,b.PasswordResponses=ia,b.StatTimer=ya,b.StreamType=ba,b.TextRenderingMode=X,b.UnexpectedResponseException=na,b.UnknownErrorException=ka,b.Util=va,b.XRefParseException=qa,b.FormatError=ra,b.arrayByteLength=s,b.arraysToBytes=t,b.assert=j,b.bytesToString=q,b.createBlob=za,b.createPromiseCapability=L,b.createObjectURL=Aa,b.deprecated=h,b.getLookupTableFactory=o,b.getVerbosityLevel=e,b.info=f,b.isArrayBuffer=I,b.isBool=F,b.isEmptyObj=E,b.isNum=G,b.isString=H,b.isSpace=J,b.isNodeJS=K,b.isSameOrigin=k,b.createValidAbsoluteUrl=m,b.isLittleEndian=z,b.isEvalSupported=A,b.loadJpegStream=S,b.log2=v,b.readInt8=w,b.readUint16=x,b.readUint32=y,b.removeNullCharacters=p,b.ReadableStream=U.ReadableStream,b.setVerbosityLevel=d,b.shadow=n,b.string32=u,b.stringToBytes=r,b.stringToPDFString=B,b.stringToUTF8String=C,b.utf8StringToString=D,b.warn=g,b.unreachable=i},function(a,b,c){"use strict";var d=a.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(a,b,c){"use strict";function d(a){return a===l}function e(a,b){return a instanceof m&&(void 0===b||a.name===b)}function f(a,b){return a instanceof n&&(void 0===b||a.cmd===b)}function g(a,b){return a instanceof o&&(void 0===b||e(a.get("Type"),b))}function h(a){return a instanceof p}function i(a,b){return a.num===b.num&&a.gen===b.gen}function j(a){return"object"===("undefined"==typeof a?"undefined":k(a))&&null!==a&&void 0!==a.getBytes}Object.defineProperty(b,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l={},m=function(){function a(a){this.name=a}a.prototype={};var b=Object.create(null);return a.get=function(c){var d=b[c];return d?d:b[c]=new a(c)},a}(),n=function(){function a(a){this.cmd=a}a.prototype={};var b=Object.create(null);return a.get=function(c){var d=b[c];return d?d:b[c]=new a(c)},a}(),o=function(){function a(a){this._map=Object.create(null),this.xref=a,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=b}var b=function(){return b};return a.prototype={assignXref:function(a){this.xref=a},get:function(a,b,c){var d,e=this.xref,f=this.suppressEncryption;return"undefined"!=typeof(d=this._map[a])||a in this._map||"undefined"==typeof b?e?e.fetchIfRef(d,f):d:"undefined"!=typeof(d=this._map[b])||b in this._map||"undefined"==typeof c?e?e.fetchIfRef(d,f):d:(d=this._map[c]||null,e?e.fetchIfRef(d,f):d)},getAsync:function(a,b,c){var d,e=this.xref,f=this.suppressEncryption;return"undefined"!=typeof(d=this._map[a])||a in this._map||"undefined"==typeof b?e?e.fetchIfRefAsync(d,f):Promise.resolve(d):"undefined"!=typeof(d=this._map[b])||b in this._map||"undefined"==typeof c?e?e.fetchIfRefAsync(d,f):Promise.resolve(d):(d=this._map[c]||null,e?e.fetchIfRefAsync(d,f):Promise.resolve(d))},getArray:function(a,b,c){var d=this.get(a,b,c),e=this.xref,f=this.suppressEncryption;if(!Array.isArray(d)||!e)return d;d=d.slice();for(var g=0,i=d.length;i>g;g++)h(d[g])&&(d[g]=e.fetch(d[g],f));return d},getRaw:function(a){return this._map[a]},getKeys:function(){return Object.keys(this._map)},set:function(a,b){this._map[a]=b},has:function(a){return a in this._map},forEach:function(a){for(var b in this._map)a(b,this.get(b))}},a.empty=new a(null),a.merge=function(b,c){for(var d=new a(b),e=0,f=c.length;f>e;e++){var h=c[e];if(g(h))for(var i in h._map)void 0===d._map[i]&&(d._map[i]=h._map[i])}return d},a}(),p=function(){function a(a,b){this.num=a,this.gen=b}return a.prototype={toString:function(){var a=this.num+"R";return 0!==this.gen&&(a+=this.gen),a}},a}(),q=function(){function a(){this.dict=Object.create(null)}return a.prototype={has:function(a){return a.toString()in this.dict},put:function(a){this.dict[a.toString()]=!0},remove:function(a){delete this.dict[a.toString()]}},a}(),r=function(){function a(){this.dict=Object.create(null)}return a.prototype={get:function(a){return this.dict[a.toString()]},has:function(a){return a.toString()in this.dict},put:function(a,b){this.dict[a.toString()]=b},putAlias:function(a,b){this.dict[a.toString()]=this.get(b)},forEach:function(a,b){for(var c in this.dict)a.call(b,this.dict[c])},clear:function(){this.dict=Object.create(null)}},a}();b.EOF=l,b.Cmd=n,b.Dict=o,b.Name=m,b.Ref=p,b.RefSet=q,b.RefSetCache=r,b.isEOF=d,b.isCmd=f,b.isDict=g,b.isName=e,b.isRef=h,b.isRefsEqual=i,b.isStream=j},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(a){return"object"===("undefined"==typeof a?"undefined":d(a))?null!==a:"function"==typeof a}},function(a,b,c){"use strict";var d=c(54)("wks"),e=c(17),f=c(1).Symbol,g="function"==typeof f,h=a.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))};h.store=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LZWStream=b.StringStream=b.StreamsSequenceStream=b.Stream=b.RunLengthStream=b.PredictorStream=b.NullStream=b.JpxStream=b.JpegStream=b.FlateStream=b.DecodeStream=b.DecryptStream=b.AsciiHexStream=b.Ascii85Stream=void 0;var d=c(0),e=c(2),f=c(129),g=c(74),h=function(){function a(a,b,c,d){this.bytes=a instanceof Uint8Array?a:new Uint8Array(a),this.start=b||0,this.pos=this.start,this.end=b+c||this.bytes.length,this.dict=d}return a.prototype={get length(){return this.end-this.start},get isEmpty(){return 0===this.length},getByte:function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},getUint16:function(){var a=this.getByte(),b=this.getByte();return-1===a||-1===b?-1:(a<<8)+b},getInt32:function(){var a=this.getByte(),b=this.getByte(),c=this.getByte(),d=this.getByte();return(a<<24)+(b<<16)+(c<<8)+d},getBytes:function(a){var b=this.bytes,c=this.pos,d=this.end;if(!a)return b.subarray(c,d);var e=c+a;return e>d&&(e=d),this.pos=e,b.subarray(c,e)},peekByte:function(){var a=this.getByte();return this.pos--,a},peekBytes:function(a){var b=this.getBytes(a);return this.pos-=b.length,b},skip:function(a){a||(a=1),this.pos+=a},reset:function(){this.pos=this.start},moveStart:function(){this.start=this.pos},makeSubStream:function(b,c,d){return new a(this.bytes.buffer,b,c,d)}},a}(),i=function(){function a(a){var b=d.stringToBytes(a);h.call(this,b)}return a.prototype=h.prototype,a}(),j=function(){function a(a){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=b,this.minBufferLength=512,a)for(;this.minBufferLength<a;)this.minBufferLength*=2}var b=new Uint8Array(0);return a.prototype={get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},ensureBuffer:function(a){var b=this.buffer;if(a<=b.byteLength)return b;for(var c=this.minBufferLength;a>c;)c*=2;var d=new Uint8Array(c);return d.set(b),this.buffer=d},getByte:function(){for(var a=this.pos;this.bufferLength<=a;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},getUint16:function(){var a=this.getByte(),b=this.getByte();return-1===a||-1===b?-1:(a<<8)+b},getInt32:function(){var a=this.getByte(),b=this.getByte(),c=this.getByte(),d=this.getByte();return(a<<24)+(b<<16)+(c<<8)+d},getBytes:function(a){var b,c=this.pos;if(a){for(this.ensureBuffer(c+a),b=c+a;!this.eof&&this.bufferLength<b;)this.readBlock();var d=this.bufferLength;b>d&&(b=d)}else{for(;!this.eof;)this.readBlock();b=this.bufferLength}return this.pos=b,this.buffer.subarray(c,b)},peekByte:function(){var a=this.getByte();return this.pos--,a},peekBytes:function(a){var b=this.getBytes(a);return this.pos-=b.length,b},makeSubStream:function(a,b,c){for(var d=a+b;this.bufferLength<=d&&!this.eof;)this.readBlock();return new h(this.buffer,a,b,c)},skip:function(a){a||(a=1),this.pos+=a},reset:function(){this.pos=0},getBaseStreams:function(){return this.str&&this.str.getBaseStreams?this.str.getBaseStreams():[]}},a}(),k=function(){function a(a){this.streams=a,j.call(this,null)}return a.prototype=Object.create(j.prototype),a.prototype.readBlock=function(){var a=this.streams;if(0===a.length)return void(this.eof=!0);var b=a.shift(),c=b.getBytes(),d=this.bufferLength,e=d+c.length,f=this.ensureBuffer(e);f.set(c,d),this.bufferLength=e},a.prototype.getBaseStreams=function(){for(var a=[],b=0,c=this.streams.length;c>b;b++){var e=this.streams[b];e.getBaseStreams&&d.Util.appendToArray(a,e.getBaseStreams())}return a},a}(),l=function(){function a(a,b){this.str=a,this.dict=a.dict;var c=a.getByte(),e=a.getByte();if(-1===c||-1===e)throw new d.FormatError("Invalid header in flate stream: "+c+", "+e);if(8!==(15&c))throw new d.FormatError("Unknown compression method in flate stream: "+c+", "+e);if(((c<<8)+e)%31!==0)throw new d.FormatError("Bad FCHECK in flate stream: "+c+", "+e);if(32&e)throw new d.FormatError("FDICT bit set in flate stream: "+c+", "+e);this.codeSize=0,this.codeBuf=0,j.call(this,b)}var b=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),f=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],g=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];
return a.prototype=Object.create(j.prototype),a.prototype.getBits=function(a){for(var b,c=this.str,e=this.codeSize,f=this.codeBuf;a>e;){if(-1===(b=c.getByte()))throw new d.FormatError("Bad encoding in flate stream");f|=b<<e,e+=8}return b=f&(1<<a)-1,this.codeBuf=f>>a,this.codeSize=e-=a,b},a.prototype.getCode=function(a){for(var b,c=this.str,e=a[0],f=a[1],g=this.codeSize,h=this.codeBuf;f>g&&-1!==(b=c.getByte());)h|=b<<g,g+=8;var i=e[h&(1<<f)-1],j=i>>16,k=65535&i;if(1>j||j>g)throw new d.FormatError("Bad encoding in flate stream");return this.codeBuf=h>>j,this.codeSize=g-j,k},a.prototype.generateHuffmanTable=function(a){var b,c=a.length,d=0;for(b=0;c>b;++b)a[b]>d&&(d=a[b]);for(var e=1<<d,f=new Int32Array(e),g=1,h=0,i=2;d>=g;++g,h<<=1,i<<=1)for(var j=0;c>j;++j)if(a[j]===g){var k=0,l=h;for(b=0;g>b;++b)k=k<<1|1&l,l>>=1;for(b=k;e>b;b+=i)f[b]=g<<16|j;++h}return[f,d]},a.prototype.readBlock=function(){var a,h,i=this.str,j=this.getBits(3);if(1&j&&(this.eof=!0),j>>=1,0!==j){var k,l;if(1===j)k=f,l=g;else{if(2!==j)throw new d.FormatError("Unknown block type in flate stream");var m,n=this.getBits(5)+257,o=this.getBits(5)+1,p=this.getBits(4)+4,q=new Uint8Array(b.length);for(m=0;p>m;++m)q[b[m]]=this.getBits(3);var r=this.generateHuffmanTable(q);h=0,m=0;for(var s,t,u,v=n+o,w=new Uint8Array(v);v>m;){var x=this.getCode(r);if(16===x)s=2,t=3,u=h;else if(17===x)s=3,t=3,u=h=0;else{if(18!==x){w[m++]=h=x;continue}s=7,t=11,u=h=0}for(var y=this.getBits(s)+t;y-->0;)w[m++]=u}k=this.generateHuffmanTable(w.subarray(0,n)),l=this.generateHuffmanTable(w.subarray(n,v))}a=this.buffer;for(var z=a?a.length:0,A=this.bufferLength;;){var B=this.getCode(k);if(256>B)A+1>=z&&(a=this.ensureBuffer(A+1),z=a.length),a[A++]=B;else{if(256===B)return void(this.bufferLength=A);B-=257,B=c[B];var C=B>>16;C>0&&(C=this.getBits(C)),h=(65535&B)+C,B=this.getCode(l),B=e[B],C=B>>16,C>0&&(C=this.getBits(C));var D=(65535&B)+C;A+h>=z&&(a=this.ensureBuffer(A+h),z=a.length);for(var E=0;h>E;++E,++A)a[A]=a[A-D]}}}else{var F;if(-1===(F=i.getByte()))throw new d.FormatError("Bad block header in flate stream");var G=F;if(-1===(F=i.getByte()))throw new d.FormatError("Bad block header in flate stream");if(G|=F<<8,-1===(F=i.getByte()))throw new d.FormatError("Bad block header in flate stream");var H=F;if(-1===(F=i.getByte()))throw new d.FormatError("Bad block header in flate stream");if(H|=F<<8,H!==(65535&~G)&&(0!==G||0!==H))throw new d.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var I=this.bufferLength;a=this.ensureBuffer(I+G);var J=I+G;if(this.bufferLength=J,0===G)-1===i.peekByte()&&(this.eof=!0);else for(var K=I;J>K;++K){if(-1===(F=i.getByte())){this.eof=!0;break}a[K]=F}}},a}(),m=function(){function a(a,b,c){if(!e.isDict(c))return a;var f=this.predictor=c.get("Predictor")||1;if(1>=f)return a;if(2!==f&&(10>f||f>15))throw new d.FormatError("Unsupported predictor: "+f);2===f?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=a,this.dict=a.dict;var g=this.colors=c.get("Colors")||1,h=this.bits=c.get("BitsPerComponent")||8,i=this.columns=c.get("Columns")||1;return this.pixBytes=g*h+7>>3,this.rowBytes=i*g*h+7>>3,j.call(this,b),this}return a.prototype=Object.create(j.prototype),a.prototype.readBlockTiff=function(){var a=this.rowBytes,b=this.bufferLength,c=this.ensureBuffer(b+a),d=this.bits,e=this.colors,f=this.str.getBytes(a);if(this.eof=!f.length,!this.eof){var g,h=0,i=0,j=0,k=0,l=b;if(1===d&&1===e)for(g=0;a>g;++g){var m=f[g]^h;m^=m>>1,m^=m>>2,m^=m>>4,h=(1&m)<<7,c[l++]=m}else if(8===d){for(g=0;e>g;++g)c[l++]=f[g];for(;a>g;++g)c[l]=c[l-e]+f[g],l++}else if(16===d){var n=2*e;for(g=0;n>g;++g)c[l++]=f[g];for(;a>g;g+=2){var o=((255&f[g])<<8)+(255&f[g+1])+((255&c[l-n])<<8)+(255&c[l-n+1]);c[l++]=o>>8&255,c[l++]=255&o}}else{var p=new Uint8Array(e+1),q=(1<<d)-1,r=0,s=b,t=this.columns;for(g=0;t>g;++g)for(var u=0;e>u;++u)d>j&&(h=h<<8|255&f[r++],j+=8),p[u]=p[u]+(h>>j-d)&q,j-=d,i=i<<d|p[u],k+=d,k>=8&&(c[s++]=i>>k-8&255,k-=8);k>0&&(c[s++]=(i<<8-k)+(h&(1<<8-k)-1))}this.bufferLength+=a}},a.prototype.readBlockPng=function(){var a=this.rowBytes,b=this.pixBytes,c=this.str.getByte(),e=this.str.getBytes(a);if(this.eof=!e.length,!this.eof){var f=this.bufferLength,g=this.ensureBuffer(f+a),h=g.subarray(f-a,f);0===h.length&&(h=new Uint8Array(a));var i,j,k,l=f;switch(c){case 0:for(i=0;a>i;++i)g[l++]=e[i];break;case 1:for(i=0;b>i;++i)g[l++]=e[i];for(;a>i;++i)g[l]=g[l-b]+e[i]&255,l++;break;case 2:for(i=0;a>i;++i)g[l++]=h[i]+e[i]&255;break;case 3:for(i=0;b>i;++i)g[l++]=(h[i]>>1)+e[i];for(;a>i;++i)g[l]=(h[i]+g[l-b]>>1)+e[i]&255,l++;break;case 4:for(i=0;b>i;++i)j=h[i],k=e[i],g[l++]=j+k;for(;a>i;++i){j=h[i];var m=h[i-b],n=g[l-b],o=n+j-m,p=o-n;0>p&&(p=-p);var q=o-j;0>q&&(q=-q);var r=o-m;0>r&&(r=-r),k=e[i],q>=p&&r>=p?g[l++]=n+k:r>=q?g[l++]=j+k:g[l++]=m+k}break;default:throw new d.FormatError("Unsupported predictor: "+c)}this.bufferLength+=a}},a}(),n=function(){function a(a,b,c,d){for(var e;-1!==(e=a.getByte());)if(255===e){a.skip(-1);break}this.stream=a,this.maybeLength=b,this.dict=c,this.params=d,j.call(this,b)}return a.prototype=Object.create(j.prototype),Object.defineProperty(a.prototype,"bytes",{get:function(){return d.shadow(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),a.prototype.ensureBuffer=function(a){if(!this.bufferLength){var b=new f.JpegImage,c=this.dict.getArray("Decode","D");if(this.forceRGB&&Array.isArray(c)){for(var d=this.dict.get("BitsPerComponent")||8,g=c.length,h=new Int32Array(g),i=!1,j=(1<<d)-1,k=0;g>k;k+=2)h[k]=256*(c[k+1]-c[k])|0,h[k+1]=c[k]*j|0,(256!==h[k]||0!==h[k+1])&&(i=!0);i&&(b.decodeTransform=h)}if(e.isDict(this.params)){var l=this.params.get("ColorTransform");Number.isInteger(l)&&(b.colorTransform=l)}b.parse(this.bytes);var m=b.getData(this.drawWidth,this.drawHeight,this.forceRGB);this.buffer=m,this.bufferLength=m.length,this.eof=!0}},a.prototype.getBytes=function(a){return this.ensureBuffer(),this.buffer},a.prototype.getIR=function(a){return d.createObjectURL(this.bytes,"image/jpeg",a)},a}(),o=function(){function a(a,b,c,d){this.stream=a,this.maybeLength=b,this.dict=c,this.params=d,j.call(this,b)}return a.prototype=Object.create(j.prototype),Object.defineProperty(a.prototype,"bytes",{get:function(){return d.shadow(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),a.prototype.ensureBuffer=function(a){if(!this.bufferLength){var b=new g.JpxImage;b.parse(this.bytes);var c=b.width,d=b.height,e=b.componentsCount,f=b.tiles.length;if(1===f)this.buffer=b.tiles[0].items;else{for(var h=new Uint8ClampedArray(c*d*e),i=0;f>i;i++)for(var j=b.tiles[i],k=j.width,l=j.height,m=j.left,n=j.top,o=j.items,p=0,q=(c*n+m)*e,r=c*e,s=k*e,t=0;l>t;t++){var u=o.subarray(p,p+s);h.set(u,q),p+=s,q+=r}this.buffer=h}this.bufferLength=this.buffer.length,this.eof=!0}},a}(),p=function(){function a(a,b,c){this.str=a,this.dict=a.dict,this.decrypt=c,this.nextChunk=null,this.initialized=!1,j.call(this,b)}var b=512;return a.prototype=Object.create(j.prototype),a.prototype.readBlock=function(){var a;if(this.initialized?a=this.nextChunk:(a=this.str.getBytes(b),this.initialized=!0),!a||0===a.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(b);var c=this.nextChunk&&this.nextChunk.length>0,d=this.decrypt;a=d(a,!c);var e,f=this.bufferLength,g=a.length,h=this.ensureBuffer(f+g);for(e=0;g>e;e++)h[f++]=a[e];this.bufferLength=f},a}(),q=function(){function a(a,b){this.str=a,this.dict=a.dict,this.input=new Uint8Array(5),b&&(b=.8*b),j.call(this,b)}return a.prototype=Object.create(j.prototype),a.prototype.readBlock=function(){for(var a=126,b=122,c=-1,e=this.str,f=e.getByte();d.isSpace(f);)f=e.getByte();if(f===c||f===a)return void(this.eof=!0);var g,h,i=this.bufferLength;if(f===b){for(g=this.ensureBuffer(i+4),h=0;4>h;++h)g[i+h]=0;this.bufferLength+=4}else{var j=this.input;for(j[0]=f,h=1;5>h;++h){for(f=e.getByte();d.isSpace(f);)f=e.getByte();if(j[h]=f,f===c||f===a)break}if(g=this.ensureBuffer(i+h-1),this.bufferLength+=h-1,5>h){for(;5>h;++h)j[h]=117;this.eof=!0}var k=0;for(h=0;5>h;++h)k=85*k+(j[h]-33);for(h=3;h>=0;--h)g[i+h]=255&k,k>>=8}},a}(),r=function(){function a(a,b){this.str=a,this.dict=a.dict,this.firstDigit=-1,b&&(b=.5*b),j.call(this,b)}return a.prototype=Object.create(j.prototype),a.prototype.readBlock=function(){var a=8e3,b=this.str.getBytes(a);if(!b.length)return void(this.eof=!0);for(var c=b.length+1>>1,d=this.ensureBuffer(this.bufferLength+c),e=this.bufferLength,f=this.firstDigit,g=0,h=b.length;h>g;g++){var i,j=b[g];if(j>=48&&57>=j)i=15&j;else{if(!(j>=65&&70>=j||j>=97&&102>=j)){if(62===j){this.eof=!0;break}continue}i=(15&j)+9}0>f?f=i:(d[e++]=f<<4|i,f=-1)}f>=0&&this.eof&&(d[e++]=f<<4,f=-1),this.firstDigit=f,this.bufferLength=e},a}(),s=function(){function a(a,b){this.str=a,this.dict=a.dict,j.call(this,b)}return a.prototype=Object.create(j.prototype),a.prototype.readBlock=function(){var a=this.str.getBytes(2);if(!a||a.length<2||128===a[0])return void(this.eof=!0);var b,c=this.bufferLength,d=a[0];if(128>d){if(b=this.ensureBuffer(c+d+1),b[c++]=a[1],d>0){var e=this.str.getBytes(d);b.set(e,c),c+=d}}else{d=257-d;var f=a[1];b=this.ensureBuffer(c+d+1);for(var g=0;d>g;g++)b[c++]=f}this.bufferLength=c},a}(),t=function(){function a(a,b,c){this.str=a,this.dict=a.dict,this.cachedData=0,this.bitsCached=0;for(var d=4096,e={earlyChange:c,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(d),dictionaryLengths:new Uint16Array(d),dictionaryPrevCodes:new Uint16Array(d),currentSequence:new Uint8Array(d),currentSequenceLength:0},f=0;256>f;++f)e.dictionaryValues[f]=f,e.dictionaryLengths[f]=1;this.lzwState=e,j.call(this,b)}return a.prototype=Object.create(j.prototype),a.prototype.readBits=function(a){for(var b=this.bitsCached,c=this.cachedData;a>b;){var d=this.str.getByte();if(-1===d)return this.eof=!0,null;c=c<<8|d,b+=8}return this.bitsCached=b-=a,this.cachedData=c,this.lastCode=null,c>>>b&(1<<a)-1},a.prototype.readBlock=function(){var a,b,c,d=512,e=2*d,f=d,g=this.lzwState;if(g){var h=g.earlyChange,i=g.nextCode,j=g.dictionaryValues,k=g.dictionaryLengths,l=g.dictionaryPrevCodes,m=g.codeLength,n=g.prevCode,o=g.currentSequence,p=g.currentSequenceLength,q=0,r=this.bufferLength,s=this.ensureBuffer(this.bufferLength+e);for(a=0;d>a;a++){var t=this.readBits(m),u=p>0;if(256>t)o[0]=t,p=1;else{if(!(t>=258)){if(256===t){m=9,i=258,p=0;continue}this.eof=!0,delete this.lzwState;break}if(i>t)for(p=k[t],b=p-1,c=t;b>=0;b--)o[b]=j[c],c=l[c];else o[p++]=o[0]}if(u&&(l[i]=n,k[i]=k[n]+1,j[i]=o[0],i++,m=i+h&i+h-1?m:0|Math.min(Math.log(i+h)/.6931471805599453+1,12)),n=t,q+=p,q>e){do e+=f;while(q>e);s=this.ensureBuffer(this.bufferLength+e)}for(b=0;p>b;b++)s[r++]=o[b]}g.nextCode=i,g.codeLength=m,g.prevCode=n,g.currentSequenceLength=p,this.bufferLength=r}},a}(),u=function(){function a(){h.call(this,new Uint8Array(0))}return a.prototype=h.prototype,a}();b.Ascii85Stream=q,b.AsciiHexStream=r,b.DecryptStream=p,b.DecodeStream=j,b.FlateStream=l,b.JpegStream=n,b.JpxStream=o,b.NullStream=u,b.PredictorStream=m,b.RunLengthStream=s,b.Stream=h,b.StreamsSequenceStream=k,b.StringStream=i,b.LZWStream=t},function(a,b,c){"use strict";var d=a.exports={version:"2.5.7"};"number"==typeof __e&&(__e=d)},function(a,b,c){"use strict";var d=c(1),e=c(6),f=c(8),g=c(16),h=c(13),i="prototype",j=function k(a,b,c){var j,l,m,n,o=a&k.F,p=a&k.G,q=a&k.S,r=a&k.P,s=a&k.B,t=p?d:q?d[b]||(d[b]={}):(d[b]||{})[i],u=p?e:e[b]||(e[b]={}),v=u[i]||(u[i]={});p&&(c=b);for(j in c)l=!o&&t&&void 0!==t[j],m=(l?t:c)[j],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,j,m,a&k.U),u[j]!=m&&f(u,j,n),r&&v[j]!=m&&(v[j]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,a.exports=j},function(a,b,c){"use strict";var d=c(15),e=c(29);a.exports=c(10)?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},function(a,b,c){"use strict";var d=c(3);a.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},function(a,b,c){"use strict";a.exports=!c(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";a.exports=function(a){try{return!!a()}catch(b){return!0}}},function(a,b,c){"use strict";var d={}.hasOwnProperty;a.exports=function(a,b){return d.call(a,b)}},function(a,b,c){"use strict";var d=c(22);a.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},function(a,b,c){"use strict";var d=c(18),e=Math.min;a.exports=function(a){return a>0?e(d(a),9007199254740991):0}},function(a,b,c){"use strict";var d=c(9),e=c(48),f=c(36),g=Object.defineProperty;b.f=c(10)?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(h){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},function(a,b,c){"use strict";var d=c(1),e=c(8),f=c(12),g=c(17)("src"),h="toString",i=Function[h],j=(""+i).split(h);c(6).inspectSource=function(a){return i.call(a)},(a.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},function(a,b,c){"use strict";var d=0,e=Math.random();a.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},function(a,b,c){"use strict";var d=Math.ceil,e=Math.floor;a.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},function(a,b,c){"use strict";var d=c(38);a.exports=function(a){return Object(d(a))}},function(a,b,c){"use strict";a.exports={}},function(a,b,c){"use strict";a.exports=!1},function(a,b,c){"use strict";a.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},function(a,b,c){"use strict";var d=c(16);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},function(a,b,c){"use strict";a.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},function(a,b,c){"use strict";var d={}.toString;a.exports=function(a){return d.call(a).slice(8,-1)}},function(a,b,c){"use strict";var d=c(15).f,e=c(12),f=c(4)("toStringTag");a.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ColorSpace=void 0;var d=c(0),e=c(2),f=function(){function a(a,b,c,d,e,f,g,h){var i=3;g=1!==g?0:g;var j,k,l,m,n=c/e,o=d/f,p=0,q=new Uint16Array(e),r=c*i;for(j=0;e>j;j++)q[j]=Math.floor(j*n)*i;for(j=0;f>j;j++)for(l=Math.floor(j*o)*r,k=0;e>k;k++)m=l+q[k],h[p++]=a[m++],h[p++]=a[m++],h[p++]=a[m++],p+=g}function b(){throw new Error("should not call ColorSpace constructor")}return b.prototype={getRgb:function(a,b){var c=new Uint8Array(3);return this.getRgbItem(a,b,c,0),c},getRgbItem:function(a,b,c,d){throw new Error("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(a,b,c,d,e,f,g){throw new Error("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(a,b){throw new Error("Should not call ColorSpace.getOutputLength")},isPassthrough:function(a){return!1},fillRgb:function(b,c,d,e,f,g,h,i,j){var k,l,m=c*d,n=null,o=1<<h,p=d!==f||c!==e;if(this.isPassthrough(h))n=i;else if(1===this.numComps&&m>o&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){var q,r=8>=h?new Uint8Array(o):new Uint16Array(o);for(k=0;o>k;k++)r[k]=k;var s=new Uint8Array(3*o);this.getRgbBuffer(r,0,o,s,0,h,0);var t,u;if(p)for(n=new Uint8Array(3*m),u=0,k=0;m>k;++k)q=3*i[k],n[u++]=s[q],n[u++]=s[q+1],n[u++]=s[q+2];else for(t=0,k=0;m>k;++k)q=3*i[k],b[t++]=s[q],b[t++]=s[q+1],b[t++]=s[q+2],t+=j}else p?(n=new Uint8Array(3*m),this.getRgbBuffer(i,0,m,n,0,h,0)):this.getRgbBuffer(i,0,e*g,b,0,h,j);if(n)if(p)a(n,h,c,d,e,f,j,b);else for(u=0,t=0,k=0,l=e*g;l>k;k++)b[t++]=n[u++],b[t++]=n[u++],b[t++]=n[u++],t+=j},usesZeroToOneRange:!0},b.parse=function(a,c,d,e){var f=b.parseToIR(a,c,d,e);return b.fromIR(f)},b.fromIR=function(a){var c,e,f,j=Array.isArray(a)?a[0]:a;switch(j){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":return c=a[1],e=a[2],f=a[3],new m(c,e,f);case"CalRGBCS":c=a[1],e=a[2],f=a[3];var k=a[4];return new n(c,e,f,k);case"PatternCS":var l=a[1];return l&&(l=b.fromIR(l)),new h(l);case"IndexedCS":var p=a[1],q=a[2],r=a[3];return new i(b.fromIR(p),q,r);case"AlternateCS":var s=a[1],t=a[2],u=a[3];return new g(s,b.fromIR(t),u);case"LabCS":c=a[1],e=a[2];var v=a[3];return new o(c,e,v);default:throw new d.FormatError("Unknown colorspace name: "+j)}},b.parseToIR=function(a,c,f,g){if(e.isName(a)){var h=f.get("ColorSpace");if(e.isDict(h)){var i=h.get(a.name);i&&(a=i)}}if(a=c.fetchIfRef(a),e.isName(a))switch(a.name){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:throw new d.FormatError("unrecognized colorspace "+a.name)}if(Array.isArray(a)){var j,k,l,m,n,o,p=c.fetchIfRef(a[0]).name;switch(p){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return k=c.fetchIfRef(a[1]),m=k.getArray("WhitePoint"),n=k.getArray("BlackPoint"),o=k.get("Gamma"),["CalGrayCS",m,n,o];case"CalRGB":k=c.fetchIfRef(a[1]),m=k.getArray("WhitePoint"),n=k.getArray("BlackPoint"),o=k.getArray("Gamma");var q=k.getArray("Matrix");return["CalRGBCS",m,n,o,q];case"ICCBased":var r=c.fetchIfRef(a[1]),s=r.dict;if(j=s.get("N"),l=s.get("Alternate")){var t=b.parseToIR(l,c,f,g),u=b.fromIR(t,g);if(u.numComps===j)return t;d.warn("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===j)return"DeviceGrayCS";if(3===j)return"DeviceRgbCS";if(4===j)return"DeviceCmykCS";break;case"Pattern":var v=a[1]||null;return v&&(v=b.parseToIR(v,c,f,g)),["PatternCS",v];case"Indexed":case"I":var w=b.parseToIR(a[1],c,f,g),x=c.fetchIfRef(a[2])+1,y=c.fetchIfRef(a[3]);return e.isStream(y)&&(y=y.getBytes()),["IndexedCS",w,x,y];case"Separation":case"DeviceN":var z=c.fetchIfRef(a[1]);j=Array.isArray(z)?z.length:1,l=b.parseToIR(a[2],c,f,g);var A=g.create(c.fetchIfRef(a[3]));return["AlternateCS",j,l,A];case"Lab":k=c.fetchIfRef(a[1]),m=k.getArray("WhitePoint"),n=k.getArray("BlackPoint");var B=k.getArray("Range");return["LabCS",m,n,B];default:throw new d.FormatError('unimplemented color space object "'+p+'"')}}throw new d.FormatError('unrecognized color space object: "'+a+'"')},b.isDefaultDecode=function(a,b){if(!Array.isArray(a))return!0;if(2*b!==a.length)return d.warn("The decode map is not the correct length"),!0;for(var c=0,e=a.length;e>c;c+=2)if(0!==a[c]||1!==a[c+1])return!1;return!0},b.singletons={get gray(){return d.shadow(this,"gray",new j)},get rgb(){return d.shadow(this,"rgb",new k)},get cmyk(){return d.shadow(this,"cmyk",new l)}},b}(),g=function(){function a(a,b,c){this.name="Alternate",this.numComps=a,this.defaultColor=new Float32Array(a);for(var d=0;a>d;++d)this.defaultColor[d]=1;this.base=b,this.tintFn=c,this.tmpBuf=new Float32Array(b.numComps)}return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,b,c,d){var e=this.tmpBuf;this.tintFn(a,b,e,0),this.base.getRgbItem(e,0,c,d)},getRgbBuffer:function(a,b,c,d,e,f,g){var h,i,j=this.tintFn,k=this.base,l=1/((1<<f)-1),m=k.numComps,n=k.usesZeroToOneRange,o=(k.isPassthrough(8)||!n)&&0===g,p=o?e:0,q=o?d:new Uint8Array(m*c),r=this.numComps,s=new Float32Array(r),t=new Float32Array(m);for(h=0;c>h;h++){for(i=0;r>i;i++)s[i]=a[b++]*l;if(j(s,0,t,0),n)for(i=0;m>i;i++)q[p++]=255*t[i];else k.getRgbItem(t,0,q,p),p+=m}o||k.getRgbBuffer(q,0,c,d,e,8,g)},getOutputLength:function(a,b){return this.base.getOutputLength(a*this.base.numComps/this.numComps,b)},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return f.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),h=function(){function a(a){this.name="Pattern",this.base=a}return a.prototype={},a}(),i=function(){function a(a,b,c){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array(this.numComps),this.base=a,this.highVal=b;var f=a.numComps,g=f*b;if(e.isStream(c)){this.lookup=new Uint8Array(g);var h=c.getBytes(g);this.lookup.set(h)}else if(d.isString(c)){this.lookup=new Uint8Array(g);for(var i=0;g>i;++i)this.lookup[i]=c.charCodeAt(i)}else{if(!(c instanceof Uint8Array||c instanceof Array))throw new d.FormatError("Unrecognized lookup table: "+c);this.lookup=c}}return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,b,c,d){var e=this.base.numComps,f=a[b]*e;this.base.getRgbBuffer(this.lookup,f,1,c,d,8,0)},getRgbBuffer:function(a,b,c,d,e,f,g){for(var h=this.base,i=h.numComps,j=h.getOutputLength(i,g),k=this.lookup,l=0;c>l;++l){var m=a[b++]*i;h.getRgbBuffer(k,m,1,d,e,8,g),e+=j}},getOutputLength:function(a,b){return this.base.getOutputLength(a*this.base.numComps,b)},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return!0},usesZeroToOneRange:!0},a}(),j=function(){function a(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array(this.numComps)}return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,b,c,d){var e=255*a[b]|0;e=0>e?0:e>255?255:e,c[d]=c[d+1]=c[d+2]=e},getRgbBuffer:function(a,b,c,d,e,f,g){for(var h=255/((1<<f)-1),i=b,j=e,k=0;c>k;++k){var l=h*a[i++]|0;d[j++]=l,d[j++]=l,d[j++]=l,j+=g}},getOutputLength:function(a,b){return a*(3+b)},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return f.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),k=function(){function a(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array(this.numComps)}return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,b,c,d){var e=255*a[b]|0,f=255*a[b+1]|0,g=255*a[b+2]|0;c[d]=0>e?0:e>255?255:e,c[d+1]=0>f?0:f>255?255:f,c[d+2]=0>g?0:g>255?255:g},getRgbBuffer:function(a,b,c,d,e,f,g){if(8===f&&0===g)return void d.set(a.subarray(b,b+3*c),e);for(var h=255/((1<<f)-1),i=b,j=e,k=0;c>k;++k)d[j++]=h*a[i++]|0,d[j++]=h*a[i++]|0,d[j++]=h*a[i++]|0,j+=g},getOutputLength:function(a,b){return a*(3+b)/3|0},isPassthrough:function(a){return 8===a},fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return f.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),l=function(){function a(a,b,c,d,e){var f=a[b+0]*c,g=a[b+1]*c,h=a[b+2]*c,i=a[b+3]*c,j=f*(-4.387332384609988*f+54.48615194189176*g+18.82290502165302*h+212.25662451639585*i+-285.2331026137004)+g*(1.7149763477362134*g-5.6096736904047315*h+-17.873870861415444*i-5.497006427196366)+h*(-2.5217340131683033*h-21.248923337353073*i+17.5119270841813)+i*(-21.86122147463605*i-189.48180835922747)+255|0,k=f*(8.841041422036149*f+60.118027045597366*g+6.871425592049007*h+31.159100130055922*i+-79.2970844816548)+g*(-15.310361306967817*g+17.575251261109482*h+131.35250912493976*i-190.9453302588951)+h*(4.444339102852739*h+9.8632861493405*i-24.86741582555878)+i*(-20.737325471181034*i-187.80453709719578)+255|0,l=f*(.8842522430003296*f+8.078677503112928*g+30.89978309703729*h-.23883238689178934*i+-14.183576799673286)+g*(10.49593273432072*g+63.02378494754052*h+50.606957656360734*i-112.23884253719248)+h*(.03296041114873217*h+115.60384449646641*i+-193.58209356861505)+i*(-22.33816807309886*i-180.12613974708367)+255|0;d[e]=j>255?255:0>j?0:j,d[e+1]=k>255?255:0>k?0:k,d[e+2]=l>255?255:0>l?0:l}function b(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array(this.numComps),this.defaultColor[3]=1}return b.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(b,c,d,e){a(b,c,1,d,e)},getRgbBuffer:function(b,c,d,e,f,g,h){for(var i=1/((1<<g)-1),j=0;d>j;j++)a(b,c,i,e,f),c+=4,f+=3+h},getOutputLength:function(a,b){return a/4*(3+b)|0},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return f.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},b}(),m=function(){function a(a,b,c){if(this.name="CalGray",this.numComps=1,this.defaultColor=new Float32Array(this.numComps),!a)throw new d.FormatError("WhitePoint missing - required for color space CalGray");if(b=b||[0,0,0],c=c||1,this.XW=a[0],this.YW=a[1],this.ZW=a[2],this.XB=b[0],this.YB=b[1],this.ZB=b[2],this.G=c,this.XW<0||this.ZW<0||1!==this.YW)throw new d.FormatError("Invalid WhitePoint components for "+this.name+", no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(d.info("Invalid BlackPoint for "+this.name+", falling back to default"),this.XB=this.YB=this.ZB=0),(0!==this.XB||0!==this.YB||0!==this.ZB)&&d.warn(this.name+", BlackPoint: XB: "+this.XB+", YB: "+this.YB+", ZB: "+this.ZB+", only default values are supported."),this.G<1&&(d.info("Invalid Gamma: "+this.G+" for "+this.name+", falling back to default"),this.G=1)}function b(a,b,c,d,e,f){var g=b[c]*f,h=Math.pow(g,a.G),i=a.YW*h,j=0|Math.max(295.8*Math.pow(i,.3333333333333333)-40.8,0);d[e]=j,d[e+1]=j,d[e+2]=j}return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,c,d,e){b(this,a,c,d,e,1)},getRgbBuffer:function(a,c,d,e,f,g,h){for(var i=1/((1<<g)-1),j=0;d>j;++j)b(this,a,c,e,f,i),c+=1,f+=3+h},getOutputLength:function(a,b){return a*(3+b)},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return f.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),n=function(){function a(a,b,c,e){if(this.name="CalRGB",this.numComps=3,this.defaultColor=new Float32Array(this.numComps),!a)throw new d.FormatError("WhitePoint missing - required for color space CalRGB");b=b||new Float32Array(3),c=c||new Float32Array([1,1,1]),e=e||new Float32Array([1,0,0,0,1,0,0,0,1]);var f=a[0],g=a[1],h=a[2];this.whitePoint=a;var i=b[0],j=b[1],k=b[2];if(this.blackPoint=b,this.GR=c[0],this.GG=c[1],this.GB=c[2],this.MXA=e[0],this.MYA=e[1],this.MZA=e[2],this.MXB=e[3],this.MYB=e[4],this.MZB=e[5],this.MXC=e[6],this.MYC=e[7],this.MZC=e[8],0>f||0>h||1!==g)throw new d.FormatError("Invalid WhitePoint components for "+this.name+", no fallback available");(0>i||0>j||0>k)&&(d.info("Invalid BlackPoint for "+this.name+" ["+i+", "+j+", "+k+"], falling back to default"),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(d.info("Invalid Gamma ["+this.GR+", "+this.GG+", "+this.GB+"] for "+this.name+", falling back to default"),this.GR=this.GG=this.GB=1),(this.MXA<0||this.MYA<0||this.MZA<0||this.MXB<0||this.MYB<0||this.MZB<0||this.MXC<0||this.MYC<0||this.MZC<0)&&(d.info("Invalid Matrix for "+this.name+" ["+this.MXA+", "+this.MYA+", "+this.MZA+this.MXB+", "+this.MYB+", "+this.MZB+this.MXC+", "+this.MYC+", "+this.MZC+"], falling back to default"),this.MXA=this.MYB=this.MZC=1,this.MXB=this.MYA=this.MZA=this.MXC=this.MYC=this.MZB=0)}function b(a,b,c){c[0]=a[0]*b[0]+a[1]*b[1]+a[2]*b[2],c[1]=a[3]*b[0]+a[4]*b[1]+a[5]*b[2],c[2]=a[6]*b[0]+a[7]*b[1]+a[8]*b[2]}function c(a,b,c){c[0]=1*b[0]/a[0],c[1]=1*b[1]/a[1],c[2]=1*b[2]/a[2]}function e(a,b,c){var d=.95047,e=1,f=1.08883;c[0]=b[0]*d/a[0],c[1]=b[1]*e/a[1],c[2]=b[2]*f/a[2]}function g(a){return.0031308>=a?h(0,1,12.92*a):h(0,1,1.055*Math.pow(a,1/2.4)-.055)}function h(a,b,c){return Math.max(a,Math.min(b,c))}function i(a){return 0>a?-i(-a):a>8?Math.pow((a+16)/116,3):a*u}function j(a,b,c){if(0===a[0]&&0===a[1]&&0===a[2])return c[0]=b[0],c[1]=b[1],void(c[2]=b[2]);var d=i(0),e=d,f=i(a[0]),g=d,h=i(a[1]),j=d,k=i(a[2]),l=(1-e)/(1-f),m=1-l,n=(1-g)/(1-h),o=1-n,p=(1-j)/(1-k),q=1-p;c[0]=b[0]*l+m,c[1]=b[1]*n+o,c[2]=b[2]*p+q}function k(a,d,e){if(1===a[0]&&1===a[2])return e[0]=d[0],e[1]=d[1],void(e[2]=d[2]);var f=e;b(n,d,f);var g=r;c(a,f,g),b(o,g,e)}function l(a,c,d){var f=d;b(n,c,f);var g=r;e(a,f,g),b(o,g,d)}function m(a,c,d,e,f,i){var m=h(0,1,c[d]*i),n=h(0,1,c[d+1]*i),o=h(0,1,c[d+2]*i),r=Math.pow(m,a.GR),u=Math.pow(n,a.GG),v=Math.pow(o,a.GB),w=a.MXA*r+a.MXB*u+a.MXC*v,x=a.MYA*r+a.MYB*u+a.MYC*v,y=a.MZA*r+a.MZB*u+a.MZC*v,z=s;z[0]=w,z[1]=x,z[2]=y;var A=t;k(a.whitePoint,z,A);var B=s;j(a.blackPoint,A,B);var C=t;l(q,B,C);var D=s;b(p,C,D);var E=g(D[0]),F=g(D[1]),G=g(D[2]);e[f]=Math.round(255*E),e[f+1]=Math.round(255*F),e[f+2]=Math.round(255*G)}var n=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),o=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),p=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),q=new Float32Array([1,1,1]),r=new Float32Array(3),s=new Float32Array(3),t=new Float32Array(3),u=Math.pow(24/116,3)/8;return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,b,c,d){m(this,a,b,c,d,1)},getRgbBuffer:function(a,b,c,d,e,f,g){for(var h=1/((1<<f)-1),i=0;c>i;++i)m(this,a,b,d,e,h),b+=3,e+=3+g},getOutputLength:function(a,b){return a*(3+b)/3|0},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return f.isDefaultDecode(a,this.numComps)},usesZeroToOneRange:!0},a}(),o=function(){function a(a,b,c){if(this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array(this.numComps),!a)throw new d.FormatError("WhitePoint missing - required for color space Lab");if(b=b||[0,0,0],c=c||[-100,100,-100,100],this.XW=a[0],this.YW=a[1],this.ZW=a[2],this.amin=c[0],this.amax=c[1],this.bmin=c[2],this.bmax=c[3],this.XB=b[0],this.YB=b[1],this.ZB=b[2],this.XW<0||this.ZW<0||1!==this.YW)throw new d.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(d.info("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(d.info("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function b(a){var b;return b=a>=6/29?a*a*a:108/841*(a-4/29)}function c(a,b,c,d){return c+a*(d-c)/b}function e(a,d,e,f,g,h){var i=d[e],j=d[e+1],k=d[e+2];f!==!1&&(i=c(i,f,0,100),j=c(j,f,a.amin,a.amax),k=c(k,f,a.bmin,a.bmax)),j=j>a.amax?a.amax:j<a.amin?a.amin:j,k=k>a.bmax?a.bmax:k<a.bmin?a.bmin:k;var l,m,n,o=(i+16)/116,p=o+j/500,q=o-k/200,r=a.XW*b(p),s=a.YW*b(o),t=a.ZW*b(q);a.ZW<1?(l=3.1339*r+-1.617*s+t*-.4906,m=r*-.9785+1.916*s+.0333*t,n=.072*r+s*-.229+1.4057*t):(l=3.2406*r+-1.5372*s+t*-.4986,m=r*-.9689+1.8758*s+.0415*t,n=.0557*r+s*-.204+1.057*t),g[h]=0>=l?0:l>=1?255:255*Math.sqrt(l)|0,g[h+1]=0>=m?0:m>=1?255:255*Math.sqrt(m)|0,g[h+2]=0>=n?0:n>=1?255:255*Math.sqrt(n)|0}return a.prototype={getRgb:f.prototype.getRgb,getRgbItem:function(a,b,c,d){e(this,a,b,!1,c,d)},getRgbBuffer:function(a,b,c,d,f,g,h){for(var i=(1<<g)-1,j=0;c>j;j++)e(this,a,b,i,d,f),b+=3,f+=3+h},getOutputLength:function(a,b){return a*(3+b)/3|0},isPassthrough:f.prototype.isPassthrough,fillRgb:f.prototype.fillRgb,isDefaultDecode:function(a){return!0},usesZeroToOneRange:!1},a}();b.ColorSpace=f},function(a,b,c){"use strict";function d(a){switch(a){case"WinAnsiEncoding":return i;case"StandardEncoding":return h;case"MacRomanEncoding":return g;case"SymbolSetEncoding":return j;case"ZapfDingbatsEncoding":return k;case"ExpertEncoding":return e;case"MacExpertEncoding":return f;default:return null}}Object.defineProperty(b,"__esModule",{value:!0});var e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],f=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall"],g=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],h=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],j=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt"],k=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191"];
b.WinAnsiEncoding=i,b.StandardEncoding=h,b.MacRomanEncoding=g,b.SymbolSetEncoding=j,b.ZapfDingbatsEncoding=k,b.ExpertEncoding=e,b.getEncoding=d},function(a,b,c){"use strict";a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(a,b,c){"use strict";var d=c(37),e=c(38);a.exports=function(a){return d(e(a))}},function(a,b,c){"use strict";var d=c(18),e=Math.max,f=Math.min;a.exports=function(a,b){return a=d(a),0>a?e(a+b,0):f(a,b)}},function(a,b,c){"use strict";var d=c(25),e=c(4)("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(c){}};a.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},function(a,b,c){"use strict";var d=c(13),e=c(107),f=c(56),g=c(9),h=c(14),i=c(60),j={},k={},l=a.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if(q=b?s(g(o=a[t])[0],o[1]):s(a[t]),q===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if(q=e(p,s,o.value,b),q===j||q===k)return q};l.BREAK=j,l.RETURN=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Parser=b.Linearization=b.Lexer=void 0;var d=c(5),e=c(0),f=c(2),g=c(130),h=c(132),i=1e3,j=function(){function a(a,b,c,d){this.lexer=a,this.allowStreams=b,this.xref=c,this.recoveryMode=d||!1,this.imageCache=Object.create(null),this.refill()}return a.prototype={refill:function(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()},shift:function(){f.isCmd(this.buf2,"ID")?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())},tryShift:function(){try{return this.shift(),!0}catch(a){if(a instanceof e.MissingDataException)throw a;return!1}},getObj:function(a){var b=this.buf1;if(this.shift(),b instanceof f.Cmd)switch(b.cmd){case"BI":return this.makeInlineImage(a);case"[":for(var c=[];!f.isCmd(this.buf1,"]")&&!f.isEOF(this.buf1);)c.push(this.getObj(a));if(f.isEOF(this.buf1)){if(!this.recoveryMode)throw new e.FormatError("End of file inside array");return c}return this.shift(),c;case"<<":for(var d=new f.Dict(this.xref);!f.isCmd(this.buf1,">>")&&!f.isEOF(this.buf1);)if(f.isName(this.buf1)){var g=this.buf1.name;if(this.shift(),f.isEOF(this.buf1))break;d.set(g,this.getObj(a))}else e.info("Malformed dictionary: key must be a name object"),this.shift();if(f.isEOF(this.buf1)){if(!this.recoveryMode)throw new e.FormatError("End of file inside dictionary");return d}return f.isCmd(this.buf2,"stream")?this.allowStreams?this.makeStream(d,a):d:(this.shift(),d);default:return b}if(Number.isInteger(b)){var h=b;if(Number.isInteger(this.buf1)&&f.isCmd(this.buf2,"R")){var i=new f.Ref(h,this.buf1);return this.shift(),this.shift(),i}return h}if(e.isString(b)){var j=b;return a&&(j=a.decryptString(j)),j}return b},findDefaultInlineStreamEnd:function(a){for(var b=69,c=73,d=32,f=10,g=13,h=10,i=0,j=a.pos,k=0,l=void 0,m=void 0;-1!==(l=a.getByte());)if(0===k)k=l===b?1:0;else if(1===k)k=l===c?2:0;else if(e.assert(2===k),l===d||l===f||l===g){m=a.pos;for(var n=a.peekBytes(h),o=0,p=n.length;p>o;o++)if(l=n[o],(l!==i||n[o+1]===i)&&l!==f&&l!==g&&(d>l||l>127)){k=0;break}if(2===k)break}else k=0;return-1===l&&(e.warn("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),m&&(e.warn('... trying to recover by using the last "EI" occurrence.'),a.skip(-(a.pos-m)))),a.pos-4-j},findDCTDecodeInlineStreamEnd:function(a){for(var b,c,d,f=a.pos,g=!1;-1!==(b=a.getByte());)if(255===b){switch(a.getByte()){case 0:break;case 255:a.skip(-1);break;case 217:g=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:c=a.getUint16(),c>2?a.skip(c-2):a.skip(-2)}if(g)break}return d=a.pos-f,-1===b?(e.warn("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),a.skip(-d),this.findDefaultInlineStreamEnd(a)):(this.inlineStreamSkipEI(a),d)},findASCII85DecodeInlineStreamEnd:function(a){for(var b,c,d=126,f=62,g=a.pos;-1!==(b=a.getByte());)if(b===d&&a.peekByte()===f){a.skip();break}return c=a.pos-g,-1===b?(e.warn("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),a.skip(-c),this.findDefaultInlineStreamEnd(a)):(this.inlineStreamSkipEI(a),c)},findASCIIHexDecodeInlineStreamEnd:function(a){for(var b,c,d=62,f=a.pos;-1!==(b=a.getByte())&&b!==d;);return c=a.pos-f,-1===b?(e.warn("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),a.skip(-c),this.findDefaultInlineStreamEnd(a)):(this.inlineStreamSkipEI(a),c)},inlineStreamSkipEI:function(a){for(var b,c=69,d=73,e=0;-1!==(b=a.getByte());)if(0===e)e=b===c?1:0;else if(1===e)e=b===d?2:0;else if(2===e)break},makeInlineImage:function(a){for(var b=this.lexer,c=b.stream,d=new f.Dict(this.xref);!f.isCmd(this.buf1,"ID")&&!f.isEOF(this.buf1);){if(!f.isName(this.buf1))throw new e.FormatError("Dictionary key must be a name object");var g=this.buf1.name;if(this.shift(),f.isEOF(this.buf1))break;d.set(g,this.getObj(a))}var h,j=d.get("Filter","F");if(f.isName(j))h=j.name;else if(Array.isArray(j)){var k=this.xref.fetchIfRef(j[0]);f.isName(k)&&(h=k.name)}var l,m,n,o=c.pos;l="DCTDecode"===h||"DCT"===h?this.findDCTDecodeInlineStreamEnd(c):"ASCII85Decode"===h||"A85"===h?this.findASCII85DecodeInlineStreamEnd(c):"ASCIIHexDecode"===h||"AHx"===h?this.findASCIIHexDecodeInlineStreamEnd(c):this.findDefaultInlineStreamEnd(c);var p,q=c.makeSubStream(o,l,d);if(i>l){var r=q.getBytes();q.reset();var s=1,t=0;for(m=0,n=r.length;n>m;++m)s+=255&r[m],t+=s;p=t%65521<<16|s%65521;var u=this.imageCache[p];if(void 0!==u)return this.buf2=f.Cmd.get("EI"),this.shift(),u.reset(),u}return a&&(q=a.createStream(q,l)),q=this.filter(q,d,l),q.dict=d,void 0!==p&&(q.cacheKey="inline_"+l+"_"+p,this.imageCache[p]=q),this.buf2=f.Cmd.get("EI"),this.shift(),q},makeStream:function(a,b){var c=this.lexer,d=c.stream;c.skipToNextLine();var g=d.pos-1,h=a.get("Length");if(Number.isInteger(h)||(e.info("Bad "+h+" attribute in stream"),h=0),d.pos=g+h,c.nextChar(),this.tryShift()&&f.isCmd(this.buf2,"endstream"))this.shift();else{d.pos=g;for(var i,j,k=2048,l=9,m=[101,110,100,115,116,114,101,97,109],n=0,o=!1;d.pos<d.end;){var p=d.peekBytes(k),q=p.length-l;if(0>=q)break;for(o=!1,i=0;q>i;){for(j=0;l>j&&p[i+j]===m[j];)j++;if(j>=l){o=!0;break}i++}if(o){n+=i,d.pos+=i;break}n+=q,d.pos+=q}if(!o)throw new e.FormatError("Missing endstream");h=n,c.nextChar(),this.shift(),this.shift()}return this.shift(),d=d.makeSubStream(g,h,a),b&&(d=b.createStream(d,h)),d=this.filter(d,a,h),d.dict=a,d},filter:function(a,b,c){var d=b.get("Filter","F"),g=b.get("DecodeParms","DP");if(f.isName(d))return Array.isArray(g)&&e.warn("/DecodeParms should not contain an Array, when /Filter contains a Name."),this.makeFilter(a,d.name,c,g);var h=c;if(Array.isArray(d))for(var i=d,j=g,k=0,l=i.length;l>k;++k){if(d=this.xref.fetchIfRef(i[k]),!f.isName(d))throw new e.FormatError("Bad filter name: "+d);g=null,Array.isArray(j)&&k in j&&(g=this.xref.fetchIfRef(j[k])),a=this.makeFilter(a,d.name,h,g),h=null}return a},makeFilter:function(a,b,c,f){if(0===c)return e.warn('Empty "'+b+'" stream.'),new d.NullStream(a);try{var i=this.xref.stats.streamTypes;if("FlateDecode"===b||"Fl"===b)return i[e.StreamType.FLATE]=!0,f?new d.PredictorStream(new d.FlateStream(a,c),c,f):new d.FlateStream(a,c);if("LZWDecode"===b||"LZW"===b){i[e.StreamType.LZW]=!0;var j=1;return f?(f.has("EarlyChange")&&(j=f.get("EarlyChange")),new d.PredictorStream(new d.LZWStream(a,c,j),c,f)):new d.LZWStream(a,c,j)}return"DCTDecode"===b||"DCT"===b?(i[e.StreamType.DCT]=!0,new d.JpegStream(a,c,a.dict,f)):"JPXDecode"===b||"JPX"===b?(i[e.StreamType.JPX]=!0,new d.JpxStream(a,c,a.dict,f)):"ASCII85Decode"===b||"A85"===b?(i[e.StreamType.A85]=!0,new d.Ascii85Stream(a,c)):"ASCIIHexDecode"===b||"AHx"===b?(i[e.StreamType.AHX]=!0,new d.AsciiHexStream(a,c)):"CCITTFaxDecode"===b||"CCF"===b?(i[e.StreamType.CCF]=!0,new g.CCITTFaxStream(a,c,f)):"RunLengthDecode"===b||"RL"===b?(i[e.StreamType.RL]=!0,new d.RunLengthStream(a,c)):"JBIG2Decode"===b?(i[e.StreamType.JBIG]=!0,new h.Jbig2Stream(a,c,a.dict,f)):(e.warn('filter "'+b+'" not supported yet'),a)}catch(k){if(k instanceof e.MissingDataException)throw k;return e.warn('Invalid stream: "'+k+'"'),new d.NullStream(a)}}},a}(),k=function(){function a(a,b){this.stream=a,this.nextChar(),this.strBuf=[],this.knownCommands=b}function b(a){return a>=48&&57>=a?15&a:a>=65&&70>=a||a>=97&&102>=a?(15&a)+9:-1}var c=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return a.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},peekChar:function(){return this.stream.peekByte()},getNumber:function(){var a=this.currentChar,b=!1,c=0,d=1;if(45===a?(d=-1,a=this.nextChar(),45===a&&(a=this.nextChar())):43===a&&(a=this.nextChar()),46===a&&(c=10,a=this.nextChar()),10===a||13===a)do a=this.nextChar();while(10===a||13===a);if(48>a||a>57)throw new e.FormatError("Invalid number: "+String.fromCharCode(a)+" (charCode "+a+")");for(var f=a-48,g=0,h=1;(a=this.nextChar())>=0;)if(a>=48&&57>=a){var i=a-48;b?g=10*g+i:(0!==c&&(c*=10),f=10*f+i)}else if(46===a){if(0!==c)break;c=1}else if(45===a)e.warn("Badly formatted number");else{if(69!==a&&101!==a)break;if(a=this.peekChar(),43===a||45===a)h=45===a?-1:1,this.nextChar();else if(48>a||a>57)break;b=!0}return 0!==c&&(f/=c),b&&(f*=Math.pow(10,h*g)),d*f},getString:function(){var a=1,b=!1,c=this.strBuf;c.length=0;for(var d=this.nextChar();;){var f=!1;switch(0|d){case-1:e.warn("Unterminated string"),b=!0;break;case 40:++a,c.push("(");break;case 41:0===--a?(this.nextChar(),b=!0):c.push(")");break;case 92:switch(d=this.nextChar()){case-1:e.warn("Unterminated string"),b=!0;break;case 110:c.push("\n");break;case 114:c.push("\r");break;case 116:c.push("	");break;case 98:c.push("\b");break;case 102:c.push("\f");break;case 92:case 40:case 41:c.push(String.fromCharCode(d));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var g=15&d;d=this.nextChar(),f=!0,d>=48&&55>=d&&(g=(g<<3)+(15&d),d=this.nextChar(),d>=48&&55>=d&&(f=!1,g=(g<<3)+(15&d))),c.push(String.fromCharCode(g));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:c.push(String.fromCharCode(d))}break;default:c.push(String.fromCharCode(d))}if(b)break;f||(d=this.nextChar())}return c.join("")},getName:function(){var a,d,g=this.strBuf;for(g.length=0;(a=this.nextChar())>=0&&!c[a];)if(35===a){if(a=this.nextChar(),c[a]){e.warn("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),g.push("#");break}var h=b(a);if(-1!==h){d=a,a=this.nextChar();var i=b(a);if(-1===i){if(e.warn("Lexer_getName: Illegal digit ("+String.fromCharCode(a)+") in hexadecimal number."),g.push("#",String.fromCharCode(d)),c[a])break;g.push(String.fromCharCode(a));continue}g.push(String.fromCharCode(h<<4|i))}else g.push("#",String.fromCharCode(a))}else g.push(String.fromCharCode(a));return g.length>127&&e.warn("name token is longer than allowed by the spec: "+g.length),f.Name.get(g.join(""))},getHexString:function(){var a=this.strBuf;a.length=0;for(var d,f,g=this.currentChar,h=!0;;){if(0>g){e.warn("Unterminated hex string");break}if(62===g){this.nextChar();break}if(1!==c[g]){if(h){if(d=b(g),-1===d){e.warn('Ignoring invalid character "'+g+'" in hex string'),g=this.nextChar();continue}}else{if(f=b(g),-1===f){e.warn('Ignoring invalid character "'+g+'" in hex string'),g=this.nextChar();continue}a.push(String.fromCharCode(d<<4|f))}h=!h,g=this.nextChar()}else g=this.nextChar()}return a.join("")},getObj:function(){for(var a=!1,b=this.currentChar;;){if(0>b)return f.EOF;if(a)(10===b||13===b)&&(a=!1);else if(37===b)a=!0;else if(1!==c[b])break;b=this.nextChar()}switch(0|b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),f.Cmd.get("[");case 93:return this.nextChar(),f.Cmd.get("]");case 60:return b=this.nextChar(),60===b?(this.nextChar(),f.Cmd.get("<<")):this.getHexString();case 62:return b=this.nextChar(),62===b?(this.nextChar(),f.Cmd.get(">>")):f.Cmd.get(">");case 123:return this.nextChar(),f.Cmd.get("{");case 125:return this.nextChar(),f.Cmd.get("}");case 41:throw this.nextChar(),new e.FormatError("Illegal character: "+b)}for(var d=String.fromCharCode(b),g=this.knownCommands,h=g&&void 0!==g[d];(b=this.nextChar())>=0&&!c[b];){var i=d+String.fromCharCode(b);if(h&&void 0===g[i])break;if(128===d.length)throw new e.FormatError("Command token too long: "+d.length);d=i,h=g&&void 0!==g[d]}return"true"===d?!0:"false"===d?!1:"null"===d?null:f.Cmd.get(d)},skipToNextLine:function(){for(var a=this.currentChar;a>=0;){if(13===a){a=this.nextChar(),10===a&&this.nextChar();break}if(10===a){this.nextChar();break}a=this.nextChar()}}},a}(),l={create:function(a){function b(a,b){var c=n.get(a);if(Number.isInteger(c)&&(b?c>=0:c>0))return c;throw new Error('The "'+a+'" parameter in the linearization dictionary is invalid.')}function c(){var a,b,c=n.get("H");if(Array.isArray(c)&&(2===(a=c.length)||4===a)){for(var d=0;a>d;d++)if(!(Number.isInteger(b=c[d])&&b>0))throw new Error("Hint ("+d+") in the linearization dictionary is invalid.");return c}throw new Error("Hint array in the linearization dictionary is invalid.")}var d,g,h=new j(new k(a),!1,null),i=h.getObj(),l=h.getObj(),m=h.getObj(),n=h.getObj();if(!(Number.isInteger(i)&&Number.isInteger(l)&&f.isCmd(m,"obj")&&f.isDict(n)&&e.isNum(d=n.get("Linearized"))&&d>0))return null;if((g=b("L"))!==a.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:g,hints:c(),objectNumberFirst:b("O"),endFirst:b("E"),numPages:b("N"),mainXRefEntriesOffset:b("T"),pageFirst:n.has("P")?b("P",!0):0}}};b.Lexer=k,b.Linearization=l,b.Parser=j},function(a,b,c){"use strict";var d=c(3),e=c(1).document,f=d(e)&&d(e.createElement);a.exports=function(a){return f?e.createElement(a):{}}},function(a,b,c){"use strict";var d=c(3);a.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},function(a,b,c){"use strict";var d=c(25);a.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},function(a,b,c){"use strict";a.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},function(a,b,c){"use strict";var d=c(54)("keys"),e=c(17);a.exports=function(a){return d[a]||(d[a]=e(a))}},function(a,b,c){"use strict";a.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(a,b,c){"use strict";var d=c(52),e=c(40);a.exports=Object.keys||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(13),e=c(37),f=c(19),g=c(14),h=c(91);a.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},function(a,b,c){"use strict";var d=c(9),e=c(22),f=c(4)("species");a.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},function(a,b,c){"use strict";var d=c(4)("iterator"),e=!1;try{var f=[7][d]();f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(g){}a.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(h){}return c}},function(a,b,c){"use strict";function d(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=e(b),this.reject=e(c)}var e=c(22);a.exports.f=function(a){return new d(a)}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(17)("meta"),f=c(3),g=c(12),h=c(15).f,i=0,j=Object.isExtensible||function(){return!0},k=!c(11)(function(){return j(Object.preventExtensions({}))}),l=function(a){h(a,e,{value:{i:"O"+ ++i,w:{}}})},m=function(a,b){if(!f(a))return"symbol"==("undefined"==typeof a?"undefined":d(a))?a:("string"==typeof a?"S":"P")+a;if(!g(a,e)){if(!j(a))return"F";if(!b)return"E";l(a)}return a[e].i},n=function(a,b){if(!g(a,e)){if(!j(a))return!0;if(!b)return!1;l(a)}return a[e].w},o=function(a){return k&&p.NEED&&j(a)&&!g(a,e)&&l(a),a},p=a.exports={KEY:e,NEED:!1,fastKey:m,getWeak:n,onFreeze:o}},function(a,b,c){var d=c(0).getLookupTableFactory,e=d(function(a){a.A=65,a.AE=198,a.AEacute=508,a.AEmacron=482,a.AEsmall=63462,a.Aacute=193,a.Aacutesmall=63457,a.Abreve=258,a.Abreveacute=7854,a.Abrevecyrillic=1232,a.Abrevedotbelow=7862,a.Abrevegrave=7856,a.Abrevehookabove=7858,a.Abrevetilde=7860,a.Acaron=461,a.Acircle=9398,a.Acircumflex=194,a.Acircumflexacute=7844,a.Acircumflexdotbelow=7852,a.Acircumflexgrave=7846,a.Acircumflexhookabove=7848,a.Acircumflexsmall=63458,a.Acircumflextilde=7850,a.Acute=63177,a.Acutesmall=63412,a.Acyrillic=1040,a.Adblgrave=512,a.Adieresis=196,a.Adieresiscyrillic=1234,a.Adieresismacron=478,a.Adieresissmall=63460,a.Adotbelow=7840,a.Adotmacron=480,a.Agrave=192,a.Agravesmall=63456,a.Ahookabove=7842,a.Aiecyrillic=1236,a.Ainvertedbreve=514,a.Alpha=913,a.Alphatonos=902,a.Amacron=256,a.Amonospace=65313,a.Aogonek=260,a.Aring=197,a.Aringacute=506,a.Aringbelow=7680,a.Aringsmall=63461,a.Asmall=63329,a.Atilde=195,a.Atildesmall=63459,a.Aybarmenian=1329,a.B=66,a.Bcircle=9399,a.Bdotaccent=7682,a.Bdotbelow=7684,a.Becyrillic=1041,a.Benarmenian=1330,a.Beta=914,a.Bhook=385,a.Blinebelow=7686,a.Bmonospace=65314,a.Brevesmall=63220,a.Bsmall=63330,a.Btopbar=386,a.C=67,a.Caarmenian=1342,a.Cacute=262,a.Caron=63178,a.Caronsmall=63221,a.Ccaron=268,a.Ccedilla=199,a.Ccedillaacute=7688,a.Ccedillasmall=63463,a.Ccircle=9400,a.Ccircumflex=264,a.Cdot=266,a.Cdotaccent=266,a.Cedillasmall=63416,a.Chaarmenian=1353,a.Cheabkhasiancyrillic=1212,a.Checyrillic=1063,a.Chedescenderabkhasiancyrillic=1214,a.Chedescendercyrillic=1206,a.Chedieresiscyrillic=1268,a.Cheharmenian=1347,a.Chekhakassiancyrillic=1227,a.Cheverticalstrokecyrillic=1208,a.Chi=935,a.Chook=391,a.Circumflexsmall=63222,a.Cmonospace=65315,a.Coarmenian=1361,a.Csmall=63331,a.D=68,a.DZ=497,a.DZcaron=452,a.Daarmenian=1332,a.Dafrican=393,a.Dcaron=270,a.Dcedilla=7696,a.Dcircle=9401,a.Dcircumflexbelow=7698,a.Dcroat=272,a.Ddotaccent=7690,a.Ddotbelow=7692,a.Decyrillic=1044,a.Deicoptic=1006,a.Delta=8710,a.Deltagreek=916,a.Dhook=394,a.Dieresis=63179,a.DieresisAcute=63180,a.DieresisGrave=63181,a.Dieresissmall=63400,a.Digammagreek=988,a.Djecyrillic=1026,a.Dlinebelow=7694,a.Dmonospace=65316,a.Dotaccentsmall=63223,a.Dslash=272,a.Dsmall=63332,a.Dtopbar=395,a.Dz=498,a.Dzcaron=453,a.Dzeabkhasiancyrillic=1248,a.Dzecyrillic=1029,a.Dzhecyrillic=1039,a.E=69,a.Eacute=201,a.Eacutesmall=63465,a.Ebreve=276,a.Ecaron=282,a.Ecedillabreve=7708,a.Echarmenian=1333,a.Ecircle=9402,a.Ecircumflex=202,a.Ecircumflexacute=7870,a.Ecircumflexbelow=7704,a.Ecircumflexdotbelow=7878,a.Ecircumflexgrave=7872,a.Ecircumflexhookabove=7874,a.Ecircumflexsmall=63466,a.Ecircumflextilde=7876,a.Ecyrillic=1028,a.Edblgrave=516,a.Edieresis=203,a.Edieresissmall=63467,a.Edot=278,a.Edotaccent=278,a.Edotbelow=7864,a.Efcyrillic=1060,a.Egrave=200,a.Egravesmall=63464,a.Eharmenian=1335,a.Ehookabove=7866,a.Eightroman=8551,a.Einvertedbreve=518,a.Eiotifiedcyrillic=1124,a.Elcyrillic=1051,a.Elevenroman=8554,a.Emacron=274,a.Emacronacute=7702,a.Emacrongrave=7700,a.Emcyrillic=1052,a.Emonospace=65317,a.Encyrillic=1053,a.Endescendercyrillic=1186,a.Eng=330,a.Enghecyrillic=1188,a.Enhookcyrillic=1223,a.Eogonek=280,a.Eopen=400,a.Epsilon=917,a.Epsilontonos=904,a.Ercyrillic=1056,a.Ereversed=398,a.Ereversedcyrillic=1069,a.Escyrillic=1057,a.Esdescendercyrillic=1194,a.Esh=425,a.Esmall=63333,a.Eta=919,a.Etarmenian=1336,a.Etatonos=905,a.Eth=208,a.Ethsmall=63472,a.Etilde=7868,a.Etildebelow=7706,a.Euro=8364,a.Ezh=439,a.Ezhcaron=494,a.Ezhreversed=440,a.F=70,a.Fcircle=9403,a.Fdotaccent=7710,a.Feharmenian=1366,a.Feicoptic=996,a.Fhook=401,a.Fitacyrillic=1138,a.Fiveroman=8548,a.Fmonospace=65318,a.Fourroman=8547,a.Fsmall=63334,a.G=71,a.GBsquare=13191,a.Gacute=500,a.Gamma=915,a.Gammaafrican=404,a.Gangiacoptic=1002,a.Gbreve=286,a.Gcaron=486,a.Gcedilla=290,a.Gcircle=9404,a.Gcircumflex=284,a.Gcommaaccent=290,a.Gdot=288,a.Gdotaccent=288,a.Gecyrillic=1043,a.Ghadarmenian=1346,a.Ghemiddlehookcyrillic=1172,a.Ghestrokecyrillic=1170,a.Gheupturncyrillic=1168,a.Ghook=403,a.Gimarmenian=1331,a.Gjecyrillic=1027,a.Gmacron=7712,a.Gmonospace=65319,a.Grave=63182,a.Gravesmall=63328,a.Gsmall=63335,a.Gsmallhook=667,a.Gstroke=484,a.H=72,a.H18533=9679,a.H18543=9642,a.H18551=9643,a.H22073=9633,a.HPsquare=13259,a.Haabkhasiancyrillic=1192,a.Hadescendercyrillic=1202,a.Hardsigncyrillic=1066,a.Hbar=294,a.Hbrevebelow=7722,a.Hcedilla=7720,a.Hcircle=9405,a.Hcircumflex=292,a.Hdieresis=7718,a.Hdotaccent=7714,a.Hdotbelow=7716,a.Hmonospace=65320,a.Hoarmenian=1344,a.Horicoptic=1e3,a.Hsmall=63336,a.Hungarumlaut=63183,a.Hungarumlautsmall=63224,a.Hzsquare=13200,a.I=73,a.IAcyrillic=1071,a.IJ=306,a.IUcyrillic=1070,a.Iacute=205,a.Iacutesmall=63469,a.Ibreve=300,a.Icaron=463,a.Icircle=9406,a.Icircumflex=206,a.Icircumflexsmall=63470,a.Icyrillic=1030,a.Idblgrave=520,a.Idieresis=207,a.Idieresisacute=7726,a.Idieresiscyrillic=1252,a.Idieresissmall=63471,a.Idot=304,a.Idotaccent=304,a.Idotbelow=7882,a.Iebrevecyrillic=1238,a.Iecyrillic=1045,a.Ifraktur=8465,a.Igrave=204,a.Igravesmall=63468,a.Ihookabove=7880,a.Iicyrillic=1048,a.Iinvertedbreve=522,a.Iishortcyrillic=1049,a.Imacron=298,a.Imacroncyrillic=1250,a.Imonospace=65321,a.Iniarmenian=1339,a.Iocyrillic=1025,a.Iogonek=302,a.Iota=921,a.Iotaafrican=406,a.Iotadieresis=938,a.Iotatonos=906,a.Ismall=63337,a.Istroke=407,a.Itilde=296,a.Itildebelow=7724,a.Izhitsacyrillic=1140,a.Izhitsadblgravecyrillic=1142,a.J=74,a.Jaarmenian=1345,a.Jcircle=9407,a.Jcircumflex=308,a.Jecyrillic=1032,a.Jheharmenian=1355,a.Jmonospace=65322,a.Jsmall=63338,a.K=75,a.KBsquare=13189,a.KKsquare=13261,a.Kabashkircyrillic=1184,a.Kacute=7728,a.Kacyrillic=1050,a.Kadescendercyrillic=1178,a.Kahookcyrillic=1219,a.Kappa=922,a.Kastrokecyrillic=1182,a.Kaverticalstrokecyrillic=1180,a.Kcaron=488,a.Kcedilla=310,a.Kcircle=9408,a.Kcommaaccent=310,a.Kdotbelow=7730,a.Keharmenian=1364,a.Kenarmenian=1343,a.Khacyrillic=1061,a.Kheicoptic=998,a.Khook=408,a.Kjecyrillic=1036,a.Klinebelow=7732,a.Kmonospace=65323,a.Koppacyrillic=1152,a.Koppagreek=990,a.Ksicyrillic=1134,a.Ksmall=63339,a.L=76,a.LJ=455,a.LL=63167,a.Lacute=313,a.Lambda=923,a.Lcaron=317,a.Lcedilla=315,a.Lcircle=9409,a.Lcircumflexbelow=7740,a.Lcommaaccent=315,a.Ldot=319,a.Ldotaccent=319,a.Ldotbelow=7734,a.Ldotbelowmacron=7736,a.Liwnarmenian=1340,a.Lj=456,a.Ljecyrillic=1033,a.Llinebelow=7738,a.Lmonospace=65324,a.Lslash=321,a.Lslashsmall=63225,a.Lsmall=63340,a.M=77,a.MBsquare=13190,a.Macron=63184,a.Macronsmall=63407,a.Macute=7742,a.Mcircle=9410,a.Mdotaccent=7744,a.Mdotbelow=7746,a.Menarmenian=1348,a.Mmonospace=65325,a.Msmall=63341,a.Mturned=412,a.Mu=924,a.N=78,a.NJ=458,a.Nacute=323,a.Ncaron=327,a.Ncedilla=325,a.Ncircle=9411,a.Ncircumflexbelow=7754,a.Ncommaaccent=325,a.Ndotaccent=7748,a.Ndotbelow=7750,a.Nhookleft=413,a.Nineroman=8552,a.Nj=459,a.Njecyrillic=1034,a.Nlinebelow=7752,a.Nmonospace=65326,a.Nowarmenian=1350,a.Nsmall=63342,a.Ntilde=209,a.Ntildesmall=63473,a.Nu=925,a.O=79,a.OE=338,a.OEsmall=63226,a.Oacute=211,a.Oacutesmall=63475,a.Obarredcyrillic=1256,a.Obarreddieresiscyrillic=1258,a.Obreve=334,a.Ocaron=465,a.Ocenteredtilde=415,a.Ocircle=9412,a.Ocircumflex=212,a.Ocircumflexacute=7888,a.Ocircumflexdotbelow=7896,a.Ocircumflexgrave=7890,a.Ocircumflexhookabove=7892,a.Ocircumflexsmall=63476,a.Ocircumflextilde=7894,a.Ocyrillic=1054,a.Odblacute=336,a.Odblgrave=524,a.Odieresis=214,a.Odieresiscyrillic=1254,a.Odieresissmall=63478,a.Odotbelow=7884,a.Ogoneksmall=63227,a.Ograve=210,a.Ogravesmall=63474,a.Oharmenian=1365,a.Ohm=8486,a.Ohookabove=7886,a.Ohorn=416,a.Ohornacute=7898,a.Ohorndotbelow=7906,a.Ohorngrave=7900,a.Ohornhookabove=7902,a.Ohorntilde=7904,a.Ohungarumlaut=336,a.Oi=418,a.Oinvertedbreve=526,a.Omacron=332,a.Omacronacute=7762,a.Omacrongrave=7760,a.Omega=8486,a.Omegacyrillic=1120,a.Omegagreek=937,a.Omegaroundcyrillic=1146,a.Omegatitlocyrillic=1148,a.Omegatonos=911,a.Omicron=927,a.Omicrontonos=908,a.Omonospace=65327,a.Oneroman=8544,a.Oogonek=490,a.Oogonekmacron=492,a.Oopen=390,a.Oslash=216,a.Oslashacute=510,a.Oslashsmall=63480,a.Osmall=63343,a.Ostrokeacute=510,a.Otcyrillic=1150,a.Otilde=213,a.Otildeacute=7756,a.Otildedieresis=7758,a.Otildesmall=63477,a.P=80,a.Pacute=7764,a.Pcircle=9413,a.Pdotaccent=7766,a.Pecyrillic=1055,a.Peharmenian=1354,a.Pemiddlehookcyrillic=1190,a.Phi=934,a.Phook=420,a.Pi=928,a.Piwrarmenian=1363,a.Pmonospace=65328,a.Psi=936,a.Psicyrillic=1136,a.Psmall=63344,a.Q=81,a.Qcircle=9414,a.Qmonospace=65329,a.Qsmall=63345,a.R=82,a.Raarmenian=1356,a.Racute=340,a.Rcaron=344,a.Rcedilla=342,a.Rcircle=9415,a.Rcommaaccent=342,a.Rdblgrave=528,a.Rdotaccent=7768,a.Rdotbelow=7770,a.Rdotbelowmacron=7772,a.Reharmenian=1360,a.Rfraktur=8476,a.Rho=929,a.Ringsmall=63228,a.Rinvertedbreve=530,a.Rlinebelow=7774,a.Rmonospace=65330,a.Rsmall=63346,a.Rsmallinverted=641,a.Rsmallinvertedsuperior=694,a.S=83,a.SF010000=9484,a.SF020000=9492,a.SF030000=9488,a.SF040000=9496,a.SF050000=9532,a.SF060000=9516,a.SF070000=9524,a.SF080000=9500,a.SF090000=9508,a.SF100000=9472,a.SF110000=9474,a.SF190000=9569,a.SF200000=9570,a.SF210000=9558,a.SF220000=9557,a.SF230000=9571,a.SF240000=9553,a.SF250000=9559,a.SF260000=9565,a.SF270000=9564,a.SF280000=9563,a.SF360000=9566,a.SF370000=9567,a.SF380000=9562,a.SF390000=9556,a.SF400000=9577,a.SF410000=9574,a.SF420000=9568,a.SF430000=9552,a.SF440000=9580,a.SF450000=9575,a.SF460000=9576,a.SF470000=9572,a.SF480000=9573,a.SF490000=9561,a.SF500000=9560,a.SF510000=9554,a.SF520000=9555,a.SF530000=9579,a.SF540000=9578,a.Sacute=346,a.Sacutedotaccent=7780,a.Sampigreek=992,a.Scaron=352,a.Scarondotaccent=7782,a.Scaronsmall=63229,a.Scedilla=350,a.Schwa=399,a.Schwacyrillic=1240,a.Schwadieresiscyrillic=1242,a.Scircle=9416,a.Scircumflex=348,a.Scommaaccent=536,a.Sdotaccent=7776,a.Sdotbelow=7778,a.Sdotbelowdotaccent=7784,a.Seharmenian=1357,a.Sevenroman=8550,a.Shaarmenian=1351,a.Shacyrillic=1064,a.Shchacyrillic=1065,a.Sheicoptic=994,a.Shhacyrillic=1210,a.Shimacoptic=1004,a.Sigma=931,a.Sixroman=8549,a.Smonospace=65331,a.Softsigncyrillic=1068,a.Ssmall=63347,a.Stigmagreek=986,a.T=84,a.Tau=932,a.Tbar=358,a.Tcaron=356,a.Tcedilla=354,a.Tcircle=9417,a.Tcircumflexbelow=7792,a.Tcommaaccent=354,a.Tdotaccent=7786,a.Tdotbelow=7788,a.Tecyrillic=1058,a.Tedescendercyrillic=1196,a.Tenroman=8553,a.Tetsecyrillic=1204,a.Theta=920,a.Thook=428,a.Thorn=222,a.Thornsmall=63486,a.Threeroman=8546,a.Tildesmall=63230,a.Tiwnarmenian=1359,a.Tlinebelow=7790,a.Tmonospace=65332,a.Toarmenian=1337,a.Tonefive=444,a.Tonesix=388,a.Tonetwo=423,a.Tretroflexhook=430,a.Tsecyrillic=1062,a.Tshecyrillic=1035,a.Tsmall=63348,a.Twelveroman=8555,a.Tworoman=8545,a.U=85,a.Uacute=218,a.Uacutesmall=63482,a.Ubreve=364,a.Ucaron=467,a.Ucircle=9418,a.Ucircumflex=219,a.Ucircumflexbelow=7798,a.Ucircumflexsmall=63483,a.Ucyrillic=1059,a.Udblacute=368,a.Udblgrave=532,a.Udieresis=220,a.Udieresisacute=471,a.Udieresisbelow=7794,a.Udieresiscaron=473,a.Udieresiscyrillic=1264,a.Udieresisgrave=475,a.Udieresismacron=469,a.Udieresissmall=63484,a.Udotbelow=7908,a.Ugrave=217,a.Ugravesmall=63481,a.Uhookabove=7910,a.Uhorn=431,a.Uhornacute=7912,a.Uhorndotbelow=7920,a.Uhorngrave=7914,a.Uhornhookabove=7916,a.Uhorntilde=7918,a.Uhungarumlaut=368,a.Uhungarumlautcyrillic=1266,a.Uinvertedbreve=534,a.Ukcyrillic=1144,a.Umacron=362,a.Umacroncyrillic=1262,a.Umacrondieresis=7802,a.Umonospace=65333,a.Uogonek=370,a.Upsilon=933,a.Upsilon1=978,a.Upsilonacutehooksymbolgreek=979,a.Upsilonafrican=433,a.Upsilondieresis=939,a.Upsilondieresishooksymbolgreek=980,a.Upsilonhooksymbol=978,a.Upsilontonos=910,a.Uring=366,a.Ushortcyrillic=1038,a.Usmall=63349,a.Ustraightcyrillic=1198,a.Ustraightstrokecyrillic=1200,a.Utilde=360,a.Utildeacute=7800,a.Utildebelow=7796,a.V=86,a.Vcircle=9419,a.Vdotbelow=7806,a.Vecyrillic=1042,a.Vewarmenian=1358,a.Vhook=434,a.Vmonospace=65334,a.Voarmenian=1352,a.Vsmall=63350,a.Vtilde=7804,a.W=87,a.Wacute=7810,a.Wcircle=9420,a.Wcircumflex=372,a.Wdieresis=7812,a.Wdotaccent=7814,a.Wdotbelow=7816,a.Wgrave=7808,a.Wmonospace=65335,a.Wsmall=63351,a.X=88,a.Xcircle=9421,a.Xdieresis=7820,a.Xdotaccent=7818,a.Xeharmenian=1341,a.Xi=926,a.Xmonospace=65336,a.Xsmall=63352,a.Y=89,a.Yacute=221,a.Yacutesmall=63485,a.Yatcyrillic=1122,a.Ycircle=9422,a.Ycircumflex=374,a.Ydieresis=376,a.Ydieresissmall=63487,a.Ydotaccent=7822,a.Ydotbelow=7924,a.Yericyrillic=1067,a.Yerudieresiscyrillic=1272,a.Ygrave=7922,a.Yhook=435,a.Yhookabove=7926,a.Yiarmenian=1349,a.Yicyrillic=1031,a.Yiwnarmenian=1362,a.Ymonospace=65337,a.Ysmall=63353,a.Ytilde=7928,a.Yusbigcyrillic=1130,a.Yusbigiotifiedcyrillic=1132,a.Yuslittlecyrillic=1126,a.Yuslittleiotifiedcyrillic=1128,a.Z=90,a.Zaarmenian=1334,a.Zacute=377,a.Zcaron=381,a.Zcaronsmall=63231,a.Zcircle=9423,a.Zcircumflex=7824,a.Zdot=379,a.Zdotaccent=379,a.Zdotbelow=7826,a.Zecyrillic=1047,a.Zedescendercyrillic=1176,a.Zedieresiscyrillic=1246,a.Zeta=918,a.Zhearmenian=1338,a.Zhebrevecyrillic=1217,a.Zhecyrillic=1046,a.Zhedescendercyrillic=1174,a.Zhedieresiscyrillic=1244,a.Zlinebelow=7828,a.Zmonospace=65338,a.Zsmall=63354,a.Zstroke=437,a.a=97,a.aabengali=2438,a.aacute=225,a.aadeva=2310,a.aagujarati=2694,a.aagurmukhi=2566,a.aamatragurmukhi=2622,a.aarusquare=13059,a.aavowelsignbengali=2494,a.aavowelsigndeva=2366,a.aavowelsigngujarati=2750,a.abbreviationmarkarmenian=1375,a.abbreviationsigndeva=2416,a.abengali=2437,a.abopomofo=12570,a.abreve=259,a.abreveacute=7855,a.abrevecyrillic=1233,a.abrevedotbelow=7863,a.abrevegrave=7857,a.abrevehookabove=7859,a.abrevetilde=7861,a.acaron=462,a.acircle=9424,a.acircumflex=226,a.acircumflexacute=7845,a.acircumflexdotbelow=7853,a.acircumflexgrave=7847,a.acircumflexhookabove=7849,a.acircumflextilde=7851,a.acute=180,a.acutebelowcmb=791,a.acutecmb=769,a.acutecomb=769,a.acutedeva=2388,a.acutelowmod=719,a.acutetonecmb=833,a.acyrillic=1072,a.adblgrave=513,a.addakgurmukhi=2673,a.adeva=2309,a.adieresis=228,a.adieresiscyrillic=1235,a.adieresismacron=479,a.adotbelow=7841,a.adotmacron=481,a.ae=230,a.aeacute=509,a.aekorean=12624,a.aemacron=483,a.afii00208=8213,a.afii08941=8356,a.afii10017=1040,a.afii10018=1041,a.afii10019=1042,a.afii10020=1043,a.afii10021=1044,a.afii10022=1045,a.afii10023=1025,a.afii10024=1046,a.afii10025=1047,a.afii10026=1048,a.afii10027=1049,a.afii10028=1050,a.afii10029=1051,a.afii10030=1052,a.afii10031=1053,a.afii10032=1054,a.afii10033=1055,a.afii10034=1056,a.afii10035=1057,a.afii10036=1058,a.afii10037=1059,a.afii10038=1060,
a.afii10039=1061,a.afii10040=1062,a.afii10041=1063,a.afii10042=1064,a.afii10043=1065,a.afii10044=1066,a.afii10045=1067,a.afii10046=1068,a.afii10047=1069,a.afii10048=1070,a.afii10049=1071,a.afii10050=1168,a.afii10051=1026,a.afii10052=1027,a.afii10053=1028,a.afii10054=1029,a.afii10055=1030,a.afii10056=1031,a.afii10057=1032,a.afii10058=1033,a.afii10059=1034,a.afii10060=1035,a.afii10061=1036,a.afii10062=1038,a.afii10063=63172,a.afii10064=63173,a.afii10065=1072,a.afii10066=1073,a.afii10067=1074,a.afii10068=1075,a.afii10069=1076,a.afii10070=1077,a.afii10071=1105,a.afii10072=1078,a.afii10073=1079,a.afii10074=1080,a.afii10075=1081,a.afii10076=1082,a.afii10077=1083,a.afii10078=1084,a.afii10079=1085,a.afii10080=1086,a.afii10081=1087,a.afii10082=1088,a.afii10083=1089,a.afii10084=1090,a.afii10085=1091,a.afii10086=1092,a.afii10087=1093,a.afii10088=1094,a.afii10089=1095,a.afii10090=1096,a.afii10091=1097,a.afii10092=1098,a.afii10093=1099,a.afii10094=1100,a.afii10095=1101,a.afii10096=1102,a.afii10097=1103,a.afii10098=1169,a.afii10099=1106,a.afii10100=1107,a.afii10101=1108,a.afii10102=1109,a.afii10103=1110,a.afii10104=1111,a.afii10105=1112,a.afii10106=1113,a.afii10107=1114,a.afii10108=1115,a.afii10109=1116,a.afii10110=1118,a.afii10145=1039,a.afii10146=1122,a.afii10147=1138,a.afii10148=1140,a.afii10192=63174,a.afii10193=1119,a.afii10194=1123,a.afii10195=1139,a.afii10196=1141,a.afii10831=63175,a.afii10832=63176,a.afii10846=1241,a.afii299=8206,a.afii300=8207,a.afii301=8205,a.afii57381=1642,a.afii57388=1548,a.afii57392=1632,a.afii57393=1633,a.afii57394=1634,a.afii57395=1635,a.afii57396=1636,a.afii57397=1637,a.afii57398=1638,a.afii57399=1639,a.afii57400=1640,a.afii57401=1641,a.afii57403=1563,a.afii57407=1567,a.afii57409=1569,a.afii57410=1570,a.afii57411=1571,a.afii57412=1572,a.afii57413=1573,a.afii57414=1574,a.afii57415=1575,a.afii57416=1576,a.afii57417=1577,a.afii57418=1578,a.afii57419=1579,a.afii57420=1580,a.afii57421=1581,a.afii57422=1582,a.afii57423=1583,a.afii57424=1584,a.afii57425=1585,a.afii57426=1586,a.afii57427=1587,a.afii57428=1588,a.afii57429=1589,a.afii57430=1590,a.afii57431=1591,a.afii57432=1592,a.afii57433=1593,a.afii57434=1594,a.afii57440=1600,a.afii57441=1601,a.afii57442=1602,a.afii57443=1603,a.afii57444=1604,a.afii57445=1605,a.afii57446=1606,a.afii57448=1608,a.afii57449=1609,a.afii57450=1610,a.afii57451=1611,a.afii57452=1612,a.afii57453=1613,a.afii57454=1614,a.afii57455=1615,a.afii57456=1616,a.afii57457=1617,a.afii57458=1618,a.afii57470=1607,a.afii57505=1700,a.afii57506=1662,a.afii57507=1670,a.afii57508=1688,a.afii57509=1711,a.afii57511=1657,a.afii57512=1672,a.afii57513=1681,a.afii57514=1722,a.afii57519=1746,a.afii57534=1749,a.afii57636=8362,a.afii57645=1470,a.afii57658=1475,a.afii57664=1488,a.afii57665=1489,a.afii57666=1490,a.afii57667=1491,a.afii57668=1492,a.afii57669=1493,a.afii57670=1494,a.afii57671=1495,a.afii57672=1496,a.afii57673=1497,a.afii57674=1498,a.afii57675=1499,a.afii57676=1500,a.afii57677=1501,a.afii57678=1502,a.afii57679=1503,a.afii57680=1504,a.afii57681=1505,a.afii57682=1506,a.afii57683=1507,a.afii57684=1508,a.afii57685=1509,a.afii57686=1510,a.afii57687=1511,a.afii57688=1512,a.afii57689=1513,a.afii57690=1514,a.afii57694=64298,a.afii57695=64299,a.afii57700=64331,a.afii57705=64287,a.afii57716=1520,a.afii57717=1521,a.afii57718=1522,a.afii57723=64309,a.afii57793=1460,a.afii57794=1461,a.afii57795=1462,a.afii57796=1467,a.afii57797=1464,a.afii57798=1463,a.afii57799=1456,a.afii57800=1458,a.afii57801=1457,a.afii57802=1459,a.afii57803=1474,a.afii57804=1473,a.afii57806=1465,a.afii57807=1468,a.afii57839=1469,a.afii57841=1471,a.afii57842=1472,a.afii57929=700,a.afii61248=8453,a.afii61289=8467,a.afii61352=8470,a.afii61573=8236,a.afii61574=8237,a.afii61575=8238,a.afii61664=8204,a.afii63167=1645,a.afii64937=701,a.agrave=224,a.agujarati=2693,a.agurmukhi=2565,a.ahiragana=12354,a.ahookabove=7843,a.aibengali=2448,a.aibopomofo=12574,a.aideva=2320,a.aiecyrillic=1237,a.aigujarati=2704,a.aigurmukhi=2576,a.aimatragurmukhi=2632,a.ainarabic=1593,a.ainfinalarabic=65226,a.aininitialarabic=65227,a.ainmedialarabic=65228,a.ainvertedbreve=515,a.aivowelsignbengali=2504,a.aivowelsigndeva=2376,a.aivowelsigngujarati=2760,a.akatakana=12450,a.akatakanahalfwidth=65393,a.akorean=12623,a.alef=1488,a.alefarabic=1575,a.alefdageshhebrew=64304,a.aleffinalarabic=65166,a.alefhamzaabovearabic=1571,a.alefhamzaabovefinalarabic=65156,a.alefhamzabelowarabic=1573,a.alefhamzabelowfinalarabic=65160,a.alefhebrew=1488,a.aleflamedhebrew=64335,a.alefmaddaabovearabic=1570,a.alefmaddaabovefinalarabic=65154,a.alefmaksuraarabic=1609,a.alefmaksurafinalarabic=65264,a.alefmaksurainitialarabic=65267,a.alefmaksuramedialarabic=65268,a.alefpatahhebrew=64302,a.alefqamatshebrew=64303,a.aleph=8501,a.allequal=8780,a.alpha=945,a.alphatonos=940,a.amacron=257,a.amonospace=65345,a.ampersand=38,a.ampersandmonospace=65286,a.ampersandsmall=63270,a.amsquare=13250,a.anbopomofo=12578,a.angbopomofo=12580,a.angbracketleft=12296,a.angbracketright=12297,a.angkhankhuthai=3674,a.angle=8736,a.anglebracketleft=12296,a.anglebracketleftvertical=65087,a.anglebracketright=12297,a.anglebracketrightvertical=65088,a.angleleft=9001,a.angleright=9002,a.angstrom=8491,a.anoteleia=903,a.anudattadeva=2386,a.anusvarabengali=2434,a.anusvaradeva=2306,a.anusvaragujarati=2690,a.aogonek=261,a.apaatosquare=13056,a.aparen=9372,a.apostrophearmenian=1370,a.apostrophemod=700,a.apple=63743,a.approaches=8784,a.approxequal=8776,a.approxequalorimage=8786,a.approximatelyequal=8773,a.araeaekorean=12686,a.araeakorean=12685,a.arc=8978,a.arighthalfring=7834,a.aring=229,a.aringacute=507,a.aringbelow=7681,a.arrowboth=8596,a.arrowdashdown=8675,a.arrowdashleft=8672,a.arrowdashright=8674,a.arrowdashup=8673,a.arrowdblboth=8660,a.arrowdbldown=8659,a.arrowdblleft=8656,a.arrowdblright=8658,a.arrowdblup=8657,a.arrowdown=8595,a.arrowdownleft=8601,a.arrowdownright=8600,a.arrowdownwhite=8681,a.arrowheaddownmod=709,a.arrowheadleftmod=706,a.arrowheadrightmod=707,a.arrowheadupmod=708,a.arrowhorizex=63719,a.arrowleft=8592,a.arrowleftdbl=8656,a.arrowleftdblstroke=8653,a.arrowleftoverright=8646,a.arrowleftwhite=8678,a.arrowright=8594,a.arrowrightdblstroke=8655,a.arrowrightheavy=10142,a.arrowrightoverleft=8644,a.arrowrightwhite=8680,a.arrowtableft=8676,a.arrowtabright=8677,a.arrowup=8593,a.arrowupdn=8597,a.arrowupdnbse=8616,a.arrowupdownbase=8616,a.arrowupleft=8598,a.arrowupleftofdown=8645,a.arrowupright=8599,a.arrowupwhite=8679,a.arrowvertex=63718,a.asciicircum=94,a.asciicircummonospace=65342,a.asciitilde=126,a.asciitildemonospace=65374,a.ascript=593,a.ascriptturned=594,a.asmallhiragana=12353,a.asmallkatakana=12449,a.asmallkatakanahalfwidth=65383,a.asterisk=42,a.asteriskaltonearabic=1645,a.asteriskarabic=1645,a.asteriskmath=8727,a.asteriskmonospace=65290,a.asterisksmall=65121,a.asterism=8258,a.asuperior=63209,a.asymptoticallyequal=8771,a.at=64,a.atilde=227,a.atmonospace=65312,a.atsmall=65131,a.aturned=592,a.aubengali=2452,a.aubopomofo=12576,a.audeva=2324,a.augujarati=2708,a.augurmukhi=2580,a.aulengthmarkbengali=2519,a.aumatragurmukhi=2636,a.auvowelsignbengali=2508,a.auvowelsigndeva=2380,a.auvowelsigngujarati=2764,a.avagrahadeva=2365,a.aybarmenian=1377,a.ayin=1506,a.ayinaltonehebrew=64288,a.ayinhebrew=1506,a.b=98,a.babengali=2476,a.backslash=92,a.backslashmonospace=65340,a.badeva=2348,a.bagujarati=2732,a.bagurmukhi=2604,a.bahiragana=12400,a.bahtthai=3647,a.bakatakana=12496,a.bar=124,a.barmonospace=65372,a.bbopomofo=12549,a.bcircle=9425,a.bdotaccent=7683,a.bdotbelow=7685,a.beamedsixteenthnotes=9836,a.because=8757,a.becyrillic=1073,a.beharabic=1576,a.behfinalarabic=65168,a.behinitialarabic=65169,a.behiragana=12409,a.behmedialarabic=65170,a.behmeeminitialarabic=64671,a.behmeemisolatedarabic=64520,a.behnoonfinalarabic=64621,a.bekatakana=12505,a.benarmenian=1378,a.bet=1489,a.beta=946,a.betasymbolgreek=976,a.betdagesh=64305,a.betdageshhebrew=64305,a.bethebrew=1489,a.betrafehebrew=64332,a.bhabengali=2477,a.bhadeva=2349,a.bhagujarati=2733,a.bhagurmukhi=2605,a.bhook=595,a.bihiragana=12403,a.bikatakana=12499,a.bilabialclick=664,a.bindigurmukhi=2562,a.birusquare=13105,a.blackcircle=9679,a.blackdiamond=9670,a.blackdownpointingtriangle=9660,a.blackleftpointingpointer=9668,a.blackleftpointingtriangle=9664,a.blacklenticularbracketleft=12304,a.blacklenticularbracketleftvertical=65083,a.blacklenticularbracketright=12305,a.blacklenticularbracketrightvertical=65084,a.blacklowerlefttriangle=9699,a.blacklowerrighttriangle=9698,a.blackrectangle=9644,a.blackrightpointingpointer=9658,a.blackrightpointingtriangle=9654,a.blacksmallsquare=9642,a.blacksmilingface=9787,a.blacksquare=9632,a.blackstar=9733,a.blackupperlefttriangle=9700,a.blackupperrighttriangle=9701,a.blackuppointingsmalltriangle=9652,a.blackuppointingtriangle=9650,a.blank=9251,a.blinebelow=7687,a.block=9608,a.bmonospace=65346,a.bobaimaithai=3610,a.bohiragana=12412,a.bokatakana=12508,a.bparen=9373,a.bqsquare=13251,a.braceex=63732,a.braceleft=123,a.braceleftbt=63731,a.braceleftmid=63730,a.braceleftmonospace=65371,a.braceleftsmall=65115,a.bracelefttp=63729,a.braceleftvertical=65079,a.braceright=125,a.bracerightbt=63742,a.bracerightmid=63741,a.bracerightmonospace=65373,a.bracerightsmall=65116,a.bracerighttp=63740,a.bracerightvertical=65080,a.bracketleft=91,a.bracketleftbt=63728,a.bracketleftex=63727,a.bracketleftmonospace=65339,a.bracketlefttp=63726,a.bracketright=93,a.bracketrightbt=63739,a.bracketrightex=63738,a.bracketrightmonospace=65341,a.bracketrighttp=63737,a.breve=728,a.brevebelowcmb=814,a.brevecmb=774,a.breveinvertedbelowcmb=815,a.breveinvertedcmb=785,a.breveinverteddoublecmb=865,a.bridgebelowcmb=810,a.bridgeinvertedbelowcmb=826,a.brokenbar=166,a.bstroke=384,a.bsuperior=63210,a.btopbar=387,a.buhiragana=12406,a.bukatakana=12502,a.bullet=8226,a.bulletinverse=9688,a.bulletoperator=8729,a.bullseye=9678,a.c=99,a.caarmenian=1390,a.cabengali=2458,a.cacute=263,a.cadeva=2330,a.cagujarati=2714,a.cagurmukhi=2586,a.calsquare=13192,a.candrabindubengali=2433,a.candrabinducmb=784,a.candrabindudeva=2305,a.candrabindugujarati=2689,a.capslock=8682,a.careof=8453,a.caron=711,a.caronbelowcmb=812,a.caroncmb=780,a.carriagereturn=8629,a.cbopomofo=12568,a.ccaron=269,a.ccedilla=231,a.ccedillaacute=7689,a.ccircle=9426,a.ccircumflex=265,a.ccurl=597,a.cdot=267,a.cdotaccent=267,a.cdsquare=13253,a.cedilla=184,a.cedillacmb=807,a.cent=162,a.centigrade=8451,a.centinferior=63199,a.centmonospace=65504,a.centoldstyle=63394,a.centsuperior=63200,a.chaarmenian=1401,a.chabengali=2459,a.chadeva=2331,a.chagujarati=2715,a.chagurmukhi=2587,a.chbopomofo=12564,a.cheabkhasiancyrillic=1213,a.checkmark=10003,a.checyrillic=1095,a.chedescenderabkhasiancyrillic=1215,a.chedescendercyrillic=1207,a.chedieresiscyrillic=1269,a.cheharmenian=1395,a.chekhakassiancyrillic=1228,a.cheverticalstrokecyrillic=1209,a.chi=967,a.chieuchacirclekorean=12919,a.chieuchaparenkorean=12823,a.chieuchcirclekorean=12905,a.chieuchkorean=12618,a.chieuchparenkorean=12809,a.chochangthai=3594,a.chochanthai=3592,a.chochingthai=3593,a.chochoethai=3596,a.chook=392,a.cieucacirclekorean=12918,a.cieucaparenkorean=12822,a.cieuccirclekorean=12904,a.cieuckorean=12616,a.cieucparenkorean=12808,a.cieucuparenkorean=12828,a.circle=9675,a.circlecopyrt=169,a.circlemultiply=8855,a.circleot=8857,a.circleplus=8853,a.circlepostalmark=12342,a.circlewithlefthalfblack=9680,a.circlewithrighthalfblack=9681,a.circumflex=710,a.circumflexbelowcmb=813,a.circumflexcmb=770,a.clear=8999,a.clickalveolar=450,a.clickdental=448,a.clicklateral=449,a.clickretroflex=451,a.club=9827,a.clubsuitblack=9827,a.clubsuitwhite=9831,a.cmcubedsquare=13220,a.cmonospace=65347,a.cmsquaredsquare=13216,a.coarmenian=1409,a.colon=58,a.colonmonetary=8353,a.colonmonospace=65306,a.colonsign=8353,a.colonsmall=65109,a.colontriangularhalfmod=721,a.colontriangularmod=720,a.comma=44,a.commaabovecmb=787,a.commaaboverightcmb=789,a.commaaccent=63171,a.commaarabic=1548,a.commaarmenian=1373,a.commainferior=63201,a.commamonospace=65292,a.commareversedabovecmb=788,a.commareversedmod=701,a.commasmall=65104,a.commasuperior=63202,a.commaturnedabovecmb=786,a.commaturnedmod=699,a.compass=9788,a.congruent=8773,a.contourintegral=8750,a.control=8963,a.controlACK=6,a.controlBEL=7,a.controlBS=8,a.controlCAN=24,a.controlCR=13,a.controlDC1=17,a.controlDC2=18,a.controlDC3=19,a.controlDC4=20,a.controlDEL=127,a.controlDLE=16,a.controlEM=25,a.controlENQ=5,a.controlEOT=4,a.controlESC=27,a.controlETB=23,a.controlETX=3,a.controlFF=12,a.controlFS=28,a.controlGS=29,a.controlHT=9,a.controlLF=10,a.controlNAK=21,a.controlNULL=0,a.controlRS=30,a.controlSI=15,a.controlSO=14,a.controlSOT=2,a.controlSTX=1,a.controlSUB=26,a.controlSYN=22,a.controlUS=31,a.controlVT=11,a.copyright=169,a.copyrightsans=63721,a.copyrightserif=63193,a.cornerbracketleft=12300,a.cornerbracketlefthalfwidth=65378,a.cornerbracketleftvertical=65089,a.cornerbracketright=12301,a.cornerbracketrighthalfwidth=65379,a.cornerbracketrightvertical=65090,a.corporationsquare=13183,a.cosquare=13255,a.coverkgsquare=13254,a.cparen=9374,a.cruzeiro=8354,a.cstretched=663,a.curlyand=8911,a.curlyor=8910,a.currency=164,a.cyrBreve=63185,a.cyrFlex=63186,a.cyrbreve=63188,a.cyrflex=63189,a.d=100,a.daarmenian=1380,a.dabengali=2470,a.dadarabic=1590,a.dadeva=2342,a.dadfinalarabic=65214,a.dadinitialarabic=65215,a.dadmedialarabic=65216,a.dagesh=1468,a.dageshhebrew=1468,a.dagger=8224,a.daggerdbl=8225,a.dagujarati=2726,a.dagurmukhi=2598,a.dahiragana=12384,a.dakatakana=12480,a.dalarabic=1583,a.dalet=1491,a.daletdagesh=64307,a.daletdageshhebrew=64307,a.dalethebrew=1491,a.dalfinalarabic=65194,a.dammaarabic=1615,a.dammalowarabic=1615,a.dammatanaltonearabic=1612,a.dammatanarabic=1612,a.danda=2404,a.dargahebrew=1447,a.dargalefthebrew=1447,a.dasiapneumatacyrilliccmb=1157,a.dblGrave=63187,a.dblanglebracketleft=12298,a.dblanglebracketleftvertical=65085,a.dblanglebracketright=12299,a.dblanglebracketrightvertical=65086,a.dblarchinvertedbelowcmb=811,a.dblarrowleft=8660,a.dblarrowright=8658,a.dbldanda=2405,a.dblgrave=63190,a.dblgravecmb=783,a.dblintegral=8748,a.dbllowline=8215,a.dbllowlinecmb=819,a.dbloverlinecmb=831,a.dblprimemod=698,a.dblverticalbar=8214,a.dblverticallineabovecmb=782,a.dbopomofo=12553,a.dbsquare=13256,a.dcaron=271,a.dcedilla=7697,a.dcircle=9427,a.dcircumflexbelow=7699,a.dcroat=273,a.ddabengali=2465,a.ddadeva=2337,a.ddagujarati=2721,a.ddagurmukhi=2593,a.ddalarabic=1672,a.ddalfinalarabic=64393,a.dddhadeva=2396,a.ddhabengali=2466,a.ddhadeva=2338,a.ddhagujarati=2722,a.ddhagurmukhi=2594,a.ddotaccent=7691,a.ddotbelow=7693,a.decimalseparatorarabic=1643,a.decimalseparatorpersian=1643,a.decyrillic=1076,a.degree=176,a.dehihebrew=1453,a.dehiragana=12391,a.deicoptic=1007,a.dekatakana=12487,a.deleteleft=9003,a.deleteright=8998,a.delta=948,a.deltaturned=397,a.denominatorminusonenumeratorbengali=2552,a.dezh=676,a.dhabengali=2471,a.dhadeva=2343,a.dhagujarati=2727,a.dhagurmukhi=2599,a.dhook=599,a.dialytikatonos=901,a.dialytikatonoscmb=836,a.diamond=9830,a.diamondsuitwhite=9826,a.dieresis=168,a.dieresisacute=63191,a.dieresisbelowcmb=804,a.dieresiscmb=776,a.dieresisgrave=63192,a.dieresistonos=901,a.dihiragana=12386,a.dikatakana=12482,a.dittomark=12291,a.divide=247,a.divides=8739,a.divisionslash=8725,a.djecyrillic=1106,a.dkshade=9619,a.dlinebelow=7695,a.dlsquare=13207,a.dmacron=273,a.dmonospace=65348,a.dnblock=9604,a.dochadathai=3598,a.dodekthai=3604,a.dohiragana=12393,a.dokatakana=12489,a.dollar=36,a.dollarinferior=63203,a.dollarmonospace=65284,a.dollaroldstyle=63268,a.dollarsmall=65129,a.dollarsuperior=63204,a.dong=8363,a.dorusquare=13094,a.dotaccent=729,a.dotaccentcmb=775,a.dotbelowcmb=803,a.dotbelowcomb=803,a.dotkatakana=12539,a.dotlessi=305,a.dotlessj=63166,a.dotlessjstrokehook=644,a.dotmath=8901,a.dottedcircle=9676,a.doubleyodpatah=64287,a.doubleyodpatahhebrew=64287,a.downtackbelowcmb=798,a.downtackmod=725,a.dparen=9375,a.dsuperior=63211,a.dtail=598,a.dtopbar=396,a.duhiragana=12389,a.dukatakana=12485,a.dz=499,a.dzaltone=675,a.dzcaron=454,a.dzcurl=677,a.dzeabkhasiancyrillic=1249,a.dzecyrillic=1109,a.dzhecyrillic=1119,a.e=101,a.eacute=233,a.earth=9793,a.ebengali=2447,a.ebopomofo=12572,a.ebreve=277,a.ecandradeva=2317,a.ecandragujarati=2701,a.ecandravowelsigndeva=2373,a.ecandravowelsigngujarati=2757,a.ecaron=283,a.ecedillabreve=7709,a.echarmenian=1381,a.echyiwnarmenian=1415,a.ecircle=9428,a.ecircumflex=234,a.ecircumflexacute=7871,a.ecircumflexbelow=7705,a.ecircumflexdotbelow=7879,a.ecircumflexgrave=7873,a.ecircumflexhookabove=7875,a.ecircumflextilde=7877,a.ecyrillic=1108,a.edblgrave=517,a.edeva=2319,a.edieresis=235,a.edot=279,a.edotaccent=279,a.edotbelow=7865,a.eegurmukhi=2575,a.eematragurmukhi=2631,a.efcyrillic=1092,a.egrave=232,a.egujarati=2703,a.eharmenian=1383,a.ehbopomofo=12573,a.ehiragana=12360,a.ehookabove=7867,a.eibopomofo=12575,a.eight=56,a.eightarabic=1640,a.eightbengali=2542,a.eightcircle=9319,a.eightcircleinversesansserif=10129,a.eightdeva=2414,a.eighteencircle=9329,a.eighteenparen=9349,a.eighteenperiod=9369,a.eightgujarati=2798,a.eightgurmukhi=2670,a.eighthackarabic=1640,a.eighthangzhou=12328,a.eighthnotebeamed=9835,a.eightideographicparen=12839,a.eightinferior=8328,a.eightmonospace=65304,a.eightoldstyle=63288,a.eightparen=9339,a.eightperiod=9359,a.eightpersian=1784,a.eightroman=8567,a.eightsuperior=8312,a.eightthai=3672,a.einvertedbreve=519,a.eiotifiedcyrillic=1125,a.ekatakana=12456,a.ekatakanahalfwidth=65396,a.ekonkargurmukhi=2676,a.ekorean=12628,a.elcyrillic=1083,a.element=8712,a.elevencircle=9322,a.elevenparen=9342,a.elevenperiod=9362,a.elevenroman=8570,a.ellipsis=8230,a.ellipsisvertical=8942,a.emacron=275,a.emacronacute=7703,a.emacrongrave=7701,a.emcyrillic=1084,a.emdash=8212,a.emdashvertical=65073,a.emonospace=65349,a.emphasismarkarmenian=1371,a.emptyset=8709,a.enbopomofo=12579,a.encyrillic=1085,a.endash=8211,a.endashvertical=65074,a.endescendercyrillic=1187,a.eng=331,a.engbopomofo=12581,a.enghecyrillic=1189,a.enhookcyrillic=1224,a.enspace=8194,a.eogonek=281,a.eokorean=12627,a.eopen=603,a.eopenclosed=666,a.eopenreversed=604,a.eopenreversedclosed=606,a.eopenreversedhook=605,a.eparen=9376,a.epsilon=949,a.epsilontonos=941,a.equal=61,a.equalmonospace=65309,a.equalsmall=65126,a.equalsuperior=8316,a.equivalence=8801,a.erbopomofo=12582,a.ercyrillic=1088,a.ereversed=600,a.ereversedcyrillic=1101,a.escyrillic=1089,a.esdescendercyrillic=1195,a.esh=643,a.eshcurl=646,a.eshortdeva=2318,a.eshortvowelsigndeva=2374,a.eshreversedloop=426,a.eshsquatreversed=645,a.esmallhiragana=12359,a.esmallkatakana=12455,a.esmallkatakanahalfwidth=65386,a.estimated=8494,a.esuperior=63212,a.eta=951,a.etarmenian=1384,a.etatonos=942,a.eth=240,a.etilde=7869,a.etildebelow=7707,a.etnahtafoukhhebrew=1425,a.etnahtafoukhlefthebrew=1425,a.etnahtahebrew=1425,a.etnahtalefthebrew=1425,a.eturned=477,a.eukorean=12641,a.euro=8364,a.evowelsignbengali=2503,a.evowelsigndeva=2375,a.evowelsigngujarati=2759,a.exclam=33,a.exclamarmenian=1372,a.exclamdbl=8252,a.exclamdown=161,a.exclamdownsmall=63393,a.exclammonospace=65281,a.exclamsmall=63265,a.existential=8707,a.ezh=658,a.ezhcaron=495,a.ezhcurl=659,a.ezhreversed=441,a.ezhtail=442,a.f=102,a.fadeva=2398,a.fagurmukhi=2654,a.fahrenheit=8457,a.fathaarabic=1614,a.fathalowarabic=1614,a.fathatanarabic=1611,a.fbopomofo=12552,a.fcircle=9429,a.fdotaccent=7711,a.feharabic=1601,a.feharmenian=1414,a.fehfinalarabic=65234,a.fehinitialarabic=65235,a.fehmedialarabic=65236,a.feicoptic=997,a.female=9792,a.ff=64256,a.ffi=64259,a.ffl=64260,a.fi=64257,a.fifteencircle=9326,a.fifteenparen=9346,a.fifteenperiod=9366,a.figuredash=8210,a.filledbox=9632,a.filledrect=9644,a.finalkaf=1498,a.finalkafdagesh=64314,a.finalkafdageshhebrew=64314,a.finalkafhebrew=1498,a.finalmem=1501,a.finalmemhebrew=1501,a.finalnun=1503,a.finalnunhebrew=1503,a.finalpe=1507,a.finalpehebrew=1507,a.finaltsadi=1509,a.finaltsadihebrew=1509,a.firsttonechinese=713,a.fisheye=9673,a.fitacyrillic=1139,a.five=53,a.fivearabic=1637,a.fivebengali=2539,a.fivecircle=9316,a.fivecircleinversesansserif=10126,a.fivedeva=2411,a.fiveeighths=8541,a.fivegujarati=2795,a.fivegurmukhi=2667,a.fivehackarabic=1637,a.fivehangzhou=12325,a.fiveideographicparen=12836,a.fiveinferior=8325,a.fivemonospace=65301,a.fiveoldstyle=63285,a.fiveparen=9336,a.fiveperiod=9356,a.fivepersian=1781,a.fiveroman=8564,a.fivesuperior=8309,a.fivethai=3669,a.fl=64258,a.florin=402,a.fmonospace=65350,a.fmsquare=13209,a.fofanthai=3615,a.fofathai=3613,a.fongmanthai=3663,a.forall=8704,a.four=52,a.fourarabic=1636,a.fourbengali=2538,a.fourcircle=9315,a.fourcircleinversesansserif=10125,a.fourdeva=2410,a.fourgujarati=2794,a.fourgurmukhi=2666,a.fourhackarabic=1636,a.fourhangzhou=12324,a.fourideographicparen=12835,a.fourinferior=8324,a.fourmonospace=65300,a.fournumeratorbengali=2551,a.fouroldstyle=63284,a.fourparen=9335,a.fourperiod=9355,a.fourpersian=1780,a.fourroman=8563,a.foursuperior=8308,a.fourteencircle=9325,a.fourteenparen=9345,a.fourteenperiod=9365,a.fourthai=3668,a.fourthtonechinese=715,a.fparen=9377,a.fraction=8260,a.franc=8355,a.g=103,a.gabengali=2455,a.gacute=501,a.gadeva=2327,a.gafarabic=1711,a.gaffinalarabic=64403,a.gafinitialarabic=64404,a.gafmedialarabic=64405,a.gagujarati=2711,a.gagurmukhi=2583,a.gahiragana=12364,a.gakatakana=12460,a.gamma=947,a.gammalatinsmall=611,a.gammasuperior=736,a.gangiacoptic=1003,a.gbopomofo=12557,a.gbreve=287,a.gcaron=487,a.gcedilla=291,a.gcircle=9430,a.gcircumflex=285,a.gcommaaccent=291,a.gdot=289,a.gdotaccent=289,a.gecyrillic=1075,a.gehiragana=12370,a.gekatakana=12466,a.geometricallyequal=8785,a.gereshaccenthebrew=1436,a.gereshhebrew=1523,a.gereshmuqdamhebrew=1437,a.germandbls=223,a.gershayimaccenthebrew=1438,a.gershayimhebrew=1524,a.getamark=12307,a.ghabengali=2456,a.ghadarmenian=1394,a.ghadeva=2328,a.ghagujarati=2712,a.ghagurmukhi=2584,a.ghainarabic=1594,a.ghainfinalarabic=65230,a.ghaininitialarabic=65231,a.ghainmedialarabic=65232,a.ghemiddlehookcyrillic=1173,a.ghestrokecyrillic=1171,a.gheupturncyrillic=1169,a.ghhadeva=2394,a.ghhagurmukhi=2650,a.ghook=608,a.ghzsquare=13203,a.gihiragana=12366,a.gikatakana=12462,a.gimarmenian=1379,a.gimel=1490,a.gimeldagesh=64306,a.gimeldageshhebrew=64306,a.gimelhebrew=1490,a.gjecyrillic=1107,a.glottalinvertedstroke=446,a.glottalstop=660,a.glottalstopinverted=662,a.glottalstopmod=704,a.glottalstopreversed=661,a.glottalstopreversedmod=705,a.glottalstopreversedsuperior=740,a.glottalstopstroke=673,a.glottalstopstrokereversed=674,a.gmacron=7713,a.gmonospace=65351,a.gohiragana=12372,a.gokatakana=12468,a.gparen=9378,a.gpasquare=13228,a.gradient=8711,a.grave=96,a.gravebelowcmb=790,a.gravecmb=768,a.gravecomb=768,a.gravedeva=2387,a.gravelowmod=718,a.gravemonospace=65344,a.gravetonecmb=832,a.greater=62,a.greaterequal=8805,a.greaterequalorless=8923,a.greatermonospace=65310,a.greaterorequivalent=8819,a.greaterorless=8823,a.greateroverequal=8807,a.greatersmall=65125,a.gscript=609,a.gstroke=485,a.guhiragana=12368,a.guillemotleft=171,a.guillemotright=187,a.guilsinglleft=8249,a.guilsinglright=8250,a.gukatakana=12464,a.guramusquare=13080,a.gysquare=13257,a.h=104,a.haabkhasiancyrillic=1193,a.haaltonearabic=1729,a.habengali=2489,a.hadescendercyrillic=1203,a.hadeva=2361,a.hagujarati=2745,a.hagurmukhi=2617,a.haharabic=1581,a.hahfinalarabic=65186,a.hahinitialarabic=65187,a.hahiragana=12399,a.hahmedialarabic=65188,a.haitusquare=13098,a.hakatakana=12495,a.hakatakanahalfwidth=65418,a.halantgurmukhi=2637,a.hamzaarabic=1569,a.hamzalowarabic=1569,a.hangulfiller=12644,a.hardsigncyrillic=1098,a.harpoonleftbarbup=8636,a.harpoonrightbarbup=8640,a.hasquare=13258,a.hatafpatah=1458,a.hatafpatah16=1458,a.hatafpatah23=1458,a.hatafpatah2f=1458,a.hatafpatahhebrew=1458,a.hatafpatahnarrowhebrew=1458,a.hatafpatahquarterhebrew=1458,a.hatafpatahwidehebrew=1458,a.hatafqamats=1459,a.hatafqamats1b=1459,a.hatafqamats28=1459,a.hatafqamats34=1459,a.hatafqamatshebrew=1459,a.hatafqamatsnarrowhebrew=1459,a.hatafqamatsquarterhebrew=1459,a.hatafqamatswidehebrew=1459,a.hatafsegol=1457,a.hatafsegol17=1457,a.hatafsegol24=1457,a.hatafsegol30=1457,a.hatafsegolhebrew=1457,a.hatafsegolnarrowhebrew=1457,a.hatafsegolquarterhebrew=1457,a.hatafsegolwidehebrew=1457,a.hbar=295,a.hbopomofo=12559,a.hbrevebelow=7723,a.hcedilla=7721,a.hcircle=9431,a.hcircumflex=293,a.hdieresis=7719,a.hdotaccent=7715,a.hdotbelow=7717,a.he=1492,a.heart=9829,a.heartsuitblack=9829,a.heartsuitwhite=9825,a.hedagesh=64308,a.hedageshhebrew=64308,a.hehaltonearabic=1729,a.heharabic=1607,a.hehebrew=1492,a.hehfinalaltonearabic=64423,a.hehfinalalttwoarabic=65258,a.hehfinalarabic=65258,a.hehhamzaabovefinalarabic=64421,a.hehhamzaaboveisolatedarabic=64420,a.hehinitialaltonearabic=64424,a.hehinitialarabic=65259,a.hehiragana=12408,a.hehmedialaltonearabic=64425,a.hehmedialarabic=65260,a.heiseierasquare=13179,a.hekatakana=12504,a.hekatakanahalfwidth=65421,a.hekutaarusquare=13110,a.henghook=615,a.herutusquare=13113,a.het=1495,a.hethebrew=1495,a.hhook=614,a.hhooksuperior=689,a.hieuhacirclekorean=12923,a.hieuhaparenkorean=12827,a.hieuhcirclekorean=12909,a.hieuhkorean=12622,a.hieuhparenkorean=12813,a.hihiragana=12402,a.hikatakana=12498,a.hikatakanahalfwidth=65419,a.hiriq=1460,a.hiriq14=1460,a.hiriq21=1460,a.hiriq2d=1460,a.hiriqhebrew=1460,a.hiriqnarrowhebrew=1460,a.hiriqquarterhebrew=1460,a.hiriqwidehebrew=1460,a.hlinebelow=7830,a.hmonospace=65352,a.hoarmenian=1392,a.hohipthai=3627,a.hohiragana=12411,a.hokatakana=12507,a.hokatakanahalfwidth=65422,a.holam=1465,a.holam19=1465,a.holam26=1465,a.holam32=1465,a.holamhebrew=1465,a.holamnarrowhebrew=1465,a.holamquarterhebrew=1465,a.holamwidehebrew=1465,a.honokhukthai=3630,a.hookabovecomb=777,a.hookcmb=777,a.hookpalatalizedbelowcmb=801,a.hookretroflexbelowcmb=802,a.hoonsquare=13122,a.horicoptic=1001,a.horizontalbar=8213,a.horncmb=795,a.hotsprings=9832,a.house=8962,a.hparen=9379,a.hsuperior=688,a.hturned=613,a.huhiragana=12405,a.huiitosquare=13107,a.hukatakana=12501,a.hukatakanahalfwidth=65420,a.hungarumlaut=733,a.hungarumlautcmb=779,a.hv=405,a.hyphen=45,a.hypheninferior=63205,a.hyphenmonospace=65293,a.hyphensmall=65123,a.hyphensuperior=63206,a.hyphentwo=8208,a.i=105,a.iacute=237,a.iacyrillic=1103,a.ibengali=2439,a.ibopomofo=12583,a.ibreve=301,a.icaron=464,a.icircle=9432,a.icircumflex=238,a.icyrillic=1110,a.idblgrave=521,a.ideographearthcircle=12943,a.ideographfirecircle=12939,a.ideographicallianceparen=12863,a.ideographiccallparen=12858,a.ideographiccentrecircle=12965,a.ideographicclose=12294,a.ideographiccomma=12289,a.ideographiccommaleft=65380,a.ideographiccongratulationparen=12855,a.ideographiccorrectcircle=12963,a.ideographicearthparen=12847,a.ideographicenterpriseparen=12861,a.ideographicexcellentcircle=12957,a.ideographicfestivalparen=12864,a.ideographicfinancialcircle=12950,a.ideographicfinancialparen=12854,a.ideographicfireparen=12843,a.ideographichaveparen=12850,a.ideographichighcircle=12964,a.ideographiciterationmark=12293,a.ideographiclaborcircle=12952,a.ideographiclaborparen=12856,a.ideographicleftcircle=12967,a.ideographiclowcircle=12966,a.ideographicmedicinecircle=12969,a.ideographicmetalparen=12846,a.ideographicmoonparen=12842,a.ideographicnameparen=12852,a.ideographicperiod=12290,a.ideographicprintcircle=12958,a.ideographicreachparen=12867,a.ideographicrepresentparen=12857,a.ideographicresourceparen=12862,a.ideographicrightcircle=12968,a.ideographicsecretcircle=12953,a.ideographicselfparen=12866,a.ideographicsocietyparen=12851,a.ideographicspace=12288,a.ideographicspecialparen=12853,a.ideographicstockparen=12849,a.ideographicstudyparen=12859,a.ideographicsunparen=12848,a.ideographicsuperviseparen=12860,a.ideographicwaterparen=12844,a.ideographicwoodparen=12845,a.ideographiczero=12295,a.ideographmetalcircle=12942,a.ideographmooncircle=12938,a.ideographnamecircle=12948,a.ideographsuncircle=12944,a.ideographwatercircle=12940,a.ideographwoodcircle=12941,a.ideva=2311,a.idieresis=239,a.idieresisacute=7727,a.idieresiscyrillic=1253,a.idotbelow=7883,a.iebrevecyrillic=1239,a.iecyrillic=1077,a.ieungacirclekorean=12917,a.ieungaparenkorean=12821,a.ieungcirclekorean=12903,a.ieungkorean=12615,a.ieungparenkorean=12807,a.igrave=236,a.igujarati=2695,a.igurmukhi=2567,a.ihiragana=12356,a.ihookabove=7881,a.iibengali=2440,a.iicyrillic=1080,a.iideva=2312,a.iigujarati=2696,a.iigurmukhi=2568,a.iimatragurmukhi=2624,a.iinvertedbreve=523,a.iishortcyrillic=1081,a.iivowelsignbengali=2496,a.iivowelsigndeva=2368,a.iivowelsigngujarati=2752,a.ij=307,a.ikatakana=12452,a.ikatakanahalfwidth=65394,a.ikorean=12643,a.ilde=732,a.iluyhebrew=1452,a.imacron=299,a.imacroncyrillic=1251,a.imageorapproximatelyequal=8787,a.imatragurmukhi=2623,a.imonospace=65353,a.increment=8710,a.infinity=8734,a.iniarmenian=1387,a.integral=8747,a.integralbottom=8993,a.integralbt=8993,a.integralex=63733,a.integraltop=8992,a.integraltp=8992,a.intersection=8745,a.intisquare=13061,a.invbullet=9688,a.invcircle=9689,a.invsmileface=9787,a.iocyrillic=1105,a.iogonek=303,a.iota=953,a.iotadieresis=970,a.iotadieresistonos=912,a.iotalatin=617,a.iotatonos=943,a.iparen=9380,a.irigurmukhi=2674,a.ismallhiragana=12355,a.ismallkatakana=12451,a.ismallkatakanahalfwidth=65384,a.issharbengali=2554,a.istroke=616,a.isuperior=63213,a.iterationhiragana=12445,a.iterationkatakana=12541,a.itilde=297,a.itildebelow=7725,a.iubopomofo=12585,a.iucyrillic=1102,a.ivowelsignbengali=2495,a.ivowelsigndeva=2367,a.ivowelsigngujarati=2751,a.izhitsacyrillic=1141,a.izhitsadblgravecyrillic=1143,a.j=106,a.jaarmenian=1393,a.jabengali=2460,a.jadeva=2332,a.jagujarati=2716,a.jagurmukhi=2588,a.jbopomofo=12560,a.jcaron=496,a.jcircle=9433,a.jcircumflex=309,a.jcrossedtail=669,a.jdotlessstroke=607,a.jecyrillic=1112,a.jeemarabic=1580,a.jeemfinalarabic=65182,a.jeeminitialarabic=65183,a.jeemmedialarabic=65184,a.jeharabic=1688,a.jehfinalarabic=64395,a.jhabengali=2461,a.jhadeva=2333,a.jhagujarati=2717,a.jhagurmukhi=2589,a.jheharmenian=1403,a.jis=12292,a.jmonospace=65354,a.jparen=9381,a.jsuperior=690,a.k=107,a.kabashkircyrillic=1185,a.kabengali=2453,a.kacute=7729,a.kacyrillic=1082,a.kadescendercyrillic=1179,a.kadeva=2325,a.kaf=1499,a.kafarabic=1603,a.kafdagesh=64315,a.kafdageshhebrew=64315,a.kaffinalarabic=65242,a.kafhebrew=1499,a.kafinitialarabic=65243,a.kafmedialarabic=65244,a.kafrafehebrew=64333,a.kagujarati=2709,a.kagurmukhi=2581,a.kahiragana=12363,a.kahookcyrillic=1220,a.kakatakana=12459,a.kakatakanahalfwidth=65398,a.kappa=954,a.kappasymbolgreek=1008,a.kapyeounmieumkorean=12657,a.kapyeounphieuphkorean=12676,a.kapyeounpieupkorean=12664,a.kapyeounssangpieupkorean=12665,a.karoriisquare=13069,a.kashidaautoarabic=1600,a.kashidaautonosidebearingarabic=1600,a.kasmallkatakana=12533,a.kasquare=13188,a.kasraarabic=1616,a.kasratanarabic=1613,a.kastrokecyrillic=1183,a.katahiraprolongmarkhalfwidth=65392,a.kaverticalstrokecyrillic=1181,a.kbopomofo=12558,a.kcalsquare=13193,a.kcaron=489,a.kcedilla=311,a.kcircle=9434,a.kcommaaccent=311,a.kdotbelow=7731,a.keharmenian=1412,a.kehiragana=12369,a.kekatakana=12465,a.kekatakanahalfwidth=65401,a.kenarmenian=1391,a.kesmallkatakana=12534,a.kgreenlandic=312,a.khabengali=2454,a.khacyrillic=1093,a.khadeva=2326,a.khagujarati=2710,a.khagurmukhi=2582,a.khaharabic=1582,a.khahfinalarabic=65190,a.khahinitialarabic=65191,a.khahmedialarabic=65192,a.kheicoptic=999,a.khhadeva=2393,a.khhagurmukhi=2649,a.khieukhacirclekorean=12920,a.khieukhaparenkorean=12824,a.khieukhcirclekorean=12906,a.khieukhkorean=12619,a.khieukhparenkorean=12810,a.khokhaithai=3586,a.khokhonthai=3589,a.khokhuatthai=3587,a.khokhwaithai=3588,a.khomutthai=3675,a.khook=409,a.khorakhangthai=3590,a.khzsquare=13201,a.kihiragana=12365,a.kikatakana=12461,a.kikatakanahalfwidth=65399,a.kiroguramusquare=13077,a.kiromeetorusquare=13078,a.kirosquare=13076,a.kiyeokacirclekorean=12910,a.kiyeokaparenkorean=12814,a.kiyeokcirclekorean=12896,a.kiyeokkorean=12593,a.kiyeokparenkorean=12800,a.kiyeoksioskorean=12595,a.kjecyrillic=1116,a.klinebelow=7733,a.klsquare=13208,a.kmcubedsquare=13222,a.kmonospace=65355,a.kmsquaredsquare=13218,a.kohiragana=12371,a.kohmsquare=13248,a.kokaithai=3585,a.kokatakana=12467,a.kokatakanahalfwidth=65402,a.kooposquare=13086,a.koppacyrillic=1153,a.koreanstandardsymbol=12927,a.koroniscmb=835,a.kparen=9382,a.kpasquare=13226,a.ksicyrillic=1135,a.ktsquare=13263,
a.kturned=670,a.kuhiragana=12367,a.kukatakana=12463,a.kukatakanahalfwidth=65400,a.kvsquare=13240,a.kwsquare=13246,a.l=108,a.labengali=2482,a.lacute=314,a.ladeva=2354,a.lagujarati=2738,a.lagurmukhi=2610,a.lakkhangyaothai=3653,a.lamaleffinalarabic=65276,a.lamalefhamzaabovefinalarabic=65272,a.lamalefhamzaaboveisolatedarabic=65271,a.lamalefhamzabelowfinalarabic=65274,a.lamalefhamzabelowisolatedarabic=65273,a.lamalefisolatedarabic=65275,a.lamalefmaddaabovefinalarabic=65270,a.lamalefmaddaaboveisolatedarabic=65269,a.lamarabic=1604,a.lambda=955,a.lambdastroke=411,a.lamed=1500,a.lameddagesh=64316,a.lameddageshhebrew=64316,a.lamedhebrew=1500,a.lamfinalarabic=65246,a.lamhahinitialarabic=64714,a.laminitialarabic=65247,a.lamjeeminitialarabic=64713,a.lamkhahinitialarabic=64715,a.lamlamhehisolatedarabic=65010,a.lammedialarabic=65248,a.lammeemhahinitialarabic=64904,a.lammeeminitialarabic=64716,a.largecircle=9711,a.lbar=410,a.lbelt=620,a.lbopomofo=12556,a.lcaron=318,a.lcedilla=316,a.lcircle=9435,a.lcircumflexbelow=7741,a.lcommaaccent=316,a.ldot=320,a.ldotaccent=320,a.ldotbelow=7735,a.ldotbelowmacron=7737,a.leftangleabovecmb=794,a.lefttackbelowcmb=792,a.less=60,a.lessequal=8804,a.lessequalorgreater=8922,a.lessmonospace=65308,a.lessorequivalent=8818,a.lessorgreater=8822,a.lessoverequal=8806,a.lesssmall=65124,a.lezh=622,a.lfblock=9612,a.lhookretroflex=621,a.lira=8356,a.liwnarmenian=1388,a.lj=457,a.ljecyrillic=1113,a.ll=63168,a.lladeva=2355,a.llagujarati=2739,a.llinebelow=7739,a.llladeva=2356,a.llvocalicbengali=2529,a.llvocalicdeva=2401,a.llvocalicvowelsignbengali=2531,a.llvocalicvowelsigndeva=2403,a.lmiddletilde=619,a.lmonospace=65356,a.lmsquare=13264,a.lochulathai=3628,a.logicaland=8743,a.logicalnot=172,a.logicalnotreversed=8976,a.logicalor=8744,a.lolingthai=3621,a.longs=383,a.lowlinecenterline=65102,a.lowlinecmb=818,a.lowlinedashed=65101,a.lozenge=9674,a.lparen=9383,a.lslash=322,a.lsquare=8467,a.lsuperior=63214,a.ltshade=9617,a.luthai=3622,a.lvocalicbengali=2444,a.lvocalicdeva=2316,a.lvocalicvowelsignbengali=2530,a.lvocalicvowelsigndeva=2402,a.lxsquare=13267,a.m=109,a.mabengali=2478,a.macron=175,a.macronbelowcmb=817,a.macroncmb=772,a.macronlowmod=717,a.macronmonospace=65507,a.macute=7743,a.madeva=2350,a.magujarati=2734,a.magurmukhi=2606,a.mahapakhhebrew=1444,a.mahapakhlefthebrew=1444,a.mahiragana=12414,a.maichattawalowleftthai=63637,a.maichattawalowrightthai=63636,a.maichattawathai=3659,a.maichattawaupperleftthai=63635,a.maieklowleftthai=63628,a.maieklowrightthai=63627,a.maiekthai=3656,a.maiekupperleftthai=63626,a.maihanakatleftthai=63620,a.maihanakatthai=3633,a.maitaikhuleftthai=63625,a.maitaikhuthai=3655,a.maitholowleftthai=63631,a.maitholowrightthai=63630,a.maithothai=3657,a.maithoupperleftthai=63629,a.maitrilowleftthai=63634,a.maitrilowrightthai=63633,a.maitrithai=3658,a.maitriupperleftthai=63632,a.maiyamokthai=3654,a.makatakana=12510,a.makatakanahalfwidth=65423,a.male=9794,a.mansyonsquare=13127,a.maqafhebrew=1470,a.mars=9794,a.masoracirclehebrew=1455,a.masquare=13187,a.mbopomofo=12551,a.mbsquare=13268,a.mcircle=9436,a.mcubedsquare=13221,a.mdotaccent=7745,a.mdotbelow=7747,a.meemarabic=1605,a.meemfinalarabic=65250,a.meeminitialarabic=65251,a.meemmedialarabic=65252,a.meemmeeminitialarabic=64721,a.meemmeemisolatedarabic=64584,a.meetorusquare=13133,a.mehiragana=12417,a.meizierasquare=13182,a.mekatakana=12513,a.mekatakanahalfwidth=65426,a.mem=1502,a.memdagesh=64318,a.memdageshhebrew=64318,a.memhebrew=1502,a.menarmenian=1396,a.merkhahebrew=1445,a.merkhakefulahebrew=1446,a.merkhakefulalefthebrew=1446,a.merkhalefthebrew=1445,a.mhook=625,a.mhzsquare=13202,a.middledotkatakanahalfwidth=65381,a.middot=183,a.mieumacirclekorean=12914,a.mieumaparenkorean=12818,a.mieumcirclekorean=12900,a.mieumkorean=12609,a.mieumpansioskorean=12656,a.mieumparenkorean=12804,a.mieumpieupkorean=12654,a.mieumsioskorean=12655,a.mihiragana=12415,a.mikatakana=12511,a.mikatakanahalfwidth=65424,a.minus=8722,a.minusbelowcmb=800,a.minuscircle=8854,a.minusmod=727,a.minusplus=8723,a.minute=8242,a.miribaarusquare=13130,a.mirisquare=13129,a.mlonglegturned=624,a.mlsquare=13206,a.mmcubedsquare=13219,a.mmonospace=65357,a.mmsquaredsquare=13215,a.mohiragana=12418,a.mohmsquare=13249,a.mokatakana=12514,a.mokatakanahalfwidth=65427,a.molsquare=13270,a.momathai=3617,a.moverssquare=13223,a.moverssquaredsquare=13224,a.mparen=9384,a.mpasquare=13227,a.mssquare=13235,a.msuperior=63215,a.mturned=623,a.mu=181,a.mu1=181,a.muasquare=13186,a.muchgreater=8811,a.muchless=8810,a.mufsquare=13196,a.mugreek=956,a.mugsquare=13197,a.muhiragana=12416,a.mukatakana=12512,a.mukatakanahalfwidth=65425,a.mulsquare=13205,a.multiply=215,a.mumsquare=13211,a.munahhebrew=1443,a.munahlefthebrew=1443,a.musicalnote=9834,a.musicalnotedbl=9835,a.musicflatsign=9837,a.musicsharpsign=9839,a.mussquare=13234,a.muvsquare=13238,a.muwsquare=13244,a.mvmegasquare=13241,a.mvsquare=13239,a.mwmegasquare=13247,a.mwsquare=13245,a.n=110,a.nabengali=2472,a.nabla=8711,a.nacute=324,a.nadeva=2344,a.nagujarati=2728,a.nagurmukhi=2600,a.nahiragana=12394,a.nakatakana=12490,a.nakatakanahalfwidth=65413,a.napostrophe=329,a.nasquare=13185,a.nbopomofo=12555,a.nbspace=160,a.ncaron=328,a.ncedilla=326,a.ncircle=9437,a.ncircumflexbelow=7755,a.ncommaaccent=326,a.ndotaccent=7749,a.ndotbelow=7751,a.nehiragana=12397,a.nekatakana=12493,a.nekatakanahalfwidth=65416,a.newsheqelsign=8362,a.nfsquare=13195,a.ngabengali=2457,a.ngadeva=2329,a.ngagujarati=2713,a.ngagurmukhi=2585,a.ngonguthai=3591,a.nhiragana=12435,a.nhookleft=626,a.nhookretroflex=627,a.nieunacirclekorean=12911,a.nieunaparenkorean=12815,a.nieuncieuckorean=12597,a.nieuncirclekorean=12897,a.nieunhieuhkorean=12598,a.nieunkorean=12596,a.nieunpansioskorean=12648,a.nieunparenkorean=12801,a.nieunsioskorean=12647,a.nieuntikeutkorean=12646,a.nihiragana=12395,a.nikatakana=12491,a.nikatakanahalfwidth=65414,a.nikhahitleftthai=63641,a.nikhahitthai=3661,a.nine=57,a.ninearabic=1641,a.ninebengali=2543,a.ninecircle=9320,a.ninecircleinversesansserif=10130,a.ninedeva=2415,a.ninegujarati=2799,a.ninegurmukhi=2671,a.ninehackarabic=1641,a.ninehangzhou=12329,a.nineideographicparen=12840,a.nineinferior=8329,a.ninemonospace=65305,a.nineoldstyle=63289,a.nineparen=9340,a.nineperiod=9360,a.ninepersian=1785,a.nineroman=8568,a.ninesuperior=8313,a.nineteencircle=9330,a.nineteenparen=9350,a.nineteenperiod=9370,a.ninethai=3673,a.nj=460,a.njecyrillic=1114,a.nkatakana=12531,a.nkatakanahalfwidth=65437,a.nlegrightlong=414,a.nlinebelow=7753,a.nmonospace=65358,a.nmsquare=13210,a.nnabengali=2467,a.nnadeva=2339,a.nnagujarati=2723,a.nnagurmukhi=2595,a.nnnadeva=2345,a.nohiragana=12398,a.nokatakana=12494,a.nokatakanahalfwidth=65417,a.nonbreakingspace=160,a.nonenthai=3603,a.nonuthai=3609,a.noonarabic=1606,a.noonfinalarabic=65254,a.noonghunnaarabic=1722,a.noonghunnafinalarabic=64415,a.nooninitialarabic=65255,a.noonjeeminitialarabic=64722,a.noonjeemisolatedarabic=64587,a.noonmedialarabic=65256,a.noonmeeminitialarabic=64725,a.noonmeemisolatedarabic=64590,a.noonnoonfinalarabic=64653,a.notcontains=8716,a.notelement=8713,a.notelementof=8713,a.notequal=8800,a.notgreater=8815,a.notgreaternorequal=8817,a.notgreaternorless=8825,a.notidentical=8802,a.notless=8814,a.notlessnorequal=8816,a.notparallel=8742,a.notprecedes=8832,a.notsubset=8836,a.notsucceeds=8833,a.notsuperset=8837,a.nowarmenian=1398,a.nparen=9385,a.nssquare=13233,a.nsuperior=8319,a.ntilde=241,a.nu=957,a.nuhiragana=12396,a.nukatakana=12492,a.nukatakanahalfwidth=65415,a.nuktabengali=2492,a.nuktadeva=2364,a.nuktagujarati=2748,a.nuktagurmukhi=2620,a.numbersign=35,a.numbersignmonospace=65283,a.numbersignsmall=65119,a.numeralsigngreek=884,a.numeralsignlowergreek=885,a.numero=8470,a.nun=1504,a.nundagesh=64320,a.nundageshhebrew=64320,a.nunhebrew=1504,a.nvsquare=13237,a.nwsquare=13243,a.nyabengali=2462,a.nyadeva=2334,a.nyagujarati=2718,a.nyagurmukhi=2590,a.o=111,a.oacute=243,a.oangthai=3629,a.obarred=629,a.obarredcyrillic=1257,a.obarreddieresiscyrillic=1259,a.obengali=2451,a.obopomofo=12571,a.obreve=335,a.ocandradeva=2321,a.ocandragujarati=2705,a.ocandravowelsigndeva=2377,a.ocandravowelsigngujarati=2761,a.ocaron=466,a.ocircle=9438,a.ocircumflex=244,a.ocircumflexacute=7889,a.ocircumflexdotbelow=7897,a.ocircumflexgrave=7891,a.ocircumflexhookabove=7893,a.ocircumflextilde=7895,a.ocyrillic=1086,a.odblacute=337,a.odblgrave=525,a.odeva=2323,a.odieresis=246,a.odieresiscyrillic=1255,a.odotbelow=7885,a.oe=339,a.oekorean=12634,a.ogonek=731,a.ogonekcmb=808,a.ograve=242,a.ogujarati=2707,a.oharmenian=1413,a.ohiragana=12362,a.ohookabove=7887,a.ohorn=417,a.ohornacute=7899,a.ohorndotbelow=7907,a.ohorngrave=7901,a.ohornhookabove=7903,a.ohorntilde=7905,a.ohungarumlaut=337,a.oi=419,a.oinvertedbreve=527,a.okatakana=12458,a.okatakanahalfwidth=65397,a.okorean=12631,a.olehebrew=1451,a.omacron=333,a.omacronacute=7763,a.omacrongrave=7761,a.omdeva=2384,a.omega=969,a.omega1=982,a.omegacyrillic=1121,a.omegalatinclosed=631,a.omegaroundcyrillic=1147,a.omegatitlocyrillic=1149,a.omegatonos=974,a.omgujarati=2768,a.omicron=959,a.omicrontonos=972,a.omonospace=65359,a.one=49,a.onearabic=1633,a.onebengali=2535,a.onecircle=9312,a.onecircleinversesansserif=10122,a.onedeva=2407,a.onedotenleader=8228,a.oneeighth=8539,a.onefitted=63196,a.onegujarati=2791,a.onegurmukhi=2663,a.onehackarabic=1633,a.onehalf=189,a.onehangzhou=12321,a.oneideographicparen=12832,a.oneinferior=8321,a.onemonospace=65297,a.onenumeratorbengali=2548,a.oneoldstyle=63281,a.oneparen=9332,a.oneperiod=9352,a.onepersian=1777,a.onequarter=188,a.oneroman=8560,a.onesuperior=185,a.onethai=3665,a.onethird=8531,a.oogonek=491,a.oogonekmacron=493,a.oogurmukhi=2579,a.oomatragurmukhi=2635,a.oopen=596,a.oparen=9386,a.openbullet=9702,a.option=8997,a.ordfeminine=170,a.ordmasculine=186,a.orthogonal=8735,a.oshortdeva=2322,a.oshortvowelsigndeva=2378,a.oslash=248,a.oslashacute=511,a.osmallhiragana=12361,a.osmallkatakana=12457,a.osmallkatakanahalfwidth=65387,a.ostrokeacute=511,a.osuperior=63216,a.otcyrillic=1151,a.otilde=245,a.otildeacute=7757,a.otildedieresis=7759,a.oubopomofo=12577,a.overline=8254,a.overlinecenterline=65098,a.overlinecmb=773,a.overlinedashed=65097,a.overlinedblwavy=65100,a.overlinewavy=65099,a.overscore=175,a.ovowelsignbengali=2507,a.ovowelsigndeva=2379,a.ovowelsigngujarati=2763,a.p=112,a.paampssquare=13184,a.paasentosquare=13099,a.pabengali=2474,a.pacute=7765,a.padeva=2346,a.pagedown=8671,a.pageup=8670,a.pagujarati=2730,a.pagurmukhi=2602,a.pahiragana=12401,a.paiyannoithai=3631,a.pakatakana=12497,a.palatalizationcyrilliccmb=1156,a.palochkacyrillic=1216,a.pansioskorean=12671,a.paragraph=182,a.parallel=8741,a.parenleft=40,a.parenleftaltonearabic=64830,a.parenleftbt=63725,a.parenleftex=63724,a.parenleftinferior=8333,a.parenleftmonospace=65288,a.parenleftsmall=65113,a.parenleftsuperior=8317,a.parenlefttp=63723,a.parenleftvertical=65077,a.parenright=41,a.parenrightaltonearabic=64831,a.parenrightbt=63736,a.parenrightex=63735,a.parenrightinferior=8334,a.parenrightmonospace=65289,a.parenrightsmall=65114,a.parenrightsuperior=8318,a.parenrighttp=63734,a.parenrightvertical=65078,a.partialdiff=8706,a.paseqhebrew=1472,a.pashtahebrew=1433,a.pasquare=13225,a.patah=1463,a.patah11=1463,a.patah1d=1463,a.patah2a=1463,a.patahhebrew=1463,a.patahnarrowhebrew=1463,a.patahquarterhebrew=1463,a.patahwidehebrew=1463,a.pazerhebrew=1441,a.pbopomofo=12550,a.pcircle=9439,a.pdotaccent=7767,a.pe=1508,a.pecyrillic=1087,a.pedagesh=64324,a.pedageshhebrew=64324,a.peezisquare=13115,a.pefinaldageshhebrew=64323,a.peharabic=1662,a.peharmenian=1402,a.pehebrew=1508,a.pehfinalarabic=64343,a.pehinitialarabic=64344,a.pehiragana=12410,a.pehmedialarabic=64345,a.pekatakana=12506,a.pemiddlehookcyrillic=1191,a.perafehebrew=64334,a.percent=37,a.percentarabic=1642,a.percentmonospace=65285,a.percentsmall=65130,a.period=46,a.periodarmenian=1417,a.periodcentered=183,a.periodhalfwidth=65377,a.periodinferior=63207,a.periodmonospace=65294,a.periodsmall=65106,a.periodsuperior=63208,a.perispomenigreekcmb=834,a.perpendicular=8869,a.perthousand=8240,a.peseta=8359,a.pfsquare=13194,a.phabengali=2475,a.phadeva=2347,a.phagujarati=2731,a.phagurmukhi=2603,a.phi=966,a.phi1=981,a.phieuphacirclekorean=12922,a.phieuphaparenkorean=12826,a.phieuphcirclekorean=12908,a.phieuphkorean=12621,a.phieuphparenkorean=12812,a.philatin=632,a.phinthuthai=3642,a.phisymbolgreek=981,a.phook=421,a.phophanthai=3614,a.phophungthai=3612,a.phosamphaothai=3616,a.pi=960,a.pieupacirclekorean=12915,a.pieupaparenkorean=12819,a.pieupcieuckorean=12662,a.pieupcirclekorean=12901,a.pieupkiyeokkorean=12658,a.pieupkorean=12610,a.pieupparenkorean=12805,a.pieupsioskiyeokkorean=12660,a.pieupsioskorean=12612,a.pieupsiostikeutkorean=12661,a.pieupthieuthkorean=12663,a.pieuptikeutkorean=12659,a.pihiragana=12404,a.pikatakana=12500,a.pisymbolgreek=982,a.piwrarmenian=1411,a.plus=43,a.plusbelowcmb=799,a.pluscircle=8853,a.plusminus=177,a.plusmod=726,a.plusmonospace=65291,a.plussmall=65122,a.plussuperior=8314,a.pmonospace=65360,a.pmsquare=13272,a.pohiragana=12413,a.pointingindexdownwhite=9759,a.pointingindexleftwhite=9756,a.pointingindexrightwhite=9758,a.pointingindexupwhite=9757,a.pokatakana=12509,a.poplathai=3611,a.postalmark=12306,a.postalmarkface=12320,a.pparen=9387,a.precedes=8826,a.prescription=8478,a.primemod=697,a.primereversed=8245,a.product=8719,a.projective=8965,a.prolongedkana=12540,a.propellor=8984,a.propersubset=8834,a.propersuperset=8835,a.proportion=8759,a.proportional=8733,a.psi=968,a.psicyrillic=1137,a.psilipneumatacyrilliccmb=1158,a.pssquare=13232,a.puhiragana=12407,a.pukatakana=12503,a.pvsquare=13236,a.pwsquare=13242,a.q=113,a.qadeva=2392,a.qadmahebrew=1448,a.qafarabic=1602,a.qaffinalarabic=65238,a.qafinitialarabic=65239,a.qafmedialarabic=65240,a.qamats=1464,a.qamats10=1464,a.qamats1a=1464,a.qamats1c=1464,a.qamats27=1464,a.qamats29=1464,a.qamats33=1464,a.qamatsde=1464,a.qamatshebrew=1464,a.qamatsnarrowhebrew=1464,a.qamatsqatanhebrew=1464,a.qamatsqatannarrowhebrew=1464,a.qamatsqatanquarterhebrew=1464,a.qamatsqatanwidehebrew=1464,a.qamatsquarterhebrew=1464,a.qamatswidehebrew=1464,a.qarneyparahebrew=1439,a.qbopomofo=12561,a.qcircle=9440,a.qhook=672,a.qmonospace=65361,a.qof=1511,a.qofdagesh=64327,a.qofdageshhebrew=64327,a.qofhebrew=1511,a.qparen=9388,a.quarternote=9833,a.qubuts=1467,a.qubuts18=1467,a.qubuts25=1467,a.qubuts31=1467,a.qubutshebrew=1467,a.qubutsnarrowhebrew=1467,a.qubutsquarterhebrew=1467,a.qubutswidehebrew=1467,a.question=63,a.questionarabic=1567,a.questionarmenian=1374,a.questiondown=191,a.questiondownsmall=63423,a.questiongreek=894,a.questionmonospace=65311,a.questionsmall=63295,a.quotedbl=34,a.quotedblbase=8222,a.quotedblleft=8220,a.quotedblmonospace=65282,a.quotedblprime=12318,a.quotedblprimereversed=12317,a.quotedblright=8221,a.quoteleft=8216,a.quoteleftreversed=8219,a.quotereversed=8219,a.quoteright=8217,a.quoterightn=329,a.quotesinglbase=8218,a.quotesingle=39,a.quotesinglemonospace=65287,a.r=114,a.raarmenian=1404,a.rabengali=2480,a.racute=341,a.radeva=2352,a.radical=8730,a.radicalex=63717,a.radoverssquare=13230,a.radoverssquaredsquare=13231,a.radsquare=13229,a.rafe=1471,a.rafehebrew=1471,a.ragujarati=2736,a.ragurmukhi=2608,a.rahiragana=12425,a.rakatakana=12521,a.rakatakanahalfwidth=65431,a.ralowerdiagonalbengali=2545,a.ramiddlediagonalbengali=2544,a.ramshorn=612,a.ratio=8758,a.rbopomofo=12566,a.rcaron=345,a.rcedilla=343,a.rcircle=9441,a.rcommaaccent=343,a.rdblgrave=529,a.rdotaccent=7769,a.rdotbelow=7771,a.rdotbelowmacron=7773,a.referencemark=8251,a.reflexsubset=8838,a.reflexsuperset=8839,a.registered=174,a.registersans=63720,a.registerserif=63194,a.reharabic=1585,a.reharmenian=1408,a.rehfinalarabic=65198,a.rehiragana=12428,a.rekatakana=12524,a.rekatakanahalfwidth=65434,a.resh=1512,a.reshdageshhebrew=64328,a.reshhebrew=1512,a.reversedtilde=8765,a.reviahebrew=1431,a.reviamugrashhebrew=1431,a.revlogicalnot=8976,a.rfishhook=638,a.rfishhookreversed=639,a.rhabengali=2525,a.rhadeva=2397,a.rho=961,a.rhook=637,a.rhookturned=635,a.rhookturnedsuperior=693,a.rhosymbolgreek=1009,a.rhotichookmod=734,a.rieulacirclekorean=12913,a.rieulaparenkorean=12817,a.rieulcirclekorean=12899,a.rieulhieuhkorean=12608,a.rieulkiyeokkorean=12602,a.rieulkiyeoksioskorean=12649,a.rieulkorean=12601,a.rieulmieumkorean=12603,a.rieulpansioskorean=12652,a.rieulparenkorean=12803,a.rieulphieuphkorean=12607,a.rieulpieupkorean=12604,a.rieulpieupsioskorean=12651,a.rieulsioskorean=12605,a.rieulthieuthkorean=12606,a.rieultikeutkorean=12650,a.rieulyeorinhieuhkorean=12653,a.rightangle=8735,a.righttackbelowcmb=793,a.righttriangle=8895,a.rihiragana=12426,a.rikatakana=12522,a.rikatakanahalfwidth=65432,a.ring=730,a.ringbelowcmb=805,a.ringcmb=778,a.ringhalfleft=703,a.ringhalfleftarmenian=1369,a.ringhalfleftbelowcmb=796,a.ringhalfleftcentered=723,a.ringhalfright=702,a.ringhalfrightbelowcmb=825,a.ringhalfrightcentered=722,a.rinvertedbreve=531,a.rittorusquare=13137,a.rlinebelow=7775,a.rlongleg=636,a.rlonglegturned=634,a.rmonospace=65362,a.rohiragana=12429,a.rokatakana=12525,a.rokatakanahalfwidth=65435,a.roruathai=3619,a.rparen=9389,a.rrabengali=2524,a.rradeva=2353,a.rragurmukhi=2652,a.rreharabic=1681,a.rrehfinalarabic=64397,a.rrvocalicbengali=2528,a.rrvocalicdeva=2400,a.rrvocalicgujarati=2784,a.rrvocalicvowelsignbengali=2500,a.rrvocalicvowelsigndeva=2372,a.rrvocalicvowelsigngujarati=2756,a.rsuperior=63217,a.rtblock=9616,a.rturned=633,a.rturnedsuperior=692,a.ruhiragana=12427,a.rukatakana=12523,a.rukatakanahalfwidth=65433,a.rupeemarkbengali=2546,a.rupeesignbengali=2547,a.rupiah=63197,a.ruthai=3620,a.rvocalicbengali=2443,a.rvocalicdeva=2315,a.rvocalicgujarati=2699,a.rvocalicvowelsignbengali=2499,a.rvocalicvowelsigndeva=2371,a.rvocalicvowelsigngujarati=2755,a.s=115,a.sabengali=2488,a.sacute=347,a.sacutedotaccent=7781,a.sadarabic=1589,a.sadeva=2360,a.sadfinalarabic=65210,a.sadinitialarabic=65211,a.sadmedialarabic=65212,a.sagujarati=2744,a.sagurmukhi=2616,a.sahiragana=12373,a.sakatakana=12469,a.sakatakanahalfwidth=65403,a.sallallahoualayhewasallamarabic=65018,a.samekh=1505,a.samekhdagesh=64321,a.samekhdageshhebrew=64321,a.samekhhebrew=1505,a.saraaathai=3634,a.saraaethai=3649,a.saraaimaimalaithai=3652,a.saraaimaimuanthai=3651,a.saraamthai=3635,a.saraathai=3632,a.saraethai=3648,a.saraiileftthai=63622,a.saraiithai=3637,a.saraileftthai=63621,a.saraithai=3636,a.saraothai=3650,a.saraueeleftthai=63624,a.saraueethai=3639,a.saraueleftthai=63623,a.sarauethai=3638,a.sarauthai=3640,a.sarauuthai=3641,a.sbopomofo=12569,a.scaron=353,a.scarondotaccent=7783,a.scedilla=351,a.schwa=601,a.schwacyrillic=1241,a.schwadieresiscyrillic=1243,a.schwahook=602,a.scircle=9442,a.scircumflex=349,a.scommaaccent=537,a.sdotaccent=7777,a.sdotbelow=7779,a.sdotbelowdotaccent=7785,a.seagullbelowcmb=828,a.second=8243,a.secondtonechinese=714,a.section=167,a.seenarabic=1587,a.seenfinalarabic=65202,a.seeninitialarabic=65203,a.seenmedialarabic=65204,a.segol=1462,a.segol13=1462,a.segol1f=1462,a.segol2c=1462,a.segolhebrew=1462,a.segolnarrowhebrew=1462,a.segolquarterhebrew=1462,a.segoltahebrew=1426,a.segolwidehebrew=1462,a.seharmenian=1405,a.sehiragana=12379,a.sekatakana=12475,a.sekatakanahalfwidth=65406,a.semicolon=59,a.semicolonarabic=1563,a.semicolonmonospace=65307,a.semicolonsmall=65108,a.semivoicedmarkkana=12444,a.semivoicedmarkkanahalfwidth=65439,a.sentisquare=13090,a.sentosquare=13091,a.seven=55,a.sevenarabic=1639,a.sevenbengali=2541,a.sevencircle=9318,a.sevencircleinversesansserif=10128,a.sevendeva=2413,a.seveneighths=8542,a.sevengujarati=2797,a.sevengurmukhi=2669,a.sevenhackarabic=1639,a.sevenhangzhou=12327,a.sevenideographicparen=12838,a.seveninferior=8327,a.sevenmonospace=65303,a.sevenoldstyle=63287,a.sevenparen=9338,a.sevenperiod=9358,a.sevenpersian=1783,a.sevenroman=8566,a.sevensuperior=8311,a.seventeencircle=9328,a.seventeenparen=9348,a.seventeenperiod=9368,a.seventhai=3671,a.sfthyphen=173,a.shaarmenian=1399,a.shabengali=2486,a.shacyrillic=1096,a.shaddaarabic=1617,a.shaddadammaarabic=64609,a.shaddadammatanarabic=64606,a.shaddafathaarabic=64608,a.shaddakasraarabic=64610,a.shaddakasratanarabic=64607,a.shade=9618,a.shadedark=9619,a.shadelight=9617,a.shademedium=9618,a.shadeva=2358,a.shagujarati=2742,a.shagurmukhi=2614,a.shalshelethebrew=1427,a.shbopomofo=12565,a.shchacyrillic=1097,a.sheenarabic=1588,a.sheenfinalarabic=65206,a.sheeninitialarabic=65207,a.sheenmedialarabic=65208,a.sheicoptic=995,a.sheqel=8362,a.sheqelhebrew=8362,a.sheva=1456,a.sheva115=1456,a.sheva15=1456,a.sheva22=1456,a.sheva2e=1456,a.shevahebrew=1456,a.shevanarrowhebrew=1456,a.shevaquarterhebrew=1456,a.shevawidehebrew=1456,a.shhacyrillic=1211,a.shimacoptic=1005,a.shin=1513,a.shindagesh=64329,a.shindageshhebrew=64329,a.shindageshshindot=64300,a.shindageshshindothebrew=64300,a.shindageshsindot=64301,a.shindageshsindothebrew=64301,a.shindothebrew=1473,a.shinhebrew=1513,a.shinshindot=64298,a.shinshindothebrew=64298,a.shinsindot=64299,a.shinsindothebrew=64299,a.shook=642,a.sigma=963,a.sigma1=962,a.sigmafinal=962,a.sigmalunatesymbolgreek=1010,a.sihiragana=12375,a.sikatakana=12471,a.sikatakanahalfwidth=65404,a.siluqhebrew=1469,a.siluqlefthebrew=1469,a.similar=8764,a.sindothebrew=1474,a.siosacirclekorean=12916,a.siosaparenkorean=12820,a.sioscieuckorean=12670,a.sioscirclekorean=12902,a.sioskiyeokkorean=12666,a.sioskorean=12613,a.siosnieunkorean=12667,a.siosparenkorean=12806,a.siospieupkorean=12669,a.siostikeutkorean=12668,a.six=54,a.sixarabic=1638,a.sixbengali=2540,a.sixcircle=9317,a.sixcircleinversesansserif=10127,a.sixdeva=2412,a.sixgujarati=2796,a.sixgurmukhi=2668,a.sixhackarabic=1638,a.sixhangzhou=12326,a.sixideographicparen=12837,a.sixinferior=8326,a.sixmonospace=65302,a.sixoldstyle=63286,a.sixparen=9337,a.sixperiod=9357,a.sixpersian=1782,a.sixroman=8565,a.sixsuperior=8310,a.sixteencircle=9327,a.sixteencurrencydenominatorbengali=2553,a.sixteenparen=9347,a.sixteenperiod=9367,a.sixthai=3670,a.slash=47,a.slashmonospace=65295,a.slong=383,a.slongdotaccent=7835,a.smileface=9786,a.smonospace=65363,a.sofpasuqhebrew=1475,a.softhyphen=173,a.softsigncyrillic=1100,a.sohiragana=12381,a.sokatakana=12477,a.sokatakanahalfwidth=65407,a.soliduslongoverlaycmb=824,a.solidusshortoverlaycmb=823,a.sorusithai=3625,a.sosalathai=3624,a.sosothai=3595,a.sosuathai=3626,a.space=32,a.spacehackarabic=32,a.spade=9824,a.spadesuitblack=9824,a.spadesuitwhite=9828,a.sparen=9390,a.squarebelowcmb=827,a.squarecc=13252,a.squarecm=13213,a.squarediagonalcrosshatchfill=9641,a.squarehorizontalfill=9636,a.squarekg=13199,a.squarekm=13214,a.squarekmcapital=13262,a.squareln=13265,a.squarelog=13266,a.squaremg=13198,a.squaremil=13269,a.squaremm=13212,a.squaremsquared=13217,a.squareorthogonalcrosshatchfill=9638,a.squareupperlefttolowerrightfill=9639,a.squareupperrighttolowerleftfill=9640,a.squareverticalfill=9637,a.squarewhitewithsmallblack=9635,a.srsquare=13275,a.ssabengali=2487,a.ssadeva=2359,a.ssagujarati=2743,a.ssangcieuckorean=12617,a.ssanghieuhkorean=12677,a.ssangieungkorean=12672,a.ssangkiyeokkorean=12594,a.ssangnieunkorean=12645,a.ssangpieupkorean=12611,a.ssangsioskorean=12614,a.ssangtikeutkorean=12600,a.ssuperior=63218,a.sterling=163,a.sterlingmonospace=65505,a.strokelongoverlaycmb=822,a.strokeshortoverlaycmb=821,a.subset=8834,a.subsetnotequal=8842,a.subsetorequal=8838,a.succeeds=8827,a.suchthat=8715,a.suhiragana=12377,a.sukatakana=12473,a.sukatakanahalfwidth=65405,a.sukunarabic=1618,a.summation=8721,a.sun=9788,a.superset=8835,a.supersetnotequal=8843,a.supersetorequal=8839,a.svsquare=13276,a.syouwaerasquare=13180,a.t=116,a.tabengali=2468,a.tackdown=8868,a.tackleft=8867,a.tadeva=2340,a.tagujarati=2724,a.tagurmukhi=2596,a.taharabic=1591,a.tahfinalarabic=65218,a.tahinitialarabic=65219,a.tahiragana=12383,a.tahmedialarabic=65220,a.taisyouerasquare=13181,a.takatakana=12479,a.takatakanahalfwidth=65408,a.tatweelarabic=1600,a.tau=964,a.tav=1514,a.tavdages=64330,a.tavdagesh=64330,a.tavdageshhebrew=64330,a.tavhebrew=1514,a.tbar=359,a.tbopomofo=12554,a.tcaron=357,a.tccurl=680,a.tcedilla=355,a.tcheharabic=1670,a.tchehfinalarabic=64379,a.tchehinitialarabic=64380,a.tchehmedialarabic=64381,a.tcircle=9443,a.tcircumflexbelow=7793,a.tcommaaccent=355,a.tdieresis=7831,a.tdotaccent=7787,a.tdotbelow=7789,a.tecyrillic=1090,a.tedescendercyrillic=1197,a.teharabic=1578,a.tehfinalarabic=65174,a.tehhahinitialarabic=64674,a.tehhahisolatedarabic=64524,a.tehinitialarabic=65175,a.tehiragana=12390,a.tehjeeminitialarabic=64673,a.tehjeemisolatedarabic=64523,a.tehmarbutaarabic=1577,a.tehmarbutafinalarabic=65172,a.tehmedialarabic=65176,a.tehmeeminitialarabic=64676,a.tehmeemisolatedarabic=64526,a.tehnoonfinalarabic=64627,a.tekatakana=12486,a.tekatakanahalfwidth=65411,a.telephone=8481,a.telephoneblack=9742,a.telishagedolahebrew=1440,a.telishaqetanahebrew=1449,a.tencircle=9321,a.tenideographicparen=12841,a.tenparen=9341,a.tenperiod=9361,a.tenroman=8569,a.tesh=679,a.tet=1496,a.tetdagesh=64312,a.tetdageshhebrew=64312,a.tethebrew=1496,a.tetsecyrillic=1205,a.tevirhebrew=1435,a.tevirlefthebrew=1435,a.thabengali=2469,a.thadeva=2341,a.thagujarati=2725,a.thagurmukhi=2597,a.thalarabic=1584,a.thalfinalarabic=65196,a.thanthakhatlowleftthai=63640,a.thanthakhatlowrightthai=63639,a.thanthakhatthai=3660,a.thanthakhatupperleftthai=63638,a.theharabic=1579,a.thehfinalarabic=65178,a.thehinitialarabic=65179,a.thehmedialarabic=65180,a.thereexists=8707,a.therefore=8756,a.theta=952,a.theta1=977,a.thetasymbolgreek=977,a.thieuthacirclekorean=12921,a.thieuthaparenkorean=12825,a.thieuthcirclekorean=12907,a.thieuthkorean=12620,a.thieuthparenkorean=12811,a.thirteencircle=9324,a.thirteenparen=9344,a.thirteenperiod=9364,a.thonangmonthothai=3601,a.thook=429,a.thophuthaothai=3602,a.thorn=254,a.thothahanthai=3607,a.thothanthai=3600,a.thothongthai=3608,a.thothungthai=3606,a.thousandcyrillic=1154,a.thousandsseparatorarabic=1644,a.thousandsseparatorpersian=1644,a.three=51,a.threearabic=1635,a.threebengali=2537,a.threecircle=9314,a.threecircleinversesansserif=10124,a.threedeva=2409,a.threeeighths=8540,a.threegujarati=2793,a.threegurmukhi=2665,a.threehackarabic=1635,a.threehangzhou=12323,a.threeideographicparen=12834,a.threeinferior=8323,a.threemonospace=65299,a.threenumeratorbengali=2550,a.threeoldstyle=63283,a.threeparen=9334,a.threeperiod=9354,a.threepersian=1779,a.threequarters=190,a.threequartersemdash=63198,a.threeroman=8562,a.threesuperior=179,a.threethai=3667,a.thzsquare=13204,a.tihiragana=12385,a.tikatakana=12481,a.tikatakanahalfwidth=65409,a.tikeutacirclekorean=12912,a.tikeutaparenkorean=12816,a.tikeutcirclekorean=12898,a.tikeutkorean=12599,a.tikeutparenkorean=12802,a.tilde=732,a.tildebelowcmb=816,a.tildecmb=771,a.tildecomb=771,a.tildedoublecmb=864,a.tildeoperator=8764,a.tildeoverlaycmb=820,a.tildeverticalcmb=830,a.timescircle=8855,a.tipehahebrew=1430,a.tipehalefthebrew=1430,a.tippigurmukhi=2672,a.titlocyrilliccmb=1155,a.tiwnarmenian=1407,a.tlinebelow=7791,a.tmonospace=65364,a.toarmenian=1385,a.tohiragana=12392,a.tokatakana=12488,a.tokatakanahalfwidth=65412,a.tonebarextrahighmod=741,a.tonebarextralowmod=745,a.tonebarhighmod=742,a.tonebarlowmod=744,a.tonebarmidmod=743,a.tonefive=445,a.tonesix=389,a.tonetwo=424,a.tonos=900,a.tonsquare=13095,a.topatakthai=3599,a.tortoiseshellbracketleft=12308,a.tortoiseshellbracketleftsmall=65117,a.tortoiseshellbracketleftvertical=65081,a.tortoiseshellbracketright=12309,a.tortoiseshellbracketrightsmall=65118,a.tortoiseshellbracketrightvertical=65082,a.totaothai=3605,a.tpalatalhook=427,a.tparen=9391,a.trademark=8482,a.trademarksans=63722,a.trademarkserif=63195,a.tretroflexhook=648,a.triagdn=9660,a.triaglf=9668,a.triagrt=9658,a.triagup=9650,a.ts=678,a.tsadi=1510,a.tsadidagesh=64326,a.tsadidageshhebrew=64326,a.tsadihebrew=1510,a.tsecyrillic=1094,a.tsere=1461,a.tsere12=1461,a.tsere1e=1461,a.tsere2b=1461,a.tserehebrew=1461,a.tserenarrowhebrew=1461,a.tserequarterhebrew=1461,a.tserewidehebrew=1461,a.tshecyrillic=1115,a.tsuperior=63219,a.ttabengali=2463,a.ttadeva=2335,a.ttagujarati=2719,a.ttagurmukhi=2591,a.tteharabic=1657,a.ttehfinalarabic=64359,a.ttehinitialarabic=64360,a.ttehmedialarabic=64361,a.tthabengali=2464,a.tthadeva=2336,a.tthagujarati=2720,a.tthagurmukhi=2592,a.tturned=647,a.tuhiragana=12388,a.tukatakana=12484,a.tukatakanahalfwidth=65410,a.tusmallhiragana=12387,a.tusmallkatakana=12483,a.tusmallkatakanahalfwidth=65391,a.twelvecircle=9323,a.twelveparen=9343,a.twelveperiod=9363,a.twelveroman=8571,a.twentycircle=9331,a.twentyhangzhou=21316,a.twentyparen=9351,a.twentyperiod=9371,a.two=50,a.twoarabic=1634,a.twobengali=2536,a.twocircle=9313,a.twocircleinversesansserif=10123,a.twodeva=2408,a.twodotenleader=8229,a.twodotleader=8229,a.twodotleadervertical=65072,a.twogujarati=2792,a.twogurmukhi=2664,a.twohackarabic=1634,a.twohangzhou=12322,a.twoideographicparen=12833,a.twoinferior=8322,a.twomonospace=65298,a.twonumeratorbengali=2549,a.twooldstyle=63282,a.twoparen=9333,a.twoperiod=9353,a.twopersian=1778,a.tworoman=8561,a.twostroke=443,a.twosuperior=178,a.twothai=3666,a.twothirds=8532,a.u=117,a.uacute=250,a.ubar=649,a.ubengali=2441,a.ubopomofo=12584,a.ubreve=365,a.ucaron=468,a.ucircle=9444,a.ucircumflex=251,a.ucircumflexbelow=7799,a.ucyrillic=1091,a.udattadeva=2385,a.udblacute=369,a.udblgrave=533,a.udeva=2313,a.udieresis=252,a.udieresisacute=472,a.udieresisbelow=7795,a.udieresiscaron=474,a.udieresiscyrillic=1265,a.udieresisgrave=476,a.udieresismacron=470,a.udotbelow=7909,a.ugrave=249,a.ugujarati=2697,a.ugurmukhi=2569,a.uhiragana=12358,a.uhookabove=7911,a.uhorn=432,a.uhornacute=7913,a.uhorndotbelow=7921,a.uhorngrave=7915,a.uhornhookabove=7917,a.uhorntilde=7919,a.uhungarumlaut=369,a.uhungarumlautcyrillic=1267,a.uinvertedbreve=535,a.ukatakana=12454,a.ukatakanahalfwidth=65395,a.ukcyrillic=1145,a.ukorean=12636,a.umacron=363,a.umacroncyrillic=1263,a.umacrondieresis=7803,a.umatragurmukhi=2625,a.umonospace=65365,a.underscore=95,a.underscoredbl=8215,a.underscoremonospace=65343,a.underscorevertical=65075,a.underscorewavy=65103,a.union=8746,a.universal=8704,a.uogonek=371,a.uparen=9392,a.upblock=9600,a.upperdothebrew=1476,a.upsilon=965,a.upsilondieresis=971,a.upsilondieresistonos=944,a.upsilonlatin=650,a.upsilontonos=973,a.uptackbelowcmb=797,a.uptackmod=724,a.uragurmukhi=2675,a.uring=367,a.ushortcyrillic=1118,a.usmallhiragana=12357,a.usmallkatakana=12453,a.usmallkatakanahalfwidth=65385,a.ustraightcyrillic=1199,a.ustraightstrokecyrillic=1201,a.utilde=361,a.utildeacute=7801,a.utildebelow=7797,a.uubengali=2442,a.uudeva=2314,a.uugujarati=2698,a.uugurmukhi=2570,a.uumatragurmukhi=2626,a.uuvowelsignbengali=2498,a.uuvowelsigndeva=2370,a.uuvowelsigngujarati=2754,a.uvowelsignbengali=2497,a.uvowelsigndeva=2369,a.uvowelsigngujarati=2753,a.v=118,a.vadeva=2357,a.vagujarati=2741,a.vagurmukhi=2613,a.vakatakana=12535,a.vav=1493,a.vavdagesh=64309,a.vavdagesh65=64309,a.vavdageshhebrew=64309,a.vavhebrew=1493,a.vavholam=64331,a.vavholamhebrew=64331,a.vavvavhebrew=1520,a.vavyodhebrew=1521,a.vcircle=9445,a.vdotbelow=7807,a.vecyrillic=1074,a.veharabic=1700,a.vehfinalarabic=64363,a.vehinitialarabic=64364,a.vehmedialarabic=64365,a.vekatakana=12537,a.venus=9792,a.verticalbar=124,a.verticallineabovecmb=781,a.verticallinebelowcmb=809,a.verticallinelowmod=716,a.verticallinemod=712,a.vewarmenian=1406,a.vhook=651,a.vikatakana=12536,a.viramabengali=2509,a.viramadeva=2381,a.viramagujarati=2765,a.visargabengali=2435,a.visargadeva=2307,a.visargagujarati=2691,a.vmonospace=65366,a.voarmenian=1400,a.voicediterationhiragana=12446,a.voicediterationkatakana=12542,a.voicedmarkkana=12443,a.voicedmarkkanahalfwidth=65438,a.vokatakana=12538,a.vparen=9393,a.vtilde=7805,a.vturned=652,a.vuhiragana=12436,a.vukatakana=12532,a.w=119,a.wacute=7811,a.waekorean=12633,a.wahiragana=12431,a.wakatakana=12527,a.wakatakanahalfwidth=65436,a.wakorean=12632,a.wasmallhiragana=12430,a.wasmallkatakana=12526,a.wattosquare=13143,a.wavedash=12316,a.wavyunderscorevertical=65076,a.wawarabic=1608,a.wawfinalarabic=65262,a.wawhamzaabovearabic=1572,a.wawhamzaabovefinalarabic=65158,a.wbsquare=13277,a.wcircle=9446,a.wcircumflex=373,a.wdieresis=7813,a.wdotaccent=7815,a.wdotbelow=7817,a.wehiragana=12433,a.weierstrass=8472,a.wekatakana=12529,a.wekorean=12638,a.weokorean=12637,a.wgrave=7809,a.whitebullet=9702,a.whitecircle=9675,a.whitecircleinverse=9689,
a.whitecornerbracketleft=12302,a.whitecornerbracketleftvertical=65091,a.whitecornerbracketright=12303,a.whitecornerbracketrightvertical=65092,a.whitediamond=9671,a.whitediamondcontainingblacksmalldiamond=9672,a.whitedownpointingsmalltriangle=9663,a.whitedownpointingtriangle=9661,a.whiteleftpointingsmalltriangle=9667,a.whiteleftpointingtriangle=9665,a.whitelenticularbracketleft=12310,a.whitelenticularbracketright=12311,a.whiterightpointingsmalltriangle=9657,a.whiterightpointingtriangle=9655,a.whitesmallsquare=9643,a.whitesmilingface=9786,a.whitesquare=9633,a.whitestar=9734,a.whitetelephone=9743,a.whitetortoiseshellbracketleft=12312,a.whitetortoiseshellbracketright=12313,a.whiteuppointingsmalltriangle=9653,a.whiteuppointingtriangle=9651,a.wihiragana=12432,a.wikatakana=12528,a.wikorean=12639,a.wmonospace=65367,a.wohiragana=12434,a.wokatakana=12530,a.wokatakanahalfwidth=65382,a.won=8361,a.wonmonospace=65510,a.wowaenthai=3623,a.wparen=9394,a.wring=7832,a.wsuperior=695,a.wturned=653,a.wynn=447,a.x=120,a.xabovecmb=829,a.xbopomofo=12562,a.xcircle=9447,a.xdieresis=7821,a.xdotaccent=7819,a.xeharmenian=1389,a.xi=958,a.xmonospace=65368,a.xparen=9395,a.xsuperior=739,a.y=121,a.yaadosquare=13134,a.yabengali=2479,a.yacute=253,a.yadeva=2351,a.yaekorean=12626,a.yagujarati=2735,a.yagurmukhi=2607,a.yahiragana=12420,a.yakatakana=12516,a.yakatakanahalfwidth=65428,a.yakorean=12625,a.yamakkanthai=3662,a.yasmallhiragana=12419,a.yasmallkatakana=12515,a.yasmallkatakanahalfwidth=65388,a.yatcyrillic=1123,a.ycircle=9448,a.ycircumflex=375,a.ydieresis=255,a.ydotaccent=7823,a.ydotbelow=7925,a.yeharabic=1610,a.yehbarreearabic=1746,a.yehbarreefinalarabic=64431,a.yehfinalarabic=65266,a.yehhamzaabovearabic=1574,a.yehhamzaabovefinalarabic=65162,a.yehhamzaaboveinitialarabic=65163,a.yehhamzaabovemedialarabic=65164,a.yehinitialarabic=65267,a.yehmedialarabic=65268,a.yehmeeminitialarabic=64733,a.yehmeemisolatedarabic=64600,a.yehnoonfinalarabic=64660,a.yehthreedotsbelowarabic=1745,a.yekorean=12630,a.yen=165,a.yenmonospace=65509,a.yeokorean=12629,a.yeorinhieuhkorean=12678,a.yerahbenyomohebrew=1450,a.yerahbenyomolefthebrew=1450,a.yericyrillic=1099,a.yerudieresiscyrillic=1273,a.yesieungkorean=12673,a.yesieungpansioskorean=12675,a.yesieungsioskorean=12674,a.yetivhebrew=1434,a.ygrave=7923,a.yhook=436,a.yhookabove=7927,a.yiarmenian=1397,a.yicyrillic=1111,a.yikorean=12642,a.yinyang=9775,a.yiwnarmenian=1410,a.ymonospace=65369,a.yod=1497,a.yoddagesh=64313,a.yoddageshhebrew=64313,a.yodhebrew=1497,a.yodyodhebrew=1522,a.yodyodpatahhebrew=64287,a.yohiragana=12424,a.yoikorean=12681,a.yokatakana=12520,a.yokatakanahalfwidth=65430,a.yokorean=12635,a.yosmallhiragana=12423,a.yosmallkatakana=12519,a.yosmallkatakanahalfwidth=65390,a.yotgreek=1011,a.yoyaekorean=12680,a.yoyakorean=12679,a.yoyakthai=3618,a.yoyingthai=3597,a.yparen=9396,a.ypogegrammeni=890,a.ypogegrammenigreekcmb=837,a.yr=422,a.yring=7833,a.ysuperior=696,a.ytilde=7929,a.yturned=654,a.yuhiragana=12422,a.yuikorean=12684,a.yukatakana=12518,a.yukatakanahalfwidth=65429,a.yukorean=12640,a.yusbigcyrillic=1131,a.yusbigiotifiedcyrillic=1133,a.yuslittlecyrillic=1127,a.yuslittleiotifiedcyrillic=1129,a.yusmallhiragana=12421,a.yusmallkatakana=12517,a.yusmallkatakanahalfwidth=65389,a.yuyekorean=12683,a.yuyeokorean=12682,a.yyabengali=2527,a.yyadeva=2399,a.z=122,a.zaarmenian=1382,a.zacute=378,a.zadeva=2395,a.zagurmukhi=2651,a.zaharabic=1592,a.zahfinalarabic=65222,a.zahinitialarabic=65223,a.zahiragana=12374,a.zahmedialarabic=65224,a.zainarabic=1586,a.zainfinalarabic=65200,a.zakatakana=12470,a.zaqefgadolhebrew=1429,a.zaqefqatanhebrew=1428,a.zarqahebrew=1432,a.zayin=1494,a.zayindagesh=64310,a.zayindageshhebrew=64310,a.zayinhebrew=1494,a.zbopomofo=12567,a.zcaron=382,a.zcircle=9449,a.zcircumflex=7825,a.zcurl=657,a.zdot=380,a.zdotaccent=380,a.zdotbelow=7827,a.zecyrillic=1079,a.zedescendercyrillic=1177,a.zedieresiscyrillic=1247,a.zehiragana=12380,a.zekatakana=12476,a.zero=48,a.zeroarabic=1632,a.zerobengali=2534,a.zerodeva=2406,a.zerogujarati=2790,a.zerogurmukhi=2662,a.zerohackarabic=1632,a.zeroinferior=8320,a.zeromonospace=65296,a.zerooldstyle=63280,a.zeropersian=1776,a.zerosuperior=8304,a.zerothai=3664,a.zerowidthjoiner=65279,a.zerowidthnonjoiner=8204,a.zerowidthspace=8203,a.zeta=950,a.zhbopomofo=12563,a.zhearmenian=1386,a.zhebrevecyrillic=1218,a.zhecyrillic=1078,a.zhedescendercyrillic=1175,a.zhedieresiscyrillic=1245,a.zihiragana=12376,a.zikatakana=12472,a.zinorhebrew=1454,a.zlinebelow=7829,a.zmonospace=65370,a.zohiragana=12382,a.zokatakana=12478,a.zparen=9397,a.zretroflexhook=656,a.zstroke=438,a.zuhiragana=12378,a.zukatakana=12474,a[".notdef"]=0,a.angbracketleftbig=9001,a.angbracketleftBig=9001,a.angbracketleftbigg=9001,a.angbracketleftBigg=9001,a.angbracketrightBig=9002,a.angbracketrightbig=9002,a.angbracketrightBigg=9002,a.angbracketrightbigg=9002,a.arrowhookleft=8618,a.arrowhookright=8617,a.arrowlefttophalf=8636,a.arrowleftbothalf=8637,a.arrownortheast=8599,a.arrownorthwest=8598,a.arrowrighttophalf=8640,a.arrowrightbothalf=8641,a.arrowsoutheast=8600,a.arrowsouthwest=8601,a.backslashbig=8726,a.backslashBig=8726,a.backslashBigg=8726,a.backslashbigg=8726,a.bardbl=8214,a.bracehtipdownleft=65079,a.bracehtipdownright=65079,a.bracehtipupleft=65080,a.bracehtipupright=65080,a.braceleftBig=123,a.braceleftbig=123,a.braceleftbigg=123,a.braceleftBigg=123,a.bracerightBig=125,a.bracerightbig=125,a.bracerightbigg=125,a.bracerightBigg=125,a.bracketleftbig=91,a.bracketleftBig=91,a.bracketleftbigg=91,a.bracketleftBigg=91,a.bracketrightBig=93,a.bracketrightbig=93,a.bracketrightbigg=93,a.bracketrightBigg=93,a.ceilingleftbig=8968,a.ceilingleftBig=8968,a.ceilingleftBigg=8968,a.ceilingleftbigg=8968,a.ceilingrightbig=8969,a.ceilingrightBig=8969,a.ceilingrightbigg=8969,a.ceilingrightBigg=8969,a.circledotdisplay=8857,a.circledottext=8857,a.circlemultiplydisplay=8855,a.circlemultiplytext=8855,a.circleplusdisplay=8853,a.circleplustext=8853,a.contintegraldisplay=8750,a.contintegraltext=8750,a.coproductdisplay=8720,a.coproducttext=8720,a.floorleftBig=8970,a.floorleftbig=8970,a.floorleftbigg=8970,a.floorleftBigg=8970,a.floorrightbig=8971,a.floorrightBig=8971,a.floorrightBigg=8971,a.floorrightbigg=8971,a.hatwide=770,a.hatwider=770,a.hatwidest=770,a.intercal=7488,a.integraldisplay=8747,a.integraltext=8747,a.intersectiondisplay=8898,a.intersectiontext=8898,a.logicalanddisplay=8743,a.logicalandtext=8743,a.logicalordisplay=8744,a.logicalortext=8744,a.parenleftBig=40,a.parenleftbig=40,a.parenleftBigg=40,a.parenleftbigg=40,a.parenrightBig=41,a.parenrightbig=41,a.parenrightBigg=41,a.parenrightbigg=41,a.prime=8242,a.productdisplay=8719,a.producttext=8719,a.radicalbig=8730,a.radicalBig=8730,a.radicalBigg=8730,a.radicalbigg=8730,a.radicalbt=8730,a.radicaltp=8730,a.radicalvertex=8730,a.slashbig=47,a.slashBig=47,a.slashBigg=47,a.slashbigg=47,a.summationdisplay=8721,a.summationtext=8721,a.tildewide=732,a.tildewider=732,a.tildewidest=732,a.uniondisplay=8899,a.unionmultidisplay=8846,a.unionmultitext=8846,a.unionsqdisplay=8852,a.unionsqtext=8852,a.uniontext=8899,a.vextenddouble=8741,a.vextendsingle=8739}),f=d(function(a){a.space=32,a.a1=9985,a.a2=9986,a.a202=9987,a.a3=9988,a.a4=9742,a.a5=9990,a.a119=9991,a.a118=9992,a.a117=9993,a.a11=9755,a.a12=9758,a.a13=9996,a.a14=9997,a.a15=9998,a.a16=9999,a.a105=1e4,a.a17=10001,a.a18=10002,a.a19=10003,a.a20=10004,a.a21=10005,a.a22=10006,a.a23=10007,a.a24=10008,a.a25=10009,a.a26=10010,a.a27=10011,a.a28=10012,a.a6=10013,a.a7=10014,a.a8=10015,a.a9=10016,a.a10=10017,a.a29=10018,a.a30=10019,a.a31=10020,a.a32=10021,a.a33=10022,a.a34=10023,a.a35=9733,a.a36=10025,a.a37=10026,a.a38=10027,a.a39=10028,a.a40=10029,a.a41=10030,a.a42=10031,a.a43=10032,a.a44=10033,a.a45=10034,a.a46=10035,a.a47=10036,a.a48=10037,a.a49=10038,a.a50=10039,a.a51=10040,a.a52=10041,a.a53=10042,a.a54=10043,a.a55=10044,a.a56=10045,a.a57=10046,a.a58=10047,a.a59=10048,a.a60=10049,a.a61=10050,a.a62=10051,a.a63=10052,a.a64=10053,a.a65=10054,a.a66=10055,a.a67=10056,a.a68=10057,a.a69=10058,a.a70=10059,a.a71=9679,a.a72=10061,a.a73=9632,a.a74=10063,a.a203=10064,a.a75=10065,a.a204=10066,a.a76=9650,a.a77=9660,a.a78=9670,a.a79=10070,a.a81=9687,a.a82=10072,a.a83=10073,a.a84=10074,a.a97=10075,a.a98=10076,a.a99=10077,a.a100=10078,a.a101=10081,a.a102=10082,a.a103=10083,a.a104=10084,a.a106=10085,a.a107=10086,a.a108=10087,a.a112=9827,a.a111=9830,a.a110=9829,a.a109=9824,a.a120=9312,a.a121=9313,a.a122=9314,a.a123=9315,a.a124=9316,a.a125=9317,a.a126=9318,a.a127=9319,a.a128=9320,a.a129=9321,a.a130=10102,a.a131=10103,a.a132=10104,a.a133=10105,a.a134=10106,a.a135=10107,a.a136=10108,a.a137=10109,a.a138=10110,a.a139=10111,a.a140=10112,a.a141=10113,a.a142=10114,a.a143=10115,a.a144=10116,a.a145=10117,a.a146=10118,a.a147=10119,a.a148=10120,a.a149=10121,a.a150=10122,a.a151=10123,a.a152=10124,a.a153=10125,a.a154=10126,a.a155=10127,a.a156=10128,a.a157=10129,a.a158=10130,a.a159=10131,a.a160=10132,a.a161=8594,a.a163=8596,a.a164=8597,a.a196=10136,a.a165=10137,a.a192=10138,a.a166=10139,a.a167=10140,a.a168=10141,a.a169=10142,a.a170=10143,a.a171=10144,a.a172=10145,a.a173=10146,a.a162=10147,a.a174=10148,a.a175=10149,a.a176=10150,a.a177=10151,a.a178=10152,a.a179=10153,a.a193=10154,a.a180=10155,a.a199=10156,a.a181=10157,a.a200=10158,a.a182=10159,a.a201=10161,a.a183=10162,a.a184=10163,a.a197=10164,a.a185=10165,a.a194=10166,a.a198=10167,a.a186=10168,a.a195=10169,a.a187=10170,a.a188=10171,a.a189=10172,a.a190=10173,a.a191=10174,a.a89=10088,a.a90=10089,a.a93=10090,a.a94=10091,a.a91=10092,a.a92=10093,a.a205=10094,a.a85=10095,a.a206=10096,a.a86=10097,a.a87=10098,a.a88=10099,a.a95=10100,a.a96=10101,a[".notdef"]=0});b.getGlyphsUnicode=e,b.getDingbatsGlyphsUnicode=f},function(a,b,c){"use strict";a.exports=!c(10)&&!c(11)(function(){return 7!=Object.defineProperty(c(35)("div"),"a",{get:function(){return 7}}).a})},function(a,b,c){"use strict";for(var d,e=c(1),f=c(8),g=c(17),h=g("typed_array"),i=g("view"),j=!(!e.ArrayBuffer||!e.DataView),k=j,l=0,m=9,n="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");m>l;)(d=e[n[l++]])?(f(d.prototype,h,!0),f(d.prototype,i,!0)):k=!1;a.exports={ABV:j,CONSTR:k,TYPED:h,VIEW:i}},function(a,b,c){"use strict";var d=c(18),e=c(14);a.exports=function(a){if(void 0===a)return 0;var b=d(a),c=e(b);if(b!==c)throw RangeError("Wrong length!");return c}},function(a,b,c){"use strict";var d=c(52),e=c(40).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},function(a,b,c){"use strict";var d=c(12),e=c(30),f=c(53)(!1),g=c(39)("IE_PROTO");a.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},function(a,b,c){"use strict";var d=c(30),e=c(14),f=c(31);a.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if(h=i[k++],h!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},function(a,b,c){"use strict";var d=c(6),e=c(1),f="__core-js_shared__",g=e[f]||(e[f]={});(a.exports=function(a,b){return g[a]||(g[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:c(21)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(a,b,c){"use strict";var d=c(19),e=c(31),f=c(14);a.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;return b}},function(a,b,c){"use strict";var d=c(20),e=c(4)("iterator"),f=Array.prototype;a.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},function(a,b,c){"use strict";var d=c(9),e=c(90),f=c(40),g=c(39)("IE_PROTO"),h=function(){},i="prototype",j=function(){var a,b=c(35)("iframe"),d=f.length,e="<",g=">";for(b.style.display="none",c(58).appendChild(b),b.src="javascript:",a=b.contentWindow.document,a.open(),a.write(e+"script"+g+"document.F=Object"+e+"/script"+g),a.close(),j=a.F;d--;)delete j[i][f[d]];return j()};a.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},function(a,b,c){"use strict";var d=c(1).document;a.exports=d&&d.documentElement},function(a,b,c){"use strict";var d=c(12),e=c(19),f=c(39)("IE_PROTO"),g=Object.prototype;a.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},function(a,b,c){"use strict";var d=c(32),e=c(4)("iterator"),f=c(20);a.exports=c(6).getIteratorMethod=function(a){return void 0!=a?a[e]||a["@@iterator"]||f[d(a)]:void 0}},function(a,b,c){"use strict";var d=c(94),e=c(95),f=c(20),g=c(30);a.exports=c(62)(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},function(a,b,c){"use strict";var d=c(21),e=c(7),f=c(16),g=c(8),h=c(20),i=c(96),j=c(26),k=c(59),l=c(4)("iterator"),m=!([].keys&&"next"in[].keys()),n="@@iterator",o="keys",p="values",q=function(){return this};a.exports=function(a,b,c,r,s,t,u){i(c,b,r);var v,w,x,y=function(a){if(!m&&a in C)return C[a];switch(a){case o:return function(){return new c(this,a)};case p:return function(){return new c(this,a)}}return function(){return new c(this,a)}},z=b+" Iterator",A=s==p,B=!1,C=a.prototype,D=C[l]||C[n]||s&&C[s],E=D||y(s),F=s?A?y("entries"):E:void 0,G="Array"==b?C.entries||D:D;if(G&&(x=k(G.call(new a)),x!==Object.prototype&&x.next&&(j(x,z,!0),d||"function"==typeof x[l]||g(x,l,q))),A&&D&&D.name!==p&&(B=!0,E=function(){return D.call(this)}),d&&!u||!m&&!B&&C[l]||g(C,l,E),h[b]=E,h[z]=q,s)if(v={values:A?E:y(p),keys:t?E:y(o),entries:F},u)for(w in v)w in C||f(C,w,v[w]);else e(e.P+e.F*(m||B),b,v);return v}},function(a,b,c){"use strict";var d=c(1),e=c(15),f=c(10),g=c(4)("species");a.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},function(a,b,c){"use strict";var d=c(65),e=c(29),f=c(30),g=c(36),h=c(12),i=c(48),j=Object.getOwnPropertyDescriptor;b.f=c(10)?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(c){}return h(a,b)?e(!d.f.call(a,b),a[b]):void 0}},function(a,b,c){"use strict";b.f={}.propertyIsEnumerable},function(a,b,c){"use strict";var d=c(32),e={};e[c(4)("toStringTag")]="z",e+""!="[object z]"&&c(16)(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},function(a,b,c){"use strict";for(var d=c(61),e=c(41),f=c(16),g=c(1),h=c(8),i=c(20),j=c(4),k=j("iterator"),l=j("toStringTag"),m=i.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},o=e(n),p=0;p<o.length;p++){var q,r=o[p],s=n[r],t=g[r],u=t&&t.prototype;if(u&&(u[k]||h(u,k,m),u[l]||h(u,l,r),i[r]=m,s))for(q in d)u[q]||f(u,q,d[q],!0)}},function(a,b,c){"use strict";var d,e,f,g=c(13),h=c(108),i=c(58),j=c(35),k=c(1),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s="onreadystatechange",t=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},u=function(a){t.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==c(25)(l)?d=function(a){l.nextTick(g(t,a,1))}:p&&p.now?d=function(a){p.now(g(t,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=u,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",u,!1)):d=s in j("script")?function(a){i.appendChild(j("script"))[s]=function(){i.removeChild(this),t.call(a)}}:function(a){setTimeout(g(t,a,1),0)}),a.exports={set:m,clear:n}},function(a,b,c){"use strict";a.exports=function(a){try{return{e:!1,v:a()}}catch(b){return{e:!0,v:b}}}},function(a,b,c){"use strict";var d=c(9),e=c(3),f=c(45);a.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a),g=c.resolve;return g(b),c.promise}},function(a,b,c){"use strict";var d=c(3);a.exports=function(a,b){if(!d(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ChunkedStreamManager=b.ChunkedStream=void 0;var d=c(0),e=function(){function a(a,b,c){this.bytes=new Uint8Array(a),this.start=0,this.pos=0,this.end=a,this.chunkSize=b,this.loadedChunks=[],this.numChunksLoaded=0,this.numChunks=Math.ceil(a/b),this.manager=c,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}return a.prototype={getMissingChunks:function(){for(var a=[],b=0,c=this.numChunks;c>b;++b)this.loadedChunks[b]||a.push(b);return a},getBaseStreams:function(){return[this]},allChunksLoaded:function(){return this.numChunksLoaded===this.numChunks},onReceiveData:function(a,b){var c=a+b.byteLength;if(a%this.chunkSize!==0)throw new Error("Bad begin offset: "+a);var d=this.bytes.length;if(c%this.chunkSize!==0&&c!==d)throw new Error("Bad end offset: "+c);this.bytes.set(new Uint8Array(b),a);var e,f=this.chunkSize,g=Math.floor(a/f),h=Math.floor((c-1)/f)+1;for(e=g;h>e;++e)this.loadedChunks[e]||(this.loadedChunks[e]=!0,++this.numChunksLoaded)},onReceiveProgressiveData:function(a){var b=this.progressiveDataLength,c=Math.floor(b/this.chunkSize);this.bytes.set(new Uint8Array(a),b),b+=a.byteLength,this.progressiveDataLength=b;var d,e=b>=this.end?this.numChunks:Math.floor(b/this.chunkSize);for(d=c;e>d;++d)this.loadedChunks[d]||(this.loadedChunks[d]=!0,++this.numChunksLoaded)},ensureByte:function(a){var b=Math.floor(a/this.chunkSize);if(b!==this.lastSuccessfulEnsureByteChunk){if(!this.loadedChunks[b])throw new d.MissingDataException(a,a+1);this.lastSuccessfulEnsureByteChunk=b}},ensureRange:function(a,b){if(!(a>=b||b<=this.progressiveDataLength))for(var c=this.chunkSize,e=Math.floor(a/c),f=Math.floor((b-1)/c)+1,g=e;f>g;++g)if(!this.loadedChunks[g])throw new d.MissingDataException(a,b)},nextEmptyChunk:function(a){for(var b,c=this.numChunks,d=0;c>d;++d)if(b=(a+d)%c,!this.loadedChunks[b])return b;return null},hasChunk:function(a){return!!this.loadedChunks[a]},get length(){return this.end-this.start},get isEmpty(){return 0===this.length},getByte:function(){var a=this.pos;return a>=this.end?-1:(this.ensureByte(a),this.bytes[this.pos++])},getUint16:function(){var a=this.getByte(),b=this.getByte();return-1===a||-1===b?-1:(a<<8)+b},getInt32:function(){var a=this.getByte(),b=this.getByte(),c=this.getByte(),d=this.getByte();return(a<<24)+(b<<16)+(c<<8)+d},getBytes:function(a){var b=this.bytes,c=this.pos,d=this.end;if(!a)return this.ensureRange(c,d),b.subarray(c,d);var e=c+a;return e>d&&(e=d),this.ensureRange(c,e),this.pos=e,b.subarray(c,e)},peekByte:function(){var a=this.getByte();return this.pos--,a},peekBytes:function(a){var b=this.getBytes(a);return this.pos-=b.length,b},getByteRange:function(a,b){return this.ensureRange(a,b),this.bytes.subarray(a,b)},skip:function(a){a||(a=1),this.pos+=a},reset:function(){this.pos=this.start},moveStart:function(){this.start=this.pos},makeSubStream:function(a,b,c){function d(){}this.ensureRange(a,a+b),d.prototype=Object.create(this),d.prototype.getMissingChunks=function(){for(var a=this.chunkSize,b=Math.floor(this.start/a),c=Math.floor((this.end-1)/a)+1,d=[],e=b;c>e;++e)this.loadedChunks[e]||d.push(e);return d};var e=new d;return e.pos=e.start=a,e.end=a+b||this.end,e.dict=c,e}},a}(),f=function(){function a(a,b){var c=b.rangeChunkSize,f=b.length;this.stream=new e(f,c,this),this.length=f,this.chunkSize=c,this.pdfNetworkStream=a,this.url=b.url,this.disableAutoFetch=b.disableAutoFetch,this.msgHandler=b.msgHandler,this.currRequestId=0,this.chunksNeededByRequest=Object.create(null),this.requestsByChunk=Object.create(null),this.promisesByRequest=Object.create(null),this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=d.createPromiseCapability()}return a.prototype={onLoadedStream:function(){return this._loadedStreamCapability.promise},sendRequest:function(a,b){var c=this,e=this.pdfNetworkStream.getRangeReader(a,b);e.isStreamingSupported||(e.onProgress=this.onProgress.bind(this));var f=[],g=0,h=this,i=new Promise(function(a,b){var c=function i(c){try{if(!c.done){var j=c.value;return f.push(j),g+=d.arrayByteLength(j),e.isStreamingSupported&&h.onProgress({loaded:g}),void e.read().then(i,b)}var k=d.arraysToBytes(f);f=null,a(k)}catch(l){b(l)}};e.read().then(c,b)});i.then(function(b){c.aborted||c.onReceiveData({chunk:b,begin:a})})},requestAllChunks:function(){var a=this.stream.getMissingChunks();return this._requestChunks(a),this._loadedStreamCapability.promise},_requestChunks:function(a){var b,c,e=this.currRequestId++,f=Object.create(null);for(this.chunksNeededByRequest[e]=f,b=0,c=a.length;c>b;b++)this.stream.hasChunk(a[b])||(f[a[b]]=!0);if(d.isEmptyObj(f))return Promise.resolve();var g=d.createPromiseCapability();this.promisesByRequest[e]=g;var h=[];for(var i in f)i=0|i,i in this.requestsByChunk||(this.requestsByChunk[i]=[],h.push(i)),this.requestsByChunk[i].push(e);if(!h.length)return g.promise;var j=this.groupChunks(h);for(b=0;b<j.length;++b){var k=j[b],l=k.beginChunk*this.chunkSize,m=Math.min(k.endChunk*this.chunkSize,this.length);this.sendRequest(l,m)}return g.promise},getStream:function(){return this.stream},requestRange:function(a,b){b=Math.min(b,this.length);for(var c=this.getBeginChunk(a),d=this.getEndChunk(b),e=[],f=c;d>f;++f)e.push(f);return this._requestChunks(e)},requestRanges:function(a){a=a||[];for(var b=[],c=0;c<a.length;c++)for(var d=this.getBeginChunk(a[c].begin),e=this.getEndChunk(a[c].end),f=d;e>f;++f)b.indexOf(f)<0&&b.push(f);return b.sort(function(a,b){return a-b}),this._requestChunks(b)},groupChunks:function(a){for(var b=[],c=-1,d=-1,e=0;e<a.length;++e){var f=a[e];0>c&&(c=f),d>=0&&d+1!==f&&(b.push({beginChunk:c,endChunk:d+1}),c=f),e+1===a.length&&b.push({beginChunk:c,endChunk:f+1}),d=f}return b},onProgress:function(a){var b=this.stream.numChunksLoaded*this.chunkSize+a.loaded;this.msgHandler.send("DocProgress",{loaded:b,total:this.length})},onReceiveData:function(a){var b=a.chunk,c=void 0===a.begin,e=c?this.progressiveDataLength:a.begin,f=e+b.byteLength,g=Math.floor(e/this.chunkSize),h=f<this.length?Math.floor(f/this.chunkSize):Math.ceil(f/this.chunkSize);c?(this.stream.onReceiveProgressiveData(b),this.progressiveDataLength=f):this.stream.onReceiveData(e,b),this.stream.allChunksLoaded()&&this._loadedStreamCapability.resolve(this.stream);var i,j,k=[];for(b=g;h>b;++b){var l=this.requestsByChunk[b]||[];for(delete this.requestsByChunk[b],i=0;i<l.length;++i){j=l[i];var m=this.chunksNeededByRequest[j];b in m&&delete m[b],d.isEmptyObj(m)&&k.push(j)}}if(!this.disableAutoFetch&&d.isEmptyObj(this.requestsByChunk)){var n;if(1===this.stream.numChunksLoaded){var o=this.stream.numChunks-1;this.stream.hasChunk(o)||(n=o)}else n=this.stream.nextEmptyChunk(h);Number.isInteger(n)&&this._requestChunks([n])}for(i=0;i<k.length;++i){j=k[i];var p=this.promisesByRequest[j];delete this.promisesByRequest[j],p.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})},onError:function(a){this._loadedStreamCapability.reject(a)},getBeginChunk:function(a){var b=Math.floor(a/this.chunkSize);return b},getEndChunk:function(a){var b=Math.floor((a-1)/this.chunkSize)+1;return b},abort:function(){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests("abort");for(var a in this.promisesByRequest){var b=this.promisesByRequest[a];b.reject(new Error("Request was aborted"))}}},a}();b.ChunkedStream=e,b.ChunkedStreamManager=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FileSpec=b.XRef=b.ObjectLoader=b.Catalog=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=c(0),g=c(2),h=c(34),i=c(72),j=c(76),k=c(27),l=function(){function a(a,b,c){if(this.pdfManager=a,this.xref=b,this.catDict=b.getCatalogObj(),!g.isDict(this.catDict))throw new f.FormatError("catalog object is not a dictionary");this.fontCache=new g.RefSetCache,this.builtInCMapCache=Object.create(null),this.pageKidsCountCache=new g.RefSetCache,this.pageFactory=c,this.pagePromises=[]}return a.prototype={get metadata(){var a=this.catDict.getRaw("Metadata");if(!g.isRef(a))return f.shadow(this,"metadata",null);var b,c=this.xref.encrypt?this.xref.encrypt.encryptMetadata:!1,d=this.xref.fetch(a,!c);if(d&&g.isDict(d.dict)){var e=d.dict.get("Type"),h=d.dict.get("Subtype");if(g.isName(e,"Metadata")&&g.isName(h,"XML"))try{b=f.stringToUTF8String(f.bytesToString(d.getBytes()))}catch(i){if(i instanceof f.MissingDataException)throw i;f.info("Skipping invalid metadata.")}}return f.shadow(this,"metadata",b)},get toplevelPagesDict(){var a=this.catDict.get("Pages");if(!g.isDict(a))throw new f.FormatError("invalid top-level pages dictionary");return f.shadow(this,"toplevelPagesDict",a)},get documentOutline(){var a=null;try{a=this.readDocumentOutline()}catch(b){if(b instanceof f.MissingDataException)throw b;f.warn("Unable to read document outline")}return f.shadow(this,"documentOutline",a)},readDocumentOutline:function(){var b=this.catDict.get("Outlines");if(!g.isDict(b))return null;if(b=b.getRaw("First"),!g.isRef(b))return null;var c={items:[]},d=[{obj:b,parent:c}],e=new g.RefSet;e.put(b);for(var h=this.xref,i=new Uint8Array(3);d.length>0;){var j=d.shift(),l=h.fetchIfRef(j.obj);if(null!==l){if(!l.has("Title"))throw new f.FormatError("Invalid outline item");var m={url:null,dest:null};a.parseDestDictionary({destDict:l,resultObj:m,docBaseUrl:this.pdfManager.docBaseUrl});var n=l.get("Title"),o=l.get("F")||0,p=l.getArray("C"),q=i;!Array.isArray(p)||3!==p.length||0===p[0]&&0===p[1]&&0===p[2]||(q=k.ColorSpace.singletons.rgb.getRgb(p,0));var r={dest:m.dest,url:m.url,unsafeUrl:m.unsafeUrl,newWindow:m.newWindow,title:f.stringToPDFString(n),color:q,count:l.get("Count"),bold:!!(2&o),italic:!!(1&o),items:[]};j.parent.items.push(r),b=l.getRaw("First"),g.isRef(b)&&!e.has(b)&&(d.push({obj:b,parent:r}),e.put(b)),b=l.getRaw("Next"),g.isRef(b)&&!e.has(b)&&(d.push({obj:b,parent:j.parent}),e.put(b))}}return c.items.length>0?c.items:null},get numPages(){var a=this.toplevelPagesDict.get("Count");if(!Number.isInteger(a))throw new f.FormatError("page count in top level pages object is not an integer");return f.shadow(this,"numPages",a)},get destinations(){function a(a){return g.isDict(a)?a.get("D"):a}var b,c,d=this.xref,e={},h=this.catDict.get("Names");if(h&&h.has("Dests")?b=h.getRaw("Dests"):this.catDict.has("Dests")&&(c=this.catDict.get("Dests")),c&&(h=c,h.forEach(function(b,c){c&&(e[b]=a(c))})),b){var i=new o(b,d),j=i.getAll();for(var k in j)e[k]=a(j[k])}return f.shadow(this,"destinations",e)},getDestination:function(a){function b(a){return g.isDict(a)?a.get("D"):a}var c,d,e=this.xref,f=null,h=this.catDict.get("Names");if(h&&h.has("Dests")?c=h.getRaw("Dests"):this.catDict.has("Dests")&&(d=this.catDict.get("Dests")),d){var i=d.get(a);i&&(f=b(i))}if(c){var j=new o(c,e);f=b(j.get(a))}return f},get pageLabels(){var a=null;try{a=this.readPageLabels()}catch(b){if(b instanceof f.MissingDataException)throw b;f.warn("Unable to read page labels.")}return f.shadow(this,"pageLabels",a)},readPageLabels:function(){var a=this.catDict.getRaw("PageLabels");if(!a)return null;for(var b=new Array(this.numPages),c=null,d="",e=new p(a,this.xref),h=e.getAll(),i="",j=1,k=0,l=this.numPages;l>k;k++){if(k in h){var m=h[k];if(!g.isDict(m))throw new f.FormatError("The PageLabel is not a dictionary.");var n=m.get("Type");if(n&&!g.isName(n,"PageLabel"))throw new f.FormatError("Invalid type in PageLabel dictionary.");var o=m.get("S");if(o&&!g.isName(o))throw new f.FormatError("Invalid style in PageLabel dictionary.");c=o?o.name:null;var q=m.get("P");if(q&&!f.isString(q))throw new f.FormatError("Invalid prefix in PageLabel dictionary.");d=q?f.stringToPDFString(q):"";var r=m.get("St");if(r&&!(Number.isInteger(r)&&r>=1))throw new f.FormatError("Invalid start in PageLabel dictionary.");j=r||1}switch(c){case"D":i=j;break;case"R":case"r":i=f.Util.toRoman(j,"r"===c);break;case"A":case"a":for(var s=26,t=65,u=97,v="a"===c?u:t,w=j-1,x=String.fromCharCode(v+w%s),y=[],z=0,A=w/s|0;A>=z;z++)y.push(x);i=y.join("");break;default:if(c)throw new f.FormatError('Invalid style "'+c+'" in PageLabel dictionary.')}b[k]=d+i,i="",j++}return b},get pageMode(){var a=this.catDict.get("PageMode"),b="UseNone";if(g.isName(a))switch(a.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":b=a.name}return f.shadow(this,"pageMode",b)},get attachments(){var a,b=this.xref,c=null,d=this.catDict.get("Names");if(d&&(a=d.getRaw("EmbeddedFiles")),a){var e=new o(a,b),g=e.getAll();for(var h in g){var i=new q(g[h],b);c||(c=Object.create(null)),c[f.stringToPDFString(h)]=i.serializable}}return f.shadow(this,"attachments",c)},get javaScript(){function a(a){var b=a.get("S");if(g.isName(b,"JavaScript")){var c=a.get("JS");if(g.isStream(c))c=f.bytesToString(c.getBytes());else if(!f.isString(c))return;d.push(f.stringToPDFString(c))}}var b=this.xref,c=this.catDict.get("Names"),d=[];if(c&&c.has("JavaScript")){var e=new o(c.getRaw("JavaScript"),b),h=e.getAll();for(var i in h){var j=h[i];g.isDict(j)&&a(j)}}var k=this.catDict.get("OpenAction");if(g.isDict(k,"Action")){var l=k.get("S");if(g.isName(l,"Named")){var m=k.get("N");g.isName(m,"Print")&&d.push("print({});")}else a(k)}return f.shadow(this,"javaScript",d)},cleanup:function(){var a=this;this.pageKidsCountCache.clear();var b=[];return this.fontCache.forEach(function(a){b.push(a)}),Promise.all(b).then(function(b){for(var c=0,d=b.length;d>c;c++){var e=b[c].dict;delete e.translated}a.fontCache.clear(),a.builtInCMapCache=Object.create(null)})},getPage:function(a){var b=this;return a in this.pagePromises||(this.pagePromises[a]=this.getPageDict(a).then(function(c){var d=e(c,2),f=d[0],g=d[1];return b.pageFactory.createPage(a,f,g,b.fontCache,b.builtInCMapCache)})),this.pagePromises[a]},getPageDict:function(a){function b(){for(;e.length;){var k=e.pop();if(g.isRef(k)){if(c=j.get(k),c>0&&a>h+c){h+=c;continue}return void i.fetchAsync(k).then(function(c){return g.isDict(c,"Page")||g.isDict(c)&&!c.has("Kids")?void(a===h?(k&&!j.has(k)&&j.put(k,1),d.resolve([c,k])):(h++,b())):(e.push(c),void b())},d.reject)}if(!g.isDict(k))return void d.reject(new f.FormatError("page dictionary kid reference points to wrong type of object"));c=k.get("Count");var l=k.objId;if(l&&!j.has(l)&&j.put(l,c),a>=h+c)h+=c;else{var m=k.get("Kids");if(!Array.isArray(m))return void d.reject(new f.FormatError("page dictionary kids object is not an array"));for(var n=m.length-1;n>=0;n--)e.push(m[n])}}d.reject(new Error("Page index "+a+" not found."))}var c,d=f.createPromiseCapability(),e=[this.catDict.getRaw("Pages")],h=0,i=this.xref,j=this.pageKidsCountCache;return b(),d.promise},getPageIndex:function(a){function b(b){var c,e=0;
return d.fetchAsync(b).then(function(d){if(g.isRefsEqual(b,a)&&!g.isDict(d,"Page")&&(!g.isDict(d)||d.has("Type")||!d.has("Contents")))throw new f.FormatError("The reference does not point to a /Page Dict.");if(!d)return null;if(!g.isDict(d))throw new f.FormatError("node must be a Dict.");return c=d.getRaw("Parent"),d.getAsync("Parent")}).then(function(a){if(!a)return null;if(!g.isDict(a))throw new f.FormatError("parent must be a Dict.");return a.getAsync("Kids")}).then(function(a){if(!a)return null;for(var h=[],i=!1,j=0;j<a.length;j++){var k=a[j];if(!g.isRef(k))throw new f.FormatError("kid must be a Ref.");if(k.num===b.num){i=!0;break}h.push(d.fetchAsync(k).then(function(a){if(a.has("Count")){var b=a.get("Count");e+=b}else e++}))}if(!i)throw new f.FormatError("kid ref not found in parents kids");return Promise.all(h).then(function(){return[e,c]})})}function c(a){return b(a).then(function(a){if(!a)return e;var b=a[0],d=a[1];return e+=b,c(d)})}var d=this.xref,e=0;return c(a)}},a.parseDestDictionary=function(a){function b(a){return 0===a.indexOf("www.")?"http://"+a:a}function c(a){try{return f.stringToUTF8String(a)}catch(b){return a}}var e=a.destDict;if(!g.isDict(e))return void f.warn('parseDestDictionary: "destDict" must be a dictionary.');var h=a.resultObj;if("object"!==("undefined"==typeof h?"undefined":d(h)))return void f.warn('parseDestDictionary: "resultObj" must be an object.');var i,j,k=a.docBaseUrl||null,l=e.get("A");if(!g.isDict(l)&&e.has("Dest")&&(l=e.get("Dest")),g.isDict(l)){var m=l.get("S");if(!g.isName(m))return void f.warn("parseDestDictionary: Invalid type in Action dictionary.");var n=m.name;switch(n){case"URI":i=l.get("URI"),g.isName(i)?i="/"+i.name:f.isString(i)&&(i=b(i));break;case"GoTo":j=l.get("D");break;case"Launch":case"GoToR":var o=l.get("F");g.isDict(o)?i=o.get("F")||null:f.isString(o)&&(i=o);var p=l.get("D");if(p&&(g.isName(p)&&(p=p.name),f.isString(i))){var q=i.split("#")[0];f.isString(p)?i=q+"#"+p:Array.isArray(p)&&(i=q+"#"+JSON.stringify(p))}var r=l.get("NewWindow");f.isBool(r)&&(h.newWindow=r);break;case"Named":var s=l.get("N");g.isName(s)&&(h.action=s.name);break;case"JavaScript":var t,u=l.get("JS");if(g.isStream(u)?t=f.bytesToString(u.getBytes()):f.isString(u)&&(t=u),t){var v=["app.launchURL","window.open"],w=new RegExp("^\\s*("+v.join("|").split(".").join("\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i"),x=w.exec(f.stringToPDFString(t));if(x&&x[2]){i=x[2],"true"===x[3]&&"app.launchURL"===x[1]&&(h.newWindow=!0);break}}default:f.warn('parseDestDictionary: Unsupported Action type "'+n+'".')}}else e.has("Dest")&&(j=e.get("Dest"));if(f.isString(i)){i=c(i);var y=f.createValidAbsoluteUrl(i,k);y&&(h.url=y.href),h.unsafeUrl=i}j&&(g.isName(j)&&(j=j.name),(f.isString(j)||Array.isArray(j))&&(h.dest=j))},a}(),m=function(){function a(a,b){this.stream=a,this.pdfManager=b,this.entries=[],this.xrefstms=Object.create(null),this.cache=[],this.stats={streamTypes:[],fontTypes:[]}}return a.prototype={setStartXRef:function(a){this.startXRefQueue=[a]},parse:function(a){var b;a?(f.warn("Indexing all PDF objects"),b=this.indexObjects()):b=this.readXRef(),b.assignXref(this),this.trailer=b;var c=b.get("Encrypt");if(g.isDict(c)){var d=b.get("ID"),e=d&&d.length?d[0]:"";c.suppressEncryption=!0,this.encrypt=new j.CipherTransformFactory(c,e,this.pdfManager.password)}if(!(this.root=b.get("Root")))throw new f.FormatError("Invalid root reference")},processXRefTable:function(a){"tableState"in this||(this.tableState={entryNum:0,streamPos:a.lexer.stream.pos,parserBuf1:a.buf1,parserBuf2:a.buf2});var b=this.readXRefTable(a);if(!g.isCmd(b,"trailer"))throw new f.FormatError("Invalid XRef table: could not find trailer dictionary");var c=a.getObj();if(!g.isDict(c)&&c.dict&&(c=c.dict),!g.isDict(c))throw new f.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,c},readXRefTable:function(a){var b=a.lexer.stream,c=this.tableState;b.pos=c.streamPos,a.buf1=c.parserBuf1,a.buf2=c.parserBuf2;for(var d;;){if(!("firstEntryNum"in c&&"entryCount"in c)){if(g.isCmd(d=a.getObj(),"trailer"))break;c.firstEntryNum=d,c.entryCount=a.getObj()}var e=c.firstEntryNum,h=c.entryCount;if(!Number.isInteger(e)||!Number.isInteger(h))throw new f.FormatError("Invalid XRef table: wrong types in subsection header");for(var i=c.entryNum;h>i;i++){c.streamPos=b.pos,c.entryNum=i,c.parserBuf1=a.buf1,c.parserBuf2=a.buf2;var j={};j.offset=a.getObj(),j.gen=a.getObj();var k=a.getObj();if(g.isCmd(k,"f")?j.free=!0:g.isCmd(k,"n")&&(j.uncompressed=!0),!Number.isInteger(j.offset)||!Number.isInteger(j.gen)||!j.free&&!j.uncompressed)throw new f.FormatError("Invalid entry in XRef subsection: "+e+", "+h);0===i&&j.free&&1===e&&(e=0),this.entries[i+e]||(this.entries[i+e]=j)}c.entryNum=0,c.streamPos=b.pos,c.parserBuf1=a.buf1,c.parserBuf2=a.buf2,delete c.firstEntryNum,delete c.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new f.FormatError("Invalid XRef table: unexpected first object");return d},processXRefStream:function(a){if(!("streamState"in this)){var b=a.dict,c=b.get("W"),d=b.get("Index");d||(d=[0,b.get("Size")]),this.streamState={entryRanges:d,byteWidths:c,entryNum:0,streamPos:a.pos}}return this.readXRefStream(a),delete this.streamState,a.dict},readXRefStream:function(a){var b,c,d=this.streamState;a.pos=d.streamPos;for(var e=d.byteWidths,g=e[0],h=e[1],i=e[2],j=d.entryRanges;j.length>0;){var k=j[0],l=j[1];if(!Number.isInteger(k)||!Number.isInteger(l))throw new f.FormatError("Invalid XRef range fields: "+k+", "+l);if(!Number.isInteger(g)||!Number.isInteger(h)||!Number.isInteger(i))throw new f.FormatError("Invalid XRef entry fields length: "+k+", "+l);for(b=d.entryNum;l>b;++b){d.entryNum=b,d.streamPos=a.pos;var m=0,n=0,o=0;for(c=0;g>c;++c)m=m<<8|a.getByte();for(0===g&&(m=1),c=0;h>c;++c)n=n<<8|a.getByte();for(c=0;i>c;++c)o=o<<8|a.getByte();var p={};switch(p.offset=n,p.gen=o,m){case 0:p.free=!0;break;case 1:p.uncompressed=!0;break;case 2:break;default:throw new f.FormatError("Invalid XRef entry type: "+m)}this.entries[k+b]||(this.entries[k+b]=p)}d.entryNum=0,d.streamPos=a.pos,j.splice(0,2)}},indexObjects:function(){function a(a,b){for(var c="",f=a[b];f!==d&&f!==e&&f!==k&&!(++b>=a.length);)c+=String.fromCharCode(f),f=a[b];return c}function b(a,b,c){for(var d=c.length,e=a.length,f=0;e>b;){for(var g=0;d>g&&a[b+g]===c[g];)++g;if(g>=d)break;b++,f++}return f}var c=9,d=10,e=13,i=32,j=37,k=60,l=/^(\d+)\s+(\d+)\s+obj\b/,m=new Uint8Array([116,114,97,105,108,101,114]),n=new Uint8Array([115,116,97,114,116,120,114,101,102]),o=new Uint8Array([101,110,100,111,98,106]),p=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var q=this.stream;q.pos=0;for(var r=q.getBytes(),s=q.start,t=r.length,u=[],v=[];t>s;){var w=r[s];if(w!==c&&w!==d&&w!==e&&w!==i)if(w!==j){var x,y=a(r,s);if(0!==y.indexOf("xref")||4!==y.length&&!/\s/.test(y[4]))if(x=l.exec(y)){"undefined"==typeof this.entries[x[1]]&&(this.entries[x[1]]={offset:s-q.start,gen:0|x[2],uncompressed:!0});var z=b(r,s,o)+7,A=r.subarray(s,s+z),B=b(A,0,p);z>B&&A[B+5]<64&&(v.push(s-q.start),this.xrefstms[s-q.start]=1),s+=z}else 0!==y.indexOf("trailer")||7!==y.length&&!/\s/.test(y[7])?s+=y.length+1:(u.push(s),s+=b(r,s,n));else s+=b(r,s,m),u.push(s),s+=b(r,s,n)}else do{if(++s,s>=t)break;w=r[s]}while(w!==d&&w!==e);else++s}var C,D;for(C=0,D=v.length;D>C;++C)this.startXRefQueue.push(v[C]),this.readXRef(!0);var E;for(C=0,D=u.length;D>C;++C){q.pos=u[C];var F=new h.Parser(new h.Lexer(q),!0,this,!0),G=F.getObj();if(g.isCmd(G,"trailer")&&(E=F.getObj(),g.isDict(E)&&E.has("ID")))return E}if(E)return E;throw new f.InvalidPDFException("Invalid PDF structure")},readXRef:function(a){var b=this.stream,c=Object.create(null);try{for(;this.startXRefQueue.length;){var d=this.startXRefQueue[0];if(c[d])f.warn("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();else{c[d]=!0,b.pos=d+b.start;var e,i=new h.Parser(new h.Lexer(b),!0,this),j=i.getObj();if(g.isCmd(j,"xref")){if(e=this.processXRefTable(i),this.topDict||(this.topDict=e),j=e.get("XRefStm"),Number.isInteger(j)){var k=j;k in this.xrefstms||(this.xrefstms[k]=1,this.startXRefQueue.push(k))}}else{if(!Number.isInteger(j))throw new f.FormatError("Invalid XRef stream header");if(!Number.isInteger(i.getObj())||!g.isCmd(i.getObj(),"obj")||!g.isStream(j=i.getObj()))throw new f.FormatError("Invalid XRef stream");if(e=this.processXRefStream(j),this.topDict||(this.topDict=e),!e)throw new f.FormatError("Failed to read XRef stream")}j=e.get("Prev"),Number.isInteger(j)?this.startXRefQueue.push(j):g.isRef(j)&&this.startXRefQueue.push(j.num),this.startXRefQueue.shift()}}return this.topDict}catch(l){if(l instanceof f.MissingDataException)throw l;f.info("(while reading XRef): "+l)}if(!a)throw new f.XRefParseException},getEntry:function(a){var b=this.entries[a];return b&&!b.free&&b.offset?b:null},fetchIfRef:function(a,b){return g.isRef(a)?this.fetch(a,b):a},fetch:function(a,b){if(!g.isRef(a))throw new Error("ref object is not a reference");var c=a.num;if(c in this.cache){var d=this.cache[c];return d instanceof g.Dict&&!d.objId&&(d.objId=a.toString()),d}var e=this.getEntry(c);return null===e?this.cache[c]=null:(e=e.uncompressed?this.fetchUncompressed(a,e,b):this.fetchCompressed(e,b),g.isDict(e)?e.objId=a.toString():g.isStream(e)&&(e.dict.objId=a.toString()),e)},fetchUncompressed:function(a,b,c){var d=a.gen,e=a.num;if(b.gen!==d)throw new f.FormatError("inconsistent generation in XRef");var i=this.stream.makeSubStream(b.offset+this.stream.start),j=new h.Parser(new h.Lexer(i),!0,this),k=j.getObj(),l=j.getObj(),m=j.getObj();if(Number.isInteger(k)||(k=parseInt(k,10)),Number.isInteger(l)||(l=parseInt(l,10)),k!==e||l!==d||!g.isCmd(m))throw new f.FormatError("bad XRef entry");if("obj"!==m.cmd){if(0===m.cmd.indexOf("obj")&&(e=parseInt(m.cmd.substring(3),10),!Number.isNaN(e)))return e;throw new f.FormatError("bad XRef entry")}return b=this.encrypt&&!c?j.getObj(this.encrypt.createCipherTransform(e,d)):j.getObj(),g.isStream(b)||(this.cache[e]=b),b},fetchCompressed:function(a,b){var c=a.offset,d=this.fetch(new g.Ref(c,0));if(!g.isStream(d))throw new f.FormatError("bad ObjStm stream");var e=d.dict.get("First"),i=d.dict.get("N");if(!Number.isInteger(e)||!Number.isInteger(i))throw new f.FormatError("invalid first and n parameters for ObjStm stream");var j=new h.Parser(new h.Lexer(d),!1,this);j.allowStreams=!0;var k,l,m=[],n=[];for(k=0;i>k;++k){if(l=j.getObj(),!Number.isInteger(l))throw new f.FormatError("invalid object number in the ObjStm stream: "+l);n.push(l);var o=j.getObj();if(!Number.isInteger(o))throw new f.FormatError("invalid object offset in the ObjStm stream: "+o)}for(k=0;i>k;++k){m.push(j.getObj()),g.isCmd(j.buf1,"endobj")&&j.shift(),l=n[k];var p=this.entries[l];p&&p.offset===c&&p.gen===k&&(this.cache[l]=m[k])}if(a=m[a.gen],void 0===a)throw new f.FormatError("bad XRef entry for compressed object");return a},fetchIfRefAsync:function(a,b){return g.isRef(a)?this.fetchAsync(a,b):Promise.resolve(a)},fetchAsync:function(a,b){var c=this.stream.manager,d=this;return new Promise(function e(g,h){try{g(d.fetch(a,b))}catch(i){if(i instanceof f.MissingDataException)return void c.requestRange(i.begin,i.end).then(function(){e(g,h)},h);h(i)}})},getCatalogObj:function(){return this.root}},a}(),n=function(){function a(a,b){throw new Error("Cannot initialize NameOrNumberTree.")}return a.prototype={getAll:function(){var a=Object.create(null);if(!this.root)return a;var b=this.xref,c=new g.RefSet;c.put(this.root);for(var d=[this.root];d.length>0;){var e,h,i=b.fetchIfRef(d.shift());if(g.isDict(i))if(i.has("Kids")){var j=i.get("Kids");for(e=0,h=j.length;h>e;e++){var k=j[e];if(c.has(k))throw new f.FormatError('Duplicate entry in "'+this._type+'" tree.');d.push(k),c.put(k)}}else{var l=i.get(this._type);if(Array.isArray(l))for(e=0,h=l.length;h>e;e+=2)a[b.fetchIfRef(l[e])]=b.fetchIfRef(l[e+1])}}return a},get:function(a){if(!this.root)return null;for(var b,c,d,e=this.xref,g=e.fetchIfRef(this.root),h=0,i=10;g.has("Kids");){if(++h>i)return f.warn('Search depth limit reached for "'+this._type+'" tree.'),null;var j=g.get("Kids");if(!Array.isArray(j))return null;for(b=0,c=j.length-1;c>=b;){d=b+c>>1;var k=e.fetchIfRef(j[d]),l=k.get("Limits");if(a<e.fetchIfRef(l[0]))c=d-1;else{if(!(a>e.fetchIfRef(l[1]))){g=e.fetchIfRef(j[d]);break}b=d+1}}if(b>c)return null}var m=g.get(this._type);if(Array.isArray(m))for(b=0,c=m.length-2;c>=b;){d=b+c&-2;var n=e.fetchIfRef(m[d]);if(n>a)c=d-2;else{if(!(a>n))return e.fetchIfRef(m[d+1]);b=d+2}}return null}},a}(),o=function(){function a(a,b){this.root=a,this.xref=b,this._type="Names"}return f.Util.inherit(a,n,{}),a}(),p=function(){function a(a,b){this.root=a,this.xref=b,this._type="Nums"}return f.Util.inherit(a,n,{}),a}(),q=function(){function a(a,b){a&&g.isDict(a)&&(this.xref=b,this.root=a,a.has("FS")&&(this.fs=a.get("FS")),this.description=a.has("Desc")?f.stringToPDFString(a.get("Desc")):"",a.has("RF")&&f.warn("Related file specifications are not supported"),this.contentAvailable=!0,a.has("EF")||(this.contentAvailable=!1,f.warn("Non-embedded file specifications are not supported")))}function b(a){return a.has("UF")?a.get("UF"):a.has("F")?a.get("F"):a.has("Unix")?a.get("Unix"):a.has("Mac")?a.get("Mac"):a.has("DOS")?a.get("DOS"):null}return a.prototype={get filename(){if(!this._filename&&this.root){var a=b(this.root)||"unnamed";this._filename=f.stringToPDFString(a).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename},get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=b(this.root.get("EF")));var a=null;if(this.contentRef){var c=this.xref,d=c.fetchIfRef(this.contentRef);d&&g.isStream(d)?a=d.getBytes():f.warn("Embedded file specification points to non-existing/invalid content")}else f.warn("Embedded file specification does not have a content");return a},get serializable(){return{filename:this.filename,content:this.content}}},a}(),r=function(){function a(a){return g.isRef(a)||g.isDict(a)||Array.isArray(a)||g.isStream(a)}function b(b,c){if(g.isDict(b)||g.isStream(b))for(var d=g.isDict(b)?b:b.dict,e=d.getKeys(),f=0,h=e.length;h>f;f++){var i=d.getRaw(e[f]);a(i)&&c.push(i)}else if(Array.isArray(b))for(var j=0,k=b.length;k>j;j++){var l=b[j];a(l)&&c.push(l)}}function c(a,b,c){this.dict=a,this.keys=b,this.xref=c,this.refSet=null,this.capability=null}return c.prototype={load:function(){if(this.capability=f.createPromiseCapability(),!(this.xref.stream instanceof i.ChunkedStream)||0===this.xref.stream.getMissingChunks().length)return this.capability.resolve(),this.capability.promise;var a=this.keys,b=this.dict;this.refSet=new g.RefSet;for(var c=[],d=0,e=a.length;e>d;d++){var h=b.getRaw(a[d]);void 0!==h&&c.push(h)}return this._walk(c),this.capability.promise},_walk:function(a){for(var c=this,d=[],e=[];a.length;){var h=a.pop();if(g.isRef(h)){if(this.refSet.has(h))continue;try{this.refSet.put(h),h=this.xref.fetch(h)}catch(i){if(!(i instanceof f.MissingDataException))throw i;d.push(h),e.push({begin:i.begin,end:i.end})}}if(h&&h.getBaseStreams){for(var j=h.getBaseStreams(),k=!1,l=0,m=j.length;m>l;l++){var n=j[l];n.getMissingChunks&&n.getMissingChunks().length&&(k=!0,e.push({begin:n.start,end:n.end}))}k&&d.push(h)}b(h,a)}return e.length?void this.xref.stream.manager.requestRanges(e).then(function(){for(var a=0,b=d.length;b>a;a++){var e=d[a];g.isRef(e)&&c.refSet.remove(e)}c._walk(d)},this.capability.reject):(this.refSet=null,void this.capability.resolve())}},c}();b.Catalog=l,b.ObjectLoader=r,b.XRef=m,b.FileSpec=q},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JpxImage=void 0;var d=c(0),e=c(75),f=function(){function a(a){this.message="JPX error: "+a}return a.prototype=new Error,a.prototype.name="JpxError",a.constructor=a,a}(),g=function(){function a(){this.failOnCorruptedImage=!1}function b(a,b){a.x0=Math.ceil(b.XOsiz/a.XRsiz),a.x1=Math.ceil(b.Xsiz/a.XRsiz),a.y0=Math.ceil(b.YOsiz/a.YRsiz),a.y1=Math.ceil(b.Ysiz/a.YRsiz),a.width=a.x1-a.x0,a.height=a.y1-a.y0}function c(a,b){for(var c,d=a.SIZ,e=[],f=Math.ceil((d.Xsiz-d.XTOsiz)/d.XTsiz),g=Math.ceil((d.Ysiz-d.YTOsiz)/d.YTsiz),h=0;g>h;h++)for(var i=0;f>i;i++)c={},c.tx0=Math.max(d.XTOsiz+i*d.XTsiz,d.XOsiz),c.ty0=Math.max(d.YTOsiz+h*d.YTsiz,d.YOsiz),c.tx1=Math.min(d.XTOsiz+(i+1)*d.XTsiz,d.Xsiz),c.ty1=Math.min(d.YTOsiz+(h+1)*d.YTsiz,d.Ysiz),c.width=c.tx1-c.tx0,c.height=c.ty1-c.ty0,c.components=[],e.push(c);a.tiles=e;for(var j=d.Csiz,k=0,l=j;l>k;k++)for(var m=b[k],n=0,o=e.length;o>n;n++){var p={};c=e[n],p.tcx0=Math.ceil(c.tx0/m.XRsiz),p.tcy0=Math.ceil(c.ty0/m.YRsiz),p.tcx1=Math.ceil(c.tx1/m.XRsiz),p.tcy1=Math.ceil(c.ty1/m.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,c.components[k]=p}}function g(a,b,c){var d=b.codingStyleParameters,e={};return d.entropyCoderWithCustomPrecincts?(e.PPx=d.precinctsSizes[c].PPx,e.PPy=d.precinctsSizes[c].PPy):(e.PPx=15,e.PPy=15),e.xcb_=c>0?Math.min(d.xcb,e.PPx-1):Math.min(d.xcb,e.PPx),e.ycb_=c>0?Math.min(d.ycb,e.PPy-1):Math.min(d.ycb,e.PPy),e}function h(a,b,c){var d=1<<c.PPx,e=1<<c.PPy,f=0===b.resLevel,g=1<<c.PPx+(f?0:-1),h=1<<c.PPy+(f?0:-1),i=b.trx1>b.trx0?Math.ceil(b.trx1/d)-Math.floor(b.trx0/d):0,j=b.try1>b.try0?Math.ceil(b.try1/e)-Math.floor(b.try0/e):0,k=i*j;b.precinctParameters={precinctWidth:d,precinctHeight:e,numprecinctswide:i,numprecinctshigh:j,numprecincts:k,precinctWidthInSubband:g,precinctHeightInSubband:h}}function i(a,b,c){var d,e,f,g,h=c.xcb_,i=c.ycb_,j=1<<h,k=1<<i,l=b.tbx0>>h,m=b.tby0>>i,n=b.tbx1+j-1>>h,o=b.tby1+k-1>>i,p=b.resolution.precinctParameters,q=[],r=[];for(e=m;o>e;e++)for(d=l;n>d;d++){f={cbx:d,cby:e,tbx0:j*d,tby0:k*e,tbx1:j*(d+1),tby1:k*(e+1)},f.tbx0_=Math.max(b.tbx0,f.tbx0),f.tby0_=Math.max(b.tby0,f.tby0),f.tbx1_=Math.min(b.tbx1,f.tbx1),f.tby1_=Math.min(b.tby1,f.tby1);var s=Math.floor((f.tbx0_-b.tbx0)/p.precinctWidthInSubband),t=Math.floor((f.tby0_-b.tby0)/p.precinctHeightInSubband);if(g=s+t*p.numprecinctswide,f.precinctNumber=g,f.subbandType=b.type,f.Lblock=3,!(f.tbx1_<=f.tbx0_||f.tby1_<=f.tby0_)){q.push(f);var u=r[g];void 0!==u?(d<u.cbxMin?u.cbxMin=d:d>u.cbxMax&&(u.cbxMax=d),e<u.cbyMin?u.cbxMin=e:e>u.cbyMax&&(u.cbyMax=e)):r[g]=u={cbxMin:d,cbyMin:e,cbxMax:d,cbyMax:e},f.precinct=u}}b.codeblockParameters={codeblockWidth:h,codeblockHeight:i,numcodeblockwide:n-l+1,numcodeblockhigh:o-m+1},b.codeblocks=q,b.precincts=r}function j(a,b,c){for(var d=[],e=a.subbands,f=0,g=e.length;g>f;f++)for(var h=e[f],i=h.codeblocks,j=0,k=i.length;k>j;j++){var l=i[j];l.precinctNumber===b&&d.push(l)}return{layerNumber:c,codeblocks:d}}function k(a){for(var b=a.SIZ,c=a.currentTile.index,d=a.tiles[c],e=d.codingStyleDefaultParameters.layersCount,g=b.Csiz,h=0,i=0;g>i;i++)h=Math.max(h,d.components[i].codingStyleParameters.decompositionLevelsCount);var k=0,l=0,m=0,n=0;this.nextPacket=function(){for(;e>k;k++){for(;h>=l;l++){for(;g>m;m++){var a=d.components[m];if(!(l>a.codingStyleParameters.decompositionLevelsCount)){for(var b=a.resolutions[l],c=b.precinctParameters.numprecincts;c>n;){var i=j(b,n,k);return n++,i}n=0}}m=0}l=0}throw new f("Out of packets")}}function l(a){for(var b=a.SIZ,c=a.currentTile.index,d=a.tiles[c],e=d.codingStyleDefaultParameters.layersCount,g=b.Csiz,h=0,i=0;g>i;i++)h=Math.max(h,d.components[i].codingStyleParameters.decompositionLevelsCount);var k=0,l=0,m=0,n=0;this.nextPacket=function(){for(;h>=k;k++){for(;e>l;l++){for(;g>m;m++){var a=d.components[m];if(!(k>a.codingStyleParameters.decompositionLevelsCount)){for(var b=a.resolutions[k],c=b.precinctParameters.numprecincts;c>n;){var i=j(b,n,l);return n++,i}n=0}}m=0}l=0}throw new f("Out of packets")}}function m(a){var b,c,d,e,g=a.SIZ,h=a.currentTile.index,i=a.tiles[h],k=i.codingStyleDefaultParameters.layersCount,l=g.Csiz,m=0;for(d=0;l>d;d++){var n=i.components[d];m=Math.max(m,n.codingStyleParameters.decompositionLevelsCount)}var o=new Int32Array(m+1);for(c=0;m>=c;++c){var p=0;for(d=0;l>d;++d){var q=i.components[d].resolutions;c<q.length&&(p=Math.max(p,q[c].precinctParameters.numprecincts))}o[c]=p}b=0,c=0,d=0,e=0,this.nextPacket=function(){for(;m>=c;c++){for(;e<o[c];e++){for(;l>d;d++){var a=i.components[d];if(!(c>a.codingStyleParameters.decompositionLevelsCount)){var g=a.resolutions[c],h=g.precinctParameters.numprecincts;if(!(e>=h)){for(;k>b;){var n=j(g,e,b);return b++,n}b=0}}}d=0}e=0}throw new f("Out of packets")}}function n(a){var b=a.SIZ,c=a.currentTile.index,d=a.tiles[c],e=d.codingStyleDefaultParameters.layersCount,g=b.Csiz,h=q(d),i=h,k=0,l=0,m=0,n=0,o=0;this.nextPacket=function(){for(;o<i.maxNumHigh;o++){for(;n<i.maxNumWide;n++){for(;g>m;m++){for(var a=d.components[m],b=a.codingStyleParameters.decompositionLevelsCount;b>=l;l++){var c=a.resolutions[l],q=h.components[m].resolutions[l],r=p(n,o,q,i,c);if(null!==r){for(;e>k;){var s=j(c,r,k);return k++,s}k=0}}l=0}m=0}n=0}throw new f("Out of packets")}}function o(a){var b=a.SIZ,c=a.currentTile.index,d=a.tiles[c],e=d.codingStyleDefaultParameters.layersCount,g=b.Csiz,h=q(d),i=0,k=0,l=0,m=0,n=0;this.nextPacket=function(){for(;g>l;++l){for(var a=d.components[l],b=h.components[l],c=a.codingStyleParameters.decompositionLevelsCount;n<b.maxNumHigh;n++){for(;m<b.maxNumWide;m++){for(;c>=k;k++){var o=a.resolutions[k],q=b.resolutions[k],r=p(m,n,q,b,o);if(null!==r){for(;e>i;){var s=j(o,r,i);return i++,s}i=0}}k=0}m=0}n=0}throw new f("Out of packets")}}function p(a,b,c,d,e){var f=a*d.minWidth,g=b*d.minHeight;if(f%c.width!==0||g%c.height!==0)return null;var h=g/c.width*e.precinctParameters.numprecinctswide;return f/c.height+h}function q(a){for(var b=a.components.length,c=Number.MAX_VALUE,d=Number.MAX_VALUE,e=0,f=0,g=new Array(b),h=0;b>h;h++){for(var i=a.components[h],j=i.codingStyleParameters.decompositionLevelsCount,k=new Array(j+1),l=Number.MAX_VALUE,m=Number.MAX_VALUE,n=0,o=0,p=1,q=j;q>=0;--q){var r=i.resolutions[q],s=p*r.precinctParameters.precinctWidth,t=p*r.precinctParameters.precinctHeight;l=Math.min(l,s),m=Math.min(m,t),n=Math.max(n,r.precinctParameters.numprecinctswide),o=Math.max(o,r.precinctParameters.numprecinctshigh),k[q]={width:s,height:t},p<<=1}c=Math.min(c,l),d=Math.min(d,m),e=Math.max(e,n),f=Math.max(f,o),g[h]={resolutions:k,minWidth:l,minHeight:m,maxNumWide:n,maxNumHigh:o}}return{components:g,minWidth:c,minHeight:d,maxNumWide:e,maxNumHigh:f}}function r(a){for(var b=a.SIZ,c=a.currentTile.index,d=a.tiles[c],e=b.Csiz,j=0;e>j;j++){for(var p=d.components[j],q=p.codingStyleParameters.decompositionLevelsCount,r=[],s=[],t=0;q>=t;t++){var u=g(a,p,t),v={},w=1<<q-t;v.trx0=Math.ceil(p.tcx0/w),v.try0=Math.ceil(p.tcy0/w),v.trx1=Math.ceil(p.tcx1/w),v.try1=Math.ceil(p.tcy1/w),v.resLevel=t,h(a,v,u),r.push(v);var x;if(0===t)x={},x.type="LL",x.tbx0=Math.ceil(p.tcx0/w),x.tby0=Math.ceil(p.tcy0/w),x.tbx1=Math.ceil(p.tcx1/w),x.tby1=Math.ceil(p.tcy1/w),x.resolution=v,i(a,x,u),s.push(x),v.subbands=[x];else{var y=1<<q-t+1,z=[];x={},x.type="HL",x.tbx0=Math.ceil(p.tcx0/y-.5),x.tby0=Math.ceil(p.tcy0/y),x.tbx1=Math.ceil(p.tcx1/y-.5),x.tby1=Math.ceil(p.tcy1/y),x.resolution=v,i(a,x,u),s.push(x),z.push(x),x={},x.type="LH",x.tbx0=Math.ceil(p.tcx0/y),x.tby0=Math.ceil(p.tcy0/y-.5),x.tbx1=Math.ceil(p.tcx1/y),x.tby1=Math.ceil(p.tcy1/y-.5),x.resolution=v,i(a,x,u),s.push(x),z.push(x),x={},x.type="HH",x.tbx0=Math.ceil(p.tcx0/y-.5),x.tby0=Math.ceil(p.tcy0/y-.5),x.tbx1=Math.ceil(p.tcx1/y-.5),x.tby1=Math.ceil(p.tcy1/y-.5),x.resolution=v,i(a,x,u),s.push(x),z.push(x),v.subbands=z}}p.resolutions=r,p.subbands=s}var A=d.codingStyleDefaultParameters.progressionOrder;switch(A){case 0:d.packetsIterator=new k(a);break;case 1:d.packetsIterator=new l(a);break;case 2:d.packetsIterator=new m(a);break;case 3:d.packetsIterator=new n(a);break;case 4:d.packetsIterator=new o(a);break;default:throw new f("Unsupported progression order "+A)}}function s(a,b,c,e){function f(a){for(;a>m;){var d=b[c+l];l++,n?(k=k<<7|d,m+=7,n=!1):(k=k<<8|d,m+=8),255===d&&(n=!0)}return m-=a,k>>>m&(1<<a)-1}function g(a){return 255===b[c+l-1]&&b[c+l]===a?(h(1),!0):255===b[c+l]&&b[c+l+1]===a?(h(2),!0):!1}function h(a){l+=a}function i(){m=0,n&&(l++,n=!1)}function j(){if(0===f(1))return 1;if(0===f(1))return 2;var a=f(2);return 3>a?a+3:(a=f(5),31>a?a+6:(a=f(7),a+37))}for(var k,l=0,m=0,n=!1,o=a.currentTile.index,p=a.tiles[o],q=a.COD.sopMarkerUsed,r=a.COD.ephMarkerUsed,s=p.packetsIterator;e>l;){i(),q&&g(145)&&h(4);var t=s.nextPacket();if(f(1)){for(var u,v=t.layerNumber,w=[],x=0,A=t.codeblocks.length;A>x;x++){u=t.codeblocks[x];var B,C=u.precinct,D=u.cbx-C.cbxMin,E=u.cby-C.cbyMin,F=!1,G=!1;if(void 0!==u.included)F=!!f(1);else{C=u.precinct;var H,I;if(void 0!==C.inclusionTree)H=C.inclusionTree;else{var J=C.cbxMax-C.cbxMin+1,K=C.cbyMax-C.cbyMin+1;H=new z(J,K,v),I=new y(J,K),C.inclusionTree=H,C.zeroBitPlanesTree=I}if(H.reset(D,E,v))for(;;){if(!f(1)){H.incrementValue(v);break}if(B=!H.nextLevel()){u.included=!0,F=G=!0;break}}}if(F){if(G){for(I=C.zeroBitPlanesTree,I.reset(D,E);;)if(f(1)){if(B=!I.nextLevel())break}else I.incrementValue();u.zeroBitPlanes=I.value}for(var L=j();f(1);)u.Lblock++;var M=d.log2(L),N=(1<<M>L?M-1:M)+u.Lblock,O=f(N);w.push({codeblock:u,codingpasses:L,dataLength:O})}}for(i(),r&&g(146);w.length>0;){var P=w.shift();u=P.codeblock,void 0===u.data&&(u.data=[]),u.data.push({data:b,start:c+l,end:c+l+P.dataLength,codingpasses:P.codingpasses}),l+=P.dataLength}}}return l}function t(a,b,c,d,f,g,h,i){for(var j=d.tbx0,k=d.tby0,l=d.tbx1-d.tbx0,m=d.codeblocks,n="H"===d.type.charAt(0)?1:0,o="H"===d.type.charAt(1)?b:0,p=0,q=m.length;q>p;++p){var r=m[p],s=r.tbx1_-r.tbx0_,t=r.tby1_-r.tby0_;if(0!==s&&0!==t&&void 0!==r.data){var u,v;u=new A(s,t,r.subbandType,r.zeroBitPlanes,g),v=2;var w,x,y,z=r.data,B=0,C=0;for(w=0,x=z.length;x>w;w++)y=z[w],B+=y.end-y.start,C+=y.codingpasses;var D=new Uint8Array(B),E=0;for(w=0,x=z.length;x>w;w++){y=z[w];var F=y.data.subarray(y.start,y.end);D.set(F,E),E+=F.length}var G=new e.ArithmeticDecoder(D,0,B);for(u.setDecoder(G),w=0;C>w;w++){switch(v){case 0:u.runSignificancePropagationPass();break;case 1:u.runMagnitudeRefinementPass();break;case 2:u.runCleanupPass(),i&&u.checkSegmentationSymbol()}v=(v+1)%3}var H,I,J,K=r.tbx0_-j+(r.tby0_-k)*l,L=u.coefficentsSign,M=u.coefficentsMagnitude,N=u.bitsDecoded,O=h?0:.5;E=0;var P="LL"!==d.type;for(w=0;t>w;w++){var Q=K/l|0,R=2*Q*(b-l)+n+o;for(H=0;s>H;H++){if(I=M[E],0!==I){I=(I+O)*f,0!==L[E]&&(I=-I),J=N[E];var S=P?R+(K<<1):K;h&&J>=g?a[S]=I:a[S]=I*(1<<g-J)}K++,E++}K+=l-s}}}}function u(a,b,c){for(var d=b.components[c],e=d.codingStyleParameters,f=d.quantizationParameters,g=e.decompositionLevelsCount,h=f.SPqcds,i=f.scalarExpounded,j=f.guardBits,k=e.segmentationSymbolUsed,l=a.components[c].precision,m=e.reversibleTransformation,n=m?new D:new C,o=[],p=0,q=0;g>=q;q++){for(var r=d.resolutions[q],s=r.trx1-r.trx0,u=r.try1-r.try0,v=new Float32Array(s*u),w=0,y=r.subbands.length;y>w;w++){var z,A;i?(z=h[p].mu,A=h[p].epsilon,p++):(z=h[0].mu,A=h[0].epsilon+(q>0?1-q:0));var B=r.subbands[w],E=x[B.type],F=m?1:Math.pow(2,l+E-A)*(1+z/2048),G=j+A-1;t(v,s,u,B,F,G,m,k)}o.push({width:s,height:u,items:v})}var H=n.calculate(o,d.tcx0,d.tcy0);return{left:d.tcx0,top:d.tcy0,width:H.width,height:H.height,items:H.items}}function v(a){for(var b=a.SIZ,c=a.components,d=b.Csiz,e=[],f=0,g=a.tiles.length;g>f;f++){var h,i=a.tiles[f],j=[];for(h=0;d>h;h++)j[h]=u(a,i,h);var k,l,m,n,o,p,q,r=j[0],s=new Uint8ClampedArray(r.items.length*d),t={left:r.left,top:r.top,width:r.width,height:r.height,items:s},v=0;if(i.codingStyleDefaultParameters.multipleComponentTransform){var w=4===d,x=j[0].items,y=j[1].items,z=j[2].items,A=w?j[3].items:null;k=c[0].precision-8,l=(128<<k)+.5;var B=i.components[0],C=d-3;if(n=x.length,B.codingStyleParameters.reversibleTransformation)for(m=0;n>m;m++,v+=C){o=x[m]+l,p=y[m],q=z[m];var D=o-(q+p>>2);s[v++]=D+q>>k,s[v++]=D>>k,s[v++]=D+p>>k}else for(m=0;n>m;m++,v+=C)o=x[m]+l,p=y[m],q=z[m],s[v++]=o+1.402*q>>k,s[v++]=o-.34413*p-.71414*q>>k,s[v++]=o+1.772*p>>k;if(w)for(m=0,v=3;n>m;m++,v+=4)s[v]=A[m]+l>>k}else for(h=0;d>h;h++){var E=j[h].items;for(k=c[h].precision-8,l=(128<<k)+.5,v=h,m=0,n=E.length;n>m;m++)s[v]=E[m]+l>>k,v+=d}e.push(t)}return e}function w(a,b){for(var c=a.SIZ,d=c.Csiz,e=a.tiles[b],f=0;d>f;f++){var g=e.components[f],h=void 0!==a.currentTile.QCC[f]?a.currentTile.QCC[f]:a.currentTile.QCD;g.quantizationParameters=h;var i=void 0!==a.currentTile.COC[f]?a.currentTile.COC[f]:a.currentTile.COD;g.codingStyleParameters=i}e.codingStyleDefaultParameters=a.currentTile.COD}var x={LL:0,LH:1,HL:1,HH:2};a.prototype={parse:function(a){var b=d.readUint16(a,0);if(65359===b)return void this.parseCodestream(a,0,a.length);for(var c=0,e=a.length;e>c;){var g=8,h=d.readUint32(a,c),i=d.readUint32(a,c+4);if(c+=g,1===h&&(h=4294967296*d.readUint32(a,c)+d.readUint32(a,c+4),c+=8,g+=8),0===h&&(h=e-c+g),g>h)throw new f("Invalid box field size");var j=h-g,k=!0;switch(i){case 1785737832:k=!1;break;case 1668246642:var l=a[c];if(1===l){var m=d.readUint32(a,c+3);switch(m){case 16:case 17:case 18:break;default:d.warn("Unknown colorspace "+m)}}else 2===l&&d.info("ICC profile not supported");break;case 1785737827:this.parseCodestream(a,c,c+j);break;case 1783636e3:218793738!==d.readUint32(a,c)&&d.warn("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var n=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i);d.warn("Unsupported header type "+i+" ("+n+")")}k&&(c+=j)}},parseImageProperties:function(a){for(var b=a.getByte();b>=0;){var c=b;b=a.getByte();var d=c<<8|b;if(65361===d){a.skip(4);var e=a.getInt32()>>>0,g=a.getInt32()>>>0,h=a.getInt32()>>>0,i=a.getInt32()>>>0;a.skip(16);var j=a.getUint16();return this.width=e-h,this.height=g-i,this.componentsCount=j,void(this.bitsPerComponent=8)}}throw new f("No size marker found in JPX stream")},parseCodestream:function(a,e,g){var h={},i=!1;try{for(var j=e;g>j+1;){var k=d.readUint16(a,j);j+=2;var l,m,n,o,p,q,t=0;switch(k){case 65359:h.mainHeader=!0;break;case 65497:break;case 65361:t=d.readUint16(a,j);var u={};u.Xsiz=d.readUint32(a,j+4),u.Ysiz=d.readUint32(a,j+8),u.XOsiz=d.readUint32(a,j+12),u.YOsiz=d.readUint32(a,j+16),u.XTsiz=d.readUint32(a,j+20),u.YTsiz=d.readUint32(a,j+24),u.XTOsiz=d.readUint32(a,j+28),u.YTOsiz=d.readUint32(a,j+32);var x=d.readUint16(a,j+36);u.Csiz=x;var y=[];l=j+38;for(var z=0;x>z;z++){var A={precision:(127&a[l])+1,isSigned:!!(128&a[l]),XRsiz:a[l+1],YRsiz:a[l+1]};b(A,u),y.push(A)}h.SIZ=u,h.components=y,c(h,y),h.QCC=[],h.COC=[];break;case 65372:t=d.readUint16(a,j);var B={};switch(l=j+2,m=a[l++],31&m){case 0:o=8,p=!0;break;case 1:o=16,p=!1;break;case 2:o=16,p=!0;break;default:throw new Error("Invalid SQcd value "+m)}for(B.noQuantization=8===o,B.scalarExpounded=p,B.guardBits=m>>5,n=[];t+j>l;){var C={};8===o?(C.epsilon=a[l++]>>3,C.mu=0):(C.epsilon=a[l]>>3,C.mu=(7&a[l])<<8|a[l+1],l+=2),n.push(C)}B.SPqcds=n,h.mainHeader?h.QCD=B:(h.currentTile.QCD=B,h.currentTile.QCC=[]);break;case 65373:t=d.readUint16(a,j);var D={};l=j+2;var E;switch(h.SIZ.Csiz<257?E=a[l++]:(E=d.readUint16(a,l),l+=2),m=a[l++],31&m){case 0:o=8,p=!0;break;case 1:o=16,p=!1;break;case 2:o=16,p=!0;break;default:throw new Error("Invalid SQcd value "+m)}for(D.noQuantization=8===o,D.scalarExpounded=p,D.guardBits=m>>5,n=[];t+j>l;)C={},8===o?(C.epsilon=a[l++]>>3,C.mu=0):(C.epsilon=a[l]>>3,C.mu=(7&a[l])<<8|a[l+1],l+=2),n.push(C);D.SPqcds=n,h.mainHeader?h.QCC[E]=D:h.currentTile.QCC[E]=D;break;case 65362:t=d.readUint16(a,j);var F={};l=j+2;var G=a[l++];F.entropyCoderWithCustomPrecincts=!!(1&G),F.sopMarkerUsed=!!(2&G),F.ephMarkerUsed=!!(4&G),F.progressionOrder=a[l++],F.layersCount=d.readUint16(a,l),l+=2,F.multipleComponentTransform=a[l++],F.decompositionLevelsCount=a[l++],F.xcb=(15&a[l++])+2,F.ycb=(15&a[l++])+2;var H=a[l++];if(F.selectiveArithmeticCodingBypass=!!(1&H),F.resetContextProbabilities=!!(2&H),F.terminationOnEachCodingPass=!!(4&H),F.verticalyStripe=!!(8&H),F.predictableTermination=!!(16&H),F.segmentationSymbolUsed=!!(32&H),F.reversibleTransformation=a[l++],F.entropyCoderWithCustomPrecincts){for(var I=[];t+j>l;){var J=a[l++];I.push({PPx:15&J,PPy:J>>4})}F.precinctsSizes=I}var K=[];if(F.selectiveArithmeticCodingBypass&&K.push("selectiveArithmeticCodingBypass"),
F.resetContextProbabilities&&K.push("resetContextProbabilities"),F.terminationOnEachCodingPass&&K.push("terminationOnEachCodingPass"),F.verticalyStripe&&K.push("verticalyStripe"),F.predictableTermination&&K.push("predictableTermination"),K.length>0)throw i=!0,new Error("Unsupported COD options ("+K.join(", ")+")");h.mainHeader?h.COD=F:(h.currentTile.COD=F,h.currentTile.COC=[]);break;case 65424:t=d.readUint16(a,j),q={},q.index=d.readUint16(a,j+2),q.length=d.readUint32(a,j+4),q.dataEnd=q.length+j-2,q.partIndex=a[j+8],q.partsCount=a[j+9],h.mainHeader=!1,0===q.partIndex&&(q.COD=h.COD,q.COC=h.COC.slice(0),q.QCD=h.QCD,q.QCC=h.QCC.slice(0)),h.currentTile=q;break;case 65427:q=h.currentTile,0===q.partIndex&&(w(h,q.index),r(h)),t=q.dataEnd-j,s(h,a,j,t);break;case 65365:case 65367:case 65368:case 65380:t=d.readUint16(a,j);break;case 65363:throw new Error("Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("Unknown codestream code: "+k.toString(16))}j+=t}}catch(L){if(i||this.failOnCorruptedImage)throw new f(L.message);d.warn("JPX: Trying to recover from: "+L.message)}this.tiles=v(h),this.width=h.SIZ.Xsiz-h.SIZ.XOsiz,this.height=h.SIZ.Ysiz-h.SIZ.YOsiz,this.componentsCount=h.SIZ.Csiz}};var y=function(){function a(a,b){var c=d.log2(Math.max(a,b))+1;this.levels=[];for(var e=0;c>e;e++){var f={width:a,height:b,items:[]};this.levels.push(f),a=Math.ceil(a/2),b=Math.ceil(b/2)}}return a.prototype={reset:function(a,b){for(var c,d=0,e=0;d<this.levels.length;){c=this.levels[d];var f=a+b*c.width;if(void 0!==c.items[f]){e=c.items[f];break}c.index=f,a>>=1,b>>=1,d++}d--,c=this.levels[d],c.items[c.index]=e,this.currentLevel=d,delete this.value},incrementValue:function(){var a=this.levels[this.currentLevel];a.items[a.index]++},nextLevel:function(){var a=this.currentLevel,b=this.levels[a],c=b.items[b.index];return a--,0>a?(this.value=c,!1):(this.currentLevel=a,b=this.levels[a],b.items[b.index]=c,!0)}},a}(),z=function(){function a(a,b,c){var e=d.log2(Math.max(a,b))+1;this.levels=[];for(var f=0;e>f;f++){for(var g=new Uint8Array(a*b),h=0,i=g.length;i>h;h++)g[h]=c;var j={width:a,height:b,items:g};this.levels.push(j),a=Math.ceil(a/2),b=Math.ceil(b/2)}}return a.prototype={reset:function(a,b,c){for(var d=0;d<this.levels.length;){var e=this.levels[d],f=a+b*e.width;e.index=f;var g=e.items[f];if(255===g)break;if(g>c)return this.currentLevel=d,this.propagateValues(),!1;a>>=1,b>>=1,d++}return this.currentLevel=d-1,!0},incrementValue:function(a){var b=this.levels[this.currentLevel];b.items[b.index]=a+1,this.propagateValues()},propagateValues:function(){for(var a=this.currentLevel,b=this.levels[a],c=b.items[b.index];--a>=0;)b=this.levels[a],b.items[b.index]=c},nextLevel:function(){var a=this.currentLevel,b=this.levels[a],c=b.items[b.index];return b.items[b.index]=255,a--,0>a?!1:(this.currentLevel=a,b=this.levels[a],b.items[b.index]=c,!0)}},a}(),A=function(){function a(a,b,c,f,h){this.width=a,this.height=b,this.contextLabelTable="HH"===c?g:"HL"===c?e:d;var i=a*b;this.neighborsSignificance=new Uint8Array(i),this.coefficentsSign=new Uint8Array(i),this.coefficentsMagnitude=h>14?new Uint32Array(i):h>6?new Uint16Array(i):new Uint8Array(i),this.processingFlags=new Uint8Array(i);var j=new Uint8Array(i);if(0!==f)for(var k=0;i>k;k++)j[k]=f;this.bitsDecoded=j,this.reset()}var b=17,c=18,d=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),e=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),g=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return a.prototype={setDecoder:function(a){this.decoder=a},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[b]=92,this.contexts[c]=6},setNeighborsSignificance:function(a,b,c){var d,e=this.neighborsSignificance,f=this.width,g=this.height,h=b>0,i=f>b+1;a>0&&(d=c-f,h&&(e[d-1]+=16),i&&(e[d+1]+=16),e[d]+=4),g>a+1&&(d=c+f,h&&(e[d-1]+=16),i&&(e[d+1]+=16),e[d]+=4),h&&(e[c-1]+=1),i&&(e[c+1]+=1),e[c]|=128},runSignificancePropagationPass:function(){for(var a=this.decoder,b=this.width,c=this.height,d=this.coefficentsMagnitude,e=this.coefficentsSign,f=this.neighborsSignificance,g=this.processingFlags,h=this.contexts,i=this.contextLabelTable,j=this.bitsDecoded,k=-2,l=1,m=2,n=0;c>n;n+=4)for(var o=0;b>o;o++)for(var p=n*b+o,q=0;4>q;q++,p+=b){var r=n+q;if(r>=c)break;if(g[p]&=k,!d[p]&&f[p]){var s=i[f[p]],t=a.readBit(h,s);if(t){var u=this.decodeSignBit(r,o,p);e[p]=u,d[p]=1,this.setNeighborsSignificance(r,o,p),g[p]|=m}j[p]++,g[p]|=l}}},decodeSignBit:function(a,b,c){var d,e,f,g,h,i,j=this.width,k=this.height,l=this.coefficentsMagnitude,m=this.coefficentsSign;g=b>0&&0!==l[c-1],j>b+1&&0!==l[c+1]?(f=m[c+1],g?(e=m[c-1],d=1-f-e):d=1-f-f):g?(e=m[c-1],d=1-e-e):d=0;var n=3*d;return g=a>0&&0!==l[c-j],k>a+1&&0!==l[c+j]?(f=m[c+j],g?(e=m[c-j],d=1-f-e+n):d=1-f-f+n):g?(e=m[c-j],d=1-e-e+n):d=n,d>=0?(h=9+d,i=this.decoder.readBit(this.contexts,h)):(h=9-d,i=1^this.decoder.readBit(this.contexts,h)),i},runMagnitudeRefinementPass:function(){for(var a,b=this.decoder,c=this.width,d=this.height,e=this.coefficentsMagnitude,f=this.neighborsSignificance,g=this.contexts,h=this.bitsDecoded,i=this.processingFlags,j=1,k=2,l=c*d,m=4*c,n=0;l>n;n=a){a=Math.min(l,n+m);for(var o=0;c>o;o++)for(var p=n+o;a>p;p+=c)if(e[p]&&0===(i[p]&j)){var q=16;if(0!==(i[p]&k)){i[p]^=k;var r=127&f[p];q=0===r?15:14}var s=b.readBit(g,q);e[p]=e[p]<<1|s,h[p]++,i[p]|=j}}},runCleanupPass:function(){for(var a,d=this.decoder,e=this.width,f=this.height,g=this.neighborsSignificance,h=this.coefficentsMagnitude,i=this.coefficentsSign,j=this.contexts,k=this.contextLabelTable,l=this.bitsDecoded,m=this.processingFlags,n=1,o=2,p=e,q=2*e,r=3*e,s=0;f>s;s=a){a=Math.min(s+4,f);for(var t=s*e,u=f>s+3,v=0;e>v;v++){var w,x=t+v,y=u&&0===m[x]&&0===m[x+p]&&0===m[x+q]&&0===m[x+r]&&0===g[x]&&0===g[x+p]&&0===g[x+q]&&0===g[x+r],z=0,A=x,B=s;if(y){var C=d.readBit(j,c);if(!C){l[x]++,l[x+p]++,l[x+q]++,l[x+r]++;continue}z=d.readBit(j,b)<<1|d.readBit(j,b),0!==z&&(B=s+z,A+=z*e),w=this.decodeSignBit(B,v,A),i[A]=w,h[A]=1,this.setNeighborsSignificance(B,v,A),m[A]|=o,A=x;for(var D=s;B>=D;D++,A+=e)l[A]++;z++}for(B=s+z;a>B;B++,A+=e)if(!h[A]&&0===(m[A]&n)){var E=k[g[A]],F=d.readBit(j,E);1===F&&(w=this.decodeSignBit(B,v,A),i[A]=w,h[A]=1,this.setNeighborsSignificance(B,v,A),m[A]|=o),l[A]++}}}},checkSegmentationSymbol:function(){var a=this.decoder,c=this.contexts,d=a.readBit(c,b)<<3|a.readBit(c,b)<<2|a.readBit(c,b)<<1|a.readBit(c,b);if(10!==d)throw new f("Invalid segmentation symbol")}},a}(),B=function(){function a(){}return a.prototype.calculate=function(a,b,c){for(var d=a[0],e=1,f=a.length;f>e;e++)d=this.iterate(d,a[e],b,c);return d},a.prototype.extend=function(a,b,c){var d=b-1,e=b+1,f=b+c-2,g=b+c;a[d--]=a[e++],a[g++]=a[f--],a[d--]=a[e++],a[g++]=a[f--],a[d--]=a[e++],a[g++]=a[f--],a[d]=a[e],a[g]=a[f]},a.prototype.iterate=function(a,b,c,d){var e,f,g,h,i,j,k=a.width,l=a.height,m=a.items,n=b.width,o=b.height,p=b.items;for(g=0,e=0;l>e;e++)for(h=2*e*n,f=0;k>f;f++,g++,h+=2)p[h]=m[g];m=a.items=null;var q=4,r=new Float32Array(n+2*q);if(1===n){if(0!==(1&c))for(j=0,g=0;o>j;j++,g+=n)p[g]*=.5}else for(j=0,g=0;o>j;j++,g+=n)r.set(p.subarray(g,g+n),q),this.extend(r,q,n),this.filter(r,q,n),p.set(r.subarray(q,q+n),g);var s=16,t=[];for(e=0;s>e;e++)t.push(new Float32Array(o+2*q));var u,v=0;if(a=q+o,1===o){if(0!==(1&d))for(i=0;n>i;i++)p[i]*=.5}else for(i=0;n>i;i++){if(0===v){for(s=Math.min(n-i,s),g=i,h=q;a>h;g+=n,h++)for(u=0;s>u;u++)t[u][h]=p[g+u];v=s}v--;var w=t[v];if(this.extend(w,q,o),this.filter(w,q,o),0===v)for(g=i-s+1,h=q;a>h;g+=n,h++)for(u=0;s>u;u++)p[g+u]=t[u][h]}return{width:n,height:o,items:p}},a}(),C=function(){function a(){B.call(this)}return a.prototype=Object.create(B.prototype),a.prototype.filter=function(a,b,c){var d=c>>1;b=0|b;var e,f,g,h,i=-1.586134342059924,j=-.052980118572961,k=.882911075530934,l=.443506852043971,m=1.230174104914001,n=1/m;for(e=b-3,f=d+4;f--;e+=2)a[e]*=n;for(e=b-2,g=l*a[e-1],f=d+3;f--&&(h=l*a[e+1],a[e]=m*a[e]-g-h,f--);e+=2)e+=2,g=l*a[e+1],a[e]=m*a[e]-g-h;for(e=b-1,g=k*a[e-1],f=d+2;f--&&(h=k*a[e+1],a[e]-=g+h,f--);e+=2)e+=2,g=k*a[e+1],a[e]-=g+h;for(e=b,g=j*a[e-1],f=d+1;f--&&(h=j*a[e+1],a[e]-=g+h,f--);e+=2)e+=2,g=j*a[e+1],a[e]-=g+h;if(0!==d)for(e=b+1,g=i*a[e-1],f=d;f--&&(h=i*a[e+1],a[e]-=g+h,f--);e+=2)e+=2,g=i*a[e+1],a[e]-=g+h},a}(),D=function(){function a(){B.call(this)}return a.prototype=Object.create(B.prototype),a.prototype.filter=function(a,b,c){var d=c>>1;b=0|b;var e,f;for(e=b,f=d+1;f--;e+=2)a[e]-=a[e-1]+a[e+1]+2>>2;for(e=b+1,f=d;f--;e+=2)a[e]+=a[e-1]+a[e+1]>>1},a}();return a}();b.JpxImage=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b,c){this.data=a,this.bp=b,this.dataEnd=c,this.chigh=a[b],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var b=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];return a.prototype={byteIn:function(){var a=this.data,b=this.bp;if(255===a[b]){var c=a[b+1];c>143?(this.clow+=65280,this.ct=8):(b++,this.clow+=a[b]<<9,this.ct=7,this.bp=b)}else b++,this.clow+=b<this.dataEnd?a[b]<<8:65280,this.ct=8,this.bp=b;this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(a,c){var d,e=a[c]>>1,f=1&a[c],g=b[e],h=g.qe,i=this.a-h;if(this.chigh<h)h>i?(i=h,d=f,e=g.nmps):(i=h,d=1^f,1===g.switchFlag&&(f=d),e=g.nlps);else{if(this.chigh-=h,0!==(32768&i))return this.a=i,f;h>i?(d=1^f,1===g.switchFlag&&(f=d),e=g.nlps):(d=f,e=g.nmps)}do 0===this.ct&&this.byteIn(),i<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(0===(32768&i));return this.a=i,a[c]=e<<1|f,d}},a}();b.ArithmeticDecoder=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.calculateSHA512=b.calculateSHA384=b.calculateSHA256=b.calculateMD5=b.PDF20=b.PDF17=b.CipherTransformFactory=b.ARCFourCipher=b.AES256Cipher=b.AES128Cipher=void 0;var d=c(0),e=c(2),f=c(5),g=function(){function a(a){this.a=0,this.b=0;var b,c,d=new Uint8Array(256),e=0,f=a.length;for(b=0;256>b;++b)d[b]=b;for(b=0;256>b;++b)c=d[b],e=e+c+a[b%f]&255,d[b]=d[e],d[e]=c;this.s=d}return a.prototype={encryptBlock:function(a){var b,c,d,e=a.length,f=this.a,g=this.b,h=this.s,i=new Uint8Array(e);for(b=0;e>b;++b)f=f+1&255,c=h[f],g=g+c&255,d=h[g],h[f]=d,h[g]=c,i[b]=a[b]^h[c+d&255];return this.a=f,this.b=g,i}},a.prototype.decryptBlock=a.prototype.encryptBlock,a}(),h=function(){function a(a,d,e){var f,g,h,i=1732584193,j=-271733879,k=-1732584194,l=271733878,m=e+72&-64,n=new Uint8Array(m);for(f=0;e>f;++f)n[f]=a[d++];for(n[f++]=128,h=m-8;h>f;)n[f++]=0;n[f++]=e<<3&255,n[f++]=e>>5&255,n[f++]=e>>13&255,n[f++]=e>>21&255,n[f++]=e>>>29&255,n[f++]=0,n[f++]=0,n[f++]=0;var o=new Int32Array(16);for(f=0;m>f;){for(g=0;16>g;++g,f+=4)o[g]=n[f]|n[f+1]<<8|n[f+2]<<16|n[f+3]<<24;var p,q,r=i,s=j,t=k,u=l;for(g=0;64>g;++g){16>g?(p=s&t|~s&u,q=g):32>g?(p=u&s|~u&t,q=5*g+1&15):48>g?(p=s^t^u,q=3*g+5&15):(p=t^(s|~u),q=7*g&15);var v=u,w=r+p+c[g]+o[q]|0,x=b[g];u=t,t=s,s=s+(w<<x|w>>>32-x)|0,r=v}i=i+r|0,j=j+s|0,k=k+t|0,l=l+u|0}return new Uint8Array([255&i,i>>8&255,i>>16&255,i>>>24&255,255&j,j>>8&255,j>>16&255,j>>>24&255,255&k,k>>8&255,k>>16&255,k>>>24&255,255&l,l>>8&255,l>>16&255,l>>>24&255])}var b=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),c=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return a}(),i=function(){function a(a,b){this.high=0|a,this.low=0|b}return a.prototype={and:function(a){this.high&=a.high,this.low&=a.low},xor:function(a){this.high^=a.high,this.low^=a.low},or:function(a){this.high|=a.high,this.low|=a.low},shiftRight:function(a){a>=32?(this.low=this.high>>>a-32|0,this.high=0):(this.low=this.low>>>a|this.high<<32-a,this.high=this.high>>>a|0)},shiftLeft:function(a){a>=32?(this.high=this.low<<a-32,this.low=0):(this.high=this.high<<a|this.low>>>32-a,this.low=this.low<<a)},rotateRight:function(a){var b,c;32&a?(c=this.low,b=this.high):(b=this.low,c=this.high),a&=31,this.low=b>>>a|c<<32-a,this.high=c>>>a|b<<32-a},not:function(){this.high=~this.high,this.low=~this.low},add:function(a){var b=(this.low>>>0)+(a.low>>>0),c=(this.high>>>0)+(a.high>>>0);b>4294967295&&(c+=1),this.low=0|b,this.high=0|c},copyTo:function(a,b){a[b]=this.high>>>24&255,a[b+1]=this.high>>16&255,a[b+2]=this.high>>8&255,a[b+3]=255&this.high,a[b+4]=this.low>>>24&255,a[b+5]=this.low>>16&255,a[b+6]=this.low>>8&255,a[b+7]=255&this.low},assign:function(a){this.high=a.high,this.low=a.low}},a}(),j=function(){function a(a,b){return a>>>b|a<<32-b}function b(a,b,c){return a&b^~a&c}function c(a,b,c){return a&b^a&c^b&c}function d(b){return a(b,2)^a(b,13)^a(b,22)}function e(b){return a(b,6)^a(b,11)^a(b,25)}function f(b){return a(b,7)^a(b,18)^b>>>3}function g(b){return a(b,17)^a(b,19)^b>>>10}function h(a,h,j){var k,l,m,n=1779033703,o=3144134277,p=1013904242,q=2773480762,r=1359893119,s=2600822924,t=528734635,u=1541459225,v=64*Math.ceil((j+9)/64),w=new Uint8Array(v);for(k=0;j>k;++k)w[k]=a[h++];for(w[k++]=128,m=v-8;m>k;)w[k++]=0;w[k++]=0,w[k++]=0,w[k++]=0,w[k++]=j>>>29&255,w[k++]=j>>21&255,w[k++]=j>>13&255,w[k++]=j>>5&255,w[k++]=j<<3&255;var x=new Uint32Array(64);for(k=0;v>k;){for(l=0;16>l;++l)x[l]=w[k]<<24|w[k+1]<<16|w[k+2]<<8|w[k+3],k+=4;for(l=16;64>l;++l)x[l]=g(x[l-2])+x[l-7]+f(x[l-15])+x[l-16]|0;var y,z,A=n,B=o,C=p,D=q,E=r,F=s,G=t,H=u;for(l=0;64>l;++l)y=H+e(E)+b(E,F,G)+i[l]+x[l],z=d(A)+c(A,B,C),H=G,G=F,F=E,E=D+y|0,D=C,C=B,B=A,A=y+z|0;n=n+A|0,o=o+B|0,p=p+C|0,q=q+D|0,r=r+E|0,s=s+F|0,t=t+G|0,u=u+H|0}return new Uint8Array([n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,p>>24&255,p>>16&255,p>>8&255,255&p,q>>24&255,q>>16&255,q>>8&255,255&q,r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s,t>>24&255,t>>16&255,t>>8&255,255&t,u>>24&255,u>>16&255,u>>8&255,255&u])}var i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return h}(),k=function(){function a(a,b,c,d,e){a.assign(b),a.and(c),e.assign(b),e.not(),e.and(d),a.xor(e)}function b(a,b,c,d,e){a.assign(b),a.and(c),e.assign(b),e.and(d),a.xor(e),e.assign(c),e.and(d),a.xor(e)}function c(a,b,c){a.assign(b),a.rotateRight(28),c.assign(b),c.rotateRight(34),a.xor(c),c.assign(b),c.rotateRight(39),a.xor(c)}function d(a,b,c){a.assign(b),a.rotateRight(14),c.assign(b),c.rotateRight(18),a.xor(c),c.assign(b),c.rotateRight(41),a.xor(c)}function e(a,b,c){a.assign(b),a.rotateRight(1),c.assign(b),c.rotateRight(8),a.xor(c),c.assign(b),c.shiftRight(7),a.xor(c)}function f(a,b,c){a.assign(b),a.rotateRight(19),c.assign(b),c.rotateRight(61),a.xor(c),c.assign(b),c.shiftRight(6),a.xor(c)}function g(g,j,k,l){l=!!l;var m,n,o,p,q,r,s,t;l?(m=new i(3418070365,3238371032),n=new i(1654270250,914150663),o=new i(2438529370,812702999),p=new i(355462360,4144912697),q=new i(1731405415,4290775857),r=new i(2394180231,1750603025),s=new i(3675008525,1694076839),t=new i(1203062813,3204075428)):(m=new i(1779033703,4089235720),n=new i(3144134277,2227873595),o=new i(1013904242,4271175723),p=new i(2773480762,1595750129),q=new i(1359893119,2917565137),r=new i(2600822924,725511199),s=new i(528734635,4215389547),t=new i(1541459225,327033209));var u,v,w,x=128*Math.ceil((k+17)/128),y=new Uint8Array(x);for(u=0;k>u;++u)y[u]=g[j++];for(y[u++]=128,w=x-16;w>u;)y[u++]=0;y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=0,y[u++]=k>>>29&255,y[u++]=k>>21&255,y[u++]=k>>13&255,y[u++]=k>>5&255,y[u++]=k<<3&255;var z=new Array(80);for(u=0;80>u;u++)z[u]=new i(0,0);var A,B=new i(0,0),C=new i(0,0),D=new i(0,0),E=new i(0,0),F=new i(0,0),G=new i(0,0),H=new i(0,0),I=new i(0,0),J=new i(0,0),K=new i(0,0),L=new i(0,0),M=new i(0,0);for(u=0;x>u;){for(v=0;16>v;++v)z[v].high=y[u]<<24|y[u+1]<<16|y[u+2]<<8|y[u+3],z[v].low=y[u+4]<<24|y[u+5]<<16|y[u+6]<<8|y[u+7],u+=8;for(v=16;80>v;++v)A=z[v],f(A,z[v-2],M),A.add(z[v-7]),e(L,z[v-15],M),A.add(L),A.add(z[v-16]);for(B.assign(m),C.assign(n),D.assign(o),E.assign(p),F.assign(q),G.assign(r),H.assign(s),I.assign(t),v=0;80>v;++v)J.assign(I),d(L,F,M),J.add(L),a(L,F,G,H,M),J.add(L),J.add(h[v]),J.add(z[v]),c(K,B,M),b(L,B,C,D,M),K.add(L),A=I,I=H,H=G,G=F,E.add(J),F=E,E=D,D=C,C=B,A.assign(J),A.add(K),B=A;m.add(B),n.add(C),o.add(D),p.add(E),q.add(F),r.add(G),s.add(H),t.add(I)}var N;return l?(N=new Uint8Array(48),m.copyTo(N,0),n.copyTo(N,8),o.copyTo(N,16),p.copyTo(N,24),q.copyTo(N,32),r.copyTo(N,40)):(N=new Uint8Array(64),m.copyTo(N,0),n.copyTo(N,8),o.copyTo(N,16),p.copyTo(N,24),q.copyTo(N,32),r.copyTo(N,40),s.copyTo(N,48),t.copyTo(N,56)),N}var h=[new i(1116352408,3609767458),new i(1899447441,602891725),new i(3049323471,3964484399),new i(3921009573,2173295548),new i(961987163,4081628472),new i(1508970993,3053834265),new i(2453635748,2937671579),new i(2870763221,3664609560),new i(3624381080,2734883394),new i(310598401,1164996542),new i(607225278,1323610764),new i(1426881987,3590304994),new i(1925078388,4068182383),new i(2162078206,991336113),new i(2614888103,633803317),new i(3248222580,3479774868),new i(3835390401,2666613458),new i(4022224774,944711139),new i(264347078,2341262773),new i(604807628,2007800933),new i(770255983,1495990901),new i(1249150122,1856431235),new i(1555081692,3175218132),new i(1996064986,2198950837),new i(2554220882,3999719339),new i(2821834349,766784016),new i(2952996808,2566594879),new i(3210313671,3203337956),new i(3336571891,1034457026),new i(3584528711,2466948901),new i(113926993,3758326383),new i(338241895,168717936),new i(666307205,1188179964),new i(773529912,1546045734),new i(1294757372,1522805485),new i(1396182291,2643833823),new i(1695183700,2343527390),new i(1986661051,1014477480),new i(2177026350,1206759142),new i(2456956037,344077627),new i(2730485921,1290863460),new i(2820302411,3158454273),new i(3259730800,3505952657),new i(3345764771,106217008),new i(3516065817,3606008344),new i(3600352804,1432725776),new i(4094571909,1467031594),new i(275423344,851169720),new i(430227734,3100823752),new i(506948616,1363258195),new i(659060556,3750685593),new i(883997877,3785050280),new i(958139571,3318307427),new i(1322822218,3812723403),new i(1537002063,2003034995),new i(1747873779,3602036899),new i(1955562222,1575990012),new i(2024104815,1125592928),new i(2227730452,2716904306),new i(2361852424,442776044),new i(2428436474,593698344),new i(2756734187,3733110249),new i(3204031479,2999351573),new i(3329325298,3815920427),new i(3391569614,3928383900),new i(3515267271,566280711),new i(3940187606,3454069534),new i(4118630271,4000239992),new i(116418474,1914138554),new i(174292421,2731055270),new i(289380356,3203993006),new i(460393269,320620315),new i(685471733,587496836),new i(852142971,1086792851),new i(1017036298,365543100),new i(1126000580,2618297676),new i(1288033470,3409855158),new i(1501505948,4234509866),new i(1607167915,987167468),new i(1816402316,1246189591)];return g}(),l=function(){function a(a,b,c){return k(a,b,c,!0)}return a}(),m=function(){function a(){}return a.prototype={decryptBlock:function(a){return a}},a}(),n=function(){function a(a){var b=176,c=new Uint8Array(b);c.set(a);for(var d=16,e=1;b>d;++e){var h=c[d-3],i=c[d-2],j=c[d-1],k=c[d-4];h=g[h],i=g[i],j=g[j],k=g[k],h^=f[e];for(var l=0;4>l;++l)c[d]=h^=c[d-16],d++,c[d]=i^=c[d-16],d++,c[d]=j^=c[d-16],d++,c[d]=k^=c[d-16],d++}return c}function b(a,b){var c=new Uint8Array(16);c.set(a);var d,e,f,g,i,j;for(e=0,f=160;16>e;++e,++f)c[e]^=b[f];for(d=9;d>=1;--d){for(g=c[13],c[13]=c[9],c[9]=c[5],c[5]=c[1],c[1]=g,g=c[14],i=c[10],c[14]=c[6],c[10]=c[2],c[6]=g,c[2]=i,g=c[15],i=c[11],j=c[7],c[15]=c[3],c[11]=g,c[7]=i,c[3]=j,e=0;16>e;++e)c[e]=h[c[e]];for(e=0,f=16*d;16>e;++e,++f)c[e]^=b[f];for(e=0;16>e;e+=4){var l=k[c[e]],m=k[c[e+1]],n=k[c[e+2]],o=k[c[e+3]];g=l^m>>>8^m<<24^n>>>16^n<<16^o>>>24^o<<8,c[e]=g>>>24&255,c[e+1]=g>>16&255,c[e+2]=g>>8&255,c[e+3]=255&g}}for(g=c[13],c[13]=c[9],c[9]=c[5],c[5]=c[1],c[1]=g,g=c[14],i=c[10],c[14]=c[6],c[10]=c[2],c[6]=g,c[2]=i,g=c[15],i=c[11],j=c[7],c[15]=c[3],c[11]=g,c[7]=i,c[3]=j,e=0;16>e;++e)c[e]=h[c[e]],c[e]^=b[e];return c}function c(a,b){var c,d,e,f,h=new Uint8Array(16);for(h.set(a),k=0;16>k;++k)h[k]^=b[k];for(j=1;10>j;j++){for(k=0;16>k;++k)h[k]=g[h[k]];e=h[1],h[1]=h[5],h[5]=h[9],h[9]=h[13],h[13]=e,e=h[2],d=h[6],h[2]=h[10],h[6]=h[14],h[10]=e,h[14]=d,e=h[3],d=h[7],c=h[11],h[3]=h[15],h[7]=e,h[11]=d,h[15]=c;for(var k=0;16>k;k+=4){var l=h[k+0],m=h[k+1],n=h[k+2],o=h[k+3];c=l^m^n^o,h[k+0]^=c^i[l^m],h[k+1]^=c^i[m^n],h[k+2]^=c^i[n^o],h[k+3]^=c^i[o^l]}for(k=0,f=16*j;16>k;++k,++f)h[k]^=b[f]}for(k=0;16>k;++k)h[k]=g[h[k]];for(e=h[1],h[1]=h[5],h[5]=h[9],h[9]=h[13],h[13]=e,e=h[2],d=h[6],h[2]=h[10],h[6]=h[14],h[10]=e,h[14]=d,e=h[3],d=h[7],c=h[11],h[3]=h[15],h[7]=e,h[11]=d,h[15]=c,k=0,f=160;16>k;++k,++f)h[k]^=b[f];return h}function d(b){this.key=a(b),this.buffer=new Uint8Array(16),this.bufferPosition=0}function e(a,c){var d,e,f,g=a.length,h=this.buffer,i=this.bufferPosition,j=[],k=this.iv;for(d=0;g>d;++d)if(h[i]=a[d],++i,!(16>i)){var l=b(h,this.key);for(e=0;16>e;++e)l[e]^=k[e];k=h,j.push(l),h=new Uint8Array(16),i=0}if(this.buffer=h,this.bufferLength=i,this.iv=k,0===j.length)return new Uint8Array([]);var m=16*j.length;if(c){var n=j[j.length-1],o=n[15];if(16>=o){for(d=15,f=16-o;d>=f;--d)if(n[d]!==o){o=0;break}m-=o,j[j.length-1]=n.subarray(0,16-o)}}var p=new Uint8Array(m);for(d=0,e=0,f=j.length;f>d;++d,e+=16)p.set(j[d],e);return p}for(var f=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),g=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),h=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),i=new Uint8Array(256),j=0;256>j;j++)128>j?i[j]=j<<1:i[j]=j<<1^27;var k=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]);return d.prototype={decryptBlock:function(a,b){var c,d=a.length,f=this.buffer,g=this.bufferPosition;for(c=0;16>g&&d>c;++c,++g)f[g]=a[c];return 16>g?(this.bufferLength=g,new Uint8Array([])):(this.iv=f,this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=e,this.decryptBlock(a.subarray(16),b))},encrypt:function(a,b){var d,e,f,g=a.length,h=this.buffer,i=this.bufferPosition,j=[];for(b||(b=new Uint8Array(16)),d=0;g>d;++d)if(h[i]=a[d],++i,!(16>i)){for(e=0;16>e;++e)h[e]^=b[e];var k=c(h,this.key);b=k,j.push(k),h=new Uint8Array(16),i=0}if(this.buffer=h,this.bufferLength=i,this.iv=b,0===j.length)return new Uint8Array([]);var l=16*j.length,m=new Uint8Array(l);for(d=0,e=0,f=j.length;f>d;++d,e+=16)m.set(j[d],e);return m}},d}(),o=function(){function a(a){var b=240,c=new Uint8Array(b),d=1;c.set(a);for(var e=32,g=1;b>e;++g){if(e%32===16)h=f[h],i=f[i],j=f[j],k=f[k];else if(e%32===0){var h=c[e-3],i=c[e-2],j=c[e-1],k=c[e-4];h=f[h],i=f[i],j=f[j],k=f[k],h^=d,(d<<=1)>=256&&(d=255&(27^d))}for(var l=0;4>l;++l)c[e]=h^=c[e-32],e++,c[e]=i^=c[e-32],e++,c[e]=j^=c[e-32],e++,c[e]=k^=c[e-32],e++}return c}function b(a,b){var c=new Uint8Array(16);c.set(a);var d,e,f,h,i,k;for(e=0,f=224;16>e;++e,++f)c[e]^=b[f];for(d=13;d>=1;--d){for(h=c[13],c[13]=c[9],c[9]=c[5],c[5]=c[1],c[1]=h,h=c[14],i=c[10],c[14]=c[6],c[10]=c[2],c[6]=h,c[2]=i,h=c[15],i=c[11],k=c[7],c[15]=c[3],c[11]=h,c[7]=i,c[3]=k,e=0;16>e;++e)c[e]=g[c[e]];for(e=0,f=16*d;16>e;++e,++f)c[e]^=b[f];for(e=0;16>e;e+=4){var l=j[c[e]],m=j[c[e+1]],n=j[c[e+2]],o=j[c[e+3]];h=l^m>>>8^m<<24^n>>>16^n<<16^o>>>24^o<<8,c[e]=h>>>24&255,c[e+1]=h>>16&255,c[e+2]=h>>8&255,c[e+3]=255&h}}for(h=c[13],c[13]=c[9],c[9]=c[5],c[5]=c[1],c[1]=h,h=c[14],i=c[10],
c[14]=c[6],c[10]=c[2],c[6]=h,c[2]=i,h=c[15],i=c[11],k=c[7],c[15]=c[3],c[11]=h,c[7]=i,c[3]=k,e=0;16>e;++e)c[e]=g[c[e]],c[e]^=b[e];return c}function c(a,b){var c,d,e,g,j=new Uint8Array(16);for(j.set(a),k=0;16>k;++k)j[k]^=b[k];for(i=1;14>i;i++){for(k=0;16>k;++k)j[k]=f[j[k]];e=j[1],j[1]=j[5],j[5]=j[9],j[9]=j[13],j[13]=e,e=j[2],d=j[6],j[2]=j[10],j[6]=j[14],j[10]=e,j[14]=d,e=j[3],d=j[7],c=j[11],j[3]=j[15],j[7]=e,j[11]=d,j[15]=c;for(var k=0;16>k;k+=4){var l=j[k+0],m=j[k+1],n=j[k+2],o=j[k+3];c=l^m^n^o,j[k+0]^=c^h[l^m],j[k+1]^=c^h[m^n],j[k+2]^=c^h[n^o],j[k+3]^=c^h[o^l]}for(k=0,g=16*i;16>k;++k,++g)j[k]^=b[g]}for(k=0;16>k;++k)j[k]=f[j[k]];for(e=j[1],j[1]=j[5],j[5]=j[9],j[9]=j[13],j[13]=e,e=j[2],d=j[6],j[2]=j[10],j[6]=j[14],j[10]=e,j[14]=d,e=j[3],d=j[7],c=j[11],j[3]=j[15],j[7]=e,j[11]=d,j[15]=c,k=0,g=224;16>k;++k,++g)j[k]^=b[g];return j}function d(b){this.key=a(b),this.buffer=new Uint8Array(16),this.bufferPosition=0}function e(a,c){var d,e,f,g=a.length,h=this.buffer,i=this.bufferPosition,j=[],k=this.iv;for(d=0;g>d;++d)if(h[i]=a[d],++i,!(16>i)){var l=b(h,this.key);for(e=0;16>e;++e)l[e]^=k[e];k=h,j.push(l),h=new Uint8Array(16),i=0}if(this.buffer=h,this.bufferLength=i,this.iv=k,0===j.length)return new Uint8Array([]);var m=16*j.length;if(c){var n=j[j.length-1],o=n[15];if(16>=o){for(d=15,f=16-o;d>=f;--d)if(n[d]!==o){o=0;break}m-=o,j[j.length-1]=n.subarray(0,16-o)}}var p=new Uint8Array(m);for(d=0,e=0,f=j.length;f>d;++d,e+=16)p.set(j[d],e);return p}for(var f=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),g=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),h=new Uint8Array(256),i=0;256>i;i++)128>i?h[i]=i<<1:h[i]=i<<1^27;var j=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]);return d.prototype={decryptBlock:function(a,b,c){var d,f=a.length,g=this.buffer,h=this.bufferPosition;if(c)this.iv=c;else{for(d=0;16>h&&f>d;++d,++h)g[h]=a[d];if(16>h)return this.bufferLength=h,new Uint8Array([]);this.iv=g,a=a.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=e,this.decryptBlock(a,b)},encrypt:function(a,b){var d,e,f,g=a.length,h=this.buffer,i=this.bufferPosition,j=[];for(b||(b=new Uint8Array(16)),d=0;g>d;++d)if(h[i]=a[d],++i,!(16>i)){for(e=0;16>e;++e)h[e]^=b[e];var k=c(h,this.key);this.iv=k,j.push(k),h=new Uint8Array(16),i=0}if(this.buffer=h,this.bufferLength=i,this.iv=b,0===j.length)return new Uint8Array([]);var l=16*j.length,m=new Uint8Array(l);for(d=0,e=0,f=j.length;f>d;++d,e+=16)m.set(j[d],e);return m}},d}(),p=function(){function a(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function b(){}return b.prototype={checkOwnerPassword:function(b,c,d,e){var f=new Uint8Array(b.length+56);f.set(b,0),f.set(c,b.length),f.set(d,b.length+c.length);var g=j(f,0,f.length);return a(g,e)},checkUserPassword:function(b,c,d){var e=new Uint8Array(b.length+8);e.set(b,0),e.set(c,b.length);var f=j(e,0,e.length);return a(f,d)},getOwnerKey:function(a,b,c,d){var e=new Uint8Array(a.length+56);e.set(a,0),e.set(b,a.length),e.set(c,a.length+b.length);var f=j(e,0,e.length),g=new o(f);return g.decryptBlock(d,!1,new Uint8Array(16))},getUserKey:function(a,b,c){var d=new Uint8Array(a.length+8);d.set(a,0),d.set(b,a.length);var e=j(d,0,d.length),f=new o(e);return f.decryptBlock(c,!1,new Uint8Array(16))}},b}(),q=function(){function a(a,b){var c=new Uint8Array(a.length+b.length);return c.set(a,0),c.set(b,a.length),c}function b(b,c,d){for(var e=j(c,0,c.length).subarray(0,32),f=[0],g=0;64>g||f[f.length-1]>g-32;){var h=b.length+e.length+d.length,i=new Uint8Array(64*h),m=a(b,e);m=a(m,d);for(var o=0,p=0;64>o;o++,p+=h)i.set(m,p);var q=new n(e.subarray(0,16));f=q.encrypt(i,e.subarray(16,32));for(var r=0,s=0;16>s;s++)r*=1,r%=3,r+=(f[s]>>>0)%3,r%=3;0===r?e=j(f,0,f.length):1===r?e=l(f,0,f.length):2===r&&(e=k(f,0,f.length)),g++}return e.subarray(0,32)}function c(){}function d(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return c.prototype={hash:function(a,c,d){return b(a,c,d)},checkOwnerPassword:function(a,c,e,f){var g=new Uint8Array(a.length+56);g.set(a,0),g.set(c,a.length),g.set(e,a.length+c.length);var h=b(a,g,e);return d(h,f)},checkUserPassword:function(a,c,e){var f=new Uint8Array(a.length+8);f.set(a,0),f.set(c,a.length);var g=b(a,f,[]);return d(g,e)},getOwnerKey:function(a,c,d,e){var f=new Uint8Array(a.length+56);f.set(a,0),f.set(c,a.length),f.set(d,a.length+c.length);var g=b(a,f,d),h=new o(g);return h.decryptBlock(e,!1,new Uint8Array(16))},getUserKey:function(a,c,d){var e=new Uint8Array(a.length+8);e.set(a,0),e.set(c,a.length);var f=b(a,e,[]),g=new o(f);return g.decryptBlock(d,!1,new Uint8Array(16))}},c}(),r=function(){function a(a,b){this.StringCipherConstructor=a,this.StreamCipherConstructor=b}return a.prototype={createStream:function(a,b){var c=new this.StreamCipherConstructor;return new f.DecryptStream(a,b,function(a,b){return c.decryptBlock(a,b)})},decryptString:function(a){var b=new this.StringCipherConstructor,c=d.stringToBytes(a);return c=b.decryptBlock(c,!0),d.bytesToString(c)}},a}(),s=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){if(b){var m=Math.min(127,b.length);b=b.subarray(0,m)}else b=[];var n;return n=6===a?new q:new p,n.checkUserPassword(b,h,g)?n.getUserKey(b,i,k):b.length&&n.checkOwnerPassword(b,d,f,c)?n.getOwnerKey(b,e,f,j):null}function b(a,b,c,d,e,f,i,j){var l,m,n=40+c.length+a.length,o=new Uint8Array(n),p=0;if(b)for(m=Math.min(32,b.length);m>p;++p)o[p]=b[p];for(l=0;32>p;)o[p++]=k[l++];for(l=0,m=c.length;m>l;++l)o[p++]=c[l];for(o[p++]=255&e,o[p++]=e>>8&255,o[p++]=e>>16&255,o[p++]=e>>>24&255,l=0,m=a.length;m>l;++l)o[p++]=a[l];f>=4&&!j&&(o[p++]=255,o[p++]=255,o[p++]=255,o[p++]=255);var q=h(o,0,p),r=i>>3;if(f>=3)for(l=0;50>l;++l)q=h(q,0,r);var s,t,u=q.subarray(0,r);if(f>=3){for(p=0;32>p;++p)o[p]=k[p];for(l=0,m=a.length;m>l;++l)o[p++]=a[l];s=new g(u),t=s.encryptBlock(h(o,0,p)),m=u.length;var v,w=new Uint8Array(m);for(l=1;19>=l;++l){for(v=0;m>v;++v)w[v]=u[v]^l;s=new g(w),t=s.encryptBlock(t)}for(l=0,m=t.length;m>l;++l)if(d[l]!==t[l])return null}else for(s=new g(u),t=s.encryptBlock(k),l=0,m=t.length;m>l;++l)if(d[l]!==t[l])return null;return u}function c(a,b,c,d){var e,f,i=new Uint8Array(32),j=0;for(f=Math.min(32,a.length);f>j;++j)i[j]=a[j];for(e=0;32>j;)i[j++]=k[e++];var l=h(i,0,j),m=d>>3;if(c>=3)for(e=0;50>e;++e)l=h(l,0,l.length);var n,o;if(c>=3){o=b;var p,q=new Uint8Array(m);for(e=19;e>=0;e--){for(p=0;m>p;++p)q[p]=l[p]^e;n=new g(q),o=n.encryptBlock(o)}}else n=new g(l.subarray(0,m)),o=n.encryptBlock(b);return o}function f(f,g,h){var i=f.get("Filter");if(!e.isName(i,"Standard"))throw new d.FormatError("unknown encryption method");this.dict=f;var j=f.get("V");if(!Number.isInteger(j)||1!==j&&2!==j&&4!==j&&5!==j)throw new d.FormatError("unsupported encryption algorithm");this.algorithm=j;var k=f.get("Length");if(!k)if(3>=j)k=40;else{var m=f.get("CF"),n=f.get("StmF");if(e.isDict(m)&&e.isName(n)){m.suppressEncryption=!0;var o=m.get(n.name);k=o&&o.get("Length")||128,40>k&&(k<<=3)}}if(!Number.isInteger(k)||40>k||k%8!==0)throw new d.FormatError("invalid key length");var p=d.stringToBytes(f.get("O")).subarray(0,32),q=d.stringToBytes(f.get("U")).subarray(0,32),r=f.get("P"),s=f.get("R"),t=(4===j||5===j)&&f.get("EncryptMetadata")!==!1;this.encryptMetadata=t;var u,v=d.stringToBytes(g);if(h){if(6===s)try{h=d.utf8StringToString(h)}catch(w){d.warn("CipherTransformFactory: Unable to convert UTF8 encoded password.")}u=d.stringToBytes(h)}var x;if(5!==j)x=b(v,u,p,q,r,s,k,t);else{var y=d.stringToBytes(f.get("O")).subarray(32,40),z=d.stringToBytes(f.get("O")).subarray(40,48),A=d.stringToBytes(f.get("U")).subarray(0,48),B=d.stringToBytes(f.get("U")).subarray(32,40),C=d.stringToBytes(f.get("U")).subarray(40,48),D=d.stringToBytes(f.get("OE")),E=d.stringToBytes(f.get("UE")),F=d.stringToBytes(f.get("Perms"));x=a(s,u,p,y,z,A,q,B,C,D,E,F)}if(!x&&!h)throw new d.PasswordException("No password given",d.PasswordResponses.NEED_PASSWORD);if(!x&&h){var G=c(u,p,s,k);x=b(v,G,p,q,r,s,k,t)}if(!x)throw new d.PasswordException("Incorrect Password",d.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=x,j>=4){var H=f.get("CF");e.isDict(H)&&(H.suppressEncryption=!0),this.cf=H,this.stmf=f.get("StmF")||l,this.strf=f.get("StrF")||l,this.eff=f.get("EFF")||this.stmf}}function i(a,b,c,d){var e,f,g=new Uint8Array(c.length+9);for(e=0,f=c.length;f>e;++e)g[e]=c[e];g[e++]=255&a,g[e++]=a>>8&255,g[e++]=a>>16&255,g[e++]=255&b,g[e++]=b>>8&255,d&&(g[e++]=115,g[e++]=65,g[e++]=108,g[e++]=84);var i=h(g,0,e);return i.subarray(0,Math.min(c.length+5,16))}function j(a,b,c,f,h){if(!e.isName(b))throw new d.FormatError("Invalid crypt filter name.");var j,k=a.get(b.name);if(null!==k&&void 0!==k&&(j=k.get("CFM")),!j||"None"===j.name)return function(){return new m};if("V2"===j.name)return function(){return new g(i(c,f,h,!1))};if("AESV2"===j.name)return function(){return new n(i(c,f,h,!0))};if("AESV3"===j.name)return function(){return new o(h)};throw new d.FormatError("Unknown crypto method")}var k=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]),l=e.Name.get("Identity");return f.prototype={createCipherTransform:function(a,b){if(4===this.algorithm||5===this.algorithm)return new r(j(this.cf,this.stmf,a,b,this.encryptionKey),j(this.cf,this.strf,a,b,this.encryptionKey));var c=i(a,b,this.encryptionKey,!1),d=function(){return new g(c)};return new r(d,d)}},f}();b.AES128Cipher=n,b.AES256Cipher=o,b.ARCFourCipher=g,b.CipherTransformFactory=s,b.PDF17=p,b.PDF20=q,b.calculateMD5=h,b.calculateSHA256=j,b.calculateSHA384=l,b.calculateSHA512=k},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PartialEvaluator=b.OperatorList=void 0;var d=c(0),e=c(134),f=c(5),g=c(2),h=c(135),i=c(28),j=c(80),k=c(79),l=c(139),m=c(34),n=c(140),o=c(27),p=c(47),q=c(141),r=c(81),s=c(143),t=c(144),u=function(){function a(a){var b=a.xref,c=a.resources,d=a.handler,e=a.forceDataSchema,f=void 0===e?!1:e,g=a.pdfFunctionFactory;this.xref=b,this.resources=c,this.handler=d,this.forceDataSchema=f,this.pdfFunctionFactory=g}function b(a){var b=this,c=a.pdfManager,e=a.xref,f=a.handler,g=a.pageIndex,h=a.idFactory,i=a.fontCache,j=a.builtInCMapCache,k=a.options,l=void 0===k?null:k,m=a.pdfFunctionFactory;this.pdfManager=c,this.xref=e,this.handler=f,this.pageIndex=g,this.idFactory=h,this.fontCache=i,this.builtInCMapCache=j,this.options=l||u,this.pdfFunctionFactory=m,this.fetchBuiltInCMap=function(a){var c=b.builtInCMapCache[a];return c?Promise.resolve(c):b.handler.sendWithPromise("FetchBuiltInCMap",{name:a}).then(function(c){return c.compressionType!==d.CMapCompressionType.NONE&&(b.builtInCMapCache[a]=c),c})}}function c(){this.reset()}function m(a){if(!g.isName(a))return"source-over";switch(a.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return d.warn("Unsupported blend mode: "+a.name),"source-over"}var u={forceDataSchema:!1,maxImageSize:-1,disableFontFace:!1,nativeImageDecoderSupport:d.NativeImageDecoding.DECODE,ignoreErrors:!1,isEvalSupported:!0};a.prototype={canDecode:function(b){return b instanceof f.JpegStream&&a.isDecodable(b,this.xref,this.resources,this.pdfFunctionFactory)},decode:function(a){var b=a.dict,c=b.get("ColorSpace","CS");c=o.ColorSpace.parse(c,this.xref,this.resources,this.pdfFunctionFactory);var d=c.numComps,e=this.handler.sendWithPromise("JpegDecode",[a.getIR(this.forceDataSchema),d]);return e.then(function(b){var c=b.data;return new f.Stream(c,0,c.length,a.dict)})}},a.isSupported=function(a,b,c,d){var e=a.dict;if(e.has("DecodeParms")||e.has("DP"))return!1;var f=o.ColorSpace.parse(e.get("ColorSpace","CS"),b,c,d);return("DeviceGray"===f.name||"DeviceRGB"===f.name)&&f.isDefaultDecode(e.getArray("Decode","D"))},a.isDecodable=function(a,b,c,d){var e=a.dict;if(e.has("DecodeParms")||e.has("DP"))return!1;var f=o.ColorSpace.parse(e.get("ColorSpace","CS"),b,c,d);return(1===f.numComps||3===f.numComps)&&f.isDefaultDecode(e.getArray("Decode","D"))};var B=20,C=100;c.prototype={check:function(){return++this.checked<C?!1:(this.checked=0,this.endTime<=Date.now())},reset:function(){this.endTime=Date.now()+B,this.checked=0}};var D=Promise.resolve(),E=1,F=2;return b.prototype={clone:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,b=Object.create(this);return b.options=a,b},hasBlendModes:function(a){if(!g.isDict(a))return!1;var b=Object.create(null);a.objId&&(b[a.objId]=!0);for(var c=[a],d=this.xref;c.length;){var e,f,h,i=c.shift(),j=i.get("ExtGState");if(g.isDict(j)){var k=j.getKeys();for(f=0,h=k.length;h>f;f++){e=k[f];var l=j.get(e),m=l.get("BM");if(g.isName(m)&&"Normal"!==m.name)return!0}}var n=i.get("XObject");if(g.isDict(n)){var o=n.getKeys();for(f=0,h=o.length;h>f;f++){e=o[f];var p=n.getRaw(e);if(g.isRef(p)){if(b[p.toString()])continue;p=d.fetch(p)}if(g.isStream(p)){if(p.dict.objId){if(b[p.dict.objId])continue;b[p.dict.objId]=!0}var q=p.dict.get("Resources");!g.isDict(q)||q.objId&&b[q.objId]||(c.push(q),q.objId&&(b[q.objId]=!0))}}}}return!1},buildFormXObject:function(a,b,c,e,f,h){var i=b.dict,j=i.getArray("Matrix"),k=i.getArray("BBox"),l=i.get("Group");if(l){var m={matrix:j,bbox:k,smask:c,isolated:!1,knockout:!1},n=l.get("S"),p=null;g.isName(n,"Transparency")&&(m.isolated=l.get("I")||!1,m.knockout=l.get("K")||!1,l.has("CS")&&(p=o.ColorSpace.parse(l.get("CS"),this.xref,a,this.pdfFunctionFactory))),c&&c.backdrop&&(p=p||o.ColorSpace.singletons.rgb,c.backdrop=p.getRgb(c.backdrop,0)),e.addOp(d.OPS.beginGroup,[m])}return e.addOp(d.OPS.paintFormXObjectBegin,[j,k]),this.getOperatorList({stream:b,task:f,resources:i.get("Resources")||a,operatorList:e,initialState:h}).then(function(){e.addOp(d.OPS.paintFormXObjectEnd,[]),l&&e.addOp(d.OPS.endGroup,[m])})},buildPaintImageXObject:function(b,c,e,g,h,i){var j=this,k=c.dict,l=k.get("Width","W"),m=k.get("Height","H");if(!(l&&d.isNum(l)&&m&&d.isNum(m)))return void d.warn("Image dimensions are missing, or not numbers.");var n=this.options.maxImageSize;if(-1!==n&&l*m>n)return void d.warn("Image exceeded maximum allowed size and was removed.");var o,p,q=k.get("ImageMask","IM")||!1;if(q){var r=k.get("Width","W"),s=k.get("Height","H"),u=r+7>>3,v=c.getBytes(u*s),w=k.getArray("Decode","D");return o=t.PDFImage.createMask({imgArray:v,width:r,height:s,imageIsFromDecodeStream:c instanceof f.DecodeStream,inverseDecode:!!w&&w[0]>0}),o.cached=!0,p=[o],g.addOp(d.OPS.paintImageMaskXObject,p),void(h&&(i[h]={fn:d.OPS.paintImageMaskXObject,args:p}))}var x=k.get("SMask","SM")||!1,y=k.get("Mask")||!1,z=200;if(e&&!x&&!y&&!(c instanceof f.JpegStream)&&z>l+m){var A=new t.PDFImage({xref:this.xref,res:b,image:c,pdfFunctionFactory:this.pdfFunctionFactory});return o=A.createImageData(!0),void g.addOp(d.OPS.paintInlineImageXObject,[o])}var B=this.options.nativeImageDecoderSupport,C="img_"+this.idFactory.createObjId();if(g.addDependency(C),p=[C,l,m],B!==d.NativeImageDecoding.NONE&&!x&&!y&&c instanceof f.JpegStream&&a.isSupported(c,this.xref,b,this.pdfFunctionFactory))return g.addOp(d.OPS.paintJpegXObject,p),this.handler.send("obj",[C,this.pageIndex,"JpegStream",c.getIR(this.options.forceDataSchema)]),void(h&&(i[h]={fn:d.OPS.paintJpegXObject,args:p}));var D=null;B===d.NativeImageDecoding.DECODE&&(c instanceof f.JpegStream||y instanceof f.JpegStream||x instanceof f.JpegStream)&&(D=new a({xref:this.xref,resources:b,handler:this.handler,forceDataSchema:this.options.forceDataSchema,pdfFunctionFactory:this.pdfFunctionFactory})),t.PDFImage.buildImage({handler:this.handler,xref:this.xref,res:b,image:c,nativeDecoder:D,pdfFunctionFactory:this.pdfFunctionFactory}).then(function(a){var b=a.createImageData(!1);j.handler.send("obj",[C,j.pageIndex,"Image",b],[b.data.buffer])})["catch"](function(a){d.warn("Unable to decode image: "+a),j.handler.send("obj",[C,j.pageIndex,"Image",null])}),g.addOp(d.OPS.paintImageXObject,p),h&&(i[h]={fn:d.OPS.paintImageXObject,args:p})},handleSMask:function(a,b,c,d,e){var f=a.get("G"),g={subtype:a.get("S").name,backdrop:a.get("BC")},h=a.get("TR");if(r.isPDFFunction(h)){for(var i=this.pdfFunctionFactory.create(h),j=new Uint8Array(256),k=new Float32Array(1),l=0;256>l;l++)k[0]=l/255,i(k,0,k,0),j[l]=255*k[0]|0;g.transferMap=j}return this.buildFormXObject(b,f,g,c,d,e.state.clone())},handleTilingType:function(a,b,c,e,f,h,i){var j=this,k=new w,m=[f.get("Resources"),c],n=g.Dict.merge(this.xref,m);return this.getOperatorList({stream:e,task:i,resources:n,operatorList:k}).then(function(){return l.getTilingPatternIR({fnArray:k.fnArray,argsArray:k.argsArray},f,b)}).then(function(b){h.addDependencies(k.dependencies),h.addOp(a,b)},function(a){if(j.options.ignoreErrors)return j.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.unknown}),void d.warn('handleTilingType - ignoring pattern: "'+a+'".');throw a})},handleSetFont:function(a,b,c,e,f,g){var i,j=this;return b&&(b=b.slice(),i=b[0].name),this.loadFont(i,c,a).then(function(b){return b.font.isType3Font?b.loadType3Data(j,a,e,f).then(function(){return b})["catch"](function(a){return j.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.font}),new v("g_font_error",new h.ErrorFont("Type3 font load error: "+a),b.font)}):b}).then(function(a){return g.font=a.font,a.send(j.handler),a.loadedName})},handleText:function(a,b){var c=this,e=b.font,f=e.charsToGlyphs(a),g=!!(b.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG);if(e.data&&(g||this.options.disableFontFace))for(var h=function(a){if(!e.renderer.hasBuiltPath(a)){var b=e.renderer.getPathJs(a);c.handler.send("commonobj",[e.loadedName+"_path_"+a,"FontPath",b])}},i=0,j=f.length;j>i;i++){var k=f[i];h(k.fontChar);var l=k.accent;l&&l.fontChar&&h(l.fontChar)}return f},setGState:function(a,b,c,e,f){for(var h=this,i=[],j=b.getKeys(),k=Promise.resolve(),l=function(){var l=j[n],o=b.get(l);switch(l){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":i.push([l,o]);break;case"Font":k=k.then(function(){return h.handleSetFont(a,null,o[0],c,e,f.state).then(function(a){c.addDependency(a),i.push([l,[a,o[1]]])})});break;case"BM":i.push([l,m(o)]);break;case"SMask":if(g.isName(o,"None")){i.push([l,!1]);break}g.isDict(o)?(k=k.then(function(){return h.handleSMask(o,a,c,e,f)}),i.push([l,!0])):d.warn("Unsupported SMask type");break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":d.info("graphic state operator "+l);break;default:d.info("Unknown graphic state operator "+l)}},n=0,o=j.length;o>n;n++)l();return k.then(function(){i.length>0&&c.addOp(d.OPS.setGState,[i])})},loadFont:function(a,b,c){function e(){return Promise.resolve(new v("g_font_error",new h.ErrorFont("Font "+a+" is not available"),b))}var f,i=this,j=this.xref;if(b){if(!g.isRef(b))throw new Error('The "font" object should be a reference.');f=b}else{var k=c.get("Font");if(!k)return d.warn("fontRes not available"),e();f=k.getRaw(a)}if(!f)return d.warn("fontRef not available"),e();if(this.fontCache.has(f))return this.fontCache.get(f);if(b=j.fetchIfRef(f),!g.isDict(b))return e();if(b.translated)return b.translated;var l,m=d.createPromiseCapability(),n=this.preEvaluateFont(b),o=n.descriptor,p=g.isRef(f);if(p&&(l=f.toString()),g.isDict(o)){o.fontAliases||(o.fontAliases=Object.create(null));var q=o.fontAliases,r=n.hash;if(q[r]){var s=q[r].aliasRef;if(p&&s&&this.fontCache.has(s))return this.fontCache.putAlias(f,s),this.fontCache.get(f)}else q[r]={fontID:h.Font.getFontID()};p&&(q[r].aliasRef=f),l=q[r].fontID}p?this.fontCache.put(f,m.promise):(l||(l=this.idFactory.createObjId()),this.fontCache.put("id_"+l,m.promise)),d.assert(l,'The "fontID" must be defined.'),b.loadedName="g_"+this.pdfManager.docId+"_f"+l,b.translated=m.promise;var t;try{t=this.translateFont(n)}catch(u){t=Promise.reject(u)}return t.then(function(a){if(void 0!==a.fontType){var c=j.stats.fontTypes;c[a.fontType]=!0}m.resolve(new v(b.loadedName,a,b))})["catch"](function(a){i.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.font});try{var c=n.descriptor,e=c&&c.get("FontFile3"),f=e&&e.get("Subtype"),g=h.getFontType(n.type,f&&f.name),k=j.stats.fontTypes;k[g]=!0}catch(l){}m.resolve(new v(b.loadedName,new h.ErrorFont(a instanceof Error?a.message:a),b))}),m.promise},buildPath:function(a,b,c){var e=a.length-1;if(c||(c=[]),0>e||a.fnArray[e]!==d.OPS.constructPath)a.addOp(d.OPS.constructPath,[[b],c]);else{var f=a.argsArray[e];f[0].push(b),Array.prototype.push.apply(f[1],c)}},handleColorN:function(a,b,c,d,e,f,h){var i,j=c[c.length-1];if(g.isName(j)&&(i=e.get(j.name))){var k=g.isStream(i)?i.dict:i,m=k.get("PatternType");if(m===E){var n=d.base?d.base.getRgb(c,0):null;return this.handleTilingType(b,n,f,i,k,a,h)}if(m===F){var o=k.get("Shading"),p=k.getArray("Matrix");return i=l.Pattern.parseShading(o,p,this.xref,f,this.handler,this.pdfFunctionFactory),a.addOp(b,i.getIR()),Promise.resolve()}return Promise.reject(new Error("Unknown PatternType: "+m))}return a.addOp(b,c),Promise.resolve()},getOperatorList:function(a){function b(a){for(var b=0,c=u.savedStatesDepth;c>b;b++)j.addOp(d.OPS.restore,[])}var e=this,f=a.stream,h=a.task,i=a.resources,j=a.operatorList,k=a.initialState,m=void 0===k?null:k;if(i=i||g.Dict.empty,m=m||new z,!j)throw new Error('getOperatorList: missing "operatorList" parameter');var n=this,p=this.xref,q=Object.create(null),r=i.get("XObject")||g.Dict.empty,s=i.get("Pattern")||g.Dict.empty,t=new x(m),u=new A(f,p,t),v=new c;return new Promise(function w(a,c){var e=function(b){b.then(function(){try{w(a,c)}catch(b){c(b)}},c)};h.ensureNotTerminated(),v.reset();for(var f,k,m,x,y={};!(f=v.check())&&(y.args=null,u.read(y));){var z=y.args,A=y.fn;switch(0|A){case d.OPS.paintXObject:var B=z[0].name;if(B&&void 0!==q[B]){j.addOp(q[B].fn,q[B].args),z=null;continue}return void e(new Promise(function(a,b){if(!B)throw new d.FormatError("XObject must be referred to by name.");var c=r.get(B);if(!c)return j.addOp(A,z),void a();if(!g.isStream(c))throw new d.FormatError("XObject should be a stream");var e=c.dict.get("Subtype");if(!g.isName(e))throw new d.FormatError("XObject should have a Name subtype");if("Form"===e.name)return t.save(),void n.buildFormXObject(i,c,null,j,h,t.state.clone()).then(function(){t.restore(),a()},b);if("Image"===e.name)n.buildPaintImageXObject(i,c,!1,j,B,q);else{if("PS"!==e.name)throw new d.FormatError("Unhandled XObject subtype "+e.name);d.info("Ignored XObject subtype PS")}a()})["catch"](function(a){if(n.options.ignoreErrors)return n.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.unknown}),void d.warn('getOperatorList - ignoring XObject: "'+a+'".');throw a}));case d.OPS.setFont:var C=z[1];return void e(n.handleSetFont(i,z,null,j,h,t.state).then(function(a){j.addDependency(a),j.addOp(d.OPS.setFont,[a,C])}));case d.OPS.endInlineImage:var E=z[0].cacheKey;if(E){var F=q[E];if(void 0!==F){j.addOp(F.fn,F.args),z=null;continue}}n.buildPaintImageXObject(i,z[0],!0,j,E,q),z=null;continue;case d.OPS.showText:z[0]=n.handleText(z[0],t.state);break;case d.OPS.showSpacedText:var G=z[0],H=[],I=G.length,J=t.state;for(k=0;I>k;++k){var K=G[k];d.isString(K)?Array.prototype.push.apply(H,n.handleText(K,J)):d.isNum(K)&&H.push(K)}z[0]=H,A=d.OPS.showText;break;case d.OPS.nextLineShowText:j.addOp(d.OPS.nextLine),z[0]=n.handleText(z[0],t.state),A=d.OPS.showText;break;case d.OPS.nextLineSetSpacingShowText:j.addOp(d.OPS.nextLine),j.addOp(d.OPS.setWordSpacing,[z.shift()]),j.addOp(d.OPS.setCharSpacing,[z.shift()]),z[0]=n.handleText(z[0],t.state),A=d.OPS.showText;break;case d.OPS.setTextRenderingMode:t.state.textRenderingMode=z[0];break;case d.OPS.setFillColorSpace:t.state.fillColorSpace=o.ColorSpace.parse(z[0],p,i,n.pdfFunctionFactory);continue;case d.OPS.setStrokeColorSpace:t.state.strokeColorSpace=o.ColorSpace.parse(z[0],p,i,n.pdfFunctionFactory);continue;case d.OPS.setFillColor:x=t.state.fillColorSpace,z=x.getRgb(z,0),A=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeColor:x=t.state.strokeColorSpace,z=x.getRgb(z,0),A=d.OPS.setStrokeRGBColor;break;case d.OPS.setFillGray:t.state.fillColorSpace=o.ColorSpace.singletons.gray,z=o.ColorSpace.singletons.gray.getRgb(z,0),A=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeGray:t.state.strokeColorSpace=o.ColorSpace.singletons.gray,z=o.ColorSpace.singletons.gray.getRgb(z,0),A=d.OPS.setStrokeRGBColor;break;case d.OPS.setFillCMYKColor:t.state.fillColorSpace=o.ColorSpace.singletons.cmyk,z=o.ColorSpace.singletons.cmyk.getRgb(z,0),A=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeCMYKColor:t.state.strokeColorSpace=o.ColorSpace.singletons.cmyk,z=o.ColorSpace.singletons.cmyk.getRgb(z,0),A=d.OPS.setStrokeRGBColor;break;case d.OPS.setFillRGBColor:t.state.fillColorSpace=o.ColorSpace.singletons.rgb,z=o.ColorSpace.singletons.rgb.getRgb(z,0);break;case d.OPS.setStrokeRGBColor:t.state.strokeColorSpace=o.ColorSpace.singletons.rgb,z=o.ColorSpace.singletons.rgb.getRgb(z,0);break;case d.OPS.setFillColorN:if(x=t.state.fillColorSpace,"Pattern"===x.name)return void e(n.handleColorN(j,d.OPS.setFillColorN,z,x,s,i,h));z=x.getRgb(z,0),A=d.OPS.setFillRGBColor;break;case d.OPS.setStrokeColorN:if(x=t.state.strokeColorSpace,"Pattern"===x.name)return void e(n.handleColorN(j,d.OPS.setStrokeColorN,z,x,s,i,h));z=x.getRgb(z,0),A=d.OPS.setStrokeRGBColor;break;case d.OPS.shadingFill:var L=i.get("Shading");if(!L)throw new d.FormatError("No shading resource found");var M=L.get(z[0].name);if(!M)throw new d.FormatError("No shading object found");var N=l.Pattern.parseShading(M,null,p,i,n.handler,n.pdfFunctionFactory),O=N.getIR();z=[O],A=d.OPS.shadingFill;break;case d.OPS.setGState:var P=z[0],Q=i.get("ExtGState");if(!g.isDict(Q)||!Q.has(P.name))break;var R=Q.get(P.name);return void e(n.setGState(i,R,j,h,t));case d.OPS.moveTo:case d.OPS.lineTo:case d.OPS.curveTo:case d.OPS.curveTo2:case d.OPS.curveTo3:case d.OPS.closePath:n.buildPath(j,A,z);continue;case d.OPS.rectangle:n.buildPath(j,A,z);continue;case d.OPS.markPoint:case d.OPS.markPointProps:case d.OPS.beginMarkedContent:case d.OPS.beginMarkedContentProps:case d.OPS.endMarkedContent:case d.OPS.beginCompat:case d.OPS.endCompat:continue;default:if(null!==z){for(k=0,m=z.length;m>k&&!(z[k]instanceof g.Dict);k++);if(m>k){d.warn("getOperatorList - ignoring operator: "+A);continue}}}j.addOp(A,z)}return f?void e(D):(b(),void a())})["catch"](function(a){if(e.options.ignoreErrors)return e.handler.send("UnsupportedFeature",{featureId:d.UNSUPPORTED_FEATURES.unknown}),d.warn("getOperatorList - ignoring errors during task: "+h.name),void b();throw a})},getTextContent:function(a){function b(){if(I.initialized)return I;var a=F.font;a.loadedName in E||(E[a.loadedName]=!0,H.styles[a.loadedName]={fontFamily:a.fallbackName,ascent:a.ascent,descent:a.descent,vertical:a.vertical}),I.fontName=a.loadedName;var b=[F.fontSize*F.textHScale,0,0,F.fontSize,0,F.textRise];if(a.isType3Font&&F.fontMatrix!==d.FONT_IDENTITY_MATRIX&&1===F.fontSize){var c=a.bbox[3]-a.bbox[1];c>0&&(c*=F.fontMatrix[3],b[3]*=c)}var e=d.Util.transform(F.ctm,d.Util.transform(F.textMatrix,b));I.transform=e,a.vertical?(I.width=Math.sqrt(e[0]*e[0]+e[1]*e[1]),
I.height=0,I.vertical=!0):(I.width=0,I.height=Math.sqrt(e[2]*e[2]+e[3]*e[3]),I.vertical=!1);var f=F.textLineMatrix[0],g=F.textLineMatrix[1],h=Math.sqrt(f*f+g*g);f=F.ctm[0],g=F.ctm[1];var i=Math.sqrt(f*f+g*g);I.textAdvanceScale=i*h,I.lastAdvanceWidth=0,I.lastAdvanceHeight=0;var j=a.spaceWidth/1e3*F.fontSize;return j?(I.spaceWidth=j,I.fakeSpaceMin=j*J,I.fakeMultiSpaceMin=j*K,I.fakeMultiSpaceMax=j*L,I.textRunBreakAllowed=!a.isMonospace):(I.spaceWidth=0,I.fakeSpaceMin=1/0,I.fakeMultiSpaceMin=1/0,I.fakeMultiSpaceMax=0,I.textRunBreakAllowed=!1),I.initialized=!0,I}function e(a){for(var b,c=0,d=a.length;d>c&&(b=a.charCodeAt(c))>=32&&127>=b;)c++;return d>c?a.replace(G," "):a}function f(a){var b=a.str.join(""),c=n.bidi(b,-1,a.vertical);return{str:v?e(c.str):c.str,dir:c.dir,width:a.width,height:a.height,transform:a.transform,fontName:a.fontName}}function h(a,b){return M.loadFont(a,b,r).then(function(a){F.font=a.font,F.fontMatrix=a.font.fontMatrix||d.FONT_IDENTITY_MATRIX})}function i(a){for(var c=F.font,d=b(),e=0,f=0,g=c.charsToGlyphs(a),h=0;h<g.length;h++){var i=g[h],l=null;l=c.vertical&&i.vmetric?i.vmetric[0]:i.width;var m=i.unicode,n=j.getNormalizedUnicodes();void 0!==n[m]&&(m=n[m]),m=j.reverseIfRtl(m);var o=F.charSpacing;if(i.isSpace){var p=F.wordSpacing;o+=p,p>0&&k(p,d.str)}var q=0,r=0;if(c.vertical){var s=l*F.fontMatrix[0];r=s*F.fontSize+o,f+=r}else{var t=l*F.fontMatrix[0];q=(t*F.fontSize+o)*F.textHScale,e+=q}F.translateTextMatrix(q,r),d.str.push(m)}return c.vertical?(d.lastAdvanceHeight=f,d.height+=Math.abs(f)):(d.lastAdvanceWidth=e,d.width+=e),d}function k(a,b){if(!(a<I.fakeSpaceMin)){if(a<I.fakeMultiSpaceMin)return void b.push(" ");for(var c=Math.round(a/I.spaceWidth);c-->0;)b.push(" ")}}function l(){I.initialized&&(I.width*=I.textAdvanceScale,I.height*=I.textAdvanceScale,H.items.push(f(I)),I.initialized=!1,I.str.length=0)}function m(){var a=H.items.length;a>0&&(B.enqueue(H,a),H.items=[],H.styles=Object.create(null))}var o=this,p=a.stream,q=a.task,r=a.resources,s=a.stateManager,t=void 0===s?null:s,u=a.normalizeWhitespace,v=void 0===u?!1:u,w=a.combineTextItems,z=void 0===w?!1:w,B=a.sink,C=a.seenStyles,E=void 0===C?Object.create(null):C;r=r||g.Dict.empty,t=t||new x(new y);var F,G=/\s/g,H={items:[],styles:Object.create(null)},I={initialized:!1,str:[],width:0,height:0,vertical:!1,lastAdvanceWidth:0,lastAdvanceHeight:0,textAdvanceScale:0,spaceWidth:0,fakeSpaceMin:1/0,fakeMultiSpaceMin:1/0,fakeMultiSpaceMax:-0,textRunBreakAllowed:!1,transform:null,fontName:null},J=.3,K=1.5,L=4,M=this,N=this.xref,O=null,P=Object.create(null),Q=new A(p,N,t),R=new c;return new Promise(function S(a,c){var e=function(b){m(),Promise.all([b,B.ready]).then(function(){try{S(a,c)}catch(b){c(b)}},c)};q.ensureNotTerminated(),R.reset();for(var f,j={},n=[];!(f=R.check())&&(n.length=0,j.args=n,Q.read(j));){F=t.state;var o=j.fn;n=j.args;var p,s;switch(0|o){case d.OPS.setFont:var u=n[0].name,w=n[1];if(F.font&&u===F.fontName&&w===F.fontSize)break;return l(),F.fontName=u,F.fontSize=w,void e(h(u,null));case d.OPS.setTextRise:l(),F.textRise=n[0];break;case d.OPS.setHScale:l(),F.textHScale=n[0]/100;break;case d.OPS.setLeading:l(),F.leading=n[0];break;case d.OPS.moveText:var y=F.font?0===(F.font.vertical?n[0]:n[1]):!1;if(p=n[0]-n[1],z&&y&&I.initialized&&p>0&&p<=I.fakeMultiSpaceMax){F.translateTextLineMatrix(n[0],n[1]),I.width+=n[0]-I.lastAdvanceWidth,I.height+=n[1]-I.lastAdvanceHeight,s=n[0]-I.lastAdvanceWidth-(n[1]-I.lastAdvanceHeight),k(s,I.str);break}l(),F.translateTextLineMatrix(n[0],n[1]),F.textMatrix=F.textLineMatrix.slice();break;case d.OPS.setLeadingMoveText:l(),F.leading=-n[1],F.translateTextLineMatrix(n[0],n[1]),F.textMatrix=F.textLineMatrix.slice();break;case d.OPS.nextLine:l(),F.carriageReturn();break;case d.OPS.setTextMatrix:if(p=F.calcTextLineMatrixAdvance(n[0],n[1],n[2],n[3],n[4],n[5]),z&&null!==p&&I.initialized&&p.value>0&&p.value<=I.fakeMultiSpaceMax){F.translateTextLineMatrix(p.width,p.height),I.width+=p.width-I.lastAdvanceWidth,I.height+=p.height-I.lastAdvanceHeight,s=p.width-I.lastAdvanceWidth-(p.height-I.lastAdvanceHeight),k(s,I.str);break}l(),F.setTextMatrix(n[0],n[1],n[2],n[3],n[4],n[5]),F.setTextLineMatrix(n[0],n[1],n[2],n[3],n[4],n[5]);break;case d.OPS.setCharSpacing:F.charSpacing=n[0];break;case d.OPS.setWordSpacing:F.wordSpacing=n[0];break;case d.OPS.beginText:l(),F.textMatrix=d.IDENTITY_MATRIX.slice(),F.textLineMatrix=d.IDENTITY_MATRIX.slice();break;case d.OPS.showSpacedText:for(var A,C=n[0],G=0,J=C.length;J>G;G++)if("string"==typeof C[G])i(C[G]);else if(d.isNum(C[G])){b(),p=C[G]*F.fontSize/1e3;var K=!1;F.font.vertical?(A=p,F.translateTextMatrix(0,A),K=I.textRunBreakAllowed&&p>I.fakeMultiSpaceMax,K||(I.height+=A)):(p=-p,A=p*F.textHScale,F.translateTextMatrix(A,0),K=I.textRunBreakAllowed&&p>I.fakeMultiSpaceMax,K||(I.width+=A)),K?l():p>0&&k(p,I.str)}break;case d.OPS.showText:i(n[0]);break;case d.OPS.nextLineShowText:l(),F.carriageReturn(),i(n[0]);break;case d.OPS.nextLineSetSpacingShowText:l(),F.wordSpacing=n[0],F.charSpacing=n[1],F.carriageReturn(),i(n[2]);break;case d.OPS.paintXObject:l(),O||(O=r.get("XObject")||g.Dict.empty);var L=n[0].name;if(L&&void 0!==P[L])break;return void e(new Promise(function(a,b){if(!L)throw new d.FormatError("XObject must be referred to by name.");var c=O.get(L);if(!c)return void a();if(!g.isStream(c))throw new d.FormatError("XObject should be a stream");var e=c.dict.get("Subtype");if(!g.isName(e))throw new d.FormatError("XObject should have a Name subtype");if("Form"!==e.name)return P[L]=!0,void a();var f=t.state.clone(),h=new x(f),i=c.dict.getArray("Matrix");Array.isArray(i)&&6===i.length&&h.transform(i),m();var j={enqueueInvoked:!1,enqueue:function(a,b){this.enqueueInvoked=!0,B.enqueue(a,b)},get desiredSize(){return B.desiredSize},get ready(){return B.ready}};M.getTextContent({stream:c,task:q,resources:c.dict.get("Resources")||r,stateManager:h,normalizeWhitespace:v,combineTextItems:z,sink:j,seenStyles:E}).then(function(){j.enqueueInvoked||(P[L]=!0),a()},b)})["catch"](function(a){if(!(a instanceof d.AbortException)){if(M.options.ignoreErrors)return void d.warn('getTextContent - ignoring XObject: "'+a+'".');throw a}}));case d.OPS.setGState:l();var N=n[0],T=r.get("ExtGState");if(!g.isDict(T)||!g.isName(N))break;var U=T.get(N.name);if(!g.isDict(U))break;var V=U.get("Font");if(V)return F.fontName=null,F.fontSize=V[1],void e(h(null,V[0]))}if(H.items.length>=B.desiredSize){f=!0;break}}return f?void e(D):(l(),m(),void a())})["catch"](function(a){if(!(a instanceof d.AbortException)){if(o.options.ignoreErrors)return d.warn("getTextContent - ignoring errors during task: "+q.name),l(),void m();throw a}})},extractDataStructures:function(a,b,c){var e=this,f=this.xref,j=a.get("ToUnicode")||b.get("ToUnicode"),k=j?this.readToUnicode(j):Promise.resolve(void 0);if(c.composite){var l=a.get("CIDSystemInfo");g.isDict(l)&&(c.cidSystemInfo={registry:l.get("Registry"),ordering:l.get("Ordering"),supplement:l.get("Supplement")});var m=a.get("CIDToGIDMap");g.isStream(m)&&(c.cidToGidMap=this.readCidToGidMap(m))}var n,o=[],p=null;if(a.has("Encoding")){if(n=a.get("Encoding"),g.isDict(n)){if(p=n.get("BaseEncoding"),p=g.isName(p)?p.name:null,n.has("Differences"))for(var q=n.get("Differences"),r=0,s=0,t=q.length;t>s;s++){var u=f.fetchIfRef(q[s]);if(d.isNum(u))r=u;else{if(!g.isName(u))throw new d.FormatError("Invalid entry in 'Differences' array: "+u);o[r++]=u.name}}}else{if(!g.isName(n))throw new d.FormatError("Encoding is not a Name nor a Dict");p=n.name}"MacRomanEncoding"!==p&&"MacExpertEncoding"!==p&&"WinAnsiEncoding"!==p&&(p=null)}if(p)c.defaultEncoding=i.getEncoding(p).slice();else{var v=!!(c.flags&h.FontFlags.Symbolic),w=!!(c.flags&h.FontFlags.Nonsymbolic);n=i.StandardEncoding,"TrueType"!==c.type||w||(n=i.WinAnsiEncoding),v&&(n=i.MacRomanEncoding,c.file||(/Symbol/i.test(c.name)?n=i.SymbolSetEncoding:/Dingbats/i.test(c.name)&&(n=i.ZapfDingbatsEncoding))),c.defaultEncoding=n}return c.differences=o,c.baseEncodingName=p,c.hasEncoding=!!p||o.length>0,c.dict=a,k.then(function(a){return c.toUnicode=a,e.buildToUnicode(c)}).then(function(a){return c.toUnicode=a,c})},buildToUnicode:function(a){if(a.hasIncludedToUnicodeMap=!!a.toUnicode&&a.toUnicode.length>0,a.hasIncludedToUnicodeMap)return Promise.resolve(a.toUnicode);var b,c,f;if(!a.composite){b=[];var k=a.defaultEncoding.slice(),l=a.baseEncodingName,m=a.differences;for(c in m)f=m[c],".notdef"!==f&&(k[c]=f);var n=p.getGlyphsUnicode();for(c in k)if(f=k[c],""!==f)if(void 0!==n[f])b[c]=String.fromCharCode(n[f]);else{var o=0;switch(f[0]){case"G":3===f.length&&(o=parseInt(f.substr(1),16));break;case"g":5===f.length&&(o=parseInt(f.substr(1),16));break;case"C":case"c":f.length>=3&&(o=+f.substr(1));break;default:var q=j.getUnicodeForGlyph(f,n);-1!==q&&(o=q)}if(o){if(l&&o===+c){var r=i.getEncoding(l);if(r&&(f=r[c])){b[c]=String.fromCharCode(n[f]);continue}}b[c]=String.fromCharCode(o)}}return Promise.resolve(new h.ToUnicodeMap(b))}if(a.composite&&(a.cMap.builtInCMap&&!(a.cMap instanceof e.IdentityCMap)||"Adobe"===a.cidSystemInfo.registry&&("GB1"===a.cidSystemInfo.ordering||"CNS1"===a.cidSystemInfo.ordering||"Japan1"===a.cidSystemInfo.ordering||"Korea1"===a.cidSystemInfo.ordering))){var s=a.cidSystemInfo.registry,t=a.cidSystemInfo.ordering,u=g.Name.get(s+"-"+t+"-UCS2");return e.CMapFactory.create({encoding:u,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(c){var e=a.cMap;return b=[],e.forEach(function(a,e){if(e>65535)throw new d.FormatError("Max size of CID is 65,535");var f=c.lookup(e);f&&(b[a]=String.fromCharCode((f.charCodeAt(0)<<8)+f.charCodeAt(1)))}),new h.ToUnicodeMap(b)})}return Promise.resolve(new h.IdentityToUnicodeMap(a.firstChar,a.lastChar))},readToUnicode:function(a){var b=a;return g.isName(b)?e.CMapFactory.create({encoding:b,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(a){return a instanceof e.IdentityCMap?new h.IdentityToUnicodeMap(0,65535):new h.ToUnicodeMap(a.getMap())}):g.isStream(b)?e.CMapFactory.create({encoding:b,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(a){if(a instanceof e.IdentityCMap)return new h.IdentityToUnicodeMap(0,65535);var b=new Array(a.length);return a.forEach(function(a,c){for(var d=[],e=0;e<c.length;e+=2){var f=c.charCodeAt(e)<<8|c.charCodeAt(e+1);if(55296===(63488&f)){e+=2;var g=c.charCodeAt(e)<<8|c.charCodeAt(e+1);d.push(((1023&f)<<10)+(1023&g)+65536)}else d.push(f)}b[a]=String.fromCharCode.apply(String,d)}),new h.ToUnicodeMap(b)}):Promise.resolve(null)},readCidToGidMap:function(a){for(var b=a.getBytes(),c=[],d=0,e=b.length;e>d;d++){var f=b[d++]<<8|b[d];if(0!==f){var g=d>>1;c[g]=f}}return c},extractWidths:function(a,b,c){var d,e,f,i,j,k,l,m,n=this.xref,o=[],p=0,q=[];if(c.composite){if(p=a.has("DW")?a.get("DW"):1e3,m=a.get("W"))for(e=0,f=m.length;f>e;e++)if(k=n.fetchIfRef(m[e++]),l=n.fetchIfRef(m[e]),Array.isArray(l))for(i=0,j=l.length;j>i;i++)o[k++]=n.fetchIfRef(l[i]);else{var r=n.fetchIfRef(m[++e]);for(i=k;l>=i;i++)o[i]=r}if(c.vertical){var s=a.getArray("DW2")||[880,-1e3];if(d=[s[1],.5*p,s[0]],s=a.get("W2"))for(e=0,f=s.length;f>e;e++)if(k=n.fetchIfRef(s[e++]),l=n.fetchIfRef(s[e]),Array.isArray(l))for(i=0,j=l.length;j>i;i++)q[k++]=[n.fetchIfRef(l[i++]),n.fetchIfRef(l[i++]),n.fetchIfRef(l[i])];else{var t=[n.fetchIfRef(s[++e]),n.fetchIfRef(s[++e]),n.fetchIfRef(s[++e])];for(i=k;l>=i;i++)q[i]=t}}}else{var u=c.firstChar;if(m=a.get("Widths")){for(i=u,e=0,f=m.length;f>e;e++)o[i++]=n.fetchIfRef(m[e]);p=parseFloat(b.get("MissingWidth"))||0}else{var v=a.get("BaseFont");if(g.isName(v)){var w=this.getBaseFontMetrics(v.name);o=this.buildCharCodeToWidth(w.widths,c),p=w.defaultWidth}}}var x=!0,y=p;for(var z in o){var A=o[z];if(A)if(y){if(y!==A){x=!1;break}}else y=A}x&&(c.flags|=h.FontFlags.FixedPitch),c.defaultWidth=p,c.widths=o,c.defaultVMetrics=d,c.vmetrics=q},isSerifFont:function(a){var b=a.split("-")[0];return b in k.getSerifFonts()||-1!==b.search(/serif/gi)},getBaseFontMetrics:function(a){var b=0,c=[],e=!1,f=k.getStdFontMap(),g=f[a]||a,h=q.getMetrics();g in h||(g=this.isSerifFont(a)?"Times-Roman":"Helvetica");var i=h[g];return d.isNum(i)?(b=i,e=!0):c=i(),{defaultWidth:b,monospace:e,widths:c}},buildCharCodeToWidth:function(a,b){for(var c=Object.create(null),d=b.differences,e=b.defaultEncoding,f=0;256>f;f++)f in d&&a[d[f]]?c[f]=a[d[f]]:f in e&&a[e[f]]&&(c[f]=a[e[f]]);return c},preEvaluateFont:function(a){var b=a,c=a.get("Subtype");if(!g.isName(c))throw new d.FormatError("invalid font Subtype");var e,f=!1;if("Type0"===c.name){var h=a.get("DescendantFonts");if(!h)throw new d.FormatError("Descendant fonts are not specified");if(a=Array.isArray(h)?this.xref.fetchIfRef(h[0]):h,c=a.get("Subtype"),!g.isName(c))throw new d.FormatError("invalid font Subtype");f=!0}var i=a.get("FontDescriptor");if(i){var j=new s.MurmurHash3_64,k=b.getRaw("Encoding");if(g.isName(k))j.update(k.name);else if(g.isRef(k))j.update(k.toString());else if(g.isDict(k))for(var l=k.getKeys(),m=0,n=l.length;n>m;m++){var o=k.getRaw(l[m]);if(g.isName(o))j.update(o.name);else if(g.isRef(o))j.update(o.toString());else if(Array.isArray(o)){for(var p=o.length,q=new Array(p),r=0;p>r;r++){var t=o[r];g.isName(t)?q[r]=t.name:(d.isNum(t)||g.isRef(t))&&(q[r]=t.toString())}j.update(q.join())}}var u=a.get("ToUnicode")||b.get("ToUnicode");if(g.isStream(u)){var v=u.str||u;e=v.buffer?new Uint8Array(v.buffer.buffer,0,v.bufferLength):new Uint8Array(v.bytes.buffer,v.start,v.end-v.start),j.update(e)}else g.isName(u)&&j.update(u.name);var w=a.get("Widths")||b.get("Widths");w&&(e=new Uint8Array(new Uint32Array(w).buffer),j.update(e))}return{descriptor:i,dict:a,baseDict:b,composite:f,type:c.name,hash:j?j.hexdigest():""}},translateFont:function(a){var b,c=this,f=a.baseDict,i=a.dict,j=a.composite,l=a.descriptor,m=a.type,n=j?65535:255;if(!l){if("Type3"!==m){var o=i.get("BaseFont");if(!g.isName(o))throw new d.FormatError("Base font is not specified");o=o.name.replace(/[,_]/g,"-");var p=this.getBaseFontMetrics(o),q=o.split("-")[0],r=(this.isSerifFont(q)?h.FontFlags.Serif:0)|(p.monospace?h.FontFlags.FixedPitch:0)|(k.getSymbolsFonts()[q]?h.FontFlags.Symbolic:h.FontFlags.Nonsymbolic);return b={type:m,name:o,widths:p.widths,defaultWidth:p.defaultWidth,flags:r,firstChar:0,lastChar:n},this.extractDataStructures(i,i,b).then(function(a){return a.widths=c.buildCharCodeToWidth(p.widths,a),new h.Font(o,null,a)})}l=new g.Dict(null),l.set("FontName",g.Name.get(m)),l.set("FontBBox",i.getArray("FontBBox"))}var s=i.get("FirstChar")||0,t=i.get("LastChar")||n,u=l.get("FontName"),v=i.get("BaseFont");if(d.isString(u)&&(u=g.Name.get(u)),d.isString(v)&&(v=g.Name.get(v)),"Type3"!==m){var w=u&&u.name,x=v&&v.name;w!==x&&(d.info("The FontDescriptor's FontName is \""+w+'" but should be the same as the Font\'s BaseFont "'+x+'"'),w&&x&&0===x.indexOf(w)&&(u=v))}if(u=u||v,!g.isName(u))throw new d.FormatError("invalid font name");var y=l.get("FontFile","FontFile2","FontFile3");if(y&&y.dict){var z=y.dict.get("Subtype");z&&(z=z.name);var A=y.dict.get("Length1"),B=y.dict.get("Length2"),C=y.dict.get("Length3")}b={type:m,name:u.name,subtype:z,file:y,length1:A,length2:B,length3:C,loadedName:f.loadedName,composite:j,wideChars:j,fixedPitch:!1,fontMatrix:i.getArray("FontMatrix")||d.FONT_IDENTITY_MATRIX,firstChar:s||0,lastChar:t||n,bbox:l.getArray("FontBBox"),ascent:l.get("Ascent"),descent:l.get("Descent"),xHeight:l.get("XHeight"),capHeight:l.get("CapHeight"),flags:l.get("Flags"),italicAngle:l.get("ItalicAngle"),isType3Font:!1};var D;if(j){var E=f.get("Encoding");g.isName(E)&&(b.cidEncoding=E.name),D=e.CMapFactory.create({encoding:E,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(a){b.cMap=a,b.vertical=b.cMap.vertical})}else D=Promise.resolve(void 0);return D.then(function(){return c.extractDataStructures(i,f,b)}).then(function(a){return c.extractWidths(i,l,a),"Type3"===m&&(a.isType3Font=!0),new h.Font(u.name,y,a)})}},b}(),v=function(){function a(a,b,c){this.loadedName=a,this.font=b,this.dict=c,this.type3Loaded=null,this.sent=!1}return a.prototype={send:function(a){if(!this.sent){var b=this.font.exportData();a.send("commonobj",[this.loadedName,"Font",b]),this.sent=!0}},loadType3Data:function(a,b,c,e){if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");if(this.type3Loaded)return this.type3Loaded;var f=Object.create(a.options);f.ignoreErrors=!1;for(var g=a.clone(f),h=this.font,i=Promise.resolve(),j=this.dict.get("CharProcs"),k=this.dict.get("Resources")||b,l=j.getKeys(),m=Object.create(null),n=function(){var a=l[o];i=i.then(function(){var b=j.get(a),f=new w;return g.getOperatorList({stream:b,task:e,resources:k,operatorList:f}).then(function(){m[a]=f.getIR(),c.addDependencies(f.dependencies)})["catch"](function(b){d.warn('Type3 font resource "'+a+'" is not available.');var c=new w;m[a]=c.getIR()})})},o=0,p=l.length;p>o;++o)n();return this.type3Loaded=i.then(function(){h.charProcOperatorList=m}),this.type3Loaded}},a}(),w=function(){function a(a){for(var b=[],c=a.fnArray,e=a.argsArray,f=0,g=a.length;g>f;f++)switch(c[f]){case d.OPS.paintInlineImageXObject:case d.OPS.paintInlineImageXObjectGroup:case d.OPS.paintImageMaskXObject:var h=e[f][0];h.cached||b.push(h.data.buffer)}return b}function b(a,b,c){this.messageHandler=b,this.fnArray=[],this.argsArray=[],this.dependencies=Object.create(null),this._totalLength=0,this.pageIndex=c,this.intent=a}var c=1e3,e=c-5;return b.prototype={get length(){return this.argsArray.length},get totalLength(){return this._totalLength+this.length},addOp:function(a,b){this.fnArray.push(a),this.argsArray.push(b),this.messageHandler&&(this.fnArray.length>=c?this.flush():this.fnArray.length>=e&&(a===d.OPS.restore||a===d.OPS.endText)&&this.flush())},addDependency:function(a){a in this.dependencies||(this.dependencies[a]=!0,this.addOp(d.OPS.dependency,[a]))},addDependencies:function(a){for(var b in a)this.addDependency(b)},addOpList:function(a){d.Util.extendObj(this.dependencies,a.dependencies);for(var b=0,c=a.length;c>b;b++)this.addOp(a.fnArray[b],a.argsArray[b])},getIR:function(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}},flush:function(b){"oplist"!==this.intent&&(new B).optimize(this);var c=a(this),d=this.length;this._totalLength+=d,this.messageHandler.send("RenderPageChunk",{operatorList:{fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:b,length:d},pageIndex:this.pageIndex,intent:this.intent},c),this.dependencies=Object.create(null),this.fnArray.length=0,this.argsArray.length=0}},b}(),x=function(){function a(a){this.state=a,this.stateStack=[]}return a.prototype={save:function(){var a=this.state;this.stateStack.push(this.state),this.state=a.clone()},restore:function(){var a=this.stateStack.pop();a&&(this.state=a)},transform:function(a){this.state.ctm=d.Util.transform(this.state.ctm,a)}},a}(),y=function(){function a(){this.ctm=new Float32Array(d.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.textMatrix=d.IDENTITY_MATRIX.slice(),this.textLineMatrix=d.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}return a.prototype={setTextMatrix:function(a,b,c,d,e,f){var g=this.textMatrix;g[0]=a,g[1]=b,g[2]=c,g[3]=d,g[4]=e,g[5]=f},setTextLineMatrix:function(a,b,c,d,e,f){var g=this.textLineMatrix;g[0]=a,g[1]=b,g[2]=c,g[3]=d,g[4]=e,g[5]=f},translateTextMatrix:function(a,b){var c=this.textMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5]},translateTextLineMatrix:function(a,b){var c=this.textLineMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5]},calcTextLineMatrixAdvance:function(a,b,c,d,e,f){var g=this.font;if(!g)return null;var h=this.textLineMatrix;if(a!==h[0]||b!==h[1]||c!==h[2]||d!==h[3])return null;var i=e-h[4],j=f-h[5];if(g.vertical&&0!==i||!g.vertical&&0!==j)return null;var k,l,m=a*d-b*c;return g.vertical?(k=-j*c/m,l=j*a/m):(k=i*d/m,l=-i*b/m),{width:k,height:l,value:g.vertical?l:k}},calcRenderMatrix:function(a){var b=[this.fontSize*this.textHScale,0,0,this.fontSize,0,this.textRise];return d.Util.transform(a,d.Util.transform(this.textMatrix,b))},carriageReturn:function(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()},clone:function(){var a=Object.create(this);return a.textMatrix=this.textMatrix.slice(),a.textLineMatrix=this.textLineMatrix.slice(),a.fontMatrix=this.fontMatrix.slice(),a}},a}(),z=function(){function a(){this.ctm=new Float32Array(d.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=d.TextRenderingMode.FILL,this.fillColorSpace=o.ColorSpace.singletons.gray,this.strokeColorSpace=o.ColorSpace.singletons.gray}return a.prototype={clone:function(){return Object.create(this)}},a}(),A=function(){function a(a,c,d){this.opMap=b(),this.parser=new m.Parser(new m.Lexer(a,this.opMap),!1,c),this.stateManager=d,this.nonProcessedArgs=[]}var b=d.getLookupTableFactory(function(a){a.w={id:d.OPS.setLineWidth,numArgs:1,variableArgs:!1},a.J={id:d.OPS.setLineCap,numArgs:1,variableArgs:!1},a.j={id:d.OPS.setLineJoin,numArgs:1,variableArgs:!1},a.M={id:d.OPS.setMiterLimit,numArgs:1,variableArgs:!1},a.d={id:d.OPS.setDash,numArgs:2,variableArgs:!1},a.ri={id:d.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},a.i={id:d.OPS.setFlatness,numArgs:1,variableArgs:!1},a.gs={id:d.OPS.setGState,numArgs:1,variableArgs:!1},a.q={id:d.OPS.save,numArgs:0,variableArgs:!1},a.Q={id:d.OPS.restore,numArgs:0,variableArgs:!1},a.cm={id:d.OPS.transform,numArgs:6,variableArgs:!1},a.m={id:d.OPS.moveTo,numArgs:2,variableArgs:!1},a.l={id:d.OPS.lineTo,numArgs:2,variableArgs:!1},a.c={id:d.OPS.curveTo,numArgs:6,variableArgs:!1},a.v={id:d.OPS.curveTo2,numArgs:4,variableArgs:!1},a.y={id:d.OPS.curveTo3,numArgs:4,variableArgs:!1},a.h={id:d.OPS.closePath,numArgs:0,variableArgs:!1},a.re={id:d.OPS.rectangle,numArgs:4,variableArgs:!1},a.S={id:d.OPS.stroke,numArgs:0,variableArgs:!1},a.s={id:d.OPS.closeStroke,numArgs:0,variableArgs:!1},a.f={id:d.OPS.fill,numArgs:0,variableArgs:!1},a.F={id:d.OPS.fill,numArgs:0,variableArgs:!1},a["f*"]={id:d.OPS.eoFill,numArgs:0,variableArgs:!1},a.B={id:d.OPS.fillStroke,numArgs:0,variableArgs:!1},a["B*"]={id:d.OPS.eoFillStroke,numArgs:0,variableArgs:!1},a.b={id:d.OPS.closeFillStroke,numArgs:0,variableArgs:!1},a["b*"]={id:d.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},a.n={id:d.OPS.endPath,numArgs:0,variableArgs:!1},a.W={id:d.OPS.clip,numArgs:0,variableArgs:!1},a["W*"]={id:d.OPS.eoClip,numArgs:0,variableArgs:!1},a.BT={id:d.OPS.beginText,numArgs:0,variableArgs:!1},a.ET={id:d.OPS.endText,numArgs:0,variableArgs:!1},a.Tc={id:d.OPS.setCharSpacing,numArgs:1,variableArgs:!1},a.Tw={id:d.OPS.setWordSpacing,numArgs:1,variableArgs:!1},a.Tz={id:d.OPS.setHScale,numArgs:1,variableArgs:!1},a.TL={id:d.OPS.setLeading,numArgs:1,variableArgs:!1},a.Tf={id:d.OPS.setFont,numArgs:2,variableArgs:!1},a.Tr={id:d.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},a.Ts={id:d.OPS.setTextRise,numArgs:1,variableArgs:!1},a.Td={id:d.OPS.moveText,numArgs:2,variableArgs:!1},a.TD={id:d.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},a.Tm={id:d.OPS.setTextMatrix,numArgs:6,variableArgs:!1},a["T*"]={id:d.OPS.nextLine,numArgs:0,variableArgs:!1},a.Tj={id:d.OPS.showText,numArgs:1,variableArgs:!1},a.TJ={id:d.OPS.showSpacedText,numArgs:1,variableArgs:!1},a["'"]={id:d.OPS.nextLineShowText,numArgs:1,variableArgs:!1},a['"']={id:d.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},a.d0={id:d.OPS.setCharWidth,numArgs:2,variableArgs:!1},a.d1={id:d.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},a.CS={id:d.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},a.cs={id:d.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},a.SC={id:d.OPS.setStrokeColor,numArgs:4,variableArgs:!0},a.SCN={id:d.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},a.sc={id:d.OPS.setFillColor,numArgs:4,variableArgs:!0},a.scn={id:d.OPS.setFillColorN,numArgs:33,variableArgs:!0},a.G={id:d.OPS.setStrokeGray,numArgs:1,variableArgs:!1},a.g={id:d.OPS.setFillGray,numArgs:1,variableArgs:!1},a.RG={id:d.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},a.rg={id:d.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},a.K={id:d.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},a.k={id:d.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},a.sh={id:d.OPS.shadingFill,numArgs:1,variableArgs:!1},a.BI={id:d.OPS.beginInlineImage,numArgs:0,variableArgs:!1},a.ID={id:d.OPS.beginImageData,numArgs:0,variableArgs:!1},a.EI={id:d.OPS.endInlineImage,numArgs:1,variableArgs:!1},a.Do={id:d.OPS.paintXObject,numArgs:1,variableArgs:!1},a.MP={id:d.OPS.markPoint,numArgs:1,variableArgs:!1},a.DP={id:d.OPS.markPointProps,numArgs:2,variableArgs:!1},a.BMC={id:d.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},a.BDC={id:d.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},a.EMC={id:d.OPS.endMarkedContent,numArgs:0,variableArgs:!1},a.BX={id:d.OPS.beginCompat,numArgs:0,variableArgs:!1},a.EX={id:d.OPS.endCompat,numArgs:0,variableArgs:!1},a.BM=null,a.BD=null,a["true"]=null,a.fa=null,a.fal=null,a.fals=null,a["false"]=null,a.nu=null,a.nul=null,a["null"]=null});return a.prototype={get savedStatesDepth(){return this.stateManager.stateStack.length},read:function(a){for(var b=a.args;;){var c=this.parser.getObj();if(g.isCmd(c)){var e=c.cmd,f=this.opMap[e];if(!f){d.warn('Unknown command "'+e+'"');continue}var h=f.id,i=f.numArgs,j=null!==b?b.length:0;if(f.variableArgs)j>i&&d.info("Command "+h+": expected [0,"+i+"] args, but received "+j+" args.");else{if(j!==i){for(var k=this.nonProcessedArgs;j>i;)k.push(b.shift()),j--;for(;i>j&&0!==k.length;)null===b&&(b=[]),b.unshift(k.pop()),j++}if(i>j){d.warn("Skipping command "+h+": expected "+i+" args, but received "+j+" args."),null!==b&&(b.length=0);continue}}return this.preprocessCommand(h,b),a.fn=h,a.args=b,!0}if(g.isEOF(c))return!1;if(null!==c&&(null===b&&(b=[]),b.push(c),b.length>33))throw new d.FormatError("Too many arguments")}},preprocessCommand:function(a,b){switch(0|a){case d.OPS.save:this.stateManager.save();break;case d.OPS.restore:this.stateManager.restore();break;case d.OPS.transform:this.stateManager.transform(b)}}},a}(),B=function(){function a(a,b,c){for(var d=a,e=0,f=b.length-1;f>e;e++){var g=b[e];d=d[g]||(d[g]=[])}d[b[b.length-1]]=c}function b(a,b,c,e){for(var f=a+2,g=0;b>g;g++){var h=e[f+4*g],i=1===h.length&&h[0];if(!i||1!==i.width||1!==i.height||i.data.length&&(1!==i.data.length||0!==i.data[0]))break;c[f+4*g]=d.OPS.paintSolidColorImageMask}return b-g}function c(){}var e=[];return a(e,[d.OPS.save,d.OPS.transform,d.OPS.paintInlineImageXObject,d.OPS.restore],function(a){for(var b=10,c=200,e=1e3,f=1,g=a.fnArray,h=a.argsArray,i=a.iCurr,j=i-3,k=i-2,l=i-1,m=j+4,n=g.length;n>m+3&&g[m]===d.OPS.save&&g[m+1]===d.OPS.transform&&g[m+2]===d.OPS.paintInlineImageXObject&&g[m+3]===d.OPS.restore;)m+=4;var o=Math.min((m-j)/4,c);if(b>o)return m;var p,q=0,r=[],s=0,t=f,u=f;for(p=0;o>p;p++){var v=h[k+(p<<2)],w=h[l+(p<<2)][0];t+w.width>e&&(q=Math.max(q,t),u+=s+2*f,t=0,s=0),r.push({transform:v,x:t,y:u,w:w.width,h:w.height}),t+=w.width+2*f,s=Math.max(s,w.height)}var x=Math.max(q,t)+f,y=u+s+f,z=new Uint8Array(x*y*4),A=x<<2;for(p=0;o>p;p++){var B=h[l+(p<<2)][0].data,C=r[p].w<<2,D=0,E=r[p].x+r[p].y*x<<2;z.set(B.subarray(0,C),E-A);for(var F=0,G=r[p].h;G>F;F++)z.set(B.subarray(D,D+C),E),D+=C,E+=A;for(z.set(B.subarray(D-C,D),E);E>=0;)B[E-4]=B[E],B[E-3]=B[E+1],B[E-2]=B[E+2],B[E-1]=B[E+3],B[E+C]=B[E+C-4],B[E+C+1]=B[E+C-3],B[E+C+2]=B[E+C-2],B[E+C+3]=B[E+C-1],E-=A}return g.splice(j,4*o,d.OPS.paintInlineImageXObjectGroup),h.splice(j,4*o,[{width:x,height:y,kind:d.ImageKind.RGBA_32BPP,data:z},r]),j+1}),a(e,[d.OPS.save,d.OPS.transform,d.OPS.paintImageMaskXObject,d.OPS.restore],function(a){for(var c=10,e=100,f=1e3,g=a.fnArray,h=a.argsArray,i=a.iCurr,j=i-3,k=i-2,l=i-1,m=j+4,n=g.length;n>m+3&&g[m]===d.OPS.save&&g[m+1]===d.OPS.transform&&g[m+2]===d.OPS.paintImageMaskXObject&&g[m+3]===d.OPS.restore;)m+=4;var o=(m-j)/4;if(o=b(j,o,g,h),c>o)return m;var p,q,r,s=!1,t=h[l][0];if(0===h[k][1]&&0===h[k][2]){s=!0;var u=h[k][0],v=h[k][3];q=k+4;var w=l+4;for(p=1;o>p;p++,q+=4,w+=4)if(r=h[q],h[w][0]!==t||r[0]!==u||0!==r[1]||0!==r[2]||r[3]!==v){c>p?s=!1:o=p;break}}if(s){o=Math.min(o,f);var x=new Float32Array(2*o);for(q=k,p=0;o>p;p++,q+=4)r=h[q],x[p<<1]=r[4],x[(p<<1)+1]=r[5];g.splice(j,4*o,d.OPS.paintImageMaskXObjectRepeat),h.splice(j,4*o,[t,u,v,x])}else{o=Math.min(o,e);var y=[];for(p=0;o>p;p++){r=h[k+(p<<2)];var z=h[l+(p<<2)][0];y.push({data:z.data,width:z.width,height:z.height,transform:r})}g.splice(j,4*o,d.OPS.paintImageMaskXObjectGroup),h.splice(j,4*o,[y])}return j+1}),a(e,[d.OPS.save,d.OPS.transform,d.OPS.paintImageXObject,d.OPS.restore],function(a){var b=3,c=1e3,e=a.fnArray,f=a.argsArray,g=a.iCurr,h=g-3,i=g-2,j=g-1,k=g;if(0!==f[i][1]||0!==f[i][2])return k+1;for(var l=f[j][0],m=f[i][0],n=f[i][3],o=h+4,p=e.length;p>o+3&&e[o]===d.OPS.save&&e[o+1]===d.OPS.transform&&e[o+2]===d.OPS.paintImageXObject&&e[o+3]===d.OPS.restore&&f[o+1][0]===m&&0===f[o+1][1]&&0===f[o+1][2]&&f[o+1][3]===n&&f[o+2][0]===l;)o+=4;var q=Math.min((o-h)/4,c);if(b>q)return o;for(var r=new Float32Array(2*q),s=i,t=0;q>t;t++,s+=4){var u=f[s];r[t<<1]=u[4],r[(t<<1)+1]=u[5]}var v=[l,m,n,r];return e.splice(h,4*q,d.OPS.paintImageXObjectRepeat),f.splice(h,4*q,v),h+1}),a(e,[d.OPS.beginText,d.OPS.setFont,d.OPS.setTextMatrix,d.OPS.showText,d.OPS.endText],function(a){for(var b=3,c=1e3,e=a.fnArray,f=a.argsArray,g=a.iCurr,h=g-4,i=g-3,j=g-2,k=g-1,l=g,m=f[i][0],n=f[i][1],o=h+5,p=e.length;p>o+4&&e[o]===d.OPS.beginText&&e[o+1]===d.OPS.setFont&&e[o+2]===d.OPS.setTextMatrix&&e[o+3]===d.OPS.showText&&e[o+4]===d.OPS.endText&&f[o+1][0]===m&&f[o+1][1]===n;)o+=5;var q=Math.min((o-h)/5,c);if(b>q)return o;var r=h;h>=4&&e[h-4]===e[i]&&e[h-3]===e[j]&&e[h-2]===e[k]&&e[h-1]===e[l]&&f[h-4][0]===m&&f[h-4][1]===n&&(q++,r-=5);for(var s=r+4,t=1;q>t;t++)e.splice(s,3),f.splice(s,3),s+=2;return s+1}),c.prototype={optimize:function(a){for(var b,c=a.fnArray,d=a.argsArray,f={iCurr:0,fnArray:c,argsArray:d},g=0,h=c.length;h>g;)b=(b||e)[c[g]],"function"==typeof b?(f.iCurr=g,g=b(f),b=void 0,h=f.fnArray.length):g++}},c}();b.OperatorList=w,b.PartialEvaluator=u},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CFFCompiler=b.CFFPrivateDict=b.CFFTopDict=b.CFFCharset=b.CFFIndex=b.CFFStrings=b.CFFHeader=b.CFF=b.CFFParser=b.CFFStandardStrings=void 0;var d=c(0),e=c(136),f=c(28),g=10,h=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],i=function(){
function a(a,b,c){this.bytes=a.getBytes(),this.properties=b,this.seacAnalysisEnabled=!!c}var b=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],c=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(a,b){a[b-2]=a[b-2]+a[b-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(a,b){a[b-2]=a[b-2]-a[b-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(a,b){a[b-2]=a[b-2]/a[b-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(a,b){a[b-1]=-a[b-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(a,b){a[b-2]=a[b-2]*a[b-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];return a.prototype={parse:function(){var a=this.properties,b=new j;this.cff=b;var c=this.parseHeader(),d=this.parseIndex(c.endPos),e=this.parseIndex(d.endPos),f=this.parseIndex(e.endPos),g=this.parseIndex(f.endPos),h=this.parseDict(e.obj.get(0)),i=this.createDict(o,h,b.strings);b.header=c.obj,b.names=this.parseNameIndex(d.obj),b.strings=this.parseStringIndex(f.obj),b.topDict=i,b.globalSubrIndex=g.obj,this.parsePrivateDict(b.topDict),b.isCIDFont=i.hasName("ROS");var k=i.getByName("CharStrings"),l=this.parseIndex(k).obj,m=i.getByName("FontMatrix");m&&(a.fontMatrix=m);var n=i.getByName("FontBBox");n&&(a.ascent=Math.max(n[3],n[1]),a.descent=Math.min(n[1],n[3]),a.ascentScaled=!0);var p,q;if(b.isCIDFont){for(var r=this.parseIndex(i.getByName("FDArray")).obj,s=0,t=r.count;t>s;++s){var u=r.get(s),v=this.createDict(o,this.parseDict(u),b.strings);this.parsePrivateDict(v),b.fdArray.push(v)}q=null,p=this.parseCharsets(i.getByName("charset"),l.count,b.strings,!0),b.fdSelect=this.parseFDSelect(i.getByName("FDSelect"),l.count)}else p=this.parseCharsets(i.getByName("charset"),l.count,b.strings,!1),q=this.parseEncoding(i.getByName("Encoding"),a,b.strings,p.charset);b.charset=p,b.encoding=q;var w=this.parseCharStrings({charStrings:l,localSubrIndex:i.privateDict.subrsIndex,globalSubrIndex:g.obj,fdSelect:b.fdSelect,fdArray:b.fdArray,privateDict:i.privateDict});return b.charStrings=w.charStrings,b.seacs=w.seacs,b.widths=w.widths,b},parseHeader:function(){for(var a=this.bytes,b=a.length,c=0;b>c&&1!==a[c];)++c;if(c>=b)throw new d.FormatError("Invalid CFF header");0!==c&&(d.info("cff data is shifted"),a=a.subarray(c),this.bytes=a);var e=a[0],f=a[1],g=a[2],h=a[3],i=new k(e,f,g,h);return{obj:i,endPos:g}},parseDict:function(a){function b(){var b=a[e++];return 30===b?c():28===b?(b=a[e++],b=(b<<24|a[e++]<<16)>>16):29===b?(b=a[e++],b=b<<8|a[e++],b=b<<8|a[e++],b=b<<8|a[e++]):b>=32&&246>=b?b-139:b>=247&&250>=b?256*(b-247)+a[e++]+108:b>=251&&254>=b?-(256*(b-251))-a[e++]-108:(d.warn('CFFParser_parseDict: "'+b+'" is a reserved command.'),NaN)}function c(){for(var b="",c=15,d=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],f=a.length;f>e;){var g=a[e++],h=g>>4,i=15&g;if(h===c)break;if(b+=d[h],i===c)break;b+=d[i]}return parseFloat(b)}var e=0,f=[],g=[];e=0;for(var h=a.length;h>e;){var i=a[e];21>=i?(12===i&&(i=i<<8|a[++e]),g.push([i,f]),f=[],++e):f.push(b())}return g},parseIndex:function(a){var b,c,d=new m,e=this.bytes,f=e[a++]<<8|e[a++],g=[],h=a;if(0!==f){var i=e[a++],j=a+(f+1)*i-1;for(b=0,c=f+1;c>b;++b){for(var k=0,l=0;i>l;++l)k<<=8,k+=e[a++];g.push(j+k)}h=g[f]}for(b=0,c=g.length-1;c>b;++b){var n=g[b],o=g[b+1];d.add(e.subarray(n,o))}return{obj:d,endPos:h}},parseNameIndex:function(a){for(var b=[],c=0,e=a.count;e>c;++c){var f=a.get(c);b.push(d.bytesToString(f))}return b},parseStringIndex:function(a){for(var b=new l,c=0,e=a.count;e>c;++c){var f=a.get(c);b.add(d.bytesToString(f))}return b},createDict:function(a,b,c){for(var d=new a(c),e=0,f=b.length;f>e;++e){var g=b[e],h=g[0],i=g[1];d.setByKey(h,i)}return d},parseCharString:function(a,e,f,h){if(!e||a.callDepth>g)return!1;for(var i=a.stackSize,j=a.stack,k=e.length,l=0;k>l;){var m=e[l++],n=null;if(12===m){var o=e[l++];0===o?(e[l-2]=139,e[l-1]=22,i=0):n=c[o]}else if(28===m)j[i]=(e[l]<<24|e[l+1]<<16)>>16,l+=2,i++;else if(14===m){if(i>=4&&(i-=4,this.seacAnalysisEnabled))return a.seac=j.slice(i,i+4),!1;n=b[m]}else if(m>=32&&246>=m)j[i]=m-139,i++;else if(m>=247&&254>=m)j[i]=251>m?(m-247<<8)+e[l]+108:-(m-251<<8)-e[l]-108,l++,i++;else if(255===m)j[i]=(e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3])/65536,l+=4,i++;else if(19===m||20===m)a.hints+=i>>1,l+=a.hints+7>>3,i%=2,n=b[m];else{if(10===m||29===m){var p;if(p=10===m?f:h,!p)return n=b[m],d.warn("Missing subrsIndex for "+n.id),!1;var q=32768;p.count<1240?q=107:p.count<33900&&(q=1131);var r=j[--i]+q;if(0>r||r>=p.count||isNaN(r))return n=b[m],d.warn("Out of bounds subrIndex for "+n.id),!1;a.stackSize=i,a.callDepth++;var s=this.parseCharString(a,p.get(r),f,h);if(!s)return!1;a.callDepth--,i=a.stackSize;continue}if(11===m)return a.stackSize=i,!0;n=b[m]}if(n){if(n.stem&&(a.hints+=i>>1),"min"in n&&!a.undefStack&&i<n.min)return d.warn("Not enough parameters for "+n.id+"; actual: "+i+", expected: "+n.min),!1;a.firstStackClearing&&n.stackClearing&&(a.firstStackClearing=!1,i-=n.min,i>=2&&n.stem?i%=2:i>1&&d.warn("Found too many parameters for stack-clearing command"),i>0&&j[i-1]>=0&&(a.width=j[i-1])),"stackDelta"in n?("stackFn"in n&&n.stackFn(j,i),i+=n.stackDelta):n.stackClearing?i=0:n.resetStack?(i=0,a.undefStack=!1):n.undefStack&&(i=0,a.undefStack=!0,a.firstStackClearing=!1)}}return a.stackSize=i,!0},parseCharStrings:function(a){for(var b=a.charStrings,c=a.localSubrIndex,e=a.globalSubrIndex,f=a.fdSelect,g=a.fdArray,h=a.privateDict,i=[],j=[],k=b.count,l=0;k>l;l++){var m=b.get(l),n={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null},o=!0,p=null,q=h;if(f&&g.length){var r=f.getFDIndex(l);-1===r&&(d.warn("Glyph index is not in fd select."),o=!1),r>=g.length&&(d.warn("Invalid fd index for glyph index."),o=!1),o&&(q=g[r].privateDict,p=q.subrsIndex)}else c&&(p=c);if(o&&(o=this.parseCharString(n,m,p,e)),null!==n.width){var s=q.getByName("nominalWidthX");j[l]=s+n.width}else{var t=q.getByName("defaultWidthX");j[l]=t}null!==n.seac&&(i[l]=n.seac),o||b.set(l,new Uint8Array([14]))}return{charStrings:b,seacs:i,widths:j}},emptyPrivateDictionary:function(a){var b=this.createDict(p,[],a.strings);a.setByKey(18,[0,0]),a.privateDict=b},parsePrivateDict:function(a){if(!a.hasName("Private"))return void this.emptyPrivateDictionary(a);var b=a.getByName("Private");if(!Array.isArray(b)||2!==b.length)return void a.removeByName("Private");var c=b[0],d=b[1];if(0===c||d>=this.bytes.length)return void this.emptyPrivateDictionary(a);var e=d+c,f=this.bytes.subarray(d,e),g=this.parseDict(f),h=this.createDict(p,g,a.strings);if(a.privateDict=h,h.getByName("Subrs")){var i=h.getByName("Subrs"),j=d+i;if(0===i||j>=this.bytes.length)return void this.emptyPrivateDictionary(a);var k=this.parseIndex(j);h.subrsIndex=k.obj}},parseCharsets:function(a,b,c,f){if(0===a)return new r(!0,q.ISO_ADOBE,e.ISOAdobeCharset);if(1===a)return new r(!0,q.EXPERT,e.ExpertCharset);if(2===a)return new r(!0,q.EXPERT_SUBSET,e.ExpertSubsetCharset);var g,h,i,j=this.bytes,k=a,l=j[a++],m=[".notdef"];switch(b-=1,l){case 0:for(i=0;b>i;i++)g=j[a++]<<8|j[a++],m.push(f?g:c.get(g));break;case 1:for(;m.length<=b;)for(g=j[a++]<<8|j[a++],h=j[a++],i=0;h>=i;i++)m.push(f?g++:c.get(g++));break;case 2:for(;m.length<=b;)for(g=j[a++]<<8|j[a++],h=j[a++]<<8|j[a++],i=0;h>=i;i++)m.push(f?g++:c.get(g++));break;default:throw new d.FormatError("Unknown charset format")}var n=a,o=j.subarray(k,n);return new r(!1,l,m,o)},parseEncoding:function(a,b,c,e){function g(){var b=l[a++];for(i=0;b>i;i++){var d=l[a++],f=(l[a++]<<8)+(255&l[a++]);k[d]=e.indexOf(c.get(f))}}var h,i,j,k=Object.create(null),l=this.bytes,m=!1,n=null;if(0===a||1===a){m=!0,h=a;var o=a?f.ExpertEncoding:f.StandardEncoding;for(i=0,j=e.length;j>i;i++){var p=o.indexOf(e[i]);-1!==p&&(k[p]=i)}}else{var q=a;switch(h=l[a++],127&h){case 0:var r=l[a++];for(i=1;r>=i;i++)k[l[a++]]=i;break;case 1:var t=l[a++],u=1;for(i=0;t>i;i++)for(var v=l[a++],w=l[a++],x=v;v+w>=x;x++)k[x]=u++;break;default:throw new d.FormatError("Unknown encoding format: "+h+" in CFF")}var y=a;128&h&&(l[q]&=127,g()),n=l.subarray(q,y)}return h=127&h,new s(m,h,k,n)},parseFDSelect:function(a,b){var c,e,f=a,g=this.bytes,h=g[a++],i=[],j=!1;switch(h){case 0:for(e=0;b>e;++e){var k=g[a++];i.push(k)}c=g.subarray(f,a);break;case 3:var l=g[a++]<<8|g[a++];for(e=0;l>e;++e){var m=g[a++]<<8|g[a++];0===e&&0!==m&&(d.warn("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),j=!0,m=0);for(var n=g[a++],o=g[a]<<8|g[a+1],p=m;o>p;++p)i.push(n)}a+=2,c=g.subarray(f,a),j&&(c[3]=c[4]=0);break;default:throw new d.FormatError('parseFDSelect: Unknown format "'+h+'".')}if(i.length!==b)throw new d.FormatError("parseFDSelect: Invalid font data.");return new t(i,c)}},a}(),j=function(){function a(){this.header=null,this.names=[],this.topDict=null,this.strings=new l,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}return a}(),k=function(){function a(a,b,c,d){this.major=a,this.minor=b,this.hdrSize=c,this.offSize=d}return a}(),l=function(){function a(){this.strings=[]}return a.prototype={get:function(a){return a>=0&&390>=a?h[a]:a-391<=this.strings.length?this.strings[a-391]:h[0]},add:function(a){this.strings.push(a)},get count(){return this.strings.length}},a}(),m=function(){function a(){this.objects=[],this.length=0}return a.prototype={add:function(a){this.length+=a.length,this.objects.push(a)},set:function(a,b){this.length+=b.length-this.objects[a].length,this.objects[a]=b},get:function(a){return this.objects[a]},get count(){return this.objects.length}},a}(),n=function(){function a(a,b){this.keyToNameMap=a.keyToNameMap,this.nameToKeyMap=a.nameToKeyMap,this.defaults=a.defaults,this.types=a.types,this.opcodes=a.opcodes,this.order=a.order,this.strings=b,this.values=Object.create(null)}return a.prototype={setByKey:function(a,b){if(!(a in this.keyToNameMap))return!1;var c=b.length;if(0===c)return!0;for(var e=0;c>e;e++)if(isNaN(b[e]))return d.warn('Invalid CFFDict value: "'+b+'" for key "'+a+'".'),!0;var f=this.types[a];return("num"===f||"sid"===f||"offset"===f)&&(b=b[0]),this.values[a]=b,!0},setByName:function(a,b){if(!(a in this.nameToKeyMap))throw new d.FormatError('Invalid dictionary name "'+a+'"');this.values[this.nameToKeyMap[a]]=b},hasName:function(a){return this.nameToKeyMap[a]in this.values},getByName:function(a){if(!(a in this.nameToKeyMap))throw new d.FormatError("Invalid dictionary name "+a+'"');var b=this.nameToKeyMap[a];return b in this.values?this.values[b]:this.defaults[b]},removeByName:function(a){delete this.values[this.nameToKeyMap[a]]}},a.createTables=function(a){for(var b={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]},c=0,d=a.length;d>c;++c){var e=a[c],f=Array.isArray(e[0])?(e[0][0]<<8)+e[0][1]:e[0];b.keyToNameMap[f]=e[1],b.nameToKeyMap[e[1]]=f,b.types[f]=e[2],b.defaults[f]=e[3],b.opcodes[f]=Array.isArray(e[0])?e[0]:[e[0]],b.order.push(f)}return b},a}(),o=function(){function a(a){null===c&&(c=n.createTables(b)),n.call(this,c,a),this.privateDict=null}var b=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]],c=null;return a.prototype=Object.create(n.prototype),a}(),p=function(){function a(a){null===c&&(c=n.createTables(b)),n.call(this,c,a),this.subrsIndex=null}var b=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]],c=null;return a.prototype=Object.create(n.prototype),a}(),q={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2},r=function(){function a(a,b,c,d){this.predefined=a,this.format=b,this.charset=c,this.raw=d}return a}(),s=function(){function a(a,b,c,d){this.predefined=a,this.format=b,this.encoding=c,this.raw=d}return a}(),t=function(){function a(a,b){this.fdSelect=a,this.raw=b}return a.prototype={getFDIndex:function(a){return 0>a||a>=this.fdSelect.length?-1:this.fdSelect[a]}},a}(),u=function(){function a(){this.offsets=Object.create(null)}return a.prototype={isTracking:function(a){return a in this.offsets},track:function(a,b){if(a in this.offsets)throw new d.FormatError("Already tracking location of "+a);this.offsets[a]=b},offset:function(a){for(var b in this.offsets)this.offsets[b]+=a},setEntryLocation:function(a,b,c){if(!(a in this.offsets))throw new d.FormatError("Not tracking location of "+a);for(var e=c.data,f=this.offsets[a],g=5,h=0,i=b.length;i>h;++h){var j=h*g+f,k=j+1,l=j+2,m=j+3,n=j+4;if(29!==e[j]||0!==e[k]||0!==e[l]||0!==e[m]||0!==e[n])throw new d.FormatError("writing to an offset that is not empty");var o=b[h];e[j]=29,e[k]=o>>24&255,e[l]=o>>16&255,e[m]=o>>8&255,e[n]=255&o}}},a}(),v=function(){function a(a){this.cff=a}return a.prototype={compile:function(){var a=this.cff,b={data:[],length:0,add:function(a){this.data=this.data.concat(a),this.length=this.data.length}},c=this.compileHeader(a.header);b.add(c);var e=this.compileNameIndex(a.names);if(b.add(e),a.isCIDFont&&a.topDict.hasName("FontMatrix")){var f=a.topDict.getByName("FontMatrix");a.topDict.removeByName("FontMatrix");for(var g=0,h=a.fdArray.length;h>g;g++){var i=a.fdArray[g],j=f.slice(0);i.hasName("FontMatrix")&&(j=d.Util.transform(j,i.getByName("FontMatrix"))),i.setByName("FontMatrix",j)}}var k=this.compileTopDicts([a.topDict],b.length,a.isCIDFont);b.add(k.output);var l=k.trackers[0],m=this.compileStringIndex(a.strings.strings);b.add(m);var n=this.compileIndex(a.globalSubrIndex);if(b.add(n),a.encoding&&a.topDict.hasName("Encoding"))if(a.encoding.predefined)l.setEntryLocation("Encoding",[a.encoding.format],b);else{var o=this.compileEncoding(a.encoding);l.setEntryLocation("Encoding",[b.length],b),b.add(o)}if(a.charset&&a.topDict.hasName("charset"))if(a.charset.predefined)l.setEntryLocation("charset",[a.charset.format],b);else{var p=this.compileCharset(a.charset);l.setEntryLocation("charset",[b.length],b),b.add(p)}var q=this.compileCharStrings(a.charStrings);if(l.setEntryLocation("CharStrings",[b.length],b),b.add(q),a.isCIDFont){l.setEntryLocation("FDSelect",[b.length],b);var r=this.compileFDSelect(a.fdSelect.raw);b.add(r),k=this.compileTopDicts(a.fdArray,b.length,!0),l.setEntryLocation("FDArray",[b.length],b),b.add(k.output);var s=k.trackers;this.compilePrivateDicts(a.fdArray,s,b)}return this.compilePrivateDicts([a.topDict],[l],b),b.add([0]),b.data},encodeNumber:function(a){return parseFloat(a)!==parseInt(a,10)||isNaN(a)?this.encodeFloat(a):this.encodeInteger(a)},encodeFloat:function(a){var b=a.toString(),c=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(b);if(c){var d=parseFloat("1e"+((c[2]?+c[2]:0)+c[1].length));b=(Math.round(a*d)/d).toString()}var e,f,g="";for(e=0,f=b.length;f>e;++e){var h=b[e];g+="e"===h?"-"===b[++e]?"c":"b":"."===h?"a":"-"===h?"e":h}g+=1&g.length?"f":"ff";var i=[30];for(e=0,f=g.length;f>e;e+=2)i.push(parseInt(g.substr(e,2),16));return i},encodeInteger:function(a){var b;return a>=-107&&107>=a?b=[a+139]:a>=108&&1131>=a?(a-=108,b=[(a>>8)+247,255&a]):a>=-1131&&-108>=a?(a=-a-108,b=[(a>>8)+251,255&a]):b=a>=-32768&&32767>=a?[28,a>>8&255,255&a]:[29,a>>24&255,a>>16&255,a>>8&255,255&a],b},compileHeader:function(a){return[a.major,a.minor,a.hdrSize,a.offSize]},compileNameIndex:function(a){for(var b=new m,c=0,e=a.length;e>c;++c){for(var f=a[c],g=Math.min(f.length,127),h=new Array(g),i=0;g>i;i++){var j=f[i];("!">j||j>"~"||"["===j||"]"===j||"("===j||")"===j||"{"===j||"}"===j||"<"===j||">"===j||"/"===j||"%"===j)&&(j="_"),h[i]=j}h=h.join(""),""===h&&(h="Bad_Font_Name"),b.add(d.stringToBytes(h))}return this.compileIndex(b)},compileTopDicts:function(a,b,c){for(var d=[],e=new m,f=0,g=a.length;g>f;++f){var h=a[f];c&&(h.removeByName("CIDFontVersion"),h.removeByName("CIDFontRevision"),h.removeByName("CIDFontType"),h.removeByName("CIDCount"),h.removeByName("UIDBase"));var i=new u,j=this.compileDict(h,i);d.push(i),e.add(j),i.offset(b)}return e=this.compileIndex(e,d),{trackers:d,output:e}},compilePrivateDicts:function(a,b,c){for(var e=0,f=a.length;f>e;++e){var g=a[e],h=g.privateDict;if(!h||!g.hasName("Private"))throw new d.FormatError("There must be a private dictionary.");var i=new u,j=this.compileDict(h,i),k=c.length;if(i.offset(k),j.length||(k=0),b[e].setEntryLocation("Private",[j.length,k],c),c.add(j),h.subrsIndex&&h.hasName("Subrs")){var l=this.compileIndex(h.subrsIndex);i.setEntryLocation("Subrs",[j.length],c),c.add(l)}}},compileDict:function(a,b){for(var c=[],e=a.order,f=0;f<e.length;++f){var g=e[f];if(g in a.values){var h=a.values[g],i=a.types[g];if(Array.isArray(i)||(i=[i]),Array.isArray(h)||(h=[h]),0!==h.length){for(var j=0,k=i.length;k>j;++j){var l=i[j],m=h[j];switch(l){case"num":case"sid":c=c.concat(this.encodeNumber(m));break;case"offset":var n=a.keyToNameMap[g];b.isTracking(n)||b.track(n,c.length),c=c.concat([29,0,0,0,0]);break;case"array":case"delta":c=c.concat(this.encodeNumber(m));for(var o=1,p=h.length;p>o;++o)c=c.concat(this.encodeNumber(h[o]));break;default:throw new d.FormatError("Unknown data type of "+l)}}c=c.concat(a.opcodes[g])}}}return c},compileStringIndex:function(a){for(var b=new m,c=0,e=a.length;e>c;++c)b.add(d.stringToBytes(a[c]));return this.compileIndex(b)},compileGlobalSubrIndex:function(){var a=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(a))},compileCharStrings:function(a){return this.compileIndex(a)},compileCharset:function(a){return this.compileTypedArray(a.raw)},compileEncoding:function(a){return this.compileTypedArray(a.raw)},compileFDSelect:function(a){return this.compileTypedArray(a)},compileTypedArray:function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b},compileIndex:function(a,b){b=b||[];var c=a.objects,d=c.length;if(0===d)return[0,0,0];var e,f=[d>>8&255,255&d],g=1;for(e=0;d>e;++e)g+=c[e].length;var h;h=256>g?1:65536>g?2:16777216>g?3:4,f.push(h);var i=1;for(e=0;d+1>e;e++)1===h?f.push(255&i):2===h?f.push(i>>8&255,255&i):3===h?f.push(i>>16&255,i>>8&255,255&i):f.push(i>>>24&255,i>>16&255,i>>8&255,255&i),c[e]&&(i+=c[e].length);for(e=0;d>e;e++){b[e]&&b[e].offset(f.length);for(var j=0,k=c[e].length;k>j;j++)f.push(c[e][j])}return f}},a}();b.CFFStandardStrings=h,b.CFFParser=i,b.CFF=j,b.CFFHeader=k,b.CFFStrings=l,b.CFFIndex=m,b.CFFCharset=r,b.CFFTopDict=o,b.CFFPrivateDict=p,b.CFFCompiler=v},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getSupplementalGlyphMapForArialBlack=b.getGlyphMapForStandardFonts=b.getSymbolsFonts=b.getSerifFonts=b.getNonStdFontMap=b.getStdFontMap=void 0;var d=c(0),e=d.getLookupTableFactory(function(a){a.ArialNarrow="Helvetica",a["ArialNarrow-Bold"]="Helvetica-Bold",a["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",a["ArialNarrow-Italic"]="Helvetica-Oblique",a.ArialBlack="Helvetica",a["ArialBlack-Bold"]="Helvetica-Bold",a["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",a["ArialBlack-Italic"]="Helvetica-Oblique",a["Arial-Black"]="Helvetica",a["Arial-Black-Bold"]="Helvetica-Bold",a["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",a["Arial-Black-Italic"]="Helvetica-Oblique",a.Arial="Helvetica",a["Arial-Bold"]="Helvetica-Bold",a["Arial-BoldItalic"]="Helvetica-BoldOblique",a["Arial-Italic"]="Helvetica-Oblique",a["Arial-BoldItalicMT"]="Helvetica-BoldOblique",a["Arial-BoldMT"]="Helvetica-Bold",a["Arial-ItalicMT"]="Helvetica-Oblique",a.ArialMT="Helvetica",a["Courier-Bold"]="Courier-Bold",a["Courier-BoldItalic"]="Courier-BoldOblique",a["Courier-Italic"]="Courier-Oblique",a.CourierNew="Courier",a["CourierNew-Bold"]="Courier-Bold",a["CourierNew-BoldItalic"]="Courier-BoldOblique",a["CourierNew-Italic"]="Courier-Oblique",a["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",a["CourierNewPS-BoldMT"]="Courier-Bold",a["CourierNewPS-ItalicMT"]="Courier-Oblique",a.CourierNewPSMT="Courier",a.Helvetica="Helvetica",a["Helvetica-Bold"]="Helvetica-Bold",a["Helvetica-BoldItalic"]="Helvetica-BoldOblique",a["Helvetica-BoldOblique"]="Helvetica-BoldOblique",a["Helvetica-Italic"]="Helvetica-Oblique",a["Helvetica-Oblique"]="Helvetica-Oblique",a.SegoeUISymbol="Helvetica",a["Symbol-Bold"]="Symbol",a["Symbol-BoldItalic"]="Symbol",a["Symbol-Italic"]="Symbol",a.TimesNewRoman="Times-Roman",a["TimesNewRoman-Bold"]="Times-Bold",a["TimesNewRoman-BoldItalic"]="Times-BoldItalic",a["TimesNewRoman-Italic"]="Times-Italic",a.TimesNewRomanPS="Times-Roman",a["TimesNewRomanPS-Bold"]="Times-Bold",a["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",a["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",a["TimesNewRomanPS-BoldMT"]="Times-Bold",a["TimesNewRomanPS-Italic"]="Times-Italic",a["TimesNewRomanPS-ItalicMT"]="Times-Italic",a.TimesNewRomanPSMT="Times-Roman",a["TimesNewRomanPSMT-Bold"]="Times-Bold",a["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",a["TimesNewRomanPSMT-Italic"]="Times-Italic"}),f=d.getLookupTableFactory(function(a){a.CenturyGothic="Helvetica",a["CenturyGothic-Bold"]="Helvetica-Bold",a["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",a["CenturyGothic-Italic"]="Helvetica-Oblique",a.ComicSansMS="Comic Sans MS",a["ComicSansMS-Bold"]="Comic Sans MS-Bold",a["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",a["ComicSansMS-Italic"]="Comic Sans MS-Italic",a.LucidaConsole="Courier",a["LucidaConsole-Bold"]="Courier-Bold",a["LucidaConsole-BoldItalic"]="Courier-BoldOblique",a["LucidaConsole-Italic"]="Courier-Oblique",a["MS-Gothic"]="MS Gothic",a["MS-Gothic-Bold"]="MS Gothic-Bold",a["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",a["MS-Gothic-Italic"]="MS Gothic-Italic",a["MS-Mincho"]="MS Mincho",a["MS-Mincho-Bold"]="MS Mincho-Bold",a["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",a["MS-Mincho-Italic"]="MS Mincho-Italic",a["MS-PGothic"]="MS PGothic",a["MS-PGothic-Bold"]="MS PGothic-Bold",a["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",a["MS-PGothic-Italic"]="MS PGothic-Italic",a["MS-PMincho"]="MS PMincho",a["MS-PMincho-Bold"]="MS PMincho-Bold",a["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",a["MS-PMincho-Italic"]="MS PMincho-Italic",a.NuptialScript="Times-Italic",a.Wingdings="ZapfDingbats"}),g=d.getLookupTableFactory(function(a){a["Adobe Jenson"]=!0,a["Adobe Text"]=!0,a.Albertus=!0,a.Aldus=!0,a.Alexandria=!0,a.Algerian=!0,a["American Typewriter"]=!0,a.Antiqua=!0,a.Apex=!0,a.Arno=!0,a.Aster=!0,a.Aurora=!0,a.Baskerville=!0,a.Bell=!0,a.Bembo=!0,a["Bembo Schoolbook"]=!0,a.Benguiat=!0,a["Berkeley Old Style"]=!0,a["Bernhard Modern"]=!0,a["Berthold City"]=!0,a.Bodoni=!0,a["Bauer Bodoni"]=!0,a["Book Antiqua"]=!0,a.Bookman=!0,a["Bordeaux Roman"]=!0,a["Californian FB"]=!0,a.Calisto=!0,a.Calvert=!0,a.Capitals=!0,a.Cambria=!0,a.Cartier=!0,a.Caslon=!0,a.Catull=!0,a.Centaur=!0,a["Century Old Style"]=!0,a["Century Schoolbook"]=!0,a.Chaparral=!0,a["Charis SIL"]=!0,a.Cheltenham=!0,a["Cholla Slab"]=!0,a.Clarendon=!0,a.Clearface=!0,a.Cochin=!0,a.Colonna=!0,a["Computer Modern"]=!0,a["Concrete Roman"]=!0,a.Constantia=!0,a["Cooper Black"]=!0,a.Corona=!0,a.Ecotype=!0,a.Egyptienne=!0,a.Elephant=!0,a.Excelsior=!0,a.Fairfield=!0,a["FF Scala"]=!0,a.Folkard=!0,a.Footlight=!0,a.FreeSerif=!0,a["Friz Quadrata"]=!0,a.Garamond=!0,a.Gentium=!0,a.Georgia=!0,a.Gloucester=!0,a["Goudy Old Style"]=!0,a["Goudy Schoolbook"]=!0,a["Goudy Pro Font"]=!0,a.Granjon=!0,a["Guardian Egyptian"]=!0,a.Heather=!0,a.Hercules=!0,a["High Tower Text"]=!0,a.Hiroshige=!0,a["Hoefler Text"]=!0,a["Humana Serif"]=!0,a.Imprint=!0,a["Ionic No. 5"]=!0,a.Janson=!0,a.Joanna=!0,a.Korinna=!0,a.Lexicon=!0,a["Liberation Serif"]=!0,a["Linux Libertine"]=!0,a.Literaturnaya=!0,a.Lucida=!0,a["Lucida Bright"]=!0,a.Melior=!0,a.Memphis=!0,a.Miller=!0,a.Minion=!0,a.Modern=!0,a["Mona Lisa"]=!0,a["Mrs Eaves"]=!0,a["MS Serif"]=!0,a["Museo Slab"]=!0,a["New York"]=!0,a["Nimbus Roman"]=!0,a["NPS Rawlinson Roadway"]=!0,a.NuptialScript=!0,a.Palatino=!0,a.Perpetua=!0,a.Plantin=!0,a["Plantin Schoolbook"]=!0,a.Playbill=!0,a["Poor Richard"]=!0,a["Rawlinson Roadway"]=!0,a.Renault=!0,a.Requiem=!0,a.Rockwell=!0,a.Roman=!0,a["Rotis Serif"]=!0,a.Sabon=!0,a.Scala=!0,a.Seagull=!0,a.Sistina=!0,a.Souvenir=!0,a.STIX=!0,a["Stone Informal"]=!0,a["Stone Serif"]=!0,a.Sylfaen=!0,a.Times=!0,a.Trajan=!0,a["Trinité"]=!0,a["Trump Mediaeval"]=!0,a.Utopia=!0,a["Vale Type"]=!0,a["Bitstream Vera"]=!0,a["Vera Serif"]=!0,a.Versailles=!0,a.Wanted=!0,a.Weiss=!0,a["Wide Latin"]=!0,a.Windsor=!0,a.XITS=!0}),h=d.getLookupTableFactory(function(a){a.Dingbats=!0,a.Symbol=!0,a.ZapfDingbats=!0}),i=d.getLookupTableFactory(function(a){a[2]=10,a[3]=32,a[4]=33,a[5]=34,a[6]=35,a[7]=36,a[8]=37,a[9]=38,a[10]=39,a[11]=40,a[12]=41,a[13]=42,a[14]=43,a[15]=44,a[16]=45,a[17]=46,a[18]=47,a[19]=48,a[20]=49,a[21]=50,a[22]=51,a[23]=52,a[24]=53,a[25]=54,a[26]=55,a[27]=56,a[28]=57,a[29]=58,a[30]=894,a[31]=60,a[32]=61,a[33]=62,a[34]=63,a[35]=64,a[36]=65,a[37]=66,a[38]=67,a[39]=68,a[40]=69,a[41]=70,a[42]=71,a[43]=72,a[44]=73,a[45]=74,a[46]=75,a[47]=76,a[48]=77,a[49]=78,a[50]=79,a[51]=80,a[52]=81,a[53]=82,a[54]=83,a[55]=84,a[56]=85,a[57]=86,a[58]=87,a[59]=88,a[60]=89,a[61]=90,a[62]=91,a[63]=92,a[64]=93,a[65]=94,a[66]=95,a[67]=96,a[68]=97,a[69]=98,a[70]=99,a[71]=100,a[72]=101,a[73]=102,a[74]=103,a[75]=104,a[76]=105,a[77]=106,a[78]=107,a[79]=108,a[80]=109,a[81]=110,a[82]=111,a[83]=112,a[84]=113,a[85]=114,a[86]=115,a[87]=116,a[88]=117,a[89]=118,a[90]=119,a[91]=120,a[92]=121,a[93]=122,a[94]=123,a[95]=124,a[96]=125,a[97]=126,a[98]=196,a[99]=197,a[100]=199,a[101]=201,a[102]=209,a[103]=214,a[104]=220,a[105]=225,a[106]=224,a[107]=226,a[108]=228,a[109]=227,a[110]=229,a[111]=231,a[112]=233,a[113]=232,a[114]=234,a[115]=235,a[116]=237,a[117]=236,a[118]=238,a[119]=239,a[120]=241,a[121]=243,a[122]=242,a[123]=244,a[124]=246,a[125]=245,a[126]=250,a[127]=249,a[128]=251,a[129]=252,a[130]=8224,a[131]=176,a[132]=162,a[133]=163,a[134]=167,a[135]=8226,a[136]=182,a[137]=223,a[138]=174,a[139]=169,a[140]=8482,a[141]=180,a[142]=168,a[143]=8800,a[144]=198,a[145]=216,a[146]=8734,a[147]=177,a[148]=8804,a[149]=8805,a[150]=165,a[151]=181,a[152]=8706,a[153]=8721,a[154]=8719,a[156]=8747,a[157]=170,a[158]=186,a[159]=8486,a[160]=230,a[161]=248,a[162]=191,a[163]=161,a[164]=172,a[165]=8730,a[166]=402,a[167]=8776,a[168]=8710,a[169]=171,a[170]=187,a[171]=8230,a[210]=218,a[223]=711,a[224]=321,a[225]=322,a[227]=353,a[229]=382,a[234]=253,a[252]=263,a[253]=268,a[254]=269,a[258]=258,a[260]=260,a[261]=261,a[265]=280,a[266]=281,a[268]=283,a[269]=313,a[275]=323,a[276]=324,a[278]=328,a[284]=345,a[285]=346,a[286]=347,a[292]=367,a[295]=377,a[296]=378,a[298]=380,a[305]=963,a[306]=964,a[307]=966,a[308]=8215,a[309]=8252,a[310]=8319,a[311]=8359,a[312]=8592,a[313]=8593,a[337]=9552,a[493]=1039,a[494]=1040,a[705]=1524,a[706]=8362,a[710]=64288,a[711]=64298,a[759]=1617,a[761]=1776,a[763]=1778,a[775]=1652,a[777]=1764,a[778]=1780,a[779]=1781,a[780]=1782,a[782]=771,a[783]=64726,a[786]=8363,a[788]=8532,a[790]=768,a[791]=769,a[792]=768,a[795]=803,a[797]=64336,a[798]=64337,a[799]=64342,a[800]=64343,a[801]=64344,a[802]=64345,a[803]=64362,a[804]=64363,a[805]=64364,a[2424]=7821,a[2425]=7822,a[2426]=7823,a[2427]=7824,a[2428]=7825,a[2429]=7826,a[2430]=7827,a[2433]=7682,a[2678]=8045,a[2679]=8046,a[2830]=1552,a[2838]=686,a[2840]=751,a[2842]=753,a[2843]=754,a[2844]=755,a[2846]=757,a[2856]=767,a[2857]=848,a[2858]=849,a[2862]=853,a[2863]=854,a[2864]=855,a[2865]=861,a[2866]=862,a[2906]=7460,a[2908]=7462,a[2909]=7463,a[2910]=7464,a[2912]=7466,a[2913]=7467,a[2914]=7468,a[2916]=7470,a[2917]=7471,a[2918]=7472,a[2920]=7474,a[2921]=7475,a[2922]=7476,a[2924]=7478,a[2925]=7479,a[2926]=7480,a[2928]=7482,a[2929]=7483,a[2930]=7484,a[2932]=7486,a[2933]=7487,a[2934]=7488,a[2936]=7490,a[2937]=7491,a[2938]=7492,a[2940]=7494,a[2941]=7495,a[2942]=7496,a[2944]=7498,a[2946]=7500,a[2948]=7502,a[2950]=7504,a[2951]=7505,a[2952]=7506,a[2954]=7508,a[2955]=7509,a[2956]=7510,a[2958]=7512,a[2959]=7513,a[2960]=7514,a[2962]=7516,a[2963]=7517,a[2964]=7518,a[2966]=7520,a[2967]=7521,a[2968]=7522,a[2970]=7524,a[2971]=7525,a[2972]=7526,a[2974]=7528,a[2975]=7529,a[2976]=7530,a[2978]=1537,a[2979]=1538,a[2980]=1539,a[2982]=1549,a[2983]=1551,a[2984]=1552,a[2986]=1554,a[2987]=1555,a[2988]=1556,a[2990]=1623,a[2991]=1624,a[2995]=1775,a[2999]=1791,a[3002]=64290,a[3003]=64291,a[3004]=64292,a[3006]=64294,a[3007]=64295,a[3008]=64296,a[3011]=1900,a[3014]=8223,a[3015]=8244,a[3017]=7532,a[3018]=7533,a[3019]=7534,a[3075]=7590,a[3076]=7591,a[3079]=7594,a[3080]=7595,a[3083]=7598,a[3084]=7599,a[3087]=7602,a[3088]=7603,a[3091]=7606,a[3092]=7607,a[3095]=7610,a[3096]=7611,a[3099]=7614,a[3100]=7615,a[3103]=7618,a[3104]=7619,a[3107]=8337,a[3108]=8338,a[3116]=1884,a[3119]=1885,a[3120]=1885,a[3123]=1886,a[3124]=1886,a[3127]=1887,a[3128]=1887,a[3131]=1888,a[3132]=1888,a[3135]=1889,a[3136]=1889,a[3139]=1890,a[3140]=1890,a[3143]=1891,a[3144]=1891,a[3147]=1892,a[3148]=1892,a[3153]=580,a[3154]=581,a[3157]=584,a[3158]=585,a[3161]=588,a[3162]=589,a[3165]=891,a[3166]=892,a[3169]=1274,a[3170]=1275,a[3173]=1278,a[3174]=1279,a[3181]=7622,a[3182]=7623,a[3282]=11799,a[3316]=578,a[3379]=42785,a[3393]=1159,a[3416]=8377}),j=d.getLookupTableFactory(function(a){a[227]=322,a[264]=261,a[291]=346});b.getStdFontMap=e,b.getNonStdFontMap=f,b.getSerifFonts=g,b.getSymbolsFonts=h,b.getGlyphMapForStandardFonts=i,b.getSupplementalGlyphMapForArialBlack=j},function(a,b,c){function d(a){return a>=65520&&65535>=a?0:a>=62976&&63743>=a?j()[a]||a:173===a?45:a}function e(a,b){var c=b[a];if(void 0!==c)return c;
if(!a)return-1;if("u"===a[0]){var d,e=a.length;if(7===e&&"n"===a[1]&&"i"===a[2])d=a.substr(3);else{if(!(e>=5&&7>=e))return-1;d=a.substr(1)}if(d===d.toUpperCase()&&(c=parseInt(d,16),c>=0))return c}return-1}function f(a){for(var b=0,c=k.length;c>b;b++){var d=k[b];if(a>=d.begin&&a<d.end)return b}return-1}function g(a){var b=k[13];return a>=b.begin&&a<b.end?!0:(b=k[11],a>=b.begin&&a<b.end?!0:!1)}function h(a){var b=a.length;if(1>=b||!g(a.charCodeAt(0)))return a;for(var c="",d=b-1;d>=0;d--)c+=a[d];return c}var i=c(0).getLookupTableFactory,j=i(function(a){a[63721]=169,a[63193]=169,a[63720]=174,a[63194]=174,a[63722]=8482,a[63195]=8482,a[63729]=9127,a[63730]=9128,a[63731]=9129,a[63740]=9131,a[63741]=9132,a[63742]=9133,a[63726]=9121,a[63727]=9122,a[63728]=9123,a[63737]=9124,a[63738]=9125,a[63739]=9126,a[63723]=9115,a[63724]=9116,a[63725]=9117,a[63734]=9118,a[63735]=9119,a[63736]=9120}),k=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],l=i(function(a){a["¨"]=" ̈",a["¯"]=" ̄",a["´"]=" ́",a["µ"]="μ",a["¸"]=" ̧",a["Ĳ"]="IJ",a["ĳ"]="ij",a["Ŀ"]="L·",a["ŀ"]="l·",a["ŉ"]="ʼn",a["ſ"]="s",a["Ǆ"]="DŽ",a["ǅ"]="Dž",a["ǆ"]="dž",a["Ǉ"]="LJ",a["ǈ"]="Lj",a["ǉ"]="lj",a["Ǌ"]="NJ",a["ǋ"]="Nj",a["ǌ"]="nj",a["Ǳ"]="DZ",a["ǲ"]="Dz",a["ǳ"]="dz",a["˘"]=" ̆",a["˙"]=" ̇",a["˚"]=" ̊",a["˛"]=" ̨",a["˜"]=" ̃",a["˝"]=" ̋",a["ͺ"]=" ͅ",a["΄"]=" ́",a["ϐ"]="β",a["ϑ"]="θ",a["ϒ"]="Υ",a["ϕ"]="φ",a["ϖ"]="π",a["ϰ"]="κ",a["ϱ"]="ρ",a["ϲ"]="ς",a["ϴ"]="Θ",a["ϵ"]="ε",a["Ϲ"]="Σ",a["և"]="եւ",a["ٵ"]="اٴ",a["ٶ"]="وٴ",a["ٷ"]="ۇٴ",a["ٸ"]="يٴ",a["ำ"]="ํา",a["ຳ"]="ໍາ",a["ໜ"]="ຫນ",a["ໝ"]="ຫມ",a["ཷ"]="ྲཱྀ",a["ཹ"]="ླཱྀ",a["ẚ"]="aʾ",a["᾽"]=" ̓",a["᾿"]=" ̓",a["῀"]=" ͂",a["῾"]=" ̔",a[" "]=" ",a[" "]=" ",a[" "]=" ",a[" "]=" ",a[" "]=" ",a[" "]=" ",a[" "]=" ",a[" "]=" ",a["‗"]=" ̳",a["․"]=".",a["‥"]="..",a["…"]="...",a["″"]="′′",a["‴"]="′′′",a["‶"]="‵‵",a["‷"]="‵‵‵",a["‼"]="!!",a["‾"]=" ̅",a["⁇"]="??",a["⁈"]="?!",a["⁉"]="!?",a["⁗"]="′′′′",a[" "]=" ",a["₨"]="Rs",a["℀"]="a/c",a["℁"]="a/s",a["℃"]="°C",a["℅"]="c/o",a["℆"]="c/u",a["ℇ"]="Ɛ",a["℉"]="°F",a["№"]="No",a["℡"]="TEL",a["ℵ"]="א",a["ℶ"]="ב",a["ℷ"]="ג",a["ℸ"]="ד",a["℻"]="FAX",a["Ⅰ"]="I",a["Ⅱ"]="II",a["Ⅲ"]="III",a["Ⅳ"]="IV",a["Ⅴ"]="V",a["Ⅵ"]="VI",a["Ⅶ"]="VII",a["Ⅷ"]="VIII",a["Ⅸ"]="IX",a["Ⅹ"]="X",a["Ⅺ"]="XI",a["Ⅻ"]="XII",a["Ⅼ"]="L",a["Ⅽ"]="C",a["Ⅾ"]="D",a["Ⅿ"]="M",a["ⅰ"]="i",a["ⅱ"]="ii",a["ⅲ"]="iii",a["ⅳ"]="iv",a["ⅴ"]="v",a["ⅵ"]="vi",a["ⅶ"]="vii",a["ⅷ"]="viii",a["ⅸ"]="ix",a["ⅹ"]="x",a["ⅺ"]="xi",a["ⅻ"]="xii",a["ⅼ"]="l",a["ⅽ"]="c",a["ⅾ"]="d",a["ⅿ"]="m",a["∬"]="∫∫",a["∭"]="∫∫∫",a["∯"]="∮∮",a["∰"]="∮∮∮",a["⑴"]="(1)",a["⑵"]="(2)",a["⑶"]="(3)",a["⑷"]="(4)",a["⑸"]="(5)",a["⑹"]="(6)",a["⑺"]="(7)",a["⑻"]="(8)",a["⑼"]="(9)",a["⑽"]="(10)",a["⑾"]="(11)",a["⑿"]="(12)",a["⒀"]="(13)",a["⒁"]="(14)",a["⒂"]="(15)",a["⒃"]="(16)",a["⒄"]="(17)",a["⒅"]="(18)",a["⒆"]="(19)",a["⒇"]="(20)",a["⒈"]="1.",a["⒉"]="2.",a["⒊"]="3.",a["⒋"]="4.",a["⒌"]="5.",a["⒍"]="6.",a["⒎"]="7.",a["⒏"]="8.",a["⒐"]="9.",a["⒑"]="10.",a["⒒"]="11.",a["⒓"]="12.",a["⒔"]="13.",a["⒕"]="14.",a["⒖"]="15.",a["⒗"]="16.",a["⒘"]="17.",a["⒙"]="18.",a["⒚"]="19.",a["⒛"]="20.",a["⒜"]="(a)",a["⒝"]="(b)",a["⒞"]="(c)",a["⒟"]="(d)",a["⒠"]="(e)",a["⒡"]="(f)",a["⒢"]="(g)",a["⒣"]="(h)",a["⒤"]="(i)",a["⒥"]="(j)",a["⒦"]="(k)",a["⒧"]="(l)",a["⒨"]="(m)",a["⒩"]="(n)",a["⒪"]="(o)",a["⒫"]="(p)",a["⒬"]="(q)",a["⒭"]="(r)",a["⒮"]="(s)",a["⒯"]="(t)",a["⒰"]="(u)",a["⒱"]="(v)",a["⒲"]="(w)",a["⒳"]="(x)",a["⒴"]="(y)",a["⒵"]="(z)",a["⨌"]="∫∫∫∫",a["⩴"]="::=",a["⩵"]="==",a["⩶"]="===",a["⺟"]="母",a["⻳"]="龟",a["⼀"]="一",a["⼁"]="丨",a["⼂"]="丶",a["⼃"]="丿",a["⼄"]="乙",a["⼅"]="亅",a["⼆"]="二",a["⼇"]="亠",a["⼈"]="人",a["⼉"]="儿",a["⼊"]="入",a["⼋"]="八",a["⼌"]="冂",a["⼍"]="冖",a["⼎"]="冫",a["⼏"]="几",a["⼐"]="凵",a["⼑"]="刀",a["⼒"]="力",a["⼓"]="勹",a["⼔"]="匕",a["⼕"]="匚",a["⼖"]="匸",a["⼗"]="十",a["⼘"]="卜",a["⼙"]="卩",a["⼚"]="厂",a["⼛"]="厶",a["⼜"]="又",a["⼝"]="口",a["⼞"]="囗",a["⼟"]="土",a["⼠"]="士",a["⼡"]="夂",a["⼢"]="夊",a["⼣"]="夕",a["⼤"]="大",a["⼥"]="女",a["⼦"]="子",a["⼧"]="宀",a["⼨"]="寸",a["⼩"]="小",a["⼪"]="尢",a["⼫"]="尸",a["⼬"]="屮",a["⼭"]="山",a["⼮"]="巛",a["⼯"]="工",a["⼰"]="己",a["⼱"]="巾",a["⼲"]="干",a["⼳"]="幺",a["⼴"]="广",a["⼵"]="廴",a["⼶"]="廾",a["⼷"]="弋",a["⼸"]="弓",a["⼹"]="彐",a["⼺"]="彡",a["⼻"]="彳",a["⼼"]="心",a["⼽"]="戈",a["⼾"]="戶",a["⼿"]="手",a["⽀"]="支",a["⽁"]="攴",a["⽂"]="文",a["⽃"]="斗",a["⽄"]="斤",a["⽅"]="方",a["⽆"]="无",a["⽇"]="日",a["⽈"]="曰",a["⽉"]="月",a["⽊"]="木",a["⽋"]="欠",a["⽌"]="止",a["⽍"]="歹",a["⽎"]="殳",a["⽏"]="毋",a["⽐"]="比",a["⽑"]="毛",a["⽒"]="氏",a["⽓"]="气",a["⽔"]="水",a["⽕"]="火",a["⽖"]="爪",a["⽗"]="父",a["⽘"]="爻",a["⽙"]="爿",a["⽚"]="片",a["⽛"]="牙",a["⽜"]="牛",a["⽝"]="犬",a["⽞"]="玄",a["⽟"]="玉",a["⽠"]="瓜",a["⽡"]="瓦",a["⽢"]="甘",a["⽣"]="生",a["⽤"]="用",a["⽥"]="田",a["⽦"]="疋",a["⽧"]="疒",a["⽨"]="癶",a["⽩"]="白",a["⽪"]="皮",a["⽫"]="皿",a["⽬"]="目",a["⽭"]="矛",a["⽮"]="矢",a["⽯"]="石",a["⽰"]="示",a["⽱"]="禸",a["⽲"]="禾",a["⽳"]="穴",a["⽴"]="立",a["⽵"]="竹",a["⽶"]="米",a["⽷"]="糸",a["⽸"]="缶",a["⽹"]="网",a["⽺"]="羊",a["⽻"]="羽",a["⽼"]="老",a["⽽"]="而",a["⽾"]="耒",a["⽿"]="耳",a["⾀"]="聿",a["⾁"]="肉",a["⾂"]="臣",a["⾃"]="自",a["⾄"]="至",a["⾅"]="臼",a["⾆"]="舌",a["⾇"]="舛",a["⾈"]="舟",a["⾉"]="艮",a["⾊"]="色",a["⾋"]="艸",a["⾌"]="虍",a["⾍"]="虫",a["⾎"]="血",a["⾏"]="行",a["⾐"]="衣",a["⾑"]="襾",a["⾒"]="見",a["⾓"]="角",a["⾔"]="言",a["⾕"]="谷",a["⾖"]="豆",a["⾗"]="豕",a["⾘"]="豸",a["⾙"]="貝",a["⾚"]="赤",a["⾛"]="走",a["⾜"]="足",a["⾝"]="身",a["⾞"]="車",a["⾟"]="辛",a["⾠"]="辰",a["⾡"]="辵",a["⾢"]="邑",a["⾣"]="酉",a["⾤"]="釆",a["⾥"]="里",a["⾦"]="金",a["⾧"]="長",a["⾨"]="門",a["⾩"]="阜",a["⾪"]="隶",a["⾫"]="隹",a["⾬"]="雨",a["⾭"]="靑",a["⾮"]="非",a["⾯"]="面",a["⾰"]="革",a["⾱"]="韋",a["⾲"]="韭",a["⾳"]="音",a["⾴"]="頁",a["⾵"]="風",a["⾶"]="飛",a["⾷"]="食",a["⾸"]="首",a["⾹"]="香",a["⾺"]="馬",a["⾻"]="骨",a["⾼"]="高",a["⾽"]="髟",a["⾾"]="鬥",a["⾿"]="鬯",a["⿀"]="鬲",a["⿁"]="鬼",a["⿂"]="魚",a["⿃"]="鳥",a["⿄"]="鹵",a["⿅"]="鹿",a["⿆"]="麥",a["⿇"]="麻",a["⿈"]="黃",a["⿉"]="黍",a["⿊"]="黑",a["⿋"]="黹",a["⿌"]="黽",a["⿍"]="鼎",a["⿎"]="鼓",a["⿏"]="鼠",a["⿐"]="鼻",a["⿑"]="齊",a["⿒"]="齒",a["⿓"]="龍",a["⿔"]="龜",a["⿕"]="龠",a["〶"]="〒",a["〸"]="十",a["〹"]="卄",a["〺"]="卅",a["゛"]=" ゙",a["゜"]=" ゚",a["ㄱ"]="ᄀ",a["ㄲ"]="ᄁ",a["ㄳ"]="ᆪ",a["ㄴ"]="ᄂ",a["ㄵ"]="ᆬ",a["ㄶ"]="ᆭ",a["ㄷ"]="ᄃ",a["ㄸ"]="ᄄ",a["ㄹ"]="ᄅ",a["ㄺ"]="ᆰ",a["ㄻ"]="ᆱ",a["ㄼ"]="ᆲ",a["ㄽ"]="ᆳ",a["ㄾ"]="ᆴ",a["ㄿ"]="ᆵ",a["ㅀ"]="ᄚ",a["ㅁ"]="ᄆ",a["ㅂ"]="ᄇ",a["ㅃ"]="ᄈ",a["ㅄ"]="ᄡ",a["ㅅ"]="ᄉ",a["ㅆ"]="ᄊ",a["ㅇ"]="ᄋ",a["ㅈ"]="ᄌ",a["ㅉ"]="ᄍ",a["ㅊ"]="ᄎ",a["ㅋ"]="ᄏ",a["ㅌ"]="ᄐ",a["ㅍ"]="ᄑ",a["ㅎ"]="ᄒ",a["ㅏ"]="ᅡ",a["ㅐ"]="ᅢ",a["ㅑ"]="ᅣ",a["ㅒ"]="ᅤ",a["ㅓ"]="ᅥ",a["ㅔ"]="ᅦ",a["ㅕ"]="ᅧ",a["ㅖ"]="ᅨ",a["ㅗ"]="ᅩ",a["ㅘ"]="ᅪ",a["ㅙ"]="ᅫ",a["ㅚ"]="ᅬ",a["ㅛ"]="ᅭ",a["ㅜ"]="ᅮ",a["ㅝ"]="ᅯ",a["ㅞ"]="ᅰ",a["ㅟ"]="ᅱ",a["ㅠ"]="ᅲ",a["ㅡ"]="ᅳ",a["ㅢ"]="ᅴ",a["ㅣ"]="ᅵ",a["ㅤ"]="ᅠ",a["ㅥ"]="ᄔ",a["ㅦ"]="ᄕ",a["ㅧ"]="ᇇ",a["ㅨ"]="ᇈ",a["ㅩ"]="ᇌ",a["ㅪ"]="ᇎ",a["ㅫ"]="ᇓ",a["ㅬ"]="ᇗ",a["ㅭ"]="ᇙ",a["ㅮ"]="ᄜ",a["ㅯ"]="ᇝ",a["ㅰ"]="ᇟ",a["ㅱ"]="ᄝ",a["ㅲ"]="ᄞ",a["ㅳ"]="ᄠ",a["ㅴ"]="ᄢ",a["ㅵ"]="ᄣ",a["ㅶ"]="ᄧ",a["ㅷ"]="ᄩ",a["ㅸ"]="ᄫ",a["ㅹ"]="ᄬ",a["ㅺ"]="ᄭ",a["ㅻ"]="ᄮ",a["ㅼ"]="ᄯ",a["ㅽ"]="ᄲ",a["ㅾ"]="ᄶ",a["ㅿ"]="ᅀ",a["ㆀ"]="ᅇ",a["ㆁ"]="ᅌ",a["ㆂ"]="ᇱ",a["ㆃ"]="ᇲ",a["ㆄ"]="ᅗ",a["ㆅ"]="ᅘ",a["ㆆ"]="ᅙ",a["ㆇ"]="ᆄ",a["ㆈ"]="ᆅ",a["ㆉ"]="ᆈ",a["ㆊ"]="ᆑ",a["ㆋ"]="ᆒ",a["ㆌ"]="ᆔ",a["ㆍ"]="ᆞ",a["ㆎ"]="ᆡ",a["㈀"]="(ᄀ)",a["㈁"]="(ᄂ)",a["㈂"]="(ᄃ)",a["㈃"]="(ᄅ)",a["㈄"]="(ᄆ)",a["㈅"]="(ᄇ)",a["㈆"]="(ᄉ)",a["㈇"]="(ᄋ)",a["㈈"]="(ᄌ)",a["㈉"]="(ᄎ)",a["㈊"]="(ᄏ)",a["㈋"]="(ᄐ)",a["㈌"]="(ᄑ)",a["㈍"]="(ᄒ)",a["㈎"]="(가)",a["㈏"]="(나)",a["㈐"]="(다)",a["㈑"]="(라)",a["㈒"]="(마)",a["㈓"]="(바)",a["㈔"]="(사)",a["㈕"]="(아)",a["㈖"]="(자)",a["㈗"]="(차)",a["㈘"]="(카)",a["㈙"]="(타)",a["㈚"]="(파)",a["㈛"]="(하)",a["㈜"]="(주)",a["㈝"]="(오전)",a["㈞"]="(오후)",a["㈠"]="(一)",a["㈡"]="(二)",a["㈢"]="(三)",a["㈣"]="(四)",a["㈤"]="(五)",a["㈥"]="(六)",a["㈦"]="(七)",a["㈧"]="(八)",a["㈨"]="(九)",a["㈩"]="(十)",a["㈪"]="(月)",a["㈫"]="(火)",a["㈬"]="(水)",a["㈭"]="(木)",a["㈮"]="(金)",a["㈯"]="(土)",a["㈰"]="(日)",a["㈱"]="(株)",a["㈲"]="(有)",a["㈳"]="(社)",a["㈴"]="(名)",a["㈵"]="(特)",a["㈶"]="(財)",a["㈷"]="(祝)",a["㈸"]="(労)",a["㈹"]="(代)",a["㈺"]="(呼)",a["㈻"]="(学)",a["㈼"]="(監)",a["㈽"]="(企)",a["㈾"]="(資)",a["㈿"]="(協)",a["㉀"]="(祭)",a["㉁"]="(休)",a["㉂"]="(自)",a["㉃"]="(至)",a["㋀"]="1月",a["㋁"]="2月",a["㋂"]="3月",a["㋃"]="4月",a["㋄"]="5月",a["㋅"]="6月",a["㋆"]="7月",a["㋇"]="8月",a["㋈"]="9月",a["㋉"]="10月",a["㋊"]="11月",a["㋋"]="12月",a["㍘"]="0点",a["㍙"]="1点",a["㍚"]="2点",a["㍛"]="3点",a["㍜"]="4点",a["㍝"]="5点",a["㍞"]="6点",a["㍟"]="7点",a["㍠"]="8点",a["㍡"]="9点",a["㍢"]="10点",a["㍣"]="11点",a["㍤"]="12点",a["㍥"]="13点",a["㍦"]="14点",a["㍧"]="15点",a["㍨"]="16点",a["㍩"]="17点",a["㍪"]="18点",a["㍫"]="19点",a["㍬"]="20点",a["㍭"]="21点",a["㍮"]="22点",a["㍯"]="23点",a["㍰"]="24点",a["㏠"]="1日",a["㏡"]="2日",a["㏢"]="3日",a["㏣"]="4日",a["㏤"]="5日",a["㏥"]="6日",a["㏦"]="7日",a["㏧"]="8日",a["㏨"]="9日",a["㏩"]="10日",a["㏪"]="11日",a["㏫"]="12日",a["㏬"]="13日",a["㏭"]="14日",a["㏮"]="15日",a["㏯"]="16日",a["㏰"]="17日",a["㏱"]="18日",a["㏲"]="19日",a["㏳"]="20日",a["㏴"]="21日",a["㏵"]="22日",a["㏶"]="23日",a["㏷"]="24日",a["㏸"]="25日",a["㏹"]="26日",a["㏺"]="27日",a["㏻"]="28日",a["㏼"]="29日",a["㏽"]="30日",a["㏾"]="31日",a["ﬀ"]="ff",a["ﬁ"]="fi",a["ﬂ"]="fl",a["ﬃ"]="ffi",a["ﬄ"]="ffl",a["ﬅ"]="ſt",a["ﬆ"]="st",a["ﬓ"]="մն",a["ﬔ"]="մե",a["ﬕ"]="մի",a["ﬖ"]="վն",a["ﬗ"]="մխ",a["ﭏ"]="אל",a["ﭐ"]="ٱ",a["ﭑ"]="ٱ",a["ﭒ"]="ٻ",a["ﭓ"]="ٻ",a["ﭔ"]="ٻ",a["ﭕ"]="ٻ",a["ﭖ"]="پ",a["ﭗ"]="پ",a["ﭘ"]="پ",a["ﭙ"]="پ",a["ﭚ"]="ڀ",a["ﭛ"]="ڀ",a["ﭜ"]="ڀ",a["ﭝ"]="ڀ",a["ﭞ"]="ٺ",a["ﭟ"]="ٺ",a["ﭠ"]="ٺ",a["ﭡ"]="ٺ",a["ﭢ"]="ٿ",a["ﭣ"]="ٿ",a["ﭤ"]="ٿ",a["ﭥ"]="ٿ",a["ﭦ"]="ٹ",a["ﭧ"]="ٹ",a["ﭨ"]="ٹ",a["ﭩ"]="ٹ",a["ﭪ"]="ڤ",a["ﭫ"]="ڤ",a["ﭬ"]="ڤ",a["ﭭ"]="ڤ",a["ﭮ"]="ڦ",a["ﭯ"]="ڦ",a["ﭰ"]="ڦ",a["ﭱ"]="ڦ",a["ﭲ"]="ڄ",a["ﭳ"]="ڄ",a["ﭴ"]="ڄ",a["ﭵ"]="ڄ",a["ﭶ"]="ڃ",a["ﭷ"]="ڃ",a["ﭸ"]="ڃ",a["ﭹ"]="ڃ",a["ﭺ"]="چ",a["ﭻ"]="چ",a["ﭼ"]="چ",a["ﭽ"]="چ",a["ﭾ"]="ڇ",a["ﭿ"]="ڇ",a["ﮀ"]="ڇ",a["ﮁ"]="ڇ",a["ﮂ"]="ڍ",a["ﮃ"]="ڍ",a["ﮄ"]="ڌ",a["ﮅ"]="ڌ",a["ﮆ"]="ڎ",a["ﮇ"]="ڎ",a["ﮈ"]="ڈ",a["ﮉ"]="ڈ",a["ﮊ"]="ژ",a["ﮋ"]="ژ",a["ﮌ"]="ڑ",a["ﮍ"]="ڑ",a["ﮎ"]="ک",a["ﮏ"]="ک",a["ﮐ"]="ک",a["ﮑ"]="ک",a["ﮒ"]="گ",a["ﮓ"]="گ",a["ﮔ"]="گ",a["ﮕ"]="گ",a["ﮖ"]="ڳ",a["ﮗ"]="ڳ",a["ﮘ"]="ڳ",a["ﮙ"]="ڳ",a["ﮚ"]="ڱ",a["ﮛ"]="ڱ",a["ﮜ"]="ڱ",a["ﮝ"]="ڱ",a["ﮞ"]="ں",a["ﮟ"]="ں",a["ﮠ"]="ڻ",a["ﮡ"]="ڻ",a["ﮢ"]="ڻ",a["ﮣ"]="ڻ",a["ﮤ"]="ۀ",a["ﮥ"]="ۀ",a["ﮦ"]="ہ",a["ﮧ"]="ہ",a["ﮨ"]="ہ",a["ﮩ"]="ہ",a["ﮪ"]="ھ",a["ﮫ"]="ھ",a["ﮬ"]="ھ",a["ﮭ"]="ھ",a["ﮮ"]="ے",a["ﮯ"]="ے",a["ﮰ"]="ۓ",a["ﮱ"]="ۓ",a["ﯓ"]="ڭ",a["ﯔ"]="ڭ",a["ﯕ"]="ڭ",a["ﯖ"]="ڭ",a["ﯗ"]="ۇ",a["ﯘ"]="ۇ",a["ﯙ"]="ۆ",a["ﯚ"]="ۆ",a["ﯛ"]="ۈ",a["ﯜ"]="ۈ",a["ﯝ"]="ٷ",a["ﯞ"]="ۋ",a["ﯟ"]="ۋ",a["ﯠ"]="ۅ",a["ﯡ"]="ۅ",a["ﯢ"]="ۉ",a["ﯣ"]="ۉ",a["ﯤ"]="ې",a["ﯥ"]="ې",a["ﯦ"]="ې",a["ﯧ"]="ې",a["ﯨ"]="ى",a["ﯩ"]="ى",a["ﯪ"]="ئا",a["ﯫ"]="ئا",a["ﯬ"]="ئە",a["ﯭ"]="ئە",a["ﯮ"]="ئو",a["ﯯ"]="ئو",a["ﯰ"]="ئۇ",a["ﯱ"]="ئۇ",a["ﯲ"]="ئۆ",a["ﯳ"]="ئۆ",a["ﯴ"]="ئۈ",a["ﯵ"]="ئۈ",a["ﯶ"]="ئې",a["ﯷ"]="ئې",a["ﯸ"]="ئې",a["ﯹ"]="ئى",a["ﯺ"]="ئى",a["ﯻ"]="ئى",a["ﯼ"]="ی",a["ﯽ"]="ی",a["ﯾ"]="ی",a["ﯿ"]="ی",a["ﰀ"]="ئج",a["ﰁ"]="ئح",a["ﰂ"]="ئم",a["ﰃ"]="ئى",a["ﰄ"]="ئي",a["ﰅ"]="بج",a["ﰆ"]="بح",a["ﰇ"]="بخ",a["ﰈ"]="بم",a["ﰉ"]="بى",a["ﰊ"]="بي",a["ﰋ"]="تج",a["ﰌ"]="تح",a["ﰍ"]="تخ",a["ﰎ"]="تم",a["ﰏ"]="تى",a["ﰐ"]="تي",a["ﰑ"]="ثج",a["ﰒ"]="ثم",a["ﰓ"]="ثى",a["ﰔ"]="ثي",a["ﰕ"]="جح",a["ﰖ"]="جم",a["ﰗ"]="حج",a["ﰘ"]="حم",a["ﰙ"]="خج",a["ﰚ"]="خح",a["ﰛ"]="خم",a["ﰜ"]="سج",a["ﰝ"]="سح",a["ﰞ"]="سخ",a["ﰟ"]="سم",a["ﰠ"]="صح",a["ﰡ"]="صم",a["ﰢ"]="ضج",a["ﰣ"]="ضح",a["ﰤ"]="ضخ",a["ﰥ"]="ضم",a["ﰦ"]="طح",a["ﰧ"]="طم",a["ﰨ"]="ظم",a["ﰩ"]="عج",a["ﰪ"]="عم",a["ﰫ"]="غج",a["ﰬ"]="غم",a["ﰭ"]="فج",a["ﰮ"]="فح",a["ﰯ"]="فخ",a["ﰰ"]="فم",a["ﰱ"]="فى",a["ﰲ"]="في",a["ﰳ"]="قح",a["ﰴ"]="قم",a["ﰵ"]="قى",a["ﰶ"]="قي",a["ﰷ"]="كا",a["ﰸ"]="كج",a["ﰹ"]="كح",a["ﰺ"]="كخ",a["ﰻ"]="كل",a["ﰼ"]="كم",a["ﰽ"]="كى",a["ﰾ"]="كي",a["ﰿ"]="لج",a["ﱀ"]="لح",a["ﱁ"]="لخ",a["ﱂ"]="لم",a["ﱃ"]="لى",a["ﱄ"]="لي",a["ﱅ"]="مج",a["ﱆ"]="مح",a["ﱇ"]="مخ",a["ﱈ"]="مم",a["ﱉ"]="مى",a["ﱊ"]="مي",a["ﱋ"]="نج",a["ﱌ"]="نح",a["ﱍ"]="نخ",a["ﱎ"]="نم",a["ﱏ"]="نى",a["ﱐ"]="ني",a["ﱑ"]="هج",a["ﱒ"]="هم",a["ﱓ"]="هى",a["ﱔ"]="هي",a["ﱕ"]="يج",a["ﱖ"]="يح",a["ﱗ"]="يخ",a["ﱘ"]="يم",a["ﱙ"]="يى",a["ﱚ"]="يي",a["ﱛ"]="ذٰ",a["ﱜ"]="رٰ",a["ﱝ"]="ىٰ",a["ﱞ"]=" ٌّ",a["ﱟ"]=" ٍّ",a["ﱠ"]=" َّ",a["ﱡ"]=" ُّ",a["ﱢ"]=" ِّ",a["ﱣ"]=" ّٰ",a["ﱤ"]="ئر",a["ﱥ"]="ئز",a["ﱦ"]="ئم",a["ﱧ"]="ئن",a["ﱨ"]="ئى",a["ﱩ"]="ئي",a["ﱪ"]="بر",a["ﱫ"]="بز",a["ﱬ"]="بم",a["ﱭ"]="بن",a["ﱮ"]="بى",a["ﱯ"]="بي",a["ﱰ"]="تر",a["ﱱ"]="تز",a["ﱲ"]="تم",a["ﱳ"]="تن",a["ﱴ"]="تى",a["ﱵ"]="تي",a["ﱶ"]="ثر",a["ﱷ"]="ثز",a["ﱸ"]="ثم",a["ﱹ"]="ثن",a["ﱺ"]="ثى",a["ﱻ"]="ثي",a["ﱼ"]="فى",a["ﱽ"]="في",a["ﱾ"]="قى",a["ﱿ"]="قي",a["ﲀ"]="كا",a["ﲁ"]="كل",a["ﲂ"]="كم",a["ﲃ"]="كى",a["ﲄ"]="كي",a["ﲅ"]="لم",a["ﲆ"]="لى",a["ﲇ"]="لي",a["ﲈ"]="ما",a["ﲉ"]="مم",a["ﲊ"]="نر",a["ﲋ"]="نز",a["ﲌ"]="نم",a["ﲍ"]="نن",a["ﲎ"]="نى",a["ﲏ"]="ني",a["ﲐ"]="ىٰ",a["ﲑ"]="ير",a["ﲒ"]="يز",a["ﲓ"]="يم",a["ﲔ"]="ين",a["ﲕ"]="يى",a["ﲖ"]="يي",a["ﲗ"]="ئج",a["ﲘ"]="ئح",a["ﲙ"]="ئخ",a["ﲚ"]="ئم",a["ﲛ"]="ئه",a["ﲜ"]="بج",a["ﲝ"]="بح",a["ﲞ"]="بخ",a["ﲟ"]="بم",a["ﲠ"]="به",a["ﲡ"]="تج",a["ﲢ"]="تح",a["ﲣ"]="تخ",a["ﲤ"]="تم",a["ﲥ"]="ته",a["ﲦ"]="ثم",a["ﲧ"]="جح",a["ﲨ"]="جم",a["ﲩ"]="حج",a["ﲪ"]="حم",a["ﲫ"]="خج",a["ﲬ"]="خم",a["ﲭ"]="سج",a["ﲮ"]="سح",a["ﲯ"]="سخ",a["ﲰ"]="سم",a["ﲱ"]="صح",a["ﲲ"]="صخ",a["ﲳ"]="صم",a["ﲴ"]="ضج",a["ﲵ"]="ضح",a["ﲶ"]="ضخ",a["ﲷ"]="ضم",a["ﲸ"]="طح",a["ﲹ"]="ظم",a["ﲺ"]="عج",a["ﲻ"]="عم",a["ﲼ"]="غج",a["ﲽ"]="غم",a["ﲾ"]="فج",a["ﲿ"]="فح",a["ﳀ"]="فخ",a["ﳁ"]="فم",a["ﳂ"]="قح",a["ﳃ"]="قم",a["ﳄ"]="كج",a["ﳅ"]="كح",a["ﳆ"]="كخ",a["ﳇ"]="كل",a["ﳈ"]="كم",a["ﳉ"]="لج",a["ﳊ"]="لح",a["ﳋ"]="لخ",a["ﳌ"]="لم",a["ﳍ"]="له",a["ﳎ"]="مج",a["ﳏ"]="مح",a["ﳐ"]="مخ",a["ﳑ"]="مم",a["ﳒ"]="نج",a["ﳓ"]="نح",a["ﳔ"]="نخ",a["ﳕ"]="نم",a["ﳖ"]="نه",a["ﳗ"]="هج",a["ﳘ"]="هم",a["ﳙ"]="هٰ",a["ﳚ"]="يج",a["ﳛ"]="يح",a["ﳜ"]="يخ",a["ﳝ"]="يم",a["ﳞ"]="يه",a["ﳟ"]="ئم",a["ﳠ"]="ئه",a["ﳡ"]="بم",a["ﳢ"]="به",a["ﳣ"]="تم",a["ﳤ"]="ته",a["ﳥ"]="ثم",a["ﳦ"]="ثه",a["ﳧ"]="سم",a["ﳨ"]="سه",a["ﳩ"]="شم",a["ﳪ"]="شه",a["ﳫ"]="كل",a["ﳬ"]="كم",a["ﳭ"]="لم",a["ﳮ"]="نم",a["ﳯ"]="نه",a["ﳰ"]="يم",a["ﳱ"]="يه",a["ﳲ"]="ـَّ",a["ﳳ"]="ـُّ",a["ﳴ"]="ـِّ",a["ﳵ"]="طى",a["ﳶ"]="طي",a["ﳷ"]="عى",a["ﳸ"]="عي",a["ﳹ"]="غى",a["ﳺ"]="غي",a["ﳻ"]="سى",a["ﳼ"]="سي",a["ﳽ"]="شى",a["ﳾ"]="شي",a["ﳿ"]="حى",a["ﴀ"]="حي",a["ﴁ"]="جى",a["ﴂ"]="جي",a["ﴃ"]="خى",a["ﴄ"]="خي",a["ﴅ"]="صى",a["ﴆ"]="صي",a["ﴇ"]="ضى",a["ﴈ"]="ضي",a["ﴉ"]="شج",a["ﴊ"]="شح",a["ﴋ"]="شخ",a["ﴌ"]="شم",a["ﴍ"]="شر",a["ﴎ"]="سر",a["ﴏ"]="صر",a["ﴐ"]="ضر",a["ﴑ"]="طى",a["ﴒ"]="طي",a["ﴓ"]="عى",a["ﴔ"]="عي",a["ﴕ"]="غى",a["ﴖ"]="غي",a["ﴗ"]="سى",a["ﴘ"]="سي",a["ﴙ"]="شى",a["ﴚ"]="شي",a["ﴛ"]="حى",a["ﴜ"]="حي",a["ﴝ"]="جى",a["ﴞ"]="جي",a["ﴟ"]="خى",a["ﴠ"]="خي",a["ﴡ"]="صى",a["ﴢ"]="صي",a["ﴣ"]="ضى",a["ﴤ"]="ضي",a["ﴥ"]="شج",a["ﴦ"]="شح",a["ﴧ"]="شخ",a["ﴨ"]="شم",a["ﴩ"]="شر",a["ﴪ"]="سر",a["ﴫ"]="صر",a["ﴬ"]="ضر",a["ﴭ"]="شج",a["ﴮ"]="شح",a["ﴯ"]="شخ",a["ﴰ"]="شم",a["ﴱ"]="سه",a["ﴲ"]="شه",a["ﴳ"]="طم",a["ﴴ"]="سج",a["ﴵ"]="سح",a["ﴶ"]="سخ",a["ﴷ"]="شج",a["ﴸ"]="شح",a["ﴹ"]="شخ",a["ﴺ"]="طم",a["ﴻ"]="ظم",a["ﴼ"]="اً",a["ﴽ"]="اً",a["ﵐ"]="تجم",a["ﵑ"]="تحج",a["ﵒ"]="تحج",a["ﵓ"]="تحم",a["ﵔ"]="تخم",a["ﵕ"]="تمج",a["ﵖ"]="تمح",a["ﵗ"]="تمخ",a["ﵘ"]="جمح",a["ﵙ"]="جمح",a["ﵚ"]="حمي",a["ﵛ"]="حمى",a["ﵜ"]="سحج",a["ﵝ"]="سجح",a["ﵞ"]="سجى",a["ﵟ"]="سمح",a["ﵠ"]="سمح",a["ﵡ"]="سمج",a["ﵢ"]="سمم",a["ﵣ"]="سمم",a["ﵤ"]="صحح",a["ﵥ"]="صحح",a["ﵦ"]="صمم",a["ﵧ"]="شحم",a["ﵨ"]="شحم",a["ﵩ"]="شجي",a["ﵪ"]="شمخ",a["ﵫ"]="شمخ",a["ﵬ"]="شمم",a["ﵭ"]="شمم",a["ﵮ"]="ضحى",a["ﵯ"]="ضخم",a["ﵰ"]="ضخم",a["ﵱ"]="طمح",a["ﵲ"]="طمح",a["ﵳ"]="طمم",a["ﵴ"]="طمي",a["ﵵ"]="عجم",a["ﵶ"]="عمم",a["ﵷ"]="عمم",a["ﵸ"]="عمى",a["ﵹ"]="غمم",a["ﵺ"]="غمي",a["ﵻ"]="غمى",a["ﵼ"]="فخم",a["ﵽ"]="فخم",a["ﵾ"]="قمح",a["ﵿ"]="قمم",a["ﶀ"]="لحم",a["ﶁ"]="لحي",a["ﶂ"]="لحى",a["ﶃ"]="لجج",a["ﶄ"]="لجج",a["ﶅ"]="لخم",a["ﶆ"]="لخم",a["ﶇ"]="لمح",a["ﶈ"]="لمح",a["ﶉ"]="محج",a["ﶊ"]="محم",a["ﶋ"]="محي",a["ﶌ"]="مجح",a["ﶍ"]="مجم",a["ﶎ"]="مخج",a["ﶏ"]="مخم",a["ﶒ"]="مجخ",a["ﶓ"]="همج",a["ﶔ"]="همم",a["ﶕ"]="نحم",a["ﶖ"]="نحى",a["ﶗ"]="نجم",a["ﶘ"]="نجم",a["ﶙ"]="نجى",a["ﶚ"]="نمي",a["ﶛ"]="نمى",a["ﶜ"]="يمم",a["ﶝ"]="يمم",a["ﶞ"]="بخي",a["ﶟ"]="تجي",a["ﶠ"]="تجى",a["ﶡ"]="تخي",a["ﶢ"]="تخى",a["ﶣ"]="تمي",a["ﶤ"]="تمى",a["ﶥ"]="جمي",a["ﶦ"]="جحى",a["ﶧ"]="جمى",a["ﶨ"]="سخى",a["ﶩ"]="صحي",a["ﶪ"]="شحي",a["ﶫ"]="ضحي",a["ﶬ"]="لجي",a["ﶭ"]="لمي",a["ﶮ"]="يحي",a["ﶯ"]="يجي",a["ﶰ"]="يمي",a["ﶱ"]="ممي",a["ﶲ"]="قمي",a["ﶳ"]="نحي",a["ﶴ"]="قمح",a["ﶵ"]="لحم",a["ﶶ"]="عمي",a["ﶷ"]="كمي",a["ﶸ"]="نجح",a["ﶹ"]="مخي",a["ﶺ"]="لجم",a["ﶻ"]="كمم",a["ﶼ"]="لجم",a["ﶽ"]="نجح",a["ﶾ"]="جحي",a["ﶿ"]="حجي",a["ﷀ"]="مجي",a["ﷁ"]="فمي",a["ﷂ"]="بحي",a["ﷃ"]="كمم",a["ﷄ"]="عجم",a["ﷅ"]="صمم",a["ﷆ"]="سخي",a["ﷇ"]="نجي",a["﹉"]="‾",a["﹊"]="‾",a["﹋"]="‾",a["﹌"]="‾",a["﹍"]="_",a["﹎"]="_",a["﹏"]="_",a["ﺀ"]="ء",a["ﺁ"]="آ",a["ﺂ"]="آ",a["ﺃ"]="أ",a["ﺄ"]="أ",a["ﺅ"]="ؤ",a["ﺆ"]="ؤ",a["ﺇ"]="إ",a["ﺈ"]="إ",a["ﺉ"]="ئ",a["ﺊ"]="ئ",a["ﺋ"]="ئ",a["ﺌ"]="ئ",a["ﺍ"]="ا",a["ﺎ"]="ا",a["ﺏ"]="ب",a["ﺐ"]="ب",a["ﺑ"]="ب",a["ﺒ"]="ب",a["ﺓ"]="ة",a["ﺔ"]="ة",a["ﺕ"]="ت",a["ﺖ"]="ت",a["ﺗ"]="ت",a["ﺘ"]="ت",a["ﺙ"]="ث",a["ﺚ"]="ث",a["ﺛ"]="ث",a["ﺜ"]="ث",a["ﺝ"]="ج",a["ﺞ"]="ج",a["ﺟ"]="ج",a["ﺠ"]="ج",a["ﺡ"]="ح",a["ﺢ"]="ح",a["ﺣ"]="ح",a["ﺤ"]="ح",a["ﺥ"]="خ",a["ﺦ"]="خ",a["ﺧ"]="خ",a["ﺨ"]="خ",a["ﺩ"]="د",a["ﺪ"]="د",a["ﺫ"]="ذ",a["ﺬ"]="ذ",a["ﺭ"]="ر",a["ﺮ"]="ر",a["ﺯ"]="ز",a["ﺰ"]="ز",a["ﺱ"]="س",a["ﺲ"]="س",a["ﺳ"]="س",a["ﺴ"]="س",a["ﺵ"]="ش",a["ﺶ"]="ش",a["ﺷ"]="ش",a["ﺸ"]="ش",a["ﺹ"]="ص",a["ﺺ"]="ص",a["ﺻ"]="ص",a["ﺼ"]="ص",a["ﺽ"]="ض",a["ﺾ"]="ض",a["ﺿ"]="ض",a["ﻀ"]="ض",a["ﻁ"]="ط",a["ﻂ"]="ط",a["ﻃ"]="ط",a["ﻄ"]="ط",a["ﻅ"]="ظ",a["ﻆ"]="ظ",a["ﻇ"]="ظ",a["ﻈ"]="ظ",a["ﻉ"]="ع",a["ﻊ"]="ع",a["ﻋ"]="ع",a["ﻌ"]="ع",a["ﻍ"]="غ",a["ﻎ"]="غ",a["ﻏ"]="غ",a["ﻐ"]="غ",a["ﻑ"]="ف",a["ﻒ"]="ف",a["ﻓ"]="ف",a["ﻔ"]="ف",a["ﻕ"]="ق",a["ﻖ"]="ق",a["ﻗ"]="ق",a["ﻘ"]="ق",a["ﻙ"]="ك",a["ﻚ"]="ك",a["ﻛ"]="ك",a["ﻜ"]="ك",a["ﻝ"]="ل",a["ﻞ"]="ل",a["ﻟ"]="ل",a["ﻠ"]="ل",a["ﻡ"]="م",a["ﻢ"]="م",a["ﻣ"]="م",a["ﻤ"]="م",a["ﻥ"]="ن",a["ﻦ"]="ن",a["ﻧ"]="ن",a["ﻨ"]="ن",a["ﻩ"]="ه",a["ﻪ"]="ه",a["ﻫ"]="ه",a["ﻬ"]="ه",a["ﻭ"]="و",a["ﻮ"]="و",a["ﻯ"]="ى",a["ﻰ"]="ى",a["ﻱ"]="ي",a["ﻲ"]="ي",a["ﻳ"]="ي",a["ﻴ"]="ي",a["ﻵ"]="لآ",a["ﻶ"]="لآ",a["ﻷ"]="لأ",a["ﻸ"]="لأ",a["ﻹ"]="لإ",a["ﻺ"]="لإ",a["ﻻ"]="لا",a["ﻼ"]="لا"});b.mapSpecialUnicodeValues=d,b.reverseIfRtl=h,b.getUnicodeRangeFor=f,b.getNormalizedUnicodes=l,b.getUnicodeForGlyph=e},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){if(!Array.isArray(a))return null;for(var b=a.length,c=0;b>c;c++)if("number"!=typeof a[c]){for(var d=new Array(b),e=0;b>e;e++)d[e]=+a[e];return d}return a}function f(a){var b;if("object"!==("undefined"==typeof a?"undefined":g(a)))return!1;if(j.isDict(a))b=a;else{if(!j.isStream(a))return!1;b=a.dict}return b.has("FunctionType")}Object.defineProperty(b,"__esModule",{value:!0}),b.PostScriptCompiler=b.PostScriptEvaluator=b.PDFFunctionFactory=b.isPDFFunction=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(0),j=c(2),k=c(142),l={get value(){return i.shadow(this,"value",i.isEvalSupported())}},m=function(){function a(b){var c=b.xref,e=b.isEvalSupported,f=void 0===e?!0:e;d(this,a),this.xref=c,this.isEvalSupported=f!==!1}return h(a,[{key:"create",value:function(a){return n.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:a})}},{key:"createFromArray",value:function(a){return n.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:a})}}]),a}(),n=function(){var a=0,b=2,c=3,d=4;return{getSampleArray:function(a,b,c,d){var e,f,g=1;for(e=0,f=a.length;f>e;e++)g*=a[e];g*=b;var h=new Array(g),i=0,j=0,k=1/(Math.pow(2,c)-1),l=d.getBytes((g*c+7)/8),m=0;for(e=0;g>e;e++){for(;c>i;)j<<=8,j|=l[m++],i+=8;i-=c,h[e]=(j>>i)*k,j&=(1<<i)-1}return h},getIR:function(a){var b=a.xref,c=a.isEvalSupported,d=a.fn,e=d.dict;e||(e=d);var f=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],g=e.get("FunctionType"),h=f[g];if(!h)throw new i.FormatError("Unknown type of function");return h.call(this,{xref:b,isEvalSupported:c,fn:d,dict:e})},fromIR:function(d){var e=d.xref,f=d.isEvalSupported,g=d.IR,h=g[0];switch(h){case a:return this.constructSampledFromIR({xref:e,isEvalSupported:f,IR:g});case b:return this.constructInterpolatedFromIR({xref:e,isEvalSupported:f,IR:g});case c:return this.constructStichedFromIR({xref:e,isEvalSupported:f,IR:g});default:return this.constructPostScriptFromIR({xref:e,isEvalSupported:f,IR:g})}},parse:function(a){var b=a.xref,c=a.isEvalSupported,d=a.fn,e=this.getIR({xref:b,isEvalSupported:c,fn:d});return this.fromIR({xref:b,isEvalSupported:c,IR:e})},parseArray:function(a){var b=a.xref,c=a.isEvalSupported,d=a.fnObj;if(!Array.isArray(d))return this.parse({xref:b,isEvalSupported:c,fn:d});for(var e=[],f=0,g=d.length;g>f;f++)e.push(this.parse({xref:b,isEvalSupported:c,fn:b.fetchIfRef(d[f])}));return function(a,b,c,d){for(var f=0,g=e.length;g>f;f++)e[f](a,b,c,d+f)}},constructSampled:function(b){function c(a){for(var b=a.length,c=[],d=0,e=0;b>e;e+=2)c[d]=[a[e],a[e+1]],++d;return c}var d=(b.xref,b.isEvalSupported,b.fn),f=b.dict,g=e(f.getArray("Domain")),h=e(f.getArray("Range"));if(!g||!h)throw new i.FormatError("No domain or range");var j=g.length/2,k=h.length/2;g=c(g),h=c(h);var l=e(f.get("Size")),m=f.get("BitsPerSample"),n=f.get("Order")||1;1!==n&&i.info("No support for cubic spline interpolation: "+n);var o=e(f.getArray("Encode"));if(o)o=c(o);else{o=[];for(var p=0;j>p;++p)o.push([0,l[p]-1])}var q=e(f.getArray("Decode"));q=q?c(q):h;var r=this.getSampleArray(l,k,m,d);return[a,j,g,o,q,r,l,k,Math.pow(2,m)-1,h]},constructSampledFromIR:function(a){function b(a,b,c,d,e){return d+(a-b)*((e-d)/(c-b))}var c=(a.xref,a.isEvalSupported,a.IR);return function(a,d,e,f){var g,h,i=c[1],j=c[2],k=c[3],l=c[4],m=c[5],n=c[6],o=c[7],p=c[9],q=1<<i,r=new Float64Array(q),s=new Uint32Array(q);for(h=0;q>h;h++)r[h]=1;var t=o,u=1;for(g=0;i>g;++g){var v=j[g][0],w=j[g][1],x=Math.min(Math.max(a[d+g],v),w),y=b(x,v,w,k[g][0],k[g][1]),z=n[g];y=Math.min(Math.max(y,0),z-1);var A=z-1>y?Math.floor(y):y-1,B=A+1-y,C=y-A,D=A*t,E=D+t;for(h=0;q>h;h++)h&u?(r[h]*=C,s[h]+=E):(r[h]*=B,s[h]+=D);t*=z,u<<=1}for(h=0;o>h;++h){var F=0;for(g=0;q>g;g++)F+=m[s[g]+h]*r[g];F=b(F,0,1,l[h][0],l[h][1]),e[f+h]=Math.min(Math.max(F,p[h][0]),p[h][1])}}},constructInterpolated:function(a){for(var c=(a.xref,a.isEvalSupported,a.fn,a.dict),d=e(c.getArray("C0"))||[0],f=e(c.getArray("C1"))||[1],g=c.get("N"),h=d.length,i=[],j=0;h>j;++j)i.push(f[j]-d[j]);return[b,d,i,g]},constructInterpolatedFromIR:function(a){var b=(a.xref,a.isEvalSupported,a.IR),c=b[1],d=b[2],e=b[3],f=d.length;return function(a,b,g,h){for(var i=1===e?a[b]:Math.pow(a[b],e),j=0;f>j;++j)g[h+j]=c[j]+i*d[j]}},constructStiched:function(a){var b=a.xref,d=a.isEvalSupported,f=(a.fn,a.dict),g=e(f.getArray("Domain"));if(!g)throw new i.FormatError("No domain");var h=g.length/2;if(1!==h)throw new i.FormatError("Bad domain for stiched function");for(var j=f.get("Functions"),k=[],l=0,m=j.length;m>l;++l)k.push(this.parse({xref:b,isEvalSupported:d,fn:b.fetchIfRef(j[l])}));var n=e(f.getArray("Bounds")),o=e(f.getArray("Encode"));return[c,g,n,o,k]},constructStichedFromIR:function(a){var b=(a.xref,a.isEvalSupported,a.IR),c=b[1],d=b[2],e=b[3],f=b[4],g=new Float32Array(1);return function(a,b,h,i){for(var j=function(a,b,c){return a>c?a=c:b>a&&(a=b),a},k=j(a[b],c[0],c[1]),l=0,m=d.length;m>l&&!(k<d[l]);++l);var n=c[0];l>0&&(n=d[l-1]);var o=c[1];l<d.length&&(o=d[l]);var p=e[2*l],q=e[2*l+1];g[0]=n===o?p:p+(k-n)*(q-p)/(o-n),f[l](g,0,h,i)}},constructPostScript:function(a){var b=(a.xref,a.isEvalSupported,a.fn),c=a.dict,f=e(c.getArray("Domain")),g=e(c.getArray("Range"));if(!f)throw new i.FormatError("No domain.");if(!g)throw new i.FormatError("No range.");var h=new k.PostScriptLexer(b),j=new k.PostScriptParser(h),l=j.parse();return[d,f,g,l]},constructPostScriptFromIR:function(a){var b=(a.xref,a.isEvalSupported),c=a.IR,d=c[1],e=c[2],f=c[3];if(b&&l.value){var g=(new q).compile(f,d,e);if(g)return new Function("src","srcOffset","dest","destOffset",g)}i.info("Unable to compile PS function");var h=e.length>>1,j=d.length>>1,k=new p(f),m=Object.create(null),n=8192,o=n,r=new Float32Array(j);return function(a,b,c,d){var f,g,i="",l=r;for(f=0;j>f;f++)g=a[b+f],l[f]=g,i+=g+"_";var n=m[i];if(void 0!==n)return void c.set(n,d);var p=new Float32Array(h),q=k.execute(l),s=q.length-h;for(f=0;h>f;f++){g=q[s+f];var t=e[2*f];t>g?g=t:(t=e[2*f+1],g>t&&(g=t)),p[f]=g}o>0&&(o--,m[i]=p),c.set(p,d)}}}}(),o=function(){function a(a){this.stack=a?Array.prototype.slice.call(a,0):[]}var b=100;return a.prototype={push:function(a){if(this.stack.length>=b)throw new Error("PostScript function stack overflow.");this.stack.push(a)},pop:function(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()},copy:function(a){if(this.stack.length+a>=b)throw new Error("PostScript function stack overflow.");for(var c=this.stack,d=c.length-a,e=a-1;e>=0;e--,d++)c.push(c[d])},index:function(a){this.push(this.stack[this.stack.length-a-1])},roll:function(a,b){var c,d,e,f=this.stack,g=f.length-a,h=f.length-1,i=g+(b-Math.floor(b/a)*a);for(c=g,d=h;d>c;c++,d--)e=f[c],f[c]=f[d],f[d]=e;for(c=g,d=i-1;d>c;c++,d--)e=f[c],f[c]=f[d],f[d]=e;for(c=i,d=h;d>c;c++,d--)e=f[c],f[c]=f[d],f[d]=e}},a}(),p=function(){function a(a){this.operators=a}return a.prototype={execute:function(a){for(var b,c,d,e=new o(a),f=0,g=this.operators,h=g.length;h>f;)if(b=g[f++],"number"!=typeof b)switch(b){case"jz":d=e.pop(),c=e.pop(),c||(f=d);break;case"j":c=e.pop(),f=c;break;case"abs":c=e.pop(),e.push(Math.abs(c));break;case"add":d=e.pop(),c=e.pop(),e.push(c+d);break;case"and":d=e.pop(),c=e.pop(),i.isBool(c)&&i.isBool(d)?e.push(c&&d):e.push(c&d);break;case"atan":c=e.pop(),e.push(Math.atan(c));break;case"bitshift":d=e.pop(),c=e.pop(),c>0?e.push(c<<d):e.push(c>>d);break;case"ceiling":c=e.pop(),e.push(Math.ceil(c));break;case"copy":c=e.pop(),e.copy(c);break;case"cos":c=e.pop(),e.push(Math.cos(c));break;case"cvi":c=0|e.pop(),e.push(c);break;case"cvr":break;case"div":d=e.pop(),c=e.pop(),e.push(c/d);break;case"dup":e.copy(1);break;case"eq":d=e.pop(),c=e.pop(),e.push(c===d);break;case"exch":e.roll(2,1);break;case"exp":d=e.pop(),c=e.pop(),e.push(Math.pow(c,d));break;case"false":e.push(!1);break;case"floor":c=e.pop(),e.push(Math.floor(c));break;case"ge":d=e.pop(),c=e.pop(),e.push(c>=d);break;case"gt":d=e.pop(),c=e.pop(),e.push(c>d);break;case"idiv":d=e.pop(),c=e.pop(),e.push(c/d|0);break;case"index":c=e.pop(),e.index(c);break;case"le":d=e.pop(),c=e.pop(),e.push(d>=c);break;case"ln":c=e.pop(),e.push(Math.log(c));break;case"log":c=e.pop(),e.push(Math.log(c)/Math.LN10);break;case"lt":d=e.pop(),c=e.pop(),e.push(d>c);break;case"mod":d=e.pop(),c=e.pop(),e.push(c%d);break;case"mul":d=e.pop(),c=e.pop(),e.push(c*d);break;case"ne":d=e.pop(),c=e.pop(),e.push(c!==d);break;case"neg":c=e.pop(),e.push(-c);break;case"not":c=e.pop(),i.isBool(c)?e.push(!c):e.push(~c);break;case"or":d=e.pop(),c=e.pop(),i.isBool(c)&&i.isBool(d)?e.push(c||d):e.push(c|d);break;case"pop":e.pop();break;case"roll":d=e.pop(),c=e.pop(),e.roll(c,d);break;case"round":c=e.pop(),e.push(Math.round(c));break;case"sin":c=e.pop(),e.push(Math.sin(c));break;case"sqrt":c=e.pop(),e.push(Math.sqrt(c));break;case"sub":d=e.pop(),c=e.pop(),e.push(c-d);break;case"true":e.push(!0);break;case"truncate":c=e.pop(),c=0>c?Math.ceil(c):Math.floor(c),e.push(c);break;case"xor":d=e.pop(),c=e.pop(),i.isBool(c)&&i.isBool(d)?e.push(c!==d):e.push(c^d);break;default:throw new i.FormatError("Unknown operator "+b)}else e.push(b);return e.stack}},a}(),q=function(){function a(a){this.type=a}function b(b,c,d){a.call(this,"args"),this.index=b,this.min=c,this.max=d}function c(b){a.call(this,"literal"),this.number=b,this.min=b,this.max=b}function d(b,c,d,e,f){a.call(this,"binary"),this.op=b,this.arg1=c,this.arg2=d,this.min=e,this.max=f}function e(b,c){a.call(this,"max"),this.arg=b,this.min=b.min,this.max=c}function f(b,c,d){a.call(this,"var"),this.index=b,this.min=c,this.max=d}function g(b,c){a.call(this,"definition"),this.variable=b,this.arg=c}function h(){this.parts=[]}function i(a,b){return"literal"===b.type&&0===b.number?a:"literal"===a.type&&0===a.number?b:"literal"===b.type&&"literal"===a.type?new c(a.number+b.number):new d("+",a,b,a.min+b.min,a.max+b.max)}function j(a,b){if("literal"===b.type){if(0===b.number)return new c(0);if(1===b.number)return a;if("literal"===a.type)return new c(a.number*b.number)}if("literal"===a.type){if(0===a.number)return new c(0);if(1===a.number)return b}var e=Math.min(a.min*b.min,a.min*b.max,a.max*b.min,a.max*b.max),f=Math.max(a.min*b.min,a.min*b.max,a.max*b.min,a.max*b.max);return new d("*",a,b,e,f)}function k(a,b){if("literal"===b.type){if(0===b.number)return a;if("literal"===a.type)return new c(a.number-b.number)}return"binary"===b.type&&"-"===b.op&&"literal"===a.type&&1===a.number&&"literal"===b.arg1.type&&1===b.arg1.number?b.arg2:new d("-",a,b,a.min-b.max,a.max-b.min)}function l(a,b){return a.min>=b?new c(b):a.max<=b?a:new e(a,b)}function m(){}return a.prototype.visit=function(a){throw new Error("abstract method")},b.prototype=Object.create(a.prototype),b.prototype.visit=function(a){a.visitArgument(this)},c.prototype=Object.create(a.prototype),c.prototype.visit=function(a){a.visitLiteral(this)},d.prototype=Object.create(a.prototype),d.prototype.visit=function(a){a.visitBinaryOperation(this)},e.prototype=Object.create(a.prototype),e.prototype.visit=function(a){a.visitMin(this)},f.prototype=Object.create(a.prototype),f.prototype.visit=function(a){a.visitVariable(this)},g.prototype=Object.create(a.prototype),g.prototype.visit=function(a){a.visitVariableDefinition(this)},h.prototype={visitArgument:function(a){this.parts.push("Math.max(",a.min,", Math.min(",a.max,", src[srcOffset + ",a.index,"]))")},visitVariable:function(a){
this.parts.push("v",a.index)},visitLiteral:function(a){this.parts.push(a.number)},visitBinaryOperation:function(a){this.parts.push("("),a.arg1.visit(this),this.parts.push(" ",a.op," "),a.arg2.visit(this),this.parts.push(")")},visitVariableDefinition:function(a){this.parts.push("var "),a.variable.visit(this),this.parts.push(" = "),a.arg.visit(this),this.parts.push(";")},visitMin:function(a){this.parts.push("Math.min("),a.arg.visit(this),this.parts.push(", ",a.max,")")},toString:function(){return this.parts.join("")}},m.prototype={compile:function(a,d,e){var m,n,o,p,q,r,s,t,u,v,w=[],x=[],y=d.length>>1,z=e.length>>1,A=0;for(m=0;y>m;m++)w.push(new b(m,d[2*m],d[2*m+1]));for(m=0,n=a.length;n>m;m++)if(v=a[m],"number"!=typeof v)switch(v){case"add":if(w.length<2)return null;r=w.pop(),q=w.pop(),w.push(i(q,r));break;case"cvr":if(w.length<1)return null;break;case"mul":if(w.length<2)return null;r=w.pop(),q=w.pop(),w.push(j(q,r));break;case"sub":if(w.length<2)return null;r=w.pop(),q=w.pop(),w.push(k(q,r));break;case"exch":if(w.length<2)return null;s=w.pop(),t=w.pop(),w.push(s,t);break;case"pop":if(w.length<1)return null;w.pop();break;case"index":if(w.length<1)return null;if(q=w.pop(),"literal"!==q.type)return null;if(o=q.number,0>o||!Number.isInteger(o)||w.length<o)return null;if(s=w[w.length-o-1],"literal"===s.type||"var"===s.type){w.push(s);break}u=new f(A++,s.min,s.max),w[w.length-o-1]=u,w.push(u),x.push(new g(u,s));break;case"dup":if(w.length<1)return null;if("number"==typeof a[m+1]&&"gt"===a[m+2]&&a[m+3]===m+7&&"jz"===a[m+4]&&"pop"===a[m+5]&&a[m+6]===a[m+1]){q=w.pop(),w.push(l(q,a[m+1])),m+=6;break}if(s=w[w.length-1],"literal"===s.type||"var"===s.type){w.push(s);break}u=new f(A++,s.min,s.max),w[w.length-1]=u,w.push(u),x.push(new g(u,s));break;case"roll":if(w.length<2)return null;if(r=w.pop(),q=w.pop(),"literal"!==r.type||"literal"!==q.type)return null;if(p=r.number,o=q.number,0>=o||!Number.isInteger(o)||!Number.isInteger(p)||w.length<o)return null;if(p=(p%o+o)%o,0===p)break;Array.prototype.push.apply(w,w.splice(w.length-o,o-p));break;default:return null}else w.push(new c(v));if(w.length!==z)return null;var B=[];return x.forEach(function(a){var b=new h;a.visit(b),B.push(b.toString())}),w.forEach(function(a,b){var c=new h;a.visit(c);var d=e[2*b],f=e[2*b+1],g=[c.toString()];d>a.min&&(g.unshift("Math.max(",d,", "),g.push(")")),f<a.max&&(g.unshift("Math.min(",f,", "),g.push(")")),g.unshift("dest[destOffset + ",b,"] = "),g.push(";"),B.push(g.join(""))}),B.join("\n")}},m}();b.isPDFFunction=f,b.PDFFunctionFactory=m,b.PostScriptEvaluator=p,b.PostScriptCompiler=q},function(a,b,c){"use strict";var d=c(83);b.WorkerMessageHandler=d.WorkerMessageHandler},function(a,b,c){"use strict";function d(a){return"function"==typeof a.postMessage&&"onmessage"in a}Object.defineProperty(b,"__esModule",{value:!0}),b.WorkerMessageHandler=b.WorkerTask=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(0),g=c(127),h=c(2),i=function(){function a(a){this.name=a,this.terminated=!1,this._capability=f.createPromiseCapability()}return a.prototype={get finished(){return this._capability.promise},finish:function(){this._capability.resolve()},terminate:function(){this.terminated=!0},ensureNotTerminated:function(){if(this.terminated)throw new Error("Worker task was terminated")}},a}(),j=function(){function a(a){this._msgHandler=a,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}function b(a){var b=this;this._msgHandler=a,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;var c=this._msgHandler.sendWithStream("GetReader");this._reader=c.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(function(a){b._isStreamingSupported=a.isStreamingSupported,b._isRangeSupported=a.isRangeSupported,b._contentLength=a.contentLength})}function c(a,b,c){this._msgHandler=c,this.onProgress=null;var d=this._msgHandler.sendWithStream("GetRangeReader",{begin:a,end:b});this._reader=d.getReader()}return a.prototype={getFullReader:function(){return f.assert(!this._fullRequestReader),this._fullRequestReader=new b(this._msgHandler),this._fullRequestReader},getRangeReader:function(a,b){var d=new c(a,b,this._msgHandler);return this._rangeRequestReaders.push(d),d},cancelAllRequests:function(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);var b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}},b.prototype={get headersReady(){return this._headersReady},get contentLength(){return this._contentLength},get isStreamingSupported(){return this._isStreamingSupported},get isRangeSupported(){return this._isRangeSupported},read:function(){return this._reader.read().then(function(a){var b=a.value,c=a.done;return c?{value:void 0,done:!0}:{value:b.buffer,done:!1}})},cancel:function(a){this._reader.cancel(a)}},c.prototype={get isStreamingSupported(){return!1},read:function(){return this._reader.read().then(function(a){var b=a.value,c=a.done;return c?{value:void 0,done:!0}:{value:b.buffer,done:!1}})},cancel:function(a){this._reader.cancel(a)}},a}(),k={setup:function(a,b){var c=!1;a.on("test",function(b){if(!c){if(c=!0,!(b instanceof Uint8Array))return void a.send("test","main",!1);var d=255===b[0];a.postMessageTransfers=d;var e=new XMLHttpRequest,f="response"in e;try{e.responseType}catch(g){f=!1}return f?void a.send("test",{supportTypedArray:!0,supportTransfers:d}):void a.send("test",!1)}}),a.on("configure",function(a){f.setVerbosityLevel(a.verbosity)}),a.on("GetDocRequest",function(a){return k.createDocumentHandler(a,b)})},createDocumentHandler:function(a,b){function c(){if(p)throw new Error("Worker was terminated")}function d(a){r.push(a)}function k(a){a.finish();var b=r.indexOf(a);r.splice(b,1)}function l(a){var b=f.createPromiseCapability(),c=function(){var a=o.ensureDoc("numPages"),c=o.ensureDoc("fingerprint"),e=o.ensureXRef("encrypt");Promise.all([a,c,e]).then(function(a){var c={numPages:a[0],fingerprint:a[1],encrypted:!!a[2]};b.resolve(c)},d)},d=function(a){b.reject(a)};return o.ensureDoc("checkHeader",[]).then(function(){o.ensureDoc("parseStartXRef",[]).then(function(){o.ensureDoc("parse",[a]).then(c,d)},d)},d),b.promise}function m(a,b){var d,e=f.createPromiseCapability(),h=a.source;if(h.data){try{d=new g.LocalPdfManager(u,h.data,h.password,b,v),e.resolve(d)}catch(i){e.reject(i)}return e.promise}var k,l=[];try{k=new j(x)}catch(i){return e.reject(i),e.promise}var m=k.getFullReader();m.headersReady.then(function(){if(m.isRangeSupported){var a=h.disableAutoFetch||m.isStreamingSupported;d=new g.NetworkPdfManager(u,k,{msgHandler:x,url:h.url,password:h.password,length:m.contentLength,disableAutoFetch:a,rangeChunkSize:h.rangeChunkSize},b,v);for(var c=0;c<l.length;c++)d.sendProgressiveData(l[c]);l=[],e.resolve(d),q=null}})["catch"](function(a){e.reject(a),q=null});var n=0,o=function(){var a=f.arraysToBytes(l);h.length&&a.length!==h.length&&f.warn("reported HTTP length is different from actual");try{d=new g.LocalPdfManager(u,a,h.password,b,v),e.resolve(d)}catch(c){e.reject(c)}l=[]},p=new Promise(function(a,b){var e=function g(a){try{if(c(),a.done)return d||o(),void(q=null);var e=a.value;n+=f.arrayByteLength(e),m.isStreamingSupported||x.send("DocProgress",{loaded:n,total:Math.max(n,m.contentLength||0)}),d?d.sendProgressiveData(e):l.push(e),m.read().then(g,b)}catch(h){b(h)}};m.read().then(e,b)});return p["catch"](function(a){e.reject(a),q=null}),q=function(){k.cancelAllRequests("abort")},e.promise}function n(a){function b(a){c(),x.send("GetDoc",{pdfInfo:a})}function e(a){if(c(),a instanceof f.PasswordException){var b=new i("PasswordException: response "+a.code);d(b),x.sendWithPromise("PasswordRequest",a).then(function(a){k(b),o.updatePassword(a.password),g()})["catch"](function(a){k(b),x.send("PasswordException",a)}.bind(null,a))}else a instanceof f.InvalidPDFException?x.send("InvalidPDF",a):a instanceof f.MissingPDFException?x.send("MissingPDF",a):a instanceof f.UnexpectedResponseException?x.send("UnexpectedResponse",a):x.send("UnknownError",new f.UnknownErrorException(a.message,a.toString()))}function g(){c(),l(!1).then(b,function(a){return c(),a instanceof f.XRefParseException?(o.requestLoadedStream(),void o.onLoadedStream().then(function(){c(),l(!0).then(b,e)})):void e(a)},e)}c();var h={forceDataSchema:a.disableCreateObjectURL,maxImageSize:void 0===a.maxImageSize?-1:a.maxImageSize,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport,ignoreErrors:a.ignoreErrors,isEvalSupported:a.isEvalSupported};m(a,h).then(function(a){if(p)throw a.terminate(),new Error("Worker was terminated");o=a,x.send("PDFManagerReady",null),o.onLoadedStream().then(function(a){x.send("DataLoaded",{length:a.bytes.byteLength})})}).then(g,e)}var o,p=!1,q=null,r=[],s=a.apiVersion,t="1.10.100";if(null!==s&&s!==t)throw new Error('The API version "'+s+'" does not match '+('the Worker version "'+t+'".'));var u=a.docId,v=a.docBaseUrl,w=a.docId+"_worker",x=new f.MessageHandler(w,u,b);return x.postMessageTransfers=a.postMessageTransfers,x.on("GetPage",function(a){return o.getPage(a.pageIndex).then(function(a){var b=o.ensure(a,"rotate"),c=o.ensure(a,"ref"),d=o.ensure(a,"userUnit"),e=o.ensure(a,"view");return Promise.all([b,c,d,e]).then(function(a){return{rotate:a[0],ref:a[1],userUnit:a[2],view:a[3]}})})}),x.on("GetPageIndex",function(a){var b=new h.Ref(a.ref.num,a.ref.gen),c=o.pdfDocument.catalog;return c.getPageIndex(b)}),x.on("GetDestinations",function(a){return o.ensureCatalog("destinations")}),x.on("GetDestination",function(a){return o.ensureCatalog("getDestination",[a.id])}),x.on("GetPageLabels",function(a){return o.ensureCatalog("pageLabels")}),x.on("GetPageMode",function(a){return o.ensureCatalog("pageMode")}),x.on("GetAttachments",function(a){return o.ensureCatalog("attachments")}),x.on("GetJavaScript",function(a){return o.ensureCatalog("javaScript")}),x.on("GetOutline",function(a){return o.ensureCatalog("documentOutline")}),x.on("GetMetadata",function(a){return Promise.all([o.ensureDoc("documentInfo"),o.ensureCatalog("metadata")])}),x.on("GetData",function(a){return o.requestLoadedStream(),o.onLoadedStream().then(function(a){return a.bytes})}),x.on("GetStats",function(a){return o.pdfDocument.xref.stats}),x.on("GetAnnotations",function(a){return o.getPage(a.pageIndex).then(function(b){return o.ensure(b,"getAnnotationsData",[a.intent])})}),x.on("RenderPageRequest",function(a){var b=a.pageIndex;o.getPage(b).then(function(c){var g=new i("RenderPageRequest: page "+b);d(g);var h=b+1,j=Date.now();c.getOperatorList({handler:x,task:g,intent:a.intent,renderInteractiveForms:a.renderInteractiveForms}).then(function(a){k(g),f.info("page="+h+" - getOperatorList: time="+(Date.now()-j)+"ms, len="+a.totalLength)},function(b){if(k(g),!g.terminated){x.send("UnsupportedFeature",{featureId:f.UNSUPPORTED_FEATURES.unknown});var c,d="worker.js: while trying to getPage() and getOperatorList()";c="string"==typeof b?{message:b,stack:d}:"object"===("undefined"==typeof b?"undefined":e(b))?{message:b.message||b.toString(),stack:b.stack||d}:{message:"Unknown exception type: "+("undefined"==typeof b?"undefined":e(b)),stack:d},x.send("PageError",{pageNum:h,error:c,intent:a.intent})}})})},this),x.on("GetTextContent",function(a,b){var c=a.pageIndex;b.onPull=function(a){},b.onCancel=function(a){},o.getPage(c).then(function(e){var g=new i("GetTextContent: page "+c);d(g);var h=c+1,j=Date.now();e.extractTextContent({handler:x,task:g,sink:b,normalizeWhitespace:a.normalizeWhitespace,combineTextItems:a.combineTextItems}).then(function(){k(g),f.info("text indexing: page="+h+" - time="+(Date.now()-j)+"ms"),b.close()},function(a){if(k(g),!g.terminated)throw b.error(a),a})})}),x.on("Cleanup",function(a){return o.cleanup()}),x.on("Terminate",function(a){p=!0,o&&(o.terminate(),o=null),q&&q();var b=[];return r.forEach(function(a){b.push(a.finished),a.terminate()}),Promise.all(b).then(function(){x.destroy(),x=null})}),x.on("Ready",function(b){n(a),a=null}),w},initializeFromPort:function(a){var b=new f.MessageHandler("worker","main",a);k.setup(b,a),b.send("ready",null)}};"undefined"==typeof window&&!f.isNodeJS()&&"undefined"!=typeof self&&d(self)&&k.initializeFromPort(self),b.WorkerTask=i,b.WorkerMessageHandler=k},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var e=c(85),f="undefined"!=typeof navigator&&navigator.userAgent||"",g=/Android/.test(f),h=/Android\s[0-2][^\d]/.test(f),i=/Android\s[0-4][^\d]/.test(f),j=f.indexOf("Chrom")>=0,k=/Chrome\/(39|40)\./.test(f),l=f.indexOf("CriOS")>=0,m=f.indexOf("Trident")>=0,n=/\b(iPad|iPhone|iPod)(?=;)/.test(f),o=f.indexOf("Opera")>=0,p=/Safari\//.test(f)&&!/(Chrome\/|Android\s)/.test(f),q="object"===("undefined"==typeof window?"undefined":d(window))&&"object"===("undefined"==typeof document?"undefined":d(document));"undefined"==typeof PDFJS&&(e.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){function a(a,b){return new i(this.slice(a,b))}function b(a,b){arguments.length<2&&(b=0);for(var c=0,d=a.length;d>c;++c,++b)this[b]=255&a[c]}function f(a,b){this.buffer=a,this.byteLength=a.length,this.length=b,h(this.length)}function g(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=this.buffer,d=a<<2;c[d]=255&b,c[d+1]=b>>8&255,c[d+2]=b>>16&255,c[d+3]=b>>>24&255}}}function h(a){for(;a>j;)Object.defineProperty(f.prototype,j,g(j)),j++}function i(c){var e,f,g;if("number"==typeof c)for(e=[],f=0;c>f;++f)e[f]=0;else if("slice"in c)e=c.slice(0);else for(e=[],f=0,g=c.length;g>f;++f)e[f]=c[f];return e.subarray=a,e.buffer=e,e.byteLength=e.length,e.set=b,"object"===("undefined"==typeof c?"undefined":d(c))&&c.buffer&&(e.buffer=c.buffer),e}if("undefined"==typeof Uint8ClampedArray&&(e.Uint8ClampedArray=c(86)),"undefined"!=typeof Uint8Array)return"undefined"==typeof Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(a,b){return new Uint8Array(this.slice(a,b))},Float32Array.prototype.subarray=function(a,b){return new Float32Array(this.slice(a,b))}),void("undefined"==typeof Float64Array&&(e.Float64Array=Float32Array));f.prototype=Object.create(null);var j=0;e.Uint8Array=i,e.Int8Array=i,e.Int32Array=i,e.Uint16Array=i,e.Float32Array=i,e.Float64Array=i,e.Uint32Array=function(){if(3===arguments.length){if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new f(arguments[0],arguments[2])}return i.apply(this,arguments)}}(),function(){if(q&&window.CanvasPixelArray){var a=window.CanvasPixelArray.prototype;"buffer"in a||(Object.defineProperty(a,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(a,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),function(){e.URL||(e.URL=e.webkitURL)}(),function(){if("undefined"!=typeof Object.defineProperty){var a=!0;try{q&&Object.defineProperty(new Image,"id",{value:"test"});var b=function(){};b.prototype={get id(){}},Object.defineProperty(new b,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(c){a=!1}if(a)return}Object.defineProperty=function(a,b,c){delete a[b],"get"in c&&a.__defineGetter__(b,c.get),"set"in c&&a.__defineSetter__(b,c.set),"value"in c&&(a.__defineSetter__(b,function(a){return this.__defineGetter__(b,function(){return a}),a}),a[b]=c.value)}}(),function(){if("undefined"!=typeof XMLHttpRequest){var a=XMLHttpRequest.prototype,b=new XMLHttpRequest;if("overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(a){}}),!("responseType"in b))return Object.defineProperty(a,"responseType",{get:function(){return this._responseType||"text"},set:function(a){("text"===a||"arraybuffer"===a)&&(this._responseType=a,"arraybuffer"===a&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?void Object.defineProperty(a,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}):void Object.defineProperty(a,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var a,b=this.responseText,c=b.length,d=new Uint8Array(c);for(a=0;c>a;++a)d[a]=255&b.charCodeAt(a);return d.buffer}})}}(),function(){if(!("btoa"in e)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.btoa=function(b){var c,d,e="";for(c=0,d=b.length;d>c;c+=3){var f=255&b.charCodeAt(c),g=255&b.charCodeAt(c+1),h=255&b.charCodeAt(c+2),i=f>>2,j=(3&f)<<4|g>>4,k=d>c+1?(15&g)<<2|h>>6:64,l=d>c+2?63&h:64;e+=a.charAt(i)+a.charAt(j)+a.charAt(k)+a.charAt(l)}return e}}}(),function(){if(!("atob"in e)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=function(b){if(b=b.replace(/=+$/,""),b.length%4===1)throw new Error("bad atob input");for(var c,d,e=0,f=0,g="";d=b.charAt(f++);~d&&(c=e%4?64*c+d:d,e++%4)?g+=String.fromCharCode(255&c>>(-2*e&6)):0)d=a.indexOf(d);return g}}}(),function(){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments,1),d=function(){var d=c.concat(Array.prototype.slice.call(arguments));return b.apply(a,d)};return d})}(),function(){if(q){var a=document.createElement("div");"dataset"in a||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var a={},b=0,c=this.attributes.length;c>b;b++){var d=this.attributes[b];if("data-"===d.name.substring(0,5)){var e=d.name.substring(5).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()});a[e]=d.value}}return Object.defineProperty(this,"_dataset",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}(),function(){function a(a,b,c,d){var e=a.className||"",f=e.split(/\s+/g);""===f[0]&&f.shift();var g=f.indexOf(b);return 0>g&&c&&f.push(b),g>=0&&d&&f.splice(g,1),a.className=f.join(" "),g>=0}if(q){var b=document.createElement("div");if(!("classList"in b)){var c={add:function(b){a(this.element,b,!0,!1)},contains:function(b){return a(this.element,b,!1,!1)},remove:function(b){a(this.element,b,!1,!0)},toggle:function(b){a(this.element,b,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var a=Object.create(c,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}}(),function(){if(!("undefined"==typeof importScripts||"console"in e)){var a={},b={log:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_log",data:a})},error:function(){var a=Array.prototype.slice.call(arguments);e.postMessage({targetName:"main",action:"console_error",data:a})},time:function(b){a[b]=Date.now()},timeEnd:function(b){var c=a[b];if(!c)throw new Error("Unknown timer name "+b);this.log("Timer:",b,Date.now()-c)}};e.console=b}}(),function(){return q?"console"in window?"bind"in console.log?void 0:(console.log=function(a){return function(b){return a(b)}}(console.log),console.error=function(a){return function(b){return a(b)}}(console.error),void(console.warn=function(a){return function(b){return a(b)}}(console.warn))):void(window.console={log:function(){},error:function(){},warn:function(){}}):void 0}(),function(){function a(a){b(a.target)&&a.stopPropagation()}function b(a){return a.disabled||a.parentNode&&b(a.parentNode)}o&&document.addEventListener("click",a,!0)}(),function(){(m||l)&&(PDFJS.disableCreateObjectURL=!0)}(),function(){"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US"))}(),function(){(p||h||k||n)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){q&&(!history.pushState||h)&&(PDFJS.disableHistory=!0)}(),function(){if(q)if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(a){for(var b=0,c=this.length;c>b;b++)this[b]=a[b]});else{var a,b=!1;if(j?(a=f.match(/Chrom(e|ium)\/([0-9]+)\./),b=a&&parseInt(a[2])<21):g?b=i:p&&(a=f.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),b=a&&parseInt(a[1])<6),b){var c=window.CanvasRenderingContext2D.prototype,d=c.createImageData;c.createImageData=function(a,b){var c=d.call(this,a,b);return c.data.set=function(a){for(var b=0,c=this.length;c>b;b++)this[b]=a[b]},c},c=null}}}(),function(){function a(){window.requestAnimationFrame=function(a){return window.setTimeout(a,20)},window.cancelAnimationFrame=function(a){window.clearTimeout(a)}}if(q)return n?void a():void("requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||a()))}(),function(){(n||g)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){q&&m&&window.parent!==window&&(PDFJS.disableFullscreen=!0)}(),function(){q&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var a=document.getElementsByTagName("script");return a[a.length-1]},enumerable:!0,configurable:!0}))}(),function(){if(q){var a=document.createElement("input");try{a.type="number"}catch(b){var c=a.constructor.prototype,d=Object.getOwnPropertyDescriptor(c,"type");Object.defineProperty(c,"type",{get:function(){return d.get.call(this)},set:function(a){d.set.call(this,"number"===a?"text":a)},enumerable:!0,configurable:!0})}}}(),function(){if(q&&document.attachEvent){var a=document.constructor.prototype,b=Object.getOwnPropertyDescriptor(a,"readyState");Object.defineProperty(a,"readyState",{get:function(){var a=b.get.call(this);return"interactive"===a?"loading":a},set:function(a){b.set.call(this,a)},enumerable:!0,configurable:!0})}}(),function(){q&&"undefined"==typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){Number.isNaN||(Number.isNaN=c(98))}(),function(){Number.isInteger||(Number.isInteger=c(100))}(),function(){e.Promise||(e.Promise=c(103))}(),function(){e.WeakMap||(e.WeakMap=c(113))}(),function(){function a(a){return void 0!==n[a]}function b(){i.call(this),this._isInvalid=!0}function c(a){return""===a&&b.call(this),a.toLowerCase()}function f(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1===[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function g(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1===[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function h(d,e,h){function i(a){t.push(a)}var j=e||"scheme start",k=0,l="",m=!1,s=!1,t=[];a:for(;(d[k-1]!==p||0===k)&&!this._isInvalid;){var u=d[k];switch(j){case"scheme start":if(!u||!q.test(u)){if(e){i("Invalid scheme.");break a}l="",j="no scheme";continue}l+=u.toLowerCase(),j="scheme";break;case"scheme":if(u&&r.test(u))l+=u.toLowerCase();else{if(":"!==u){if(e){if(u===p)break a;i("Code point not allowed in scheme: "+u);break a}l="",k=0,j="no scheme";continue}if(this._scheme=l,l="",e)break a;a(this._scheme)&&(this._isRelative=!0),j="file"===this._scheme?"relative":this._isRelative&&h&&h._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===u?(this._query="?",j="query"):"#"===u?(this._fragment="#",j="fragment"):u!==p&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._schemeData+=f(u));break;case"no scheme":if(h&&a(h._scheme)){j="relative";continue}i("Missing scheme."),b.call(this);break;case"relative or authority":if("/"!==u||"/"!==d[k+1]){i("Expected /, got: "+u),j="relative";continue}j="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=h._scheme),u===p){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._username=h._username,this._password=h._password;break a}if("/"===u||"\\"===u)"\\"===u&&i("\\ is an invalid code point."),j="relative slash";else if("?"===u)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query="?",this._username=h._username,this._password=h._password,j="query";else{if("#"!==u){var v=d[k+1],w=d[k+2];("file"!==this._scheme||!q.test(u)||":"!==v&&"|"!==v||w!==p&&"/"!==w&&"\\"!==w&&"?"!==w&&"#"!==w)&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password,this._path=h._path.slice(),this._path.pop()),j="relative path";continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment="#",this._username=h._username,this._password=h._password,j="fragment"}break;case"relative slash":if("/"!==u&&"\\"!==u){"file"!==this._scheme&&(this._host=h._host,this._port=h._port,this._username=h._username,this._password=h._password),j="relative path";continue}"\\"===u&&i("\\ is an invalid code point."),j="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==u){i("Expected '/', got: "+u),j="authority ignore slashes";continue}j="authority second slash";break;case"authority second slash":if(j="authority ignore slashes","/"!==u){i("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!==u&&"\\"!==u){j="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"===u){m&&(i("@ already seen."),l+="%40"),m=!0;for(var x=0;x<l.length;x++){var y=l[x];if("	"!==y&&"\n"!==y&&"\r"!==y)if(":"!==y||null!==this._password){var z=f(y);null!==this._password?this._password+=z:this._username+=z}else this._password="";else i("Invalid whitespace in authority.")}l=""}else{if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u){k-=l.length,l="",j="host";continue}l+=u}break;case"file host":if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u){2!==l.length||!q.test(l[0])||":"!==l[1]&&"|"!==l[1]?0===l.length?j="relative path start":(this._host=c.call(this,l),l="",j="relative path start"):j="relative path";continue}"	"===u||"\n"===u||"\r"===u?i("Invalid whitespace in file host."):l+=u;break;case"host":case"hostname":if(":"!==u||s){if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u){if(this._host=c.call(this,l),l="",j="relative path start",e)break a;continue}"	"!==u&&"\n"!==u&&"\r"!==u?("["===u?s=!0:"]"===u&&(s=!1),l+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=c.call(this,l),l="",j="port","hostname"===e)break a;break;case"port":if(/[0-9]/.test(u))l+=u;else{if(u===p||"/"===u||"\\"===u||"?"===u||"#"===u||e){if(""!==l){var A=parseInt(l,10);A!==n[this._scheme]&&(this._port=A+""),l=""}if(e)break a;j="relative path start";continue}"	"===u||"\n"===u||"\r"===u?i("Invalid code point in port: "+u):b.call(this)}break;case"relative path start":if("\\"===u&&i("'\\' not allowed in path."),j="relative path","/"!==u&&"\\"!==u)continue;break;case"relative path":if(u!==p&&"/"!==u&&"\\"!==u&&(e||"?"!==u&&"#"!==u))"	"!==u&&"\n"!==u&&"\r"!==u&&(l+=f(u));else{"\\"===u&&i("\\ not allowed in relative path.");var B;(B=o[l.toLowerCase()])&&(l=B),".."===l?(this._path.pop(),"/"!==u&&"\\"!==u&&this._path.push("")):"."===l&&"/"!==u&&"\\"!==u?this._path.push(""):"."!==l&&("file"===this._scheme&&0===this._path.length&&2===l.length&&q.test(l[0])&&"|"===l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"===u?(this._query="?",j="query"):"#"===u&&(this._fragment="#",j="fragment")}break;case"query":e||"#"!==u?u!==p&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._query+=g(u)):(this._fragment="#",j="fragment");break;case"fragment":u!==p&&"	"!==u&&"\n"!==u&&"\r"!==u&&(this._fragment+=u)}k++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function j(a,b){void 0===b||b instanceof j||(b=new j(String(b))),this._url=a,i.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");h.call(this,c,null,b)}var k=!1;try{if("function"==typeof URL&&"object"===d(URL.prototype)&&"origin"in URL.prototype){var l=new URL("b","http://a");l.pathname="c%20d",k="http://a/c%20d"===l.href}}catch(m){}if(!k){var n=Object.create(null);n.ftp=21,n.file=0,n.gopher=70,n.http=80,n.https=443,n.ws=80,n.wss=443;var o=Object.create(null);o["%2e"]=".",o[".%2e"]="..",o["%2e."]="..",o["%2e%2e"]="..";var p,q=/[a-zA-Z]/,r=/[a-zA-Z0-9\+\-\.]/;j.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var a="";return(""!==this._username||null!==this._password)&&(a=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){i.call(this),h.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||h.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&h.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],h.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"===a[0]&&(a=a.slice(1)),h.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"===a[0]&&(a=a.slice(1)),h.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new j(this._schemeData).origin||"null"}catch(b){}return"null"}return a=this.host,a?this._scheme+"://"+a:""}};var s=e.URL;s&&(j.createObjectURL=function(a){return s.createObjectURL.apply(s,arguments)},j.revokeObjectURL=function(a){s.revokeObjectURL(a)}),e.URL=j}}()}},function(a,b,c){"use strict";a.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(a,b,c){"use strict";c(87),a.exports=c(6).Uint8ClampedArray},function(a,b,c){"use strict";c(88)("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};if(c(10)){var e=c(21),f=c(1),g=c(11),h=c(7),i=c(49),j=c(89),k=c(13),l=c(24),m=c(29),n=c(8),o=c(23),p=c(18),q=c(14),r=c(50),s=c(31),t=c(36),u=c(12),v=c(32),w=c(3),x=c(19),y=c(56),z=c(57),A=c(59),B=c(51).f,C=c(60),D=c(17),E=c(4),F=c(42),G=c(53),H=c(43),I=c(61),J=c(20),K=c(44),L=c(63),M=c(55),N=c(97),O=c(15),P=c(64),Q=O.f,R=P.f,S=f.RangeError,T=f.TypeError,U=f.Uint8Array,V="ArrayBuffer",W="Shared"+V,X="BYTES_PER_ELEMENT",Y="prototype",Z=Array[Y],$=j.ArrayBuffer,_=j.DataView,aa=F(0),ba=F(2),ca=F(3),da=F(4),ea=F(5),fa=F(6),ga=G(!0),ha=G(!1),ia=I.values,ja=I.keys,ka=I.entries,la=Z.lastIndexOf,ma=Z.reduce,na=Z.reduceRight,oa=Z.join,pa=Z.sort,qa=Z.slice,ra=Z.toString,sa=Z.toLocaleString,ta=E("iterator"),ua=E("toStringTag"),va=D("typed_constructor"),wa=D("def_constructor"),xa=i.CONSTR,ya=i.TYPED,za=i.VIEW,Aa="Wrong length!",Ba=F(1,function(a,b){return Ga(H(a,a[wa]),b)}),Ca=g(function(){return 1===new U(new Uint16Array([1]).buffer)[0];
}),Da=!!U&&!!U[Y].set&&g(function(){new U(1).set({})}),Ea=function(a,b){var c=p(a);if(0>c||c%b)throw S("Wrong offset!");return c},Fa=function(a){if(w(a)&&ya in a)return a;throw T(a+" is not a typed array!")},Ga=function(a,b){if(!(w(a)&&va in a))throw T("It is not a typed array constructor!");return new a(b)},Ha=function(a,b){return Ia(H(a,a[wa]),b)},Ia=function(a,b){for(var c=0,d=b.length,e=Ga(a,d);d>c;)e[c]=b[c++];return e},Ja=function(a,b,c){Q(a,b,{get:function(){return this._d[c]}})},Ka=function(a){var b,c,d,e,f,g,h=x(a),i=arguments.length,j=i>1?arguments[1]:void 0,l=void 0!==j,m=C(h);if(void 0!=m&&!y(m)){for(g=m.call(h),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&i>2&&(j=k(j,arguments[2],2)),b=0,c=q(h.length),e=Ga(this,c);c>b;b++)e[b]=l?j(h[b],b):h[b];return e},La=function(){for(var a=0,b=arguments.length,c=Ga(this,b);b>a;)c[a]=arguments[a++];return c},Ma=!!U&&g(function(){sa.call(new U(1))}),Na=function(){return sa.apply(Ma?qa.call(Fa(this)):Fa(this),arguments)},Oa={copyWithin:function(a,b){return N.call(Fa(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return da(Fa(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return M.apply(Fa(this),arguments)},filter:function(a){return Ha(this,ba(Fa(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return ea(Fa(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return fa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){aa(Fa(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return ha(Fa(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return ga(Fa(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return oa.apply(Fa(this),arguments)},lastIndexOf:function(a){return la.apply(Fa(this),arguments)},map:function(a){return Ba(Fa(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return ma.apply(Fa(this),arguments)},reduceRight:function(a){return na.apply(Fa(this),arguments)},reverse:function(){for(var a,b=this,c=Fa(b).length,d=Math.floor(c/2),e=0;d>e;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return ca(Fa(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return pa.call(Fa(this),a)},subarray:function(a,b){var c=Fa(this),d=c.length,e=s(a,d);return new(H(c,c[wa]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,q((void 0===b?d:s(b,d))-e))}},Pa=function(a,b){return Ha(this,qa.call(Fa(this),a,b))},Qa=function(a){Fa(this);var b=Ea(arguments[1],1),c=this.length,d=x(a),e=q(d.length),f=0;if(e+b>c)throw S(Aa);for(;e>f;)this[b+f]=d[f++]},Ra={entries:function(){return ka.call(Fa(this))},keys:function(){return ja.call(Fa(this))},values:function(){return ia.call(Fa(this))}},Sa=function(a,b){return w(a)&&a[ya]&&"symbol"!=("undefined"==typeof b?"undefined":d(b))&&b in a&&String(+b)==String(b)},Ta=function(a,b){return Sa(a,b=t(b,!0))?m(2,a[b]):R(a,b)},Ua=function(a,b,c){return!(Sa(a,b=t(b,!0))&&w(c)&&u(c,"value"))||u(c,"get")||u(c,"set")||c.configurable||u(c,"writable")&&!c.writable||u(c,"enumerable")&&!c.enumerable?Q(a,b,c):(a[b]=c.value,a)};xa||(P.f=Ta,O.f=Ua),h(h.S+h.F*!xa,"Object",{getOwnPropertyDescriptor:Ta,defineProperty:Ua}),g(function(){ra.call({})})&&(ra=sa=function(){return oa.call(this)});var Va=o({},Oa);o(Va,Ra),n(Va,ta,Ra.values),o(Va,{slice:Pa,set:Qa,constructor:function(){},toString:ra,toLocaleString:Na}),Ja(Va,"buffer","b"),Ja(Va,"byteOffset","o"),Ja(Va,"byteLength","l"),Ja(Va,"length","e"),Q(Va,ua,{get:function(){return this[ya]}}),a.exports=function(a,b,c,d){d=!!d;var j=a+(d?"Clamped":"")+"Array",k="get"+a,m="set"+a,o=f[j],p=o||{},s=o&&A(o),t=!o||!i.ABV,u={},x=o&&o[Y],y=function(a,c){var d=a._d;return d.v[k](c*b+d.o,Ca)},C=function(a,c,e){var f=a._d;d&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),f.v[m](c*b+f.o,e,Ca)},D=function(a,b){Q(a,b,{get:function(){return y(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};t?(o=c(function(a,c,d,e){l(a,o,j,"_d");var f,g,h,i,k=0,m=0;if(w(c)){if(!(c instanceof $||(i=v(c))==V||i==W))return ya in c?Ia(o,c):Ka.call(o,c);f=c,m=Ea(d,b);var p=c.byteLength;if(void 0===e){if(p%b)throw S(Aa);if(g=p-m,0>g)throw S(Aa)}else if(g=q(e)*b,g+m>p)throw S(Aa);h=g/b}else h=r(c),g=h*b,f=new $(g);for(n(a,"_d",{b:f,o:m,l:g,e:h,v:new _(f)});h>k;)D(a,k++)}),x=o[Y]=z(Va),n(x,"constructor",o)):g(function(){o(1)})&&g(function(){new o(-1)})&&K(function(a){new o,new o(null),new o(1.5),new o(a)},!0)||(o=c(function(a,c,d,e){l(a,o,j);var f;return w(c)?c instanceof $||(f=v(c))==V||f==W?void 0!==e?new p(c,Ea(d,b),e):void 0!==d?new p(c,Ea(d,b)):new p(c):ya in c?Ia(o,c):Ka.call(o,c):new p(r(c))}),aa(s!==Function.prototype?B(p).concat(B(s)):B(p),function(a){a in o||n(o,a,p[a])}),o[Y]=x,e||(x.constructor=o));var E=x[ta],F=!!E&&("values"==E.name||void 0==E.name),G=Ra.values;n(o,va,!0),n(x,ya,j),n(x,za,!0),n(x,wa,o),(d?new o(1)[ua]==j:ua in x)||Q(x,ua,{get:function(){return j}}),u[j]=o,h(h.G+h.W+h.F*(o!=p),u),h(h.S,j,{BYTES_PER_ELEMENT:b}),h(h.S+h.F*g(function(){p.of.call(o,1)}),j,{from:Ka,of:La}),X in x||n(x,X,b),h(h.P,j,Oa),L(j),h(h.P+h.F*Da,j,{set:Qa}),h(h.P+h.F*!F,j,Ra),e||x.toString==ra||(x.toString=ra),h(h.P+h.F*g(function(){new o(1).slice()}),j,{slice:Pa}),h(h.P+h.F*(g(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!g(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Na}),J[j]=F?E:G,e||F||n(x,ta,G)}}else a.exports=function(){}},function(a,b,c){"use strict";function d(a,b,c){var d,e,f,g=new Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?P(2,-24)-P(2,-77):0,l=0,m=0>a||0===a&&0>1/a?1:0;for(a=O(a),a!=a||a===M?(e=a!=a?1:0,d=i):(d=Q(R(a)/S),a*(f=P(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*P(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*P(2,b),d+=j):(e=a*P(2,j-1)*P(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g}function e(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-M:M;d+=P(2,b),k-=g}return(j?-1:1)*d*P(2,k-b)}function f(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function g(a){return[255&a]}function h(a){return[255&a,a>>8&255]}function i(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]}function j(a){return d(a,52,8)}function k(a){return d(a,23,4)}function l(a,b,c){A(a[F],b,{get:function(){return this[c]}})}function m(a,b,c,d){var e=+c,f=y(e);if(f+b>a[X])throw L(H);var g=a[W]._b,h=f+a[Y],i=g.slice(h,h+b);return d?i:i.reverse()}function n(a,b,c,d,e,f){var g=+c,h=y(g);if(h+b>a[X])throw L(H);for(var i=a[W]._b,j=h+a[Y],k=d(+e),l=0;b>l;l++)i[j+l]=k[f?l:b-l-1]}var o=c(1),p=c(10),q=c(21),r=c(49),s=c(8),t=c(23),u=c(11),v=c(24),w=c(18),x=c(14),y=c(50),z=c(51).f,A=c(15).f,B=c(55),C=c(26),D="ArrayBuffer",E="DataView",F="prototype",G="Wrong length!",H="Wrong index!",I=o[D],J=o[E],K=o.Math,L=o.RangeError,M=o.Infinity,N=I,O=K.abs,P=K.pow,Q=K.floor,R=K.log,S=K.LN2,T="buffer",U="byteLength",V="byteOffset",W=p?"_b":T,X=p?"_l":U,Y=p?"_o":V;if(r.ABV){if(!u(function(){I(1)})||!u(function(){new I(-1)})||u(function(){return new I,new I(1.5),new I(NaN),I.name!=D})){I=function(a){return v(this,I),new N(y(a))};for(var Z,$=I[F]=N[F],_=z(N),aa=0;_.length>aa;)(Z=_[aa++])in I||s(I,Z,N[Z]);q||($.constructor=I)}var ba=new J(new I(2)),ca=J[F].setInt8;ba.setInt8(0,2147483648),ba.setInt8(1,2147483649),(ba.getInt8(0)||!ba.getInt8(1))&&t(J[F],{setInt8:function(a,b){ca.call(this,a,b<<24>>24)},setUint8:function(a,b){ca.call(this,a,b<<24>>24)}},!0)}else I=function(a){v(this,I,D);var b=y(a);this._b=B.call(new Array(b),0),this[X]=b},J=function(a,b,c){v(this,J,E),v(a,I,E);var d=a[X],e=w(b);if(0>e||e>d)throw L("Wrong offset!");if(c=void 0===c?d-e:x(c),e+c>d)throw L(G);this[W]=a,this[Y]=e,this[X]=c},p&&(l(I,U,"_l"),l(J,T,"_b"),l(J,U,"_l"),l(J,V,"_o")),t(J[F],{getInt8:function(a){return m(this,1,a)[0]<<24>>24},getUint8:function(a){return m(this,1,a)[0]},getInt16:function(a){var b=m(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=m(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return f(m(this,4,a,arguments[1]))},getUint32:function(a){return f(m(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return e(m(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return e(m(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){n(this,1,a,g,b)},setUint8:function(a,b){n(this,1,a,g,b)},setInt16:function(a,b){n(this,2,a,h,b,arguments[2])},setUint16:function(a,b){n(this,2,a,h,b,arguments[2])},setInt32:function(a,b){n(this,4,a,i,b,arguments[2])},setUint32:function(a,b){n(this,4,a,i,b,arguments[2])},setFloat32:function(a,b){n(this,4,a,k,b,arguments[2])},setFloat64:function(a,b){n(this,8,a,j,b,arguments[2])}});C(I,D),C(J,E),s(J[F],r.VIEW,!0),b[D]=I,b[E]=J},function(a,b,c){"use strict";var d=c(15),e=c(9),f=c(41);a.exports=c(10)?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},function(a,b,c){"use strict";var d=c(92);a.exports=function(a,b){return new(d(a))(b)}},function(a,b,c){"use strict";var d=c(3),e=c(93),f=c(4)("species");a.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&(b=b[f],null===b&&(b=void 0))),void 0===b?Array:b}},function(a,b,c){"use strict";var d=c(25);a.exports=Array.isArray||function(a){return"Array"==d(a)}},function(a,b,c){"use strict";var d=c(4)("unscopables"),e=Array.prototype;void 0==e[d]&&c(8)(e,d,{}),a.exports=function(a){e[d][a]=!0}},function(a,b,c){"use strict";a.exports=function(a,b){return{value:b,done:!!a}}},function(a,b,c){"use strict";var d=c(57),e=c(29),f=c(26),g={};c(8)(g,c(4)("iterator"),function(){return this}),a.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},function(a,b,c){"use strict";var d=c(19),e=c(31),f=c(14);a.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(h>i&&i+k>h&&(l=-1,i+=k-1,h+=k-1);k-->0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},function(a,b,c){"use strict";c(99),a.exports=c(6).Number.isNaN},function(a,b,c){"use strict";var d=c(7);d(d.S,"Number",{isNaN:function(a){return a!=a}})},function(a,b,c){"use strict";c(101),a.exports=c(6).Number.isInteger},function(a,b,c){"use strict";var d=c(7);d(d.S,"Number",{isInteger:c(102)})},function(a,b,c){"use strict";var d=c(3),e=Math.floor;a.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},function(a,b,c){"use strict";c(66),c(104),c(67),c(106),c(111),c(112),a.exports=c(6).Promise},function(a,b,c){"use strict";var d=c(105)(!0);c(62)(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},function(a,b,c){"use strict";var d=c(18),e=c(38);a.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},function(a,b,c){"use strict";var d,e,f,g,h=c(21),i=c(1),j=c(13),k=c(32),l=c(7),m=c(3),n=c(22),o=c(24),p=c(33),q=c(43),r=c(68).set,s=c(109)(),t=c(45),u=c(69),v=c(110),w=c(70),x="Promise",y=i.TypeError,z=i.process,A=z&&z.versions,B=A&&A.v8||"",C=i[x],D="process"==k(z),E=function(){},F=e=t.f,G=!!function(){try{var a=C.resolve(1),b=(a.constructor={})[c(4)("species")]=function(a){a(E,E)};return(D||"function"==typeof PromiseRejectionEvent)&&a.then(E)instanceof b&&0!==B.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(d){}}(),H=function(a){var b;return m(a)&&"function"==typeof(b=a.then)?b:!1},I=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0,g=function(b){var c,f,g,h=e?b.ok:b.fail,i=b.resolve,j=b.reject,k=b.domain;try{h?(e||(2==a._h&&L(a),a._h=1),h===!0?c=d:(k&&k.enter(),c=h(d),k&&(k.exit(),g=!0)),c===b.promise?j(y("Promise-chain cycle")):(f=H(c))?f.call(c,i,j):i(c)):j(d)}catch(l){k&&!g&&k.exit(),j(l)}};c.length>f;)g(c[f++]);a._c=[],a._n=!1,b&&!a._h&&J(a)})}},J=function(a){r.call(i,function(){var b,c,d,e=a._v,f=K(a);if(f&&(b=u(function(){D?z.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=D||K(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},K=function(a){return 1!==a._h&&0===(a._a||a._c).length},L=function(a){r.call(i,function(){var b;D?z.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},M=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),I(b,!0))},N=function O(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw y("Promise can't be resolved itself");(b=H(a))?s(function(){var d={_w:c,_d:!1};try{b.call(a,j(O,d,1),j(M,d,1))}catch(e){M.call(d,e)}}):(c._v=a,c._s=1,I(c,!1))}catch(d){M.call({_w:c,_d:!1},d)}}};G||(C=function(a){o(this,C,x,"_h"),n(a),d.call(this);try{a(j(N,this,1),j(M,this,1))}catch(b){M.call(this,b)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=c(23)(C.prototype,{then:function(a,b){var c=F(q(this,C));return c.ok="function"==typeof a?a:!0,c.fail="function"==typeof b&&b,c.domain=D?z.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&I(this,!1),c.promise},"catch":function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(N,a,1),this.reject=j(M,a,1)},t.f=F=function(a){return a===C||a===g?new f(a):e(a)}),l(l.G+l.W+l.F*!G,{Promise:C}),c(26)(C,x),c(63)(x),g=c(6)[x],l(l.S+l.F*!G,x,{reject:function(a){var b=F(this),c=b.reject;return c(a),b.promise}}),l(l.S+l.F*(h||!G),x,{resolve:function(a){return w(h&&this===g?C:this,a)}}),l(l.S+l.F*!(G&&c(44)(function(a){C.all(a)["catch"](E)})),x,{all:function(a){var b=this,c=F(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=F(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},function(a,b,c){"use strict";var d=c(9);a.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(f){var g=a["return"];throw void 0!==g&&d(g.call(a)),f}}},function(a,b,c){"use strict";a.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},function(a,b,c){"use strict";var d=c(1),e=c(68).set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==c(25)(g);a.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(f){throw a?c():b=void 0,f}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(!f||d.navigator&&d.navigator.standalone)if(h&&h.resolve){var k=h.resolve(void 0);c=function(){k.then(j)}}else c=function(){e.call(d,j)};else{var l=!0,m=document.createTextNode("");new f(j).observe(m,{characterData:!0}),c=function(){m.data=l=!l}}return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},function(a,b,c){"use strict";var d=c(1),e=d.navigator;a.exports=e&&e.userAgent||""},function(a,b,c){"use strict";var d=c(7),e=c(6),f=c(1),g=c(43),h=c(70);d(d.P+d.R,"Promise",{"finally":function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},function(a,b,c){"use strict";var d=c(7),e=c(45),f=c(69);d(d.S,"Promise",{"try":function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},function(a,b,c){"use strict";c(66),c(67),c(114),c(121),c(123),a.exports=c(6).WeakMap},function(a,b,c){"use strict";var d,e=c(42)(0),f=c(16),g=c(46),h=c(115),i=c(117),j=c(3),k=c(11),l=c(71),m="WeakMap",n=g.getWeak,o=Object.isExtensible,p=i.ufstore,q={},r=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},s={get:function(a){if(j(a)){var b=n(a);return b===!0?p(l(this,m)).get(a):b?b[this._i]:void 0}},set:function(a,b){return i.def(l(this,m),a,b)}},t=a.exports=c(118)(m,r,s,i,!0,!0);k(function(){return 7!=(new t).set((Object.freeze||Object)(q),7).get(q)})&&(d=i.getConstructor(r,m),h(d.prototype,s),g.NEED=!0,e(["delete","has","get","set"],function(a){var b=t.prototype,c=b[a];f(b,a,function(b,e){if(j(b)&&!o(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},function(a,b,c){"use strict";var d=c(41),e=c(116),f=c(65),g=c(19),h=c(37),i=Object.assign;a.exports=!i||c(11)(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},function(a,b,c){"use strict";b.f=Object.getOwnPropertySymbols},function(a,b,c){"use strict";var d=c(23),e=c(46).getWeak,f=c(9),g=c(3),h=c(24),i=c(33),j=c(42),k=c(12),l=c(71),m=j(5),n=j(6),o=0,p=function(a){return a._l||(a._l=new q)},q=function(){this.a=[]},r=function(a,b){return m(a.a,function(a){return a[0]===b})};q.prototype={get:function(a){var b=r(this,a);return b?b[1]:void 0},has:function(a){return!!r(this,a)},set:function(a,b){var c=r(this,a);c?c[1]=b:this.a.push([a,b])},"delete":function(a){var b=n(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},a.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._t=b,a._i=o++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{"delete":function(a){if(!g(a))return!1;var c=e(a);return c===!0?p(l(this,b))["delete"](a):c&&k(c,this._i)&&delete c[this._i]},has:function(a){if(!g(a))return!1;var c=e(a);return c===!0?p(l(this,b)).has(a):c&&k(c,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return d===!0?p(a).set(b,c):d[a._i]=c,a},ufstore:p}},function(a,b,c){"use strict";var d=c(1),e=c(7),f=c(16),g=c(23),h=c(46),i=c(33),j=c(24),k=c(3),l=c(11),m=c(44),n=c(26),o=c(119);a.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];f(v,a,"delete"==a?function(a){return r&&!k(a)?!1:b.call(this,0===a?0:a)}:"has"==a?function(a){return r&&!k(a)?!1:b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){(new t).entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),g(t.prototype,c),h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},function(a,b,c){"use strict";var d=c(3),e=c(120).set;a.exports=function(a,b,c){var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},function(a,b,c){"use strict";var d=c(3),e=c(9),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};a.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,b,d){try{d=c(13)(Function.call,c(64).f(Object.prototype,"__proto__").set,2),d(a,[]),b=!(a instanceof Array)}catch(e){b=!0}return function(a,c){return f(a,c),b?a.__proto__=c:d(a,c),a}}({},!1):void 0),check:f}},function(a,b,c){"use strict";c(122)("WeakMap")},function(a,b,c){"use strict";var d=c(7);a.exports=function(a){d(d.S,a,{of:function(){for(var a=arguments.length,b=new Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},function(a,b,c){"use strict";c(124)("WeakMap")},function(a,b,c){"use strict";var d=c(7),e=c(22),f=c(13),g=c(33);a.exports=function(a){d(d.S,a,{from:function(a){var b,c,d,h,i=arguments[1];return e(this),b=void 0!==i,b&&e(i),void 0==a?new this:(c=[],b?(d=0,h=f(i,arguments[2],2),g(a,!1,function(a){c.push(h(a,d++))})):g(a,!1,c.push,c),new this(c))}})}},function(a,b,c){"use strict";var d=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(a){a.close()}}),d=!0}catch(e){}d?b.ReadableStream=ReadableStream:b.ReadableStream=c(126).ReadableStream},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,b){for(var c in b)a[c]=b[c]}(b,function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.i=function(a){return a},b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=7)}([function(a,b,c){function e(a){return"string"==typeof a||"symbol"===("undefined"==typeof a?"undefined":g(a))}function f(a,b,c){if("function"!=typeof a)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(a,b,c)}var g="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":d(a)},h=c(1),i=h.assert;b.typeIsObject=function(a){return"object"===("undefined"==typeof a?"undefined":g(a))&&null!==a||"function"==typeof a},b.createDataProperty=function(a,c,d){i(b.typeIsObject(a)),Object.defineProperty(a,c,{value:d,writable:!0,enumerable:!0,configurable:!0})},b.createArrayFromList=function(a){return a.slice()},b.ArrayBufferCopy=function(a,b,c,d,e){new Uint8Array(a).set(new Uint8Array(c,d,e),b)},b.CreateIterResultObject=function(a,b){i("boolean"==typeof b);var c={};return Object.defineProperty(c,"value",{value:a,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(c,"done",{value:b,enumerable:!0,writable:!0,configurable:!0}),c},b.IsFiniteNonNegativeNumber=function(a){return Number.isNaN(a)?!1:a===1/0?!1:0>a?!1:!0},b.InvokeOrNoop=function(a,b,c){i(void 0!==a),i(e(b)),i(Array.isArray(c));var d=a[b];return void 0===d?void 0:f(d,a,c)},b.PromiseInvokeOrNoop=function(a,c,d){i(void 0!==a),i(e(c)),i(Array.isArray(d));try{return Promise.resolve(b.InvokeOrNoop(a,c,d))}catch(f){return Promise.reject(f)}},b.PromiseInvokeOrPerformFallback=function(a,b,c,d,g){i(void 0!==a),i(e(b)),i(Array.isArray(c)),i(Array.isArray(g));var h=void 0;try{h=a[b]}catch(j){return Promise.reject(j)}if(void 0===h)return d.apply(null,g);try{return Promise.resolve(f(h,a,c))}catch(k){return Promise.reject(k)}},b.TransferArrayBuffer=function(a){return a.slice()},b.ValidateAndNormalizeHighWaterMark=function(a){if(a=Number(a),Number.isNaN(a)||0>a)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return a},b.ValidateAndNormalizeQueuingStrategy=function(a,c){if(void 0!==a&&"function"!=typeof a)throw new TypeError("size property of a queuing strategy must be a function");return c=b.ValidateAndNormalizeHighWaterMark(c),{size:a,highWaterMark:c}}},function(a,b,c){function d(a){a&&a.constructor===e&&setTimeout(function(){throw a},0)}function e(a){this.name="AssertionError",this.message=a||"",this.stack=(new Error).stack}function f(a,b){if(!a)throw new e(b)}e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,a.exports={rethrowAssertionErrorRejection:d,AssertionError:e,assert:f}},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return new ta(a)}function f(a){return ja(a)&&Object.prototype.hasOwnProperty.call(a,"_writableStreamController")?!0:!1}function g(a){return la(f(a)===!0,"IsWritableStreamLocked should only be used on known writable streams"),void 0===a._writer?!1:!0}function h(a,b){var c=a._state;if("closed"===c)return Promise.resolve(void 0);if("errored"===c)return Promise.reject(a._storedError);var d=new TypeError("Requested to abort");if(void 0!==a._pendingAbortRequest)return Promise.reject(d);la("writable"===c||"erroring"===c,"state must be writable or erroring");var e=!1;"erroring"===c&&(e=!0,b=void 0);var f=new Promise(function(c,d){a._pendingAbortRequest={_resolve:c,_reject:d,_reason:b,_wasAlreadyErroring:e}});return e===!1&&k(a,d),f}function i(a){la(g(a)===!0),la("writable"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._writeRequests.push(d)});return b}function j(a,b){var c=a._state;return"writable"===c?void k(a,b):(la("erroring"===c),void l(a))}function k(a,b){la(void 0===a._storedError,"stream._storedError === undefined"),la("writable"===a._state,"state must be writable");var c=a._writableStreamController;la(void 0!==c,"controller must not be undefined"),a._state="erroring",a._storedError=b;var d=a._writer;void 0!==d&&B(d,b),r(a)===!1&&c._started===!0&&l(a)}function l(a){la("erroring"===a._state,"stream._state === erroring"),la(r(a)===!1,"WritableStreamHasOperationMarkedInFlight(stream) === false"),a._state="errored",a._writableStreamController.__errorSteps();for(var b=a._storedError,c=0;c<a._writeRequests.length;c++){var d=a._writeRequests[c];d._reject(b)}if(a._writeRequests=[],void 0===a._pendingAbortRequest)return void u(a);var e=a._pendingAbortRequest;if(a._pendingAbortRequest=void 0,e._wasAlreadyErroring===!0)return e._reject(b),void u(a);var f=a._writableStreamController.__abortSteps(e._reason);f.then(function(){e._resolve(),u(a)},function(b){e._reject(b),u(a)})}function m(a){la(void 0!==a._inFlightWriteRequest),a._inFlightWriteRequest._resolve(void 0),a._inFlightWriteRequest=void 0}function n(a,b){la(void 0!==a._inFlightWriteRequest),a._inFlightWriteRequest._reject(b),a._inFlightWriteRequest=void 0,la("writable"===a._state||"erroring"===a._state),j(a,b)}function o(a){la(void 0!==a._inFlightCloseRequest),a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0;var b=a._state;la("writable"===b||"erroring"===b),"erroring"===b&&(a._storedError=void 0,void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";var c=a._writer;void 0!==c&&Y(c),la(void 0===a._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),la(void 0===a._storedError,"stream._storedError === undefined")}function p(a,b){la(void 0!==a._inFlightCloseRequest),a._inFlightCloseRequest._reject(b),a._inFlightCloseRequest=void 0,la("writable"===a._state||"erroring"===a._state),void 0!==a._pendingAbortRequest&&(a._pendingAbortRequest._reject(b),a._pendingAbortRequest=void 0),j(a,b)}function q(a){return void 0===a._closeRequest&&void 0===a._inFlightCloseRequest?!1:!0}function r(a){return void 0===a._inFlightWriteRequest&&void 0===a._inFlightCloseRequest?!1:!0}function s(a){la(void 0===a._inFlightCloseRequest),la(void 0!==a._closeRequest),a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0}function t(a){la(void 0===a._inFlightWriteRequest,"there must be no pending write request"),la(0!==a._writeRequests.length,"writeRequests must not be empty"),a._inFlightWriteRequest=a._writeRequests.shift()}function u(a){la("errored"===a._state,'_stream_.[[state]] is `"errored"`'),void 0!==a._closeRequest&&(la(void 0===a._inFlightCloseRequest),a._closeRequest._reject(a._storedError),a._closeRequest=void 0);var b=a._writer;void 0!==b&&(W(b,a._storedError),b._closedPromise["catch"](function(){}))}function v(a,b){la("writable"===a._state),la(q(a)===!1);var c=a._writer;void 0!==c&&b!==a._backpressure&&(b===!0?ba(c):(la(b===!1),da(c))),a._backpressure=b}function w(a){return ja(a)&&Object.prototype.hasOwnProperty.call(a,"_ownerWritableStream")?!0:!1}function x(a,b){var c=a._ownerWritableStream;return la(void 0!==c),h(c,b)}function y(a){var b=a._ownerWritableStream;la(void 0!==b);var c=b._state;if("closed"===c||"errored"===c)return Promise.reject(new TypeError("The stream (in "+c+" state) is not in the writable state and cannot be closed"));la("writable"===c||"erroring"===c),la(q(b)===!1);var d=new Promise(function(a,c){var d={_resolve:a,_reject:c};b._closeRequest=d});return b._backpressure===!0&&"writable"===c&&da(a),F(b._writableStreamController),d}function z(a){var b=a._ownerWritableStream;la(void 0!==b);var c=b._state;return q(b)===!0||"closed"===c?Promise.resolve():"errored"===c?Promise.reject(b._storedError):(la("writable"===c||"erroring"===c),y(a))}function A(a,b){"pending"===a._closedPromiseState?W(a,b):X(a,b),a._closedPromise["catch"](function(){})}function B(a,b){"pending"===a._readyPromiseState?aa(a,b):ca(a,b),a._readyPromise["catch"](function(){})}function C(a){var b=a._ownerWritableStream,c=b._state;return"errored"===c||"erroring"===c?null:"closed"===c?0:H(b._writableStreamController)}function D(a){var b=a._ownerWritableStream;la(void 0!==b),la(b._writer===a);var c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");B(a,c),A(a,c),b._writer=void 0,a._ownerWritableStream=void 0}function E(a,b){var c=a._ownerWritableStream;la(void 0!==c);var d=c._writableStreamController,e=G(d,b);if(c!==a._ownerWritableStream)return Promise.reject(S("write to"));var f=c._state;if("errored"===f)return Promise.reject(c._storedError);if(q(c)===!0||"closed"===f)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===f)return Promise.reject(c._storedError);la("writable"===f);var g=i(c);return I(d,b,e),g}function F(a){pa(a,"close",0),K(a)}function G(a,b){var c=a._strategySize;if(void 0===c)return 1;try{return c(b)}catch(d){return L(a,d),1}}function H(a){return a._strategyHWM-a._queueTotalSize}function I(a,b,c){var d={chunk:b};try{pa(a,d,c)}catch(e){return void L(a,e)}var f=a._controlledWritableStream;if(q(f)===!1&&"writable"===f._state){var g=O(a);v(f,g)}K(a)}function J(a){return ja(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingSink")?!0:!1}function K(a){var b=a._controlledWritableStream;if(a._started!==!1&&void 0===b._inFlightWriteRequest){var c=b._state;if("closed"!==c&&"errored"!==c){if("erroring"===c)return void l(b);if(0!==a._queue.length){var d=qa(a);"close"===d?M(a):N(a,d.chunk)}}}}function L(a,b){"writable"===a._controlledWritableStream._state&&P(a,b)}function M(a){var b=a._controlledWritableStream;s(b),oa(a),la(0===a._queue.length,"queue must be empty once the final write record is dequeued");var c=ha(a._underlyingSink,"close",[]);c.then(function(){o(b)},function(a){p(b,a)})["catch"](ma)}function N(a,b){var c=a._controlledWritableStream;t(c);var d=ha(a._underlyingSink,"write",[b,a]);d.then(function(){m(c);var b=c._state;if(la("writable"===b||"erroring"===b),oa(a),q(c)===!1&&"writable"===b){var d=O(a);v(c,d)}K(a)},function(a){n(c,a)})["catch"](ma)}function O(a){var b=H(a);return 0>=b}function P(a,b){var c=a._controlledWritableStream;la("writable"===c._state),k(c,b)}function Q(a){return new TypeError("WritableStream.prototype."+a+" can only be used on a WritableStream")}function R(a){return new TypeError("WritableStreamDefaultWriter.prototype."+a+" can only be used on a WritableStreamDefaultWriter");
}function S(a){return new TypeError("Cannot "+a+" a stream using a released writer")}function T(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c,a._closedPromiseState="pending"})}function U(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function V(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function W(a,b){la(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),la(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),la("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="rejected"}function X(a,b){la(void 0===a._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),la(void 0===a._closedPromise_reject,"writer._closedPromise_reject === undefined"),la("pending"!==a._closedPromiseState,"writer._closedPromiseState is not pending"),a._closedPromise=Promise.reject(b),a._closedPromiseState="rejected"}function Y(a){la(void 0!==a._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),la(void 0!==a._closedPromise_reject,"writer._closedPromise_reject !== undefined"),la("pending"===a._closedPromiseState,"writer._closedPromiseState is pending"),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0,a._closedPromiseState="resolved"}function Z(a){a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function $(a,b){a._readyPromise=Promise.reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function _(a){a._readyPromise=Promise.resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}function aa(a,b){la(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),la(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_reject(b),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="rejected"}function ba(a){la(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),la(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined"),a._readyPromise=new Promise(function(b,c){a._readyPromise_resolve=b,a._readyPromise_reject=c}),a._readyPromiseState="pending"}function ca(a,b){la(void 0===a._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),la(void 0===a._readyPromise_reject,"writer._readyPromise_reject === undefined"),a._readyPromise=Promise.reject(b),a._readyPromiseState="rejected"}function da(a){la(void 0!==a._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),la(void 0!==a._readyPromise_reject,"writer._readyPromise_reject !== undefined"),a._readyPromise_resolve(void 0),a._readyPromise_resolve=void 0,a._readyPromise_reject=void 0,a._readyPromiseState="fulfilled"}var ea=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),fa=c(0),ga=fa.InvokeOrNoop,ha=fa.PromiseInvokeOrNoop,ia=fa.ValidateAndNormalizeQueuingStrategy,ja=fa.typeIsObject,ka=c(1),la=ka.assert,ma=ka.rethrowAssertionErrorRejection,na=c(3),oa=na.DequeueValue,pa=na.EnqueueValueWithSize,qa=na.PeekQueueValue,ra=na.ResetQueue,sa=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=c.size,f=c.highWaterMark,g=void 0===f?1:f;d(this,a),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1;var h=b.type;if(void 0!==h)throw new RangeError("Invalid type is specified");this._writableStreamController=new ua(this,b,e,g),this._writableStreamController.__startSteps()}return ea(a,[{key:"abort",value:function(a){return f(this)===!1?Promise.reject(Q("abort")):g(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):h(this,a)}},{key:"getWriter",value:function(){if(f(this)===!1)throw Q("getWriter");return e(this)}},{key:"locked",get:function(){if(f(this)===!1)throw Q("locked");return g(this)}}]),a}();a.exports={AcquireWritableStreamDefaultWriter:e,IsWritableStream:f,IsWritableStreamLocked:g,WritableStream:sa,WritableStreamAbort:h,WritableStreamDefaultControllerError:P,WritableStreamDefaultWriterCloseWithErrorPropagation:z,WritableStreamDefaultWriterRelease:D,WritableStreamDefaultWriterWrite:E,WritableStreamCloseQueuedOrInFlight:q};var ta=function(){function a(b){if(d(this,a),f(b)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(g(b)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=b,b._writer=this;var c=b._state;if("writable"===c)q(b)===!1&&b._backpressure===!0?Z(this):_(this),T(this);else if("erroring"===c)$(this,b._storedError),this._readyPromise["catch"](function(){}),T(this);else if("closed"===c)_(this),V(this);else{la("errored"===c,"state must be errored");var e=b._storedError;$(this,e),this._readyPromise["catch"](function(){}),U(this,e),this._closedPromise["catch"](function(){})}}return ea(a,[{key:"abort",value:function(a){return w(this)===!1?Promise.reject(R("abort")):void 0===this._ownerWritableStream?Promise.reject(S("abort")):x(this,a)}},{key:"close",value:function(){if(w(this)===!1)return Promise.reject(R("close"));var a=this._ownerWritableStream;return void 0===a?Promise.reject(S("close")):q(a)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):y(this)}},{key:"releaseLock",value:function(){if(w(this)===!1)throw R("releaseLock");var a=this._ownerWritableStream;void 0!==a&&(la(void 0!==a._writer),D(this))}},{key:"write",value:function(a){return w(this)===!1?Promise.reject(R("write")):void 0===this._ownerWritableStream?Promise.reject(S("write to")):E(this,a)}},{key:"closed",get:function(){return w(this)===!1?Promise.reject(R("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(w(this)===!1)throw R("desiredSize");if(void 0===this._ownerWritableStream)throw S("desiredSize");return C(this)}},{key:"ready",get:function(){return w(this)===!1?Promise.reject(R("ready")):this._readyPromise}}]),a}(),ua=function(){function a(b,c,e,g){if(d(this,a),f(b)===!1)throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==b._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=b,this._underlyingSink=c,this._queue=void 0,this._queueTotalSize=void 0,ra(this),this._started=!1;var h=ia(e,g);this._strategySize=h.size,this._strategyHWM=h.highWaterMark;var i=O(this);v(b,i)}return ea(a,[{key:"error",value:function(a){if(J(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var b=this._controlledWritableStream._state;"writable"===b&&P(this,a)}},{key:"__abortSteps",value:function(a){return ha(this._underlyingSink,"abort",[a])}},{key:"__errorSteps",value:function(){ra(this)}},{key:"__startSteps",value:function(){var a=this,b=ga(this._underlyingSink,"start",[this]),c=this._controlledWritableStream;Promise.resolve(b).then(function(){la("writable"===c._state||"erroring"===c._state),a._started=!0,K(a)},function(b){la("writable"===c._state||"erroring"===c._state),a._started=!0,j(c,b)})["catch"](ma)}}]),a}()},function(a,b,c){var d=c(0),e=d.IsFiniteNonNegativeNumber,f=c(1),g=f.assert;b.DequeueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),g(a._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var b=a._queue.shift();return a._queueTotalSize-=b.size,a._queueTotalSize<0&&(a._queueTotalSize=0),b.value},b.EnqueueValueWithSize=function(a,b,c){if(g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),c=Number(c),!e(c))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");a._queue.push({value:b,size:c}),a._queueTotalSize+=c},b.PeekQueueValue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),g(a._queue.length>0,"Spec-level failure: should never peek at an empty queue.");var b=a._queue[0];return b.value},b.ResetQueue=function(a){g("_queue"in a&&"_queueTotalSize"in a,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),a._queue=[],a._queueTotalSize=0}},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){return new bb(a)}function f(a){return new ab(a)}function g(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_readableStreamController")?!0:!1}function h(a){return Ma(g(a)===!0,"IsReadableStreamDisturbed should only be used on known readable streams"),a._disturbed}function i(a){return Ma(g(a)===!0,"IsReadableStreamLocked should only be used on known readable streams"),void 0===a._reader?!1:!0}function j(a,b){Ma(g(a)===!0),Ma("boolean"==typeof b);var c=f(a),d={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};d.promise=new Promise(function(a){d._resolve=a});var e=k();e._reader=c,e._teeState=d,e._cloneForBranch2=b;var h=l();h._stream=a,h._teeState=d;var i=m();i._stream=a,i._teeState=d;var j=Object.create(Object.prototype);Ja(j,"pull",e),Ja(j,"cancel",h);var n=new _a(j),o=Object.create(Object.prototype);Ja(o,"pull",e),Ja(o,"cancel",i);var p=new _a(o);return e._branch1=n._readableStreamController,e._branch2=p._readableStreamController,c._closedPromise["catch"](function(a){d.closedOrErrored!==!0&&(K(e._branch1,a),K(e._branch2,a),d.closedOrErrored=!0)}),[n,p]}function k(){function a(){var b=a._reader,c=a._branch1,d=a._branch2,e=a._teeState;return E(b).then(function(a){Ma(Ka(a));var b=a.value,f=a.done;if(Ma("boolean"==typeof f),f===!0&&e.closedOrErrored===!1&&(e.canceled1===!1&&I(c),e.canceled2===!1&&I(d),e.closedOrErrored=!0),e.closedOrErrored!==!0){var g=b,h=b;e.canceled1===!1&&J(c,g),e.canceled2===!1&&J(d,h)}})}return a}function l(){function a(b){var c=a._stream,d=a._teeState;if(d.canceled1=!0,d.reason1=b,d.canceled2===!0){var e=Ia([d.reason1,d.reason2]),f=p(c,e);d._resolve(f)}return d.promise}return a}function m(){function a(b){var c=a._stream,d=a._teeState;if(d.canceled2=!0,d.reason2=b,d.canceled1===!0){var e=Ia([d.reason1,d.reason2]),f=p(c,e);d._resolve(f)}return d.promise}return a}function n(a){Ma(y(a._reader)===!0),Ma("readable"===a._state||"closed"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._reader._readIntoRequests.push(d)});return b}function o(a){Ma(z(a._reader)===!0),Ma("readable"===a._state);var b=new Promise(function(b,c){var d={_resolve:b,_reject:c};a._reader._readRequests.push(d)});return b}function p(a,b){if(a._disturbed=!0,"closed"===a._state)return Promise.resolve(void 0);if("errored"===a._state)return Promise.reject(a._storedError);q(a);var c=a._readableStreamController.__cancelSteps(b);return c.then(function(){return void 0})}function q(a){Ma("readable"===a._state),a._state="closed";var b=a._reader;if(void 0===b)return void 0;if(z(b)===!0){for(var c=0;c<b._readRequests.length;c++){var d=b._readRequests[c]._resolve;d(Aa(void 0,!0))}b._readRequests=[]}return void ra(b)}function r(a,b){Ma(g(a)===!0,"stream must be ReadableStream"),Ma("readable"===a._state,"state must be readable"),a._state="errored",a._storedError=b;var c=a._reader;if(void 0===c)return void 0;if(z(c)===!0){for(var d=0;d<c._readRequests.length;d++){var e=c._readRequests[d];e._reject(b)}c._readRequests=[]}else{Ma(y(c),"reader must be ReadableStreamBYOBReader");for(var f=0;f<c._readIntoRequests.length;f++){var h=c._readIntoRequests[f];h._reject(b)}c._readIntoRequests=[]}pa(c,b),c._closedPromise["catch"](function(){})}function s(a,b,c){var d=a._reader;Ma(d._readIntoRequests.length>0);var e=d._readIntoRequests.shift();e._resolve(Aa(b,c))}function t(a,b,c){var d=a._reader;Ma(d._readRequests.length>0);var e=d._readRequests.shift();e._resolve(Aa(b,c))}function u(a){return a._reader._readIntoRequests.length}function v(a){return a._reader._readRequests.length}function w(a){var b=a._reader;return void 0===b?!1:y(b)===!1?!1:!0}function x(a){var b=a._reader;return void 0===b?!1:z(b)===!1?!1:!0}function y(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_readIntoRequests")?!0:!1}function z(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_readRequests")?!0:!1}function A(a,b){a._ownerReadableStream=b,b._reader=a,"readable"===b._state?ma(a):"closed"===b._state?oa(a):(Ma("errored"===b._state,"state must be errored"),na(a,b._storedError),a._closedPromise["catch"](function(){}))}function B(a,b){var c=a._ownerReadableStream;return Ma(void 0!==c),p(c,b)}function C(a){Ma(void 0!==a._ownerReadableStream),Ma(a._ownerReadableStream._reader===a),"readable"===a._ownerReadableStream._state?pa(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):qa(a,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),a._closedPromise["catch"](function(){}),a._ownerReadableStream._reader=void 0,a._ownerReadableStream=void 0}function D(a,b){var c=a._ownerReadableStream;return Ma(void 0!==c),c._disturbed=!0,"errored"===c._state?Promise.reject(c._storedError):Z(c._readableStreamController,b)}function E(a){var b=a._ownerReadableStream;return Ma(void 0!==b),b._disturbed=!0,"closed"===b._state?Promise.resolve(Aa(void 0,!0)):"errored"===b._state?Promise.reject(b._storedError):(Ma("readable"===b._state),b._readableStreamController.__pullSteps())}function F(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingSource")?!0:!1}function G(a){var b=H(a);if(b===!1)return void 0;if(a._pulling===!0)return void(a._pullAgain=!0);Ma(a._pullAgain===!1),a._pulling=!0;var c=Da(a._underlyingSource,"pull",[a]);return void c.then(function(){return a._pulling=!1,a._pullAgain===!0?(a._pullAgain=!1,G(a)):void 0},function(b){L(a,b)})["catch"](Na)}function H(a){var b=a._controlledReadableStream;if("closed"===b._state||"errored"===b._state)return!1;if(a._closeRequested===!0)return!1;if(a._started===!1)return!1;if(i(b)===!0&&v(b)>0)return!0;var c=M(a);return c>0?!0:!1}function I(a){var b=a._controlledReadableStream;Ma(a._closeRequested===!1),Ma("readable"===b._state),a._closeRequested=!0,0===a._queue.length&&q(b)}function J(a,b){var c=a._controlledReadableStream;if(Ma(a._closeRequested===!1),Ma("readable"===c._state),i(c)===!0&&v(c)>0)t(c,b,!1);else{var d=1;if(void 0!==a._strategySize){var e=a._strategySize;try{d=e(b)}catch(f){throw L(a,f),f}}try{Qa(a,b,d)}catch(g){throw L(a,g),g}}return void G(a)}function K(a,b){var c=a._controlledReadableStream;Ma("readable"===c._state),Ra(a),r(c,b)}function L(a,b){"readable"===a._controlledReadableStream._state&&K(a,b)}function M(a){var b=a._controlledReadableStream,c=b._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function N(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_underlyingByteSource")?!0:!1}function O(a){return Ka(a)&&Object.prototype.hasOwnProperty.call(a,"_associatedReadableByteStreamController")?!0:!1}function P(a){var b=ca(a);if(b===!1)return void 0;if(a._pulling===!0)return void(a._pullAgain=!0);Ma(a._pullAgain===!1),a._pulling=!0;var c=Da(a._underlyingByteSource,"pull",[a]);return void c.then(function(){a._pulling=!1,a._pullAgain===!0&&(a._pullAgain=!1,P(a))},function(b){"readable"===a._controlledReadableStream._state&&fa(a,b)})["catch"](Na)}function Q(a){X(a),a._pendingPullIntos=[]}function R(a,b){Ma("errored"!==a._state,"state must not be errored");var c=!1;"closed"===a._state&&(Ma(0===b.bytesFilled),c=!0);var d=S(b);"default"===b.readerType?t(a,d,c):(Ma("byob"===b.readerType),s(a,d,c))}function S(a){var b=a.bytesFilled,c=a.elementSize;return Ma(b<=a.byteLength),Ma(b%c===0),new a.ctor(a.buffer,a.byteOffset,b/c)}function T(a,b,c,d){a._queue.push({buffer:b,byteOffset:c,byteLength:d}),a._queueTotalSize+=d}function U(a,b){var c=b.elementSize,d=b.bytesFilled-b.bytesFilled%c,e=Math.min(a._queueTotalSize,b.byteLength-b.bytesFilled),f=b.bytesFilled+e,g=f-f%c,h=e,i=!1;g>d&&(h=g-b.bytesFilled,i=!0);for(var j=a._queue;h>0;){var k=j[0],l=Math.min(h,k.byteLength),m=b.byteOffset+b.bytesFilled;za(b.buffer,m,k.buffer,k.byteOffset,l),k.byteLength===l?j.shift():(k.byteOffset+=l,k.byteLength-=l),a._queueTotalSize-=l,V(a,l,b),h-=l}return i===!1&&(Ma(0===a._queueTotalSize,"queue must be empty"),Ma(b.bytesFilled>0),Ma(b.bytesFilled<b.elementSize)),i}function V(a,b,c){Ma(0===a._pendingPullIntos.length||a._pendingPullIntos[0]===c),X(a),c.bytesFilled+=b}function W(a){Ma("readable"===a._controlledReadableStream._state),0===a._queueTotalSize&&a._closeRequested===!0?q(a._controlledReadableStream):P(a)}function X(a){void 0!==a._byobRequest&&(a._byobRequest._associatedReadableByteStreamController=void 0,a._byobRequest._view=void 0,a._byobRequest=void 0)}function Y(a){for(Ma(a._closeRequested===!1);a._pendingPullIntos.length>0;){if(0===a._queueTotalSize)return;var b=a._pendingPullIntos[0];U(a,b)===!0&&(ba(a),R(a._controlledReadableStream,b))}}function Z(a,b){var c=a._controlledReadableStream,d=1;b.constructor!==DataView&&(d=b.constructor.BYTES_PER_ELEMENT);var e=b.constructor,f={buffer:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength,bytesFilled:0,elementSize:d,ctor:e,readerType:"byob"};if(a._pendingPullIntos.length>0)return f.buffer=Ea(f.buffer),a._pendingPullIntos.push(f),n(c);if("closed"===c._state){var g=new b.constructor(f.buffer,f.byteOffset,0);return Promise.resolve(Aa(g,!0))}if(a._queueTotalSize>0){if(U(a,f)===!0){var h=S(f);return W(a),Promise.resolve(Aa(h,!1))}if(a._closeRequested===!0){var i=new TypeError("Insufficient bytes to fill elements in the given buffer");return fa(a,i),Promise.reject(i)}}f.buffer=Ea(f.buffer),a._pendingPullIntos.push(f);var j=n(c);return P(a),j}function $(a,b){b.buffer=Ea(b.buffer),Ma(0===b.bytesFilled,"bytesFilled must be 0");var c=a._controlledReadableStream;if(w(c)===!0)for(;u(c)>0;){var d=ba(a);R(c,d)}}function _(a,b,c){if(c.bytesFilled+b>c.byteLength)throw new RangeError("bytesWritten out of range");if(V(a,b,c),!(c.bytesFilled<c.elementSize)){ba(a);var d=c.bytesFilled%c.elementSize;if(d>0){var e=c.byteOffset+c.bytesFilled,f=c.buffer.slice(e-d,e);T(a,f,0,f.byteLength)}c.buffer=Ea(c.buffer),c.bytesFilled-=d,R(a._controlledReadableStream,c),Y(a)}}function aa(a,b){var c=a._pendingPullIntos[0],d=a._controlledReadableStream;if("closed"===d._state){if(0!==b)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");$(a,c)}else Ma("readable"===d._state),_(a,b,c)}function ba(a){var b=a._pendingPullIntos.shift();return X(a),b}function ca(a){var b=a._controlledReadableStream;return"readable"!==b._state?!1:a._closeRequested===!0?!1:a._started===!1?!1:x(b)===!0&&v(b)>0?!0:w(b)===!0&&u(b)>0?!0:ga(a)>0?!0:!1}function da(a){var b=a._controlledReadableStream;if(Ma(a._closeRequested===!1),Ma("readable"===b._state),a._queueTotalSize>0)return void(a._closeRequested=!0);if(a._pendingPullIntos.length>0){var c=a._pendingPullIntos[0];if(c.bytesFilled>0){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");throw fa(a,d),d}}q(b)}function ea(a,b){var c=a._controlledReadableStream;Ma(a._closeRequested===!1),Ma("readable"===c._state);var d=b.buffer,e=b.byteOffset,f=b.byteLength,g=Ea(d);if(x(c)===!0)if(0===v(c))T(a,g,e,f);else{Ma(0===a._queue.length);var h=new Uint8Array(g,e,f);t(c,h,!1)}else w(c)===!0?(T(a,g,e,f),Y(a)):(Ma(i(c)===!1,"stream must not be locked"),T(a,g,e,f))}function fa(a,b){var c=a._controlledReadableStream;Ma("readable"===c._state),Q(a),Ra(a),r(c,b)}function ga(a){var b=a._controlledReadableStream,c=b._state;return"errored"===c?null:"closed"===c?0:a._strategyHWM-a._queueTotalSize}function ha(a,b){if(b=Number(b),Ba(b)===!1)throw new RangeError("bytesWritten must be a finite");Ma(a._pendingPullIntos.length>0),aa(a,b)}function ia(a,b){Ma(a._pendingPullIntos.length>0);var c=a._pendingPullIntos[0];if(c.byteOffset+c.bytesFilled!==b.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.byteLength!==b.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");c.buffer=b.buffer,aa(a,b.byteLength)}function ja(a){return new TypeError("ReadableStream.prototype."+a+" can only be used on a ReadableStream")}function ka(a){return new TypeError("Cannot "+a+" a stream using a released reader")}function la(a){return new TypeError("ReadableStreamDefaultReader.prototype."+a+" can only be used on a ReadableStreamDefaultReader")}function ma(a){a._closedPromise=new Promise(function(b,c){a._closedPromise_resolve=b,a._closedPromise_reject=c})}function na(a,b){a._closedPromise=Promise.reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function oa(a){a._closedPromise=Promise.resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function pa(a,b){Ma(void 0!==a._closedPromise_resolve),Ma(void 0!==a._closedPromise_reject),a._closedPromise_reject(b),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function qa(a,b){Ma(void 0===a._closedPromise_resolve),Ma(void 0===a._closedPromise_reject),a._closedPromise=Promise.reject(b)}function ra(a){Ma(void 0!==a._closedPromise_resolve),Ma(void 0!==a._closedPromise_reject),a._closedPromise_resolve(void 0),a._closedPromise_resolve=void 0,a._closedPromise_reject=void 0}function sa(a){return new TypeError("ReadableStreamBYOBReader.prototype."+a+" can only be used on a ReadableStreamBYOBReader")}function ta(a){return new TypeError("ReadableStreamDefaultController.prototype."+a+" can only be used on a ReadableStreamDefaultController")}function ua(a){return new TypeError("ReadableStreamBYOBRequest.prototype."+a+" can only be used on a ReadableStreamBYOBRequest")}function va(a){return new TypeError("ReadableByteStreamController.prototype."+a+" can only be used on a ReadableByteStreamController")}function wa(a){try{Promise.prototype.then.call(a,void 0,function(){})}catch(b){}}var xa=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ya=c(0),za=ya.ArrayBufferCopy,Aa=ya.CreateIterResultObject,Ba=ya.IsFiniteNonNegativeNumber,Ca=ya.InvokeOrNoop,Da=ya.PromiseInvokeOrNoop,Ea=ya.TransferArrayBuffer,Fa=ya.ValidateAndNormalizeQueuingStrategy,Ga=ya.ValidateAndNormalizeHighWaterMark,Ha=c(0),Ia=Ha.createArrayFromList,Ja=Ha.createDataProperty,Ka=Ha.typeIsObject,La=c(1),Ma=La.assert,Na=La.rethrowAssertionErrorRejection,Oa=c(3),Pa=Oa.DequeueValue,Qa=Oa.EnqueueValueWithSize,Ra=Oa.ResetQueue,Sa=c(2),Ta=Sa.AcquireWritableStreamDefaultWriter,Ua=Sa.IsWritableStream,Va=Sa.IsWritableStreamLocked,Wa=Sa.WritableStreamAbort,Xa=Sa.WritableStreamDefaultWriterCloseWithErrorPropagation,Ya=Sa.WritableStreamDefaultWriterRelease,Za=Sa.WritableStreamDefaultWriterWrite,$a=Sa.WritableStreamCloseQueuedOrInFlight,_a=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=c.size,f=c.highWaterMark;d(this,a),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var g=b.type,h=String(g);if("bytes"===h)void 0===f&&(f=0),this._readableStreamController=new eb(this,b,f);else{if(void 0!==g)throw new RangeError("Invalid type is specified");void 0===f&&(f=1),this._readableStreamController=new cb(this,b,e,f)}}return xa(a,[{key:"cancel",value:function(a){return g(this)===!1?Promise.reject(ja("cancel")):i(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):p(this,a)}},{key:"getReader",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.mode;if(g(this)===!1)throw ja("getReader");if(void 0===b)return f(this);if(b=String(b),"byob"===b)return e(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(a,b){var c=a.writable,d=a.readable,e=this.pipeTo(c,b);return wa(e),d}},{key:"pipeTo",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.preventClose,e=c.preventAbort,h=c.preventCancel;if(g(this)===!1)return Promise.reject(ja("pipeTo"));if(Ua(a)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(d=Boolean(d),e=Boolean(e),h=Boolean(h),i(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(Va(a)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var j=f(this),k=Ta(a),l=!1,m=Promise.resolve();return new Promise(function(c,f){function g(){return m=Promise.resolve(),l===!0?Promise.resolve():k._readyPromise.then(function(){return E(j).then(function(a){var b=a.value,c=a.done;c!==!0&&(m=Za(k,b)["catch"](function(){}))})}).then(g)}function i(){var a=m;return m.then(function(){return a!==m?i():void 0})}function n(a,b,c){"errored"===a._state?c(a._storedError):b["catch"](c)["catch"](Na)}function o(a,b,c){"closed"===a._state?c():b.then(c)["catch"](Na)}function q(b,c,d){function e(){b().then(function(){return s(c,d)},function(a){return s(!0,a)})["catch"](Na)}l!==!0&&(l=!0,"writable"===a._state&&$a(a)===!1?i().then(e):e())}function r(b,c){l!==!0&&(l=!0,"writable"===a._state&&$a(a)===!1?i().then(function(){return s(b,c)})["catch"](Na):s(b,c))}function s(a,b){Ya(k),C(j),a?f(b):c(void 0)}if(n(b,j._closedPromise,function(b){e===!1?q(function(){return Wa(a,b)},!0,b):r(!0,b)}),n(a,k._closedPromise,function(a){h===!1?q(function(){return p(b,a)},!0,a):r(!0,a)}),o(b,j._closedPromise,function(){d===!1?q(function(){return Xa(k)}):r()}),$a(a)===!0||"closed"===a._state){var t=new TypeError("the destination writable stream closed before all data could be piped to it");h===!1?q(function(){return p(b,t)},!0,t):r(!0,t)}g()["catch"](function(a){m=Promise.resolve(),Na(a)})})}},{key:"tee",value:function(){if(g(this)===!1)throw ja("tee");var a=j(this,!1);return Ia(a)}},{key:"locked",get:function(){if(g(this)===!1)throw ja("locked");return i(this)}}]),a}();a.exports={ReadableStream:_a,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:I,ReadableStreamDefaultControllerEnqueue:J,ReadableStreamDefaultControllerError:K,ReadableStreamDefaultControllerGetDesiredSize:M};var ab=function(){function a(b){if(d(this,a),g(b)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(i(b)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,b),this._readRequests=[]}return xa(a,[{key:"cancel",value:function(a){return z(this)===!1?Promise.reject(la("cancel")):void 0===this._ownerReadableStream?Promise.reject(ka("cancel")):B(this,a)}},{key:"read",value:function(){return z(this)===!1?Promise.reject(la("read")):void 0===this._ownerReadableStream?Promise.reject(ka("read from")):E(this)}},{key:"releaseLock",value:function(){if(z(this)===!1)throw la("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return z(this)===!1?Promise.reject(la("closed")):this._closedPromise}}]),a}(),bb=function(){function a(b){if(d(this,a),!g(b))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(N(b._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(i(b))throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,b),this._readIntoRequests=[]}return xa(a,[{key:"cancel",value:function(a){return y(this)?void 0===this._ownerReadableStream?Promise.reject(ka("cancel")):B(this,a):Promise.reject(sa("cancel"))}},{key:"read",value:function(a){return y(this)?void 0===this._ownerReadableStream?Promise.reject(ka("read from")):ArrayBuffer.isView(a)?0===a.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):D(this,a):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(sa("read"))}},{key:"releaseLock",value:function(){if(!y(this))throw sa("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}}},{key:"closed",get:function(){return y(this)?this._closedPromise:Promise.reject(sa("closed"))}}]),a}(),cb=function(){function a(b,c,e,f){if(d(this,a),g(b)===!1)throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==b._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=b,this._underlyingSource=c,this._queue=void 0,this._queueTotalSize=void 0,Ra(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var h=Fa(e,f);this._strategySize=h.size,this._strategyHWM=h.highWaterMark;var i=this,j=Ca(c,"start",[this]);Promise.resolve(j).then(function(){i._started=!0,Ma(i._pulling===!1),Ma(i._pullAgain===!1),G(i)},function(a){L(i,a)})["catch"](Na)}return xa(a,[{key:"close",value:function(){if(F(this)===!1)throw ta("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");I(this)}},{key:"enqueue",value:function(a){if(F(this)===!1)throw ta("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");return J(this,a)}},{key:"error",value:function(a){if(F(this)===!1)throw ta("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");K(this,a)}},{key:"__cancelSteps",value:function(a){return Ra(this),Da(this._underlyingSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(this._queue.length>0){var b=Pa(this);return this._closeRequested===!0&&0===this._queue.length?q(a):G(this),Promise.resolve(Aa(b,!1))}var c=o(a);return G(this),c}},{key:"desiredSize",get:function(){if(F(this)===!1)throw ta("desiredSize");return M(this)}}]),a}(),db=function(){
function a(b,c){d(this,a),this._associatedReadableByteStreamController=b,this._view=c}return xa(a,[{key:"respond",value:function(a){if(O(this)===!1)throw ua("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");ha(this._associatedReadableByteStreamController,a)}},{key:"respondWithNewView",value:function(a){if(O(this)===!1)throw ua("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(a))throw new TypeError("You can only respond with array buffer views");ia(this._associatedReadableByteStreamController,a)}},{key:"view",get:function(){return this._view}}]),a}(),eb=function(){function a(b,c,e){if(d(this,a),g(b)===!1)throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==b._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=b,this._underlyingByteSource=c,this._pullAgain=!1,this._pulling=!1,Q(this),this._queue=this._queueTotalSize=void 0,Ra(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=Ga(e);var f=c.autoAllocateChunkSize;if(void 0!==f&&(Number.isInteger(f)===!1||0>=f))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=f,this._pendingPullIntos=[];var h=this,i=Ca(c,"start",[this]);Promise.resolve(i).then(function(){h._started=!0,Ma(h._pulling===!1),Ma(h._pullAgain===!1),P(h)},function(a){"readable"===b._state&&fa(h,a)})["catch"](Na)}return xa(a,[{key:"close",value:function(){if(N(this)===!1)throw va("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var a=this._controlledReadableStream._state;if("readable"!==a)throw new TypeError("The stream (in "+a+" state) is not in the readable state and cannot be closed");da(this)}},{key:"enqueue",value:function(a){if(N(this)===!1)throw va("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var b=this._controlledReadableStream._state;if("readable"!==b)throw new TypeError("The stream (in "+b+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(a))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");ea(this,a)}},{key:"error",value:function(a){if(N(this)===!1)throw va("error");var b=this._controlledReadableStream;if("readable"!==b._state)throw new TypeError("The stream is "+b._state+" and so cannot be errored");fa(this,a)}},{key:"__cancelSteps",value:function(a){if(this._pendingPullIntos.length>0){var b=this._pendingPullIntos[0];b.bytesFilled=0}return Ra(this),Da(this._underlyingByteSource,"cancel",[a])}},{key:"__pullSteps",value:function(){var a=this._controlledReadableStream;if(Ma(x(a)===!0),this._queueTotalSize>0){Ma(0===v(a));var b=this._queue.shift();this._queueTotalSize-=b.byteLength,W(this);var c=void 0;try{c=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}catch(d){return Promise.reject(d)}return Promise.resolve(Aa(c,!1))}var e=this._autoAllocateChunkSize;if(void 0!==e){var f=void 0;try{f=new ArrayBuffer(e)}catch(g){return Promise.reject(g)}var h={buffer:f,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(h)}var i=o(a);return P(this),i}},{key:"byobRequest",get:function(){if(N(this)===!1)throw va("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var a=this._pendingPullIntos[0],b=new Uint8Array(a.buffer,a.byteOffset+a.bytesFilled,a.byteLength-a.bytesFilled);this._byobRequest=new db(this,b)}return this._byobRequest}},{key:"desiredSize",get:function(){if(N(this)===!1)throw va("desiredSize");return ga(this)}}]),a}()},function(a,b,c){var d=c(6),e=c(4),f=c(2);b.TransformStream=d.TransformStream,b.ReadableStream=e.ReadableStream,b.IsReadableStreamDisturbed=e.IsReadableStreamDisturbed,b.ReadableStreamDefaultControllerClose=e.ReadableStreamDefaultControllerClose,b.ReadableStreamDefaultControllerEnqueue=e.ReadableStreamDefaultControllerEnqueue,b.ReadableStreamDefaultControllerError=e.ReadableStreamDefaultControllerError,b.ReadableStreamDefaultControllerGetDesiredSize=e.ReadableStreamDefaultControllerGetDesiredSize,b.AcquireWritableStreamDefaultWriter=f.AcquireWritableStreamDefaultWriter,b.IsWritableStream=f.IsWritableStream,b.IsWritableStreamLocked=f.IsWritableStreamLocked,b.WritableStream=f.WritableStream,b.WritableStreamAbort=f.WritableStreamAbort,b.WritableStreamDefaultControllerError=f.WritableStreamDefaultControllerError,b.WritableStreamDefaultWriterCloseWithErrorPropagation=f.WritableStreamDefaultWriterCloseWithErrorPropagation,b.WritableStreamDefaultWriterRelease=f.WritableStreamDefaultWriterRelease,b.WritableStreamDefaultWriterWrite=f.WritableStreamDefaultWriterWrite},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){if(a._errored===!0)throw new TypeError("TransformStream is already errored");if(a._readableClosed===!0)throw new TypeError("Readable side is already closed");h(a)}function f(a,b){if(a._errored===!0)throw new TypeError("TransformStream is already errored");if(a._readableClosed===!0)throw new TypeError("Readable side is already closed");var c=a._readableController;try{D(c,b)}catch(d){throw a._readableClosed=!0,i(a,d),a._storedError}var e=F(c),f=0>=e;f===!0&&a._backpressure===!1&&l(a,!0)}function g(a,b){if(a._errored===!0)throw new TypeError("TransformStream is already errored");j(a,b)}function h(a){u(a._errored===!1),u(a._readableClosed===!1);try{C(a._readableController)}catch(b){u(!1)}a._readableClosed=!0}function i(a,b){a._errored===!1&&j(a,b)}function j(a,b){u(a._errored===!1),a._errored=!0,a._storedError=b,a._writableDone===!1&&I(a._writableController,b),a._readableClosed===!1&&E(a._readableController,b)}function k(a){return u(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),a._backpressure===!1?Promise.resolve():(u(a._backpressure===!0,"_backpressure should have been initialized"),a._backpressureChangePromise)}function l(a,b){u(a._backpressure!==b,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==a._backpressureChangePromise&&a._backpressureChangePromise_resolve(b),a._backpressureChangePromise=new Promise(function(b){a._backpressureChangePromise_resolve=b}),a._backpressureChangePromise.then(function(a){u(a!==b,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),a._backpressure=b}function m(a,b){var c=b._controlledTransformStream;return f(c,a),Promise.resolve()}function n(a,b){u(a._errored===!1),u(a._transforming===!1),u(a._backpressure===!1),a._transforming=!0;var c=a._transformer,d=a._transformStreamController,e=x(c,"transform",[b,d],m,[b,d]);return e.then(function(){return a._transforming=!1,k(a)},function(b){return i(a,b),Promise.reject(b)})}function o(a){return z(a)&&Object.prototype.hasOwnProperty.call(a,"_controlledTransformStream")?!0:!1}function p(a){return z(a)&&Object.prototype.hasOwnProperty.call(a,"_transformStreamController")?!0:!1}function q(a){return new TypeError("TransformStreamDefaultController.prototype."+a+" can only be used on a TransformStreamDefaultController")}function r(a){return new TypeError("TransformStream.prototype."+a+" can only be used on a TransformStream")}var s=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),t=c(1),u=t.assert,v=c(0),w=v.InvokeOrNoop,x=v.PromiseInvokeOrPerformFallback,y=v.PromiseInvokeOrNoop,z=v.typeIsObject,A=c(4),B=A.ReadableStream,C=A.ReadableStreamDefaultControllerClose,D=A.ReadableStreamDefaultControllerEnqueue,E=A.ReadableStreamDefaultControllerError,F=A.ReadableStreamDefaultControllerGetDesiredSize,G=c(2),H=G.WritableStream,I=G.WritableStreamDefaultControllerError,J=function(){function a(b,c){d(this,a),this._transformStream=b,this._startPromise=c}return s(a,[{key:"start",value:function(a){var b=this._transformStream;return b._writableController=a,this._startPromise.then(function(){return k(b)})}},{key:"write",value:function(a){var b=this._transformStream;return n(b,a)}},{key:"abort",value:function(){var a=this._transformStream;a._writableDone=!0,j(a,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var a=this._transformStream;u(a._transforming===!1),a._writableDone=!0;var b=y(a._transformer,"flush",[a._transformStreamController]);return b.then(function(){return a._errored===!0?Promise.reject(a._storedError):(a._readableClosed===!1&&h(a),Promise.resolve())})["catch"](function(b){return i(a,b),Promise.reject(a._storedError)})}}]),a}(),K=function(){function a(b,c){d(this,a),this._transformStream=b,this._startPromise=c}return s(a,[{key:"start",value:function(a){var b=this._transformStream;return b._readableController=a,this._startPromise.then(function(){return u(void 0!==b._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),b._backpressure===!0?Promise.resolve():(u(b._backpressure===!1,"_backpressure should have been initialized"),b._backpressureChangePromise)})}},{key:"pull",value:function(){var a=this._transformStream;return u(a._backpressure===!0,"pull() should be never called while _backpressure is false"),u(void 0!==a._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),l(a,!1),a._backpressureChangePromise}},{key:"cancel",value:function(){var a=this._transformStream;a._readableClosed=!0,j(a,new TypeError("Readable side canceled"))}}]),a}(),L=function(){function a(b){if(d(this,a),p(b)===!1)throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==b._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=b}return s(a,[{key:"enqueue",value:function(a){if(o(this)===!1)throw q("enqueue");f(this._controlledTransformStream,a)}},{key:"close",value:function(){if(o(this)===!1)throw q("close");e(this._controlledTransformStream)}},{key:"error",value:function(a){if(o(this)===!1)throw q("error");g(this._controlledTransformStream,a)}},{key:"desiredSize",get:function(){if(o(this)===!1)throw q("desiredSize");var a=this._controlledTransformStream,b=a._readableController;return F(b)}}]),a}(),M=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,a),this._transformer=b;var c=b.readableStrategy,e=b.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new L(this);var f=void 0,g=new Promise(function(a){f=a}),h=new K(this,g);this._readable=new B(h,c);var i=new J(this,g);this._writable=new H(i,e),u(void 0!==this._writableController),u(void 0!==this._readableController);var j=F(this._readableController);l(this,0>=j);var k=this,m=w(b,"start",[k._transformStreamController]);f(m),g["catch"](function(a){k._errored===!1&&(k._errored=!0,k._storedError=a)})}return s(a,[{key:"readable",get:function(){if(p(this)===!1)throw r("readable");return this._readable}},{key:"writable",get:function(){if(p(this)===!1)throw r("writable");return this._writable}}]),a}();a.exports={TransformStream:M}},function(a,b,c){a.exports=c(5)}]))},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.NetworkPdfManager=b.LocalPdfManager=void 0;var d=c(0),e=c(72),f=c(128),g=c(5),h=function(){function a(){throw new Error("Cannot initialize BaseManagerManager")}return a.prototype={get docId(){return this._docId},get password(){return this._password},get docBaseUrl(){var a=null;if(this._docBaseUrl){var b=d.createValidAbsoluteUrl(this._docBaseUrl);b?a=b.href:d.warn('Invalid absolute docBaseUrl: "'+this._docBaseUrl+'".')}return d.shadow(this,"docBaseUrl",a)},onLoadedStream:function(){throw new d.NotImplementedException},ensureDoc:function(a,b){return this.ensure(this.pdfDocument,a,b)},ensureXRef:function(a,b){return this.ensure(this.pdfDocument.xref,a,b)},ensureCatalog:function(a,b){return this.ensure(this.pdfDocument.catalog,a,b)},getPage:function(a){return this.pdfDocument.getPage(a)},cleanup:function(){return this.pdfDocument.cleanup()},ensure:function(a,b,c){return new d.NotImplementedException},requestRange:function(a,b){return new d.NotImplementedException},requestLoadedStream:function(){return new d.NotImplementedException},sendProgressiveData:function(a){return new d.NotImplementedException},updatePassword:function(a){this._password=a},terminate:function(){return new d.NotImplementedException}},a}(),i=function(){function a(a,b,c,e,h){this._docId=a,this._password=c,this._docBaseUrl=h,this.evaluatorOptions=e;var i=new g.Stream(b);this.pdfDocument=new f.PDFDocument(this,i),this._loadedStreamCapability=d.createPromiseCapability(),this._loadedStreamCapability.resolve(i)}return d.Util.inherit(a,h,{ensure:function(a,b,c){return new Promise(function(d,e){try{var f,g=a[b];f="function"==typeof g?g.apply(a,c):g,d(f)}catch(h){e(h)}})},requestRange:function(a,b){return Promise.resolve()},requestLoadedStream:function(){},onLoadedStream:function(){return this._loadedStreamCapability.promise},terminate:function(){}}),a}(),j=function(){function a(a,b,c,d,g){this._docId=a,this._password=c.password,this._docBaseUrl=g,this.msgHandler=c.msgHandler,this.evaluatorOptions=d;var h={msgHandler:c.msgHandler,url:c.url,length:c.length,disableAutoFetch:c.disableAutoFetch,rangeChunkSize:c.rangeChunkSize};this.streamManager=new e.ChunkedStreamManager(b,h),this.pdfDocument=new f.PDFDocument(this,this.streamManager.getStream())}return d.Util.inherit(a,h,{ensure:function(a,b,c){var e=this;return new Promise(function(f,g){function h(){try{var i,j=a[b];i="function"==typeof j?j.apply(a,c):j,f(i)}catch(k){if(!(k instanceof d.MissingDataException))return void g(k);e.streamManager.requestRange(k.begin,k.end).then(h,g)}}h()})},requestRange:function(a,b){return this.streamManager.requestRange(a,b)},requestLoadedStream:function(){this.streamManager.requestAllChunks()},sendProgressiveData:function(a){this.streamManager.onReceiveData({chunk:a})},onLoadedStream:function(){return this.streamManager.onLoadedStream()},terminate:function(){this.streamManager.abort()}}),a}();b.LocalPdfManager=i,b.NetworkPdfManager=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDocument=b.Page=void 0;var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=c(73),f=c(2),g=c(0),h=c(5),i=c(77),j=c(145),k=c(76),l=c(34),m=c(81),n=function(){function a(a,b){return"display"===b&&a.viewable||"print"===b&&a.printable}function b(a){var b=a.pdfManager,c=a.xref,d=a.pageIndex,e=a.pageDict,f=a.ref,g=a.fontCache,h=a.builtInCMapCache,i=a.pdfFunctionFactory;this.pdfManager=b,this.pageIndex=d,this.pageDict=e,this.xref=c,this.ref=f,this.fontCache=g,this.builtInCMapCache=h,this.pdfFunctionFactory=i,this.evaluatorOptions=b.evaluatorOptions,this.resourcesPromise=null;var j="p"+this.pageIndex+"_",k={obj:0};this.idFactory={createObjId:function(){return j+ ++k.obj}}}var c=1,k=[0,0,612,792];return b.prototype={getPageProp:function(a){return this.pageDict.get(a)},getInheritedPageProp:function(a,b){var c=this.pageDict,d=null,e=0,h=100;for(b=b||!1;c;){var i=b?c.getArray(a):c.get(a);if(void 0!==i&&(d||(d=[]),d.push(i)),++e>h)return g.warn("getInheritedPageProp: maximum loop count exceeded for "+a),d?d[0]:void 0;c=c.get("Parent")}return d?1!==d.length&&f.isDict(d[0])?f.Dict.merge(this.xref,d):d[0]:void 0},get content(){return this.getPageProp("Contents")},get resources(){return g.shadow(this,"resources",this.getInheritedPageProp("Resources")||f.Dict.empty)},get mediaBox(){var a=this.getInheritedPageProp("MediaBox",!0);return Array.isArray(a)&&4===a.length?g.shadow(this,"mediaBox",a):g.shadow(this,"mediaBox",k)},get cropBox(){var a=this.getInheritedPageProp("CropBox",!0);return Array.isArray(a)&&4===a.length?g.shadow(this,"cropBox",a):g.shadow(this,"cropBox",this.mediaBox)},get userUnit(){var a=this.getPageProp("UserUnit");return(!g.isNum(a)||0>=a)&&(a=c),g.shadow(this,"userUnit",a)},get view(){var a=this.mediaBox,b=this.cropBox;if(a===b)return g.shadow(this,"view",a);var c=g.Util.intersect(b,a);return g.shadow(this,"view",c||a)},get rotate(){var a=this.getInheritedPageProp("Rotate")||0;return a%90!==0?a=0:a>=360?a%=360:0>a&&(a=(a%360+360)%360),g.shadow(this,"rotate",a)},getContentStream:function(){var a,b=this.content;if(Array.isArray(b)){var c,d=this.xref,e=b.length,g=[];for(c=0;e>c;++c)g.push(d.fetchIfRef(b[c]));a=new h.StreamsSequenceStream(g)}else a=f.isStream(b)?b:new h.NullStream;return a},loadResources:function(a){var b=this;return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(function(){var c=new e.ObjectLoader(b.resources,a,b.xref);return c.load()})},getOperatorList:function(b){var c=this,e=b.handler,f=b.task,h=b.intent,j=b.renderInteractiveForms,k=this.pdfManager.ensure(this,"getContentStream"),l=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),m=new i.PartialEvaluator({pdfManager:this.pdfManager,xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this.idFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,options:this.evaluatorOptions,pdfFunctionFactory:this.pdfFunctionFactory}),n=Promise.all([k,l]),o=n.then(function(a){var b=d(a,1),g=b[0],j=new i.OperatorList(h,e,c.pageIndex);return e.send("StartRenderPage",{transparency:m.hasBlendModes(c.resources),pageIndex:c.pageIndex,intent:h}),m.getOperatorList({stream:g,task:f,resources:c.resources,operatorList:j}).then(function(){return j})}),p=this.pdfManager.ensure(this,"annotations");return Promise.all([o,p]).then(function(b){var c=d(b,2),e=c[0],i=c[1];if(0===i.length)return e.flush(!0),e;var k,l,n=[];for(k=0,l=i.length;l>k;k++)a(i[k],h)&&n.push(i[k].getOperatorList(m,f,j));return Promise.all(n).then(function(a){for(e.addOp(g.OPS.beginAnnotations,[]),k=0,l=a.length;l>k;k++)e.addOpList(a[k]);return e.addOp(g.OPS.endAnnotations,[]),e.flush(!0),e})})},extractTextContent:function(a){var b=this,c=a.handler,e=a.task,f=a.normalizeWhitespace,g=a.sink,h=a.combineTextItems,j=this.pdfManager.ensure(this,"getContentStream"),k=this.loadResources(["ExtGState","XObject","Font"]),l=Promise.all([j,k]);return l.then(function(a){var j=d(a,1),k=j[0],l=new i.PartialEvaluator({pdfManager:b.pdfManager,xref:b.xref,handler:c,pageIndex:b.pageIndex,idFactory:b.idFactory,fontCache:b.fontCache,builtInCMapCache:b.builtInCMapCache,options:b.evaluatorOptions,pdfFunctionFactory:b.pdfFunctionFactory});return l.getTextContent({stream:k,task:e,resources:b.resources,normalizeWhitespace:f,combineTextItems:h,sink:g})})},getAnnotationsData:function(b){for(var c=this.annotations,d=[],e=0,f=c.length;f>e;++e)(!b||a(c[e],b))&&d.push(c[e].data);return d},get annotations(){for(var a=[],b=this.getInheritedPageProp("Annots")||[],c=0,d=b.length;d>c;++c){var e=b[c],f=j.AnnotationFactory.create(this.xref,e,this.pdfManager,this.idFactory);f&&a.push(f)}return g.shadow(this,"annotations",a)}},b}(),o=function(){function a(a,b){var c;if(f.isStream(b))c=b;else{if(!g.isArrayBuffer(b))throw new Error("PDFDocument: Unknown argument type");c=new h.Stream(b)}if(c.length<=0)throw new Error("PDFDocument: stream must have data");this.pdfManager=a,this.stream=c,this.xref=new e.XRef(c,a);var d=a.evaluatorOptions;this.pdfFunctionFactory=new m.PDFFunctionFactory({xref:this.xref,isEvalSupported:d.isEvalSupported})}function b(a,b,c,d){var e=a.pos,f=a.end,g=[];e+c>f&&(c=f-e);for(var h=0;c>h;++h)g.push(String.fromCharCode(a.getByte()));var i=g.join("");a.pos=e;var j=d?i.lastIndexOf(b):i.indexOf(b);return-1===j?!1:(a.pos+=j,!0)}var c=1024,d="\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00",i={get entries(){return g.shadow(this,"entries",{Title:g.isString,Author:g.isString,Subject:g.isString,Keywords:g.isString,Creator:g.isString,Producer:g.isString,CreationDate:g.isString,ModDate:g.isString,Trapped:f.isName})}};return a.prototype={parse:function(a){this.setup(a);var b=this.catalog.catDict.get("Version");f.isName(b)&&(this.pdfFormatVersion=b.name);try{if(this.acroForm=this.catalog.catDict.get("AcroForm"),this.acroForm){this.xfa=this.acroForm.get("XFA");var c=this.acroForm.get("Fields");c&&Array.isArray(c)&&0!==c.length||this.xfa||(this.acroForm=null)}}catch(d){if(d instanceof g.MissingDataException)throw d;g.info("Something wrong with AcroForm entry"),this.acroForm=null}},get linearization(){var a=null;if(this.stream.length)try{a=l.Linearization.create(this.stream)}catch(b){if(b instanceof g.MissingDataException)throw b;g.info(b)}return g.shadow(this,"linearization",a)},get startXRef(){var a=this.stream,c=0,d=this.linearization;if(d)a.reset(),b(a,"endobj",1024)&&(c=a.pos+6);else{for(var e=1024,f=!1,h=a.end;!f&&h>0;)h-=e-"startxref".length,0>h&&(h=0),a.pos=h,f=b(a,"startxref",e,!0);if(f){a.skip(9);var i;do i=a.getByte();while(g.isSpace(i));for(var j="";i>=32&&57>=i;)j+=String.fromCharCode(i),i=a.getByte();c=parseInt(j,10),isNaN(c)&&(c=0)}}return g.shadow(this,"startXRef",c)},get mainXRefEntriesOffset(){var a=0,b=this.linearization;return b&&(a=b.mainXRefEntriesOffset),g.shadow(this,"mainXRefEntriesOffset",a)},checkHeader:function(){var a=this.stream;if(a.reset(),b(a,"%PDF-",1024)){a.moveStart();for(var c,d=12,e="";(c=a.getByte())>32&&!(e.length>=d);)e+=String.fromCharCode(c);return void(this.pdfFormatVersion||(this.pdfFormatVersion=e.substring(5)))}},parseStartXRef:function(){var a=this.startXRef;this.xref.setStartXRef(a)},setup:function(a){var b=this;this.xref.parse(a);var c={createPage:function(a,c,d,e,f){return new n({pdfManager:b.pdfManager,xref:b.xref,pageIndex:a,pageDict:c,ref:d,fontCache:e,builtInCMapCache:f,pdfFunctionFactory:b.pdfFunctionFactory})}};this.catalog=new e.Catalog(this.pdfManager,this.xref,c)},get numPages(){var a=this.linearization,b=a?a.numPages:this.catalog.numPages;return g.shadow(this,"numPages",b)},get documentInfo(){var a,b={PDFFormatVersion:this.pdfFormatVersion,IsAcroFormPresent:!!this.acroForm,IsXFAPresent:!!this.xfa};try{a=this.xref.trailer.get("Info")}catch(c){if(c instanceof g.MissingDataException)throw c;g.info("The document information dictionary is invalid.")}if(a){var d=i.entries;for(var e in d)if(a.has(e)){var f=a.get(e);d[e](f)?b[e]="string"!=typeof f?f:g.stringToPDFString(f):g.info('Bad value in document info for "'+e+'"')}}return g.shadow(this,"documentInfo",b)},get fingerprint(){var a,b=this.xref,e="",f=b.trailer.get("ID");Array.isArray(f)&&f[0]&&g.isString(f[0])&&f[0]!==d?a=g.stringToBytes(f[0]):(this.stream.ensureRange&&this.stream.ensureRange(0,Math.min(c,this.stream.end)),a=k.calculateMD5(this.stream.bytes.subarray(0,c),0,c));for(var h=0,i=a.length;i>h;h++){var j=a[h].toString(16);e+=1===j.length?"0"+j:j}return g.shadow(this,"fingerprint",e)},getPage:function(a){return this.catalog.getPage(a)},cleanup:function(){return this.catalog.cleanup()}},a}();b.Page=n,b.PDFDocument=o},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.JpegImage=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(0),f=function(){function a(a){this.message="JPEG error: "+a}return a.prototype=new Error,a.prototype.name="JpegError",a.constructor=a,a}(),g=function(){function a(){this.decodeTransform=null,this.colorTransform=-1}function b(a,b){for(var c,d,e=0,f=[],g=16;g>0&&!a[g-1];)g--;f.push({children:[],index:0});var h,i=f[0];for(c=0;g>c;c++){for(d=0;d<a[c];d++){for(i=f.pop(),i.children[i.index]=b[e];i.index>0;)i=f.pop();for(i.index++,f.push(i);f.length<=c;)f.push(h={children:[],index:0}),i.children[i.index]=h.children,i=h;e++}g>c+1&&(f.push(h={children:[],index:0}),i.children[i.index]=h.children,i=h)}return f[0].children}function c(a,b,c){return 64*((a.blocksPerLine+1)*b+c)}function g(a,b,g,h,i,l,m,n,o){function p(){if(L>0)return L--,K>>L&1;if(K=a[b++],255===K){var c=a[b++];if(c)throw new f("unexpected marker "+(K<<8|c).toString(16))}return L=7,K>>>7}function q(a){for(var b=a;;){if(b=b[p()],"number"==typeof b)return b;if("object"!==("undefined"==typeof b?"undefined":d(b)))throw new f("invalid huffman sequence")}}function r(a){for(var b=0;a>0;)b=b<<1|p(),a--;return b}function s(a){if(1===a)return 1===p()?1:-1;var b=r(a);return b>=1<<a-1?b:b+(-1<<a)+1}function t(a,b){var c=q(a.huffmanTableDC),d=0===c?0:s(c);a.blockData[b]=a.pred+=d;for(var e=1;64>e;){var f=q(a.huffmanTableAC),g=15&f,h=f>>4;if(0!==g){e+=h;var i=k[e];a.blockData[b+i]=s(g),e++}else{if(15>h)break;e+=16}}}function u(a,b){var c=q(a.huffmanTableDC),d=0===c?0:s(c)<<o;a.blockData[b]=a.pred+=d}function v(a,b){a.blockData[b]|=p()<<o}function w(a,b){if(M>0)return void M--;for(var c=l,d=m;d>=c;){var e=q(a.huffmanTableAC),f=15&e,g=e>>4;if(0!==f){c+=g;var h=k[c];a.blockData[b+h]=s(f)*(1<<o),c++}else{if(15>g){M=r(g)+(1<<g)-1;break}c+=16}}}function x(a,b){for(var c,d,e=l,g=m,h=0;g>=e;){var i=k[e];switch(N){case 0:if(d=q(a.huffmanTableAC),c=15&d,h=d>>4,0===c)15>h?(M=r(h)+(1<<h),N=4):(h=16,N=1);else{if(1!==c)throw new f("invalid ACn encoding");A=s(c),N=h?2:3}continue;case 1:case 2:a.blockData[b+i]?a.blockData[b+i]+=p()<<o:(h--,0===h&&(N=2===N?3:0));break;case 3:a.blockData[b+i]?a.blockData[b+i]+=p()<<o:(a.blockData[b+i]=A<<o,N=0);break;case 4:a.blockData[b+i]&&(a.blockData[b+i]+=p()<<o)}e++}4===N&&(M--,0===M&&(N=0))}function y(a,b,d,e,f){var g=d/H|0,h=d%H,i=g*a.v+e,j=h*a.h+f,k=c(a,i,j);b(a,k)}function z(a,b,d){var e=d/a.blocksPerLine|0,f=d%a.blocksPerLine,g=c(a,e,f);b(a,g)}var A,B,C,D,E,F,G,H=g.mcusPerLine,I=g.progressive,J=b,K=0,L=0,M=0,N=0,O=h.length;G=I?0===l?0===n?u:v:0===n?w:x:t;var P,Q,R=0;Q=1===O?h[0].blocksPerLine*h[0].blocksPerColumn:H*g.mcusPerColumn;for(var S,T;Q>R;){var U=i?Math.min(Q-R,i):Q;for(C=0;O>C;C++)h[C].pred=0;if(M=0,1===O)for(B=h[0],F=0;U>F;F++)z(B,G,R),R++;else for(F=0;U>F;F++){for(C=0;O>C;C++)for(B=h[C],S=B.h,T=B.v,D=0;T>D;D++)for(E=0;S>E;E++)y(B,G,R,D,E);R++}L=0,P=j(a,b),P&&P.invalid&&(e.warn("decodeScan - unexpected MCU data, next marker is: "+P.invalid),b=P.offset);var V=P&&P.marker;if(!V||65280>=V)throw new f("marker was not found");if(!(V>=65488&&65495>=V))break;b+=2}return P=j(a,b),P&&P.invalid&&(e.warn("decodeScan - unexpected Scan data, next marker is: "+P.invalid),b=P.offset),b-J}function h(a,b,c){var d,e,g,h,i,j,k,t,u,v,w,x,y,z,A,B,C,D=a.quantizationTable,E=a.blockData;if(!D)throw new f("missing required Quantization Table.");for(var F=0;64>F;F+=8)u=E[b+F],v=E[b+F+1],w=E[b+F+2],x=E[b+F+3],y=E[b+F+4],z=E[b+F+5],A=E[b+F+6],B=E[b+F+7],u*=D[F],0!==(v|w|x|y|z|A|B)?(v*=D[F+1],w*=D[F+2],x*=D[F+3],y*=D[F+4],z*=D[F+5],A*=D[F+6],B*=D[F+7],d=r*u+128>>8,e=r*y+128>>8,g=w,h=A,i=s*(v-B)+128>>8,t=s*(v+B)+128>>8,j=x<<4,k=z<<4,d=d+e+1>>1,e=d-e,C=g*q+h*p+128>>8,g=g*p-h*q+128>>8,h=C,i=i+k+1>>1,k=i-k,t=t+j+1>>1,j=t-j,d=d+h+1>>1,h=d-h,e=e+g+1>>1,g=e-g,C=i*o+t*n+2048>>12,i=i*n-t*o+2048>>12,t=C,C=j*m+k*l+2048>>12,j=j*l-k*m+2048>>12,k=C,c[F]=d+t,c[F+7]=d-t,c[F+1]=e+k,c[F+6]=e-k,c[F+2]=g+j,c[F+5]=g-j,c[F+3]=h+i,c[F+4]=h-i):(C=r*u+512>>10,c[F]=C,c[F+1]=C,c[F+2]=C,c[F+3]=C,c[F+4]=C,c[F+5]=C,c[F+6]=C,c[F+7]=C);for(var G=0;8>G;++G)u=c[G],v=c[G+8],w=c[G+16],x=c[G+24],y=c[G+32],z=c[G+40],A=c[G+48],B=c[G+56],0!==(v|w|x|y|z|A|B)?(d=r*u+2048>>12,e=r*y+2048>>12,g=w,h=A,i=s*(v-B)+2048>>12,t=s*(v+B)+2048>>12,j=x,k=z,d=(d+e+1>>1)+4112,e=d-e,C=g*q+h*p+2048>>12,g=g*p-h*q+2048>>12,h=C,i=i+k+1>>1,k=i-k,t=t+j+1>>1,j=t-j,d=d+h+1>>1,h=d-h,e=e+g+1>>1,g=e-g,C=i*o+t*n+2048>>12,i=i*n-t*o+2048>>12,t=C,C=j*m+k*l+2048>>12,j=j*l-k*m+2048>>12,k=C,u=d+t,B=d-t,v=e+k,A=e-k,w=g+j,z=g-j,x=h+i,y=h-i,u=16>u?0:u>=4080?255:u>>4,v=16>v?0:v>=4080?255:v>>4,w=16>w?0:w>=4080?255:w>>4,x=16>x?0:x>=4080?255:x>>4,y=16>y?0:y>=4080?255:y>>4,z=16>z?0:z>=4080?255:z>>4,A=16>A?0:A>=4080?255:A>>4,B=16>B?0:B>=4080?255:B>>4,E[b+G]=u,E[b+G+8]=v,E[b+G+16]=w,E[b+G+24]=x,E[b+G+32]=y,E[b+G+40]=z,E[b+G+48]=A,E[b+G+56]=B):(C=r*u+8192>>14,C=-2040>C?0:C>=2024?255:C+2056>>4,E[b+G]=C,E[b+G+8]=C,E[b+G+16]=C,E[b+G+24]=C,E[b+G+32]=C,E[b+G+40]=C,E[b+G+48]=C,E[b+G+56]=C)}function i(a,b){for(var d=b.blocksPerLine,e=b.blocksPerColumn,f=new Int16Array(64),g=0;e>g;g++)for(var i=0;d>i;i++){var j=c(b,g,i);h(b,j,f)}return b.blockData}function j(a,b,c){function d(b){return a[b]<<8|a[b+1]}var e=a.length-1,f=b>c?c:b;if(b>=e)return null;var g=d(b);if(g>=65472&&65534>=g)return{invalid:null,marker:g,offset:b};for(var h=d(f);!(h>=65472&&65534>=h);){if(++f>=e)return null;h=d(f)}return{invalid:g.toString(16),marker:h,offset:f}}var k=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),l=4017,m=799,n=3406,o=2276,p=1567,q=3784,r=5793,s=2896;return a.prototype={parse:function(a){function c(){var b=a[n]<<8|a[n+1];return n+=2,b}function d(){var b=c(),d=n+b-2,f=j(a,d,n);f&&f.invalid&&(e.warn("readDataBlock - incorrect length, next marker is: "+f.invalid),d=f.offset);var g=a.subarray(n,d);return n+=g.length,g}function h(a){for(var b=Math.ceil(a.samplesPerLine/8/a.maxH),c=Math.ceil(a.scanLines/8/a.maxV),d=0;d<a.components.length;d++){P=a.components[d];var e=Math.ceil(Math.ceil(a.samplesPerLine/8)*P.h/a.maxH),f=Math.ceil(Math.ceil(a.scanLines/8)*P.v/a.maxV),g=b*P.h,h=c*P.v,i=64*h*(g+1);P.blockData=new Int16Array(i),P.blocksPerLine=e,P.blocksPerColumn=f}a.mcusPerLine=b,a.mcusPerColumn=c}var l,m,n=0,o=null,p=null,q=[],r=[],s=[],t=c();if(65496!==t)throw new f("SOI not found");for(t=c();65497!==t;){var u,v,w;switch(t){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var x=d();65504===t&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(o={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])}),65518===t&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&(p={version:x[5]<<8|x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var y,z=c(),A=z+n-2;A>n;){var B=a[n++],C=new Uint16Array(64);if(B>>4===0)for(v=0;64>v;v++)y=k[v],C[y]=a[n++];else{if(B>>4!==1)throw new f("DQT - invalid table spec");for(v=0;64>v;v++)y=k[v],C[y]=c()}q[15&B]=C}break;case 65472:case 65473:case 65474:if(l)throw new f("Only single frame JPEGs supported");c(),l={},l.extended=65473===t,l.progressive=65474===t,l.precision=a[n++],l.scanLines=c(),l.samplesPerLine=c(),l.components=[],l.componentIds={};var D,E=a[n++],F=0,G=0;for(u=0;E>u;u++){D=a[n];var H=a[n+1]>>4,I=15&a[n+1];H>F&&(F=H),I>G&&(G=I);var J=a[n+2];w=l.components.push({h:H,v:I,quantizationId:J,quantizationTable:null}),l.componentIds[D]=w-1,n+=3}l.maxH=F,l.maxV=G,h(l);break;
case 65476:var K=c();for(u=2;K>u;){var L=a[n++],M=new Uint8Array(16),N=0;for(v=0;16>v;v++,n++)N+=M[v]=a[n];var O=new Uint8Array(N);for(v=0;N>v;v++,n++)O[v]=a[n];u+=17+N,(L>>4===0?s:r)[15&L]=b(M,O)}break;case 65501:c(),m=c();break;case 65498:c();var P,Q=a[n++],R=[];for(u=0;Q>u;u++){var S=l.componentIds[a[n++]];P=l.components[S];var T=a[n++];P.huffmanTableDC=s[T>>4],P.huffmanTableAC=r[15&T],R.push(P)}var U=a[n++],V=a[n++],W=a[n++],X=g(a,n,l,R,m,U,V,W>>4,15&W);n+=X;break;case 65535:255!==a[n]&&n--;break;default:if(255===a[n-3]&&a[n-2]>=192&&a[n-2]<=254){n-=3;break}throw new f("unknown marker "+t.toString(16))}t=c()}for(this.width=l.samplesPerLine,this.height=l.scanLines,this.jfif=o,this.adobe=p,this.components=[],u=0;u<l.components.length;u++){P=l.components[u];var Y=q[P.quantizationId];Y&&(P.quantizationTable=Y),this.components.push({output:i(l,P),scaleX:P.h/l.maxH,scaleY:P.v/l.maxV,blocksPerLine:P.blocksPerLine,blocksPerColumn:P.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this.width/a,o=this.height/b,p=0,q=this.components.length,r=a*b*q,s=new Uint8ClampedArray(r),t=new Uint32Array(a),u=4294967288;for(i=0;q>i;i++){for(c=this.components[i],d=c.scaleX*n,e=c.scaleY*o,p=i,m=c.output,f=c.blocksPerLine+1<<3,g=0;a>g;g++)j=0|g*d,t[g]=(j&u)<<3|7&j;for(h=0;b>h;h++)for(j=0|h*e,l=f*(j&u)|(7&j)<<3,g=0;a>g;g++)s[p]=m[l+t[g]],p+=q}var v=this.decodeTransform;if(v)for(i=0;r>i;)for(j=0,k=0;q>j;j++,i++,k+=2)s[i]=(s[i]*v[k]>>8)+v[k+1];return s},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0===this.colorTransform?!1:!0:1===this.colorTransform?!0:!1},_convertYccToRgb:function(a){for(var b,c,d,e=0,f=a.length;f>e;e+=3)b=a[e],c=a[e+1],d=a[e+2],a[e]=b-179.456+1.402*d,a[e+1]=b+135.459-.344*c-.714*d,a[e+2]=b-226.816+1.772*c;return a},_convertYcckToRgb:function(a){for(var b,c,d,e,f=0,g=0,h=a.length;h>g;g+=4)b=a[g],c=a[g+1],d=a[g+2],e=a[g+3],a[f++]=-122.67195406894+c*(-660635669420364e-19*c+.000437130475926232*d-54080610064599e-18*b+.00048449797120281*e-.154362151871126)+d*(-.000957964378445773*d+.000817076911346625*b-.00477271405408747*e+1.53380253221734)+b*(.000961250184130688*b-.00266257332283933*e+.48357088451265)+e*(-.000336197177618394*e+.484791561490776),a[f++]=107.268039397724+c*(219927104525741e-19*c-.000640992018297945*d+.000659397001245577*b+.000426105652938837*e-.176491792462875)+d*(-.000778269941513683*d+.00130872261408275*b+.000770482631801132*e-.151051492775562)+b*(.00126935368114843*b-.00265090189010898*e+.25802910206845)+e*(-.000318913117588328*e-.213742400323665),a[f++]=-20.810012546947+c*(-.000570115196973677*c-263409051004589e-19*d+.0020741088115012*b-.00288260236853442*e+.814272968359295)+d*(-153496057440975e-19*d-.000132689043961446*b+.000560833691242812*e-.195152027534049)+b*(.00174418132927582*b-.00255243321439347*e+.116935020465145)+e*(-.000343531996510555*e+.24165260232407);return a},_convertYcckToCmyk:function(a){for(var b,c,d,e=0,f=a.length;f>e;e+=4)b=a[e],c=a[e+1],d=a[e+2],a[e]=434.456-b-1.402*d,a[e+1]=119.541-b+.344*c+.714*d,a[e+2]=481.816-b-1.772*c;return a},_convertCmykToRgb:function(a){for(var b,c,d,e,f=0,g=1/255,h=0,i=a.length;i>h;h+=4)b=a[h]*g,c=a[h+1]*g,d=a[h+2]*g,e=a[h+3]*g,a[f++]=255+b*(-4.387332384609988*b+54.48615194189176*c+18.82290502165302*d+212.25662451639585*e-285.2331026137004)+c*(1.7149763477362134*c-5.6096736904047315*d-17.873870861415444*e-5.497006427196366)+d*(-2.5217340131683033*d-21.248923337353073*e+17.5119270841813)-e*(21.86122147463605*e+189.48180835922747),a[f++]=255+b*(8.841041422036149*b+60.118027045597366*c+6.871425592049007*d+31.159100130055922*e-79.2970844816548)+c*(-15.310361306967817*c+17.575251261109482*d+131.35250912493976*e-190.9453302588951)+d*(4.444339102852739*d+9.8632861493405*e-24.86741582555878)-e*(20.737325471181034*e+187.80453709719578),a[f++]=255+b*(.8842522430003296*b+8.078677503112928*c+30.89978309703729*d-.23883238689178934*e-14.183576799673286)+c*(10.49593273432072*c+63.02378494754052*d+50.606957656360734*e-112.23884253719248)+d*(.03296041114873217*d+115.60384449646641*e-193.58209356861505)-e*(22.33816807309886*e+180.12613974708367);return a},getData:function(a,b,c){if(this.numComponents>4)throw new f("Unsupported color mode");var d=this._getLinearizedBlockData(a,b);if(1===this.numComponents&&c){for(var e=d.length,g=new Uint8ClampedArray(3*e),h=0,i=0;e>i;i++){var j=d[i];g[h++]=j,g[h++]=j,g[h++]=j}return g}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(d);if(4===this.numComponents){if(this._isColorConversionNeeded())return c?this._convertYcckToRgb(d):this._convertYcckToCmyk(d);if(c)return this._convertCmykToRgb(d)}return d}},a}();b.JpegImage=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CCITTFaxStream=void 0;var d=c(2),e=c(131),f=c(5),g=function(){function a(a,b,c){this.str=a,this.dict=a.dict,d.isDict(c)||(c=d.Dict.empty);var g={next:function(){return a.getByte()}};this.ccittFaxDecoder=new e.CCITTFaxDecoder(g,{K:c.get("K"),EndOfLine:c.get("EndOfLine"),EncodedByteAlign:c.get("EncodedByteAlign"),Columns:c.get("Columns"),Rows:c.get("Rows"),EndOfBlock:c.get("EndOfBlock"),BlackIs1:c.get("BlackIs1")}),f.DecodeStream.call(this,b)}return a.prototype=Object.create(f.DecodeStream.prototype),a.prototype.readBlock=function(){for(;!this.eof;){var a=this.ccittFaxDecoder.readNextChar();if(-1===a)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=a}},a}();b.CCITTFaxStream=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CCITTFaxDecoder=void 0;var d=c(0),e=function f(){function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!a||"function"!=typeof a.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=a,this.eof=!1,this.encoding=b.K||0,this.eoline=b.EndOfLine||!1,this.byteAlign=b.EncodedByteAlign||!1,this.columns=b.Columns||1728,this.rows=b.Rows||0;var c=b.EndOfBlock;(null===c||void 0===c)&&(c=!0),this.eoblock=c,this.black=b.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;for(var d=void 0;0===(d=this._lookBits(12));)this._eatBits(1);1===d&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}var a=-2,b=-1,c=0,e=1,g=2,h=3,i=4,j=5,k=6,l=7,m=8,n=[[-1,-1],[-1,-1],[7,m],[7,l],[6,k],[6,k],[6,j],[6,j],[4,c],[4,c],[4,c],[4,c],[4,c],[4,c],[4,c],[4,c],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[3,h],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g],[1,g]],o=[[-1,-1],[12,a],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],p=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],q=[[-1,-1],[-1,-1],[12,a],[12,a],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],r=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],s=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];return f.prototype={readNextChar:function(){if(this.eof)return-1;var a=this.refLine,f=this.codingLine,n=this.columns,o=void 0,p=void 0,q=void 0,r=void 0;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;var s=void 0,t=void 0,u=void 0;if(this.nextLine2D){for(r=0;f[r]<n;++r)a[r]=f[r];for(a[r++]=n,a[r]=n,f[0]=0,this.codingPos=0,o=0,p=0;f[this.codingPos]<n;)switch(s=this._getTwoDimCode()){case c:this._addPixels(a[o+1],p),a[o+1]<n&&(o+=2);break;case e:if(s=t=0,p){do s+=u=this._getBlackCode();while(u>=64);do t+=u=this._getWhiteCode();while(u>=64)}else{do s+=u=this._getWhiteCode();while(u>=64);do t+=u=this._getBlackCode();while(u>=64)}for(this._addPixels(f[this.codingPos]+s,p),f[this.codingPos]<n&&this._addPixels(f[this.codingPos]+t,1^p);a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case l:if(this._addPixels(a[o]+3,p),p^=1,f[this.codingPos]<n)for(++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case j:if(this._addPixels(a[o]+2,p),p^=1,f[this.codingPos]<n)for(++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case h:if(this._addPixels(a[o]+1,p),p^=1,f[this.codingPos]<n)for(++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case g:if(this._addPixels(a[o],p),p^=1,f[this.codingPos]<n)for(++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case m:if(this._addPixelsNeg(a[o]-3,p),p^=1,f[this.codingPos]<n)for(o>0?--o:++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case k:if(this._addPixelsNeg(a[o]-2,p),p^=1,f[this.codingPos]<n)for(o>0?--o:++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case i:if(this._addPixelsNeg(a[o]-1,p),p^=1,f[this.codingPos]<n)for(o>0?--o:++o;a[o]<=f[this.codingPos]&&a[o]<n;)o+=2;break;case b:this._addPixels(n,0),this.eof=!0;break;default:d.info("bad 2d code"),this._addPixels(n,0),this.err=!0}}else for(f[0]=0,this.codingPos=0,p=0;f[this.codingPos]<n;){if(s=0,p){do s+=u=this._getBlackCode();while(u>=64)}else do s+=u=this._getWhiteCode();while(u>=64);this._addPixels(f[this.codingPos]+s,p),p^=1}var v=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(s=this._lookBits(12),this.eoline)for(;s!==b&&1!==s;)this._eatBits(1),s=this._lookBits(12);else for(;0===s;)this._eatBits(1),s=this._lookBits(12);1===s?(this._eatBits(12),v=!0):s===b&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&v&&this.byteAlign){if(s=this._lookBits(12),1===s){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(r=0;4>r;++r)s=this._lookBits(12),1!==s&&d.info("bad rtc code: "+s),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(s=this._lookBits(13),s===b)return this.eof=!0,-1;if(s>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&s))}f[0]>0?this.outputBits=f[this.codingPos=0]:this.outputBits=f[this.codingPos=1],this.row++}var w=void 0;if(this.outputBits>=8)w=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&f[this.codingPos]<n&&(this.codingPos++,this.outputBits=f[this.codingPos]-f[this.codingPos-1]);else{q=8,w=0;do this.outputBits>q?(w<<=q,1&this.codingPos||(w|=255>>8-q),this.outputBits-=q,q=0):(w<<=this.outputBits,1&this.codingPos||(w|=255>>8-this.outputBits),q-=this.outputBits,this.outputBits=0,f[this.codingPos]<n?(this.codingPos++,this.outputBits=f[this.codingPos]-f[this.codingPos-1]):q>0&&(w<<=q,q=0));while(q)}return this.black&&(w^=255),w},_addPixels:function(a,b){var c=this.codingLine,e=this.codingPos;a>c[e]&&(a>this.columns&&(d.info("row is wrong length"),this.err=!0,a=this.columns),1&e^b&&++e,c[e]=a),this.codingPos=e},_addPixelsNeg:function(a,b){var c=this.codingLine,e=this.codingPos;if(a>c[e])a>this.columns&&(d.info("row is wrong length"),this.err=!0,a=this.columns),1&e^b&&++e,c[e]=a;else if(a<c[e]){for(0>a&&(d.info("invalid code"),this.err=!0,a=0);e>0&&a<c[e-1];)--e;c[e]=a}this.codingPos=e},_findTableCode:function(a,c,d,e){for(var f=e||0,g=a;c>=g;++g){var h=this._lookBits(g);if(h===b)return[!0,1,!1];if(c>g&&(h<<=c-g),!f||h>=f){var i=d[h-f];if(i[0]===g)return this._eatBits(g),[!0,i[1],!0]}}return[!1,0,!1]},_getTwoDimCode:function(){var a=0,c=void 0;if(this.eoblock){if(a=this._lookBits(7),c=n[a],c&&c[0]>0)return this._eatBits(c[0]),c[1]}else{var e=this._findTableCode(1,7,n);if(e[0]&&e[2])return e[1]}return d.info("Bad two dim code"),b},_getWhiteCode:function(){var a=0,c=void 0;if(this.eoblock){if(a=this._lookBits(12),a===b)return 1;if(c=a>>5===0?o[a]:p[a>>3],c[0]>0)return this._eatBits(c[0]),c[1]}else{var e=this._findTableCode(1,9,p);if(e[0])return e[1];if(e=this._findTableCode(11,12,o),e[0])return e[1]}return d.info("bad white code"),this._eatBits(1),1},_getBlackCode:function(){var a=void 0,c=void 0;if(this.eoblock){if(a=this._lookBits(13),a===b)return 1;if(c=a>>7===0?q[a]:a>>9===0&&a>>7!==0?r[(a>>1)-64]:s[a>>7],c[0]>0)return this._eatBits(c[0]),c[1]}else{var e=this._findTableCode(2,6,s);if(e[0])return e[1];if(e=this._findTableCode(7,12,r,64),e[0])return e[1];if(e=this._findTableCode(10,13,q),e[0])return e[1]}return d.info("bad black code"),this._eatBits(1),1},_lookBits:function(a){for(var c=void 0;this.inputBits<a;){if(-1===(c=this.source.next()))return 0===this.inputBits?b:this.inputBuf<<a-this.inputBits&65535>>16-a;this.inputBuf=this.inputBuf<<8|c,this.inputBits+=8}return this.inputBuf>>this.inputBits-a&65535>>16-a},_eatBits:function(a){(this.inputBits-=a)<0&&(this.inputBits=0)}},f}();b.CCITTFaxDecoder=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Jbig2Stream=void 0;var d=c(2),e=c(5),f=c(133),g=c(0),h=function(){function a(a,b,c,d){this.stream=a,this.maybeLength=b,this.dict=c,this.params=d,e.DecodeStream.call(this,b)}return a.prototype=Object.create(e.DecodeStream.prototype),Object.defineProperty(a.prototype,"bytes",{get:function(){return g.shadow(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:!0}),a.prototype.ensureBuffer=function(a){if(!this.bufferLength){var b=new f.Jbig2Image,c=[];if(d.isDict(this.params)){var e=this.params.get("JBIG2Globals");if(d.isStream(e)){var g=e.getBytes();c.push({data:g,start:0,end:g.length})}}c.push({data:this.bytes,start:0,end:this.bytes.length});for(var h=b.parseChunks(c),i=h.length,j=0;i>j;j++)h[j]^=255;this.buffer=h,this.bufferLength=i,this.eof=!0}},a}();b.Jbig2Stream=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Jbig2Image=void 0;var d=c(0),e=c(75),f=function(){function a(a){this.message="JBIG2 error: "+a}return a.prototype=new Error,a.prototype.name="Jbig2Error",a.constructor=a,a}(),g=function(){function a(){}function b(a,b,c){this.data=a,this.start=b,this.end=c}function c(a,b,c){function d(a){for(var b=0,d=0;a>d;d++){var g=c.readBit(e,f);f=256>f?f<<1|g:511&(f<<1|g)|256,b=b<<1|g}return b>>>0}var e=a.getContexts(b),f=1,g=d(1),h=d(1)?d(1)?d(1)?d(1)?d(1)?d(32)+4436:d(12)+340:d(8)+84:d(6)+20:d(4)+4:d(2);return 0===g?h:h>0?-h:null}function g(a,b,c){for(var d=a.getContexts("IAID"),e=1,f=0;c>f;f++){var g=b.readBit(d,e);e=e<<1|g}return 31>c?e&(1<<c)-1:2147483647&e}function h(a,b,c){var d,e,f,g,h,i,j,k=c.decoder,l=c.contextCache.getContexts("GB"),m=[],n=31735;for(e=0;b>e;e++)for(h=m[e]=new Uint8Array(a),i=1>e?h:m[e-1],j=2>e?h:m[e-2],d=j[0]<<13|j[1]<<12|j[2]<<11|i[0]<<7|i[1]<<6|i[2]<<5|i[3]<<4,f=0;a>f;f++)h[f]=g=k.readBit(l,d),d=(d&n)<<1|(a>f+3?j[f+3]<<11:0)|(a>f+4?i[f+4]<<4:0)|g;return m}function i(a,b,c,d,e,g,i,j){if(a)throw new f("MMR encoding is not supported");if(0===d&&!g&&!e&&4===i.length&&3===i[0].x&&-1===i[0].y&&-3===i[1].x&&-1===i[1].y&&2===i[2].x&&-2===i[2].y&&-2===i[3].x&&-2===i[3].y)return h(b,c,j);var k=!!g,l=x[d].concat(i);l.sort(function(a,b){return a.y-b.y||a.x-b.x});var m,n,o=l.length,p=new Int8Array(o),q=new Int8Array(o),r=[],s=0,t=0,u=0,v=0;for(n=0;o>n;n++)p[n]=l[n].x,q[n]=l[n].y,t=Math.min(t,l[n].x),u=Math.max(u,l[n].x),v=Math.min(v,l[n].y),o-1>n&&l[n].y===l[n+1].y&&l[n].x===l[n+1].x-1?s|=1<<o-1-n:r.push(n);var w=r.length,y=new Int8Array(w),A=new Int8Array(w),B=new Uint16Array(w);for(m=0;w>m;m++)n=r[m],y[m]=l[n].x,A[m]=l[n].y,B[m]=1<<o-1-n;for(var C,D,E,F,G,H=-t,I=-v,J=b-u,K=z[d],L=new Uint8Array(b),M=[],N=j.decoder,O=j.contextCache.getContexts("GB"),P=0,Q=0,R=0;c>R;R++){if(e){var S=N.readBit(O,K);if(P^=S){M.push(L);continue}}for(L=new Uint8Array(L),M.push(L),C=0;b>C;C++)if(k&&g[R][C])L[C]=0;else{if(C>=H&&J>C&&R>=I)for(Q=Q<<1&s,n=0;w>n;n++)D=R+A[n],E=C+y[n],F=M[D][E],F&&(F=B[n],Q|=F);else for(Q=0,G=o-1,n=0;o>n;n++,G--)E=C+p[n],E>=0&&b>E&&(D=R+q[n],D>=0&&(F=M[D][E],F&&(Q|=F<<G)));var T=N.readBit(O,Q);L[C]=T}}return M}function j(a,b,c,d,e,g,h,i,j){var k=y[c].coding;0===c&&(k=k.concat([i[0]]));var l,m=k.length,n=new Int32Array(m),o=new Int32Array(m);for(l=0;m>l;l++)n[l]=k[l].x,o[l]=k[l].y;var p=y[c].reference;0===c&&(p=p.concat([i[1]]));var q=p.length,r=new Int32Array(q),s=new Int32Array(q);for(l=0;q>l;l++)r[l]=p[l].x,s[l]=p[l].y;for(var t=d[0].length,u=d.length,v=A[c],w=[],x=j.decoder,z=j.contextCache.getContexts("GR"),B=0,C=0;b>C;C++){if(h){var D=x.readBit(z,v);if(B^=D)throw new f("prediction is not supported")}var E=new Uint8Array(a);w.push(E);for(var F=0;a>F;F++){var G,H,I=0;for(l=0;m>l;l++)G=C+o[l],H=F+n[l],0>G||0>H||H>=a?I<<=1:I=I<<1|w[G][H];for(l=0;q>l;l++)G=C+s[l]-g,H=F+r[l]-e,0>G||G>=u||0>H||H>=t?I<<=1:I=I<<1|d[G][H];var J=x.readBit(z,I);E[F]=J}}return w}function k(a,b,e,h,k,m,n,o,p,q,r){if(a)throw new f("huffman is not supported");for(var s=[],t=0,u=d.log2(e.length+h),v=r.decoder,w=r.contextCache;s.length<h;){var x=c(w,"IADH",v);t+=x;for(var y=0;;){var z=c(w,"IADW",v);if(null===z)break;y+=z;var A;if(b){var B=c(w,"IAAI",v);if(B>1)A=l(a,b,y,t,0,B,1,e.concat(s),u,0,0,1,0,m,p,q,r);else{var C=g(w,v,u),D=c(w,"IARDX",v),E=c(w,"IARDY",v),F=C<e.length?e[C]:s[C-e.length];A=j(y,t,p,F,D,E,!1,q,r)}}else A=i(!1,y,t,n,!1,null,o,r);s.push(A)}}for(var G=[],H=[],I=!1,J=e.length+h;H.length<J;){for(var K=c(w,"IAEX",v);K--;)H.push(I);I=!I}for(var L=0,M=e.length;M>L;L++)H[L]&&G.push(e[L]);for(var N=0;h>N;L++,N++)H[L]&&G.push(s[N]);return G}function l(a,b,d,e,h,i,k,l,m,n,o,p,q,r,s,t,u){if(a)throw new f("huffman is not supported");var v,w,x=[];for(v=0;e>v;v++){if(w=new Uint8Array(d),h)for(var y=0;d>y;y++)w[y]=h;x.push(w)}var z=u.decoder,A=u.contextCache,B=-c(A,"IADT",z),C=0;for(v=0;i>v;){var D=c(A,"IADT",z);B+=D;var E=c(A,"IAFS",z);C+=E;for(var F=C;;){var G=1===k?0:c(A,"IAIT",z),H=k*B+G,I=g(A,z,m),J=b&&c(A,"IARI",z),K=l[I],L=K[0].length,M=K.length;if(J){var N=c(A,"IARDW",z),O=c(A,"IARDH",z),P=c(A,"IARDX",z),Q=c(A,"IARDY",z);L+=N,M+=O,K=j(L,M,s,K,(N>>1)+P,(O>>1)+Q,!1,t,u)}var R,S,T,U=H-(1&p?0:M-1),V=F-(2&p?L-1:0);if(n){for(R=0;M>R;R++)if(w=x[V+R]){T=K[R];var W=Math.min(d-U,L);switch(q){case 0:for(S=0;W>S;S++)w[U+S]|=T[S];break;case 2:for(S=0;W>S;S++)w[U+S]^=T[S];break;default:throw new f("operator "+q+" is not supported")}}F+=M-1}else{for(S=0;M>S;S++)if(w=x[U+S])switch(T=K[S],q){case 0:for(R=0;L>R;R++)w[V+R]|=T[R];break;case 2:for(R=0;L>R;R++)w[V+R]^=T[R];break;default:throw new f("operator "+q+" is not supported")}F+=L-1}v++;var X=c(A,"IADS",z);if(null===X)break;F+=X+o}}return x}function m(a,b,c,d,e,f){var g=[];g.push({x:-b,y:0}),0===e&&(g.push({x:-3,y:-1}),g.push({x:2,y:-2}),g.push({x:-2,y:-2}));for(var h=(d+1)*b,j=i(a,h,c,e,!1,null,g,f),k=[],l=0,m=void 0,n=void 0,o=void 0,p=void 0;d>=l;){for(m=[],n=b*l,o=n+b,p=0;c>p;p++)m.push(j[p].subarray(n,o));k.push(m),l++}return k}function n(a,b,c,e,g,h,j,k,l,m,n,o,p,q,r){var s=null;if(j)throw new f("skip is not supported");if(0!==k)throw new f("operator "+k+" is not supported in halftone region");var t=[],u=void 0,v=void 0,w=void 0;for(u=0;g>u;u++){if(w=new Uint8Array(e),h)for(v=0;e>v;v++)w[v]=h;t.push(w)}var x=b.length,y=b[0],z=y[0].length,A=y.length,B=d.log2(x),C=[];C.push({x:1>=c?3:2,y:-1}),0===c&&(C.push({x:-3,y:-1}),C.push({x:2,y:-2}),C.push({x:-2,y:-2}));var D=[];for(u=B-1;u>=0;u--)D[u]=i(a,l,m,c,!1,s,C,r);var E=void 0,F=void 0,G=void 0,H=void 0,I=void 0,J=void 0,K=void 0,L=void 0,M=void 0;for(E=0;m>E;E++)for(F=0;l>F;F++){for(G=0,H=0,v=B-1;v>=0;v--)G=D[v][E][F]^G,H|=G<<v;if(I=b[H],J=n+E*q+F*p>>8,K=o+E*p-F*q>>8,J>=0&&e>=J+z&&K>=0&&g>=K+A)for(u=0;A>u;u++)for(M=t[K+u],L=I[u],v=0;z>v;v++)M[J+v]|=L[v];else{var N=void 0,O=void 0;for(u=0;A>u;u++)if(O=K+u,!(0>O||O>=g))for(M=t[O],L=I[u],v=0;z>v;v++)N=J+v,N>=0&&e>N&&(M[N]|=L[v])}}return t}function o(a,b){var c={};c.number=d.readUint32(a,b);var e=a[b+4],g=63&e;if(!w[g])throw new f("invalid segment type: "+g);c.type=g,c.typeName=w[g],c.deferredNonRetain=!!(128&e);var h=!!(64&e),i=a[b+5],j=i>>5&7,k=[31&i],l=b+6;if(7===i){j=536870911&d.readUint32(a,l-1),l+=3;var m=j+7>>3;for(k[0]=a[l++];--m>0;)k.push(a[l++])}else if(5===i||6===i)throw new f("invalid referred-to flags");c.retainBits=k;var n,o,p=c.number<=256?1:c.number<=65536?2:4,r=[];for(n=0;j>n;n++){var s=1===p?a[l]:2===p?d.readUint16(a,l):d.readUint32(a,l);r.push(s),l+=p}if(c.referredTo=r,h?(c.pageAssociation=d.readUint32(a,l),l+=4):c.pageAssociation=a[l++],c.length=d.readUint32(a,l),l+=4,4294967295===c.length){if(38!==g)throw new f("invalid unknown segment length");var t=q(a,l),u=a[l+B],v=!!(1&u),x=6,y=new Uint8Array(x);for(v||(y[0]=255,y[1]=172),y[2]=t.height>>>24&255,y[3]=t.height>>16&255,y[4]=t.height>>8&255,y[5]=255&t.height,n=l,o=a.length;o>n;n++){for(var z=0;x>z&&y[z]===a[n+z];)z++;if(z===x){c.length=n+x;break}}if(4294967295===c.length)throw new f("segment end was not found")}return c.headerEnd=l,c}function p(a,b,c,d){for(var e=[],f=c;d>f;){var g=o(b,f);f=g.headerEnd;var h={header:g,data:b};if(a.randomAccess||(h.start=f,f+=g.length,h.end=f),e.push(h),51===g.type)break}if(a.randomAccess)for(var i=0,j=e.length;j>i;i++)e[i].start=f,f+=e[i].header.length,e[i].end=f;return e}function q(a,b){return{width:d.readUint32(a,b),height:d.readUint32(a,b+4),x:d.readUint32(a,b+8),y:d.readUint32(a,b+12),combinationOperator:7&a[b+16]}}function r(a,b){var c,e,g,h,i=a.header,j=a.data,k=a.start,l=a.end;switch(i.type){case 0:var m={},n=d.readUint16(j,k);if(m.huffman=!!(1&n),m.refinement=!!(2&n),m.huffmanDHSelector=n>>2&3,m.huffmanDWSelector=n>>4&3,m.bitmapSizeSelector=n>>6&1,m.aggregationInstancesSelector=n>>7&1,m.bitmapCodingContextUsed=!!(256&n),m.bitmapCodingContextRetained=!!(512&n),m.template=n>>10&3,m.refinementTemplate=n>>12&1,k+=2,!m.huffman){for(h=0===m.template?4:1,e=[],g=0;h>g;g++)e.push({x:d.readInt8(j,k),y:d.readInt8(j,k+1)}),k+=2;m.at=e}if(m.refinement&&!m.refinementTemplate){for(e=[],g=0;2>g;g++)e.push({x:d.readInt8(j,k),y:d.readInt8(j,k+1)}),k+=2;m.refinementAt=e}m.numberOfExportedSymbols=d.readUint32(j,k),k+=4,m.numberOfNewSymbols=d.readUint32(j,k),k+=4,c=[m,i.number,i.referredTo,j,k,l];break;case 6:case 7:var o={};o.info=q(j,k),k+=B;var p=d.readUint16(j,k);if(k+=2,o.huffman=!!(1&p),o.refinement=!!(2&p),o.stripSize=1<<(p>>2&3),o.referenceCorner=p>>4&3,o.transposed=!!(64&p),o.combinationOperator=p>>7&3,o.defaultPixelValue=p>>9&1,o.dsOffset=p<<17>>27,o.refinementTemplate=p>>15&1,o.huffman){var r=d.readUint16(j,k);k+=2,o.huffmanFS=3&r,o.huffmanDS=r>>2&3,o.huffmanDT=r>>4&3,o.huffmanRefinementDW=r>>6&3,o.huffmanRefinementDH=r>>8&3,o.huffmanRefinementDX=r>>10&3,o.huffmanRefinementDY=r>>12&3,o.huffmanRefinementSizeSelector=!!(14&r)}if(o.refinement&&!o.refinementTemplate){for(e=[],g=0;2>g;g++)e.push({x:d.readInt8(j,k),y:d.readInt8(j,k+1)}),k+=2;o.refinementAt=e}if(o.numberOfSymbolInstances=d.readUint32(j,k),k+=4,o.huffman)throw new f("huffman is not supported");c=[o,i.referredTo,j,k,l];break;case 16:var s={},t=j[k++];s.mmr=!!(1&t),s.template=t>>1&3,s.patternWidth=j[k++],s.patternHeight=j[k++],s.maxPatternIndex=d.readUint32(j,k),k+=4,c=[s,i.number,j,k,l];break;case 22:case 23:var u={};u.info=q(j,k),k+=B;var v=j[k++];u.mmr=!!(1&v),u.template=v>>1&3,u.enableSkip=!!(8&v),u.combinationOperator=v>>4&7,u.defaultPixelValue=v>>7&1,u.gridWidth=d.readUint32(j,k),k+=4,u.gridHeight=d.readUint32(j,k),k+=4,u.gridOffsetX=4294967295&d.readUint32(j,k),k+=4,u.gridOffsetY=4294967295&d.readUint32(j,k),k+=4,u.gridVectorX=d.readUint16(j,k),k+=2,u.gridVectorY=d.readUint16(j,k),k+=2,c=[u,i.referredTo,j,k,l];break;case 38:case 39:var w={};w.info=q(j,k),k+=B;var x=j[k++];if(w.mmr=!!(1&x),w.template=x>>1&3,w.prediction=!!(8&x),!w.mmr){for(h=0===w.template?4:1,e=[],g=0;h>g;g++)e.push({x:d.readInt8(j,k),y:d.readInt8(j,k+1)}),k+=2;w.at=e}c=[w,j,k,l];break;case 48:var y={width:d.readUint32(j,k),height:d.readUint32(j,k+4),resolutionX:d.readUint32(j,k+8),resolutionY:d.readUint32(j,k+12)};4294967295===y.height&&delete y.height;var z=j[k+16];d.readUint16(j,k+17),y.lossless=!!(1&z),y.refinement=!!(2&z),y.defaultPixelValue=z>>2&1,y.combinationOperator=z>>3&3,y.requiresBuffer=!!(32&z),y.combinationOperatorOverride=!!(64&z),c=[y];break;case 49:break;case 50:break;case 51:break;case 62:break;default:throw new f("segment type "+i.typeName+"("+i.type+") is not implemented")}var A="on"+i.typeName;A in b&&b[A].apply(b,c)}function s(a,b){for(var c=0,d=a.length;d>c;c++)r(a[c],b)}function t(a){for(var b=new u,c=0,d=a.length;d>c;c++){var e=a[c],f=p({},e.data,e.start,e.end);s(f,b)}return b.buffer}function u(){}function v(){}a.prototype={getContexts:function(a){return a in this?this[a]:this[a]=new Int8Array(65536)}},b.prototype={get decoder(){var a=new e.ArithmeticDecoder(this.data,this.start,this.end);return d.shadow(this,"decoder",a)},get contextCache(){var b=new a;return d.shadow(this,"contextCache",b)}};var w=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],x=[[{
x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],y=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],z=[39717,1941,229,405],A=[32,8],B=17;return u.prototype={onPageInformation:function(a){this.currentPageInfo=a;var b=a.width+7>>3,c=new Uint8ClampedArray(b*a.height);if(a.defaultPixelValue)for(var d=0,e=c.length;e>d;d++)c[d]=255;this.buffer=c},drawBitmap:function(a,b){var c,d,e,g,h=this.currentPageInfo,i=a.width,j=a.height,k=h.width+7>>3,l=h.combinationOperatorOverride?a.combinationOperator:h.combinationOperator,m=this.buffer,n=128>>(7&a.x),o=a.y*k+(a.x>>3);switch(l){case 0:for(c=0;j>c;c++){for(e=n,g=o,d=0;i>d;d++)b[c][d]&&(m[g]|=e),e>>=1,e||(e=128,g++);o+=k}break;case 2:for(c=0;j>c;c++){for(e=n,g=o,d=0;i>d;d++)b[c][d]&&(m[g]^=e),e>>=1,e||(e=128,g++);o+=k}break;default:throw new f("operator "+l+" is not supported")}},onImmediateGenericRegion:function(a,c,d,e){var f=a.info,g=new b(c,d,e),h=i(a.mmr,f.width,f.height,a.template,a.prediction,null,a.at,g);this.drawBitmap(f,h)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(a,c,d,e,g,h){var i;if(a.huffman)throw new f("huffman is not supported");var j=this.symbols;j||(this.symbols=j={});for(var l=[],m=0,n=d.length;n>m;m++)l=l.concat(j[d[m]]);var o=new b(e,g,h);j[c]=k(a.huffman,a.refinement,l,a.numberOfNewSymbols,a.numberOfExportedSymbols,i,a.template,a.at,a.refinementTemplate,a.refinementAt,o)},onImmediateTextRegion:function(a,c,e,f,g){for(var h,i=a.info,j=this.symbols,k=[],m=0,n=c.length;n>m;m++)k=k.concat(j[c[m]]);var o=d.log2(k.length),p=new b(e,f,g),q=l(a.huffman,a.refinement,i.width,i.height,a.defaultPixelValue,a.numberOfSymbolInstances,a.stripSize,k,o,a.transposed,a.dsOffset,a.referenceCorner,a.combinationOperator,h,a.refinementTemplate,a.refinementAt,p);this.drawBitmap(i,q)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function(a,c,d,e,f){var g=this.patterns;g||(this.patterns=g={});var h=new b(d,e,f);g[c]=m(a.mmr,a.patternWidth,a.patternHeight,a.maxPatternIndex,a.template,h)},onImmediateHalftoneRegion:function(a,c,d,e,f){var g=this.patterns[c[0]],h=a.info,i=new b(d,e,f),j=n(a.mmr,g,a.template,h.width,h.height,a.defaultPixelValue,a.enableSkip,a.combinationOperator,a.gridWidth,a.gridHeight,a.gridOffsetX,a.gridOffsetY,a.gridVectorX,a.gridVectorY,i);this.drawBitmap(h,j)},onImmediateLosslessHalftoneRegion:function(){this.onImmediateHalftoneRegion.apply(this,arguments)}},v.prototype={parseChunks:function(a){return t(a)}},v}();b.Jbig2Image=g},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CMapFactory=b.IdentityCMap=b.CMap=void 0;var d=c(0),e=c(2),f=c(34),g=c(5),h=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],i=function(){function a(a){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=a}return a.prototype={addCodespaceRange:function(a,b,c){this.codespaceRanges[a-1].push(b,c),this.numCodespaceRanges++},mapCidRange:function(a,b,c){for(;b>=a;)this._map[a++]=c++},mapBfRange:function(a,b,c){for(var d=c.length-1;b>=a;)this._map[a++]=c,c=c.substr(0,d)+String.fromCharCode(c.charCodeAt(d)+1)},mapBfRangeToArray:function(a,b,c){for(var d=0,e=c.length;b>=a&&e>d;)this._map[a]=c[d++],++a},mapOne:function(a,b){this._map[a]=b},lookup:function(a){return this._map[a]},contains:function(a){return void 0!==this._map[a]},forEach:function(a){var b=this._map,c=b.length;if(65536>=c)for(var d=0;c>d;d++)void 0!==b[d]&&a(d,b[d]);else for(var e in b)a(e,b[e])},charCodeOf:function(a){var b=this._map;if(b.length<=65536)return b.indexOf(a);for(var c in b)if(b[c]===a)return 0|c;return-1},getMap:function(){return this._map},readCharCode:function(a,b,c){for(var d=0,e=this.codespaceRanges,f=this.codespaceRanges.length,g=0;f>g;g++){d=(d<<8|a.charCodeAt(b+g))>>>0;for(var h=e[g],i=0,j=h.length;j>i;){var k=h[i++],l=h[i++];if(d>=k&&l>=d)return c.charcode=d,void(c.length=g+1)}}c.charcode=0,c.length=1},get length(){return this._map.length},get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name)return!1;if(65536!==this._map.length)return!1;for(var a=0;65536>a;a++)if(this._map[a]!==a)return!1;return!0}},a}(),j=function(){function a(a,b){i.call(this),this.vertical=a,this.addCodespaceRange(b,0,65535)}return d.Util.inherit(a,i,{}),a.prototype={addCodespaceRange:i.prototype.addCodespaceRange,mapCidRange:function(a,b,c){throw new Error("should not call mapCidRange")},mapBfRange:function(a,b,c){throw new Error("should not call mapBfRange")},mapBfRangeToArray:function(a,b,c){throw new Error("should not call mapBfRangeToArray")},mapOne:function(a,b){throw new Error("should not call mapCidOne")},lookup:function(a){return Number.isInteger(a)&&65535>=a?a:void 0},contains:function(a){return Number.isInteger(a)&&65535>=a},forEach:function(a){for(var b=0;65535>=b;b++)a(b,b)},charCodeOf:function(a){return Number.isInteger(a)&&65535>=a?a:-1},getMap:function(){for(var a=new Array(65536),b=0;65535>=b;b++)a[b]=b;return a},readCharCode:i.prototype.readCharCode,get length(){return 65536},get isIdentityCMap(){throw new Error("should not access .isIdentityCMap")}},a}(),k=function(){function a(a,b){for(var c=0,d=0;b>=d;d++)c=c<<8|a[d];return c>>>0}function b(a,b){return 1===b?String.fromCharCode(a[0],a[1]):3===b?String.fromCharCode(a[0],a[1],a[2],a[3]):String.fromCharCode.apply(null,a.subarray(0,b+1))}function c(a,b,c){for(var d=0,e=c;e>=0;e--)d+=a[e]+b[e],a[e]=255&d,d>>=8}function e(a,b){for(var c=1,d=b;d>=0&&c>0;d--)c+=a[d],a[d]=255&c,c>>=8}function f(a){this.buffer=a,this.pos=0,this.end=a.length,this.tmpBuf=new Uint8Array(j)}function g(d,g,h){return new Promise(function(j,k){var l=new f(d),m=l.readByte();g.vertical=!!(1&m);for(var n,o,p=null,q=new Uint8Array(i),r=new Uint8Array(i),s=new Uint8Array(i),t=new Uint8Array(i),u=new Uint8Array(i);(o=l.readByte())>=0;){var v=o>>5;if(7!==v){var w=!!(16&o),x=15&o;if(x+1>i)throw new Error("processBinaryCMap: Invalid dataSize.");var y,z=1,A=l.readNumber();switch(v){case 0:for(l.readHex(q,x),l.readHexNumber(r,x),c(r,q,x),g.addCodespaceRange(x+1,a(q,x),a(r,x)),y=1;A>y;y++)e(r,x),l.readHexNumber(q,x),c(q,r,x),l.readHexNumber(r,x),c(r,q,x),g.addCodespaceRange(x+1,a(q,x),a(r,x));break;case 1:for(l.readHex(q,x),l.readHexNumber(r,x),c(r,q,x),n=l.readNumber(),y=1;A>y;y++)e(r,x),l.readHexNumber(q,x),c(q,r,x),l.readHexNumber(r,x),c(r,q,x),n=l.readNumber();break;case 2:for(l.readHex(s,x),n=l.readNumber(),g.mapOne(a(s,x),n),y=1;A>y;y++)e(s,x),w||(l.readHexNumber(u,x),c(s,u,x)),n=l.readSigned()+(n+1),g.mapOne(a(s,x),n);break;case 3:for(l.readHex(q,x),l.readHexNumber(r,x),c(r,q,x),n=l.readNumber(),g.mapCidRange(a(q,x),a(r,x),n),y=1;A>y;y++)e(r,x),w?q.set(r):(l.readHexNumber(q,x),c(q,r,x)),l.readHexNumber(r,x),c(r,q,x),n=l.readNumber(),g.mapCidRange(a(q,x),a(r,x),n);break;case 4:for(l.readHex(s,z),l.readHex(t,x),g.mapOne(a(s,z),b(t,x)),y=1;A>y;y++)e(s,z),w||(l.readHexNumber(u,z),c(s,u,z)),e(t,x),l.readHexSigned(u,x),c(t,u,x),g.mapOne(a(s,z),b(t,x));break;case 5:for(l.readHex(q,z),l.readHexNumber(r,z),c(r,q,z),l.readHex(t,x),g.mapBfRange(a(q,z),a(r,z),b(t,x)),y=1;A>y;y++)e(r,z),w?q.set(r):(l.readHexNumber(q,z),c(q,r,z)),l.readHexNumber(r,z),c(r,q,z),l.readHex(t,x),g.mapBfRange(a(q,z),a(r,z),b(t,x));break;default:return void k(new Error("processBinaryCMap: Unknown type: "+v))}}else switch(31&o){case 0:l.readString();break;case 1:p=l.readString()}}return p?void j(h(p)):void j(g)})}function h(){}var i=16,j=19;return f.prototype={readByte:function(){return this.pos>=this.end?-1:this.buffer[this.pos++]},readNumber:function(){var a,b=0;do{var c=this.readByte();if(0>c)throw new d.FormatError("unexpected EOF in bcmap");a=!(128&c),b=b<<7|127&c}while(!a);return b},readSigned:function(){var a=this.readNumber();return 1&a?~(a>>>1):a>>>1},readHex:function(a,b){a.set(this.buffer.subarray(this.pos,this.pos+b+1)),this.pos+=b+1},readHexNumber:function(a,b){var c,e=this.tmpBuf,f=0;do{var g=this.readByte();if(0>g)throw new d.FormatError("unexpected EOF in bcmap");c=!(128&g),e[f++]=127&g}while(!c);for(var h=b,i=0,j=0;h>=0;){for(;8>j&&e.length>0;)i=e[--f]<<j|i,j+=7;a[h]=255&i,h--,i>>=8,j-=8}},readHexSigned:function(a,b){this.readHexNumber(a,b);for(var c=1&a[b]?255:0,d=0,e=0;b>=e;e++)d=(1&d)<<8|a[e],a[e]=d>>1^c},readString:function(){for(var a=this.readNumber(),b="",c=0;a>c;c++)b+=String.fromCharCode(this.readNumber());return b}},h.prototype={process:g},h}(),l=function(){function a(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b>>>0}function b(a){if(!d.isString(a))throw new d.FormatError("Malformed CMap: expected string.")}function c(a){if(!Number.isInteger(a))throw new d.FormatError("Malformed CMap: expected int.")}function l(c,d){for(;;){var f=d.getObj();if(e.isEOF(f))break;if(e.isCmd(f,"endbfchar"))return;b(f);var g=a(f);f=d.getObj(),b(f);var h=f;c.mapOne(g,h)}}function m(c,f){for(;;){var g=f.getObj();if(e.isEOF(g))break;if(e.isCmd(g,"endbfrange"))return;b(g);var h=a(g);g=f.getObj(),b(g);var i=a(g);if(g=f.getObj(),Number.isInteger(g)||d.isString(g)){var j=Number.isInteger(g)?String.fromCharCode(g):g;c.mapBfRange(h,i,j)}else{if(!e.isCmd(g,"["))break;g=f.getObj();for(var k=[];!e.isCmd(g,"]")&&!e.isEOF(g);)k.push(g),g=f.getObj();c.mapBfRangeToArray(h,i,k)}}throw new d.FormatError("Invalid bf range.")}function n(d,f){for(;;){var g=f.getObj();if(e.isEOF(g))break;if(e.isCmd(g,"endcidchar"))return;b(g);var h=a(g);g=f.getObj(),c(g);var i=g;d.mapOne(h,i)}}function o(d,f){for(;;){var g=f.getObj();if(e.isEOF(g))break;if(e.isCmd(g,"endcidrange"))return;b(g);var h=a(g);g=f.getObj(),b(g);var i=a(g);g=f.getObj(),c(g);var j=g;d.mapCidRange(h,i,j)}}function p(b,c){for(;;){var f=c.getObj();if(e.isEOF(f))break;if(e.isCmd(f,"endcodespacerange"))return;if(!d.isString(f))break;var g=a(f);if(f=c.getObj(),!d.isString(f))break;var h=a(f);b.addCodespaceRange(f.length,g,h)}throw new d.FormatError("Invalid codespace range.")}function q(a,b){var c=b.getObj();Number.isInteger(c)&&(a.vertical=!!c)}function r(a,b){var c=b.getObj();e.isName(c)&&d.isString(c.name)&&(a.name=c.name)}function s(a,b,c,f){var g,h;a:for(;;)try{var i=b.getObj();if(e.isEOF(i))break;if(e.isName(i))"WMode"===i.name?q(a,b):"CMapName"===i.name&&r(a,b),g=i;else if(e.isCmd(i))switch(i.cmd){case"endcmap":break a;case"usecmap":e.isName(g)&&(h=g.name);break;case"begincodespacerange":p(a,b);break;case"beginbfchar":l(a,b);break;case"begincidchar":n(a,b);break;case"beginbfrange":m(a,b);break;case"begincidrange":o(a,b)}}catch(j){if(j instanceof d.MissingDataException)throw j;d.warn("Invalid cMap data: "+j);continue}return!f&&h&&(f=h),f?t(a,c,f):Promise.resolve(a)}function t(a,b,c){return u(c,b).then(function(b){if(a.useCMap=b,0===a.numCodespaceRanges){for(var c=a.useCMap.codespaceRanges,d=0;d<c.length;d++)a.codespaceRanges[d]=c[d].slice();a.numCodespaceRanges=a.useCMap.numCodespaceRanges}return a.useCMap.forEach(function(b,c){a.contains(b)||a.mapOne(b,a.useCMap.lookup(b))}),a})}function u(a,b){return"Identity-H"===a?Promise.resolve(new j(!1,2)):"Identity-V"===a?Promise.resolve(new j(!0,2)):-1===h.indexOf(a)?Promise.reject(new Error("Unknown CMap name: "+a)):b?b(a).then(function(a){var c=a.cMapData,e=a.compressionType,h=new i(!0);if(e===d.CMapCompressionType.BINARY)return(new k).process(c,h,function(a){return t(h,b,a)});if(e===d.CMapCompressionType.NONE){var j=new f.Lexer(new g.Stream(c));return s(h,j,b,null)}return Promise.reject(new Error("TODO: Only BINARY/NONE CMap compression is currently supported."))}):Promise.reject(new Error("Built-in CMap parameters are not provided."))}return{create:function(a){var b=a.encoding,c=a.fetchBuiltInCMap,d=a.useCMap;if(e.isName(b))return u(b.name,c);if(e.isStream(b)){var g=new i,h=new f.Lexer(b);return s(g,h,c,d).then(function(a){return a.isIdentityCMap?u(a.name,c):a})}return Promise.reject(new Error("Encoding required."))}}}();b.CMap=i,b.IdentityCMap=j,b.CMapFactory=l},function(a,b,c){"use strict";function d(a){if(a.fontMatrix&&a.fontMatrix[0]!==i.FONT_IDENTITY_MATRIX[0]){var b=.001/a.fontMatrix[0],c=a.widths;for(var d in c)c[d]*=b;a.defaultWidth*=b}}function e(a,b){if(!a.hasIncludedToUnicodeMap&&!(a.hasEncoding||b===a.defaultEncoding||a.toUnicode instanceof A)){var c=[],d=k.getGlyphsUnicode();for(var e in b){var f=b[e],g=n.getUnicodeForGlyph(f,d);-1!==g&&(c[e]=String.fromCharCode(g))}a.toUnicode.amend(c)}}function f(a,b){switch(a){case"Type1":return"Type1C"===b?i.FontType.TYPE1C:i.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===b?i.FontType.CIDFONTTYPE0C:i.FontType.CIDFONTTYPE0;case"OpenType":return i.FontType.OPENTYPE;case"TrueType":return i.FontType.TRUETYPE;case"CIDFontType2":return i.FontType.CIDFONTTYPE2;case"MMType1":return i.FontType.MMTYPE1;case"Type0":return i.FontType.TYPE0;default:return i.FontType.UNKNOWN}}function g(a,b){if(void 0!==b[a])return a;var c=n.getUnicodeForGlyph(a,b);if(-1!==c)for(var d in b)if(b[d]===c)return d;return i.info("Unable to recover a standard glyph name for: "+a),a}function h(a,b,c){var d,e,f,h=Object.create(null),i=!!(a.flags&w.Symbolic);if(a.baseEncodingName)for(f=l.getEncoding(a.baseEncodingName),e=0;e<f.length;e++)d=c.indexOf(f[e]),d>=0?h[e]=d:h[e]=0;else if(i)for(e in b)h[e]=b[e];else for(f=l.StandardEncoding,e=0;e<f.length;e++)d=c.indexOf(f[e]),d>=0?h[e]=d:h[e]=0;var j,m=a.differences;if(m)for(e in m){var n=m[e];if(d=c.indexOf(n),-1===d){j||(j=k.getGlyphsUnicode());var o=g(n,j);o!==n&&(d=c.indexOf(o))}d>=0?h[e]=d:h[e]=0}return h}Object.defineProperty(b,"__esModule",{value:!0}),b.getFontType=b.ProblematicCharRanges=b.IdentityToUnicodeMap=b.ToUnicodeMap=b.FontFlags=b.Font=b.ErrorFont=b.PRIVATE_USE_OFFSET_END=b.PRIVATE_USE_OFFSET_START=b.SEAC_ANALYSIS_ENABLED=void 0;var i=c(0),j=c(78),k=c(47),l=c(28),m=c(79),n=c(80),o=c(137),p=c(5),q=c(138),r=57344,s=63743,t=!1,u=1e3,v=!1,w={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},x=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"],y=function(){function a(a,b,c,d,e,f,g,h){this.fontChar=a,this.unicode=b,this.accent=c,this.width=d,this.vmetric=e,this.operatorListId=f,this.isSpace=g,this.isInFont=h}return a.prototype.matchesForCache=function(a,b,c,d,e,f,g,h){return this.fontChar===a&&this.unicode===b&&this.accent===c&&this.width===d&&this.vmetric===e&&this.operatorListId===f&&this.isSpace===g&&this.isInFont===h},a}(),z=function(){function a(a){this._map=a}return a.prototype={get length(){return this._map.length},forEach:function(a){for(var b in this._map)a(b,this._map[b].charCodeAt(0))},has:function(a){return void 0!==this._map[a]},get:function(a){return this._map[a]},charCodeOf:function(a){var b=this._map;if(b.length<=65536)return b.indexOf(a);for(var c in b)if(b[c]===a)return 0|c;return-1},amend:function(a){for(var b in a)this._map[b]=a[b]}},a}(),A=function(){function a(a,b){this.firstChar=a,this.lastChar=b}return a.prototype={get length(){return this.lastChar+1-this.firstChar},forEach:function(a){for(var b=this.firstChar,c=this.lastChar;c>=b;b++)a(b,b)},has:function(a){return this.firstChar<=a&&a<=this.lastChar},get:function(a){return this.firstChar<=a&&a<=this.lastChar?String.fromCharCode(a):void 0},charCodeOf:function(a){return Number.isInteger(a)&&a>=this.firstChar&&a<=this.lastChar?a:-1},amend:function(a){throw new Error("Should not call amend()")}},a}(),B=function(){function a(a,b,c){a[b]=c>>8&255,a[b+1]=255&c}function b(a,b,c){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=255&c}function c(a,b,c){var d,e;if(c instanceof Uint8Array)a.set(c,b);else if("string"==typeof c)for(d=0,e=c.length;e>d;d++)a[b++]=255&c.charCodeAt(d);else for(d=0,e=c.length;e>d;d++)a[b++]=255&c[d]}function d(a){this.sfnt=a,this.tables=Object.create(null)}d.getSearchParams=function(a,b){for(var c=1,d=0;(c^a)>c;)c<<=1,d++;var e=c*b;return{range:e,entry:d,rangeShift:b*a-e}};var e=12,f=16;return d.prototype={toArray:function(){var g=this.sfnt,h=this.tables,j=Object.keys(h);j.sort();var k,l,m,n,o,p=j.length,q=e+p*f,r=[q];for(k=0;p>k;k++){n=h[j[k]];var s=(n.length+3&-4)>>>0;q+=s,r.push(q)}var t=new Uint8Array(q);for(k=0;p>k;k++)n=h[j[k]],c(t,r[k],n);"true"===g&&(g=i.string32(65536)),t[0]=255&g.charCodeAt(0),t[1]=255&g.charCodeAt(1),t[2]=255&g.charCodeAt(2),t[3]=255&g.charCodeAt(3),a(t,4,p);var u=d.getSearchParams(p,16);for(a(t,6,u.range),a(t,8,u.entry),a(t,10,u.rangeShift),q=e,k=0;p>k;k++){o=j[k],t[q]=255&o.charCodeAt(0),t[q+1]=255&o.charCodeAt(1),t[q+2]=255&o.charCodeAt(2),t[q+3]=255&o.charCodeAt(3);var v=0;for(l=r[k],m=r[k+1];m>l;l+=4){var w=i.readUint32(t,l);v=v+w>>>0}b(t,q+4,v),b(t,q+8,r[k]),b(t,q+12,h[o].length),q+=f}return t},addTable:function(a,b){if(a in this.tables)throw new Error("Table "+a+" already exists");this.tables[a]=b}},d}(),C=new Int32Array([0,32,127,161,173,174,1536,1920,2208,4256,6016,6144,7168,7248,8192,8208,8209,8210,8232,8240,8287,8304,9676,9677,12288,12289,12644,12645,43616,43648,65520,65536]),D=function(){function a(a,b,c){var e;this.name=a,this.loadedName=c.loadedName,this.isType3Font=c.isType3Font,this.sizes=[],this.missingFile=!1,this.glyphCache=Object.create(null),this.isSerifFont=!!(c.flags&w.Serif),this.isSymbolicFont=!!(c.flags&w.Symbolic),this.isMonospace=!!(c.flags&w.FixedPitch);var g=c.type,h=c.subtype;if(this.type=g,this.subtype=h,this.fallbackName=this.isMonospace?"monospace":this.isSerifFont?"serif":"sans-serif",this.differences=c.differences,this.widths=c.widths,this.defaultWidth=c.defaultWidth,this.composite=c.composite,this.wideChars=c.wideChars,this.cMap=c.cMap,this.ascent=c.ascent/u,this.descent=c.descent/u,this.fontMatrix=c.fontMatrix,this.bbox=c.bbox,this.defaultEncoding=c.defaultEncoding,this.toUnicode=c.toUnicode,this.toFontChar=[],"Type3"===c.type){for(e=0;256>e;e++)this.toFontChar[e]=this.differences[e]||c.defaultEncoding[e];return void(this.fontType=i.FontType.TYPE3)}if(this.cidEncoding=c.cidEncoding,this.vertical=c.vertical,this.vertical&&(this.vmetrics=c.vmetrics,this.defaultVMetrics=c.defaultVMetrics),!b||b.isEmpty)return b&&i.warn('Font file is empty in "'+a+'" ('+this.loadedName+")"),void this.fallbackToSystemFont();"Type1C"===h&&("Type1"!==g&&"MMType1"!==g?H(b)?h="TrueType":g="Type1":I(b)&&(h="OpenType")),"CIDFontType0C"===h&&"CIDFontType0"!==g&&(g="CIDFontType0"),"CIDFontType0"===g&&(h=J(b)?"CIDFontType0":I(b)?"OpenType":"CIDFontType0C"),"OpenType"===h&&"OpenType"!==g&&(g="OpenType");try{var j;switch(g){case"MMType1":i.info("MMType1 font ("+a+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";var k="Type1C"===h||"CIDFontType0C"===h?new G(b,c):new F(a,b,c);d(c),j=this.convert(a,k,c);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",j=this.checkAndRepair(a,b,c),this.isOpenType&&(d(c),g="OpenType");break;default:throw new i.FormatError("Font "+g+" is not supported")}}catch(l){if(!(l instanceof i.FormatError))throw l;return i.warn(l),void this.fallbackToSystemFont()}this.data=j,this.fontType=f(g,h),this.fontMatrix=c.fontMatrix,this.widths=c.widths,this.defaultWidth=c.defaultWidth,this.toUnicode=c.toUnicode,this.encoding=c.baseEncoding,this.seacMap=c.seacMap,this.loading=!0}function b(a,b){return(a<<8)+b}function c(a,b,c){a[b+1]=c,a[b]=c>>>8}function h(a,b){var c=(a<<8)+b;return 32768&c?c-65536:c}function q(a,b,c,d){return(a<<24)+(b<<16)+(c<<8)+d}function D(a){return String.fromCharCode(a>>8&255,255&a)}function E(a){return a=a>32767?32767:-32768>a?-32768:a,String.fromCharCode(a>>8&255,255&a)}function H(a){var b=a.peekBytes(4);return 65536===i.readUint32(b,0)}function I(a){var b=a.peekBytes(4);return"OTTO"===i.bytesToString(b)}function J(a){var b=a.peekBytes(2);return 37===b[0]&&33===b[1]?!0:128===b[0]&&1===b[1]?!0:!1}function K(a,b,c){for(var d,e=[],f=0,g=a.length;g>f;f++)d=n.getUnicodeForGlyph(a[f],b),-1!==d&&(e[f]=d);for(var h in c)d=n.getUnicodeForGlyph(c[h],b),-1!==d&&(e[+h]=d);return e}function L(a){for(var b=0,c=C.length-1;c>b;){var d=b+c+1>>1;a<C[d]?c=d-1:b=d}return!(1&b)}function M(a,b,c){var d=b.toUnicode,e=!!(b.flags&w.Symbolic),f=b.toUnicode instanceof A,g=Object.create(null),h=[],j=[],k=r;for(var l in a){l|=0;var m=a[l];if(!c[m]){var n=l,o=!1;if(!f&&d.has(l)){o=!0;var p=d.get(n);1===p.length&&(n=p.charCodeAt(0))}if(void 0!==j[n]||L(n)||e&&!o)do{if(k>s){i.warn("Ran out of space in font private use area.");break}n=k++,t&&61440===n&&(n=61472,k=n+1)}while(void 0!==j[n]);g[n]=m,h[l]=n,j[n]=!0}}return{toFontChar:h,charCodeToGlyphId:g,nextAvailableFontCharCode:k}}function N(a,b){var c=[];for(var d in a)a[d]>=b||c.push({fontCharCode:0|d,glyphId:a[d]});0===c.length&&c.push({fontCharCode:0,glyphId:0}),c.sort(function(a,b){return a.fontCharCode-b.fontCharCode});for(var e=[],f=c.length,g=0;f>g;){var h=c[g].fontCharCode,i=[c[g].glyphId];++g;for(var j=h;f>g&&j+1===c[g].fontCharCode&&(i.push(c[g].glyphId),++j,++g,65535!==j););e.push([h,j,i])}return e}function O(a,b){var c,d,e,f,g=N(a,b),h=g[g.length-1][1]>65535?2:1,j="\x00\x00"+D(h)+"\x00\x00"+i.string32(4+8*h);for(c=g.length-1;c>=0&&!(g[c][0]<=65535);--c);var k=c+1;g[c][0]<65535&&65535===g[c][1]&&(g[c][1]=65534);var l,m,n,o,p=g[c][1]<65535?1:0,q=k+p,r=B.getSearchParams(q,2),s="",t="",u="",v="",w="",x=0;for(c=0,d=k;d>c;c++){l=g[c],m=l[0],n=l[1],s+=D(m),t+=D(n),o=l[2];var y=!0;for(e=1,f=o.length;f>e;++e)if(o[e]!==o[e-1]+1){y=!1;break}if(y){var z=o[0];u+=D(z-m&65535),v+=D(0)}else{var A=2*(q-c)+2*x;for(x+=n-m+1,u+=D(0),v+=D(A),e=0,f=o.length;f>e;++e)w+=D(o[e])}}p>0&&(t+="ÿÿ",s+="ÿÿ",u+="\x00",v+="\x00\x00");var C="\x00\x00"+D(2*q)+D(r.range)+D(r.entry)+D(r.rangeShift)+t+"\x00\x00"+s+u+v+w,E="",F="";if(h>1){for(j+="\x00\x00\n"+i.string32(4+8*h+4+C.length),E="",c=0,d=g.length;d>c;c++){l=g[c],m=l[0],o=l[2];var G=o[0];for(e=1,f=o.length;f>e;++e)o[e]!==o[e-1]+1&&(n=l[0]+e-1,E+=i.string32(m)+i.string32(n)+i.string32(G),m=n+1,G=o[e]);E+=i.string32(m)+i.string32(l[1])+i.string32(G)}F="\x00\f\x00\x00"+i.string32(E.length+16)+"\x00\x00\x00\x00"+i.string32(E.length/12)}return j+"\x00"+D(C.length+4)+C+F+E}function P(a){var b=new p.Stream(a.data),c=b.getUint16();b.getBytes(60);var d=b.getUint16();if(4>c&&768&d)return!1;var e=b.getUint16(),f=b.getUint16();if(e>f)return!1;b.getBytes(6);var g=b.getUint16();return 0===g?!1:(a.data[8]=a.data[9]=0,!0)}function Q(a,b,c){c=c||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var d=0,e=0,f=0,g=0,h=null,j=0;if(b)for(var k in b){k|=0,(h>k||!h)&&(h=k),k>j&&(j=k);var l=n.getUnicodeRangeFor(k);if(32>l)d|=1<<l;else if(64>l)e|=1<<l-32;else if(96>l)f|=1<<l-64;else{if(!(123>l))throw new i.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");g|=1<<l-96}}else h=0,j=255;var m=a.bbox||[0,0,0,0],o=c.unitsPerEm||1/(a.fontMatrix||i.FONT_IDENTITY_MATRIX)[0],p=a.ascentScaled?1:o/u,q=c.ascent||Math.round(p*(a.ascent||m[3])),r=c.descent||Math.round(p*(a.descent||m[1]));r>0&&a.descent>0&&m[1]<0&&(r=-r);var s=c.yMax||q,t=-c.yMin||-r;return"\x00$ô\x00\x00\x00»\x00\x00\x00»\x00\x00ß\x001\x00\x00\x00\x00"+String.fromCharCode(a.fixedPitch?9:0)+"\x00\x00\x00\x00\x00\x00"+i.string32(d)+i.string32(e)+i.string32(f)+i.string32(g)+"*21*"+D(a.italicAngle?1:0)+D(h||a.firstChar)+D(j||a.lastChar)+D(q)+D(r)+"\x00d"+D(s)+D(t)+"\x00\x00\x00\x00\x00\x00\x00\x00"+D(a.xHeight)+D(a.capHeight)+D(0)+D(h||a.firstChar)+"\x00"}function R(a){var b=Math.floor(a.italicAngle*Math.pow(2,16));return"\x00\x00\x00"+i.string32(b)+"\x00\x00\x00\x00"+i.string32(a.fixedPitch)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"}function S(a,b){b||(b=[[],[]]);var c,d,e,f,g,h=[b[0][0]||"Original licence",b[0][1]||a,b[0][2]||"Unknown",b[0][3]||"uniqueID",b[0][4]||a,b[0][5]||"Version 0.11",b[0][6]||"",b[0][7]||"Unknown",b[0][8]||"Unknown",b[0][9]||"Unknown"],i=[];for(c=0,d=h.length;d>c;c++){g=b[1][c]||h[c];var j=[];for(e=0,f=g.length;f>e;e++)j.push(D(g.charCodeAt(e)));i.push(j.join(""))}var k=[h,i],l=["\x00","\x00"],m=["\x00\x00","\x00"],n=["\x00\x00","	"],o=h.length*l.length,p="\x00\x00"+D(o)+D(12*o+6),q=0;for(c=0,d=l.length;d>c;c++){var r=k[c];for(e=0,f=r.length;f>e;e++){g=r[e];var s=l[c]+m[c]+n[c]+D(e)+D(g.length)+D(q);p+=s,q+=g.length}}return p+=h.join("")+i.join("")}return a.getFontID=function(){var a=1;return function(){return String(a++)}}(),a.prototype={name:null,font:null,mimetype:null,encoding:null,get renderer(){var a=o.FontRendererFactory.create(this,v);return i.shadow(this,"renderer",a)},exportData:function(){var a={};for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},fallbackToSystemFont:function(){var a=this;this.missingFile=!0;var b,c,d=this.name,e=this.type,g=this.subtype,h=d.replace(/[,_]/g,"-"),j=m.getStdFontMap(),o=m.getNonStdFontMap(),p=!!j[h]||!(!o[h]||!j[o[h]]);if(h=j[h]||o[h]||h,this.bold=-1!==h.search(/bold/gi),this.italic=-1!==h.search(/oblique/gi)||-1!==h.search(/italic/gi),this.black=-1!==d.search(/Black/g),this.remeasure=Object.keys(this.widths).length>0,p&&"CIDFontType2"===e&&0===this.cidEncoding.indexOf("Identity-")){var q=m.getGlyphMapForStandardFonts(),r=[];for(b in q)r[+b]=q[b];if(/Arial-?Black/i.test(d)){var s=m.getSupplementalGlyphMapForArialBlack();for(b in s)r[+b]=s[b]}var t=this.toUnicode instanceof A;t||this.toUnicode.forEach(function(a,b){r[+a]=b}),this.toFontChar=r,this.toUnicode=new z(r)}else if(/Symbol/i.test(h))this.toFontChar=K(l.SymbolSetEncoding,k.getGlyphsUnicode(),this.differences);else if(/Dingbats/i.test(h))/Wingdings/i.test(d)&&i.warn("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=K(l.ZapfDingbatsEncoding,k.getDingbatsGlyphsUnicode(),this.differences);else if(p)this.toFontChar=K(this.defaultEncoding,k.getGlyphsUnicode(),this.differences);else{var u=k.getGlyphsUnicode();this.toUnicode.forEach(function(b,d){if(!a.composite){var e=a.differences[b]||a.defaultEncoding[b];c=n.getUnicodeForGlyph(e,u),-1!==c&&(d=c)}a.toFontChar[b]=d})}this.loadedName=h.split("-")[0],this.loading=!1,this.fontType=f(e,g)},checkAndRepair:function(a,e,f){function m(a){var b=i.bytesToString(a.getBytes(4)),c=a.getInt32()>>>0,d=a.getInt32()>>>0,e=a.getInt32()>>>0,f=a.pos;a.pos=a.start?a.start:0,a.skip(d);var g=a.getBytes(e);return a.pos=f,"head"===b&&(g[8]=g[9]=g[10]=g[11]=0,g[17]|=32),{tag:b,checksum:c,length:e,offset:d,data:g}}function n(a){return{version:i.bytesToString(a.getBytes(4)),numTables:a.getUint16(),searchRange:a.getUint16(),entrySelector:a.getUint16(),rangeShift:a.getUint16()}}function o(a,b,c,d){if(!a)return i.warn("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var e,f=(b.start?b.start:0)+a.offset;b.pos=f,b.getUint16();for(var g,h=b.getUint16(),j=!1,k=0;h>k;k++){var l=b.getUint16(),m=b.getUint16(),n=b.getInt32()>>>0,o=!1;if((!g||g.platformId!==l||g.encodingId!==m)&&(0===l&&0===m?o=!0:1===l&&0===m?o=!0:3!==l||1!==m||!d&&g?c&&3===l&&0===m&&(o=!0,
j=!0):(o=!0,c||(j=!0)),o&&(g={platformId:l,encodingId:m,offset:n}),j))break}if(g&&(b.pos=f+g.offset),!g||-1===b.peekByte())return i.warn("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var p=b.getUint16();b.getUint16(),b.getUint16();var q,r,s=!1,t=[];if(0===p){for(q=0;256>q;q++){var u=b.getByte();u&&t.push({charCode:q,glyphId:u})}s=!0}else if(4===p){var v=b.getUint16()>>1;b.getBytes(6);var w,x=[];for(w=0;v>w;w++)x.push({end:b.getUint16()});for(b.getUint16(),w=0;v>w;w++)x[w].start=b.getUint16();for(w=0;v>w;w++)x[w].delta=b.getUint16();var y=0;for(w=0;v>w;w++){e=x[w];var z=b.getUint16();if(z){var A=(z>>1)-(v-w);e.offsetIndex=A,y=Math.max(y,A+e.end-e.start+1)}else e.offsetIndex=-1}var B=[];for(q=0;y>q;q++)B.push(b.getUint16());for(w=0;v>w;w++){e=x[w],f=e.start;var C=e.end,D=e.delta;for(A=e.offsetIndex,q=f;C>=q;q++)65535!==q&&(r=0>A?q:B[A+q-f],r=r+D&65535,t.push({charCode:q,glyphId:r}))}}else{if(6!==p)return i.warn("cmap table has unsupported format: "+p),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};var E=b.getUint16(),F=b.getUint16();for(q=0;F>q;q++){r=b.getUint16();var G=E+q;t.push({charCode:G,glyphId:r})}}for(t.sort(function(a,b){return a.charCode-b.charCode}),k=1;k<t.length;k++)t[k-1].charCode===t[k].charCode&&(t.splice(k,1),k--);return{platformId:g.platformId,encodingId:g.encodingId,mappings:t,hasShortCmap:s}}function r(a,b,c,d){if(!b)return void(c&&(c.data=null));a.pos=(a.start?a.start:0)+b.offset,a.pos+=b.length-2;var e=a.getUint16();e>d&&(i.info("The numOfMetrics ("+e+") should not be greater than the numGlyphs ("+d+")"),e=d,b.data[34]=(65280&e)>>8,b.data[35]=255&e);var f=d-e,g=f-(c.length-4*e>>1);if(g>0){var h=new Uint8Array(c.length+2*g);h.set(c.data),c.data=h}}function s(a,b,d,e,f,g){var i={length:0,sizeOfInstructions:0};if(12>=d-b)return i;var j=a.subarray(b,d),k=h(j[0],j[1]);if(0>k)return k=-1,c(j,0,k),e.set(j,f),i.length=j.length,i;var l,m=10,n=0;for(l=0;k>l;l++){var o=j[m]<<8|j[m+1];n=o+1,m+=2}var p=m,q=j[m]<<8|j[m+1];i.sizeOfInstructions=q,m+=2+q;var r=m,s=0;for(l=0;n>l;l++){var t=j[m++];192&t&&(j[m-1]=63&t);var u=(2&t?1:16&t?0:2)+(4&t?1:32&t?0:2);if(s+=u,8&t){var v=j[m++];l+=v,s+=v*u}}if(0===s)return i;var w=m+s;return w>j.length?i:!g&&q>0?(e.set(j.subarray(0,p),f),e.set([0,0],f+p),e.set(j.subarray(r,w),f+p+2),w-=q,j.length-w>3&&(w=w+3&-4),i.length=w,i):j.length-w>3?(w=w+3&-4,e.set(j.subarray(0,w),f),i.length=w,i):(e.set(j,f),i.length=j.length,i)}function t(a,c,d){var e=a.data,f=q(e[0],e[1],e[2],e[3]);f>>16!==1&&(i.info("Attempting to fix invalid version in head table: "+f),e[0]=0,e[1]=1,e[2]=0,e[3]=0);var g=b(e[50],e[51]);if(0>g||g>1){i.info("Attempting to fix invalid indexToLocFormat in head table: "+g);var h=c+1;if(d===h<<1)e[50]=0,e[51]=0;else{if(d!==h<<2)throw new i.FormatError("Could not fix indexToLocFormat: "+g);e[50]=0,e[51]=1}}}function u(a,b,c,d,e,f,g){var h,i,j;d?(h=4,i=function(a,b){return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]},j=function(a,b,c){a[b]=c>>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=255&c}):(h=2,i=function(a,b){return a[b]<<9|a[b+1]<<1},j=function(a,b,c){a[b]=c>>9&255,a[b+1]=c>>1&255});var k=a.data,l=h*(1+c);k.length!==l&&(k=new Uint8Array(l),k.set(a.data.subarray(0,l)),a.data=k);var m=b.data,n=m.length,o=new Uint8Array(n),p=i(k,0),q=0,r=Object.create(null);j(k,0,q);var t,u,v=f?c-1:c;for(t=0,u=h;v>t;t++,u+=h){var w=i(k,u);w>n&&(n+3&-4)===w&&(w=n),w>n&&(p=w);var x=s(m,p,w,o,q,e),y=x.length;0===y&&(r[t]=!0),x.sizeOfInstructions>g&&(g=x.sizeOfInstructions),q+=y,j(k,u,q),p=w}if(0===q){var z=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(t=0,u=h;c>t;t++,u+=h)j(k,u,z.length);b.data=z}else if(f){var A=i(k,h);o.length>A+q?b.data=o.subarray(0,A+q):(b.data=new Uint8Array(A+q),b.data.set(o.subarray(0,q))),b.data.set(o.subarray(0,A),q),j(a.data,k.length-h,q+A)}else b.data=o.subarray(0,q);return{missingGlyphs:r,maxSizeOfInstructions:g}}function w(a,b,c){var d=(e.start?e.start:0)+a.offset;e.pos=d;var f=a.length,g=d+f,h=e.getInt32();e.getBytes(28);var j,k,l=!0;switch(h){case 65536:j=x;break;case 131072:var m=e.getUint16();if(m!==c){l=!1;break}var n=[];for(k=0;m>k;++k){var o=e.getUint16();if(o>=32768){l=!1;break}n.push(o)}if(!l)break;for(var p=[],q=[];e.pos<g;){var r=e.getByte();for(q.length=r,k=0;r>k;++k)q[k]=String.fromCharCode(e.getByte());p.push(q.join(""))}for(j=[],k=0;m>k;++k){var s=n[k];258>s?j.push(x[s]):j.push(p[s-258])}break;case 196608:break;default:i.warn("Unknown/unsupported post table version "+h),l=!1,b.defaultEncoding&&(j=b.defaultEncoding)}return b.glyphNames=j,l}function y(a){var b=(e.start?e.start:0)+a.offset;e.pos=b;var c=[[],[]],d=a.length,f=b+d,g=e.getUint16(),h=6;if(0!==g||h>d)return c;var j,k,l=e.getUint16(),m=e.getUint16(),n=[],o=12;for(j=0;l>j&&e.pos+o<=f;j++){var p={platform:e.getUint16(),encoding:e.getUint16(),language:e.getUint16(),name:e.getUint16(),length:e.getUint16(),offset:e.getUint16()};(1===p.platform&&0===p.encoding&&0===p.language||3===p.platform&&1===p.encoding&&1033===p.language)&&n.push(p)}for(j=0,k=n.length;k>j;j++){var q=n[j];if(!(q.length<=0)){var r=b+m+q.offset;if(!(r+q.length>f)){e.pos=r;var s=q.name;if(q.encoding){for(var t="",u=0,v=q.length;v>u;u+=2)t+=String.fromCharCode(e.getUint16());c[1][s]=t}else c[0][s]=i.bytesToString(e.getBytes(q.length))}}}return c}function z(a,b){for(var c,d,e,f,g,h=a.data,j=0,k=0,l=0,m=[],n=[],o=[],p=b.tooComplexToFollowFunctions,q=!1,r=0,s=0,t=h.length;t>j;){var u=h[j++];if(64===u)if(d=h[j++],q||s)j+=d;else for(c=0;d>c;c++)m.push(h[j++]);else if(65===u)if(d=h[j++],q||s)j+=2*d;else for(c=0;d>c;c++)e=h[j++],m.push(e<<8|h[j++]);else if(176===(248&u))if(d=u-176+1,q||s)j+=d;else for(c=0;d>c;c++)m.push(h[j++]);else if(184===(248&u))if(d=u-184+1,q||s)j+=2*d;else for(c=0;d>c;c++)e=h[j++],m.push(e<<8|h[j++]);else if(43!==u||p)if(44!==u||p){if(45===u)if(q)q=!1,k=j;else{if(g=n.pop(),!g)return i.warn("TT: ENDF bad stack"),void(b.hintsValid=!1);f=o.pop(),h=g.data,j=g.i,b.functionsStackDeltas[f]=m.length-g.stackTop}else if(137===u)(q||s)&&(i.warn("TT: nested IDEFs not allowed"),p=!0),q=!0,l=j;else if(88===u)++r;else if(27===u)s=r;else if(89===u)s===r&&(s=0),--r;else if(28===u&&!q&&!s){var v=m[m.length-1];v>0&&(j+=v-1)}}else(q||s)&&(i.warn("TT: nested FDEFs not allowed"),p=!0),q=!0,l=j,f=m.pop(),b.functionsDefined[f]={data:h,i:j};else if(!q&&!s)if(f=m[m.length-1],b.functionsUsed[f]=!0,f in b.functionsStackDeltas)m.length+=b.functionsStackDeltas[f];else if(f in b.functionsDefined&&o.indexOf(f)<0){if(n.push({data:h,i:j,stackTop:m.length-1}),o.push(f),g=b.functionsDefined[f],!g)return i.warn("TT: CALL non-existent function"),void(b.hintsValid=!1);h=g.data,j=g.i}if(!q&&!s){var w=142>=u?F[u]:u>=192&&223>=u?-1:u>=224?-2:0;for(u>=113&&117>=u&&(d=m.pop(),isNaN(d)||(w=2*-d));0>w&&m.length>0;)m.pop(),w++;for(;w>0;)m.push(NaN),w--}}b.tooComplexToFollowFunctions=p;var x=[h];j>h.length&&x.push(new Uint8Array(j-h.length)),l>k&&(i.warn("TT: complementing a missing function tail"),x.push(new Uint8Array([34,45]))),C(a,x)}function A(a,b){if(!a.tooComplexToFollowFunctions){if(a.functionsDefined.length>b)return i.warn("TT: more functions defined than expected"),void(a.hintsValid=!1);for(var c=0,d=a.functionsUsed.length;d>c;c++){if(c>b)return i.warn("TT: invalid function id: "+c),void(a.hintsValid=!1);if(a.functionsUsed[c]&&!a.functionsDefined[c])return i.warn("TT: undefined function: "+c),void(a.hintsValid=!1)}}}function C(a,b){if(b.length>1){var c,d,e=0;for(c=0,d=b.length;d>c;c++)e+=b[c].length;e=e+3&-4;var f=new Uint8Array(e),g=0;for(c=0,d=b.length;d>c;c++)f.set(b[c],g),g+=b[c].length;a.data=f,a.length=e}}function D(a,b,c,d){var e={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(a&&z(a,e),b&&z(b,e),a&&A(e,d),c&&1&c.length){var f=new Uint8Array(c.length+1);f.set(c.data),c.data=f}return e.hintsValid}function E(a){return!ba[a]}var F=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];e=new p.Stream(new Uint8Array(e.getBytes()));var H,I,J=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "],K=n(e),L=K.numTables,N=Object.create(null);N["OS/2"]=null,N.cmap=null,N.head=null,N.hhea=null,N.hmtx=null,N.maxp=null,N.name=null,N.post=null;for(var T,U=0;L>U;U++)T=m(e),J.indexOf(T.tag)<0||0!==T.length&&(N[T.tag]=T);var V=!N["CFF "];if(V){if(!N.loca)throw new i.FormatError('Required "loca" table is not found');N.glyf||(i.warn('Required "glyf" table is not found -- trying to recover.'),N.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{if(!(("OTTO"!==K.version||f.composite&&f.cidToGidMap)&&N.head&&N.hhea&&N.maxp&&N.post))return I=new p.Stream(N["CFF "].data),H=new G(I,f),d(f),this.convert(a,H,f);delete N.glyf,delete N.loca,delete N.fpgm,delete N.prep,delete N["cvt "],this.isOpenType=!0}if(!N.maxp)throw new i.FormatError('Required "maxp" table is not found');e.pos=(e.start||0)+N.maxp.offset;var W=e.getInt32(),X=e.getUint16(),Y=0,Z=0;if(W>=65536&&N.maxp.length>=22){e.pos+=8;var $=e.getUint16();$>2&&(N.maxp.data[14]=0,N.maxp.data[15]=2),e.pos+=4,Y=e.getUint16(),e.pos+=6,Z=e.getUint16()}var _=!1;"CIDFontType2"===f.type&&f.toUnicode&&f.toUnicode.get(0)>"\x00"&&(_=!0,X++,N.maxp.data[4]=X>>8,N.maxp.data[5]=255&X);var aa=D(N.fpgm,N.prep,N["cvt "],Y);if(aa||(delete N.fpgm,delete N.prep,delete N["cvt "]),r(e,N.hhea,N.hmtx,X),!N.head)throw new i.FormatError('Required "head" table is not found');t(N.head,X,V?N.loca.length:0);var ba=Object.create(null);if(V){var ca=b(N.head.data[50],N.head.data[51]),da=u(N.loca,N.glyf,X,ca,aa,_,Z);ba=da.missingGlyphs,W>=65536&&N.maxp.length>=22&&(N.maxp.data[26]=da.maxSizeOfInstructions>>8,N.maxp.data[27]=255&da.maxSizeOfInstructions)}if(!N.hhea)throw new i.FormatError('Required "hhea" table is not found');0===N.hhea.data[10]&&0===N.hhea.data[11]&&(N.hhea.data[10]=255,N.hhea.data[11]=255);var ea={unitsPerEm:b(N.head.data[18],N.head.data[19]),yMax:b(N.head.data[42],N.head.data[43]),yMin:h(N.head.data[38],N.head.data[39]),ascent:b(N.hhea.data[4],N.hhea.data[5]),descent:h(N.hhea.data[6],N.hhea.data[7])};if(this.ascent=ea.ascent/ea.unitsPerEm,this.descent=ea.descent/ea.unitsPerEm,N.post){var fa=w(N.post,f,X);fa||(N.post=null)}var ga,ha=[];if(f.composite){var ia=f.cidToGidMap||[],ja=0===ia.length;f.cMap.forEach(function(a,b){if(b>65535)throw new i.FormatError("Max size of CID is 65,535");var c=-1;ja?c=b:void 0!==ia[b]&&(c=ia[b]),c>=0&&X>c&&E(c)&&(ha[a]=c)}),!_||!ja&&ha[0]||(ha[0]=X-1)}else{var ka=o(N.cmap,e,this.isSymbolicFont,f.hasEncoding),la=ka.platformId,ma=ka.encodingId,na=ka.mappings,oa=na.length;if(f.hasEncoding&&(3===la&&1===ma||1===la&&0===ma)||-1===la&&-1===ma&&l.getEncoding(f.baseEncodingName)){var pa=[];("MacRomanEncoding"===f.baseEncodingName||"WinAnsiEncoding"===f.baseEncodingName)&&(pa=l.getEncoding(f.baseEncodingName));var qa=k.getGlyphsUnicode();for(ga=0;256>ga;ga++){var ra,sa;if(ra=this.differences&&ga in this.differences?this.differences[ga]:ga in pa&&""!==pa[ga]?pa[ga]:l.StandardEncoding[ga]){sa=g(ra,qa);var ta;3===la&&1===ma?ta=qa[sa]:1===la&&0===ma&&(ta=l.MacRomanEncoding.indexOf(sa));var ua=!1;for(U=0;oa>U;++U)if(na[U].charCode===ta){ha[ga]=na[U].glyphId,ua=!0;break}if(!ua&&f.glyphNames){var va=f.glyphNames.indexOf(ra);-1===va&&sa!==ra&&(va=f.glyphNames.indexOf(sa)),va>0&&E(va)&&(ha[ga]=va,ua=!0)}}}}else if(0===la&&0===ma)for(U=0;oa>U;++U)ha[na[U].charCode]=na[U].glyphId;else for(U=0;oa>U;++U)ga=na[U].charCode,3===la&&ga>=61440&&61695>=ga&&(ga&=255),ha[ga]=na[U].glyphId}0===ha.length&&(ha[0]=0);var wa=M(ha,f,ba);if(this.toFontChar=wa.toFontChar,N.cmap={tag:"cmap",data:O(wa.charCodeToGlyphId,X)},N["OS/2"]&&P(N["OS/2"])||(N["OS/2"]={tag:"OS/2",data:Q(f,wa.charCodeToGlyphId,ea)}),N.post||(N.post={tag:"post",data:R(f)}),!V)try{I=new p.Stream(N["CFF "].data);var xa=new j.CFFParser(I,f,v);H=xa.parse();var ya=new j.CFFCompiler(H);N["CFF "].data=ya.compile()}catch(za){i.warn("Failed to compile font "+f.loadedName)}if(N.name){var Aa=y(N.name);N.name.data=S(a,Aa)}else N.name={tag:"name",data:S(this.name)};var Ba=new B(K.version);for(var Ca in N)Ba.addTable(Ca,N[Ca].data);return Ba.toArray()},convert:function(a,b,c){function d(a,b){var c=null;for(var d in a)b===a[d]&&(c||(c=[]),c.push(0|d));return c}function f(a,b){for(var c in a)if(b===a[c])return 0|c;return h.charCodeToGlyphId[h.nextAvailableFontCharCode]=b,h.nextAvailableFontCharCode++}c.fixedPitch=!1,c.builtInEncoding&&e(c,c.builtInEncoding);var g=b.getGlyphMapping(c),h=M(g,c,Object.create(null));this.toFontChar=h.toFontChar;var j=b.numGlyphs,k=b.seacs;if(v&&k&&k.length){var m=c.fontMatrix||i.FONT_IDENTITY_MATRIX,n=b.getCharset(),o=Object.create(null);for(var p in k){p|=0;var q=k[p],r=l.StandardEncoding[q[2]],s=l.StandardEncoding[q[3]],t=n.indexOf(r),u=n.indexOf(s);if(!(0>t||0>u)){var w={x:q[0]*m[0]+q[1]*m[2]+m[4],y:q[0]*m[1]+q[1]*m[3]+m[5]},x=d(g,p);if(x)for(var y=0,z=x.length;z>y;y++){var A=x[y],C=h.charCodeToGlyphId,F=f(C,t),G=f(C,u);o[A]={baseFontCharCode:F,accentFontCharCode:G,accentOffset:w}}}}c.seacMap=o}var H=1/(c.fontMatrix||i.FONT_IDENTITY_MATRIX)[0],I=new B("OTTO");return I.addTable("CFF ",b.data),I.addTable("OS/2",Q(c,h.charCodeToGlyphId)),I.addTable("cmap",O(h.charCodeToGlyphId,j)),I.addTable("head","\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00_<õ\x00\x00"+E(H)+"\x00\x00\x00\x00~'\x00\x00\x00\x00~'\x00\x00"+E(c.descent)+"ÿ"+E(c.ascent)+D(c.italicAngle?2:0)+"\x00\x00\x00\x00\x00\x00\x00"),I.addTable("hhea","\x00\x00\x00"+E(c.ascent)+E(c.descent)+"\x00\x00ÿÿ\x00\x00\x00\x00\x00\x00"+E(c.capHeight)+E(Math.tan(c.italicAngle)*c.xHeight)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"+D(j)),I.addTable("hmtx",function(){for(var a=b.charstrings,c=b.cff?b.cff.widths:null,d="\x00\x00\x00\x00",e=1,f=j;f>e;e++){var g=0;if(a){var h=a[e-1];g="width"in h?h.width:0}else c&&(g=Math.ceil(c[e]||0));d+=D(g)+D(0)}return d}()),I.addTable("maxp","\x00\x00P\x00"+D(j)),I.addTable("name",S(a)),I.addTable("post",R(c)),I.toArray()},get spaceWidth(){if("_shadowWidth"in this)return this._shadowWidth;for(var a,b=["space","minus","one","i","I"],c=0,d=b.length;d>c;c++){var e=b[c];if(e in this.widths){a=this.widths[e];break}var f=k.getGlyphsUnicode(),g=f[e],h=0;if(this.composite&&this.cMap.contains(g)&&(h=this.cMap.lookup(g)),!h&&this.toUnicode&&(h=this.toUnicode.charCodeOf(g)),0>=h&&(h=g),a=this.widths[h])break}return a=a||this.defaultWidth,this._shadowWidth=a,a},charToGlyph:function(a,b){var c,d,e,f=a;this.cMap&&this.cMap.contains(a)&&(f=this.cMap.lookup(a)),d=this.widths[f],d=i.isNum(d)?d:this.defaultWidth;var g=this.vmetrics&&this.vmetrics[f],h=this.toUnicode.get(a)||a;"number"==typeof h&&(h=String.fromCharCode(h));var j=a in this.toFontChar;c=this.toFontChar[a]||a,this.missingFile&&(c=n.mapSpecialUnicodeValues(c)),this.isType3Font&&(e=c);var k=null;if(this.seacMap&&this.seacMap[a]){j=!0;var l=this.seacMap[a];c=l.baseFontCharCode,k={fontChar:String.fromCharCode(l.accentFontCharCode),offset:l.accentOffset}}var m=String.fromCharCode(c),o=this.glyphCache[a];return o&&o.matchesForCache(m,h,k,d,g,e,b,j)||(o=new y(m,h,k,d,g,e,b,j),this.glyphCache[a]=o),o},charsToGlyphs:function(a){var b,c,d,e=this.charsCache;if(e&&(b=e[a]))return b;e||(e=this.charsCache=Object.create(null)),b=[];var f,g=a,h=0;if(this.cMap)for(var i=Object.create(null);h<a.length;){this.cMap.readCharCode(a,h,i),d=i.charcode;var j=i.length;h+=j;var k=1===j&&32===a.charCodeAt(h-1);c=this.charToGlyph(d,k),b.push(c)}else for(h=0,f=a.length;f>h;++h)d=a.charCodeAt(h),c=this.charToGlyph(d,32===d),b.push(c);return e[g]=b}},a}(),E=function(){function a(a){this.error=a,this.loadedName="g_font_error",this.loading=!1}return a.prototype={charsToGlyphs:function(){return[]},exportData:function(){return{error:this.error}}},a}(),F=function(){function a(a,b,c){for(var d,e=a.length,f=b.length,g=e-f,h=c,j=!1;g>h;){for(d=0;f>d&&a[h+d]===b[d];)d++;if(d>=f){for(h+=d;e>h&&i.isSpace(a[h]);)h++;j=!0;break}h++}return{found:j,length:h}}function b(b,c){var d,e,f,g=[101,101,120,101,99],h=b.pos;try{d=b.getBytes(c),e=d.length}catch(j){if(j instanceof i.MissingDataException)throw j}if(e===c&&(f=a(d,g,c-2*g.length),f.found&&f.length===c))return{stream:new p.Stream(d),length:c};i.warn('Invalid "Length1" property in Type1 font -- trying to recover.'),b.pos=h;for(var k,l=2048;;){var m=b.peekBytes(l);if(f=a(m,g,0),0===f.length)break;if(b.pos+=f.length,f.found){k=b.pos-h;break}}return b.pos=h,k?{stream:new p.Stream(b.getBytes(k)),length:k}:(i.warn('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new p.Stream(b.getBytes(c)),length:c})}function c(a,b){var c=a.getBytes();return{stream:new p.Stream(c),length:c.length}}function d(a,d,e){var f=6,g=e.length1,h=e.length2,i=d.peekBytes(f),j=128===i[0]&&1===i[1];j&&(d.skip(f),g=i[5]<<24|i[4]<<16|i[3]<<8|i[2]);var k=b(d,g);g=k.length;var l=new q.Type1Parser(k.stream,!1,v);l.extractFontHeader(e),j&&(i=d.getBytes(f),h=i[5]<<24|i[4]<<16|i[3]<<8|i[2]);var m=c(d,h);h=m.length;var n=new q.Type1Parser(m.stream,!0,v),o=n.extractFontProgram();for(var p in o.properties)e[p]=o.properties[p];var r=o.charstrings,s=this.getType2Charstrings(r),t=this.getType2Subrs(o.subrs);this.charstrings=r,this.data=this.wrap(a,s,this.charstrings,t,e),this.seacs=this.getSeacs(o.charstrings)}return d.prototype={get numGlyphs(){return this.charstrings.length+1},getCharset:function(){for(var a=[".notdef"],b=this.charstrings,c=0;c<b.length;c++)a.push(b[c].glyphName);return a},getGlyphMapping:function(a){var b,c=this.charstrings,d=[".notdef"];for(b=0;b<c.length;b++)d.push(c[b].glyphName);var e=a.builtInEncoding;if(e){var f=Object.create(null);for(var g in e)b=d.indexOf(e[g]),b>=0&&(f[g]=b)}return h(a,f,d)},getSeacs:function(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++){var e=a[b];e.seac&&(d[b+1]=e.seac)}return d},getType2Charstrings:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c].charstring);return b},getType2Subrs:function(a){var b=0,c=a.length;b=1133>c?107:33769>c?1131:32768;var d,e=[];for(d=0;b>d;d++)e.push([11]);for(d=0;c>d;d++)e.push(a[d]);return e},wrap:function(a,b,c,d,e){var f=new j.CFF;f.header=new j.CFFHeader(1,0,4,4),f.names=[a];var g=new j.CFFTopDict;g.setByName("version",391),g.setByName("Notice",392),g.setByName("FullName",393),g.setByName("FamilyName",394),g.setByName("Weight",395),g.setByName("Encoding",null),g.setByName("FontMatrix",e.fontMatrix),g.setByName("FontBBox",e.bbox),g.setByName("charset",null),g.setByName("CharStrings",null),g.setByName("Private",null),f.topDict=g;var h=new j.CFFStrings;h.add("Version 0.11"),h.add("See original notice"),h.add(a),h.add(a),h.add("Medium"),f.strings=h,f.globalSubrIndex=new j.CFFIndex;var i,k,l=b.length,m=[0];for(i=0;l>i;i++){var n=j.CFFStandardStrings.indexOf(c[i].glyphName);-1===n&&(n=0),m.push(n>>8&255,255&n)}f.charset=new j.CFFCharset(!1,0,[],m);var o=new j.CFFIndex;for(o.add([139,14]),i=0;l>i;i++){var p=b[i];0!==p.length?o.add(p):o.add([139,14])}f.charStrings=o;var q=new j.CFFPrivateDict;q.setByName("Subrs",null);var r=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(i=0,k=r.length;k>i;i++){var s=r[i];if(s in e.privateData){var t=e.privateData[s];if(Array.isArray(t))for(var u=t.length-1;u>0;u--)t[u]-=t[u-1];q.setByName(s,t)}}f.topDict.privateDict=q;var v=new j.CFFIndex;for(i=0,k=d.length;k>i;i++)v.add(d[i]);q.subrsIndex=v;var w=new j.CFFCompiler(f);return w.compile()}},d}(),G=function(){function a(a,b){this.properties=b;var c=new j.CFFParser(a,b,v);this.cff=c.parse();var d=new j.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=d.compile()}catch(e){i.warn("Failed to compile font "+b.loadedName),this.data=a}}return a.prototype={get numGlyphs(){return this.cff.charStrings.count},getCharset:function(){return this.cff.charset.charset},getGlyphMapping:function(){var a,b,c=this.cff,d=this.properties,e=c.charset.charset;if(d.composite){if(a=Object.create(null),c.isCIDFont)for(b=0;b<e.length;b++){var f=e[b],g=d.cMap.charCodeOf(f);a[g]=b}else for(b=0;b<c.charStrings.count;b++)a[b]=b;return a}var i=c.encoding?c.encoding.encoding:null;return a=h(d,i,e)}},a}();!function(){"undefined"!=typeof navigator&&/Windows/.test(navigator.userAgent)&&(b.SEAC_ANALYSIS_ENABLED=v=!0)}(),function(){"undefined"!=typeof navigator&&/Windows.*Chrome/.test(navigator.userAgent)&&(t=!0)}(),b.SEAC_ANALYSIS_ENABLED=v,b.PRIVATE_USE_OFFSET_START=r,b.PRIVATE_USE_OFFSET_END=s,b.ErrorFont=E,b.Font=D,b.FontFlags=w,b.ToUnicodeMap=z,b.IdentityToUnicodeMap=A,b.ProblematicCharRanges=C,b.getFontType=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],e=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],f=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];b.ISOAdobeCharset=d,b.ExpertCharset=e,b.ExpertSubsetCharset=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FontRendererFactory=void 0;var d=c(0),e=c(78),f=c(47),g=c(28),h=c(5),i=function(){function a(a,b){return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}function b(a,b){return a[b]<<8|a[b+1]}function c(c,e,f){var g,h,i,j=1===b(c,e+2)?a(c,e+8):a(c,e+16),k=b(c,e+j);if(4===k){b(c,e+j+2);var l=b(c,e+j+6)>>1;for(h=e+j+14,g=[],i=0;l>i;i++,h+=2)g[i]={end:b(c,h)};for(h+=2,i=0;l>i;i++,h+=2)g[i].start=b(c,h);for(i=0;l>i;i++,h+=2)g[i].idDelta=b(c,h);for(i=0;l>i;i++,h+=2){var m=b(c,h);if(0!==m){g[i].ids=[];for(var n=0,o=g[i].end-g[i].start+1;o>n;n++)g[i].ids[n]=b(c,h+m),m+=2}}return g}if(12===k){a(c,e+j+4);var p=a(c,e+j+12);for(h=e+j+16,g=[],i=0;p>i;i++)g.push({start:a(c,h),end:a(c,h+4),idDelta:a(c,h+8)-a(c,h)}),h+=12;return g}throw new d.FormatError("unsupported cmap: "+k)}function i(a,b,c,d){var f={},g=new e.CFFParser(new h.Stream(a,b,c-b),f,d),i=g.parse();return{glyphs:i.charStrings.objects,subrs:i.topDict.privateDict&&i.topDict.privateDict.subrsIndex&&i.topDict.privateDict.subrsIndex.objects,gsubrs:i.globalSubrIndex&&i.globalSubrIndex.objects}}function j(a,b,c){var d,e;c?(d=4,e=function(a,b){return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}):(d=2,e=function(a,b){return a[b]<<9|a[b+1]<<1});for(var f=[],g=e(b,0),h=d;h<b.length;h+=d){var i=e(b,h);f.push(a.subarray(g,i)),g=i}return f}function k(a,b){for(var c=b.charCodeAt(0),d=0,e=0,f=a.length-1;f>e;){var g=e+f+1>>1;c<a[g].start?f=g-1:e=g}return a[e].start<=c&&c<=a[e].end&&(d=a[e].idDelta+(a[e].ids?a[e].ids[c-a[e].start]:c)&65535),{charCode:c,glyphId:d}}function l(a,b,c){function d(a,c){b.push({cmd:"moveTo",args:[a,c]})}function e(a,c){b.push({cmd:"lineTo",args:[a,c]})}function f(a,c,d,e){b.push({cmd:"quadraticCurveTo",args:[a,c,d,e]})}var g,h=0,i=(a[h]<<24|a[h+1]<<16)>>16,j=0,k=0;if(h+=10,0>i){do{g=a[h]<<8|a[h+1];var m=a[h+2]<<8|a[h+3];h+=4;var n,o;1&g?(n=(a[h]<<24|a[h+1]<<16)>>16,o=(a[h+2]<<24|a[h+3]<<16)>>16,h+=4):(n=a[h++],o=a[h++]),2&g?(j=n,k=o):(j=0,k=0);var p=1,q=1,r=0,s=0;8&g?(p=q=(a[h]<<24|a[h+1]<<16)/1073741824,h+=2):64&g?(p=(a[h]<<24|a[h+1]<<16)/1073741824,q=(a[h+2]<<24|a[h+3]<<16)/1073741824,h+=4):128&g&&(p=(a[h]<<24|a[h+1]<<16)/1073741824,r=(a[h+2]<<24|a[h+3]<<16)/1073741824,s=(a[h+4]<<24|a[h+5]<<16)/1073741824,q=(a[h+6]<<24|a[h+7]<<16)/1073741824,h+=8);var t=c.glyphs[m];t&&(b.push({cmd:"save"}),b.push({cmd:"transform",args:[p,r,s,q,j,k]}),l(t,b,c),b.push({cmd:"restore"}))}while(32&g)}else{var u,v,w=[];for(u=0;i>u;u++)w.push(a[h]<<8|a[h+1]),h+=2;var x=a[h]<<8|a[h+1];h+=2+x;for(var y=w[w.length-1]+1,z=[];z.length<y;){g=a[h++];var A=1;for(8&g&&(A+=a[h++]);A-->0;)z.push({flags:g})}for(u=0;y>u;u++){switch(18&z[u].flags){case 0:j+=(a[h]<<24|a[h+1]<<16)>>16,h+=2;break;case 2:j-=a[h++];break;case 18:j+=a[h++]}z[u].x=j}for(u=0;y>u;u++){switch(36&z[u].flags){case 0:k+=(a[h]<<24|a[h+1]<<16)>>16,h+=2;break;case 4:k-=a[h++];break;case 36:k+=a[h++]}z[u].y=k}var B=0;for(h=0;i>h;h++){var C=w[h],D=z.slice(B,C+1);if(1&D[0].flags)D.push(D[0]);else if(1&D[D.length-1].flags)D.unshift(D[D.length-1]);else{var E={flags:1,x:(D[0].x+D[D.length-1].x)/2,y:(D[0].y+D[D.length-1].y)/2};D.unshift(E),D.push(E)}for(d(D[0].x,D[0].y),u=1,v=D.length;v>u;u++)1&D[u].flags?e(D[u].x,D[u].y):1&D[u+1].flags?(f(D[u].x,D[u].y,D[u+1].x,D[u+1].y),u++):f(D[u].x,D[u].y,(D[u].x+D[u+1].x)/2,(D[u].y+D[u+1].y)/2);B=C+1}}}function m(a,b,c){function e(a,c){b.push({cmd:"moveTo",args:[a,c]})}function f(a,c){b.push({cmd:"lineTo",args:[a,c]})}function h(a,c,d,e,f,g){b.push({cmd:"bezierCurveTo",args:[a,c,d,e,f,g]})}function i(a){for(var p=0;p<a.length;){var q,r,s,t,u,v,w,x,y,z=!1,A=a[p++];switch(A){case 1:o+=j.length>>1,z=!0;break;case 3:o+=j.length>>1,z=!0;break;case 4:n+=j.pop(),e(l,n),z=!0;break;case 5:for(;j.length>0;)l+=j.shift(),n+=j.shift(),f(l,n);break;case 6:for(;j.length>0&&(l+=j.shift(),f(l,n),0!==j.length);)n+=j.shift(),f(l,n);break;case 7:for(;j.length>0&&(n+=j.shift(),f(l,n),0!==j.length);)l+=j.shift(),f(l,n);break;case 8:for(;j.length>0;)q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+j.shift(),h(q,s,r,t,l,n);break;case 10:x=j.pop()+c.subrsBias,y=c.subrs[x],y&&i(y);break;case 11:return;case 12:switch(A=a[p++]){case 34:q=l+j.shift(),r=q+j.shift(),u=n+j.shift(),l=r+j.shift(),h(q,n,r,u,l,u),q=l+j.shift(),r=q+j.shift(),l=r+j.shift(),h(q,u,r,n,l,n);break;case 35:q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+j.shift(),h(q,s,r,t,l,n),q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+j.shift(),h(q,s,r,t,l,n),j.pop();break;case 36:q=l+j.shift(),u=n+j.shift(),r=q+j.shift(),v=u+j.shift(),l=r+j.shift(),h(q,u,r,v,l,v),q=l+j.shift(),r=q+j.shift(),w=v+j.shift(),l=r+j.shift(),h(q,v,r,w,l,n);break;case 37:var B=l,C=n;q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+j.shift(),h(q,s,r,t,l,n),q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r,n=t,Math.abs(l-B)>Math.abs(n-C)?l+=j.shift():n+=j.shift(),h(q,s,r,t,l,n);break;default:throw new d.FormatError("unknown operator: 12 "+A)}break;case 14:if(j.length>=4){var D=j.pop(),E=j.pop();n=j.pop(),l=j.pop(),b.push({cmd:"save"}),b.push({cmd:"translate",args:[l,n]});var F=k(c.cmap,String.fromCharCode(c.glyphNameMap[g.StandardEncoding[D]]));m(c.glyphs[F.glyphId],b,c),b.push({cmd:"restore"}),F=k(c.cmap,String.fromCharCode(c.glyphNameMap[g.StandardEncoding[E]])),m(c.glyphs[F.glyphId],b,c)}return;case 18:o+=j.length>>1,z=!0;break;case 19:o+=j.length>>1,p+=o+7>>3,z=!0;
break;case 20:o+=j.length>>1,p+=o+7>>3,z=!0;break;case 21:n+=j.pop(),l+=j.pop(),e(l,n),z=!0;break;case 22:l+=j.pop(),e(l,n),z=!0;break;case 23:o+=j.length>>1,z=!0;break;case 24:for(;j.length>2;)q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+j.shift(),h(q,s,r,t,l,n);l+=j.shift(),n+=j.shift(),f(l,n);break;case 25:for(;j.length>6;)l+=j.shift(),n+=j.shift(),f(l,n);q=l+j.shift(),s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+j.shift(),h(q,s,r,t,l,n);break;case 26:for(j.length%2&&(l+=j.shift());j.length>0;)q=l,s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r,n=t+j.shift(),h(q,s,r,t,l,n);break;case 27:for(j.length%2&&(n+=j.shift());j.length>0;)q=l+j.shift(),s=n,r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t,h(q,s,r,t,l,n);break;case 28:j.push((a[p]<<24|a[p+1]<<16)>>16),p+=2;break;case 29:x=j.pop()+c.gsubrsBias,y=c.gsubrs[x],y&&i(y);break;case 30:for(;j.length>0&&(q=l,s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+(1===j.length?j.shift():0),h(q,s,r,t,l,n),0!==j.length);)q=l+j.shift(),s=n,r=q+j.shift(),t=s+j.shift(),n=t+j.shift(),l=r+(1===j.length?j.shift():0),h(q,s,r,t,l,n);break;case 31:for(;j.length>0&&(q=l+j.shift(),s=n,r=q+j.shift(),t=s+j.shift(),n=t+j.shift(),l=r+(1===j.length?j.shift():0),h(q,s,r,t,l,n),0!==j.length);)q=l,s=n+j.shift(),r=q+j.shift(),t=s+j.shift(),l=r+j.shift(),n=t+(1===j.length?j.shift():0),h(q,s,r,t,l,n);break;default:if(32>A)throw new d.FormatError("unknown operator: "+A);247>A?j.push(A-139):251>A?j.push(256*(A-247)+a[p++]+108):255>A?j.push(256*-(A-251)-a[p++]-108):(j.push((a[p]<<24|a[p+1]<<16|a[p+2]<<8|a[p+3])/65536),p+=4)}z&&(j.length=0)}}var j=[],l=0,n=0,o=0;i(a)}function n(a){this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null),this.fontMatrix=a}function o(a,b,c){c=c||[488e-6,0,0,488e-6,0,0],n.call(this,c),this.glyphs=a,this.cmap=b}function p(a,b,c,d){c=c||[.001,0,0,.001,0,0],n.call(this,c),this.glyphs=a.glyphs,this.gsubrs=a.gsubrs||[],this.subrs=a.subrs||[],this.cmap=b,this.glyphNameMap=d||f.getGlyphsUnicode(),this.gsubrsBias=this.gsubrs.length<1240?107:this.gsubrs.length<33900?1131:32768,this.subrsBias=this.subrs.length<1240?107:this.subrs.length<33900?1131:32768}var q="";return n.prototype={getPathJs:function(a){var b=k(this.cmap,a),c=this.compiledGlyphs[b.glyphId];return c||(c=this.compileGlyph(this.glyphs[b.glyphId]),this.compiledGlyphs[b.glyphId]=c),void 0===this.compiledCharCodeToGlyphId[b.charCode]&&(this.compiledCharCodeToGlyphId[b.charCode]=b.glyphId),c},compileGlyph:function(a){if(!a||0===a.length||14===a[0])return q;var b=[];return b.push({cmd:"save"}),b.push({cmd:"transform",args:this.fontMatrix.slice()}),b.push({cmd:"scale",args:["size","-size"]}),this.compileGlyphImpl(a,b),b.push({cmd:"restore"}),b},compileGlyphImpl:function(){throw new Error("Children classes should implement this.")},hasBuiltPath:function(a){var b=k(this.cmap,a);return void 0!==this.compiledGlyphs[b.glyphId]&&void 0!==this.compiledCharCodeToGlyphId[b.charCode]}},d.Util.inherit(o,n,{compileGlyphImpl:function(a,b){l(a,b,this)}}),d.Util.inherit(p,n,{compileGlyphImpl:function(a,b){m(a,b,this)}}),{create:function(e,f){for(var g,h,k,l,m,n,q=new Uint8Array(e.data),r=b(q,4),s=0,t=12;r>s;s++,t+=16){var u=d.bytesToString(q.subarray(t,t+4)),v=a(q,t+8),w=a(q,t+12);switch(u){case"cmap":g=c(q,v,v+w);break;case"glyf":h=q.subarray(v,v+w);break;case"loca":k=q.subarray(v,v+w);break;case"head":n=b(q,v+18),m=b(q,v+50);break;case"CFF ":l=i(q,v,v+w,f)}}if(h){var x=n?[1/n,0,0,1/n,0,0]:e.fontMatrix;return new o(j(h,k,m),g,x)}return new p(l,g,e.fontMatrix,e.glyphNameMap)}}}();b.FontRendererFactory=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Type1Parser=void 0;var d=c(0),e=c(28),f=c(5),g=!1,h=function(){function a(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}var b={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};return a.prototype={convert:function(a,c,e){for(var f,h,i,j=a.length,k=!1,l=0;j>l;l++){var m=a[l];if(32>m){switch(12===m&&(m=(m<<8)+a[++l]),m){case 1:if(!g){this.stack=[];break}k=this.executeCommand(2,b.hstem);break;case 3:if(!g){this.stack=[];break}k=this.executeCommand(2,b.vstem);break;case 4:if(this.flexing){if(this.stack.length<1){k=!0;break}var n=this.stack.pop();this.stack.push(0,n);break}k=this.executeCommand(1,b.vmoveto);break;case 5:k=this.executeCommand(2,b.rlineto);break;case 6:k=this.executeCommand(1,b.hlineto);break;case 7:k=this.executeCommand(1,b.vlineto);break;case 8:k=this.executeCommand(6,b.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){k=!0;break}if(i=this.stack.pop(),!c[i]){k=!0;break}k=this.convert(c[i],c,e);break;case 11:return k;case 13:if(this.stack.length<2){k=!0;break}f=this.stack.pop(),h=this.stack.pop(),this.lsb=h,this.width=f,this.stack.push(f,h),k=this.executeCommand(2,b.hmoveto);break;case 14:this.output.push(b.endchar[0]);break;case 21:if(this.flexing)break;k=this.executeCommand(2,b.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}k=this.executeCommand(1,b.hmoveto);break;case 30:k=this.executeCommand(4,b.vhcurveto);break;case 31:k=this.executeCommand(4,b.hvcurveto);break;case 3072:this.stack=[];break;case 3073:if(!g){this.stack=[];break}k=this.executeCommand(2,b.vstem);break;case 3074:if(!g){this.stack=[];break}k=this.executeCommand(2,b.hstem);break;case 3078:e?(this.seac=this.stack.splice(-4,4),k=this.executeCommand(0,b.endchar)):k=this.executeCommand(4,b.endchar);break;case 3079:if(this.stack.length<4){k=!0;break}this.stack.pop(),f=this.stack.pop();var o=this.stack.pop();h=this.stack.pop(),this.lsb=h,this.width=f,this.stack.push(f,h,o),k=this.executeCommand(3,b.rmoveto);break;case 3084:if(this.stack.length<2){k=!0;break}var p=this.stack.pop(),q=this.stack.pop();this.stack.push(q/p);break;case 3088:if(this.stack.length<2){k=!0;break}i=this.stack.pop();var r=this.stack.pop();if(0===i&&3===r){var s=this.stack.splice(this.stack.length-17,17);this.stack.push(s[2]+s[0],s[3]+s[1],s[4],s[5],s[6],s[7],s[8],s[9],s[10],s[11],s[12],s[13],s[14]),k=this.executeCommand(13,b.flex,!0),this.flexing=!1,this.stack.push(s[15],s[16])}else 1===i&&0===r&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:d.warn('Unknown type 1 charstring command of "'+m+'"')}if(k)break}else 246>=m?m-=139:m=250>=m?256*(m-247)+a[++l]+108:254>=m?-(256*(m-251))-a[++l]-108:(255&a[++l])<<24|(255&a[++l])<<16|(255&a[++l])<<8|(255&a[++l])<<0,this.stack.push(m)}return k},executeCommand:function(a,b,c){var d=this.stack.length;if(a>d)return!0;for(var e=d-a,f=e;d>f;f++){var g=this.stack[f];Number.isInteger(g)?this.output.push(28,g>>8&255,255&g):(g=65536*g|0,this.output.push(255,g>>24&255,g>>16&255,g>>8&255,255&g))}return this.output.push.apply(this.output,b),c?this.stack.splice(e,a):this.stack.length=0,!1}},a}(),i=function(){function a(a){return a>=48&&57>=a||a>=65&&70>=a||a>=97&&102>=a}function b(a,b,c){if(c>=a.length)return new Uint8Array(0);var d,e,f=0|b,g=52845,h=22719;for(d=0;c>d;d++)f=(a[d]+f)*g+h&65535;var i=a.length-c,j=new Uint8Array(i);for(d=c,e=0;i>e;d++,e++){var k=a[d];j[e]=k^f>>8,f=(k+f)*g+h&65535}return j}function c(b,c,d){var e,f,g=0|c,h=52845,i=22719,j=b.length,k=j>>>1,l=new Uint8Array(k);for(e=0,f=0;j>e;e++){var m=b[e];if(a(m)){e++;for(var n;j>e&&!a(n=b[e]);)e++;if(j>e){var o=parseInt(String.fromCharCode(m,n),16);l[f++]=o^g>>8,g=(o+g)*h+i&65535}}}return Array.prototype.slice.call(l,d,f)}function i(a){return 47===a||91===a||93===a||123===a||125===a||40===a||41===a}function j(d,e,g){if(e){var h=d.getBytes(),i=!(a(h[0])&&a(h[1])&&a(h[2])&&a(h[3]));d=new f.Stream(i?b(h,k,4):c(h,k,4))}this.seacAnalysisEnabled=!!g,this.stream=d,this.nextChar()}var k=55665,l=4330;return j.prototype={readNumberArray:function(){this.getToken();for(var a=[];;){var b=this.getToken();if(null===b||"]"===b||"}"===b)break;a.push(parseFloat(b||0))}return a},readNumber:function(){var a=this.getToken();return parseFloat(a||0)},readInt:function(){var a=this.getToken();return 0|parseInt(a||0,10)},readBoolean:function(){var a=this.getToken();return"true"===a?1:0},nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var a=!1,b=this.currentChar;;){if(-1===b)return null;if(a)(10===b||13===b)&&(a=!1);else if(37===b)a=!0;else if(!d.isSpace(b))break;b=this.nextChar()}if(i(b))return this.nextChar(),String.fromCharCode(b);var c="";do c+=String.fromCharCode(b),b=this.nextChar();while(b>=0&&!d.isSpace(b)&&!i(b));return c},readCharStrings:function(a,c){return-1===c?a:b(a,l,c)},extractFontProgram:function(){var a=this.stream,b=[],c=[],d=Object.create(null);d.lenIV=4;for(var e,f,i,j,k,l={subrs:[],charstrings:[],properties:{privateData:d}};null!==(e=this.getToken());)if("/"===e)switch(e=this.getToken()){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();;){if(e=this.getToken(),null===e||"end"===e)break;if("/"===e){var m=this.getToken();f=this.readInt(),this.getToken(),i=a.makeSubStream(a.pos,f),j=l.properties.privateData.lenIV,k=this.readCharStrings(i.getBytes(),j),a.skip(f),this.nextChar(),e=this.getToken(),"noaccess"===e&&this.getToken(),c.push({glyph:m,encoded:k})}}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===(e=this.getToken());){var n=this.readInt();f=this.readInt(),this.getToken(),i=a.makeSubStream(a.pos,f),j=l.properties.privateData.lenIV,k=this.readCharStrings(i.getBytes(),j),a.skip(f),this.nextChar(),e=this.getToken(),"noaccess"===e&&this.getToken(),b[n]=k}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":var o=this.readNumberArray();o.length>0&&o.length%2===0&&g&&(l.properties.privateData[e]=o);break;case"StemSnapH":case"StemSnapV":l.properties.privateData[e]=this.readNumberArray();break;case"StdHW":case"StdVW":l.properties.privateData[e]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":l.properties.privateData[e]=this.readNumber();break;case"ForceBold":l.properties.privateData[e]=this.readBoolean()}for(var p=0;p<c.length;p++){m=c[p].glyph,k=c[p].encoded;var q=new h,r=q.convert(k,b,this.seacAnalysisEnabled),s=q.output;r&&(s=[14]),l.charstrings.push({glyphName:m,charstring:s,width:q.width,lsb:q.lsb,seac:q.seac})}return l},extractFontHeader:function(a){for(var b;null!==(b=this.getToken());)if("/"===b)switch(b=this.getToken()){case"FontMatrix":var c=this.readNumberArray();a.fontMatrix=c;break;case"Encoding":var d,f=this.getToken();if(/^\d+$/.test(f)){d=[];var g=0|parseInt(f,10);this.getToken();for(var h=0;g>h;h++){for(b=this.getToken();"dup"!==b&&"def"!==b;)if(b=this.getToken(),null===b)return;if("def"===b)break;var i=this.readInt();this.getToken();var j=this.getToken();d[i]=j,this.getToken()}}else d=e.getEncoding(f);a.builtInEncoding=d;break;case"FontBBox":var k=this.readNumberArray();a.ascent=Math.max(k[3],k[1]),a.descent=Math.min(k[1],k[3]),a.ascentScaled=!0}}},j}();b.Type1Parser=i},function(a,b,c){"use strict";function d(a,b,c){var d=b.getArray("Matrix"),f=e.Util.normalizeRect(b.getArray("BBox")),g=b.get("XStep"),h=b.get("YStep"),i=b.get("PaintType"),j=b.get("TilingType");if(f[2]-f[0]===0||f[3]-f[1]===0)throw new e.FormatError("Invalid getTilingPatternIR /BBox array: ["+f+"].");return["TilingPattern",c,a,d,f,g,h,i,j]}Object.defineProperty(b,"__esModule",{value:!0}),b.getTilingPatternIR=b.Pattern=void 0;var e=c(0),f=c(27),g=c(2),h={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7},i=function(){function a(){throw new Error("should not call Pattern constructor")}return a.prototype={getPattern:function(a){throw new Error("Should not call Pattern.getStyle: "+a)}},a.parseShading=function(a,b,c,d,f,i){var k=g.isStream(a)?a.dict:a,l=k.get("ShadingType");try{switch(l){case h.AXIAL:case h.RADIAL:return new j.RadialAxial(k,b,c,d,i);case h.FREE_FORM_MESH:case h.LATTICE_FORM_MESH:case h.COONS_PATCH_MESH:case h.TENSOR_PATCH_MESH:return new j.Mesh(a,b,c,d,i);default:throw new e.FormatError("Unsupported ShadingType: "+l)}}catch(m){if(m instanceof e.MissingDataException)throw m;return f.send("UnsupportedFeature",{featureId:e.UNSUPPORTED_FEATURES.shadingPattern}),e.warn(m),new j.Dummy}},a}(),j={};j.SMALL_NUMBER=1e-6,j.RadialAxial=function(){function a(a,b,c,d,g){this.matrix=b,this.coordsArr=a.getArray("Coords"),this.shadingType=a.get("ShadingType"),this.type="Pattern";var i=a.get("ColorSpace","CS");i=f.ColorSpace.parse(i,c,d,g),this.cs=i;var k=0,l=1;if(a.has("Domain")){var m=a.getArray("Domain");k=m[0],l=m[1]}var n=!1,o=!1;if(a.has("Extend")){var p=a.getArray("Extend");n=p[0],o=p[1]}if(!(this.shadingType!==h.RADIAL||n&&o)){var q=this.coordsArr[0],r=this.coordsArr[1],s=this.coordsArr[2],t=this.coordsArr[3],u=this.coordsArr[4],v=this.coordsArr[5],w=Math.sqrt((q-t)*(q-t)+(r-u)*(r-u));v+w>=s&&s+w>=v&&e.warn("Unsupported radial gradient.")}this.extendStart=n,this.extendEnd=o;var x=a.get("Function"),y=g.createFromArray(x),z=l-k,A=z/10,B=this.colorStops=[];if(k>=l||0>=A)return void e.info("Bad shading domain.");for(var C,D=new Float32Array(i.numComps),E=new Float32Array(1),F=k;l>=F;F+=A){E[0]=F,y(E,0,D,0),C=i.getRgb(D,0);var G=e.Util.makeCssRgb(C[0],C[1],C[2]);B.push([(F-k)/z,G])}var H="transparent";a.has("Background")&&(C=i.getRgb(a.get("Background"),0),H=e.Util.makeCssRgb(C[0],C[1],C[2])),n||(B.unshift([0,H]),B[1][0]+=j.SMALL_NUMBER),o||(B[B.length-1][0]-=j.SMALL_NUMBER,B.push([1,H])),this.colorStops=B}return a.prototype={getIR:function(){var a,b,c,d,f,g=this.coordsArr,i=this.shadingType;i===h.AXIAL?(b=[g[0],g[1]],c=[g[2],g[3]],d=null,f=null,a="axial"):i===h.RADIAL?(b=[g[0],g[1]],c=[g[3],g[4]],d=g[2],f=g[5],a="radial"):e.unreachable("getPattern type unknown: "+i);var j=this.matrix;if(j&&(b=e.Util.applyTransform(b,j),c=e.Util.applyTransform(c,j),i===h.RADIAL)){var k=e.Util.singularValueDecompose2dScale(j);d*=k[0],f*=k[1]}return["RadialAxial",a,this.colorStops,b,c,d,f]}},a}(),j.Mesh=function(){function a(a,b){this.stream=a,this.context=b,this.buffer=0,this.bufferLength=0;var c=b.numComps;this.tmpCompsBuf=new Float32Array(c);var d=b.colorSpace.numComps;this.tmpCsCompsBuf=b.colorFn?new Float32Array(d):this.tmpCompsBuf}function b(a,b){for(var c=a.coords,d=a.colors,f=[],g=[],h=0;b.hasData;){var i=b.readFlag(),j=b.readCoordinate(),k=b.readComponents();if(0===h){if(!(i>=0&&2>=i))throw new e.FormatError("Unknown type4 flag");switch(i){case 0:h=3;break;case 1:g.push(g[g.length-2],g[g.length-1]),h=1;break;case 2:g.push(g[g.length-3],g[g.length-1]),h=1}f.push(i)}g.push(c.length),c.push(j),d.push(k),h--,b.align()}a.figures.push({type:"triangles",coords:new Int32Array(g),colors:new Int32Array(g)})}function c(a,b,c){for(var d=a.coords,e=a.colors,f=[];b.hasData;){var g=b.readCoordinate(),h=b.readComponents();f.push(d.length),d.push(g),e.push(h)}a.figures.push({type:"lattice",coords:new Int32Array(f),colors:new Int32Array(f),verticesPerRow:c})}function d(a,b){var c=a.figures[b];e.assert("patch"===c.type,"Unexpected patch mesh figure");var d=a.coords,f=a.colors,g=c.coords,h=c.colors,i=Math.min(d[g[0]][0],d[g[3]][0],d[g[12]][0],d[g[15]][0]),j=Math.min(d[g[0]][1],d[g[3]][1],d[g[12]][1],d[g[15]][1]),k=Math.max(d[g[0]][0],d[g[3]][0],d[g[12]][0],d[g[15]][0]),l=Math.max(d[g[0]][1],d[g[3]][1],d[g[12]][1],d[g[15]][1]),m=Math.ceil((k-i)*p/(a.bounds[2]-a.bounds[0]));m=Math.max(n,Math.min(o,m));var r=Math.ceil((l-j)*p/(a.bounds[3]-a.bounds[1]));r=Math.max(n,Math.min(o,r));for(var s=m+1,t=new Int32Array((r+1)*s),u=new Int32Array((r+1)*s),v=0,w=new Uint8Array(3),x=new Uint8Array(3),y=f[h[0]],z=f[h[1]],A=f[h[2]],B=f[h[3]],C=q(r),D=q(m),E=0;r>=E;E++){w[0]=(y[0]*(r-E)+A[0]*E)/r|0,w[1]=(y[1]*(r-E)+A[1]*E)/r|0,w[2]=(y[2]*(r-E)+A[2]*E)/r|0,x[0]=(z[0]*(r-E)+B[0]*E)/r|0,x[1]=(z[1]*(r-E)+B[1]*E)/r|0,x[2]=(z[2]*(r-E)+B[2]*E)/r|0;for(var F=0;m>=F;F++,v++)if(0!==E&&E!==r||0!==F&&F!==m){for(var G=0,H=0,I=0,J=0;3>=J;J++)for(var K=0;3>=K;K++,I++){var L=C[E][J]*D[F][K];G+=d[g[I]][0]*L,H+=d[g[I]][1]*L}t[v]=d.length,d.push([G,H]),u[v]=f.length;var M=new Uint8Array(3);M[0]=(w[0]*(m-F)+x[0]*F)/m|0,M[1]=(w[1]*(m-F)+x[1]*F)/m|0,M[2]=(w[2]*(m-F)+x[2]*F)/m|0,f.push(M)}}t[0]=g[0],u[0]=h[0],t[m]=g[3],u[m]=h[1],t[s*r]=g[12],u[s*r]=h[2],t[s*r+m]=g[15],u[s*r+m]=h[3],a.figures[b]={type:"lattice",coords:t,colors:u,verticesPerRow:s}}function i(a,b){for(var c=a.coords,d=a.colors,f=new Int32Array(16),g=new Int32Array(4);b.hasData;){var h=b.readFlag();if(!(h>=0&&3>=h))throw new e.FormatError("Unknown type6 flag");var i,j,k=c.length;for(i=0,j=0!==h?8:12;j>i;i++)c.push(b.readCoordinate());var l=d.length;for(i=0,j=0!==h?2:4;j>i;i++)d.push(b.readComponents());var m,n,o,p;switch(h){case 0:f[12]=k+3,f[13]=k+4,f[14]=k+5,f[15]=k+6,f[8]=k+2,f[11]=k+7,f[4]=k+1,f[7]=k+8,f[0]=k,f[1]=k+11,f[2]=k+10,f[3]=k+9,g[2]=l+1,g[3]=l+2,g[0]=l,g[1]=l+3;break;case 1:m=f[12],n=f[13],o=f[14],p=f[15],f[12]=p,f[13]=k+0,f[14]=k+1,f[15]=k+2,f[8]=o,f[11]=k+3,f[4]=n,f[7]=k+4,f[0]=m,f[1]=k+7,f[2]=k+6,f[3]=k+5,m=g[2],n=g[3],g[2]=n,g[3]=l,g[0]=m,g[1]=l+1;break;case 2:m=f[15],n=f[11],f[12]=f[3],f[13]=k+0,f[14]=k+1,f[15]=k+2,f[8]=f[7],f[11]=k+3,f[4]=n,f[7]=k+4,f[0]=m,f[1]=k+7,f[2]=k+6,f[3]=k+5,m=g[3],g[2]=g[1],g[3]=l,g[0]=m,g[1]=l+1;break;case 3:f[12]=f[0],f[13]=k+0,f[14]=k+1,f[15]=k+2,f[8]=f[1],f[11]=k+3,f[4]=f[2],f[7]=k+4,f[0]=f[3],f[1]=k+7,f[2]=k+6,f[3]=k+5,g[2]=g[0],g[3]=l,g[0]=g[1],g[1]=l+1}f[5]=c.length,c.push([(-4*c[f[0]][0]-c[f[15]][0]+6*(c[f[4]][0]+c[f[1]][0])-2*(c[f[12]][0]+c[f[3]][0])+3*(c[f[13]][0]+c[f[7]][0]))/9,(-4*c[f[0]][1]-c[f[15]][1]+6*(c[f[4]][1]+c[f[1]][1])-2*(c[f[12]][1]+c[f[3]][1])+3*(c[f[13]][1]+c[f[7]][1]))/9]),f[6]=c.length,c.push([(-4*c[f[3]][0]-c[f[12]][0]+6*(c[f[2]][0]+c[f[7]][0])-2*(c[f[0]][0]+c[f[15]][0])+3*(c[f[4]][0]+c[f[14]][0]))/9,(-4*c[f[3]][1]-c[f[12]][1]+6*(c[f[2]][1]+c[f[7]][1])-2*(c[f[0]][1]+c[f[15]][1])+3*(c[f[4]][1]+c[f[14]][1]))/9]),f[9]=c.length,c.push([(-4*c[f[12]][0]-c[f[3]][0]+6*(c[f[8]][0]+c[f[13]][0])-2*(c[f[0]][0]+c[f[15]][0])+3*(c[f[11]][0]+c[f[1]][0]))/9,(-4*c[f[12]][1]-c[f[3]][1]+6*(c[f[8]][1]+c[f[13]][1])-2*(c[f[0]][1]+c[f[15]][1])+3*(c[f[11]][1]+c[f[1]][1]))/9]),f[10]=c.length,c.push([(-4*c[f[15]][0]-c[f[0]][0]+6*(c[f[11]][0]+c[f[14]][0])-2*(c[f[12]][0]+c[f[3]][0])+3*(c[f[2]][0]+c[f[8]][0]))/9,(-4*c[f[15]][1]-c[f[0]][1]+6*(c[f[11]][1]+c[f[14]][1])-2*(c[f[12]][1]+c[f[3]][1])+3*(c[f[2]][1]+c[f[8]][1]))/9]),a.figures.push({type:"patch",coords:new Int32Array(f),colors:new Int32Array(g)})}}function j(a,b){for(var c=a.coords,d=a.colors,f=new Int32Array(16),g=new Int32Array(4);b.hasData;){var h=b.readFlag();if(!(h>=0&&3>=h))throw new e.FormatError("Unknown type7 flag");var i,j,k=c.length;for(i=0,j=0!==h?12:16;j>i;i++)c.push(b.readCoordinate());var l=d.length;for(i=0,j=0!==h?2:4;j>i;i++)d.push(b.readComponents());var m,n,o,p;switch(h){case 0:f[12]=k+3,f[13]=k+4,f[14]=k+5,f[15]=k+6,f[8]=k+2,f[9]=k+13,f[10]=k+14,f[11]=k+7,f[4]=k+1,f[5]=k+12,f[6]=k+15,f[7]=k+8,f[0]=k,f[1]=k+11,f[2]=k+10,f[3]=k+9,g[2]=l+1,g[3]=l+2,g[0]=l,g[1]=l+3;break;case 1:m=f[12],n=f[13],o=f[14],p=f[15],f[12]=p,f[13]=k+0,f[14]=k+1,f[15]=k+2,f[8]=o,f[9]=k+9,f[10]=k+10,f[11]=k+3,f[4]=n,f[5]=k+8,f[6]=k+11,f[7]=k+4,f[0]=m,f[1]=k+7,f[2]=k+6,f[3]=k+5,m=g[2],n=g[3],g[2]=n,g[3]=l,g[0]=m,g[1]=l+1;break;case 2:m=f[15],n=f[11],f[12]=f[3],f[13]=k+0,f[14]=k+1,f[15]=k+2,f[8]=f[7],f[9]=k+9,f[10]=k+10,f[11]=k+3,f[4]=n,f[5]=k+8,f[6]=k+11,f[7]=k+4,f[0]=m,f[1]=k+7,f[2]=k+6,f[3]=k+5,m=g[3],g[2]=g[1],g[3]=l,g[0]=m,g[1]=l+1;break;case 3:f[12]=f[0],f[13]=k+0,f[14]=k+1,f[15]=k+2,f[8]=f[1],f[9]=k+9,f[10]=k+10,f[11]=k+3,f[4]=f[2],f[5]=k+8,f[6]=k+11,f[7]=k+4,f[0]=f[3],f[1]=k+7,f[2]=k+6,f[3]=k+5,g[2]=g[0],g[3]=l,g[0]=g[1],g[1]=l+1}a.figures.push({type:"patch",coords:new Int32Array(f),colors:new Int32Array(g)})}}function k(a){for(var b=a.coords[0][0],c=a.coords[0][1],d=b,e=c,f=1,g=a.coords.length;g>f;f++){var h=a.coords[f][0],i=a.coords[f][1];b=b>h?h:b,c=c>i?i:c,d=h>d?h:d,e=i>e?i:e}a.bounds=[b,c,d,e]}function l(a){var b,c,d,e,f=a.coords,g=new Float32Array(2*f.length);for(b=0,d=0,c=f.length;c>b;b++){var h=f[b];g[d++]=h[0],g[d++]=h[1]}a.coords=g;var i=a.colors,j=new Uint8Array(3*i.length);for(b=0,d=0,c=i.length;c>b;b++){var k=i[b];j[d++]=k[0],j[d++]=k[1],j[d++]=k[2]}a.colors=j;var l=a.figures;for(b=0,c=l.length;c>b;b++){var m=l[b],n=m.coords,o=m.colors;for(d=0,e=n.length;e>d;d++)n[d]*=2,o[d]*=3}}function m(m,n,o,p,q){if(!g.isStream(m))throw new e.FormatError("Mesh data is not a stream");var r=m.dict;this.matrix=n,this.shadingType=r.get("ShadingType"),this.type="Pattern",this.bbox=r.getArray("BBox");var s=r.get("ColorSpace","CS");s=f.ColorSpace.parse(s,o,p,q),this.cs=s,this.background=r.has("Background")?s.getRgb(r.get("Background"),0):null;var t=r.get("Function"),u=t?q.createFromArray(t):null;this.coords=[],this.colors=[],this.figures=[];var v={bitsPerCoordinate:r.get("BitsPerCoordinate"),bitsPerComponent:r.get("BitsPerComponent"),bitsPerFlag:r.get("BitsPerFlag"),decode:r.getArray("Decode"),colorFn:u,colorSpace:s,numComps:u?1:s.numComps},w=new a(m,v),x=!1;switch(this.shadingType){case h.FREE_FORM_MESH:b(this,w);break;case h.LATTICE_FORM_MESH:var y=0|r.get("VerticesPerRow");if(2>y)throw new e.FormatError("Invalid VerticesPerRow");c(this,w,y);break;case h.COONS_PATCH_MESH:i(this,w),x=!0;break;case h.TENSOR_PATCH_MESH:j(this,w),x=!0;break;default:e.unreachable("Unsupported mesh type.")}if(x){k(this);for(var z=0,A=this.figures.length;A>z;z++)d(this,z)}k(this),l(this)}a.prototype={get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;var a=this.stream.getByte();return 0>a?!1:(this.buffer=a,this.bufferLength=8,!0)},readBits:function(a){var b=this.buffer,c=this.bufferLength;if(32===a){if(0===c)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;b=b<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();var d=this.stream.getByte();return this.buffer=d&(1<<c)-1,(b<<8-c|(255&d)>>c)>>>0}if(8===a&&0===c)return this.stream.getByte();for(;a>c;)b=b<<8|this.stream.getByte(),c+=8;return c-=a,this.bufferLength=c,this.buffer=b&(1<<c)-1,b>>c},align:function(){this.buffer=0,this.bufferLength=0},readFlag:function(){return this.readBits(this.context.bitsPerFlag)},readCoordinate:function(){var a=this.context.bitsPerCoordinate,b=this.readBits(a),c=this.readBits(a),d=this.context.decode,e=32>a?1/((1<<a)-1):2.3283064365386963e-10;return[b*e*(d[1]-d[0])+d[0],c*e*(d[3]-d[2])+d[2]]},readComponents:function(){for(var a=this.context.numComps,b=this.context.bitsPerComponent,c=32>b?1/((1<<b)-1):2.3283064365386963e-10,d=this.context.decode,e=this.tmpCompsBuf,f=0,g=4;a>f;f++,g+=2){var h=this.readBits(b);e[f]=h*c*(d[g+1]-d[g])+d[g]}var i=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(e,0,i,0),this.context.colorSpace.getRgb(i,0)}};var n=3,o=20,p=20,q=function(){function a(a){for(var b=[],c=0;a>=c;c++){var d=c/a,e=1-d;b.push(new Float32Array([e*e*e,3*d*e*e,3*d*d*e,d*d*d]))}return b}var b=[];return function(c){return b[c]||(b[c]=a(c)),b[c]}}();return m.prototype={getIR:function(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}},m}(),j.Dummy=function(){function a(){this.type="Pattern"}return a.prototype={getIR:function(){return["Dummy"]}},a}(),b.Pattern=i,b.getTilingPatternIR=d},function(a,b,c){"use strict";function d(a){return 0!==(1&a)}function e(a){return 0===(1&a)}function f(a,b,c){for(var d=b,e=a.length;e>d;++d)if(a[d]!==c)return d;return d}function g(a,b,c,d){for(var e=b;c>e;++e)a[e]=d}function h(a,b,c){for(var d=b,e=c-1;e>d;++d,--e){var f=a[d];a[d]=a[e],a[e]=f}}function i(a,b,c){return{str:a,dir:c?"ttb":b?"ltr":"rtl"}}function j(a,b,c){var j=!0,p=a.length;if(0===p||c)return i(a,j,c);n.length=p,o.length=p;var q,r,s=0;for(q=0;p>q;++q){n[q]=a.charAt(q);var t=a.charCodeAt(q),u="L";255>=t?u=l[t]:t>=1424&&1524>=t?u="R":t>=1536&&1791>=t?(u=m[255&t],u||k.warn("Bidi: invalid Unicode character "+t.toString(16))):t>=1792&&2220>=t&&(u="AL"),("R"===u||"AL"===u||"AN"===u)&&s++,o[q]=u}if(0===s)return j=!0,i(a,j);-1===b&&(.3>s/p?(j=!0,b=0):(j=!1,b=1));var v=[];for(q=0;p>q;++q)v[q]=b;var w=d(b)?"R":"L",x=w,y=x,z=x;for(q=0;p>q;++q)"NSM"===o[q]?o[q]=z:z=o[q];z=x;var A;for(q=0;p>q;++q)A=o[q],"EN"===A?o[q]="AL"===z?"AN":"EN":("R"===A||"L"===A||"AL"===A)&&(z=A);for(q=0;p>q;++q)A=o[q],"AL"===A&&(o[q]="R");for(q=1;p-1>q;++q)"ES"===o[q]&&"EN"===o[q-1]&&"EN"===o[q+1]&&(o[q]="EN"),"CS"!==o[q]||"EN"!==o[q-1]&&"AN"!==o[q-1]||o[q+1]!==o[q-1]||(o[q]=o[q-1]);for(q=0;p>q;++q)if("EN"===o[q]){var B;for(B=q-1;B>=0&&"ET"===o[B];--B)o[B]="EN";for(B=q+1;p>B&&"ET"===o[B];++B)o[B]="EN"}for(q=0;p>q;++q)A=o[q],("WS"===A||"ES"===A||"ET"===A||"CS"===A)&&(o[q]="ON");for(z=x,q=0;p>q;++q)A=o[q],"EN"===A?o[q]="L"===z?"L":"EN":("R"===A||"L"===A)&&(z=A);for(q=0;p>q;++q)if("ON"===o[q]){var C=f(o,q+1,"ON"),D=x;q>0&&(D=o[q-1]);var E=y;p>C+1&&(E=o[C+1]),"L"!==D&&(D="R"),"L"!==E&&(E="R"),D===E&&g(o,q,C,D),q=C-1}for(q=0;p>q;++q)"ON"===o[q]&&(o[q]=w);for(q=0;p>q;++q)A=o[q],e(v[q])?"R"===A?v[q]+=1:("AN"===A||"EN"===A)&&(v[q]+=2):("L"===A||"AN"===A||"EN"===A)&&(v[q]+=1);var F,G=-1,H=99;for(q=0,r=v.length;r>q;++q)F=v[q],F>G&&(G=F),H>F&&d(F)&&(H=F);for(F=G;F>=H;--F){var I=-1;for(q=0,r=v.length;r>q;++q)v[q]<F?I>=0&&(h(n,I,q),I=-1):0>I&&(I=q);I>=0&&h(n,I,v.length)}for(q=0,r=n.length;r>q;++q){var J=n[q];("<"===J||">"===J)&&(n[q]="")}return i(n.join(""),j)}Object.defineProperty(b,"__esModule",{value:!0}),b.bidi=void 0;var k=c(0),l=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],m=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"],n=[],o=[];b.bidi=j},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getMetrics=void 0;var d=c(0),e=d.getLookupTableFactory(function(a){a.Courier=600,a["Courier-Bold"]=600,a["Courier-BoldOblique"]=600,a["Courier-Oblique"]=600,a.Helvetica=d.getLookupTableFactory(function(a){a.space=278,a.exclam=278,a.quotedbl=355,a.numbersign=556,a.dollar=556,a.percent=889,a.ampersand=667,a.quoteright=222,a.parenleft=333,a.parenright=333,a.asterisk=389,a.plus=584,a.comma=278,a.hyphen=333,a.period=278,a.slash=278,a.zero=556,a.one=556,a.two=556,a.three=556,a.four=556,a.five=556,a.six=556,a.seven=556,a.eight=556,a.nine=556,a.colon=278,a.semicolon=278,a.less=584,a.equal=584,a.greater=584,a.question=556,a.at=1015,a.A=667,a.B=667,a.C=722,a.D=722,a.E=667,a.F=611,a.G=778,a.H=722,a.I=278,a.J=500,a.K=667,a.L=556,a.M=833,a.N=722,a.O=778,a.P=667,a.Q=778,a.R=722,a.S=667,a.T=611,a.U=722,a.V=667,a.W=944,a.X=667,a.Y=667,a.Z=611,a.bracketleft=278,a.backslash=278,a.bracketright=278,a.asciicircum=469,a.underscore=556,a.quoteleft=222,a.a=556,a.b=556,a.c=500,a.d=556,a.e=556,a.f=278,a.g=556,a.h=556,a.i=222,a.j=222,a.k=500,a.l=222,a.m=833,a.n=556,a.o=556,a.p=556,a.q=556,a.r=333,a.s=500,a.t=278,a.u=556,a.v=500,a.w=722,a.x=500,a.y=500,a.z=500,a.braceleft=334,a.bar=260,a.braceright=334,a.asciitilde=584,a.exclamdown=333,a.cent=556,a.sterling=556,a.fraction=167,a.yen=556,a.florin=556,a.section=556,a.currency=556,a.quotesingle=191,a.quotedblleft=333,a.guillemotleft=556,a.guilsinglleft=333,a.guilsinglright=333,a.fi=500,a.fl=500,a.endash=556,a.dagger=556,a.daggerdbl=556,a.periodcentered=278,a.paragraph=537,a.bullet=350,a.quotesinglbase=222,a.quotedblbase=333,a.quotedblright=333,a.guillemotright=556,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=611,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=1e3,a.ordfeminine=370,a.Lslash=556,a.Oslash=778,a.OE=1e3,a.ordmasculine=365,a.ae=889,a.dotlessi=278,a.lslash=222,a.oslash=611,a.oe=944,a.germandbls=611,a.Idieresis=278,a.eacute=556,a.abreve=556,a.uhungarumlaut=556,a.ecaron=556,a.Ydieresis=667,a.divide=584,a.Yacute=667,a.Acircumflex=667,a.aacute=556,a.Ucircumflex=722,a.yacute=500,a.scommaaccent=500,a.ecircumflex=556,a.Uring=722,a.Udieresis=722,a.aogonek=556,a.Uacute=722,a.uogonek=556,a.Edieresis=667,a.Dcroat=722,a.commaaccent=250,a.copyright=737,a.Emacron=667,a.ccaron=500,a.aring=556,a.Ncommaaccent=722,a.lacute=222,a.agrave=556,a.Tcommaaccent=611,a.Cacute=722,a.atilde=556,a.Edotaccent=667,a.scaron=500,a.scedilla=500,a.iacute=278,a.lozenge=471,a.Rcaron=722,a.Gcommaaccent=778,a.ucircumflex=556,a.acircumflex=556,a.Amacron=667,a.rcaron=333,a.ccedilla=500,a.Zdotaccent=611,a.Thorn=667,a.Omacron=778,a.Racute=722,a.Sacute=667,a.dcaron=643,a.Umacron=722,a.uring=556,a.threesuperior=333,a.Ograve=778,a.Agrave=667,a.Abreve=667,a.multiply=584,a.uacute=556,a.Tcaron=611,a.partialdiff=476,a.ydieresis=500,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=667,a.adieresis=556,a.edieresis=556,a.cacute=500,a.nacute=556,a.umacron=556,a.Ncaron=722,a.Iacute=278,a.plusminus=584,a.brokenbar=260,a.registered=737,a.Gbreve=778,a.Idotaccent=278,a.summation=600,a.Egrave=667,a.racute=333,a.omacron=556,a.Zacute=611,a.Zcaron=611,a.greaterequal=549,a.Eth=722,a.Ccedilla=722,a.lcommaaccent=222,a.tcaron=317,a.eogonek=556,a.Uogonek=722,a.Aacute=667,a.Adieresis=667,a.egrave=556,a.zacute=500,a.iogonek=222,a.Oacute=778,a.oacute=556,a.amacron=556,a.sacute=500,a.idieresis=278,a.Ocircumflex=778,a.Ugrave=722,a.Delta=612,a.thorn=556,a.twosuperior=333,a.Odieresis=778,a.mu=556,a.igrave=278,a.ohungarumlaut=556,a.Eogonek=667,a.dcroat=556,a.threequarters=834,a.Scedilla=667,a.lcaron=299,a.Kcommaaccent=667,a.Lacute=556,a.trademark=1e3,a.edotaccent=556,a.Igrave=278,a.Imacron=278,a.Lcaron=556,a.onehalf=834,a.lessequal=549,a.ocircumflex=556,a.ntilde=556,a.Uhungarumlaut=722,
a.Eacute=667,a.emacron=556,a.gbreve=556,a.onequarter=834,a.Scaron=667,a.Scommaaccent=667,a.Ohungarumlaut=778,a.degree=400,a.ograve=556,a.Ccaron=722,a.ugrave=556,a.radical=453,a.Dcaron=722,a.rcommaaccent=333,a.Ntilde=722,a.otilde=556,a.Rcommaaccent=722,a.Lcommaaccent=556,a.Atilde=667,a.Aogonek=667,a.Aring=667,a.Otilde=778,a.zdotaccent=500,a.Ecaron=667,a.Iogonek=278,a.kcommaaccent=500,a.minus=584,a.Icircumflex=278,a.ncaron=556,a.tcommaaccent=278,a.logicalnot=584,a.odieresis=556,a.udieresis=556,a.notequal=549,a.gcommaaccent=556,a.eth=556,a.zcaron=500,a.ncommaaccent=556,a.onesuperior=333,a.imacron=278,a.Euro=556}),a["Helvetica-Bold"]=d.getLookupTableFactory(function(a){a.space=278,a.exclam=333,a.quotedbl=474,a.numbersign=556,a.dollar=556,a.percent=889,a.ampersand=722,a.quoteright=278,a.parenleft=333,a.parenright=333,a.asterisk=389,a.plus=584,a.comma=278,a.hyphen=333,a.period=278,a.slash=278,a.zero=556,a.one=556,a.two=556,a.three=556,a.four=556,a.five=556,a.six=556,a.seven=556,a.eight=556,a.nine=556,a.colon=333,a.semicolon=333,a.less=584,a.equal=584,a.greater=584,a.question=611,a.at=975,a.A=722,a.B=722,a.C=722,a.D=722,a.E=667,a.F=611,a.G=778,a.H=722,a.I=278,a.J=556,a.K=722,a.L=611,a.M=833,a.N=722,a.O=778,a.P=667,a.Q=778,a.R=722,a.S=667,a.T=611,a.U=722,a.V=667,a.W=944,a.X=667,a.Y=667,a.Z=611,a.bracketleft=333,a.backslash=278,a.bracketright=333,a.asciicircum=584,a.underscore=556,a.quoteleft=278,a.a=556,a.b=611,a.c=556,a.d=611,a.e=556,a.f=333,a.g=611,a.h=611,a.i=278,a.j=278,a.k=556,a.l=278,a.m=889,a.n=611,a.o=611,a.p=611,a.q=611,a.r=389,a.s=556,a.t=333,a.u=611,a.v=556,a.w=778,a.x=556,a.y=556,a.z=500,a.braceleft=389,a.bar=280,a.braceright=389,a.asciitilde=584,a.exclamdown=333,a.cent=556,a.sterling=556,a.fraction=167,a.yen=556,a.florin=556,a.section=556,a.currency=556,a.quotesingle=238,a.quotedblleft=500,a.guillemotleft=556,a.guilsinglleft=333,a.guilsinglright=333,a.fi=611,a.fl=611,a.endash=556,a.dagger=556,a.daggerdbl=556,a.periodcentered=278,a.paragraph=556,a.bullet=350,a.quotesinglbase=278,a.quotedblbase=500,a.quotedblright=500,a.guillemotright=556,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=611,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=1e3,a.ordfeminine=370,a.Lslash=611,a.Oslash=778,a.OE=1e3,a.ordmasculine=365,a.ae=889,a.dotlessi=278,a.lslash=278,a.oslash=611,a.oe=944,a.germandbls=611,a.Idieresis=278,a.eacute=556,a.abreve=556,a.uhungarumlaut=611,a.ecaron=556,a.Ydieresis=667,a.divide=584,a.Yacute=667,a.Acircumflex=722,a.aacute=556,a.Ucircumflex=722,a.yacute=556,a.scommaaccent=556,a.ecircumflex=556,a.Uring=722,a.Udieresis=722,a.aogonek=556,a.Uacute=722,a.uogonek=611,a.Edieresis=667,a.Dcroat=722,a.commaaccent=250,a.copyright=737,a.Emacron=667,a.ccaron=556,a.aring=556,a.Ncommaaccent=722,a.lacute=278,a.agrave=556,a.Tcommaaccent=611,a.Cacute=722,a.atilde=556,a.Edotaccent=667,a.scaron=556,a.scedilla=556,a.iacute=278,a.lozenge=494,a.Rcaron=722,a.Gcommaaccent=778,a.ucircumflex=611,a.acircumflex=556,a.Amacron=722,a.rcaron=389,a.ccedilla=556,a.Zdotaccent=611,a.Thorn=667,a.Omacron=778,a.Racute=722,a.Sacute=667,a.dcaron=743,a.Umacron=722,a.uring=611,a.threesuperior=333,a.Ograve=778,a.Agrave=722,a.Abreve=722,a.multiply=584,a.uacute=611,a.Tcaron=611,a.partialdiff=494,a.ydieresis=556,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=667,a.adieresis=556,a.edieresis=556,a.cacute=556,a.nacute=611,a.umacron=611,a.Ncaron=722,a.Iacute=278,a.plusminus=584,a.brokenbar=280,a.registered=737,a.Gbreve=778,a.Idotaccent=278,a.summation=600,a.Egrave=667,a.racute=389,a.omacron=611,a.Zacute=611,a.Zcaron=611,a.greaterequal=549,a.Eth=722,a.Ccedilla=722,a.lcommaaccent=278,a.tcaron=389,a.eogonek=556,a.Uogonek=722,a.Aacute=722,a.Adieresis=722,a.egrave=556,a.zacute=500,a.iogonek=278,a.Oacute=778,a.oacute=611,a.amacron=556,a.sacute=556,a.idieresis=278,a.Ocircumflex=778,a.Ugrave=722,a.Delta=612,a.thorn=611,a.twosuperior=333,a.Odieresis=778,a.mu=611,a.igrave=278,a.ohungarumlaut=611,a.Eogonek=667,a.dcroat=611,a.threequarters=834,a.Scedilla=667,a.lcaron=400,a.Kcommaaccent=722,a.Lacute=611,a.trademark=1e3,a.edotaccent=556,a.Igrave=278,a.Imacron=278,a.Lcaron=611,a.onehalf=834,a.lessequal=549,a.ocircumflex=611,a.ntilde=611,a.Uhungarumlaut=722,a.Eacute=667,a.emacron=556,a.gbreve=611,a.onequarter=834,a.Scaron=667,a.Scommaaccent=667,a.Ohungarumlaut=778,a.degree=400,a.ograve=611,a.Ccaron=722,a.ugrave=611,a.radical=549,a.Dcaron=722,a.rcommaaccent=389,a.Ntilde=722,a.otilde=611,a.Rcommaaccent=722,a.Lcommaaccent=611,a.Atilde=722,a.Aogonek=722,a.Aring=722,a.Otilde=778,a.zdotaccent=500,a.Ecaron=667,a.Iogonek=278,a.kcommaaccent=556,a.minus=584,a.Icircumflex=278,a.ncaron=611,a.tcommaaccent=333,a.logicalnot=584,a.odieresis=611,a.udieresis=611,a.notequal=549,a.gcommaaccent=611,a.eth=611,a.zcaron=500,a.ncommaaccent=611,a.onesuperior=333,a.imacron=278,a.Euro=556}),a["Helvetica-BoldOblique"]=d.getLookupTableFactory(function(a){a.space=278,a.exclam=333,a.quotedbl=474,a.numbersign=556,a.dollar=556,a.percent=889,a.ampersand=722,a.quoteright=278,a.parenleft=333,a.parenright=333,a.asterisk=389,a.plus=584,a.comma=278,a.hyphen=333,a.period=278,a.slash=278,a.zero=556,a.one=556,a.two=556,a.three=556,a.four=556,a.five=556,a.six=556,a.seven=556,a.eight=556,a.nine=556,a.colon=333,a.semicolon=333,a.less=584,a.equal=584,a.greater=584,a.question=611,a.at=975,a.A=722,a.B=722,a.C=722,a.D=722,a.E=667,a.F=611,a.G=778,a.H=722,a.I=278,a.J=556,a.K=722,a.L=611,a.M=833,a.N=722,a.O=778,a.P=667,a.Q=778,a.R=722,a.S=667,a.T=611,a.U=722,a.V=667,a.W=944,a.X=667,a.Y=667,a.Z=611,a.bracketleft=333,a.backslash=278,a.bracketright=333,a.asciicircum=584,a.underscore=556,a.quoteleft=278,a.a=556,a.b=611,a.c=556,a.d=611,a.e=556,a.f=333,a.g=611,a.h=611,a.i=278,a.j=278,a.k=556,a.l=278,a.m=889,a.n=611,a.o=611,a.p=611,a.q=611,a.r=389,a.s=556,a.t=333,a.u=611,a.v=556,a.w=778,a.x=556,a.y=556,a.z=500,a.braceleft=389,a.bar=280,a.braceright=389,a.asciitilde=584,a.exclamdown=333,a.cent=556,a.sterling=556,a.fraction=167,a.yen=556,a.florin=556,a.section=556,a.currency=556,a.quotesingle=238,a.quotedblleft=500,a.guillemotleft=556,a.guilsinglleft=333,a.guilsinglright=333,a.fi=611,a.fl=611,a.endash=556,a.dagger=556,a.daggerdbl=556,a.periodcentered=278,a.paragraph=556,a.bullet=350,a.quotesinglbase=278,a.quotedblbase=500,a.quotedblright=500,a.guillemotright=556,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=611,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=1e3,a.ordfeminine=370,a.Lslash=611,a.Oslash=778,a.OE=1e3,a.ordmasculine=365,a.ae=889,a.dotlessi=278,a.lslash=278,a.oslash=611,a.oe=944,a.germandbls=611,a.Idieresis=278,a.eacute=556,a.abreve=556,a.uhungarumlaut=611,a.ecaron=556,a.Ydieresis=667,a.divide=584,a.Yacute=667,a.Acircumflex=722,a.aacute=556,a.Ucircumflex=722,a.yacute=556,a.scommaaccent=556,a.ecircumflex=556,a.Uring=722,a.Udieresis=722,a.aogonek=556,a.Uacute=722,a.uogonek=611,a.Edieresis=667,a.Dcroat=722,a.commaaccent=250,a.copyright=737,a.Emacron=667,a.ccaron=556,a.aring=556,a.Ncommaaccent=722,a.lacute=278,a.agrave=556,a.Tcommaaccent=611,a.Cacute=722,a.atilde=556,a.Edotaccent=667,a.scaron=556,a.scedilla=556,a.iacute=278,a.lozenge=494,a.Rcaron=722,a.Gcommaaccent=778,a.ucircumflex=611,a.acircumflex=556,a.Amacron=722,a.rcaron=389,a.ccedilla=556,a.Zdotaccent=611,a.Thorn=667,a.Omacron=778,a.Racute=722,a.Sacute=667,a.dcaron=743,a.Umacron=722,a.uring=611,a.threesuperior=333,a.Ograve=778,a.Agrave=722,a.Abreve=722,a.multiply=584,a.uacute=611,a.Tcaron=611,a.partialdiff=494,a.ydieresis=556,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=667,a.adieresis=556,a.edieresis=556,a.cacute=556,a.nacute=611,a.umacron=611,a.Ncaron=722,a.Iacute=278,a.plusminus=584,a.brokenbar=280,a.registered=737,a.Gbreve=778,a.Idotaccent=278,a.summation=600,a.Egrave=667,a.racute=389,a.omacron=611,a.Zacute=611,a.Zcaron=611,a.greaterequal=549,a.Eth=722,a.Ccedilla=722,a.lcommaaccent=278,a.tcaron=389,a.eogonek=556,a.Uogonek=722,a.Aacute=722,a.Adieresis=722,a.egrave=556,a.zacute=500,a.iogonek=278,a.Oacute=778,a.oacute=611,a.amacron=556,a.sacute=556,a.idieresis=278,a.Ocircumflex=778,a.Ugrave=722,a.Delta=612,a.thorn=611,a.twosuperior=333,a.Odieresis=778,a.mu=611,a.igrave=278,a.ohungarumlaut=611,a.Eogonek=667,a.dcroat=611,a.threequarters=834,a.Scedilla=667,a.lcaron=400,a.Kcommaaccent=722,a.Lacute=611,a.trademark=1e3,a.edotaccent=556,a.Igrave=278,a.Imacron=278,a.Lcaron=611,a.onehalf=834,a.lessequal=549,a.ocircumflex=611,a.ntilde=611,a.Uhungarumlaut=722,a.Eacute=667,a.emacron=556,a.gbreve=611,a.onequarter=834,a.Scaron=667,a.Scommaaccent=667,a.Ohungarumlaut=778,a.degree=400,a.ograve=611,a.Ccaron=722,a.ugrave=611,a.radical=549,a.Dcaron=722,a.rcommaaccent=389,a.Ntilde=722,a.otilde=611,a.Rcommaaccent=722,a.Lcommaaccent=611,a.Atilde=722,a.Aogonek=722,a.Aring=722,a.Otilde=778,a.zdotaccent=500,a.Ecaron=667,a.Iogonek=278,a.kcommaaccent=556,a.minus=584,a.Icircumflex=278,a.ncaron=611,a.tcommaaccent=333,a.logicalnot=584,a.odieresis=611,a.udieresis=611,a.notequal=549,a.gcommaaccent=611,a.eth=611,a.zcaron=500,a.ncommaaccent=611,a.onesuperior=333,a.imacron=278,a.Euro=556}),a["Helvetica-Oblique"]=d.getLookupTableFactory(function(a){a.space=278,a.exclam=278,a.quotedbl=355,a.numbersign=556,a.dollar=556,a.percent=889,a.ampersand=667,a.quoteright=222,a.parenleft=333,a.parenright=333,a.asterisk=389,a.plus=584,a.comma=278,a.hyphen=333,a.period=278,a.slash=278,a.zero=556,a.one=556,a.two=556,a.three=556,a.four=556,a.five=556,a.six=556,a.seven=556,a.eight=556,a.nine=556,a.colon=278,a.semicolon=278,a.less=584,a.equal=584,a.greater=584,a.question=556,a.at=1015,a.A=667,a.B=667,a.C=722,a.D=722,a.E=667,a.F=611,a.G=778,a.H=722,a.I=278,a.J=500,a.K=667,a.L=556,a.M=833,a.N=722,a.O=778,a.P=667,a.Q=778,a.R=722,a.S=667,a.T=611,a.U=722,a.V=667,a.W=944,a.X=667,a.Y=667,a.Z=611,a.bracketleft=278,a.backslash=278,a.bracketright=278,a.asciicircum=469,a.underscore=556,a.quoteleft=222,a.a=556,a.b=556,a.c=500,a.d=556,a.e=556,a.f=278,a.g=556,a.h=556,a.i=222,a.j=222,a.k=500,a.l=222,a.m=833,a.n=556,a.o=556,a.p=556,a.q=556,a.r=333,a.s=500,a.t=278,a.u=556,a.v=500,a.w=722,a.x=500,a.y=500,a.z=500,a.braceleft=334,a.bar=260,a.braceright=334,a.asciitilde=584,a.exclamdown=333,a.cent=556,a.sterling=556,a.fraction=167,a.yen=556,a.florin=556,a.section=556,a.currency=556,a.quotesingle=191,a.quotedblleft=333,a.guillemotleft=556,a.guilsinglleft=333,a.guilsinglright=333,a.fi=500,a.fl=500,a.endash=556,a.dagger=556,a.daggerdbl=556,a.periodcentered=278,a.paragraph=537,a.bullet=350,a.quotesinglbase=222,a.quotedblbase=333,a.quotedblright=333,a.guillemotright=556,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=611,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=1e3,a.ordfeminine=370,a.Lslash=556,a.Oslash=778,a.OE=1e3,a.ordmasculine=365,a.ae=889,a.dotlessi=278,a.lslash=222,a.oslash=611,a.oe=944,a.germandbls=611,a.Idieresis=278,a.eacute=556,a.abreve=556,a.uhungarumlaut=556,a.ecaron=556,a.Ydieresis=667,a.divide=584,a.Yacute=667,a.Acircumflex=667,a.aacute=556,a.Ucircumflex=722,a.yacute=500,a.scommaaccent=500,a.ecircumflex=556,a.Uring=722,a.Udieresis=722,a.aogonek=556,a.Uacute=722,a.uogonek=556,a.Edieresis=667,a.Dcroat=722,a.commaaccent=250,a.copyright=737,a.Emacron=667,a.ccaron=500,a.aring=556,a.Ncommaaccent=722,a.lacute=222,a.agrave=556,a.Tcommaaccent=611,a.Cacute=722,a.atilde=556,a.Edotaccent=667,a.scaron=500,a.scedilla=500,a.iacute=278,a.lozenge=471,a.Rcaron=722,a.Gcommaaccent=778,a.ucircumflex=556,a.acircumflex=556,a.Amacron=667,a.rcaron=333,a.ccedilla=500,a.Zdotaccent=611,a.Thorn=667,a.Omacron=778,a.Racute=722,a.Sacute=667,a.dcaron=643,a.Umacron=722,a.uring=556,a.threesuperior=333,a.Ograve=778,a.Agrave=667,a.Abreve=667,a.multiply=584,a.uacute=556,a.Tcaron=611,a.partialdiff=476,a.ydieresis=500,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=667,a.adieresis=556,a.edieresis=556,a.cacute=500,a.nacute=556,a.umacron=556,a.Ncaron=722,a.Iacute=278,a.plusminus=584,a.brokenbar=260,a.registered=737,a.Gbreve=778,a.Idotaccent=278,a.summation=600,a.Egrave=667,a.racute=333,a.omacron=556,a.Zacute=611,a.Zcaron=611,a.greaterequal=549,a.Eth=722,a.Ccedilla=722,a.lcommaaccent=222,a.tcaron=317,a.eogonek=556,a.Uogonek=722,a.Aacute=667,a.Adieresis=667,a.egrave=556,a.zacute=500,a.iogonek=222,a.Oacute=778,a.oacute=556,a.amacron=556,a.sacute=500,a.idieresis=278,a.Ocircumflex=778,a.Ugrave=722,a.Delta=612,a.thorn=556,a.twosuperior=333,a.Odieresis=778,a.mu=556,a.igrave=278,a.ohungarumlaut=556,a.Eogonek=667,a.dcroat=556,a.threequarters=834,a.Scedilla=667,a.lcaron=299,a.Kcommaaccent=667,a.Lacute=556,a.trademark=1e3,a.edotaccent=556,a.Igrave=278,a.Imacron=278,a.Lcaron=556,a.onehalf=834,a.lessequal=549,a.ocircumflex=556,a.ntilde=556,a.Uhungarumlaut=722,a.Eacute=667,a.emacron=556,a.gbreve=556,a.onequarter=834,a.Scaron=667,a.Scommaaccent=667,a.Ohungarumlaut=778,a.degree=400,a.ograve=556,a.Ccaron=722,a.ugrave=556,a.radical=453,a.Dcaron=722,a.rcommaaccent=333,a.Ntilde=722,a.otilde=556,a.Rcommaaccent=722,a.Lcommaaccent=556,a.Atilde=667,a.Aogonek=667,a.Aring=667,a.Otilde=778,a.zdotaccent=500,a.Ecaron=667,a.Iogonek=278,a.kcommaaccent=500,a.minus=584,a.Icircumflex=278,a.ncaron=556,a.tcommaaccent=278,a.logicalnot=584,a.odieresis=556,a.udieresis=556,a.notequal=549,a.gcommaaccent=556,a.eth=556,a.zcaron=500,a.ncommaaccent=556,a.onesuperior=333,a.imacron=278,a.Euro=556}),a.Symbol=d.getLookupTableFactory(function(a){a.space=250,a.exclam=333,a.universal=713,a.numbersign=500,a.existential=549,a.percent=833,a.ampersand=778,a.suchthat=439,a.parenleft=333,a.parenright=333,a.asteriskmath=500,a.plus=549,a.comma=250,a.minus=549,a.period=250,a.slash=278,a.zero=500,a.one=500,a.two=500,a.three=500,a.four=500,a.five=500,a.six=500,a.seven=500,a.eight=500,a.nine=500,a.colon=278,a.semicolon=278,a.less=549,a.equal=549,a.greater=549,a.question=444,a.congruent=549,a.Alpha=722,a.Beta=667,a.Chi=722,a.Delta=612,a.Epsilon=611,a.Phi=763,a.Gamma=603,a.Eta=722,a.Iota=333,a.theta1=631,a.Kappa=722,a.Lambda=686,a.Mu=889,a.Nu=722,a.Omicron=722,a.Pi=768,a.Theta=741,a.Rho=556,a.Sigma=592,a.Tau=611,a.Upsilon=690,a.sigma1=439,a.Omega=768,a.Xi=645,a.Psi=795,a.Zeta=611,a.bracketleft=333,a.therefore=863,a.bracketright=333,a.perpendicular=658,a.underscore=500,a.radicalex=500,a.alpha=631,a.beta=549,a.chi=549,a.delta=494,a.epsilon=439,a.phi=521,a.gamma=411,a.eta=603,a.iota=329,a.phi1=603,a.kappa=549,a.lambda=549,a.mu=576,a.nu=521,a.omicron=549,a.pi=549,a.theta=521,a.rho=549,a.sigma=603,a.tau=439,a.upsilon=576,a.omega1=713,a.omega=686,a.xi=493,a.psi=686,a.zeta=494,a.braceleft=480,a.bar=200,a.braceright=480,a.similar=549,a.Euro=750,a.Upsilon1=620,a.minute=247,a.lessequal=549,a.fraction=167,a.infinity=713,a.florin=500,a.club=753,a.diamond=753,a.heart=753,a.spade=753,a.arrowboth=1042,a.arrowleft=987,a.arrowup=603,a.arrowright=987,a.arrowdown=603,a.degree=400,a.plusminus=549,a.second=411,a.greaterequal=549,a.multiply=549,a.proportional=713,a.partialdiff=494,a.bullet=460,a.divide=549,a.notequal=549,a.equivalence=549,a.approxequal=549,a.ellipsis=1e3,a.arrowvertex=603,a.arrowhorizex=1e3,a.carriagereturn=658,a.aleph=823,a.Ifraktur=686,a.Rfraktur=795,a.weierstrass=987,a.circlemultiply=768,a.circleplus=768,a.emptyset=823,a.intersection=768,a.union=768,a.propersuperset=713,a.reflexsuperset=713,a.notsubset=713,a.propersubset=713,a.reflexsubset=713,a.element=713,a.notelement=713,a.angle=768,a.gradient=713,a.registerserif=790,a.copyrightserif=790,a.trademarkserif=890,a.product=823,a.radical=549,a.dotmath=250,a.logicalnot=713,a.logicaland=603,a.logicalor=603,a.arrowdblboth=1042,a.arrowdblleft=987,a.arrowdblup=603,a.arrowdblright=987,a.arrowdbldown=603,a.lozenge=494,a.angleleft=329,a.registersans=790,a.copyrightsans=790,a.trademarksans=786,a.summation=713,a.parenlefttp=384,a.parenleftex=384,a.parenleftbt=384,a.bracketlefttp=384,a.bracketleftex=384,a.bracketleftbt=384,a.bracelefttp=494,a.braceleftmid=494,a.braceleftbt=494,a.braceex=494,a.angleright=329,a.integral=274,a.integraltp=686,a.integralex=686,a.integralbt=686,a.parenrighttp=384,a.parenrightex=384,a.parenrightbt=384,a.bracketrighttp=384,a.bracketrightex=384,a.bracketrightbt=384,a.bracerighttp=494,a.bracerightmid=494,a.bracerightbt=494,a.apple=790}),a["Times-Roman"]=d.getLookupTableFactory(function(a){a.space=250,a.exclam=333,a.quotedbl=408,a.numbersign=500,a.dollar=500,a.percent=833,a.ampersand=778,a.quoteright=333,a.parenleft=333,a.parenright=333,a.asterisk=500,a.plus=564,a.comma=250,a.hyphen=333,a.period=250,a.slash=278,a.zero=500,a.one=500,a.two=500,a.three=500,a.four=500,a.five=500,a.six=500,a.seven=500,a.eight=500,a.nine=500,a.colon=278,a.semicolon=278,a.less=564,a.equal=564,a.greater=564,a.question=444,a.at=921,a.A=722,a.B=667,a.C=667,a.D=722,a.E=611,a.F=556,a.G=722,a.H=722,a.I=333,a.J=389,a.K=722,a.L=611,a.M=889,a.N=722,a.O=722,a.P=556,a.Q=722,a.R=667,a.S=556,a.T=611,a.U=722,a.V=722,a.W=944,a.X=722,a.Y=722,a.Z=611,a.bracketleft=333,a.backslash=278,a.bracketright=333,a.asciicircum=469,a.underscore=500,a.quoteleft=333,a.a=444,a.b=500,a.c=444,a.d=500,a.e=444,a.f=333,a.g=500,a.h=500,a.i=278,a.j=278,a.k=500,a.l=278,a.m=778,a.n=500,a.o=500,a.p=500,a.q=500,a.r=333,a.s=389,a.t=278,a.u=500,a.v=500,a.w=722,a.x=500,a.y=500,a.z=444,a.braceleft=480,a.bar=200,a.braceright=480,a.asciitilde=541,a.exclamdown=333,a.cent=500,a.sterling=500,a.fraction=167,a.yen=500,a.florin=500,a.section=500,a.currency=500,a.quotesingle=180,a.quotedblleft=444,a.guillemotleft=500,a.guilsinglleft=333,a.guilsinglright=333,a.fi=556,a.fl=556,a.endash=500,a.dagger=500,a.daggerdbl=500,a.periodcentered=250,a.paragraph=453,a.bullet=350,a.quotesinglbase=333,a.quotedblbase=444,a.quotedblright=444,a.guillemotright=500,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=444,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=889,a.ordfeminine=276,a.Lslash=611,a.Oslash=722,a.OE=889,a.ordmasculine=310,a.ae=667,a.dotlessi=278,a.lslash=278,a.oslash=500,a.oe=722,a.germandbls=500,a.Idieresis=333,a.eacute=444,a.abreve=444,a.uhungarumlaut=500,a.ecaron=444,a.Ydieresis=722,a.divide=564,a.Yacute=722,a.Acircumflex=722,a.aacute=444,a.Ucircumflex=722,a.yacute=500,a.scommaaccent=389,a.ecircumflex=444,a.Uring=722,a.Udieresis=722,a.aogonek=444,a.Uacute=722,a.uogonek=500,a.Edieresis=611,a.Dcroat=722,a.commaaccent=250,a.copyright=760,a.Emacron=611,a.ccaron=444,a.aring=444,a.Ncommaaccent=722,a.lacute=278,a.agrave=444,a.Tcommaaccent=611,a.Cacute=667,a.atilde=444,a.Edotaccent=611,a.scaron=389,a.scedilla=389,a.iacute=278,a.lozenge=471,a.Rcaron=667,a.Gcommaaccent=722,a.ucircumflex=500,a.acircumflex=444,a.Amacron=722,a.rcaron=333,a.ccedilla=444,a.Zdotaccent=611,a.Thorn=556,a.Omacron=722,a.Racute=667,a.Sacute=556,a.dcaron=588,a.Umacron=722,a.uring=500,a.threesuperior=300,a.Ograve=722,a.Agrave=722,a.Abreve=722,a.multiply=564,a.uacute=500,a.Tcaron=611,a.partialdiff=476,a.ydieresis=500,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=611,a.adieresis=444,a.edieresis=444,a.cacute=444,a.nacute=500,a.umacron=500,a.Ncaron=722,a.Iacute=333,a.plusminus=564,a.brokenbar=200,a.registered=760,a.Gbreve=722,a.Idotaccent=333,a.summation=600,a.Egrave=611,a.racute=333,a.omacron=500,a.Zacute=611,a.Zcaron=611,a.greaterequal=549,a.Eth=722,a.Ccedilla=667,a.lcommaaccent=278,a.tcaron=326,a.eogonek=444,a.Uogonek=722,a.Aacute=722,a.Adieresis=722,a.egrave=444,a.zacute=444,a.iogonek=278,a.Oacute=722,a.oacute=500,a.amacron=444,a.sacute=389,a.idieresis=278,a.Ocircumflex=722,a.Ugrave=722,a.Delta=612,a.thorn=500,a.twosuperior=300,a.Odieresis=722,a.mu=500,a.igrave=278,a.ohungarumlaut=500,a.Eogonek=611,a.dcroat=500,a.threequarters=750,a.Scedilla=556,a.lcaron=344,a.Kcommaaccent=722,a.Lacute=611,a.trademark=980,a.edotaccent=444,a.Igrave=333,a.Imacron=333,a.Lcaron=611,a.onehalf=750,a.lessequal=549,a.ocircumflex=500,a.ntilde=500,a.Uhungarumlaut=722,a.Eacute=611,a.emacron=444,a.gbreve=500,a.onequarter=750,a.Scaron=556,a.Scommaaccent=556,a.Ohungarumlaut=722,a.degree=400,a.ograve=500,a.Ccaron=667,a.ugrave=500,a.radical=453,a.Dcaron=722,a.rcommaaccent=333,a.Ntilde=722,a.otilde=500,a.Rcommaaccent=667,a.Lcommaaccent=611,a.Atilde=722,a.Aogonek=722,a.Aring=722,a.Otilde=722,a.zdotaccent=444,a.Ecaron=611,a.Iogonek=333,a.kcommaaccent=500,a.minus=564,a.Icircumflex=333,a.ncaron=500,a.tcommaaccent=278,a.logicalnot=564,a.odieresis=500,a.udieresis=500,a.notequal=549,a.gcommaaccent=500,a.eth=500,a.zcaron=444,a.ncommaaccent=500,a.onesuperior=300,a.imacron=278,a.Euro=500}),a["Times-Bold"]=d.getLookupTableFactory(function(a){a.space=250,a.exclam=333,a.quotedbl=555,a.numbersign=500,a.dollar=500,a.percent=1e3,a.ampersand=833,a.quoteright=333,a.parenleft=333,a.parenright=333,a.asterisk=500,a.plus=570,a.comma=250,a.hyphen=333,a.period=250,a.slash=278,a.zero=500,a.one=500,a.two=500,a.three=500,a.four=500,a.five=500,a.six=500,a.seven=500,a.eight=500,a.nine=500,a.colon=333,a.semicolon=333,a.less=570,a.equal=570,a.greater=570,a.question=500,a.at=930,a.A=722,a.B=667,a.C=722,a.D=722,a.E=667,a.F=611,a.G=778,a.H=778,a.I=389,a.J=500,a.K=778,a.L=667,a.M=944,a.N=722,a.O=778,a.P=611,a.Q=778,a.R=722,a.S=556,a.T=667,a.U=722,a.V=722,a.W=1e3,a.X=722,a.Y=722,a.Z=667,a.bracketleft=333,a.backslash=278,a.bracketright=333,a.asciicircum=581,a.underscore=500,a.quoteleft=333,a.a=500,a.b=556,a.c=444,a.d=556,a.e=444,a.f=333,a.g=500,a.h=556,a.i=278,a.j=333,a.k=556,a.l=278,a.m=833,a.n=556,a.o=500,a.p=556,a.q=556,a.r=444,a.s=389,a.t=333,a.u=556,a.v=500,a.w=722,a.x=500,a.y=500,a.z=444,a.braceleft=394,a.bar=220,a.braceright=394,a.asciitilde=520,a.exclamdown=333,a.cent=500,a.sterling=500,a.fraction=167,a.yen=500,a.florin=500,a.section=500,a.currency=500,a.quotesingle=278,a.quotedblleft=500,a.guillemotleft=500,a.guilsinglleft=333,a.guilsinglright=333,a.fi=556,a.fl=556,a.endash=500,a.dagger=500,a.daggerdbl=500,a.periodcentered=250,a.paragraph=540,a.bullet=350,a.quotesinglbase=333,a.quotedblbase=500,a.quotedblright=500,a.guillemotright=500,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=500,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=1e3,a.ordfeminine=300,a.Lslash=667,a.Oslash=778,a.OE=1e3,a.ordmasculine=330,a.ae=722,a.dotlessi=278,a.lslash=278,a.oslash=500,a.oe=722,a.germandbls=556,a.Idieresis=389,a.eacute=444,a.abreve=500,a.uhungarumlaut=556,a.ecaron=444,a.Ydieresis=722,a.divide=570,a.Yacute=722,a.Acircumflex=722,a.aacute=500,a.Ucircumflex=722,a.yacute=500,a.scommaaccent=389,a.ecircumflex=444,a.Uring=722,a.Udieresis=722,a.aogonek=500,a.Uacute=722,a.uogonek=556,a.Edieresis=667,a.Dcroat=722,a.commaaccent=250,a.copyright=747,a.Emacron=667,a.ccaron=444,a.aring=500,a.Ncommaaccent=722,a.lacute=278,a.agrave=500,a.Tcommaaccent=667,a.Cacute=722,a.atilde=500,a.Edotaccent=667,a.scaron=389,a.scedilla=389,a.iacute=278,a.lozenge=494,a.Rcaron=722,a.Gcommaaccent=778,a.ucircumflex=556,a.acircumflex=500,a.Amacron=722,a.rcaron=444,a.ccedilla=444,a.Zdotaccent=667,a.Thorn=611,a.Omacron=778,a.Racute=722,a.Sacute=556,a.dcaron=672,a.Umacron=722,a.uring=556,a.threesuperior=300,a.Ograve=778,a.Agrave=722,a.Abreve=722,a.multiply=570,a.uacute=556,a.Tcaron=667,a.partialdiff=494,a.ydieresis=500,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=667,a.adieresis=500,a.edieresis=444,a.cacute=444,a.nacute=556,a.umacron=556,a.Ncaron=722,a.Iacute=389,a.plusminus=570,a.brokenbar=220,a.registered=747,a.Gbreve=778,a.Idotaccent=389,a.summation=600,a.Egrave=667,a.racute=444,a.omacron=500,a.Zacute=667,a.Zcaron=667,a.greaterequal=549,a.Eth=722,a.Ccedilla=722,a.lcommaaccent=278,a.tcaron=416,a.eogonek=444,a.Uogonek=722,a.Aacute=722,a.Adieresis=722,a.egrave=444,a.zacute=444,a.iogonek=278,a.Oacute=778,a.oacute=500,a.amacron=500,a.sacute=389,a.idieresis=278,a.Ocircumflex=778,a.Ugrave=722,a.Delta=612,a.thorn=556,a.twosuperior=300,a.Odieresis=778,a.mu=556,a.igrave=278,a.ohungarumlaut=500,a.Eogonek=667,a.dcroat=556,a.threequarters=750,a.Scedilla=556,a.lcaron=394,a.Kcommaaccent=778,a.Lacute=667,a.trademark=1e3,a.edotaccent=444,a.Igrave=389,a.Imacron=389,a.Lcaron=667,a.onehalf=750,a.lessequal=549,a.ocircumflex=500,a.ntilde=556,a.Uhungarumlaut=722,a.Eacute=667,a.emacron=444,a.gbreve=500,a.onequarter=750,a.Scaron=556,a.Scommaaccent=556,a.Ohungarumlaut=778,a.degree=400,a.ograve=500,a.Ccaron=722,a.ugrave=556,a.radical=549,a.Dcaron=722,a.rcommaaccent=444,a.Ntilde=722,a.otilde=500,a.Rcommaaccent=722,a.Lcommaaccent=667,a.Atilde=722,a.Aogonek=722,a.Aring=722,a.Otilde=778,a.zdotaccent=444,a.Ecaron=667,a.Iogonek=389,a.kcommaaccent=556,a.minus=570,a.Icircumflex=389,a.ncaron=556,a.tcommaaccent=333,a.logicalnot=570,a.odieresis=500,a.udieresis=556,a.notequal=549,a.gcommaaccent=500,a.eth=500,a.zcaron=444,a.ncommaaccent=556,a.onesuperior=300,a.imacron=278,a.Euro=500}),a["Times-BoldItalic"]=d.getLookupTableFactory(function(a){a.space=250,a.exclam=389,a.quotedbl=555,a.numbersign=500,a.dollar=500,a.percent=833,a.ampersand=778,a.quoteright=333,a.parenleft=333,a.parenright=333,a.asterisk=500,a.plus=570,a.comma=250,a.hyphen=333,a.period=250,a.slash=278,a.zero=500,a.one=500,a.two=500,a.three=500,a.four=500,a.five=500,a.six=500,a.seven=500,a.eight=500,a.nine=500,a.colon=333,a.semicolon=333,a.less=570,a.equal=570,a.greater=570,a.question=500,a.at=832,a.A=667,a.B=667,a.C=667,a.D=722,a.E=667,a.F=667,a.G=722,a.H=778,a.I=389,a.J=500,a.K=667,a.L=611,a.M=889,a.N=722,a.O=722,a.P=611,a.Q=722,a.R=667,a.S=556,a.T=611,a.U=722,a.V=667,a.W=889,a.X=667,a.Y=611,a.Z=611,a.bracketleft=333,a.backslash=278,a.bracketright=333,a.asciicircum=570,a.underscore=500,a.quoteleft=333,a.a=500,a.b=500,a.c=444,a.d=500,a.e=444,a.f=333,a.g=500,a.h=556,a.i=278,a.j=278,a.k=500,a.l=278,a.m=778,a.n=556,a.o=500,a.p=500,a.q=500,a.r=389,a.s=389,a.t=278,a.u=556,a.v=444,a.w=667,a.x=500,a.y=444,a.z=389,a.braceleft=348,a.bar=220,a.braceright=348,a.asciitilde=570,a.exclamdown=389,a.cent=500,a.sterling=500,a.fraction=167,a.yen=500,a.florin=500,a.section=500,a.currency=500,a.quotesingle=278,a.quotedblleft=500,a.guillemotleft=500,a.guilsinglleft=333,a.guilsinglright=333,a.fi=556,a.fl=556,a.endash=500,a.dagger=500,a.daggerdbl=500,a.periodcentered=250,a.paragraph=500,a.bullet=350,a.quotesinglbase=333,a.quotedblbase=500,a.quotedblright=500,a.guillemotright=500,a.ellipsis=1e3,a.perthousand=1e3,a.questiondown=500,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=1e3,a.AE=944,a.ordfeminine=266,a.Lslash=611,a.Oslash=722,a.OE=944,a.ordmasculine=300,a.ae=722,a.dotlessi=278,a.lslash=278,a.oslash=500,a.oe=722,a.germandbls=500,a.Idieresis=389,a.eacute=444,a.abreve=500,a.uhungarumlaut=556,a.ecaron=444,a.Ydieresis=611,a.divide=570,a.Yacute=611,a.Acircumflex=667,a.aacute=500,a.Ucircumflex=722,a.yacute=444,a.scommaaccent=389,a.ecircumflex=444,a.Uring=722,a.Udieresis=722,a.aogonek=500,a.Uacute=722,a.uogonek=556,a.Edieresis=667,a.Dcroat=722,a.commaaccent=250,a.copyright=747,a.Emacron=667,a.ccaron=444,a.aring=500,a.Ncommaaccent=722,a.lacute=278,a.agrave=500,a.Tcommaaccent=611,a.Cacute=667,a.atilde=500,a.Edotaccent=667,a.scaron=389,a.scedilla=389,a.iacute=278,a.lozenge=494,a.Rcaron=667,a.Gcommaaccent=722,a.ucircumflex=556,a.acircumflex=500,a.Amacron=667,a.rcaron=389,a.ccedilla=444,a.Zdotaccent=611,a.Thorn=611,a.Omacron=722,a.Racute=667,a.Sacute=556,a.dcaron=608,a.Umacron=722,a.uring=556,a.threesuperior=300,a.Ograve=722,a.Agrave=667,a.Abreve=667,a.multiply=570,a.uacute=556,a.Tcaron=611,a.partialdiff=494,a.ydieresis=444,a.Nacute=722,a.icircumflex=278,a.Ecircumflex=667,a.adieresis=500,a.edieresis=444,a.cacute=444,a.nacute=556,a.umacron=556,a.Ncaron=722,a.Iacute=389,a.plusminus=570,a.brokenbar=220,a.registered=747,a.Gbreve=722,a.Idotaccent=389,a.summation=600,a.Egrave=667,a.racute=389,a.omacron=500,a.Zacute=611,a.Zcaron=611,a.greaterequal=549,a.Eth=722,a.Ccedilla=667,a.lcommaaccent=278,a.tcaron=366,a.eogonek=444,a.Uogonek=722,a.Aacute=667,a.Adieresis=667,a.egrave=444,a.zacute=389,a.iogonek=278,a.Oacute=722,a.oacute=500,a.amacron=500,a.sacute=389,a.idieresis=278,a.Ocircumflex=722,a.Ugrave=722,a.Delta=612,a.thorn=500,a.twosuperior=300,a.Odieresis=722,a.mu=576,a.igrave=278,a.ohungarumlaut=500,a.Eogonek=667,a.dcroat=500,a.threequarters=750,a.Scedilla=556,a.lcaron=382,a.Kcommaaccent=667,a.Lacute=611,a.trademark=1e3,a.edotaccent=444,a.Igrave=389,a.Imacron=389,a.Lcaron=611,a.onehalf=750,a.lessequal=549,a.ocircumflex=500,a.ntilde=556,a.Uhungarumlaut=722,a.Eacute=667,a.emacron=444,a.gbreve=500,a.onequarter=750,a.Scaron=556,a.Scommaaccent=556,a.Ohungarumlaut=722,a.degree=400,a.ograve=500,a.Ccaron=667,a.ugrave=556,a.radical=549,a.Dcaron=722,a.rcommaaccent=389,a.Ntilde=722,a.otilde=500,a.Rcommaaccent=667,a.Lcommaaccent=611,a.Atilde=667,a.Aogonek=667,a.Aring=667,a.Otilde=722,a.zdotaccent=389,a.Ecaron=667,a.Iogonek=389,a.kcommaaccent=500,a.minus=606,a.Icircumflex=389,a.ncaron=556,a.tcommaaccent=278,a.logicalnot=606,a.odieresis=500,a.udieresis=556,a.notequal=549,a.gcommaaccent=500,a.eth=500,a.zcaron=389,a.ncommaaccent=556,a.onesuperior=300,a.imacron=278,a.Euro=500}),a["Times-Italic"]=d.getLookupTableFactory(function(a){a.space=250,a.exclam=333,a.quotedbl=420,a.numbersign=500,a.dollar=500,a.percent=833,a.ampersand=778,a.quoteright=333,a.parenleft=333,a.parenright=333,a.asterisk=500,a.plus=675,a.comma=250,a.hyphen=333,a.period=250,a.slash=278,a.zero=500,a.one=500,a.two=500,a.three=500,a.four=500,a.five=500,a.six=500,a.seven=500,a.eight=500,a.nine=500,a.colon=333,a.semicolon=333,a.less=675,a.equal=675,a.greater=675,a.question=500,a.at=920,a.A=611,a.B=611,a.C=667,a.D=722,a.E=611,a.F=611,a.G=722,a.H=722,a.I=333,a.J=444,a.K=667,a.L=556,a.M=833,a.N=667,a.O=722,a.P=611,a.Q=722,a.R=611,a.S=500,a.T=556,a.U=722,a.V=611,a.W=833,a.X=611,a.Y=556,a.Z=556,a.bracketleft=389,a.backslash=278,a.bracketright=389,a.asciicircum=422,a.underscore=500,a.quoteleft=333,a.a=500,a.b=500,a.c=444,a.d=500,a.e=444,a.f=278,a.g=500,a.h=500,a.i=278,a.j=278,a.k=444,a.l=278,a.m=722,a.n=500,a.o=500,a.p=500,a.q=500,a.r=389,a.s=389,a.t=278,a.u=500,a.v=444,a.w=667,a.x=444,a.y=444,a.z=389,a.braceleft=400,a.bar=275,a.braceright=400,a.asciitilde=541,a.exclamdown=389,a.cent=500,a.sterling=500,a.fraction=167,a.yen=500,a.florin=500,a.section=500,a.currency=500,a.quotesingle=214,a.quotedblleft=556,a.guillemotleft=500,a.guilsinglleft=333,a.guilsinglright=333,a.fi=500,a.fl=500,a.endash=500,a.dagger=500,a.daggerdbl=500,a.periodcentered=250,a.paragraph=523,a.bullet=350,a.quotesinglbase=333,a.quotedblbase=556,a.quotedblright=556,a.guillemotright=500,a.ellipsis=889,a.perthousand=1e3,a.questiondown=500,a.grave=333,a.acute=333,a.circumflex=333,a.tilde=333,a.macron=333,a.breve=333,a.dotaccent=333,a.dieresis=333,a.ring=333,a.cedilla=333,a.hungarumlaut=333,a.ogonek=333,a.caron=333,a.emdash=889,a.AE=889,a.ordfeminine=276,a.Lslash=556,a.Oslash=722,a.OE=944,a.ordmasculine=310,a.ae=667,a.dotlessi=278,a.lslash=278,a.oslash=500,a.oe=667,a.germandbls=500,a.Idieresis=333,a.eacute=444,a.abreve=500,a.uhungarumlaut=500,a.ecaron=444,a.Ydieresis=556,a.divide=675,a.Yacute=556,a.Acircumflex=611,a.aacute=500,a.Ucircumflex=722,a.yacute=444,a.scommaaccent=389,a.ecircumflex=444,a.Uring=722,a.Udieresis=722,a.aogonek=500,a.Uacute=722,a.uogonek=500,a.Edieresis=611,a.Dcroat=722,a.commaaccent=250,a.copyright=760,a.Emacron=611,a.ccaron=444,a.aring=500,a.Ncommaaccent=667,a.lacute=278,a.agrave=500,a.Tcommaaccent=556,a.Cacute=667,a.atilde=500,a.Edotaccent=611,a.scaron=389,a.scedilla=389,a.iacute=278,a.lozenge=471,a.Rcaron=611,a.Gcommaaccent=722,a.ucircumflex=500,a.acircumflex=500,a.Amacron=611,a.rcaron=389,a.ccedilla=444,a.Zdotaccent=556,a.Thorn=611,a.Omacron=722,a.Racute=611,a.Sacute=500,a.dcaron=544,a.Umacron=722,a.uring=500,
a.threesuperior=300,a.Ograve=722,a.Agrave=611,a.Abreve=611,a.multiply=675,a.uacute=500,a.Tcaron=556,a.partialdiff=476,a.ydieresis=444,a.Nacute=667,a.icircumflex=278,a.Ecircumflex=611,a.adieresis=500,a.edieresis=444,a.cacute=444,a.nacute=500,a.umacron=500,a.Ncaron=667,a.Iacute=333,a.plusminus=675,a.brokenbar=275,a.registered=760,a.Gbreve=722,a.Idotaccent=333,a.summation=600,a.Egrave=611,a.racute=389,a.omacron=500,a.Zacute=556,a.Zcaron=556,a.greaterequal=549,a.Eth=722,a.Ccedilla=667,a.lcommaaccent=278,a.tcaron=300,a.eogonek=444,a.Uogonek=722,a.Aacute=611,a.Adieresis=611,a.egrave=444,a.zacute=389,a.iogonek=278,a.Oacute=722,a.oacute=500,a.amacron=500,a.sacute=389,a.idieresis=278,a.Ocircumflex=722,a.Ugrave=722,a.Delta=612,a.thorn=500,a.twosuperior=300,a.Odieresis=722,a.mu=500,a.igrave=278,a.ohungarumlaut=500,a.Eogonek=611,a.dcroat=500,a.threequarters=750,a.Scedilla=500,a.lcaron=300,a.Kcommaaccent=667,a.Lacute=556,a.trademark=980,a.edotaccent=444,a.Igrave=333,a.Imacron=333,a.Lcaron=611,a.onehalf=750,a.lessequal=549,a.ocircumflex=500,a.ntilde=500,a.Uhungarumlaut=722,a.Eacute=611,a.emacron=444,a.gbreve=500,a.onequarter=750,a.Scaron=500,a.Scommaaccent=500,a.Ohungarumlaut=722,a.degree=400,a.ograve=500,a.Ccaron=667,a.ugrave=500,a.radical=453,a.Dcaron=722,a.rcommaaccent=389,a.Ntilde=667,a.otilde=500,a.Rcommaaccent=611,a.Lcommaaccent=556,a.Atilde=611,a.Aogonek=611,a.Aring=611,a.Otilde=722,a.zdotaccent=389,a.Ecaron=611,a.Iogonek=333,a.kcommaaccent=444,a.minus=675,a.Icircumflex=333,a.ncaron=500,a.tcommaaccent=278,a.logicalnot=675,a.odieresis=500,a.udieresis=500,a.notequal=549,a.gcommaaccent=500,a.eth=500,a.zcaron=389,a.ncommaaccent=500,a.onesuperior=300,a.imacron=278,a.Euro=500}),a.ZapfDingbats=d.getLookupTableFactory(function(a){a.space=278,a.a1=974,a.a2=961,a.a202=974,a.a3=980,a.a4=719,a.a5=789,a.a119=790,a.a118=791,a.a117=690,a.a11=960,a.a12=939,a.a13=549,a.a14=855,a.a15=911,a.a16=933,a.a105=911,a.a17=945,a.a18=974,a.a19=755,a.a20=846,a.a21=762,a.a22=761,a.a23=571,a.a24=677,a.a25=763,a.a26=760,a.a27=759,a.a28=754,a.a6=494,a.a7=552,a.a8=537,a.a9=577,a.a10=692,a.a29=786,a.a30=788,a.a31=788,a.a32=790,a.a33=793,a.a34=794,a.a35=816,a.a36=823,a.a37=789,a.a38=841,a.a39=823,a.a40=833,a.a41=816,a.a42=831,a.a43=923,a.a44=744,a.a45=723,a.a46=749,a.a47=790,a.a48=792,a.a49=695,a.a50=776,a.a51=768,a.a52=792,a.a53=759,a.a54=707,a.a55=708,a.a56=682,a.a57=701,a.a58=826,a.a59=815,a.a60=789,a.a61=789,a.a62=707,a.a63=687,a.a64=696,a.a65=689,a.a66=786,a.a67=787,a.a68=713,a.a69=791,a.a70=785,a.a71=791,a.a72=873,a.a73=761,a.a74=762,a.a203=762,a.a75=759,a.a204=759,a.a76=892,a.a77=892,a.a78=788,a.a79=784,a.a81=438,a.a82=138,a.a83=277,a.a84=415,a.a97=392,a.a98=392,a.a99=668,a.a100=668,a.a89=390,a.a90=390,a.a93=317,a.a94=317,a.a91=276,a.a92=276,a.a205=509,a.a85=509,a.a206=410,a.a86=410,a.a87=234,a.a88=234,a.a95=334,a.a96=334,a.a101=732,a.a102=544,a.a103=544,a.a104=910,a.a106=667,a.a107=760,a.a108=760,a.a112=776,a.a111=595,a.a110=694,a.a109=626,a.a120=788,a.a121=788,a.a122=788,a.a123=788,a.a124=788,a.a125=788,a.a126=788,a.a127=788,a.a128=788,a.a129=788,a.a130=788,a.a131=788,a.a132=788,a.a133=788,a.a134=788,a.a135=788,a.a136=788,a.a137=788,a.a138=788,a.a139=788,a.a140=788,a.a141=788,a.a142=788,a.a143=788,a.a144=788,a.a145=788,a.a146=788,a.a147=788,a.a148=788,a.a149=788,a.a150=788,a.a151=788,a.a152=788,a.a153=788,a.a154=788,a.a155=788,a.a156=788,a.a157=788,a.a158=788,a.a159=788,a.a160=894,a.a161=838,a.a163=1016,a.a164=458,a.a196=748,a.a165=924,a.a192=748,a.a166=918,a.a167=927,a.a168=928,a.a169=928,a.a170=834,a.a171=873,a.a172=828,a.a173=924,a.a162=924,a.a174=917,a.a175=930,a.a176=931,a.a177=463,a.a178=883,a.a179=836,a.a193=836,a.a180=867,a.a199=867,a.a181=696,a.a200=696,a.a182=874,a.a201=874,a.a183=760,a.a184=946,a.a197=771,a.a185=865,a.a194=771,a.a198=888,a.a186=967,a.a195=888,a.a187=831,a.a188=873,a.a189=927,a.a190=970,a.a191=918})});b.getMetrics=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PostScriptParser=b.PostScriptLexer=void 0;var d=c(0),e=c(2),f=function(){function a(a){this.lexer=a,this.operators=[],this.token=null,this.prev=null}return a.prototype={nextToken:function(){this.prev=this.token,this.token=this.lexer.getToken()},accept:function(a){return this.token.type===a?(this.nextToken(),!0):!1},expect:function(a){if(this.accept(a))return!0;throw new d.FormatError("Unexpected symbol: found "+this.token.type+" expected "+a+".")},parse:function(){return this.nextToken(),this.expect(g.LBRACE),this.parseBlock(),this.expect(g.RBRACE),this.operators},parseBlock:function(){for(;;)if(this.accept(g.NUMBER))this.operators.push(this.prev.value);else if(this.accept(g.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(g.LBRACE))return;this.parseCondition()}},parseCondition:function(){var a=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(g.RBRACE),this.accept(g.IF))this.operators[a]=this.operators.length,this.operators[a+1]="jz";else{if(!this.accept(g.LBRACE))throw new d.FormatError("PS Function: error parsing conditional.");var b=this.operators.length;this.operators.push(null,null);var c=this.operators.length;this.parseBlock(),this.expect(g.RBRACE),this.expect(g.IFELSE),this.operators[b]=this.operators.length,this.operators[b+1]="j",this.operators[a]=c,this.operators[a+1]="jz"}}},a}(),g={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},h=function(){function a(a,b){this.type=a,this.value=b}var b=Object.create(null);return a.getOperator=function(c){var d=b[c];return d?d:b[c]=new a(g.OPERATOR,c)},a.LBRACE=new a(g.LBRACE,"{"),a.RBRACE=new a(g.RBRACE,"}"),a.IF=new a(g.IF,"IF"),a.IFELSE=new a(g.IFELSE,"IFELSE"),a}(),i=function(){function a(a){this.stream=a,this.nextChar(),this.strBuf=[]}return a.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var a=!1,b=this.currentChar;;){if(0>b)return e.EOF;if(a)(10===b||13===b)&&(a=!1);else if(37===b)a=!0;else if(!d.isSpace(b))break;b=this.nextChar()}switch(0|b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new h(g.NUMBER,this.getNumber());case 123:return this.nextChar(),h.LBRACE;case 125:return this.nextChar(),h.RBRACE}var c=this.strBuf;for(c.length=0,c[0]=String.fromCharCode(b);(b=this.nextChar())>=0&&(b>=65&&90>=b||b>=97&&122>=b);)c.push(String.fromCharCode(b));var f=c.join("");switch(f.toLowerCase()){case"if":return h.IF;case"ifelse":return h.IFELSE;default:return h.getOperator(f)}},getNumber:function(){var a=this.currentChar,b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(a);(a=this.nextChar())>=0&&(a>=48&&57>=a||45===a||46===a);)b.push(String.fromCharCode(a));var c=parseFloat(b.join(""));if(isNaN(c))throw new d.FormatError("Invalid floating point number: "+c);return c}},a}();b.PostScriptLexer=i,b.PostScriptParser=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(a){function b(a){var b=3285377520;this.h1=a?4294967295&a:b,this.h2=a?4294967295&a:b}var c=4294901760,e=65535;return b.prototype={update:function(a){var b;if("string"==typeof a){var f=new Uint8Array(2*a.length),g=0;for(b=0;b<a.length;b++){var h=a.charCodeAt(b);255>=h?f[g++]=h:(f[g++]=h>>>8,f[g++]=255&h)}}else{if(!("object"===("undefined"==typeof a?"undefined":d(a))&&"byteLength"in a))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");f=a,g=f.byteLength}var i=g>>2,j=g-4*i,k=new Uint32Array(f.buffer,0,i),l=0,m=0,n=this.h1,o=this.h2,p=3432918353,q=461845907,r=p&e,s=q&e;for(b=0;i>b;b++)1&b?(l=k[b],l=l*p&c|l*r&e,l=l<<15|l>>>17,l=l*q&c|l*s&e,n^=l,n=n<<13|n>>>19,n=5*n+3864292196):(m=k[b],m=m*p&c|m*r&e,m=m<<15|m>>>17,m=m*q&c|m*s&e,o^=m,o=o<<13|o>>>19,o=5*o+3864292196);switch(l=0,j){case 3:l^=f[4*i+2]<<16;case 2:l^=f[4*i+1]<<8;case 1:l^=f[4*i],l=l*p&c|l*r&e,l=l<<15|l>>>17,l=l*q&c|l*s&e,1&i?n^=l:o^=l}return this.h1=n,this.h2=o,this},hexdigest:function(){var a=this.h1,b=this.h2;a^=b>>>1,a=3981806797*a&c|36045*a&e,b=4283543511*b&c|(2950163797*(b<<16|a>>>16)&c)>>>16,a^=b>>>1,a=444984403*a&c|60499*a&e,b=3301882366*b&c|(3120437893*(b<<16|a>>>16)&c)>>>16,a^=b>>>1;for(var d=0,f=[a,b],g="";d<f.length;d++){for(var h=(f[d]>>>0).toString(16);h.length<8;)h="0"+h;g+=h}return g}},b}();b.MurmurHash3_64=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFImage=void 0;var d=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=c(0),f=c(5),g=c(2),h=c(27),i=c(74),j=function(){function a(a,b){return b&&b.canDecode(a)?b.decode(a):Promise.resolve(a)}function b(a,b,c,d){return a=b+a*c,0>a?0:a>d?d:a}function c(a,b,c,d,e,f){var g,h,i,j,k=e*f,l=8>=b?new Uint8Array(k):16>=b?new Uint16Array(k):new Uint32Array(k),m=c/e,n=d/f,o=0,p=new Uint16Array(e),q=c;for(g=0;e>g;g++)p[g]=Math.floor(g*m);for(g=0;f>g;g++)for(i=Math.floor(g*n)*q,h=0;e>h;h++)j=i+p[h],l[o++]=a[j];return l}function j(a){var b=a.xref,c=a.res,d=a.image,f=a.smask,k=void 0===f?null:f,l=a.mask,m=void 0===l?null:l,n=a.isMask,o=void 0===n?!1:n,p=a.pdfFunctionFactory;this.image=d;var q=d.dict;if(q.has("Filter")){var r=q.get("Filter").name;if("JPXDecode"===r){var s=new i.JpxImage;s.parseImageProperties(d.stream),d.stream.reset(),d.bitsPerComponent=s.bitsPerComponent,d.numComps=s.componentsCount}else"JBIG2Decode"===r&&(d.bitsPerComponent=1,d.numComps=1)}if(this.width=q.get("Width","W"),this.height=q.get("Height","H"),this.width<1||this.height<1)throw new e.FormatError("Invalid image width: "+this.width+" or height: "+this.height);this.interpolate=q.get("Interpolate","I")||!1,this.imageMask=q.get("ImageMask","IM")||!1,this.matte=q.get("Matte")||!1;var t=d.bitsPerComponent;if(!t&&(t=q.get("BitsPerComponent","BPC"),!t)){if(!this.imageMask)throw new e.FormatError("Bits per component missing in image: "+this.imageMask);t=1}if(this.bpc=t,!this.imageMask){var u=q.get("ColorSpace","CS");if(!u)switch(e.info("JPX images (which do not require color spaces)"),d.numComps){case 1:u=g.Name.get("DeviceGray");break;case 3:u=g.Name.get("DeviceRGB");break;case 4:u=g.Name.get("DeviceCMYK");break;default:throw new Error("JPX images with "+this.numComps+" color components not supported.")}this.colorSpace=h.ColorSpace.parse(u,b,c,p),this.numComps=this.colorSpace.numComps}if(this.decode=q.getArray("Decode","D"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode)||o&&!h.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;var v=(1<<t)-1;this.decodeCoefficients=[],this.decodeAddends=[];for(var w=0,x=0;w<this.decode.length;w+=2,++x){var y=this.decode[w],z=this.decode[w+1];this.decodeCoefficients[x]=z-y,this.decodeAddends[x]=v*y}}if(k)this.smask=new j({xref:b,res:c,image:k,pdfFunctionFactory:p});else if(m)if(g.isStream(m)){var A=m.dict,B=A.get("ImageMask","IM");B?this.mask=new j({xref:b,res:c,image:m,isMask:!0,pdfFunctionFactory:p}):e.warn("Ignoring /Mask in image without /ImageMask.")}else this.mask=m}return j.buildImage=function(b){var c,f,h=(b.handler,b.xref),i=b.res,k=b.image,l=b.nativeDecoder,m=void 0===l?null:l,n=b.pdfFunctionFactory,o=a(k,m),p=k.dict.get("SMask"),q=k.dict.get("Mask");return p?(c=a(p,m),f=Promise.resolve(null)):(c=Promise.resolve(null),q?g.isStream(q)?f=a(q,m):Array.isArray(q)?f=Promise.resolve(q):(e.warn("Unsupported mask format."),f=Promise.resolve(null)):f=Promise.resolve(null)),Promise.all([o,c,f]).then(function(a){var b=d(a,3),c=b[0],e=b[1],f=b[2];return new j({xref:h,res:i,image:c,smask:e,mask:f,pdfFunctionFactory:n})})},j.createMask=function(a){var b,c,d=a.imgArray,e=a.width,f=a.height,g=a.imageIsFromDecodeStream,h=a.inverseDecode,i=(e+7>>3)*f,j=d.byteLength,k=i===j;if(!g||h&&!k)if(h)for(b=new Uint8Array(i),b.set(d),c=j;i>c;c++)b[c]=255;else b=new Uint8Array(j),b.set(d);else b=d;if(h)for(c=0;j>c;c++)b[c]^=255;return{data:b,width:e,height:f}},j.prototype={get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)},get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)},decodeBuffer:function(a){var c,d,e=this.bpc,f=this.numComps,g=this.decodeAddends,h=this.decodeCoefficients,i=(1<<e)-1;if(1!==e){var j=0;for(c=0,d=this.width*this.height;d>c;c++)for(var k=0;f>k;k++)a[j]=b(a[j],g[k],h[k],i),j++}else for(c=0,d=a.length;d>c;c++)a[c]=+!a[c]},getComponents:function(a){var b=this.bpc;if(8===b)return a;var c,d,e=this.width,f=this.height,g=this.numComps,h=e*f*g,i=0,j=8>=b?new Uint8Array(h):16>=b?new Uint16Array(h):new Uint32Array(h),k=e*g,l=(1<<b)-1,m=0;if(1===b)for(var n,o,p,q=0;f>q;q++){for(o=m+(-8&k),p=m+k;o>m;)d=a[i++],j[m]=d>>7&1,j[m+1]=d>>6&1,j[m+2]=d>>5&1,j[m+3]=d>>4&1,j[m+4]=d>>3&1,j[m+5]=d>>2&1,j[m+6]=d>>1&1,j[m+7]=1&d,m+=8;if(p>m)for(d=a[i++],n=128;p>m;)j[m++]=+!!(d&n),n>>=1}else{var r=0;for(d=0,m=0,c=h;c>m;++m){for(m%k===0&&(d=0,r=0);b>r;)d=d<<8|a[i++],r+=8;var s=r-b,t=d>>s;j[m]=0>t?0:t>l?l:t,d&=(1<<s)-1,r=s}}return j},fillOpacity:function(a,b,d,f,g){var h,i,k,l,m,n,o=this.smask,p=this.mask;if(o)i=o.width,k=o.height,h=new Uint8Array(i*k),o.fillGrayBuffer(h),(i!==b||k!==d)&&(h=c(h,o.bpc,i,k,b,d));else if(p)if(p instanceof j){for(i=p.width,k=p.height,h=new Uint8Array(i*k),p.numComps=1,p.fillGrayBuffer(h),l=0,m=i*k;m>l;++l)h[l]=255-h[l];(i!==b||k!==d)&&(h=c(h,p.bpc,i,k,b,d))}else{if(!Array.isArray(p))throw new e.FormatError("Unknown mask format.");h=new Uint8Array(b*d);var q=this.numComps;for(l=0,m=b*d;m>l;++l){var r=0,s=l*q;for(n=0;q>n;++n){var t=g[s+n],u=2*n;if(t<p[u]||t>p[u+1]){r=255;break}}h[l]=r}}if(h)for(l=0,n=3,m=b*f;m>l;++l,n+=4)a[n]=h[l];else for(l=0,n=3,m=b*f;m>l;++l,n+=4)a[n]=255},undoPreblend:function(a,b,c){var d=this.smask&&this.smask.matte;if(d)for(var e,f,g,h=this.colorSpace.getRgb(d,0),i=h[0],j=h[1],k=h[2],l=b*c*4,m=0;l>m;m+=4){var n=a[m+3];if(0!==n){var o=255/n;e=(a[m]-i)*o+i,f=(a[m+1]-j)*o+j,g=(a[m+2]-k)*o+k,a[m]=0>=e?0:e>=255?255:0|e,a[m+1]=0>=f?0:f>=255?255:0|f,a[m+2]=0>=g?0:g>=255?255:0|g}else a[m]=255,a[m+1]=255,a[m+2]=255}},createImageData:function(){var a,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,c=this.drawWidth,d=this.drawHeight,g={width:c,height:d},h=this.numComps,i=this.width,j=this.height,k=this.bpc,l=i*h*k+7>>3;if(!b){var m;if("DeviceGray"===this.colorSpace.name&&1===k?m=e.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==k||this.needsDecode||(m=e.ImageKind.RGB_24BPP),m&&!this.smask&&!this.mask&&c===i&&d===j){if(g.kind=m,a=this.getImageBytes(j*l),this.image instanceof f.DecodeStream)g.data=a;else{var n=new Uint8Array(a.length);n.set(a),g.data=n}if(this.needsDecode){e.assert(m===e.ImageKind.GRAYSCALE_1BPP);for(var o=g.data,p=0,q=o.length;q>p;p++)o[p]^=255}return g}if(this.image instanceof f.JpegStream&&!this.smask&&!this.mask&&("DeviceGray"===this.colorSpace.name||"DeviceRGB"===this.colorSpace.name||"DeviceCMYK"===this.colorSpace.name))return g.kind=e.ImageKind.RGB_24BPP,g.data=this.getImageBytes(j*l,c,d,!0),g}a=this.getImageBytes(j*l);var r,s,t=0|a.length/l*d/j,u=this.getComponents(a);return b||this.smask||this.mask?(g.kind=e.ImageKind.RGBA_32BPP,g.data=new Uint8Array(c*d*4),r=1,s=!0,this.fillOpacity(g.data,c,d,t,u)):(g.kind=e.ImageKind.RGB_24BPP,g.data=new Uint8Array(c*d*3),r=0,s=!1),this.needsDecode&&this.decodeBuffer(u),this.colorSpace.fillRgb(g.data,i,j,c,d,t,k,u,r),s&&this.undoPreblend(g.data,c,t),g},fillGrayBuffer:function(a){var b=this.numComps;if(1!==b)throw new e.FormatError("Reading gray scale from a color image: "+b);var c,d,f=this.width,g=this.height,h=this.bpc,i=f*b*h+7>>3,j=this.getImageBytes(g*i),k=this.getComponents(j);if(1!==h){this.needsDecode&&this.decodeBuffer(k),d=f*g;var l=255/((1<<h)-1);for(c=0;d>c;++c)a[c]=l*k[c]|0}else if(d=f*g,this.needsDecode)for(c=0;d>c;++c)a[c]=k[c]-1&255;else for(c=0;d>c;++c)a[c]=255&-k[c]},getImageBytes:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!1;return this.image.reset(),this.image.drawWidth=b||this.width,this.image.drawHeight=c||this.height,this.image.forceRGB=!!d,this.image.getBytes(a)}},j}();b.PDFImage=j},function(a,b,c){"use strict";function d(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b,c){var d=j.Util.getAxialAlignedBoundingBox(b,c),e=d[0],f=d[1],g=d[2],h=d[3];if(e===g||f===h)return[1,0,0,1,a[0],a[1]];var i=(a[2]-a[0])/(g-e),k=(a[3]-a[1])/(h-f);return[i,0,0,k,a[0]-e*i,a[1]-f*k]}Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationFactory=b.AnnotationBorderStyle=b.Annotation=void 0;var h=function K(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:K(e,b,c)}if("value"in d)return d.value;var f=d.get;return void 0===f?void 0:f.call(c)},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(0),k=c(73),l=c(2),m=c(27),n=c(77),o=c(5),p=function(){function a(){f(this,a)}return i(a,null,[{key:"create",value:function(a,b,c,d){var e=a.fetchIfRef(b);if(l.isDict(e)){var f=l.isRef(b)?b.toString():"annot_"+d.createObjId(),g=e.get("Subtype");g=l.isName(g)?g.name:null;var h={xref:a,dict:e,ref:l.isRef(b)?b:null,subtype:g,id:f,pdfManager:c};switch(g){case"Link":return new x(h);case"Text":return new w(h);case"Widget":var i=j.Util.getInheritableProperty(e,"FT");switch(i=l.isName(i)?i.name:null){case"Tx":return new t(h);case"Btn":return new u(h);case"Ch":return new v(h)}return j.warn('Unimplemented widget field type "'+i+'", falling back to base field type.'),new s(h);case"Popup":return new y(h);case"Line":return new z(h);case"Square":return new A(h);case"Circle":return new B(h);case"PolyLine":return new C(h);case"Polygon":return new D(h);case"Highlight":return new E(h);case"Underline":return new F(h);case"Squiggly":return new G(h);case"StrikeOut":return new H(h);case"Stamp":return new I(h);case"FileAttachment":return new J(h);default:return g?j.warn('Unimplemented annotation type "'+g+'", falling back to base annotation.'):j.warn("Annotation is missing the required /Subtype."),new q(h)}}}}]),a}(),q=function(){function a(b){f(this,a);var c=b.dict;this.setFlags(c.get("F")),this.setRectangle(c.getArray("Rect")),this.setColor(c.getArray("C")),this.setBorderStyle(c),this.setAppearance(c),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,hasAppearance:!!this.appearance,id:b.id,rect:this.rectangle,subtype:b.subtype}}return i(a,[{key:"_hasFlag",value:function(a,b){return!!(a&b)}},{key:"_isViewable",value:function(a){return!this._hasFlag(a,j.AnnotationFlag.INVISIBLE)&&!this._hasFlag(a,j.AnnotationFlag.HIDDEN)&&!this._hasFlag(a,j.AnnotationFlag.NOVIEW)}},{key:"_isPrintable",value:function(a){return this._hasFlag(a,j.AnnotationFlag.PRINT)&&!this._hasFlag(a,j.AnnotationFlag.INVISIBLE)&&!this._hasFlag(a,j.AnnotationFlag.HIDDEN)}},{key:"setFlags",value:function(a){this.flags=Number.isInteger(a)&&a>0?a:0}},{key:"hasFlag",value:function(a){return this._hasFlag(this.flags,a)}},{key:"setRectangle",value:function(a){Array.isArray(a)&&4===a.length?this.rectangle=j.Util.normalizeRect(a):this.rectangle=[0,0,0,0]}},{key:"setColor",value:function(a){var b=new Uint8Array(3);if(!Array.isArray(a))return void(this.color=b);switch(a.length){case 0:this.color=null;break;case 1:m.ColorSpace.singletons.gray.getRgbItem(a,0,b,0),this.color=b;break;case 3:m.ColorSpace.singletons.rgb.getRgbItem(a,0,b,0),this.color=b;break;case 4:m.ColorSpace.singletons.cmyk.getRgbItem(a,0,b,0),this.color=b;break;default:this.color=b}}},{key:"setBorderStyle",value:function(a){if(this.borderStyle=new r,l.isDict(a))if(a.has("BS")){var b=a.get("BS"),c=b.get("Type");(!c||l.isName(c,"Border"))&&(this.borderStyle.setWidth(b.get("W")),this.borderStyle.setStyle(b.get("S")),this.borderStyle.setDashArray(b.getArray("D")))}else if(a.has("Border")){var d=a.getArray("Border");Array.isArray(d)&&d.length>=3&&(this.borderStyle.setHorizontalCornerRadius(d[0]),this.borderStyle.setVerticalCornerRadius(d[1]),this.borderStyle.setWidth(d[2]),4===d.length&&this.borderStyle.setDashArray(d[3]))}else this.borderStyle.setWidth(0)}},{key:"setAppearance",value:function(a){this.appearance=null;var b=a.get("AP");if(l.isDict(b)){var c=b.get("N");if(l.isStream(c))return void(this.appearance=c);if(l.isDict(c)){var d=a.get("AS");l.isName(d)&&c.has(d.name)&&(this.appearance=c.get(d.name))}}}},{key:"_preparePopup",value:function(a){a.has("C")||(this.data.color=null),this.data.hasPopup=a.has("Popup"),this.data.title=j.stringToPDFString(a.get("T")||""),this.data.contents=j.stringToPDFString(a.get("Contents")||"")}},{key:"loadResources",value:function(a){return this.appearance.dict.getAsync("Resources").then(function(b){if(b){var c=new k.ObjectLoader(b,a,b.xref);return c.load().then(function(){return b})}})}},{key:"getOperatorList",value:function(a,b,c){var d=this;if(!this.appearance)return Promise.resolve(new n.OperatorList);var e=this.data,f=this.appearance.dict,h=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),i=f.getArray("BBox")||[0,0,1,1],k=f.getArray("Matrix")||[1,0,0,1,0,0],l=g(e.rect,i,k);return h.then(function(c){var f=new n.OperatorList;return f.addOp(j.OPS.beginAnnotation,[e.rect,l,k]),a.getOperatorList({stream:d.appearance,task:b,resources:c,operatorList:f}).then(function(){return f.addOp(j.OPS.endAnnotation,[]),d.appearance.reset(),f})})}},{key:"viewable",get:function(){return 0===this.flags?!0:this._isViewable(this.flags)}},{key:"printable",get:function(){return 0===this.flags?!1:this._isPrintable(this.flags)}}]),a}(),r=function(){function a(){f(this,a),this.width=1,this.style=j.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}return i(a,[{key:"setWidth",value:function(a){Number.isInteger(a)&&(this.width=a)}},{key:"setStyle",value:function(a){if(a)switch(a.name){case"S":this.style=j.AnnotationBorderStyleType.SOLID;break;case"D":this.style=j.AnnotationBorderStyleType.DASHED;break;case"B":this.style=j.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=j.AnnotationBorderStyleType.INSET;break;case"U":this.style=j.AnnotationBorderStyleType.UNDERLINE}}},{key:"setDashArray",value:function(a){if(Array.isArray(a)&&a.length>0){for(var b=!0,c=!0,d=0,e=a.length;e>d;d++){var f=a[d],g=+f>=0;if(!g){b=!1;break}f>0&&(c=!1)}b&&!c?this.dashArray=a:this.width=0}else a&&(this.width=0)}},{key:"setHorizontalCornerRadius",value:function(a){Number.isInteger(a)&&(this.horizontalCornerRadius=a)}},{key:"setVerticalCornerRadius",value:function(a){Number.isInteger(a)&&(this.verticalCornerRadius=a)}}]),a}(),s=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=a.dict,g=c.data;g.annotationType=j.AnnotationType.WIDGET,g.fieldName=c._constructFieldName(e),g.fieldValue=j.Util.getInheritableProperty(e,"V",!0),g.alternativeText=j.stringToPDFString(e.get("TU")||""),g.defaultAppearance=j.Util.getInheritableProperty(e,"DA")||"";var h=j.Util.getInheritableProperty(e,"FT");return g.fieldType=l.isName(h)?h.name:null,c.fieldResources=j.Util.getInheritableProperty(e,"DR")||l.Dict.empty,g.fieldFlags=j.Util.getInheritableProperty(e,"Ff"),(!Number.isInteger(g.fieldFlags)||g.fieldFlags<0)&&(g.fieldFlags=0),g.readOnly=c.hasFieldFlag(j.AnnotationFieldFlag.READONLY),"Sig"===g.fieldType&&c.setFlags(j.AnnotationFlag.HIDDEN),c}return e(b,a),i(b,[{key:"_constructFieldName",value:function(a){if(!a.has("T")&&!a.has("Parent"))return j.warn("Unknown field name, falling back to empty field name."),"";if(!a.has("Parent"))return j.stringToPDFString(a.get("T"));var b=[];a.has("T")&&b.unshift(j.stringToPDFString(a.get("T")));for(var c=a;c.has("Parent")&&(c=c.get("Parent"),l.isDict(c));)c.has("T")&&b.unshift(j.stringToPDFString(c.get("T")));return b.join(".")}},{key:"hasFieldFlag",value:function(a){return!!(this.data.fieldFlags&a)}},{key:"getOperatorList",value:function(a,c,d){return d?Promise.resolve(new n.OperatorList):h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getOperatorList",this).call(this,a,c,d)}}]),b}(q),t=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.data.fieldValue=j.stringToPDFString(c.data.fieldValue||"");var e=j.Util.getInheritableProperty(a.dict,"Q");(!Number.isInteger(e)||0>e||e>2)&&(e=null),c.data.textAlignment=e;var g=j.Util.getInheritableProperty(a.dict,"MaxLen");return(!Number.isInteger(g)||0>g)&&(g=null),c.data.maxLen=g,c.data.multiLine=c.hasFieldFlag(j.AnnotationFieldFlag.MULTILINE),c.data.comb=c.hasFieldFlag(j.AnnotationFieldFlag.COMB)&&!c.hasFieldFlag(j.AnnotationFieldFlag.MULTILINE)&&!c.hasFieldFlag(j.AnnotationFieldFlag.PASSWORD)&&!c.hasFieldFlag(j.AnnotationFieldFlag.FILESELECT)&&null!==c.data.maxLen,c}return e(b,a),i(b,[{key:"getOperatorList",value:function(a,c,d){if(d||this.appearance)return h(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"getOperatorList",this).call(this,a,c,d);var e=new n.OperatorList;if(!this.data.defaultAppearance)return Promise.resolve(e);var f=new o.Stream(j.stringToBytes(this.data.defaultAppearance));return a.getOperatorList({stream:f,task:c,resources:this.fieldResources,operatorList:e}).then(function(){return e})}}]),b}(s),u=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));if(c.data.checkBox=!c.hasFieldFlag(j.AnnotationFieldFlag.RADIO)&&!c.hasFieldFlag(j.AnnotationFieldFlag.PUSHBUTTON),c.data.checkBox){if(!l.isName(c.data.fieldValue))return d(c);c.data.fieldValue=c.data.fieldValue.name}if(c.data.radioButton=c.hasFieldFlag(j.AnnotationFieldFlag.RADIO)&&!c.hasFieldFlag(j.AnnotationFieldFlag.PUSHBUTTON),c.data.radioButton){c.data.fieldValue=c.data.buttonValue=null;var e=a.dict.get("Parent");if(l.isDict(e)&&e.has("V")){var g=e.get("V");l.isName(g)&&(c.data.fieldValue=g.name)}var h=a.dict.get("AP");if(!l.isDict(h))return d(c);var i=h.get("N");if(!l.isDict(i))return d(c);for(var k=i.getKeys(),m=0,n=k.length;n>m;m++)if("Off"!==k[m]){c.data.buttonValue=k[m];break}}return c}return e(b,a),b}(s),v=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.data.options=[];var e=j.Util.getInheritableProperty(a.dict,"Opt");if(Array.isArray(e))for(var g=a.xref,h=0,i=e.length;i>h;h++){var k=g.fetchIfRef(e[h]),l=Array.isArray(k);c.data.options[h]={exportValue:l?g.fetchIfRef(k[0]):k,displayValue:l?g.fetchIfRef(k[1]):k}}return Array.isArray(c.data.fieldValue)||(c.data.fieldValue=[c.data.fieldValue]),c.data.combo=c.hasFieldFlag(j.AnnotationFieldFlag.COMBO),c.data.multiSelect=c.hasFieldFlag(j.AnnotationFieldFlag.MULTISELECT),c}return e(b,a),b}(s),w=function(a){function b(a){f(this,b);var c=22,e=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return e.data.annotationType=j.AnnotationType.TEXT,e.data.hasAppearance?e.data.name="NoIcon":(e.data.rect[1]=e.data.rect[3]-c,e.data.rect[2]=e.data.rect[0]+c,e.data.name=a.dict.has("Name")?a.dict.get("Name").name:"Note"),e._preparePopup(a.dict),e}return e(b,a),b}(q),x=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.LINK,k.Catalog.parseDestDictionary({destDict:a.dict,resultObj:c.data,docBaseUrl:a.pdfManager.docBaseUrl}),c}return e(b,a),b}(q),y=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.data.annotationType=j.AnnotationType.POPUP;var e=a.dict,g=e.get("Parent");if(!g)return j.warn("Popup annotation has a missing or invalid parent annotation."),d(c);var h=g.get("Subtype");if(c.data.parentType=l.isName(h)?h.name:null,c.data.parentId=e.getRaw("Parent").toString(),c.data.title=j.stringToPDFString(g.get("T")||""),c.data.contents=j.stringToPDFString(g.get("Contents")||""),g.has("C")?(c.setColor(g.getArray("C")),c.data.color=c.color):c.data.color=null,!c.viewable){var i=g.get("F");c._isViewable(i)&&c.setFlags(i)}return c}return e(b,a),b}(q),z=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.data.annotationType=j.AnnotationType.LINE;var e=a.dict;return c.data.lineCoordinates=j.Util.normalizeRect(e.getArray("L")),c._preparePopup(e),c}return e(b,a),b}(q),A=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.SQUARE,c._preparePopup(a.dict),c}return e(b,a),b}(q),B=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.CIRCLE,c._preparePopup(a.dict),c}return e(b,a),b}(q),C=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.data.annotationType=j.AnnotationType.POLYLINE;var e=a.dict,g=e.getArray("Vertices");c.data.vertices=[];for(var h=0,i=g.length;i>h;h+=2)c.data.vertices.push({x:g[h],y:g[h+1]});return c._preparePopup(e),c}return e(b,a),b}(q),D=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.POLYGON,c}return e(b,a),b}(C),E=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.HIGHLIGHT,c._preparePopup(a.dict),c}return e(b,a),b}(q),F=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.UNDERLINE,c._preparePopup(a.dict),c}return e(b,a),b}(q),G=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.SQUIGGLY,c._preparePopup(a.dict),c}return e(b,a),b}(q),H=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.STRIKEOUT,c._preparePopup(a.dict),c}return e(b,a),b}(q),I=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.data.annotationType=j.AnnotationType.STAMP,c._preparePopup(a.dict),c}return e(b,a),b}(q),J=function(a){function b(a){f(this,b);var c=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),e=new k.FileSpec(a.dict.get("FS"),a.xref);return c.data.annotationType=j.AnnotationType.FILEATTACHMENT,c.data.file=e.serializable,c._preparePopup(a.dict),c}return e(b,a),b}(q);b.Annotation=q,b.AnnotationBorderStyle=r,b.AnnotationFactory=p}])}),function(a,b){"use strict";a.module("angular-pdf-thumbnail",[]).directive("pdfThumbnail",function(){return{restrict:"E",replace:!1,scope:{file:"=",thumbnail:"="},template:"<img alt='Thumbnail' />",controller:["$scope",function(c){c.generateThumbnail=function(d){var e=new FileReader;e.onload=function(d){
var e=d.target.result,f=new Uint8Array(e);b.disableTextLayer=!0,b.getDocument(f).then(function(b){b.getPage(1).then(function(b){var d=a.element("<canvas></canvas>")[0],e=b.getViewport(1),f=d.getContext("2d"),g=0!==c.thumbnailWidth?c.thumbnailWidth:c.imgElement.width,h=g/e.width;e=b.getViewport(h),d.width=e.width,d.height=e.height,b.render({canvasContext:f,viewport:e}).then(function(){c.$apply(function(){var a=d.toDataURL();c.imgElement.src=a,a.replace(" ","+"),c.thumbnail=a})})})})},e.readAsArrayBuffer(d)}}],link:function(a,b,c){a.imgElement=b.find("img")[0],a.thumbnailWidth=0|c.thumbWidth,a.$watch("file",function(){null!==a.file&&a.generateThumbnail(a.file)})}}})}(angular,PDFJS),function(a,b,c){"use strict";!function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonClass:"btn-primary",cancelButtonText:"Cancel",cancelButtonClass:"btn-default",containerClass:"",titleClass:"",textClass:"",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};c["default"]=d},{}],2:[function(b,d,e){Object.defineProperty(e,"__esModule",{value:!0}),e.handleCancel=e.handleConfirm=e.handleButton=c;var f=(b("./handle-swal-dom"),b("./handle-dom")),g=function(b,c,d){var e,g,j,k=b||a.event,l=k.target||k.srcElement,m=-1!==l.className.indexOf("confirm"),n=-1!==l.className.indexOf("sweet-overlay"),o=f.hasClass(d,"visible"),p=c.doneFunction&&"true"===d.getAttribute("data-has-done-function");switch(m&&c.confirmButtonColor&&(e=c.confirmButtonColor,g=colorLuminance(e,-.04),j=colorLuminance(e,-.14)),k.type){case"click":var q=d===l,r=f.isDescendant(d,l);if(!q&&!r&&o&&!c.allowOutsideClick)break;m&&p&&o?h(d,c):p&&o||n?i(d,c):f.isDescendant(d,l)&&"BUTTON"===l.tagName&&sweetAlert.close()}},h=function(a,b){var c=!0;f.hasClass(a,"show-input")&&(c=a.querySelector("input").value,c||(c="")),b.doneFunction(c),b.closeOnConfirm&&sweetAlert.close(),b.showLoaderOnConfirm&&sweetAlert.disableButtons()},i=function(a,b){var c=String(b.doneFunction).replace(/\s/g,""),d="function("===c.substring(0,9)&&")"!==c.substring(9,10);d&&b.doneFunction(!1),b.closeOnCancel&&sweetAlert.close()};e.handleButton=g,e.handleConfirm=h,e.handleCancel=i},{"./handle-dom":3,"./handle-swal-dom":5}],3:[function(c,d,e){Object.defineProperty(e,"__esModule",{value:!0});var f=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},g=function(a,b){f(a,b)||(a.className+=" "+b)},h=function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(f(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}},i=function(a){var c=b.createElement("div");return c.appendChild(b.createTextNode(a)),c.innerHTML},j=function(a){a.style.opacity="",a.style.display="block"},k=function(a){if(a&&!a.length)return j(a);for(var b=0;b<a.length;++b)j(a[b])},l=function(a){a.style.opacity="",a.style.display="none"},m=function(a){if(a&&!a.length)return l(a);for(var b=0;b<a.length;++b)l(a[b])},n=function(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1},o=function(a){a.style.left="-9999px",a.style.display="block";var b,c=a.clientHeight;return b="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(a).getPropertyValue("padding-top"),10):parseInt(a.currentStyle.padding),a.style.left="",a.style.display="none","-"+parseInt((c+b)/2)+"px"},p=function(a,b){if(+a.style.opacity<1){b=b||16,a.style.opacity=0,a.style.display="block";var c=+new Date,d=function e(){a.style.opacity=+a.style.opacity+(new Date-c)/100,c=+new Date,+a.style.opacity<1&&setTimeout(e,b)};d()}a.style.display="block"},q=function(a,b){b=b||16,a.style.opacity=1;var c=+new Date,d=function e(){a.style.opacity=+a.style.opacity-(new Date-c)/100,c=+new Date,+a.style.opacity>0?setTimeout(e,b):a.style.display="none"};d()},r=function(c){if("function"==typeof MouseEvent){var d=new MouseEvent("click",{view:a,bubbles:!1,cancelable:!0});c.dispatchEvent(d)}else if(b.createEvent){var e=b.createEvent("MouseEvents");e.initEvent("click",!1,!1),c.dispatchEvent(e)}else b.createEventObject?c.fireEvent("onclick"):"function"==typeof c.onclick&&c.onclick()},s=function(b){"function"==typeof b.stopPropagation?(b.stopPropagation(),b.preventDefault()):a.event&&a.event.hasOwnProperty("cancelBubble")&&(a.event.cancelBubble=!0)};e.hasClass=f,e.addClass=g,e.removeClass=h,e.escapeHtml=i,e._show=j,e.show=k,e._hide=l,e.hide=m,e.isDescendant=n,e.getTopMargin=o,e.fadeIn=p,e.fadeOut=q,e.fireClick=r,e.stopEventPropagation=s},{}],4:[function(b,d,e){Object.defineProperty(e,"__esModule",{value:!0});var f=b("./handle-dom"),g=b("./handle-swal-dom"),h=function(b,d,e){var h=b||a.event,i=h.keyCode||h.which,j=e.querySelector("button.confirm"),k=e.querySelector("button.cancel"),l=e.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(i)){for(var m=h.target||h.srcElement,n=-1,o=0;o<l.length;o++)if(m===l[o]){n=o;break}9===i?(m=-1===n?j:n===l.length-1?l[0]:l[n+1],f.stopEventPropagation(h),m.focus(),d.confirmButtonColor&&g.setFocusStyle(m,d.confirmButtonColor)):13===i?("INPUT"===m.tagName&&(m=j,j.focus()),m=-1===n?j:c):27===i&&d.allowEscapeKey===!0?(m=k,f.fireClick(m,h)):m=c}};e["default"]=h},{"./handle-dom":3,"./handle-swal-dom":5}],5:[function(d,e,f){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(f,"__esModule",{value:!0}),f.fixVerticalPosition=f.resetInputError=f.resetInput=f.openModal=f.getInput=f.getOverlay=f.getModal=f.sweetAlertInitialize=c;var h=d("./handle-dom"),i=d("./default-params"),j=g(i),k=d("./injected-html"),l=g(k),m=".sweet-alert",n=".sweet-overlay",o=function(){var a=b.createElement("div");for(a.innerHTML=l["default"];a.firstChild;)b.body.appendChild(a.firstChild)},p=function w(){var a=b.querySelector(m);return a||(o(),a=w()),a},q=function(){var a=p();return a?a.querySelector("input"):void 0},r=function(){return b.querySelector(n)},s=function(c){var d=p();h.fadeIn(r(),10),h.show(d),h.addClass(d,"showSweetAlert"),h.removeClass(d,"hideSweetAlert"),a.previousActiveElement=b.activeElement;var e=d.querySelector("button.confirm");e.focus(),setTimeout(function(){h.addClass(d,"visible")},500);var f=d.getAttribute("data-timer");if("null"!==f&&""!==f){var g=c;d.timeout=setTimeout(function(){var a=(g||null)&&"true"===d.getAttribute("data-has-done-function");a?g(null):sweetAlert.close()},f)}},t=function(){var a=p(),b=q();h.removeClass(a,"show-input"),b.value=j["default"].inputValue,b.setAttribute("type",j["default"].inputType),b.setAttribute("placeholder",j["default"].inputPlaceholder),u()},u=function(a){if(a&&13===a.keyCode)return!1;var b=p(),c=b.querySelector(".sa-input-error");h.removeClass(c,"show");var d=b.querySelector(".form-group");h.removeClass(d,"has-error")},v=function(){var a=p();a.style.marginTop=h.getTopMargin(p())};f.sweetAlertInitialize=o,f.getModal=p,f.getOverlay=r,f.getInput=q,f.openModal=s,f.resetInput=t,f.resetInputError=u,f.fixVerticalPosition=v},{"./default-params":1,"./handle-dom":3,"./injected-html":6}],6:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p class="lead text-muted">Text</p>\n    <div class="form-group">\n      <input type="text" class="form-control" tabIndex="3" />\n      <span class="sa-input-error help-block">\n        <span class="glyphicon glyphicon-exclamation-sign"></span> <span class="sa-help-text">Not valid</span>\n      </span>\n    </div><div class="sa-button-container">\n      <button class="cancel btn btn-lg" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm btn btn-lg" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';c["default"]=d},{}],7:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},e=a("./utils"),f=a("./handle-swal-dom"),g=a("./handle-dom"),h=["error","warning","info","success","input","prompt"],i=function(a){var b=f.getModal(),c=b.querySelector("h2"),i=b.querySelector("p"),j=b.querySelector("button.cancel"),k=b.querySelector("button.confirm");if(c.innerHTML=a.html?a.title:g.escapeHtml(a.title).split("\n").join("<br>"),i.innerHTML=a.html?a.text:g.escapeHtml(a.text||"").split("\n").join("<br>"),a.text&&g.show(i),a.customClass)g.addClass(b,a.customClass),b.setAttribute("data-custom-class",a.customClass);else{var l=b.getAttribute("data-custom-class");g.removeClass(b,l),b.setAttribute("data-custom-class","")}if(g.hide(b.querySelectorAll(".sa-icon")),a.type&&!e.isIE8()){var m=function(){for(var c=!1,d=0;d<h.length;d++)if(a.type===h[d]){c=!0;break}if(!c)return logStr("Unknown alert type: "+a.type),{v:!1};var e=["success","error","warning","info"],i=void 0;-1!==e.indexOf(a.type)&&(i=b.querySelector(".sa-icon.sa-"+a.type),g.show(i));var j=f.getInput();switch(a.type){case"success":g.addClass(i,"animate"),g.addClass(i.querySelector(".sa-tip"),"animateSuccessTip"),g.addClass(i.querySelector(".sa-long"),"animateSuccessLong");break;case"error":g.addClass(i,"animateErrorIcon"),g.addClass(i.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":g.addClass(i,"pulseWarning"),g.addClass(i.querySelector(".sa-body"),"pulseWarningIns"),g.addClass(i.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":j.setAttribute("type",a.inputType),j.value=a.inputValue,j.setAttribute("placeholder",a.inputPlaceholder),g.addClass(b,"show-input"),setTimeout(function(){j.focus(),j.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"===("undefined"==typeof m?"undefined":d(m)))return m.v}if(a.imageUrl){var n=b.querySelector(".sa-icon.sa-custom");n.style.backgroundImage="url("+a.imageUrl+")",g.show(n);var o=80,p=80;if(a.imageSize){var q=a.imageSize.toString().split("x"),r=q[0],s=q[1];r&&s?(o=r,p=s):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+a.imageSize)}n.setAttribute("style",n.getAttribute("style")+"width:"+o+"px; height:"+p+"px")}b.setAttribute("data-has-cancel-button",a.showCancelButton),a.showCancelButton?j.style.display="inline-block":g.hide(j),b.setAttribute("data-has-confirm-button",a.showConfirmButton),a.showConfirmButton?k.style.display="inline-block":g.hide(k),a.cancelButtonText&&(j.innerHTML=g.escapeHtml(a.cancelButtonText)),a.confirmButtonText&&(k.innerHTML=g.escapeHtml(a.confirmButtonText)),k.className="confirm btn btn-lg",g.addClass(b,a.containerClass),g.addClass(k,a.confirmButtonClass),g.addClass(j,a.cancelButtonClass),g.addClass(c,a.titleClass),g.addClass(i,a.textClass),b.setAttribute("data-allow-outside-click",a.allowOutsideClick);var t=a.doneFunction?!0:!1;b.setAttribute("data-has-done-function",t),a.animation?"string"==typeof a.animation?b.setAttribute("data-animation",a.animation):b.setAttribute("data-animation","pop"):b.setAttribute("data-animation","none"),b.setAttribute("data-timer",a.timer)};c["default"]=i},{"./handle-dom":3,"./handle-swal-dom":5,"./utils":8}],8:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});var e=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},f=function(){return a.attachEvent&&!a.addEventListener},g=function(b){a.console&&a.console.log("SweetAlert: "+b)};d.extend=e,d.isIE8=f,d.logStr=g},{}],9:[function(d,e,f){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(f,"__esModule",{value:!0});var h,i,j,k,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},m=d("./modules/handle-dom"),n=d("./modules/utils"),o=d("./modules/handle-swal-dom"),p=d("./modules/handle-click"),q=d("./modules/handle-key"),r=g(q),s=d("./modules/default-params"),t=g(s),u=d("./modules/set-params"),v=g(u);f["default"]=j=k=function(){function d(a){var b=e;return b[a]===c?t["default"][a]:b[a]}var e=arguments[0];if(m.addClass(b.body,"stop-scrolling"),o.resetInput(),e===c)return n.logStr("SweetAlert expects at least 1 attribute!"),!1;var f=n.extend({},t["default"]);switch("undefined"==typeof e?"undefined":l(e)){case"string":f.title=e,f.text=arguments[1]||"",f.type=arguments[2]||"";break;case"object":if(e.title===c)return n.logStr('Missing "title" argument!'),!1;f.title=e.title;for(var g in t["default"])f[g]=d(g);f.confirmButtonText=f.showCancelButton?"Confirm":t["default"].confirmButtonText,f.confirmButtonText=d("confirmButtonText"),f.doneFunction=arguments[1]||null;break;default:return n.logStr('Unexpected type of argument! Expected "string" or "object", got '+("undefined"==typeof e?"undefined":l(e))),!1}v["default"](f),o.fixVerticalPosition(),o.openModal(arguments[1]);for(var j=o.getModal(),q=j.querySelectorAll("button"),s=["onclick"],u=function(a){return p.handleButton(a,f,j)},w=0;w<q.length;w++)for(var x=0;x<s.length;x++){var y=s[x];q[w][y]=u}o.getOverlay().onclick=u,h=a.onkeydown;var z=function(a){return r["default"](a,f,j)};a.onkeydown=z,a.onfocus=function(){setTimeout(function(){i!==c&&(i.focus(),i=c)},0)},k.enableButtons()},j.setDefaults=k.setDefaults=function(a){if(!a)throw new Error("userParams is required");if("object"!==("undefined"==typeof a?"undefined":l(a)))throw new Error("userParams has to be a object");n.extend(t["default"],a)},j.close=k.close=function(){var d=o.getModal();m.fadeOut(o.getOverlay(),5),m.fadeOut(d,5),m.removeClass(d,"showSweetAlert"),m.addClass(d,"hideSweetAlert"),m.removeClass(d,"visible");var e=d.querySelector(".sa-icon.sa-success");m.removeClass(e,"animate"),m.removeClass(e.querySelector(".sa-tip"),"animateSuccessTip"),m.removeClass(e.querySelector(".sa-long"),"animateSuccessLong");var f=d.querySelector(".sa-icon.sa-error");m.removeClass(f,"animateErrorIcon"),m.removeClass(f.querySelector(".sa-x-mark"),"animateXMark");var g=d.querySelector(".sa-icon.sa-warning");return m.removeClass(g,"pulseWarning"),m.removeClass(g.querySelector(".sa-body"),"pulseWarningIns"),m.removeClass(g.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var a=d.getAttribute("data-custom-class");m.removeClass(d,a)},300),m.removeClass(b.body,"stop-scrolling"),a.onkeydown=h,a.previousActiveElement&&a.previousActiveElement.focus(),i=c,clearTimeout(d.timeout),!0},j.showInputError=k.showInputError=function(a){var b=o.getModal(),c=b.querySelector(".sa-input-error");m.addClass(c,"show");var d=b.querySelector(".form-group");m.addClass(d,"has-error"),d.querySelector(".sa-help-text").innerHTML=a,setTimeout(function(){j.enableButtons()},1),b.querySelector("input").focus()},j.resetInputError=k.resetInputError=function(a){if(a&&13===a.keyCode)return!1;var b=o.getModal(),c=b.querySelector(".sa-input-error");m.removeClass(c,"show");var d=b.querySelector(".form-group");m.removeClass(d,"has-error")},j.disableButtons=k.disableButtons=function(a){var b=o.getModal(),c=b.querySelector("button.confirm"),d=b.querySelector("button.cancel");c.disabled=!0,d.disabled=!0},j.enableButtons=k.enableButtons=function(a){var b=o.getModal(),c=b.querySelector("button.confirm"),d=b.querySelector("button.cancel");c.disabled=!1,d.disabled=!1},"undefined"!=typeof a?a.sweetAlert=a.swal=j:n.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":1,"./modules/handle-click":2,"./modules/handle-dom":3,"./modules/handle-key":4,"./modules/handle-swal-dom":5,"./modules/set-params":7,"./modules/utils":8}]},{},[9]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){if(g&&d._chunkSize&&!d._finished&&d._file){var b=d._file&&d._file.size||0;e({loaded:Math.min(d._end,b),total:b,config:d,type:"progress"}),f.upload(d,!0)}else d._finished&&delete d._finished,j.resolve(a)},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||"POST",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d.resumeSizeResponseReader?d._start=d.resumeSizeResponseReader(a.data):d._start=parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k["finally"]&&k["finally"]instanceof Function&&k["finally"](function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:"application/json"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append("_chunkSize",a._chunkSize),c.append("_currentChunkSize",a._end-a._start),c.append("_chunkNumber",Math.floor(a._start/a._chunkSize)),c.append("_totalSize",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(",");i[1]&&(g.ngfName=i[1].replace(/^\s+|\s+$/g,""),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&"$$ngfCircularDetection"!==j){var k=null==a.objectKey?"[i]":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}function i(){a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,i()),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:"get",responseType:"arraybuffer"}).then(function(a){var b=new Uint8Array(a.data),e=a.headers("content-type")||"image/WebP",f=new window.Blob([b],{type:e}),g=c.match(/.*\/(.+?)(\?.*)?$/);g.length>1&&(f.name=g[1]),d.resolve(f)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(a,b,c,d,e){function f(a,b,c){var e=[i.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf("image/jpeg")&&i.attrGetter("ngfFixOrientation",b,c,{$file:d})&&e.push(i.happyPromise(i.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c,e){var f=i.attrGetter("ngfResize",b,c);if(!f||!i.isResizeSupported()||!a.length)return i.emptyPromise();if(f instanceof Function){var g=d.defer();return f(a).then(function(d){h(d,a,b,c,e).then(function(a){g.resolve(a)},function(a){g.reject(a)})},function(a){g.reject(a)})}return h(f,a,b,c,e)}function h(a,b,c,e,f){function g(d,g){if(0===d.type.indexOf("image")){if(a.pattern&&!i.validatePattern(d,a.pattern))return;a.resizeIf=function(a,b){return i.attrGetter("ngfResizeIf",c,e,{$width:a,$height:b,$file:d})};var j=i.resize(d,a);h.push(j),j.then(function(a){b.splice(g,1,a)},function(a){d.$error="resize",(d.$errorMessages=d.$errorMessages||{}).resize=!0,d.$errorParam=(a?(a.message?a.message:a)+": ":"")+(d&&d.name),f.$ngfValidations.push({name:"resize",valid:!1}),i.applyModelValidation(f,b)})}}for(var h=[i.emptyPromise()],j=0;j<b.length;j++)g(b[j],j);return d.all(h)}var i=e;return i.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=i.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},i.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(g){if(b.search(/min|max|pattern/i))return f;throw g}},i.shouldUpdateOn=function(a,b,c){var d=i.attrGetter("ngfModelOptions",b,c);return d&&d.updateOn?d.updateOn.split(" ").indexOf(a)>-1:!0},i.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},i.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},i.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},i.updateModel=function(c,d,e,h,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(i.applyModelValidation(c,f),c.$setViewValue(m?n:f)),h&&a(h)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=i.attrGetter("ngfModelInvalid",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function n(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}function b(b){var c;for(c=0;c<r.length;c++)if(a(b,r[c]))return!0;for(c=0;c<s.length;c++)if(a(b,s[c]))return!0;return!1}if(j){q=[],t=[];for(var c=0;c<j.length;c++)b(j[c])?t.push(j[c]):q.push(j[c])}}function o(a){return angular.isArray(a)?a:[a]}function p(){function a(){b(function(){m(w?r.concat(v):v,w?s.concat(u):u,j,t,x)},z&&z.debounce?z.debounce.change||z.debounce:0)}var f=y?q:v;g(f,d,e,c).then(function(){y?i.validate(q,w?r.length:0,c,d,e).then(function(b){v=b.validsFiles,u=b.invalidsFiles,a()}):a()},function(){for(var b=0;b<f.length;b++){var c=f[b];if("resize"===c.$error){var d=v.indexOf(c);d>-1&&(v.splice(d,1),u.push(c)),a()}}})}var q,r,s,t=[],u=[],v=[];r=d.$$ngfPrevValidFiles||[],s=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(r=o(c.$modelValue));var w=i.attrGetter("ngfKeep",d,e);q=(j||[]).slice(0),("distinct"===w||i.attrGetter("ngfKeepDistinct",d,e)===!0)&&n(d,e);var x=!w&&!i.attrGetter("ngfMultiple",d,e)&&!i.attrGetter("multiple",d);if(!w||q.length){i.attrGetter("ngfBeforeModelChange",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:q,$duplicateFiles:t,$event:k});var y=i.attrGetter("ngfValidateAfterResize",d,e),z=i.attrGetter("ngfModelOptions",d,e);i.validate(q,w?r.length:0,c,d,e).then(function(a){l?m(q,[],j,t,x):(z&&z.allowInvalid||y?v=q:(v=a.validFiles,u=a.invalidFiles),i.attrGetter("ngfFixOrientation",d,e)&&i.isExifSupported()?f(v,d,e).then(function(){p()}):p())})}},i}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(a,b,c,d){function e(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return-1===a.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return"input"===b[0].tagName.toLowerCase()&&c.type&&"file"===c.type.toLowerCase()}function l(){return t("ngfChange")||t("ngfSelect")}function m(b){if(j.shouldUpdateOn("change",c,a)){var e=b.__files_||b.target&&b.target.files,f=[];if(!e)return;for(var g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a,d){function e(b){a.attr("id","ngf-"+b),d.attr("id","ngf-label-"+b)}for(var f=0;f<b[0].attributes.length;f++){var g=b[0].attributes[f];"type"!==g.name&&"class"!==g.name&&"style"!==g.name&&("id"===g.name?(e(g.value),u.push(c.$observe("id",e))):a.attr(g.name,g.value||"required"!==g.name&&"multiple"!==g.name?g.value:g.name))}}function o(){if(k())return b;var a=angular.element('<input type="file">'),c=angular.element("<label>upload</label>");return c.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),n(a,c),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}function p(c){if(b.attr("disabled"))return!1;if(!t("ngfSelectDisabled",a)){var d=q(c);if(null!=d)return d;r(c);try{k()||document.body.contains(x[0])||(g.push({el:b,ref:x.parent()}),document.body.appendChild(x.parent()[0]),x.bind("change",m))}catch(f){}return e(navigator.userAgent)?setTimeout(function(){x[0].click()},0):x[0].click(),!1}}function q(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if(b){if("touchstart"===a.type)return w=b[0].clientX,v=b[0].clientY,!0;if("touchend"===a.type){var c=b[0].clientX,d=b[0].clientY;if(Math.abs(c-w)>20||Math.abs(d-v)>20)return a.stopPropagation(),a.preventDefault(),!1}return!0}}function r(b){j.shouldUpdateOn("click",c,a)&&x.val()&&(x.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function s(a){if(x&&!x.attr("__ngf_ie10_Fix_")){if(!x[0].parentNode)return void(x=null);a.preventDefault(),a.stopPropagation(),x.unbind("click");var b=x.clone();return x.replaceWith(b),x=b,x.attr("__ngf_ie10_Fix_","true"),x.bind("change",m),x.bind("click",s),x[0].click(),!1}x.removeAttr("__ngf_ie10_Fix_")}var t=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var u=[];t("ngfMultiple")&&u.push(a.$watch(t("ngfMultiple"),function(){x.attr("multiple",t("ngfMultiple",a))})),t("ngfCapture")&&u.push(a.$watch(t("ngfCapture"),function(){x.attr("capture",t("ngfCapture",a))})),t("ngfAccept")&&u.push(a.$watch(t("ngfAccept"),function(){x.attr("accept",t("ngfAccept",a))})),u.push(c.$observe("accept",function(){x.attr("accept",t("accept"))}));var v=0,w=0,x=b;k()||(x=o()),x.bind("change",m),k()?b.bind("click",r):b.bind("click touchstart touchend",p),-1!==navigator.appVersion.indexOf("MSIE 10")&&x.bind("click",s),d&&d.$formatters.push(function(a){return(null==a||0===a.length)&&x.val()&&x.val(null),a}),a.$on("$destroy",function(){k()||x.parent().remove(),angular.forEach(u,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,x,m)}var g=[];return{restrict:"AEC",require:"?ngModel",link:function(e,g,h,i){f(e,g,h,i,a,b,c,d)}}}]),function(){function a(a){return"img"===a.tagName.toLowerCase()?"image":"audio"===a.tagName.toLowerCase()?"audio":"video"===a.tagName.toLowerCase()?"video":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter("ngfNoObjectUrl",f,d);b.dataUrl(a,g)["finally"](function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css("background-image","url('"+(b||"")+"')"):e.attr("src",b),b?e.removeClass("ng-hide"):e.addClass("ng-hide")})})}c(function(){var c=d.$watch(f[g],function(c){var k=h;if("ngfThumbnail"===g&&(k||(k={width:e[0].naturalWidth||e[0].clientWidth,height:e[0].naturalHeight||e[0].clientHeight}),0===k.width&&window.getComputedStyle)){var l=getComputedStyle(e[0]);l.width&&l.width.indexOf("px")>-1&&l.height&&l.height.indexOf("px")>-1&&(k={width:parseInt(l.width.slice(0,-2)),height:parseInt(l.height.slice(0,-2))})}return angular.isString(c)?(e.removeClass("ng-hide"),i?e.css("background-image","url('"+c+"')"):e.attr("src",c)):void(!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf("image")?e.addClass("ng-hide"):k&&b.isResizeSupported()?(k.resizeIf=function(a,e){
return b.attrGetter("ngfResizeIf",f,d,{$width:a,$height:e,$file:c})},b.resize(c,k).then(function(a){j(a)},function(a){throw a})):j(c))});d.$on("$destroy",function(){c()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0)["finally"](function(){if(e++,e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(h){return void b(function(){a.$ngfBlobUrl="",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var i=new FileReader;i.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},i.onerror=function(){b(function(){a.$ngfDataUrl="",g.reject()})},i.readAsDataURL(a)}}else b(function(){a[e?"$ngfDataUrl":"$ngfBlobUrl"]="",g.reject()})}),f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise,f["finally"](function(){delete a[e?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),f},d}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfSrc",a.attrGetter("ngfResize",f,d),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfBackground",a.attrGetter("ngfResize",f,d),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){var g=a.attrGetter("ngfSize",f,d);b(a,c,d,e,f,"ngfThumbnail",g,a.attrGetter("ngfAsBackground",f,d))}}}]),ngFileUpload.config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),""):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(a,b,c){function d(a){var b="",c=[];if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(",");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+="("+g.regexp+")",f<e.length-1&&(b+="|")):c=c.concat(g.excludes)}else 0===a.indexOf("!")?c.push("^((?!"+d(a.substring(1)).regexp+").)*$"):(0===a.indexOf(".")&&(a="*"+a),b="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",b=b.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,"i");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],"i");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){if(a.$dirty){var e=d;d&&!angular.isArray(d)&&(e=[d]),f.validate(e,0,a,b,c).then(function(){f.applyModelValidation(a,e)})}return d})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g="ngf"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter("ngfValidate",a,b,{$file:e}))){var i=(d||c).split(".");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var n=a[i];if(n){var o=f.getValidationAttr(e,g,b,c,n);null!=o&&(h(n,o,i)||(-1===k.indexOf(b)?(n.$error=b,(n.$errorMessages=n.$errorMessages||{})[b]=!0,n.$errorParam=o,-1===m.indexOf(n)&&m.push(n),l||a.splice(i,1),j=!1):a.splice(i,1)))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,n,o){function p(b,d,e){function f(f){if(f())if(-1===k.indexOf(c)){if(d.$error=c,(d.$errorMessages=d.$errorMessages||{})[c]=!0,d.$errorParam=e,-1===m.indexOf(d)&&m.push(d),!l){var g=a.indexOf(d);g>-1&&a.splice(g,1)}b.resolve(!1)}else{var h=a.indexOf(d);h>-1&&a.splice(h,1),b.resolve(!0)}else b.resolve(!0)}null!=e?n(d,e).then(function(a){f(function(){return!o(a,e)})},function(){f(function(){return j("ngfValidateForce",{$file:d})})}):b.resolve(!0)}var q=[f.emptyPromise(!0)];a&&(a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();return q.push(d.promise),!i||null!=a.type&&0===a.type.search(i)?void("dimensions"===c&&null!=f.attrGetter("ngfDimensions",e)?f.imageDimensions(a).then(function(b){p(d,a,j("ngfDimensions",{$file:a,$width:b.width,$height:b.height}))},function(){d.resolve(!1)}):"duration"===c&&null!=f.attrGetter("ngfDuration",e)?f.mediaDuration(a).then(function(b){p(d,a,j("ngfDuration",{$file:a,$duration:b}))},function(){d.resolve(!1)}):p(d,a,f.getValidationAttr(e,g,c,h,a))):void d.resolve(!0)}));var r=b.defer();return b.all(q).then(function(a){for(var b=!0,e=0;e<a.length;e++)if(!a[e]){b=!1;break}d.$ngfValidations.push({name:c,valid:b}),r.resolve(b)}),r.promise}d=d||{},d.$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)},k=(f.attrGetter("ngfIgnoreInvalid",e,g)||"").split(" "),l=f.attrGetter("ngfRunAllValidations",e,g);if(null==a||0===a.length)return f.emptyPromise({validFiles:a,invalidFiles:[]});a=void 0===a.length?[a]:a.slice(0);var m=[];h("pattern",null,f.validatePattern),h("minSize","size.min",function(a,b){return a.size+.1>=f.translateScalars(b)}),h("maxSize","size.max",function(a,b){return a.size-.1<=f.translateScalars(b)});var n=0;if(h("maxTotalSize",null,function(b,c){return n+=b.size,n>f.translateScalars(c)?(a.splice(0,a.length),!1):!0}),h("validateFn",null,function(a,b){return b===!0||null===b||""===b}),!a.length)return f.emptyPromise({validFiles:[],invalidFiles:m});var o=b.defer(),p=[];return p.push(i("maxHeight","height.max",/image/,this.imageDimensions,function(a,b){return a.height<=b})),p.push(i("minHeight","height.min",/image/,this.imageDimensions,function(a,b){return a.height>=b})),p.push(i("maxWidth","width.max",/image/,this.imageDimensions,function(a,b){return a.width<=b})),p.push(i("minWidth","width.min",/image/,this.imageDimensions,function(a,b){return a.width>=b})),p.push(i("dimensions",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("ratio",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(","),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<.01&&(d=!0);return d})),p.push(i("maxRatio","ratio.max",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4})),p.push(i("minRatio","ratio.min",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4})),p.push(i("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)})),p.push(i("minDuration","duration.min",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)})),p.push(i("duration",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("validateAsyncFn",null,null,function(a,b){return b},function(a){return a===!0||null===a||""===a})),b.all(p).then(function(){if(l)for(var b=0;b<a.length;b++){var d=a[b];d.$error&&a.splice(b--,1)}l=!1,h("maxFiles",null,function(a,b,d){return b>c+d}),o.resolve({validFiles:a,invalidFiles:m})}),o.promise},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("image")?void e.reject("not image"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].naturalWidth||h[0].clientWidth,c=h[0].naturalHeight||h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i++>10?f():g())},1e3)}var h=angular.element("<img>").attr("src",b).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");h.on("load",d),h.on("error",f);var i=0;g(),angular.element(document.getElementsByTagName("body")[0]).append(h)},function(){e.reject("load error")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise["finally"](function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("audio")&&0!==a.type.indexOf("video")?void e.reject("not media"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf("audio")?"<audio>":"<video>").attr("src",b).css("visibility","none").css("position","fixed");h.on("loadedmetadata",d),h.on("error",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject("load error")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise["finally"](function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement("canvas"),n=document.createElement("img");return n.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(n),n.onload=function(){var a=n.width,b=n.height;if(n.parentNode.removeChild(n),null!=k&&k(a,b)===!1)return void l.reject("resizeIf");try{if(i){var o=c.ratioToFloat(i),p=a/b;o>p?(e=a,f=e/o):(f=b,e=f*o)}e||(e=a),f||(f=b);var q=d(a,b,e,f,j);m.width=Math.min(q.width,e),m.height=Math.min(q.height,f);var r=m.getContext("2d");r.drawImage(n,Math.min(0,-q.marginX/2),Math.min(0,-q.marginY/2),q.width,q.height),l.resolve(m.toDataURL(h||"image/WebP",g||.934))}catch(s){l.reject(s)}},n.onerror=function(){n.parentNode.removeChild(n),l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(","),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement("canvas");return window.atob&&a.getContext&&a.getContext("2d")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d){if(0!==a.type.indexOf("image"))return c.emptyPromise(a);var f=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d.width,d.height,d.quality,d.type||a.type,d.ratio,d.centerCrop,d.resizeIf).then(function(e){if("image/jpeg"===a.type&&d.restoreExif!==!1)try{e=c.restoreExif(b,e)}catch(g){setTimeout(function(){throw g},1)}try{var h=c.dataUrltoBlob(e,a.name,a.size);f.resolve(h)}catch(g){f.reject(g)}},function(b){"resizeIf"===b&&f.resolve(a),f.reject(b)})},function(a){f.reject(a)}),f.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr("disabled")||s("ngfDropDisabled",a)}function m(b,c,d){if(b){var e;try{e=b&&b.getData&&b.getData("text/html")}catch(f){}q(b.items,b.files,s("ngfAllowDir",a)!==!1,s("multiple")||s("ngfMultiple",a)).then(function(a){a.length?n(a,c):o(d,e).then(function(a){n(a,c)})})}}function n(b,c){i.updateModel(e,d,a,s("ngfChange")||s("ngfDrop"),b,c)}function o(b,c){if(!i.shouldUpdateOn(b,d,a)||"string"!=typeof c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}return i.emptyPromise()}function p(a,b,c,d){var e=s("ngfDragOverClass",a,{$event:c}),f="dragover";if(angular.isString(e))f=e;else if(e&&(e.delay&&(w=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||s("ngfPattern",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function q(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:"directory"};e.name=e.path=(b||"")+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&l>=o&&d.push(g(c,(b?b:"")+a.name+"/"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(f){c.reject(f)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b?b:"")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(d){c.reject(d)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,"maxFiles");null==j&&(j=Number.MAX_VALUE);var l=i.getValidationAttr(d,a,"maxTotalSize");null==l&&(l=Number.MAX_VALUE);var m=s("ngfIncludeDir",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&"file:"!==h.location.protocol)for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var r=b[q].webkitGetAsEntry();if(r.isDirectory&&!e)continue;null!=r&&p.push(g(r))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m||!n.length)w.resolve(n);else{for(var a=0;n[a]&&"directory"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var r=b(),s=function(a,b,c){return i.attrGetter(a,d,b,c)};if(s("dropAvailable")&&g(function(){a[s("dropAvailable")]?a[s("dropAvailable")].value=r:a[s("dropAvailable")]=r}),!r)return void(s("ngfHideOnDropNotAvailable",a)===!0&&c.css("display","none"));null==s("ngfSelect")&&i.registerModelChangeValidator(e,d,a);var t,u=null,v=f(s("ngfStopPropagation")),w=1;c[0].addEventListener("dragover",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){if(b.preventDefault(),v(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}g.cancel(u),t||(t="C",p(a,d,b,function(d){t=d,c.addClass(t),s("ngfDrag",a,{$isDragging:!0,$class:t,$event:b})}))}},!1),c[0].addEventListener("dragenter",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation())},!1),c[0].addEventListener("dragleave",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),u=g(function(){t&&c.removeClass(t),t=null,s("ngfDrag",a,{$isDragging:!1,$event:b})},w||100))},!1),c[0].addEventListener("drop",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),t&&c.removeClass(t),t=null,m(b.dataTransfer,b,"dropUrl"))},!1),c[0].addEventListener("paste",function(b){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s("ngfEnableFirefoxPaste",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn("paste",d,a)&&m(b.clipboardData||b.originalEvent.clipboardData,b,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s("ngfEnableFirefoxPaste",a)&&(c.attr("contenteditable",!0),c.on("keypress",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(b,c,d,e,f,g){return{restrict:"AEC",require:"?ngModel",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,f,g)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(a,c,d){return function(e,f,g){if(b()){var h=a(d.attrGetter("ngfDropAvailable",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice?a.slice(0,65536):a;return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;e>f;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;i>j;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&8>=k&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!==(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){return b.orientation<2||b.orientation>8?f.resolve(a):void e.dataUrl(a,!0).then(function(g){var h=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext("2d");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||"image/WebP",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(l){return f.reject(l)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.encode64=function(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g},c.restore=function(a,b){a.match("data:image/jpeg;base64,")&&(a=a.replace("data:image/jpeg;base64,",""));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(b=a[c],255===b[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace("data:image/jpeg;base64,",""),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];;){if(255===a[b]&218===a[b+1])break;if(255===a[b]&216===a[b+1])b+=2;else{var d=256*a[b+2]+a[b+3],e=b+d+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){var b,c,d,e,f,g="",h="",i=0,j=[],k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.KEY_STR.indexOf(a.charAt(i++)),e=this.KEY_STR.indexOf(a.charAt(i++)),f=this.KEY_STR.indexOf(a.charAt(i++)),h=this.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g="",d=e=f=h="";while(i<a.length);return j},c.restore(a,b)},e}]),function(){function a(a,b){window.XMLHttpRequest.prototype[a]=b(window.XMLHttpRequest.prototype[a])}function b(a,b,c){try{Object.defineProperty(a,b,{get:c})}catch(d){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var c=function(a){if(!a.__listeners){a.upload||(a.upload={}),a.__listeners=[];var b=a.upload.addEventListener;a.upload.addEventListener=function(c,d){a.__listeners[c]=d,b&&b.apply(this,arguments)}}};a("open",function(a){return function(b,d,e){c(this),this.__url=d;try{a.apply(this,[b,d,e])}catch(f){f.message.indexOf("Access is denied")>-1&&(this.__origError=f,a.apply(this,[b,"_fix_for_ie_crossdomain__",e]))}}}),a("getResponseHeader",function(a){return function(b){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(b):null==a?null:a.apply(this,[b])}}),a("getAllResponseHeaders",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==a?null:a.apply(this)}}),a("abort",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==a?null:a.apply(this)}}),a("setRequestHeader",function(a){return function(b,d){if("__setXHR_"===b){c(this);var e=d(this);e instanceof Function&&e(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[b]=d,a.apply(this,arguments)}}),a("send",function(a){return function(){var c=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var d=arguments[0],e={url:c.__url,jsonp:!1,cache:!0,complete:function(a,d){a&&angular.isString(a)&&-1!==a.indexOf("#2174")&&(a=null),c.__completed=!0,!a&&c.__listeners.load&&c.__listeners.load({type:"load",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),!a&&c.__listeners.loadend&&c.__listeners.loadend({type:"loadend",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),"abort"===a&&c.__listeners.abort&&c.__listeners.abort({type:"abort",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),void 0!==d.status&&b(c,"status",function(){return 0===d.status&&a&&"abort"!==a?500:d.status}),void 0!==d.statusText&&b(c,"statusText",function(){return d.statusText}),b(c,"readyState",function(){return 4}),void 0!==d.response&&b(c,"response",function(){return d.response});var e=d.responseText||(a&&0===d.status&&"abort"!==a?a:void 0);b(c,"responseText",function(){return e}),b(c,"response",function(){return e}),a&&b(c,"err",function(){return a}),c.__fileApiXHR=d,c.onreadystatechange&&c.onreadystatechange(),c.onload&&c.onload()},progress:function(a){if(a.target=c,c.__listeners.progress&&c.__listeners.progress(a),c.__total=a.total,c.__loaded=a.loaded,a.total===a.loaded){var b=this;setTimeout(function(){c.__completed||(c.getAllResponseHeaders=function(){},b.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:c.__requestHeaders};e.data={},e.files={};for(var f=0;f<d.data.length;f++){var g=d.data[f];null!=g.val&&null!=g.val.name&&null!=g.val.size&&null!=g.val.type?e.files[g.key]=g.val:e.data[g.key]=g.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';c.__fileApiXHR=FileAPI.upload(e)},1)}else{if(this.__origError)throw this.__origError;a.apply(c,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(a,b,c){b.__isFileAPIBlobShim&&(b=b.data[0]),this.data.push({key:a,val:b,name:c})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(a){return{data:a,__isFileAPIBlobShim:!0}}}}(),function(){function a(a){return"input"===a[0].tagName.toLowerCase()&&a.attr("type")&&"file"===a.attr("type").toLowerCase()}function b(){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)return!0}catch(b){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function c(a){var b=0,c=0;if(window.jQuery)return jQuery(a).offset();if(a.offsetParent)do b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;while(a);return{left:b,top:c}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=b(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var d,e,f,g,h,i=document.createElement("script"),j=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)d=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)e=window.FileAPI.jsPath;else for(f=0;f<j.length;f++)if(h=j[f].src,g=h.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),g>-1){e=h.substring(0,g+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=e),i.setAttribute("src",d||e+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(i)}FileAPI.ngfFixIE=function(d,e,f){if(!b())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var g=function(){var b=e.parent();d.attr("disabled")?b&&b.removeClass("js-fileapi-wrapper"):(e.attr("__ngf_flash_")||(e.unbind("change"),e.unbind("click"),e.bind("change",function(a){h.apply(this,[a]),f.apply(this,[a])}),e.attr("__ngf_flash_","true")),b.addClass("js-fileapi-wrapper"),a(d)||(b.css("position","absolute").css("top",c(d[0]).top+"px").css("left",c(d[0]).left+"px").css("width",d[0].offsetWidth+"px").css("height",d[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",d.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),e.css("width",d[0].offsetWidth+"px").css("height",d[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};d.bind("mouseenter",g);var h=function(a){for(var b=FileAPI.getFiles(a),c=0;c<b.length;c++)void 0===b[c].size&&(b[c].size=0),void 0===b[c].name&&(b[c].name="file"),void 0===b[c].type&&(b[c].type="undefined");a.target||(a.target={}),a.target.files=b,a.target.files!==b&&(a.__files_=b),(a.__files_||a.target.files).item=function(b){return(a.__files_||a.target.files)[b]||null}}},FileAPI.disableFileInput=function(a,b){b?a.removeClass("js-fileapi-wrapper"):a.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var a=this,b=!1;this.listeners={},this.addEventListener=function(b,c){a.listeners[b]=a.listeners[b]||[],a.listeners[b].push(c)},this.removeEventListener=function(b,c){a.listeners[b]&&a.listeners[b].splice(a.listeners[b].indexOf(c),1)},this.dispatchEvent=function(b){var c=a.listeners[b.type];if(c)for(var d=0;d<c.length;d++)c[d].call(a,b)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var c=function(b,c){var d={type:b,target:a,loaded:c.loaded,total:c.total,error:c.error};return null!=c.result&&(d.target.result=c.result),d},d=function(d){b||(b=!0,a.onloadstart&&a.onloadstart(c("loadstart",d)));var e;"load"===d.type?(a.onloadend&&a.onloadend(c("loadend",d)),e=c("load",d),a.onload&&a.onload(e),a.dispatchEvent(e)):"progress"===d.type?(e=c("progress",d),a.onprogress&&a.onprogress(e),a.dispatchEvent(e)):(e=c("error",d),a.onerror&&a.onerror(e),a.dispatchEvent(e))};this.readAsDataURL=function(a){FileAPI.readAsDataURL(a,d)},this.readAsText=function(a){FileAPI.readAsText(a,d)}}),function(){"use strict";function a(b,d){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(f=b.onclick,b.addEventListener("click",function(a){f(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),
d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},a.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return d&&!e&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1)},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),function(a){a.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},d=a.extend(c,b);return this.each(function(){function c(b){if(j){var b=b||window.event,c=0;b.wheelDelta&&(c=-b.wheelDelta/120),b.detail&&(c=b.detail/3);var f=b.target||b.srcTarget||b.srcElement;a(f).closest("."+d.wrapperClass).is(v.parent())&&e(c,!0),b.preventDefault&&!u&&b.preventDefault(),u||(b.returnValue=!1)}}function e(a,b,c){u=!1;var e=a,f=v.outerHeight()-B.outerHeight();if(b&&(e=parseInt(B.css("top"))+a*parseInt(d.wheelStep)/100*B.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),B.css({top:e+"px"})),p=parseInt(B.css("top"))/(v.outerHeight()-B.outerHeight()),e=p*(v[0].scrollHeight-v.outerHeight()),c){e=a;var g=e/v[0].scrollHeight*v.outerHeight();g=Math.min(Math.max(g,0),f),B.css({top:g+"px"})}v.scrollTop(e),v.trigger("slimscrolling",~~e),h(),i()}function f(a){window.addEventListener?(a.addEventListener("DOMMouseScroll",c,!1),a.addEventListener("mousewheel",c,!1)):document.attachEvent("onmousewheel",c)}function g(){o=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),s),B.css({height:o+"px"});var a=o==v.outerHeight()?"none":"block";B.css({display:a})}function h(){if(g(),clearTimeout(m),p==~~p){if(u=d.allowPageScroll,q!=p){var a=0==~~p?"top":"bottom";v.trigger("slimscroll",a)}}else u=!1;return q=p,o>=v.outerHeight()?void(u=!0):(B.stop(!0,!0).fadeIn("fast"),void(d.railVisible&&A.stop(!0,!0).fadeIn("fast")))}function i(){d.alwaysVisible||(m=setTimeout(function(){d.disableFadeOut&&j||k||l||(B.fadeOut("slow"),A.fadeOut("slow"))},1e3))}var j,k,l,m,n,o,p,q,r="<div></div>",s=30,u=!1,v=a(this);if(v.parent().hasClass(d.wrapperClass)){var w=v.scrollTop();if(B=v.siblings("."+d.barClass),A=v.siblings("."+d.railClass),g(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){v.parent().css("height","auto"),v.css("height","auto");var x=v.parent().parent().height();v.parent().css("height",x),v.css("height",x)}else if("height"in b){var y=b.height;v.parent().css("height",y),v.css("height",y)}if("scrollTo"in b)w=parseInt(d.scrollTo);else if("scrollBy"in b)w+=parseInt(d.scrollBy);else if("destroy"in b)return B.remove(),A.remove(),void v.unwrap();e(w,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){d.height="auto"==d.height?v.parent().height():d.height;var z=a(r).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});v.css({overflow:"hidden",width:d.width,height:d.height});var A=a(r).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:d.alwaysVisible&&d.railVisible?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90}),B=a(r).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99}),C="right"==d.position?{right:d.distance}:{left:d.distance};A.css(C),B.css(C),v.wrap(z),v.parent().append(B),v.parent().append(A),d.railDraggable&&B.bind("mousedown",function(b){var c=a(document);return l=!0,t=parseFloat(B.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,B.css("top",currTop),e(0,B.position().top,!1)}),c.bind("mouseup.slimscroll",function(a){l=!1,i(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),A.hover(function(){h()},function(){i()}),B.hover(function(){k=!0},function(){k=!1}),v.hover(function(){j=!0,h(),i()},function(){j=!1,i()}),v.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(n=a.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(a){if(u||a.originalEvent.preventDefault(),a.originalEvent.touches.length){var b=(n-a.originalEvent.touches[0].pageY)/d.touchScrollStep;e(b,!0),n=a.originalEvent.touches[0].pageY}}),g(),"bottom"===d.start?(B.css({top:v.outerHeight()-B.outerHeight()}),e(0,!0)):"top"!==d.start&&(e(a(d.start).position().top,null,!0),d.alwaysVisible||B.hide()),f(this)}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(jQuery),function(a){a.fn.extend({slimScroll:function(b){var c=a.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},b);return this.each(function(){function d(b){if(i){b=b||window.event;var d=0;b.wheelDelta&&(d=-b.wheelDelta/120),b.detail&&(d=b.detail/3),a(b.target||b.srcTarget||b.srcElement).closest("."+c.wrapperClass).is(r.parent())&&e(d,!0),b.preventDefault&&!q&&b.preventDefault(),q||(b.returnValue=!1)}}function e(a,b,d){q=!1;var e=r.outerHeight()-u.outerHeight();b&&(b=parseInt(u.css("top"))+a*parseInt(c.wheelStep)/100*u.outerHeight(),b=Math.min(Math.max(b,0),e),b=a>0?Math.ceil(b):Math.floor(b),u.css({top:b+"px"})),o=parseInt(u.css("top"))/(r.outerHeight()-u.outerHeight()),b=o*(r[0].scrollHeight-r.outerHeight()),d&&(b=a,a=b/r[0].scrollHeight*r.outerHeight(),a=Math.min(Math.max(a,0),e),u.css({top:a+"px"})),r.scrollTop(b),r.trigger("slimscrolling",~~b),g(),h()}function f(){n=Math.max(r.outerHeight()/r[0].scrollHeight*r.outerHeight(),30),u.css({height:n+"px"});var a=n==r.outerHeight()?"none":"block";u.css({display:a})}function g(){f(),clearTimeout(l),o==~~o?(q=c.allowPageScroll,p!=o&&r.trigger("slimscroll",0==~~o?"top":"bottom")):q=!1,p=o,n>=r.outerHeight()?q=!0:(u.stop(!0,!0).fadeIn("fast"),c.railVisible&&v.stop(!0,!0).fadeIn("fast"))}function h(){c.alwaysVisible||(l=setTimeout(function(){c.disableFadeOut&&i||j||k||(u.fadeOut("slow"),v.fadeOut("slow"))},1e3))}var i,j,k,l,m,n,o,p,q=!1,r=a(this);if(r.parent().hasClass(c.wrapperClass)){var s=r.scrollTop(),u=r.siblings("."+c.barClass),v=r.siblings("."+c.railClass);if(f(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){r.parent().css("height","auto"),r.css("height","auto");var w=r.parent().parent().height();r.parent().css("height",w),r.css("height",w)}else"height"in b&&(w=b.height,r.parent().css("height",w),r.css("height",w));if("scrollTo"in b)s=parseInt(c.scrollTo);else if("scrollBy"in b)s+=parseInt(c.scrollBy);else if("destroy"in b)return u.remove(),v.remove(),void r.unwrap();e(s,!1,!0)}}else if(!(a.isPlainObject(b)&&"destroy"in b)){c.height="auto"==c.height?r.parent().height():c.height,s=a("<div></div>").addClass(c.wrapperClass).css({position:"relative",overflow:"hidden",width:c.width,height:c.height}),r.css({overflow:"hidden",width:c.width,height:c.height});var v=a("<div></div>").addClass(c.railClass).css({width:c.size,height:"100%",position:"absolute",top:0,display:c.alwaysVisible&&c.railVisible?"block":"none","border-radius":c.railBorderRadius,background:c.railColor,opacity:c.railOpacity,zIndex:90}),u=a("<div></div>").addClass(c.barClass).css({background:c.color,width:c.size,position:"absolute",top:0,opacity:c.opacity,display:c.alwaysVisible?"block":"none","border-radius":c.borderRadius,BorderRadius:c.borderRadius,MozBorderRadius:c.borderRadius,WebkitBorderRadius:c.borderRadius,zIndex:99}),w="right"==c.position?{right:c.distance}:{left:c.distance};v.css(w),u.css(w),r.wrap(s),r.parent().append(u),r.parent().append(v),c.railDraggable&&u.bind("mousedown",function(b){var c=a(document);return k=!0,t=parseFloat(u.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,u.css("top",currTop),e(0,u.position().top,!1)}),c.bind("mouseup.slimscroll",function(a){k=!1,h(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),v.hover(function(){g()},function(){h()}),u.hover(function(){j=!0},function(){j=!1}),r.hover(function(){i=!0,g(),h()},function(){i=!1,h()}),r.bind("touchstart",function(a,b){a.originalEvent.touches.length&&(m=a.originalEvent.touches[0].pageY)}),r.bind("touchmove",function(a){q||a.originalEvent.preventDefault(),a.originalEvent.touches.length&&(e((m-a.originalEvent.touches[0].pageY)/c.touchScrollStep,!0),m=a.originalEvent.touches[0].pageY)}),f(),"bottom"===c.start?(u.css({top:r.outerHeight()-u.outerHeight()}),e(0,!0)):"top"!==c.start&&(e(a(c.start).position().top,null,!0),c.alwaysVisible||u.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",d,!1),this.addEventListener("mousewheel",d,!1)):document.attachEvent("onmousewheel",d)}}),this}}),a.fn.extend({slimscroll:a.fn.slimScroll})}(jQuery),function(){var a,b,c,d,e,f=function(a,b){return function(){return a.apply(b,arguments)}},g=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b=function(){function a(){}return a.prototype.extend=function(a,b){var c,d;for(c in b)d=b[c],null==a[c]&&(a[c]=d);return a},a.prototype.isMobile=function(a){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)},a.prototype.createEvent=function(a,b,c,d){var e;return null==b&&(b=!1),null==c&&(c=!1),null==d&&(d=null),null!=document.createEvent?(e=document.createEvent("CustomEvent"),e.initCustomEvent(a,b,c,d)):null!=document.createEventObject?(e=document.createEventObject(),e.eventType=a):e.eventName=a,e},a.prototype.emitEvent=function(a,b){return null!=a.dispatchEvent?a.dispatchEvent(b):b in(null!=a)?a[b]():"on"+b in(null!=a)?a["on"+b]():void 0},a.prototype.addEvent=function(a,b,c){return null!=a.addEventListener?a.addEventListener(b,c,!1):null!=a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},a.prototype.removeEvent=function(a,b,c){return null!=a.removeEventListener?a.removeEventListener(b,c,!1):null!=a.detachEvent?a.detachEvent("on"+b,c):delete a[b]},a.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},a}(),c=this.WeakMap||this.MozWeakMap||(c=function(){function a(){this.keys=[],this.values=[]}return a.prototype.get=function(a){var b,c,d,e,f;for(f=this.keys,b=d=0,e=f.length;e>d;b=++d)if(c=f[b],c===a)return this.values[b]},a.prototype.set=function(a,b){var c,d,e,f,g;for(g=this.keys,c=e=0,f=g.length;f>e;c=++e)if(d=g[c],d===a)return void(this.values[c]=b);return this.keys.push(a),this.values.push(b)},a}()),a=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a=function(){function a(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return a.notSupported=!0,a.prototype.observe=function(){},a}()),d=this.getComputedStyle||function(a,b){return this.getPropertyValue=function(b){var c;return"float"===b&&(b="styleFloat"),e.test(b)&&b.replace(e,function(a,b){return b.toUpperCase()}),(null!=(c=a.currentStyle)?c[b]:void 0)||null},this},e=/(\-([a-z]){1})/g,this.WOW=function(){function e(a){null==a&&(a={}),this.scrollCallback=f(this.scrollCallback,this),this.scrollHandler=f(this.scrollHandler,this),this.resetAnimation=f(this.resetAnimation,this),this.start=f(this.start,this),this.scrolled=!0,this.config=this.util().extend(a,this.defaults),this.animationNameCache=new c,this.wowEvent=this.util().createEvent(this.config.boxClass)}return e.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},e.prototype.init=function(){var a;return this.element=window.document.documentElement,"interactive"===(a=document.readyState)||"complete"===a?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},e.prototype.start=function(){var b,c,d,e;if(this.stopped=!1,this.boxes=function(){var a,c,d,e;for(d=this.element.querySelectorAll("."+this.config.boxClass),e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b);return e}.call(this),this.all=function(){var a,c,d,e;for(d=this.boxes,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b);return e}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(e=this.boxes,c=0,d=e.length;d>c;c++)b=e[c],this.applyStyle(b,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new a(function(a){return function(b){var c,d,e,f,g;for(g=[],c=0,d=b.length;d>c;c++)f=b[c],g.push(function(){var a,b,c,d;for(c=f.addedNodes||[],d=[],a=0,b=c.length;b>a;a++)e=c[a],d.push(this.doSync(e));return d}.call(a));return g}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},e.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},e.prototype.sync=function(b){return a.notSupported?this.doSync(this.element):void 0},e.prototype.doSync=function(a){var b,c,d,e,f;if(null==a&&(a=this.element),1===a.nodeType){for(a=a.parentNode||a,e=a.querySelectorAll("."+this.config.boxClass),f=[],c=0,d=e.length;d>c;c++)b=e[c],g.call(this.all,b)<0?(this.boxes.push(b),this.all.push(b),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(b,!0),f.push(this.scrolled=!0)):f.push(void 0);return f}},e.prototype.show=function(a){return this.applyStyle(a),a.className=a.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(a),this.util().emitEvent(a,this.wowEvent),this.util().addEvent(a,"animationend",this.resetAnimation),this.util().addEvent(a,"oanimationend",this.resetAnimation),this.util().addEvent(a,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(a,"MSAnimationEnd",this.resetAnimation),a},e.prototype.applyStyle=function(a,b){var c,d,e;return d=a.getAttribute("data-wow-duration"),c=a.getAttribute("data-wow-delay"),e=a.getAttribute("data-wow-iteration"),this.animate(function(f){return function(){return f.customStyle(a,b,d,c,e)}}(this))},e.prototype.animate=function(){return"requestAnimationFrame"in window?function(a){return window.requestAnimationFrame(a)}:function(a){return a()}}(),e.prototype.resetStyle=function(){var a,b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.style.visibility="visible");return e},e.prototype.resetAnimation=function(a){var b;return a.type.toLowerCase().indexOf("animationend")>=0?(b=a.target||a.srcElement,b.className=b.className.replace(this.config.animateClass,"").trim()):void 0},e.prototype.customStyle=function(a,b,c,d,e){return b&&this.cacheAnimationName(a),a.style.visibility=b?"hidden":"visible",c&&this.vendorSet(a.style,{animationDuration:c}),d&&this.vendorSet(a.style,{animationDelay:d}),e&&this.vendorSet(a.style,{animationIterationCount:e}),this.vendorSet(a.style,{animationName:b?"none":this.cachedAnimationName(a)}),a},e.prototype.vendors=["moz","webkit"],e.prototype.vendorSet=function(a,b){var c,d,e,f;d=[];for(c in b)e=b[c],a[""+c]=e,d.push(function(){var b,d,g,h;for(g=this.vendors,h=[],b=0,d=g.length;d>b;b++)f=g[b],h.push(a[""+f+c.charAt(0).toUpperCase()+c.substr(1)]=e);return h}.call(this));return d},e.prototype.vendorCSS=function(a,b){var c,e,f,g,h,i;for(h=d(a),g=h.getPropertyCSSValue(b),f=this.vendors,c=0,e=f.length;e>c;c++)i=f[c],g=g||h.getPropertyCSSValue("-"+i+"-"+b);return g},e.prototype.animationName=function(a){var b;try{b=this.vendorCSS(a,"animation-name").cssText}catch(c){b=d(a).getPropertyValue("animation-name")}return"none"===b?"":b},e.prototype.cacheAnimationName=function(a){return this.animationNameCache.set(a,this.animationName(a))},e.prototype.cachedAnimationName=function(a){return this.animationNameCache.get(a)},e.prototype.scrollHandler=function(){return this.scrolled=!0},e.prototype.scrollCallback=function(){var a;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var b,c,d,e;for(d=this.boxes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a&&(this.isVisible(a)?this.show(a):e.push(a));return e}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},e.prototype.offsetTop=function(a){for(var b;void 0===a.offsetTop;)a=a.parentNode;for(b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b},e.prototype.isVisible=function(a){var b,c,d,e,f;return c=a.getAttribute("data-wow-offset")||this.config.offset,f=window.pageYOffset,e=f+Math.min(this.element.clientHeight,this.util().innerHeight())-c,d=this.offsetTop(a),b=d+a.clientHeight,e>=d&&b>=f},e.prototype.util=function(){return null!=this._util?this._util:this._util=new b},e.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},e}()}.call(this),!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=!1,c=!1,d=0,e=2e3,f=0,g=a,h=document,i=window,j=g(i),k=[],l=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||!1,m=i.cancelAnimationFrame||i.webkitCancelAnimationFrame||i.mozCancelAnimationFrame||!1;if(l)i.cancelAnimationFrame||(m=function(a){});else{var n=0;l=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-n)),e=i.setTimeout(function(){a(c+d)},d);return n=c+d,e},m=function(a){i.clearTimeout(a)}}var o=i.MutationObserver||i.WebKitMutationObserver||!1,p=Date.now||function(){return(new Date).getTime()},q={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var a=h.currentScript||function(){var a=h.getElementsByTagName("script");return!!a.length&&a[a.length-1]}(),b=a?a.src.split("?")[0]:"";return b.split("/").length>0?b.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},r=!1,s=function(){if(r)return r;var a=h.createElement("DIV"),b=a.style,c=navigator.userAgent,d=navigator.platform,e={};return e.haspointerlock="pointerLockElement"in h||"webkitPointerLockElement"in h||"mozPointerLockElement"in h,e.isopera="opera"in i,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isoperamini="[object OperaMini]"===Object.prototype.toString.call(i.operamini),e.isie="all"in h&&"attachEvent"in a&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in b),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in h)||7===h.documentMode),e.isie8=e.isie&&"documentMode"in h&&8===h.documentMode,e.isie9=e.isie&&"performance"in i&&9===h.documentMode,e.isie10=e.isie&&"performance"in i&&10===h.documentMode,e.isie11="msRequestFullscreen"in a&&h.documentMode>=11,e.ismsedge="msCredentials"in i,e.ismozilla="MozAppearance"in b,e.iswebkit=!e.ismsedge&&"WebkitAppearance"in b,e.ischrome=e.iswebkit&&"chrome"in i,e.ischrome38=e.ischrome&&"touchAction"in b,e.ischrome22=!e.ischrome38&&e.ischrome&&e.haspointerlock,e.ischrome26=!e.ischrome38&&e.ischrome&&"transition"in b,e.cantouch="ontouchstart"in h.documentElement||"ontouchstart"in i,e.hasw3ctouch=(i.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),e.hasmstouch=!e.hasw3ctouch&&(i.MSPointerEvent||!1),e.ismac=/^mac$/i.test(d),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(d),e.isios4=e.isios&&!("seal"in Object),e.isios7=e.isios&&"webkitHidden"in h,e.isios8=e.isios&&"hidden"in h,e.isios10=e.isios&&i.Proxy,e.isandroid=/android/i.test(c),e.haseventlistener="addEventListener"in a,e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1,e.trstyle="transform",e.hastransform="transform"in b||function(){for(var a=["msTransform","webkitTransform","MozTransform","OTransform"],c=0,d=a.length;d>c;c++)if(void 0!==b[a[c]]){e.trstyle=a[c];break}e.hastransform=!!e.trstyle}(),e.hastransform&&(b[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(b[e.trstyle])),e.transitionstyle="transition",e.prefixstyle="",e.transitionend="transitionend",e.hastransition="transition"in b||function(){e.transitionend=!1;for(var a=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],c=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],d=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],f=0,g=a.length;g>f;f++)if(a[f]in b){e.transitionstyle=a[f],e.prefixstyle=c[f],e.transitionend=d[f];break}e.ischrome26&&(e.prefixstyle=c[1]),e.hastransition=e.transitionstyle}(),e.cursorgrabvalue=function(){var a=["grab","-webkit-grab","-moz-grab"];(e.ischrome&&!e.ischrome38||e.isie)&&(a=[]);for(var c=0,d=a.length;d>c;c++){var f=a[c];if(b.cursor=f,b.cursor==f)return f}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),e.hasmousecapture="setCapture"in a,e.hasMutationObserver=!1!==o,a=null,r=e,e},t=function(a,n){function r(){var a=z.doc.css(F.trstyle);return!(!a||"matrix"!=a.substr(0,6))&&a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function t(){var a=z.win;if("zIndex"in a)return a.zIndex();for(;a.length>0;){if(9==a[0].nodeType)return!1;var b=a.css("zIndex");if(!isNaN(b)&&0!==b)return parseInt(b);a=a.parent()}return!1}function v(a,b,c){var d=a.css(b),e=parseFloat(d);if(isNaN(e)){var f=3==(e=I[d]||0)?c?z.win.outerHeight()-z.win.innerHeight():z.win.outerWidth()-z.win.innerWidth():1;return z.isie8&&e&&(e+=1),f?e:0}return e}function w(a,b,c,d){z._bind(a,b,function(d){var e={original:d=d||i.event,target:d.target||d.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==d.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return d.preventDefault?d.preventDefault():d.returnValue=!1,!1},stopImmediatePropagation:function(){d.stopImmediatePropagation?d.stopImmediatePropagation():d.cancelBubble=!0}};return"mousewheel"==b?(d.wheelDeltaX&&(e.deltaX=-.025*d.wheelDeltaX),d.wheelDeltaY&&(e.deltaY=-.025*d.wheelDeltaY),!e.deltaY&&!e.deltaX&&(e.deltaY=-.025*d.wheelDelta)):e.deltaY=d.detail,c.call(a,e)},d)}function x(a,b,c,d){z.scrollrunning||(z.newscrolly=z.getScrollTop(),z.newscrollx=z.getScrollLeft(),O=p());var e=p()-O;if(O=p(),e>350?P=1:P+=(2-P)/10,a=a*P|0,b=b*P|0,a){if(d)if(0>a){if(z.getScrollLeft()>=z.page.maxw)return!0}else if(z.getScrollLeft()<=0)return!0;var f=a>0?1:-1;N!==f&&(z.scrollmom&&z.scrollmom.stop(),z.newscrollx=z.getScrollLeft(),N=f),z.lastdeltax-=a}if(b){if(function(){var a=z.getScrollTop();if(0>b){if(a>=z.page.maxh)return!0}else if(0>=a)return!0}()){if(B.nativeparentscrolling&&c&&!z.ispage&&!z.zoomactive)return!0;var g=z.view.h>>1;z.newscrolly<-g?(z.newscrolly=-g,b=-1):z.newscrolly>z.page.maxh+g?(z.newscrolly=z.page.maxh+g,b=1):b=0}var h=b>0?1:-1;M!==h&&(z.scrollmom&&z.scrollmom.stop(),z.newscrolly=z.getScrollTop(),M=h),z.lastdeltay-=b}(b||a)&&z.synched("relativexy",function(){var a=z.lastdeltay+z.newscrolly;z.lastdeltay=0;var b=z.lastdeltax+z.newscrollx;z.lastdeltax=0,z.rail.drag||z.doScrollPos(b,a)})}function y(a,b,c){var d,e;return!(c||!Q)||(0===a.deltaMode?(d=-a.deltaX*(B.mousescrollstep/54)|0,e=-a.deltaY*(B.mousescrollstep/54)|0):1===a.deltaMode&&(d=-a.deltaX*B.mousescrollstep*50/80|0,e=-a.deltaY*B.mousescrollstep*50/80|0),b&&B.oneaxismousemode&&0===d&&e&&(d=e,e=0,c&&(0>d?z.getScrollLeft()>=z.page.maxw:z.getScrollLeft()<=0)&&(e=d,d=0)),z.isrtlmode&&(d=-d),x(d,e,c,!0)?void(c&&(Q=!0)):(Q=!1,a.stopImmediatePropagation(),a.preventDefault()))}var z=this;this.version="3.7.6",this.name="nicescroll",this.me=n;var A=g("body"),B=this.opt={doc:A,win:!1};if(g.extend(B,q),B.snapbackspeed=80,a)for(var C in B)void 0!==a[C]&&(B[C]=a[C]);if(B.disablemutationobserver&&(o=!1),this.doc=B.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(B.win?B.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==B.win,this.win=B.win||(this.ispage?j:this.doc),this.docscroll=this.ispage&&!this.haswrapper?j:this.win,this.body=A,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=B.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==B.rtlmode){var D=this.win[0]==i?this.body:this.win,E=D.css("writing-mode")||D.css("-webkit-writing-mode")||D.css("-ms-writing-mode")||D.css("-moz-writing-mode");"horizontal-tb"==E||"lr-tb"==E||""===E?(this.isrtlmode="rtl"==D.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==E||"tb"==E||"tb-rl"==E||"rl-tb"==E,this.isvertical="vertical-rl"==E||"tb"==E||"tb-rl"==E)}else this.isrtlmode=!0===B.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==B.scrollbarid)this.id=B.scrollbarid;else do this.id="ascrail"+e++;while(h.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,
this.overflowx=B.overflowx,this.overflowy=B.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=s();var F=g.extend({},this.detected);this.canhwscroll=F.hastransform&&B.hwacceleration,this.ishwscroll=this.canhwscroll&&z.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(F.iswebkit||F.isie||F.isie11):this.hasreversehr=!(F.iswebkit||F.isie&&!F.isie10&&!F.isie11):this.hasreversehr=!1,this.istouchcapable=!1,F.cantouch||!F.hasw3ctouch&&!F.hasmstouch?!F.cantouch||F.isios||F.isandroid||!F.iswebkit&&!F.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,B.enablemouselockapi||(F.hasmousecapture=!1,F.haspointerlock=!1),this.debounced=function(a,b,c){z&&(z.delaylist[a]||!1||(z.delaylist[a]={h:l(function(){z.delaylist[a].fn.call(z),z.delaylist[a]=!1},c)},b.call(z)),z.delaylist[a].fn=b)},this.synched=function(a,b){z.synclist[a]?z.synclist[a]=b:(z.synclist[a]=b,l(function(){z&&(z.synclist[a]&&z.synclist[a].call(z),z.synclist[a]=null)}))},this.unsynched=function(a){z.synclist[a]&&(z.synclist[a]=!1)},this.css=function(a,b){for(var c in b)z.saved.css.push([a,c,a.css(c)]),a.css(c,b[c])},this.scrollTop=function(a){return void 0===a?z.getScrollTop():z.setScrollTop(a)},this.scrollLeft=function(a){return void 0===a?z.getScrollLeft():z.setScrollLeft(a)};var G=function(a,b,c,d,e,f,g){this.st=a,this.ed=b,this.spd=c,this.p1=d||0,this.p2=e||1,this.p3=f||0,this.p4=g||1,this.ts=p(),this.df=b-a};if(G.prototype={B2:function(a){return 3*(1-a)*(1-a)*a},B3:function(a){return 3*(1-a)*a*a},B4:function(a){return a*a*a},getPos:function(){return(p()-this.ts)/this.spd},getNow:function(){var a=(p()-this.ts)/this.spd,b=this.B2(a)+this.B3(a)+this.B4(a);return a>=1?this.ed:this.st+this.df*b|0},update:function(a,b){return this.st=this.getNow(),this.ed=a,this.spd=b,this.ts=p(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},F.hastranslate3d&&F.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(a){if(!a){var b=r();if(b)return 16==b.length?-b[13]:-b[5];if(z.timerscroll&&z.timerscroll.bz)return z.timerscroll.bz.getNow()}return z.doc.translate.y},this.getScrollLeft=function(a){if(!a){var b=r();if(b)return 16==b.length?-b[12]:-b[4];if(z.timerscroll&&z.timerscroll.bh)return z.timerscroll.bh.getNow()}return z.doc.translate.x},this.notifyScrollEvent=function(a){var b=h.createEvent("UIEvents");b.initUIEvent("scroll",!1,!1,i,1),b.niceevent=!0,a.dispatchEvent(b)};var H=this.isrtlmode?1:-1;F.hastranslate3d&&B.enabletranslate3d?(this.setScrollTop=function(a,b){z.doc.translate.y=a,z.doc.translate.ty=-1*a+"px",z.doc.css(F.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),b||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(a,b){z.doc.translate.x=a,z.doc.translate.tx=a*H+"px",z.doc.css(F.trstyle,"translate3d("+z.doc.translate.tx+","+z.doc.translate.ty+",0)"),b||z.notifyScrollEvent(z.win[0])}):(this.setScrollTop=function(a,b){z.doc.translate.y=a,z.doc.translate.ty=-1*a+"px",z.doc.css(F.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),b||z.notifyScrollEvent(z.win[0])},this.setScrollLeft=function(a,b){z.doc.translate.x=a,z.doc.translate.tx=a*H+"px",z.doc.css(F.trstyle,"translate("+z.doc.translate.tx+","+z.doc.translate.ty+")"),b||z.notifyScrollEvent(z.win[0])})}else this.getScrollTop=function(){return z.docscroll.scrollTop()},this.setScrollTop=function(a){z.docscroll.scrollTop(a)},this.getScrollLeft=function(){return z.hasreversehr?z.detected.ismozilla?z.page.maxw-Math.abs(z.docscroll.scrollLeft()):z.page.maxw-z.docscroll.scrollLeft():z.docscroll.scrollLeft()},this.setScrollLeft=function(a){return setTimeout(function(){return z?(z.hasreversehr&&(a=z.detected.ismozilla?-(z.page.maxw-a):z.page.maxw-a),z.docscroll.scrollLeft(a)):void 0},1)};this.getTarget=function(a){return!!a&&(a.target?a.target:!!a.srcElement&&a.srcElement)},this.hasParent=function(a,b){if(!a)return!1;for(var c=a.target||a.srcElement||a||!1;c&&c.id!=b;)c=c.parentNode||!1;return!1!==c};var I={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:i.pageYOffset||h.documentElement.scrollTop,left:i.pageXOffset||h.documentElement.scrollLeft}},this.getOffset=function(){if(z.isfixed){var a=z.win.offset(),b=z.getDocumentScrollOffset();return a.top-=b.top,a.left-=b.left,a}var c=z.win.offset();if(!z.viewport)return c;var d=z.viewport.offset();return{top:c.top-d.top,left:c.left-d.left}},this.updateScrollBar=function(a){var b,c;if(z.ishwscroll)z.rail.css({height:z.win.innerHeight()-(B.railpadding.top+B.railpadding.bottom)}),z.railh&&z.railh.css({width:z.win.innerWidth()-(B.railpadding.left+B.railpadding.right)});else{var d=z.getOffset();if(b={top:d.top,left:d.left-(B.railpadding.left+B.railpadding.right)},b.top+=v(z.win,"border-top-width",!0),b.left+=z.rail.align?z.win.outerWidth()-v(z.win,"border-right-width")-z.rail.width:v(z.win,"border-left-width"),(c=B.railoffset)&&(c.top&&(b.top+=c.top),c.left&&(b.left+=c.left)),z.railslocked||z.rail.css({top:b.top,left:b.left,height:(a?a.h:z.win.innerHeight())-(B.railpadding.top+B.railpadding.bottom)}),z.zoom&&z.zoom.css({top:b.top+1,left:1==z.rail.align?b.left-20:b.left+z.rail.width+4}),z.railh&&!z.railslocked){b={top:d.top,left:d.left},(c=B.railhoffset)&&(c.top&&(b.top+=c.top),c.left&&(b.left+=c.left));var e=z.railh.align?b.top+v(z.win,"border-top-width",!0)+z.win.innerHeight()-z.railh.height:b.top+v(z.win,"border-top-width",!0),f=b.left+v(z.win,"border-left-width");z.railh.css({top:e-(B.railpadding.top+B.railpadding.bottom),left:f,width:z.railh.width})}}},this.doRailClick=function(a,b,c){var d,e,f,g;z.railslocked||(z.cancelEvent(a),"pageY"in a||(a.pageX=a.clientX+h.documentElement.scrollLeft,a.pageY=a.clientY+h.documentElement.scrollTop),b?(d=c?z.doScrollLeft:z.doScrollTop,f=c?(a.pageX-z.railh.offset().left-z.cursorwidth/2)*z.scrollratio.x:(a.pageY-z.rail.offset().top-z.cursorheight/2)*z.scrollratio.y,z.unsynched("relativexy"),d(0|f)):(d=c?z.doScrollLeftBy:z.doScrollBy,f=c?z.scroll.x:z.scroll.y,g=c?a.pageX-z.railh.offset().left:a.pageY-z.rail.offset().top,e=c?z.view.w:z.view.h,d(f>=g?e:-e)))},z.newscrolly=z.newscrollx=0,z.hasanimationframe="requestAnimationFrame"in i,z.hascancelanimationframe="cancelAnimationFrame"in i,z.hasborderbox=!1,this.init=function(){if(z.saved.css=[],F.isoperamini)return!0;if(F.isandroid&&!("hidden"in h))return!0;B.emulatetouch=B.emulatetouch||B.touchbehavior,z.hasborderbox=i.getComputedStyle&&"border-box"===i.getComputedStyle(h.body)["box-sizing"];var a={"overflow-y":"hidden"};if((F.isie11||F.isie10)&&(a["-ms-overflow-style"]="none"),z.ishwscroll&&(this.doc.css(F.transitionstyle,F.prefixstyle+"transform 0ms ease-out"),F.transitionend&&z.bind(z.doc,F.transitionend,z.onScrollTransitionEnd,!1)),z.zindex="auto",z.ispage||"auto"!=B.zindex?z.zindex=B.zindex:z.zindex=t()||"auto",!z.ispage&&"auto"!=z.zindex&&z.zindex>f&&(f=z.zindex),z.isie&&0===z.zindex&&"auto"==B.zindex&&(z.zindex="auto"),!z.ispage||!F.isieold){var e=z.docscroll;z.ispage&&(e=z.haswrapper?z.win:z.doc),z.css(e,a),z.ispage&&(F.isie11||F.isie)&&z.css(g("html"),a),!F.isios||z.ispage||z.haswrapper||z.css(A,{"-webkit-overflow-scrolling":"touch"});var k=g(h.createElement("div"));k.css({position:"relative",top:0,"float":"right",width:B.cursorwidth,height:0,"background-color":B.cursorcolor,border:B.cursorborder,"background-clip":"padding-box","-webkit-border-radius":B.cursorborderradius,"-moz-border-radius":B.cursorborderradius,"border-radius":B.cursorborderradius}),k.addClass("nicescroll-cursors"),z.cursor=k;var l=g(h.createElement("div"));l.attr("id",z.id),l.addClass("nicescroll-rails nicescroll-rails-vr");var m,n,p=["left","right","top","bottom"];for(var q in p)n=p[q],(m=B.railpadding[n]||0)&&l.css("padding-"+n,m+"px");l.append(k),l.width=Math.max(parseFloat(B.cursorwidth),k.outerWidth()),l.css({width:l.width+"px",zIndex:z.zindex,background:B.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==B.railalign?0:1,z.rail=l,z.rail.drag=!1;var r=!1;!B.boxzoom||z.ispage||F.isieold||(r=h.createElement("div"),z.bind(r,"click",z.doZoom),z.bind(r,"mouseenter",function(){z.zoom.css("opacity",B.cursoropacitymax)}),z.bind(r,"mouseleave",function(){z.zoom.css("opacity",B.cursoropacitymin)}),z.zoom=g(r),z.zoom.css({cursor:"pointer",zIndex:z.zindex,backgroundImage:"url("+B.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),B.dblclickzoom&&z.bind(z.win,"dblclick",z.doZoom),F.cantouch&&B.gesturezoom&&(z.ongesturezoom=function(a){return a.scale>1.5&&z.doZoomIn(a),a.scale<.8&&z.doZoomOut(a),z.cancelEvent(a)},z.bind(z.win,"gestureend",z.ongesturezoom))),z.railh=!1;var s;if(B.horizrailenabled&&(z.css(e,{overflowX:"hidden"}),(k=g(h.createElement("div"))).css({position:"absolute",top:0,height:B.cursorwidth,width:0,backgroundColor:B.cursorcolor,border:B.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":B.cursorborderradius,"-moz-border-radius":B.cursorborderradius,"border-radius":B.cursorborderradius}),F.isieold&&k.css("overflow","hidden"),k.addClass("nicescroll-cursors"),z.cursorh=k,(s=g(h.createElement("div"))).attr("id",z.id+"-hr"),s.addClass("nicescroll-rails nicescroll-rails-hr"),s.height=Math.max(parseFloat(B.cursorwidth),k.outerHeight()),s.css({height:s.height+"px",zIndex:z.zindex,background:B.background}),s.append(k),s.visibility=!0,s.scrollable=!0,s.align="top"==B.railvalign?0:1,z.railh=s,z.railh.drag=!1),z.ispage)l.css({position:"fixed",top:0,height:"100%"}),l.css(l.align?{right:0}:{left:0}),z.body.append(l),z.railh&&(s.css({position:"fixed",left:0,width:"100%"}),s.css(s.align?{bottom:0}:{top:0}),z.body.append(s));else{if(z.ishwscroll){"static"==z.win.css("position")&&z.css(z.win,{position:"relative"});var v="HTML"==z.win[0].nodeName?z.body:z.win;g(v).scrollTop(0).scrollLeft(0),z.zoom&&(z.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),v.append(z.zoom)),l.css({position:"absolute",top:0}),l.css(l.align?{right:0}:{left:0}),v.append(l),s&&(s.css({position:"absolute",left:0,bottom:0}),s.css(s.align?{bottom:0}:{top:0}),v.append(s))}else{z.isfixed="fixed"==z.win.css("position");var w=z.isfixed?"fixed":"absolute";z.isfixed||(z.viewport=z.getViewport(z.win[0])),z.viewport&&(z.body=z.viewport,/fixed|absolute/.test(z.viewport.css("position"))||z.css(z.viewport,{position:"relative"})),l.css({position:w}),z.zoom&&z.zoom.css({position:w}),z.updateScrollBar(),z.body.append(l),z.zoom&&z.body.append(z.zoom),z.railh&&(s.css({position:w}),z.body.append(s))}F.isios&&z.css(z.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),B.disableoutline&&(F.isie&&z.win.attr("hideFocus","true"),F.iswebkit&&z.win.css("outline","none"))}if(!1===B.autohidemode?(z.autohidedom=!1,z.rail.css({opacity:B.cursoropacitymax}),z.railh&&z.railh.css({opacity:B.cursoropacitymax})):!0===B.autohidemode||"leave"===B.autohidemode?(z.autohidedom=g().add(z.rail),F.isie8&&(z.autohidedom=z.autohidedom.add(z.cursor)),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh)),z.railh&&F.isie8&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"scroll"==B.autohidemode?(z.autohidedom=g().add(z.rail),z.railh&&(z.autohidedom=z.autohidedom.add(z.railh))):"cursor"==B.autohidemode?(z.autohidedom=g().add(z.cursor),z.railh&&(z.autohidedom=z.autohidedom.add(z.cursorh))):"hidden"==B.autohidemode&&(z.autohidedom=!1,z.hide(),z.railslocked=!1),F.cantouch||z.istouchcapable||B.emulatetouch||F.hasmstouch){z.scrollmom=new u(z),z.ontouchstart=function(a){if(z.locked)return!1;if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;if(z.hasmoving=!1,z.scrollmom.timer&&(z.triggerScrollEnd(),z.scrollmom.stop()),!z.railslocked){var b=z.getTarget(a);if(b&&/INPUT/i.test(b.nodeName)&&/range/i.test(b.type))return z.stopPropagation(a);var c="mousedown"===a.type;if(!("clientX"in a)&&"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),z.forcescreen){var d=a;(a={original:a.original?a.original:a}).clientX=d.screenX,a.clientY=d.screenY}if(z.rail.drag={x:a.clientX,y:a.clientY,sx:z.scroll.x,sy:z.scroll.y,st:z.getScrollTop(),sl:z.getScrollLeft(),pt:2,dl:!1,tg:b},z.ispage||!B.directionlockdeadzone)z.rail.drag.dl="f";else{var e={w:j.width(),h:j.height()},f=z.getContentSize(),h=f.h-e.h,i=f.w-e.w;z.rail.scrollable&&!z.railh.scrollable?z.rail.drag.ck=h>0&&"v":!z.rail.scrollable&&z.railh.scrollable?z.rail.drag.ck=i>0&&"h":z.rail.drag.ck=!1}if(B.emulatetouch&&z.isiframe&&F.isie){var k=z.win.position();z.rail.drag.x+=k.left,z.rail.drag.y+=k.top}if(z.hasmoving=!1,z.lastmouseup=!1,z.scrollmom.reset(a.clientX,a.clientY),b&&c){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(b.nodeName))return F.hasmousecapture&&b.setCapture(),B.emulatetouch?(b.onclick&&!b._onclick&&(b._onclick=b.onclick,b.onclick=function(a){return z.hasmoving?!1:void b._onclick.call(this,a)}),z.cancelEvent(a)):z.stopPropagation(a);/SUBMIT|CANCEL|BUTTON/i.test(g(b).attr("type"))&&(z.preventclick={tg:b,click:!1})}}},z.ontouchend=function(a){if(!z.rail.drag)return!0;if(2==z.rail.drag.pt){if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;z.rail.drag=!1;var b="mouseup"===a.type;if(z.hasmoving&&(z.scrollmom.doMomentum(),z.lastmouseup=!0,z.hideCursor(),F.hasmousecapture&&h.releaseCapture(),b))return z.cancelEvent(a)}else if(1==z.rail.drag.pt)return z.onmouseup(a)};var x=B.emulatetouch&&z.isiframe&&!F.hasmousecapture,y=.3*B.directionlockdeadzone|0;z.ontouchmove=function(a,b){if(!z.rail.drag)return!0;if(a.targetTouches&&B.preventmultitouchscrolling&&a.targetTouches.length>1)return!0;if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!0;if(2==z.rail.drag.pt){"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);var c,d;if(d=c=0,x&&!b){var e=z.win.position();d=-e.left,c=-e.top}var f=a.clientY+c,g=f-z.rail.drag.y,i=a.clientX+d,j=i-z.rail.drag.x,k=z.rail.drag.st-g;if(z.ishwscroll&&B.bouncescroll)0>k?k=Math.round(k/2):k>z.page.maxh&&(k=z.page.maxh+Math.round((k-z.page.maxh)/2));else if(0>k?(k=0,f=0):k>z.page.maxh&&(k=z.page.maxh,f=0),0===f&&!z.hasmoving)return z.ispage||(z.rail.drag=!1),!0;var l=z.getScrollLeft();if(z.railh&&z.railh.scrollable&&(l=z.isrtlmode?j-z.rail.drag.sl:z.rail.drag.sl-j,z.ishwscroll&&B.bouncescroll?0>l?l=Math.round(l/2):l>z.page.maxw&&(l=z.page.maxw+Math.round((l-z.page.maxw)/2)):(0>l&&(l=0,i=0),l>z.page.maxw&&(l=z.page.maxw,i=0))),!z.hasmoving){if(z.rail.drag.y===a.clientY&&z.rail.drag.x===a.clientX)return z.cancelEvent(a);var m=Math.abs(g),n=Math.abs(j),o=B.directionlockdeadzone;if(z.rail.drag.ck?"v"==z.rail.drag.ck?n>o&&y>=m?z.rail.drag=!1:m>o&&(z.rail.drag.dl="v"):"h"==z.rail.drag.ck&&(m>o&&y>=n?z.rail.drag=!1:n>o&&(z.rail.drag.dl="h")):m>o&&n>o?z.rail.drag.dl="f":m>o?z.rail.drag.dl=n>y?"f":"v":n>o&&(z.rail.drag.dl=m>y?"f":"h"),!z.rail.drag.dl)return z.cancelEvent(a);z.triggerScrollStart(a.clientX,a.clientY,0,0,0),z.hasmoving=!0}return z.preventclick&&!z.preventclick.click&&(z.preventclick.click=z.preventclick.tg.onclick||!1,z.preventclick.tg.onclick=z.onpreventclick),z.rail.drag.dl&&("v"==z.rail.drag.dl?l=z.rail.drag.sl:"h"==z.rail.drag.dl&&(k=z.rail.drag.st)),z.synched("touchmove",function(){z.rail.drag&&2==z.rail.drag.pt&&(z.prepareTransition&&z.resetTransition(),z.rail.scrollable&&z.setScrollTop(k),z.scrollmom.update(i,f),z.railh&&z.railh.scrollable?(z.setScrollLeft(l),z.showCursor(k,l)):z.showCursor(k),F.isie10&&h.selection.clear())}),z.cancelEvent(a)}return 1==z.rail.drag.pt?z.onmousemove(a):void 0},z.ontouchstartCursor=function(a,b){if(!z.rail.drag||3==z.rail.drag.pt){if(z.locked)return z.cancelEvent(a);z.cancelScroll(),z.rail.drag={x:a.touches[0].clientX,y:a.touches[0].clientY,sx:z.scroll.x,sy:z.scroll.y,pt:3,hr:!!b};var c=z.getTarget(a);return!z.ispage&&F.hasmousecapture&&c.setCapture(),z.isiframe&&!F.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.cancelEvent(a)}},z.ontouchendCursor=function(a){if(z.rail.drag){if(F.hasmousecapture&&h.releaseCapture(),z.isiframe&&!F.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),3!=z.rail.drag.pt)return;return z.rail.drag=!1,z.cancelEvent(a)}},z.ontouchmoveCursor=function(a){if(z.rail.drag){if(3!=z.rail.drag.pt)return;if(z.cursorfreezed=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(a.touches[0].clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var b=z.scrollvaluemaxw;z.scroll.x>b&&(z.scroll.x=b)}else{z.scroll.y=z.rail.drag.sy+(a.touches[0].clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var c=z.scrollvaluemax;z.scroll.y>c&&(z.scroll.y=c)}return z.synched("touchmove",function(){z.rail.drag&&3==z.rail.drag.pt&&(z.showCursor(),z.rail.drag.hr?z.doScrollLeft(Math.round(z.scroll.x*z.scrollratio.x),B.cursordragspeed):z.doScrollTop(Math.round(z.scroll.y*z.scrollratio.y),B.cursordragspeed))}),z.cancelEvent(a)}}}if(z.onmousedown=function(a,b){if(!z.rail.drag||1==z.rail.drag.pt){if(z.railslocked)return z.cancelEvent(a);z.cancelScroll(),z.rail.drag={x:a.clientX,y:a.clientY,sx:z.scroll.x,sy:z.scroll.y,pt:1,hr:b||!1};var c=z.getTarget(a);return F.hasmousecapture&&c.setCapture(),z.isiframe&&!F.hasmousecapture&&(z.saved.csspointerevents=z.doc.css("pointer-events"),z.css(z.doc,{"pointer-events":"none"})),z.hasmoving=!1,z.cancelEvent(a)}},z.onmouseup=function(a){return z.rail.drag?1!=z.rail.drag.pt||(F.hasmousecapture&&h.releaseCapture(),z.isiframe&&!F.hasmousecapture&&z.doc.css("pointer-events",z.saved.csspointerevents),z.rail.drag=!1,z.cursorfreezed=!1,z.hasmoving&&z.triggerScrollEnd(),z.cancelEvent(a)):void 0},z.onmousemove=function(a){if(z.rail.drag){if(1!==z.rail.drag.pt)return;if(F.ischrome&&0===a.which)return z.onmouseup(a);if(z.cursorfreezed=!0,z.hasmoving||z.triggerScrollStart(a.clientX,a.clientY,0,0,0),z.hasmoving=!0,z.rail.drag.hr){z.scroll.x=z.rail.drag.sx+(a.clientX-z.rail.drag.x),z.scroll.x<0&&(z.scroll.x=0);var b=z.scrollvaluemaxw;z.scroll.x>b&&(z.scroll.x=b)}else{z.scroll.y=z.rail.drag.sy+(a.clientY-z.rail.drag.y),z.scroll.y<0&&(z.scroll.y=0);var c=z.scrollvaluemax;z.scroll.y>c&&(z.scroll.y=c)}return z.synched("mousemove",function(){z.cursorfreezed&&(z.showCursor(),z.rail.drag.hr?z.scrollLeft(Math.round(z.scroll.x*z.scrollratio.x)):z.scrollTop(Math.round(z.scroll.y*z.scrollratio.y)))}),z.cancelEvent(a)}z.checkarea=0},F.cantouch||B.emulatetouch)z.onpreventclick=function(a){return z.preventclick?(z.preventclick.tg.onclick=z.preventclick.click,z.preventclick=!1,z.cancelEvent(a)):void 0},z.onclick=!F.isios&&function(a){return!z.lastmouseup||(z.lastmouseup=!1,z.cancelEvent(a))},B.grabcursorenabled&&F.cursorgrabvalue&&(z.css(z.ispage?z.doc:z.win,{cursor:F.cursorgrabvalue}),z.css(z.rail,{cursor:F.cursorgrabvalue}));else{var C=function(a){if(z.selectiondrag){if(a){var b=z.win.outerHeight(),c=a.pageY-z.selectiondrag.top;c>0&&b>c&&(c=0),c>=b&&(c-=b),z.selectiondrag.df=c}if(0!==z.selectiondrag.df){var d=-2*z.selectiondrag.df/6|0;z.doScrollBy(d),z.debounced("doselectionscroll",function(){C()},50)}}};z.hasTextSelected="getSelection"in h?function(){return h.getSelection().rangeCount>0}:"selection"in h?function(){return"None"!=h.selection.type}:function(){return!1},z.onselectionstart=function(a){z.ispage||(z.selectiondrag=z.win.offset())},z.onselectionend=function(a){z.selectiondrag=!1},z.onselectiondrag=function(a){z.selectiondrag&&z.hasTextSelected()&&z.debounced("selectionscroll",function(){C(a)},250)}}if(F.hasw3ctouch?(z.css(z.ispage?g("html"):z.win,{"touch-action":"none"}),z.css(z.rail,{"touch-action":"none"}),z.css(z.cursor,{"touch-action":"none"}),z.bind(z.win,"pointerdown",z.ontouchstart),z.bind(h,"pointerup",z.ontouchend),z.delegate(h,"pointermove",z.ontouchmove)):F.hasmstouch?(z.css(z.ispage?g("html"):z.win,{"-ms-touch-action":"none"}),z.css(z.rail,{"-ms-touch-action":"none"}),z.css(z.cursor,{"-ms-touch-action":"none"}),z.bind(z.win,"MSPointerDown",z.ontouchstart),z.bind(h,"MSPointerUp",z.ontouchend),z.delegate(h,"MSPointerMove",z.ontouchmove),z.bind(z.cursor,"MSGestureHold",function(a){a.preventDefault()}),z.bind(z.cursor,"contextmenu",function(a){a.preventDefault()})):F.cantouch&&(z.bind(z.win,"touchstart",z.ontouchstart,!1,!0),z.bind(h,"touchend",z.ontouchend,!1,!0),z.bind(h,"touchcancel",z.ontouchend,!1,!0),z.delegate(h,"touchmove",z.ontouchmove,!1,!0)),B.emulatetouch&&(z.bind(z.win,"mousedown",z.ontouchstart,!1,!0),z.bind(h,"mouseup",z.ontouchend,!1,!0),z.bind(h,"mousemove",z.ontouchmove,!1,!0)),(B.cursordragontouch||!F.cantouch&&!B.emulatetouch)&&(z.rail.css({cursor:"default"}),z.railh&&z.railh.css({cursor:"default"}),z.jqbind(z.rail,"mouseenter",function(){return z.ispage||z.win.is(":visible")?(z.canshowonmouseevent&&z.showCursor(),void(z.rail.active=!0)):!1}),z.jqbind(z.rail,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}),B.sensitiverail&&(z.bind(z.rail,"click",function(a){z.doRailClick(a,!1,!1)}),z.bind(z.rail,"dblclick",function(a){z.doRailClick(a,!0,!1)}),z.bind(z.cursor,"click",function(a){z.cancelEvent(a)}),z.bind(z.cursor,"dblclick",function(a){z.cancelEvent(a)})),z.railh&&(z.jqbind(z.railh,"mouseenter",function(){return z.ispage||z.win.is(":visible")?(z.canshowonmouseevent&&z.showCursor(),void(z.rail.active=!0)):!1}),z.jqbind(z.railh,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}),B.sensitiverail&&(z.bind(z.railh,"click",function(a){z.doRailClick(a,!1,!0)}),z.bind(z.railh,"dblclick",function(a){z.doRailClick(a,!0,!0)}),z.bind(z.cursorh,"click",function(a){z.cancelEvent(a)}),z.bind(z.cursorh,"dblclick",function(a){z.cancelEvent(a)})))),B.cursordragontouch&&(this.istouchcapable||F.cantouch)&&(z.bind(z.cursor,"touchstart",z.ontouchstartCursor),z.bind(z.cursor,"touchmove",z.ontouchmoveCursor),z.bind(z.cursor,"touchend",z.ontouchendCursor),z.cursorh&&z.bind(z.cursorh,"touchstart",function(a){z.ontouchstartCursor(a,!0)}),z.cursorh&&z.bind(z.cursorh,"touchmove",z.ontouchmoveCursor),z.cursorh&&z.bind(z.cursorh,"touchend",z.ontouchendCursor)),B.emulatetouch||F.isandroid||F.isios?(z.bind(F.hasmousecapture?z.win:h,"mouseup",z.ontouchend),z.onclick&&z.bind(h,"click",z.onclick),B.cursordragontouch?(z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.cursorh&&z.bind(z.cursorh,"mousedown",function(a){z.onmousedown(a,!0)}),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onmouseup)):(z.bind(z.rail,"mousedown",function(a){a.preventDefault()}),z.railh&&z.bind(z.railh,"mousedown",function(a){a.preventDefault()}))):(z.bind(F.hasmousecapture?z.win:h,"mouseup",z.onmouseup),z.bind(h,"mousemove",z.onmousemove),z.onclick&&z.bind(h,"click",z.onclick),z.bind(z.cursor,"mousedown",z.onmousedown),z.bind(z.cursor,"mouseup",z.onmouseup),z.railh&&(z.bind(z.cursorh,"mousedown",function(a){z.onmousedown(a,!0)}),z.bind(z.cursorh,"mouseup",z.onmouseup)),!z.ispage&&B.enablescrollonselection&&(z.bind(z.win[0],"mousedown",z.onselectionstart),z.bind(h,"mouseup",z.onselectionend),z.bind(z.cursor,"mouseup",z.onselectionend),z.cursorh&&z.bind(z.cursorh,"mouseup",z.onselectionend),z.bind(h,"mousemove",z.onselectiondrag)),z.zoom&&(z.jqbind(z.zoom,"mouseenter",function(){z.canshowonmouseevent&&z.showCursor(),z.rail.active=!0}),z.jqbind(z.zoom,"mouseleave",function(){z.rail.active=!1,z.rail.drag||z.hideCursor()}))),B.enablemousewheel&&(z.isiframe||z.mousewheel(F.isie&&z.ispage?h:z.win,z.onmousewheel),z.mousewheel(z.rail,z.onmousewheel),z.railh&&z.mousewheel(z.railh,z.onmousewheelhr)),z.ispage||F.cantouch||/HTML|^BODY/.test(z.win[0].nodeName)||(z.win.attr("tabindex")||z.win.attr({tabindex:++d}),z.bind(z.win,"focus",function(a){b=z.getTarget(a).id||z.getTarget(a)||!1,z.hasfocus=!0,z.canshowonmouseevent&&z.noticeCursor()}),z.bind(z.win,"blur",function(a){b=!1,z.hasfocus=!1}),z.bind(z.win,"mouseenter",function(a){c=z.getTarget(a).id||z.getTarget(a)||!1,z.hasmousefocus=!0,z.canshowonmouseevent&&z.noticeCursor()}),z.bind(z.win,"mouseleave",function(a){c=!1,z.hasmousefocus=!1,z.rail.drag||z.hideCursor()})),z.onkeypress=function(a){if(z.railslocked&&0===z.page.maxh)return!0;a=a||i.event;var d=z.getTarget(a);if(d&&/INPUT|TEXTAREA|SELECT|OPTION/.test(d.nodeName)&&(!d.getAttribute("type")&&!d.type||!/submit|button|cancel/i.tp))return!0;if(g(d).attr("contenteditable"))return!0;if(z.hasfocus||z.hasmousefocus&&!b||z.ispage&&!b&&!c){var e=a.keyCode;if(z.railslocked&&27!=e)return z.cancelEvent(a);var f=a.ctrlKey||!1,h=a.shiftKey||!1,j=!1;switch(e){case 38:case 63233:z.doScrollBy(72),j=!0;break;case 40:case 63235:z.doScrollBy(-72),j=!0;break;case 37:case 63232:z.railh&&(f?z.doScrollLeft(0):z.doScrollLeftBy(72),j=!0);break;case 39:case 63234:z.railh&&(f?z.doScrollLeft(z.page.maxw):z.doScrollLeftBy(-72),j=!0);break;case 33:case 63276:z.doScrollBy(z.view.h),j=!0;break;case 34:case 63277:z.doScrollBy(-z.view.h),j=!0;break;case 36:case 63273:z.railh&&f?z.doScrollPos(0,0):z.doScrollTo(0),j=!0;break;case 35:case 63275:z.railh&&f?z.doScrollPos(z.page.maxw,z.page.maxh):z.doScrollTo(z.page.maxh),j=!0;break;case 32:B.spacebarenabled&&(h?z.doScrollBy(z.view.h):z.doScrollBy(-z.view.h),j=!0);break;case 27:z.zoomactive&&(z.doZoom(),j=!0)}if(j)return z.cancelEvent(a)}},B.enablekeyboard&&z.bind(h,F.isopera&&!F.isopera12?"keypress":"keydown",z.onkeypress),z.bind(h,"keydown",function(a){(a.ctrlKey||!1)&&(z.wheelprevented=!0)}),z.bind(h,"keyup",function(a){a.ctrlKey||!1||(z.wheelprevented=!1)}),z.bind(i,"blur",function(a){z.wheelprevented=!1}),z.bind(i,"resize",z.onscreenresize),z.bind(i,"orientationchange",z.onscreenresize),z.bind(i,"load",z.lazyResize),F.ischrome&&!z.ispage&&!z.haswrapper){var D=z.win.attr("style"),E=parseFloat(z.win.css("width"))+1;z.win.css("width",E),z.synched("chromefix",function(){z.win.attr("style",D)})}if(z.onAttributeChange=function(a){z.lazyResize(z.isieold?250:30)},B.enableobserver&&(z.isie11||!1===o||(z.observerbody=new o(function(a){return a.forEach(function(a){return"attributes"==a.type?A.hasClass("modal-open")&&A.hasClass("modal-dialog")&&!g.contains(g(".modal-dialog")[0],z.doc[0])?z.hide():z.show():void 0}),z.me.clientWidth!=z.page.width||z.me.clientHeight!=z.page.height?z.lazyResize(30):void 0}),z.observerbody.observe(h.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!z.ispage&&!z.haswrapper)){var G=z.win[0];!1!==o?(z.observer=new o(function(a){a.forEach(z.onAttributeChange)}),z.observer.observe(G,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),z.observerremover=new o(function(a){a.forEach(function(a){if(a.removedNodes.length>0)for(var b in a.removedNodes)if(z&&a.removedNodes[b]===G)return z.remove()})}),z.observerremover.observe(G.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(z.bind(G,F.isie&&!F.isie9?"propertychange":"DOMAttrModified",z.onAttributeChange),F.isie9&&G.attachEvent("onpropertychange",z.onAttributeChange),z.bind(G,"DOMNodeRemoved",function(a){a.target===G&&z.remove()}))}!z.ispage&&B.boxzoom&&z.bind(i,"resize",z.resizeZoom),z.istextarea&&(z.bind(z.win,"keydown",z.lazyResize),z.bind(z.win,"mouseup",z.lazyResize)),z.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var H=function(){z.iframexd=!1;var a;try{(a="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(b){z.iframexd=!0,a=!1}if(z.iframexd)return"console"in i&&console.log("NiceScroll error: policy restriced iframe"),!0;if(z.forcescreen=!0,z.isiframe&&(z.iframe={doc:g(a),html:z.doc.contents().find("html")[0],body:z.doc.contents().find("body")[0]},z.getContentSize=function(){return{w:Math.max(z.iframe.html.scrollWidth,z.iframe.body.scrollWidth),h:Math.max(z.iframe.html.scrollHeight,z.iframe.body.scrollHeight)}},z.docscroll=g(z.iframe.body)),!F.isios&&B.iframeautoresize&&!z.isiframe){z.win.scrollTop(0),z.doc.height("");var c=Math.max(a.getElementsByTagName("html")[0].scrollHeight,a.body.scrollHeight);z.doc.height(c)}z.lazyResize(30),z.css(g(z.iframe.body),b),F.isios&&z.haswrapper&&z.css(g(a.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?z.bind(this.contentWindow,"scroll",z.onscroll):z.bind(a,"scroll",z.onscroll),B.enablemousewheel&&z.mousewheel(a,z.onmousewheel),B.enablekeyboard&&z.bind(a,F.isopera?"keypress":"keydown",z.onkeypress),F.cantouch?(z.bind(a,"touchstart",z.ontouchstart),z.bind(a,"touchmove",z.ontouchmove)):B.emulatetouch&&(z.bind(a,"mousedown",z.ontouchstart),z.bind(a,"mousemove",function(a){return z.ontouchmove(a,!0)}),B.grabcursorenabled&&F.cursorgrabvalue&&z.css(g(a.body),{cursor:F.cursorgrabvalue})),z.bind(a,"mouseup",z.ontouchend),z.zoom&&(B.dblclickzoom&&z.bind(a,"dblclick",z.doZoom),z.ongesturezoom&&z.bind(a,"gestureend",z.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){H.call(z.doc[0],!1)},500),z.bind(this.doc,"load",H)}},this.showCursor=function(a,b){if(z.cursortimeout&&(clearTimeout(z.cursortimeout),z.cursortimeout=0),z.rail){if(z.autohidedom&&(z.autohidedom.stop().css({opacity:B.cursoropacitymax}),z.cursoractive=!0),z.rail.drag&&1==z.rail.drag.pt||(void 0!==a&&!1!==a&&(z.scroll.y=a/z.scrollratio.y|0),void 0!==b&&(z.scroll.x=b/z.scrollratio.x|0)),z.cursor.css({height:z.cursorheight,top:z.scroll.y}),z.cursorh){var c=z.hasreversehr?z.scrollvaluemaxw-z.scroll.x:z.scroll.x;z.cursorh.css({width:z.cursorwidth,left:!z.rail.align&&z.rail.visibility?c+z.rail.width:c}),z.cursoractive=!0}z.zoom&&z.zoom.stop().css({opacity:B.cursoropacitymax})}},this.hideCursor=function(a){z.cursortimeout||z.rail&&z.autohidedom&&(z.hasmousefocus&&"leave"===B.autohidemode||(z.cursortimeout=setTimeout(function(){z.rail.active&&z.showonmouseevent||(z.autohidedom.stop().animate({opacity:B.cursoropacitymin}),z.zoom&&z.zoom.stop().animate({opacity:B.cursoropacitymin}),z.cursoractive=!1),z.cursortimeout=0},a||B.hidecursordelay)))},this.noticeCursor=function(a,b,c){z.showCursor(b,c),z.rail.active||z.hideCursor(a)},this.getContentSize=z.ispage?function(){return{w:Math.max(h.body.scrollWidth,h.documentElement.scrollWidth),h:Math.max(h.body.scrollHeight,h.documentElement.scrollHeight)}}:z.haswrapper?function(){return{w:z.doc[0].offsetWidth,h:z.doc[0].offsetHeight}}:function(){return{w:z.docscroll[0].scrollWidth,h:z.docscroll[0].scrollHeight}},this.onResize=function(a,b){if(!z||!z.win)return!1;var c=z.page.maxh,d=z.page.maxw,e=z.view.h,f=z.view.w;if(z.view={w:z.ispage?z.win.width():z.win[0].clientWidth,h:z.ispage?z.win.height():z.win[0].clientHeight},z.page=b||z.getContentSize(),z.page.maxh=Math.max(0,z.page.h-z.view.h),z.page.maxw=Math.max(0,z.page.w-z.view.w),z.page.maxh==c&&z.page.maxw==d&&z.view.w==f&&z.view.h==e){if(z.ispage)return z;var g=z.win.offset();if(z.lastposition){var h=z.lastposition;if(h.top==g.top&&h.left==g.left)return z}z.lastposition=g}return 0===z.page.maxh?(z.hideRail(),z.scrollvaluemax=0,z.scroll.y=0,z.scrollratio.y=0,z.cursorheight=0,z.setScrollTop(0),z.rail&&(z.rail.scrollable=!1)):(z.page.maxh-=B.railpadding.top+B.railpadding.bottom,z.rail.scrollable=!0),0===z.page.maxw?(z.hideRailHr(),z.scrollvaluemaxw=0,z.scroll.x=0,z.scrollratio.x=0,z.cursorwidth=0,z.setScrollLeft(0),z.railh&&(z.railh.scrollable=!1)):(z.page.maxw-=B.railpadding.left+B.railpadding.right,z.railh&&(z.railh.scrollable=B.horizrailenabled)),z.railslocked=z.locked||0===z.page.maxh&&0===z.page.maxw,z.railslocked?(z.ispage||z.updateScrollBar(z.view),!1):(z.hidden||(z.rail.visibility||z.showRail(),z.railh&&!z.railh.visibility&&z.showRailHr()),z.istextarea&&z.win.css("resize")&&"none"!=z.win.css("resize")&&(z.view.h-=20),z.cursorheight=Math.min(z.view.h,Math.round(z.view.h*(z.view.h/z.page.h))),z.cursorheight=B.cursorfixedheight?B.cursorfixedheight:Math.max(B.cursorminheight,z.cursorheight),z.cursorwidth=Math.min(z.view.w,Math.round(z.view.w*(z.view.w/z.page.w))),z.cursorwidth=B.cursorfixedheight?B.cursorfixedheight:Math.max(B.cursorminheight,z.cursorwidth),z.scrollvaluemax=z.view.h-z.cursorheight-(B.railpadding.top+B.railpadding.bottom),z.hasborderbox||(z.scrollvaluemax-=z.cursor[0].offsetHeight-z.cursor[0].clientHeight),
z.railh&&(z.railh.width=z.page.maxh>0?z.view.w-z.rail.width:z.view.w,z.scrollvaluemaxw=z.railh.width-z.cursorwidth-(B.railpadding.left+B.railpadding.right)),z.ispage||z.updateScrollBar(z.view),z.scrollratio={x:z.page.maxw/z.scrollvaluemaxw,y:z.page.maxh/z.scrollvaluemax},z.getScrollTop()>z.page.maxh?z.doScrollTop(z.page.maxh):(z.scroll.y=z.getScrollTop()/z.scrollratio.y|0,z.scroll.x=z.getScrollLeft()/z.scrollratio.x|0,z.cursoractive&&z.noticeCursor()),z.scroll.y&&0===z.getScrollTop()&&z.doScrollTo(z.scroll.y*z.scrollratio.y|0),z)},this.resize=z.onResize;var J=0;this.onscreenresize=function(a){clearTimeout(J);var b=!z.ispage&&!z.haswrapper;b&&z.hideRails(),J=setTimeout(function(){z&&(b&&z.showRails(),z.resize()),J=0},120)},this.lazyResize=function(a){return clearTimeout(J),a=isNaN(a)?240:a,J=setTimeout(function(){z&&z.resize(),J=0},a),z},this.jqbind=function(a,b,c){z.events.push({e:a,n:b,f:c,q:!0}),g(a).on(b,c)},this.mousewheel=function(a,b,c){var d="jquery"in a?a[0]:a;if("onwheel"in h.createElement("div"))z._bind(d,"wheel",b,c||!1);else{var e=void 0!==h.onmousewheel?"mousewheel":"DOMMouseScroll";w(d,e,b,c||!1),"DOMMouseScroll"==e&&w(d,"MozMousePixelScroll",b,c||!1)}};var K=!1;if(F.haseventlistener){try{var L=Object.defineProperty({},"passive",{get:function(){K=!0}});i.addEventListener("test",null,L)}catch(a){}this.stopPropagation=function(a){return!!a&&((a=a.original?a.original:a).stopPropagation(),!1)},this.cancelEvent=function(a){return a.cancelable&&a.preventDefault(),a.stopImmediatePropagation(),a.preventManipulation&&a.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},i.constructor.prototype.addEventListener=h.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(a,b,c){this.attachEvent("on"+a,b)},i.constructor.prototype.removeEventListener=h.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(a,b,c){this.detachEvent("on"+a,b)},this.cancelEvent=function(a){return(a=a||i.event)&&(a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1),!1},this.stopPropagation=function(a){return(a=a||i.event)&&(a.cancelBubble=!0),!1};this.delegate=function(a,b,c,d,e){var f=k[b]||!1;f||(f={a:[],l:[],f:function(a){for(var b=f.l,c=!1,d=b.length-1;d>=0;d--)if(!1===(c=b[d].call(a.target,a)))return!1;return c}},z.bind(a,b,f.f,d,e),k[b]=f),z.ispage?(f.a=[z.id].concat(f.a),f.l=[c].concat(f.l)):(f.a.push(z.id),f.l.push(c))},this.undelegate=function(a,b,c,d,e){var f=k[b]||!1;if(f&&f.l)for(var g=0,h=f.l.length;h>g;g++)f.a[g]===z.id&&(f.a.splice(g),f.l.splice(g),0===f.a.length&&(z._unbind(a,b,f.l.f),k[b]=null))},this.bind=function(a,b,c,d,e){var f="jquery"in a?a[0]:a;z._bind(f,b,c,d||!1,e||!1)},this._bind=function(a,b,c,d,e){z.events.push({e:a,n:b,f:c,b:d,q:!1}),K&&e?a.addEventListener(b,c,{passive:!1,capture:d}):a.addEventListener(b,c,d||!1)},this._unbind=function(a,b,c,d){k[b]?z.undelegate(a,b,c,d):a.removeEventListener(b,c,d)},this.unbindAll=function(){for(var a=0;a<z.events.length;a++){var b=z.events[a];b.q?b.e.unbind(b.n,b.f):z._unbind(b.e,b.n,b.f,b.b)}},this.showRails=function(){return z.showRail().showRailHr()},this.showRail=function(){return 0===z.page.maxh||!z.ispage&&"none"==z.win.css("display")||(z.rail.visibility=!0,z.rail.css("display","block")),z},this.showRailHr=function(){return z.railh&&(0===z.page.maxw||!z.ispage&&"none"==z.win.css("display")||(z.railh.visibility=!0,z.railh.css("display","block"))),z},this.hideRails=function(){return z.hideRail().hideRailHr()},this.hideRail=function(){return z.rail.visibility=!1,z.rail.css("display","none"),z},this.hideRailHr=function(){return z.railh&&(z.railh.visibility=!1,z.railh.css("display","none")),z},this.show=function(){return z.hidden=!1,z.railslocked=!1,z.showRails()},this.hide=function(){return z.hidden=!0,z.railslocked=!0,z.hideRails()},this.toggle=function(){return z.hidden?z.show():z.hide()},this.remove=function(){z.stop(),z.cursortimeout&&clearTimeout(z.cursortimeout);for(var a in z.delaylist)z.delaylist[a]&&m(z.delaylist[a].h);z.doZoomOut(),z.unbindAll(),F.isie9&&z.win[0].detachEvent("onpropertychange",z.onAttributeChange),!1!==z.observer&&z.observer.disconnect(),!1!==z.observerremover&&z.observerremover.disconnect(),!1!==z.observerbody&&z.observerbody.disconnect(),z.events=null,z.cursor&&z.cursor.remove(),z.cursorh&&z.cursorh.remove(),z.rail&&z.rail.remove(),z.railh&&z.railh.remove(),z.zoom&&z.zoom.remove();for(var b=0;b<z.saved.css.length;b++){var c=z.saved.css[b];c[0].css(c[1],void 0===c[2]?"":c[2])}z.saved=!1,z.me.data("__nicescroll","");var d=g.nicescroll;d.each(function(a){if(this&&this.id===z.id){delete d[a];for(var b=++a;b<d.length;b++,a++)d[a]=d[b];--d.length&&delete d[d.length]}});for(var e in z)z[e]=null,delete z[e];z=null},this.scrollstart=function(a){return this.onscrollstart=a,z},this.scrollend=function(a){return this.onscrollend=a,z},this.scrollcancel=function(a){return this.onscrollcancel=a,z},this.zoomin=function(a){return this.onzoomin=a,z},this.zoomout=function(a){return this.onzoomout=a,z},this.isScrollable=function(a){var b=a.target?a.target:a;if("OPTION"==b.nodeName)return!0;for(;b&&1==b.nodeType&&b!==this.me[0]&&!/^BODY|HTML/.test(b.nodeName);){var c=g(b),d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(d))return b.clientHeight!=b.scrollHeight;b=!!b.parentNode&&b.parentNode}return!1},this.getViewport=function(a){for(var b=!(!a||!a.parentNode)&&a.parentNode;b&&1==b.nodeType&&!/^BODY|HTML/.test(b.nodeName);){var c=g(b);if(/fixed|absolute/.test(c.css("position")))return c;var d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(d)&&b.clientHeight!=b.scrollHeight)return c;if(c.getNiceScroll().length>0)return c;b=!!b.parentNode&&b.parentNode}return!1},this.triggerScrollStart=function(a,b,c,d,e){if(z.onscrollstart){var f={type:"scrollstart",current:{x:a,y:b},request:{x:c,y:d},end:{x:z.newscrollx,y:z.newscrolly},speed:e};z.onscrollstart.call(z,f)}},this.triggerScrollEnd=function(){if(z.onscrollend){var a=z.getScrollLeft(),b=z.getScrollTop(),c={type:"scrollend",current:{x:a,y:b},end:{x:a,y:b}};z.onscrollend.call(z,c)}};var M=0,N=0,O=0,P=1,Q=!1;if(this.onmousewheel=function(a){if(z.wheelprevented||z.locked)return!1;if(z.railslocked)return z.debounced("checkunlock",z.resize,250),!1;if(z.rail.drag)return z.cancelEvent(a);if("auto"===B.oneaxismousemode&&0!==a.deltaX&&(B.oneaxismousemode=!1),B.oneaxismousemode&&0===a.deltaX&&!z.rail.scrollable)return!z.railh||!z.railh.scrollable||z.onmousewheelhr(a);var b=p(),c=!1;if(B.preservenativescrolling&&z.checkarea+600<b&&(z.nativescrollingarea=z.isScrollable(a),c=!0),z.checkarea=b,z.nativescrollingarea)return!0;var d=y(a,!1,c);return d&&(z.checkarea=0),d},this.onmousewheelhr=function(a){if(!z.wheelprevented){if(z.railslocked||!z.railh.scrollable)return!0;if(z.rail.drag)return z.cancelEvent(a);var b=p(),c=!1;return B.preservenativescrolling&&z.checkarea+600<b&&(z.nativescrollingarea=z.isScrollable(a),c=!0),z.checkarea=b,!!z.nativescrollingarea||(z.railslocked?z.cancelEvent(a):y(a,!0,c))}},this.stop=function(){return z.cancelScroll(),z.scrollmon&&z.scrollmon.stop(),z.cursorfreezed=!1,z.scroll.y=Math.round(z.getScrollTop()*(1/z.scrollratio.y)),z.noticeCursor(),z},this.getTransitionSpeed=function(a){return 80+a/72*B.scrollspeed|0},B.smoothscroll)if(z.ishwscroll&&F.hastransition&&B.usetransition&&B.smoothscroll){var R="";this.resetTransition=function(){R="",z.doc.css(F.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(a,b){var c=b?a:z.getTransitionSpeed(a),d=c+"ms";return R!==d&&(R=d,z.doc.css(F.prefixstyle+"transition-duration",d)),c},this.doScrollLeft=function(a,b){var c=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(c,a,b)},this.cursorupdate={running:!1,start:function(){var a=this;if(!a.running){a.running=!0;var b=function(){a.running&&l(b),z.showCursor(z.getScrollTop(),z.getScrollLeft()),z.notifyScrollEvent(z.win[0])};l(b)}},stop:function(){this.running=!1}},this.doScrollPos=function(a,b,c){var d=z.getScrollTop(),e=z.getScrollLeft();if(((z.newscrolly-d)*(b-d)<0||(z.newscrollx-e)*(a-e)<0)&&z.cancelScroll(),B.bouncescroll?(0>b?b=b/2|0:b>z.page.maxh&&(b=z.page.maxh+(b-z.page.maxh)/2|0),0>a?a=a/2|0:a>z.page.maxw&&(a=z.page.maxw+(a-z.page.maxw)/2|0)):(0>b?b=0:b>z.page.maxh&&(b=z.page.maxh),0>a?a=0:a>z.page.maxw&&(a=z.page.maxw)),z.scrollrunning&&a==z.newscrollx&&b==z.newscrolly)return!1;z.newscrolly=b,z.newscrollx=a;var f=z.getScrollTop(),g=z.getScrollLeft(),h={};h.x=a-g,h.y=b-f;var i=0|Math.sqrt(h.x*h.x+h.y*h.y),j=z.prepareTransition(i);z.scrollrunning||(z.scrollrunning=!0,z.triggerScrollStart(g,f,a,b,j),z.cursorupdate.start()),z.scrollendtrapped=!0,F.transitionend||(z.scrollendtrapped&&clearTimeout(z.scrollendtrapped),z.scrollendtrapped=setTimeout(z.onScrollTransitionEnd,j)),z.setScrollTop(z.newscrolly),z.setScrollLeft(z.newscrollx)},this.cancelScroll=function(){if(!z.scrollendtrapped)return!0;var a=z.getScrollTop(),b=z.getScrollLeft();return z.scrollrunning=!1,F.transitionend||clearTimeout(F.transitionend),z.scrollendtrapped=!1,z.resetTransition(),z.setScrollTop(a),z.railh&&z.setScrollLeft(b),z.timerscroll&&z.timerscroll.tm&&clearInterval(z.timerscroll.tm),z.timerscroll=!1,z.cursorfreezed=!1,z.cursorupdate.stop(),z.showCursor(a,b),z},this.onScrollTransitionEnd=function(){if(z.scrollendtrapped){var a=z.getScrollTop(),b=z.getScrollLeft();if(0>a?a=0:a>z.page.maxh&&(a=z.page.maxh),0>b?b=0:b>z.page.maxw&&(b=z.page.maxw),a!=z.newscrolly||b!=z.newscrollx)return z.doScrollPos(b,a,B.snapbackspeed);z.scrollrunning&&z.triggerScrollEnd(),z.scrollrunning=!1,z.scrollendtrapped=!1,z.resetTransition(),z.timerscroll=!1,z.setScrollTop(a),z.railh&&z.setScrollLeft(b),z.cursorupdate.stop(),z.noticeCursor(!1,a,b),z.cursorfreezed=!1}}}else this.doScrollLeft=function(a,b){var c=z.scrollrunning?z.newscrolly:z.getScrollTop();z.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=z.scrollrunning?z.newscrollx:z.getScrollLeft();z.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,c){var d=z.getScrollTop(),e=z.getScrollLeft();((z.newscrolly-d)*(b-d)<0||(z.newscrollx-e)*(a-e)<0)&&z.cancelScroll();var f=!1;if(z.bouncescroll&&z.rail.visibility||(0>b?(b=0,f=!0):b>z.page.maxh&&(b=z.page.maxh,f=!0)),z.bouncescroll&&z.railh.visibility||(0>a?(a=0,f=!0):a>z.page.maxw&&(a=z.page.maxw,f=!0)),z.scrollrunning&&z.newscrolly===b&&z.newscrollx===a)return!0;z.newscrolly=b,z.newscrollx=a,z.dst={},z.dst.x=a-e,z.dst.y=b-d,z.dst.px=e,z.dst.py=d;var g=0|Math.sqrt(z.dst.x*z.dst.x+z.dst.y*z.dst.y),h=z.getTransitionSpeed(g);z.bzscroll={};var i=f?1:.58;z.bzscroll.x=new G(e,z.newscrollx,h,0,0,i,1),z.bzscroll.y=new G(d,z.newscrolly,h,0,0,i,1),p();var j=function(){if(z.scrollrunning){var a=z.bzscroll.y.getPos();z.setScrollLeft(z.bzscroll.x.getNow()),z.setScrollTop(z.bzscroll.y.getNow()),1>=a?z.timer=l(j):(z.scrollrunning=!1,z.timer=0,z.triggerScrollEnd())}};z.scrollrunning||(z.triggerScrollStart(e,d,a,b,h),z.scrollrunning=!0,z.timer=l(j))},this.cancelScroll=function(){return z.timer&&m(z.timer),z.timer=0,z.bzscroll=!1,z.scrollrunning=!1,z};else this.doScrollLeft=function(a,b){var c=z.getScrollTop();z.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=z.getScrollLeft();z.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,c){var d=a>z.page.maxw?z.page.maxw:a;0>d&&(d=0);var e=b>z.page.maxh?z.page.maxh:b;0>e&&(e=0),z.synched("scroll",function(){z.setScrollTop(e),z.setScrollLeft(d)})},this.cancelScroll=function(){};this.doScrollBy=function(a,b){x(0,a)},this.doScrollLeftBy=function(a,b){x(a,0)},this.doScrollTo=function(a,b){var c=b?Math.round(a*z.scrollratio.y):a;0>c?c=0:c>z.page.maxh&&(c=z.page.maxh),z.cursorfreezed=!1,z.doScrollTop(a)},this.checkContentSize=function(){var a=z.getContentSize();a.h==z.page.h&&a.w==z.page.w||z.resize(!1,a)},z.onscroll=function(a){z.rail.drag||z.cursorfreezed||z.synched("scroll",function(){z.scroll.y=Math.round(z.getScrollTop()/z.scrollratio.y),z.railh&&(z.scroll.x=Math.round(z.getScrollLeft()/z.scrollratio.x)),z.noticeCursor()})},z.bind(z.docscroll,"scroll",z.onscroll),this.doZoomIn=function(a){if(!z.zoomactive){z.zoomactive=!0,z.zoomrestore={style:{}};var b=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],c=z.win[0].style;for(var d in b){var e=b[d];z.zoomrestore.style[e]=void 0!==c[e]?c[e]:""}z.zoomrestore.style.width=z.win.css("width"),z.zoomrestore.style.height=z.win.css("height"),z.zoomrestore.padding={w:z.win.outerWidth()-z.win.width(),h:z.win.outerHeight()-z.win.height()},F.isios4&&(z.zoomrestore.scrollTop=j.scrollTop(),j.scrollTop(0)),z.win.css({position:F.isios4?"absolute":"fixed",top:0,left:0,zIndex:f+100,margin:0});var g=z.win.css("backgroundColor");return(""===g||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(g))&&z.win.css("backgroundColor","#fff"),z.rail.css({zIndex:f+101}),z.zoom.css({zIndex:f+102}),z.zoom.css("backgroundPosition","0 -18px"),z.resizeZoom(),z.onzoomin&&z.onzoomin.call(z),z.cancelEvent(a)}},this.doZoomOut=function(a){return z.zoomactive?(z.zoomactive=!1,z.win.css("margin",""),z.win.css(z.zoomrestore.style),F.isios4&&j.scrollTop(z.zoomrestore.scrollTop),z.rail.css({"z-index":z.zindex}),z.zoom.css({"z-index":z.zindex}),z.zoomrestore=!1,z.zoom.css("backgroundPosition","0 0"),z.onResize(),z.onzoomout&&z.onzoomout.call(z),z.cancelEvent(a)):void 0},this.doZoom=function(a){return z.zoomactive?z.doZoomOut(a):z.doZoomIn(a)},this.resizeZoom=function(){if(z.zoomactive){var a=z.getScrollTop();z.win.css({width:j.width()-z.zoomrestore.padding.w+"px",height:j.height()-z.zoomrestore.padding.h+"px"}),z.onResize(),z.setScrollTop(Math.min(z.page.maxh,a))}},this.init(),g.nicescroll.push(this)},u=function(a){var b=this;this.nc=a,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(a,c){b.stop(),b.steptime=0,b.lasttime=p(),b.speedx=0,b.speedy=0,b.lastx=a,b.lasty=c,b.lastscrollx=-1,b.lastscrolly=-1},this.update=function(a,c){var d=p();b.steptime=d-b.lasttime,b.lasttime=d;var e=c-b.lasty,f=a-b.lastx,g=b.nc.getScrollTop()+e,h=b.nc.getScrollLeft()+f;b.snapx=0>h||h>b.nc.page.maxw,b.snapy=0>g||g>b.nc.page.maxh,b.speedx=f,b.speedy=e,b.lastx=a,b.lasty=c},this.stop=function(){b.nc.unsynched("domomentum2d"),b.timer&&clearTimeout(b.timer),b.timer=0,b.lastscrollx=-1,b.lastscrolly=-1},this.doSnapy=function(a,c){var d=!1;0>c?(c=0,d=!0):c>b.nc.page.maxh&&(c=b.nc.page.maxh,d=!0),0>a?(a=0,d=!0):a>b.nc.page.maxw&&(a=b.nc.page.maxw,d=!0),d?b.nc.doScrollPos(a,c,b.nc.opt.snapbackspeed):b.nc.triggerScrollEnd()},this.doMomentum=function(a){var c=p(),d=a?c+a:b.lasttime,e=b.nc.getScrollLeft(),f=b.nc.getScrollTop(),g=b.nc.page.maxh,h=b.nc.page.maxw;b.speedx=h>0?Math.min(60,b.speedx):0,b.speedy=g>0?Math.min(60,b.speedy):0;var i=d&&60>=c-d;(0>f||f>g||0>e||e>h)&&(i=!1);var j=!(!b.speedy||!i)&&b.speedy,k=!(!b.speedx||!i)&&b.speedx;if(j||k){var l=Math.max(16,b.steptime);if(l>50){var m=l/50;b.speedx*=m,b.speedy*=m,l=50}b.demulxy=0,b.lastscrollx=b.nc.getScrollLeft(),b.chkx=b.lastscrollx,b.lastscrolly=b.nc.getScrollTop(),b.chky=b.lastscrolly;var n=b.lastscrollx,o=b.lastscrolly,q=function(){var a=p()-c>600?.04:.02;b.speedx&&(n=Math.floor(b.lastscrollx-b.speedx*(1-b.demulxy)),b.lastscrollx=n,(0>n||n>h)&&(a=.1)),b.speedy&&(o=Math.floor(b.lastscrolly-b.speedy*(1-b.demulxy)),b.lastscrolly=o,(0>o||o>g)&&(a=.1)),b.demulxy=Math.min(1,b.demulxy+a),b.nc.synched("domomentum2d",function(){b.speedx&&(b.nc.getScrollLeft(),b.chkx=n,b.nc.setScrollLeft(n)),b.speedy&&(b.nc.getScrollTop(),b.chky=o,b.nc.setScrollTop(o)),b.timer||(b.nc.hideCursor(),b.doSnapy(n,o))}),b.demulxy<1?b.timer=setTimeout(q,l):(b.stop(),b.nc.hideCursor(),b.doSnapy(n,o))};q()}else b.doSnapy(b.nc.getScrollLeft(),b.nc.getScrollTop())}},v=a.fn.scrollTop;a.cssHooks.pageYOffset={get:function(a,b,c){var d=g.data(a,"__nicescroll")||!1;return d&&d.ishwscroll?d.getScrollTop():v.call(a)},set:function(a,b){var c=g.data(a,"__nicescroll")||!1;return c&&c.ishwscroll?c.setScrollTop(parseInt(b)):v.call(a,b),this}},a.fn.scrollTop=function(a){if(void 0===a){var b=!!this[0]&&(g.data(this[0],"__nicescroll")||!1);return b&&b.ishwscroll?b.getScrollTop():v.call(this)}return this.each(function(){var b=g.data(this,"__nicescroll")||!1;b&&b.ishwscroll?b.setScrollTop(parseInt(a)):v.call(g(this),a)})};var w=a.fn.scrollLeft;g.cssHooks.pageXOffset={get:function(a,b,c){var d=g.data(a,"__nicescroll")||!1;return d&&d.ishwscroll?d.getScrollLeft():w.call(a)},set:function(a,b){var c=g.data(a,"__nicescroll")||!1;return c&&c.ishwscroll?c.setScrollLeft(parseInt(b)):w.call(a,b),this}},a.fn.scrollLeft=function(a){if(void 0===a){var b=!!this[0]&&(g.data(this[0],"__nicescroll")||!1);return b&&b.ishwscroll?b.getScrollLeft():w.call(this)}return this.each(function(){var b=g.data(this,"__nicescroll")||!1;b&&b.ishwscroll?b.setScrollLeft(parseInt(a)):w.call(g(this),a)})};var x=function(a){var b=this;if(this.length=0,this.name="nicescrollarray",this.each=function(a){return g.each(b,a),b},this.push=function(a){b[b.length]=a,b.length++},this.eq=function(a){return b[a]},a)for(var c=0;c<a.length;c++){var d=g.data(a[c],"__nicescroll")||!1;d&&(this[this.length]=d,this.length++)}return this};!function(a,b,c){for(var d=0,e=b.length;e>d;d++)c(a,b[d])}(x.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(a,b){a[b]=function(){var a=arguments;return this.each(function(){this[b].apply(this,a)})}}),a.fn.getNiceScroll=function(a){return void 0===a?new x(this):this[a]&&g.data(this[a],"__nicescroll")||!1},(a.expr.pseudos||a.expr[":"]).nicescroll=function(a){return void 0!==g.data(a,"__nicescroll")},g.fn.niceScroll=function(a,b){void 0!==b||"object"!=typeof a||"jquery"in a||(b=a,a=!1);var c=new x;return this.each(function(){var d=g(this),e=g.extend({},b);if(a){var f=g(a);e.doc=f.length>1?g(a,d):f,e.win=d}!("doc"in e)||"win"in e||(e.win=d);var h=d.data("__nicescroll")||!1;h||(e.doc=e.doc||d,h=new t(e,d),d.data("__nicescroll",h)),c.push(h)}),1===c.length?c[0]:c},i.NiceScroll={getjQuery:function(){return a}},g.nicescroll||(g.nicescroll=new x,g.nicescroll.options=q)}),function(a,b){if("function"==typeof define&&define.amd)define(["jquery"],b);else if("undefined"!=typeof exports)b(require("jquery"));else{var c={exports:{}};b(a.jQuery),a.jqueryScrollToEs=c.exports}}(this,function(a){"use strict";function b(a){return a&&a.__esModule?a:{"default":a}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=b(a),e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f={speed:"1000",easing:"linear",namespace:"scrollTo",offsetTop:50,mobile:{width:768,speed:"500",easing:"linear"}},g="ScrollTo",h=function(){function a(b){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,a),this.element=b,this.$element=d["default"](b),this.$doc=d["default"]("body"),this.options=d["default"].extend(!0,{},f,e),this.namespace=this.options.namespace,this.classes={active:this.namespace+"_active",animating:this.namespace+"_animating"},this.useMobile=!1,this.noroll=!1,this.init()}return e(a,[{key:"init",value:function(){var a=this,b=this;this.transition=this.transition(),this.roll(),this.$element.on("click.scrollTo",function(a){a=a||window.event;var c=a.target||a.srcElement;b.$target=d["default"](c),b.active(b.$target);var e=b.$target.attr("data-scrollto");return e&&(b.$anchor=d["default"]("#"+e),b.$doc.trigger(g+"::jump")),!1}),this.$doc.on(g+"::jump",function(){b.noroll=!0,b.checkMobile();var a=void 0,c=void 0;if(b.useMobile?(c=b.options.mobile.speed,a=b.options.mobile.easing):(c=b.options.speed,a=b.options.easing),b.$anchor&&b.$anchor.length>0){b.$doc.addClass(b.classes.animating);var e=b.$anchor.offset().top;if(!b.transition.supported)return void d["default"]("html, body").animate({scrollTop:b.top},c,function(){b.$doc.removeClass(b.classes.animating)});var f=d["default"](window).scrollTop();b.$doc.css({"margin-top":-(f-e)+"px"}),d["default"](window).scrollTop(e),b.insertRule(".duration_"+c+"{"+b.transition.prefix+"transition-duration: "+c+"ms;}"),b.$doc.addClass("easing_"+a+" duration_"+c).css({"margin-top":""}).one(b.transition.end,function(){b.noroll=!1,b.$doc.removeClass(b.classes.animating+" easing_"+a+" duration_"+c)})}}),d["default"](window).scroll(function(){a.roll()})}},{key:"checkMobile",value:function(){var a=d["default"](window).width();a<this.options.mobile.width?this.useMobile=!0:this.useMobile=!1}},{key:"active",value:function(a){"undefined"!=typeof a&&(this.$element.children().removeClass(this.classes.active),a.addClass(this.classes.active))}},{key:"roll",value:function(){var a=this;this.noroll||this.$doc.find("[id]").each(function(){if(d["default"](window).scrollTop()>d["default"](this).offset().top-a.options.offsetTop&&d["default"](window).scrollTop()<d["default"](this).offset().top+d["default"](this).height()){var b=d["default"](this).attr("id"),c=a.$element.find('[data-scrollto="'+b+'"]');a.$anchor=d["default"](this),a.active(c)}})}},{key:"transition",value:function(){var a=void 0,b=void 0,c="",d=!1,e=document.createElement("fakeelement"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionend",transition:"transitionend"};for(a in f)if(void 0!==e.style[a]){b=f[a],d=!0;break}return/(WebKit)/i.test(window.navigator.userAgent)&&(c="-webkit-"),{prefix:c,end:b,supported:d}}},{key:"insertRule",value:function(a){if(!this.rules||!this.rules[a])if(void 0===this.rules?this.rules={}:this.rules[a]=!0,document.styleSheets&&document.styleSheets.length)document.styleSheets[0].insertRule(a,0);else{var b=document.createElement("style");b.innerHTML=a,document.head.appendChild(b)}}},{key:"jump",value:function(){this.$doc.trigger("ScrollTo::jump")}},{key:"destroy",value:function(){this.$trigger.remove(),this.$element.data("ScrollTo",null),this.$element.off("ScrollTo::jump")}}],[{key:"setDefaults",value:function(a){d["default"].extend(!0,f,d["default"].isPlainObject(a)&&a)}}]),a}(),i={version:"0.2.2"},j="scrollTo",k=d["default"].fn.scrollTo,l=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;b>e;e++)c[e-1]=arguments[e];if("string"==typeof a){var f=a;if(/^_/.test(f))return!1;if(!/^(get)/.test(f))return this.each(function(){var a=d["default"].data(this,j);a&&"function"==typeof a[f]&&a[f].apply(a,c)});var g=this.first().data(j);if(g&&"function"==typeof g[f])return g[f].apply(g,c)}return this.each(function(){d["default"](this).data(j)||d["default"](this).data(j,new h(this,a))})};d["default"].fn.scrollTo=l,d["default"].scrollTo=d["default"].extend({setDefaults:h.setDefaults,noConflict:function(){return d["default"].fn.scrollTo=k,l}},i)}),!function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],a);else if("object"==typeof exports)module.exports=a(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";a(jQuery,moment)}}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c=function(c,d){var e,f,g,h,i,j,k,l={},m=!0,n=!1,o=!1,p=0,q=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],r=["days","months","years","decades"],s=["top","bottom","auto"],t=["left","right","auto"],u=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},w={},x=function(){return void 0!==b.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},y=function(a){var c;return c=void 0===a||null===a?b():b.isDate(a)||b.isMoment(a)?b(a):x()?b.tz(a,j,d.useStrict,d.timeZone):b(a,j,d.useStrict),x()&&c.tz(d.timeZone),c},z=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return-1!==i.indexOf("Y");case"M":return-1!==i.indexOf("M");case"d":return-1!==i.toLowerCase().indexOf("d");case"h":case"H":return-1!==i.toLowerCase().indexOf("h");case"m":return-1!==i.indexOf("m");case"s":return-1!==i.indexOf("s");default:return!1}},A=function(){return z("h")||z("m")||z("s")},B=function(){return z("y")||z("M")||z("d")},C=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(d.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(d.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-decades").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},D=function(){var b=a("<tr>"),c=a("<tr>"),e=a("<tr>");return z("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(d.icons.down))))),z("m")&&(z("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(d.icons.down))))),z("s")&&(z("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(d.icons.down))))),h||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:d.tooltips.togglePeriod}))),e.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,e]))},E=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[D()];return z("h")&&e.push(b),z("m")&&e.push(c),z("s")&&e.push(d),e},F=function(){var b=[];return d.showTodayButton&&b.push(a("<td>").append(a("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(a("<span>").addClass(d.icons.today)))),!d.sideBySide&&B()&&A()&&b.push(a("<td>").append(a("<a>").attr({"data-action":"togglePicker",title:d.tooltips.selectTime}).append(a("<span>").addClass(d.icons.time)))),d.showClear&&b.push(a("<td>").append(a("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(a("<span>").addClass(d.icons.clear)))),d.showClose&&b.push(a("<td>").append(a("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(a("<span>").addClass(d.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},G=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(C()),e=a("<div>").addClass("timepicker").append(E()),f=a("<ul>").addClass("list-unstyled"),g=a("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(F());return d.inline&&b.removeClass("dropdown-menu"),h&&b.addClass("usetwentyfour"),z("s")&&!h&&b.addClass("wider"),d.sideBySide&&B()&&A()?(b.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&b.append(g),b.append(a("<div>").addClass("row").append(c.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===d.toolbarPlacement&&b.append(g),b):("top"===d.toolbarPlacement&&f.append(g),B()&&f.append(a("<li>").addClass(d.collapse&&A()?"collapse in":"").append(c)),"default"===d.toolbarPlacement&&f.append(g),A()&&f.append(a("<li>").addClass(d.collapse&&B()?"collapse":"").append(e)),"bottom"===d.toolbarPlacement&&f.append(g),b.append(f))},H=function(){var b,e={};return b=c.is("input")||d.inline?c.data():c.find("input").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},I=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is("input"))b=c.after(o).parent();else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if("auto"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?"top":"bottom"),"auto"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?"right":"left"),"top"===g?o.addClass("top").removeClass("bottom"):o.addClass("bottom").removeClass("top"),"right"===h?o.addClass("pull-right"):o.removeClass("pull-right"),"static"===b.css("position")&&(b=b.parents().filter(function(){return"static"!==a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");o.css({top:"top"===g?"auto":e.top+c.outerHeight(),bottom:"top"===g?b.outerHeight()-(b===c?0:e.top):"auto",left:"left"===h?b===c?0:e.left:"auto",right:"left"===h?"auto":b.outerWidth()-c.outerWidth()-(b===c?0:e.left)})},J=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},K=function(a){"y"===a&&(a="YYYY"),
J({type:"dp.update",change:a,viewDate:f.clone()})},L=function(a){o&&(a&&(k=Math.max(p,Math.min(3,k+a))),o.find(".datepicker > div").hide().filter(".datepicker-"+q[k].clsName).show())},M=function(){var b=a("<tr>"),c=f.clone().startOf("w").startOf("d");for(d.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(f.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");o.find(".datepicker-days thead").append(b)},N=function(a){return d.disabledDates[a.format("YYYY-MM-DD")]===!0},O=function(a){return d.enabledDates[a.format("YYYY-MM-DD")]===!0},P=function(a){return d.disabledHours[a.format("H")]===!0},Q=function(a){return d.enabledHours[a.format("H")]===!0},R=function(b,c){if(!b.isValid())return!1;if(d.disabledDates&&"d"===c&&N(b))return!1;if(d.enabledDates&&"d"===c&&!O(b))return!1;if(d.minDate&&b.isBefore(d.minDate,c))return!1;if(d.maxDate&&b.isAfter(d.maxDate,c))return!1;if(d.daysOfWeekDisabled&&"d"===c&&-1!==d.daysOfWeekDisabled.indexOf(b.day()))return!1;if(d.disabledHours&&("h"===c||"m"===c||"s"===c)&&P(b))return!1;if(d.enabledHours&&("h"===c||"m"===c||"s"===c)&&!Q(b))return!1;if(d.disabledTimeIntervals&&("h"===c||"m"===c||"s"===c)){var e=!1;if(a.each(d.disabledTimeIntervals,function(){return b.isBetween(this[0],this[1])?(e=!0,!1):void 0}),e)return!1}return!0},S=function(){for(var b=[],c=f.clone().startOf("y").startOf("d");c.isSame(f,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");o.find(".datepicker-months td").empty().append(b)},T=function(){var b=o.find(".datepicker-months"),c=b.find("th"),g=b.find("tbody").find("span");c.eq(0).find("span").attr("title",d.tooltips.prevYear),c.eq(1).attr("title",d.tooltips.selectYear),c.eq(2).find("span").attr("title",d.tooltips.nextYear),b.find(".disabled").removeClass("disabled"),R(f.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(f.year()),R(f.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),g.removeClass("active"),e.isSame(f,"y")&&!m&&g.eq(e.month()).addClass("active"),g.each(function(b){R(f.clone().month(b),"M")||a(this).addClass("disabled")})},U=function(){var a=o.find(".datepicker-years"),b=a.find("th"),c=f.clone().subtract(5,"y"),g=f.clone().add(6,"y"),h="";for(b.eq(0).find("span").attr("title",d.tooltips.prevDecade),b.eq(1).attr("title",d.tooltips.selectDecade),b.eq(2).find("span").attr("title",d.tooltips.nextDecade),a.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+g.year()),d.maxDate&&d.maxDate.isBefore(g,"y")&&b.eq(2).addClass("disabled");!c.isAfter(g,"y");)h+='<span data-action="selectYear" class="year'+(c.isSame(e,"y")&&!m?" active":"")+(R(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(h)},V=function(){var a,c=o.find(".datepicker-decades"),g=c.find("th"),h=b({y:f.year()-f.year()%100-1}),i=h.clone().add(100,"y"),j=h.clone(),k=!1,l=!1,m="";for(g.eq(0).find("span").attr("title",d.tooltips.prevCentury),g.eq(2).find("span").attr("title",d.tooltips.nextCentury),c.find(".disabled").removeClass("disabled"),(h.isSame(b({y:1900}))||d.minDate&&d.minDate.isAfter(h,"y"))&&g.eq(0).addClass("disabled"),g.eq(1).text(h.year()+"-"+i.year()),(h.isSame(b({y:2e3}))||d.maxDate&&d.maxDate.isBefore(i,"y"))&&g.eq(2).addClass("disabled");!h.isAfter(i,"y");)a=h.year()+12,k=d.minDate&&d.minDate.isAfter(h,"y")&&d.minDate.year()<=a,l=d.maxDate&&d.maxDate.isAfter(h,"y")&&d.maxDate.year()<=a,m+='<span data-action="selectDecade" class="decade'+(e.isAfter(h)&&e.year()<=a?" active":"")+(R(h,"y")||k||l?"":" disabled")+'" data-selection="'+(h.year()+6)+'">'+(h.year()+1)+" - "+(h.year()+12)+"</span>",h.add(12,"y");m+="<span></span><span></span><span></span>",c.find("td").html(m),g.eq(1).text(j.year()+1+"-"+h.year())},W=function(){var b,c,g,h=o.find(".datepicker-days"),i=h.find("th"),j=[],k=[];if(B()){for(i.eq(0).find("span").attr("title",d.tooltips.prevMonth),i.eq(1).attr("title",d.tooltips.selectMonth),i.eq(2).find("span").attr("title",d.tooltips.nextMonth),h.find(".disabled").removeClass("disabled"),i.eq(1).text(f.format(d.dayViewHeaderFormat)),R(f.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),R(f.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),b=f.clone().startOf("M").startOf("w").startOf("d"),g=0;42>g;g++)0===b.weekday()&&(c=a("<tr>"),d.calendarWeeks&&c.append('<td class="cw">'+b.week()+"</td>"),j.push(c)),k=["day"],b.isBefore(f,"M")&&k.push("old"),b.isAfter(f,"M")&&k.push("new"),b.isSame(e,"d")&&!m&&k.push("active"),R(b,"d")||k.push("disabled"),b.isSame(y(),"d")&&k.push("today"),0!==b.day()&&6!==b.day()||k.push("weekend"),J({type:"dp.classify",date:b,classNames:k}),c.append('<td data-action="selectDay" data-day="'+b.format("L")+'" class="'+k.join(" ")+'">'+b.date()+"</td>"),b.add(1,"d");h.find("tbody").empty().append(j),T(),U(),V()}},X=function(){var b=o.find(".timepicker-hours table"),c=f.clone().startOf("d"),d=[],e=a("<tr>");for(f.hour()>11&&!h&&c.hour(12);c.isSame(f,"d")&&(h||f.hour()<12&&c.hour()<12||f.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(R(c,"h")?"":" disabled")+'">'+c.format(h?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},Y=function(){for(var b=o.find(".timepicker-minutes table"),c=f.clone().startOf("h"),e=[],g=a("<tr>"),h=1===d.stepping?5:d.stepping;f.isSame(c,"h");)c.minute()%(4*h)===0&&(g=a("<tr>"),e.push(g)),g.append('<td data-action="selectMinute" class="minute'+(R(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(h,"m");b.empty().append(e)},Z=function(){for(var b=o.find(".timepicker-seconds table"),c=f.clone().startOf("m"),d=[],e=a("<tr>");f.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(R(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},$=function(){var a,b,c=o.find(".timepicker span[data-time-component]");h||(a=o.find(".timepicker [data-action=togglePeriod]"),b=e.clone().add(e.hours()>=12?-12:12,"h"),a.text(e.format("A")),R(b,"h")?a.removeClass("disabled"):a.addClass("disabled")),c.filter("[data-time-component=hours]").text(e.format(h?"HH":"hh")),c.filter("[data-time-component=minutes]").text(e.format("mm")),c.filter("[data-time-component=seconds]").text(e.format("ss")),X(),Y(),Z()},_=function(){o&&(W(),$())},aa=function(a){var b=m?null:e;if(!a)return m=!0,g.val(""),c.data("date",""),J({type:"dp.change",date:!1,oldDate:b}),void _();if(a=a.clone().locale(d.locale),x()&&a.tz(d.timeZone),1!==d.stepping)for(a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping).seconds(0);d.minDate&&a.isBefore(d.minDate);)a.add(d.stepping,"minutes");R(a)?(e=a,f=e.clone(),g.val(e.format(i)),c.data("date",e.format(i)),m=!1,_(),J({type:"dp.change",date:e.clone(),oldDate:b})):(d.keepInvalid?J({type:"dp.change",date:a,oldDate:b}):g.val(m?"":e.format(i)),J({type:"dp.error",date:a,oldDate:b}))},ba=function(){var b=!1;return o?(o.find(".collapse").each(function(){var c=a(this).data("collapse");return!c||!c.transitioning||(b=!0,!1)}),b?l:(n&&n.hasClass("btn")&&n.toggleClass("active"),o.hide(),a(window).off("resize",I),o.off("click","[data-action]"),o.off("mousedown",!1),o.remove(),o=!1,J({type:"dp.hide",date:e.clone()}),g.blur(),f=e.clone(),l)):l},ca=function(){aa(null)},da=function(a){return void 0===d.parseInputDate?(!b.isMoment(a)||a instanceof Date)&&(a=y(a)):a=d.parseInputDate(a),a},ea={next:function(){var a=q[k].navFnc;f.add(q[k].navStep,a),W(),K(a)},previous:function(){var a=q[k].navFnc;f.subtract(q[k].navStep,a),W(),K(a)},pickerSwitch:function(){L(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));f.month(c),k===p?(aa(e.clone().year(f.year()).month(f.month())),d.inline||ba()):(L(-1),W()),K("M")},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDecade:function(b){var c=parseInt(a(b.target).data("selection"),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDay:function(b){var c=f.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),aa(c.date(parseInt(a(b.target).text(),10))),A()||d.keepOpen||d.inline||ba()},incrementHours:function(){var a=e.clone().add(1,"h");R(a,"h")&&aa(a)},incrementMinutes:function(){var a=e.clone().add(d.stepping,"m");R(a,"m")&&aa(a)},incrementSeconds:function(){var a=e.clone().add(1,"s");R(a,"s")&&aa(a)},decrementHours:function(){var a=e.clone().subtract(1,"h");R(a,"h")&&aa(a)},decrementMinutes:function(){var a=e.clone().subtract(d.stepping,"m");R(a,"m")&&aa(a)},decrementSeconds:function(){var a=e.clone().subtract(1,"s");R(a,"s")&&aa(a)},togglePeriod:function(){aa(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(g.collapse("hide"),h.collapse("show")):(g.removeClass("in"),h.addClass("in")),e.is("span")?e.toggleClass(d.icons.time+" "+d.icons.date):e.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){o.find(".timepicker > div:not(.timepicker-picker)").hide(),o.find(".timepicker .timepicker-picker").show()},showHours:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);h||(e.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),aa(e.clone().hours(c)),ea.showPicker.call(l)},selectMinute:function(b){aa(e.clone().minutes(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},selectSecond:function(b){aa(e.clone().seconds(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},clear:ca,today:function(){var a=y();R(a,"d")&&aa(a)},close:ba},fa=function(b){return!a(b.currentTarget).is(".disabled")&&(ea[a(b.currentTarget).data("action")].apply(l,arguments),!1)},ga=function(){var b,c={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return g.prop("disabled")||!d.ignoreReadonly&&g.prop("readonly")||o?l:(void 0!==g.val()&&0!==g.val().trim().length?aa(da(g.val().trim())):m&&d.useCurrent&&(d.inline||g.is("input")&&0===g.val().trim().length)&&(b=y(),"string"==typeof d.useCurrent&&(b=c[d.useCurrent](b)),aa(b)),o=G(),M(),S(),o.find(".timepicker-hours").hide(),o.find(".timepicker-minutes").hide(),o.find(".timepicker-seconds").hide(),_(),L(),a(window).on("resize",I),o.on("click","[data-action]",fa),o.on("mousedown",!1),n&&n.hasClass("btn")&&n.toggleClass("active"),I(),o.show(),d.focusOnShow&&!g.is(":focus")&&g.focus(),J({type:"dp.show"}),l)},ha=function(){return o?ba():ga()},ia=function(a){var b,c,e,f,g=null,h=[],i={},j=a.which,k="p";w[j]=k;for(b in w)w.hasOwnProperty(b)&&w[b]===k&&(h.push(b),parseInt(b,10)!==j&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(e=b.split(" "),e.length===h.length&&v[j]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(l,o),a.stopPropagation(),a.preventDefault())},ja=function(a){w[a.which]="r",a.stopPropagation(),a.preventDefault()},ka=function(b){var c=a(b.target).val().trim(),d=c?da(c):null;return aa(d),b.stopImmediatePropagation(),!1},la=function(){g.on({change:ka,blur:d.debug?"":ba,keydown:ia,keyup:ja,focus:d.allowInputToggle?ga:""}),c.is("input")?g.on({focus:ga}):n&&(n.on("click",ha),n.on("mousedown",!1))},ma=function(){g.off({change:ka,blur:blur,keydown:ia,keyup:ja,focus:d.allowInputToggle?ba:""}),c.is("input")?g.off({focus:ga}):n&&(n.off("click",ha),n.off("mousedown",!1))},na=function(b){var c={};return a.each(b,function(){var a=da(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),!!Object.keys(c).length&&c},oa=function(b){var c={};return a.each(b,function(){c[this]=!0}),!!Object.keys(c).length&&c},pa=function(){var a=d.format||"L LT";i=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=e.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return e.localeData().longDateFormat(a)||a})}),j=d.extraFormats?d.extraFormats.slice():[],j.indexOf(a)<0&&j.indexOf(i)<0&&j.push(i),h=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,z("y")&&(p=2),z("M")&&(p=1),z("d")&&(p=0),k=Math.max(p,k),m||aa(e)};if(l.destroy=function(){ba(),ma(),c.removeData("DateTimePicker"),c.removeData("date")},l.toggle=ha,l.show=ga,l.hide=ba,l.disable=function(){return ba(),n&&n.hasClass("btn")&&n.addClass("disabled"),g.prop("disabled",!0),l},l.enable=function(){return n&&n.hasClass("btn")&&n.removeClass("disabled"),g.prop("disabled",!1),l},l.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=a,l},l.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===l[a])throw new TypeError("option "+a+" is not recognized!");l[a](b)}),l},l.date=function(a){if(0===arguments.length)return m?null:e.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return aa(null===a?null:da(a)),l},l.format=function(a){if(0===arguments.length)return d.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+a);return d.format=a,i&&pa(),l},l.timeZone=function(a){if(0===arguments.length)return d.timeZone;if("string"!=typeof a)throw new TypeError("newZone() expects a string parameter");return d.timeZone=a,l},l.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=a,l},l.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=a,j&&pa(),l},l.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=na(b),d.enabledDates=!1,_(),l},l.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=na(b),d.disabledDates=!1,_(),l},l.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof a&&!a)return d.daysOfWeekDisabled=!1,_(),l;if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||0>b||isNaN(b)?a:(-1===a.indexOf(b)&&a.push(b),a)},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var b=0;!R(e,"d");){if(e.add(1,"d"),31===b)throw"Tried 31 times to find a valid date";b++}aa(e)}return _(),l},l.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof a&&a===!1)return d.maxDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(d.minDate&&b.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+b.format(i));return d.maxDate=b,d.useCurrent&&!d.keepInvalid&&e.isAfter(a)&&aa(d.maxDate),f.isAfter(b)&&(f=b.clone().subtract(d.stepping,"m")),_(),l},l.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof a&&a===!1)return d.minDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(d.maxDate&&b.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+b.format(i));return d.minDate=b,d.useCurrent&&!d.keepInvalid&&e.isBefore(a)&&aa(d.minDate),f.isBefore(b)&&(f=b.clone().add(d.stepping,"m")),_(),l},l.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,l;"string"==typeof a&&(a="now"===a||"moment"===a?y():y(a));var b=da(a);if(!b.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!R(b))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=b,(d.defaultDate&&d.inline||""===g.val().trim())&&aa(d.defaultDate),l},l.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return d.locale=a,e.locale(d.locale),f.locale(d.locale),i&&pa(),o&&(ba(),ga()),l},l.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||1>a)&&(a=1),d.stepping=a,l)},l.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&-1===b.indexOf(a.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return d.useCurrent=a,l},l.collapse=function(a){if(0===arguments.length)return d.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===a?l:(d.collapse=a,o&&(ba(),ga()),l)},l.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(d.icons,b),o&&(ba(),ga()),l},l.tooltips=function(b){if(0===arguments.length)return a.extend({},d.tooltips);if(!(b instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return a.extend(d.tooltips,b),o&&(ba(),ga()),l},l.useStrict=function(a){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=a,l},l.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=a,o&&(ba(),ga()),l},l.viewMode=function(a){if(0===arguments.length)return d.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(-1===r.indexOf(a))throw new TypeError("viewMode() parameter must be one of ("+r.join(", ")+") value");return d.viewMode=a,k=Math.max(r.indexOf(a),p),L(),l},l.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===u.indexOf(a))throw new TypeError("toolbarPlacement() parameter must be one of ("+u.join(", ")+") value");return d.toolbarPlacement=a,o&&(ba(),ga()),l},l.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),-1===t.indexOf(b.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+t.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),-1===s.indexOf(b.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+s.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return _(),l},l.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=a,_(),l},l.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=a,o&&(ba(),ga()),l},l.showClear=function(a){if(0===arguments.length)return d.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=a,o&&(ba(),ga()),l},l.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=b,o&&(ba(),ga()),l},l.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=a,l},l.focusOnShow=function(a){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof a)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=a,l},l.inline=function(a){if(0===arguments.length)return d.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return d.inline=a,l},l.clear=function(){return ca(),l},l.keyBinds=function(a){return 0===arguments.length?d.keyBinds:(d.keyBinds=a,l)},l.getMoment=function(a){return y(a)},l.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return d.debug=a,l},l.allowInputToggle=function(a){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof a)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=a,l},l.showClose=function(a){if(0===arguments.length)return d.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=a,l},l.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=a,l},l.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=a,l},l.parseInputDate=function(a){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof a)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=a,l},l.disabledTimeIntervals=function(b){if(0===arguments.length)return d.disabledTimeIntervals?a.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!b)return d.disabledTimeIntervals=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return d.disabledTimeIntervals=b,_(),l},l.disabledHours=function(b){if(0===arguments.length)return d.disabledHours?a.extend({},d.disabledHours):d.disabledHours;if(!b)return d.disabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=oa(b),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.enabledHours=function(b){if(0===arguments.length)return d.enabledHours?a.extend({},d.enabledHours):d.enabledHours;if(!b)return d.enabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=oa(b),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.viewDate=function(a){if(0===arguments.length)return f.clone();if(!a)return f=e.clone(),l;if(!("string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return f=da(a),K(),l},c.is("input"))g=c;else if(g=c.find(d.datepickerInput),0===g.length)g=c.find("input");else if(!g.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(c.hasClass("input-group")&&(n=0===c.find(".datepickerbutton").length?c.find(".input-group-addon"):c.find(".datepickerbutton")),!d.inline&&!g.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=y(),f=e.clone(),a.extend(!0,d,H()),l.options(d),pa(),la(),g.prop("disabled")&&l.disable(),g.is("input")&&0!==g.val().trim().length?aa(da(g.val().trim())):d.defaultDate&&void 0===g.attr("placeholder")&&aa(d.defaultDate),d.inline&&ga(),l};return a.fn.datetimepicker=function(b){b=b||{};var d,e=Array.prototype.slice.call(arguments,1),f=!0,g=["destroy","hide","show","toggle"];if("object"==typeof b)return this.each(function(){var d,e=a(this);e.data("DateTimePicker")||(d=a.extend(!0,{},a.fn.datetimepicker.defaults,b),e.data("DateTimePicker",c(e,d)))});if("string"==typeof b)return this.each(function(){var c=a(this),g=c.data("DateTimePicker");if(!g)throw new Error('bootstrap-datetimepicker("'+b+'") method was called on an element that is not using DateTimePicker');d=g[b].apply(g,e),f=d===g}),f||a.inArray(b,g)>-1?this:d;throw new TypeError("Invalid arguments for DateTimePicker: "+b)},a.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(7,"d")):this.date(b.clone().add(this.stepping(),"m"))}},down:function(a){if(!a)return void this.show();var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(7,"d")):this.date(b.clone().subtract(this.stepping(),"m"))},"control up":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(1,"y")):this.date(b.clone().add(1,"h"))}},"control down":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(1,"y")):this.date(b.clone().subtract(1,"h"))}},left:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"d"))}},right:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"d"))}},pageUp:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(a){a&&a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},a.fn.datetimepicker}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Sweetalert2=b()}(this,function(){"use strict";var a={title:"",titleText:"",text:"",html:"",type:null,customClass:"",target:"body",animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:"#aaa",cancelButtonClass:null,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:500,padding:20,background:"#fff",input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:null,inputAttributes:{},inputValidator:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:"40px",onBeforeOpen:null,onOpen:null,onClose:null,useRejections:!0},b="swal2-",c=function(a){var c={};for(var d in a)c[a[d]]=b+a[d];return c},d=c(["container","shown","iosfix","modal","overlay","fade","show","hide","noanimation","close","title","content","buttonswrapper","confirm","cancel","icon","image","input","file","range","select","radio","checkbox","textarea","inputerror","validationerror","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-left","top-right","center","center-left","center-right","bottom","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen"]),e=c(["success","warning","info","question","error"]),f="SweetAlert2:",g=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;for(var c="#",d=0;3>d;d++){var e=parseInt(a.substr(2*d,2),16);e=Math.round(Math.min(Math.max(0,e+e*b),255)).toString(16),c+=("00"+e).substr(e.length)}return c},h=function(a){var b=[];for(var c in a)-1===b.indexOf(a[c])&&b.push(a[c]);return b},i=function(a){console.warn(f+" "+a)},j=function(a){console.error(f+" "+a)},k={previousWindowKeyDown:null,previousActiveElement:null,previousBodyPadding:null},l=function(a){var b=n();if(b&&b.parentNode.removeChild(b),"undefined"==typeof document)return void j("SweetAlert2 requires document to initialize");
var c=document.createElement("div");c.className=d.container,c.innerHTML=m;var e="string"==typeof a.target?document.querySelector(a.target):a.target;e.appendChild(c);var f=o(),g=F(f,d.input),h=F(f,d.file),i=f.querySelector("."+d.range+" input"),k=f.querySelector("."+d.range+" output"),l=F(f,d.select),p=f.querySelector("."+d.checkbox+" input"),q=F(f,d.textarea);return g.oninput=function(){Y.resetValidationError()},h.onchange=function(){Y.resetValidationError()},i.oninput=function(){Y.resetValidationError(),k.value=i.value},i.onchange=function(){Y.resetValidationError(),i.previousSibling.value=i.value},l.onchange=function(){Y.resetValidationError()},p.onchange=function(){Y.resetValidationError()},q.oninput=function(){Y.resetValidationError()},f},m=('\n <div role="dialog" aria-modal="true" aria-labelledby="'+d.title+'" aria-describedby="'+d.content+'" class="'+d.modal+'" tabindex="-1">\n   <ul class="'+d.progresssteps+'"></ul>\n   <div class="'+d.icon+" "+e.error+'">\n     <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n   </div>\n   <div class="'+d.icon+" "+e.question+'">?</div>\n   <div class="'+d.icon+" "+e.warning+'">!</div>\n   <div class="'+d.icon+" "+e.info+'">i</div>\n   <div class="'+d.icon+" "+e.success+'">\n     <div class="swal2-success-circular-line-left"></div>\n     <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n     <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n     <div class="swal2-success-circular-line-right"></div>\n   </div>\n   <img class="'+d.image+'" />\n   <h2 class="'+d.title+'" id="'+d.title+'"></h2>\n   <div id="'+d.content+'" class="'+d.content+'"></div>\n   <input class="'+d.input+'" />\n   <input type="file" class="'+d.file+'" />\n   <div class="'+d.range+'">\n     <output></output>\n     <input type="range" />\n   </div>\n   <select class="'+d.select+'"></select>\n   <div class="'+d.radio+'"></div>\n   <label for="'+d.checkbox+'" class="'+d.checkbox+'">\n     <input type="checkbox" />\n   </label>\n   <textarea class="'+d.textarea+'"></textarea>\n   <div class="'+d.validationerror+'" id="'+d.validationerror+'"></div>\n   <div class="'+d.buttonswrapper+'">\n     <button type="button" class="'+d.confirm+'">OK</button>\n     <button type="button" class="'+d.cancel+'">Cancel</button>\n   </div>\n   <button type="button" class="'+d.close+'">×</button>\n </div>\n').replace(/(^|\n)\s*/g,""),n=function(){return document.body.querySelector("."+d.container)},o=function(){return n()?n().querySelector("."+d.modal):null},p=function(){var a=o();return a.querySelectorAll("."+d.icon)},q=function(a){return n()?n().querySelector("."+a):null},r=function(){return q(d.title)},s=function(){return q(d.content)},t=function(){return q(d.image)},u=function(){return q(d.progresssteps)},v=function(){return q(d.validationerror)},w=function(){return q(d.confirm)},x=function(){return q(d.cancel)},y=function(){return q(d.buttonswrapper)},z=function(){return q(d.close)},A=function(){var a=Array.from(o().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(a,b){return a=parseInt(a.getAttribute("tabindex")),b=parseInt(b.getAttribute("tabindex")),a>b?1:b>a?-1:0}),b=Array.prototype.slice.call(o().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, [tabindex="0"]'));return h(a.concat(b))},B=function(a,b){return a.classList?a.classList.contains(b):!1},C=function(a){if(a.focus(),"file"!==a.type){var b=a.value;a.value="",a.value=b}},D=function(a,b){if(a&&b){var c=b.split(/\s+/).filter(Boolean);c.forEach(function(b){a.classList.add(b)})}},E=function(a,b){if(a&&b){var c=b.split(/\s+/).filter(Boolean);c.forEach(function(b){a.classList.remove(b)})}},F=function(a,b){for(var c=0;c<a.childNodes.length;c++)if(B(a.childNodes[c],b))return a.childNodes[c]},G=function(a,b){b||(b="block"),a.style.opacity="",a.style.display=b},H=function(a){a.style.opacity="",a.style.display="none"},I=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},J=function(a){return a.offsetWidth||a.offsetHeight||a.getClientRects().length},K=function(a,b){a.style.removeProperty?a.style.removeProperty(b):a.style.removeAttribute(b)},L=function(){var a=document.createElement("div"),b={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var c in b)if(b.hasOwnProperty(c)&&void 0!==a.style[c])return b[c];return!1}(),M=function(){if(window.onkeydown=k.previousWindowKeyDown,k.previousActiveElement&&k.previousActiveElement.focus){var a=window.scrollX,b=window.scrollY;k.previousActiveElement.focus(),a&&b&&window.scrollTo(a,b)}},N=function(){var a="ontouchstart"in window||navigator.msMaxTouchPoints;if(a)return 0;var b=document.createElement("div");b.style.width="50px",b.style.height="50px",b.style.overflow="scroll",document.body.appendChild(b);var c=b.offsetWidth-b.clientWidth;return document.body.removeChild(b),c},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},P=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Q=P({},a),R=[];"undefined"==typeof Promise&&j("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/limonte/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)");var S=function(a){("string"==typeof a.target&&!document.querySelector(a.target)||"string"!=typeof a.target&&!a.target.appendChild)&&(i('Target parameter is not valid, defaulting to "body"'),a.target="body");var b=void 0,c=o(),f="string"==typeof a.target?document.querySelector(a.target):a.target;b=c&&f&&c.parentNode!==f.parentNode?l(a):c||l(a);for(var g in a)Y.isValidParameter(g)||i('Unknown parameter "'+g+'"');b.style.width="number"==typeof a.width?a.width+"px":a.width,b.style.padding=a.padding+"px",b.style.background=a.background;for(var h=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),k=0;k<h.length;k++)h[k].style.background=a.background;var m=n(),q=r(),v=s(),A=y(),B=w(),C=x(),F=z();if(a.titleText?q.innerText=a.titleText:q.innerHTML=a.title.split("\n").join("<br />"),a.text||a.html){if("object"===O(a.html))if(v.innerHTML="",0 in a.html)for(var J=0;J in a.html;J++)v.appendChild(a.html[J].cloneNode(!0));else v.appendChild(a.html.cloneNode(!0));else a.html?v.innerHTML=a.html:a.text&&(v.textContent=a.text);G(v)}else H(v);if(a.position in d&&D(m,d[a.position]),a.grow&&"string"==typeof a.grow){var L="grow-"+a.grow;L in d&&D(m,d[L])}a.showCloseButton?(F.setAttribute("aria-label",a.closeButtonAriaLabel),G(F)):H(F),b.className=d.modal,a.customClass&&D(b,a.customClass);var M=u(),N=parseInt(null===a.currentProgressStep?Y.getQueueStep():a.currentProgressStep,10);a.progressSteps.length?(G(M),I(M),N>=a.progressSteps.length&&i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.progressSteps.forEach(function(b,c){var e=document.createElement("li");if(D(e,d.progresscircle),e.innerHTML=b,c===N&&D(e,d.activeprogressstep),M.appendChild(e),c!==a.progressSteps.length-1){var f=document.createElement("li");D(f,d.progressline),f.style.width=a.progressStepsDistance,M.appendChild(f)}})):H(M);for(var P=p(),Q=0;Q<P.length;Q++)H(P[Q]);if(a.type){var R=!1;for(var S in e)if(a.type===S){R=!0;break}if(!R)return j("Unknown alert type: "+a.type),!1;var T=b.querySelector("."+d.icon+"."+e[a.type]);if(G(T),a.animation)switch(a.type){case"success":D(T,"swal2-animate-success-icon"),D(T.querySelector(".swal2-success-line-tip"),"swal2-animate-success-line-tip"),D(T.querySelector(".swal2-success-line-long"),"swal2-animate-success-line-long");break;case"error":D(T,"swal2-animate-error-icon"),D(T.querySelector(".swal2-x-mark"),"swal2-animate-x-mark")}}var U=t();a.imageUrl?(U.setAttribute("src",a.imageUrl),U.setAttribute("alt",a.imageAlt),G(U),a.imageWidth?U.setAttribute("width",a.imageWidth):U.removeAttribute("width"),a.imageHeight?U.setAttribute("height",a.imageHeight):U.removeAttribute("height"),U.className=d.image,a.imageClass&&D(U,a.imageClass)):H(U),a.showCancelButton?C.style.display="inline-block":H(C),a.showConfirmButton?K(B,"display"):H(B),a.showConfirmButton||a.showCancelButton?G(A):H(A),B.innerHTML=a.confirmButtonText,C.innerHTML=a.cancelButtonText,B.setAttribute("aria-label",a.confirmButtonAriaLabel),C.setAttribute("aria-label",a.cancelButtonAriaLabel),a.buttonsStyling&&(B.style.backgroundColor=a.confirmButtonColor,C.style.backgroundColor=a.cancelButtonColor),B.className=d.confirm,D(B,a.confirmButtonClass),C.className=d.cancel,D(C,a.cancelButtonClass),a.buttonsStyling?(D(B,d.styled),D(C,d.styled)):(E(B,d.styled),E(C,d.styled),B.style.backgroundColor=B.style.borderLeftColor=B.style.borderRightColor="",C.style.backgroundColor=C.style.borderLeftColor=C.style.borderRightColor=""),a.animation===!0?E(b,d.noanimation):D(b,d.noanimation),a.showLoaderOnConfirm&&!a.preConfirm&&i("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://limonte.github.io/sweetalert2/#ajax-request")},T=function(a,b,c){var e=n(),f=o();null!==b&&"function"==typeof b&&b(f),a?(D(f,d.show),D(e,d.fade),E(f,d.hide)):E(f,d.fade),G(f),e.style.overflowY="hidden",L&&!B(f,d.noanimation)?f.addEventListener(L,function g(){f.removeEventListener(L,g),e.style.overflowY="auto"}):e.style.overflowY="auto",D(document.documentElement,d.shown),D(document.body,d.shown),D(e,d.shown),U(),W(),k.previousActiveElement=document.activeElement,null!==c&&"function"==typeof c&&setTimeout(function(){c(f)})},U=function(){null===k.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(k.previousBodyPadding=document.body.style.paddingRight,document.body.style.paddingRight=N()+"px")},V=function(){null!==k.previousBodyPadding&&(document.body.style.paddingRight=k.previousBodyPadding,k.previousBodyPadding=null)},W=function(){var a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(a&&!B(document.body,d.iosfix)){var b=document.body.scrollTop;document.body.style.top=-1*b+"px",D(document.body,d.iosfix)}},X=function(){if(B(document.body,d.iosfix)){var a=parseInt(document.body.style.top,10);E(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*a}},Y=function Z(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];if(void 0===b[0])return j("SweetAlert2 expects at least 1 attribute!"),!1;var e=P({},Q);switch(O(b[0])){case"string":e.title=b[0],e.html=b[1],e.type=b[2];break;case"object":P(e,b[0]),e.extraParams=b[0].extraParams,"email"===e.input&&null===e.inputValidator&&(e.inputValidator=function(a){return new Promise(function(b,c){var d=/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;d.test(a)?b():c("Invalid email address")})}),"url"===e.input&&null===e.inputValidator&&(e.inputValidator=function(a){return new Promise(function(b,c){var d=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/;d.test(a)?b():c("Invalid URL")})});break;default:return j('Unexpected type of argument! Expected "string" or "object", got '+O(b[0])),!1}S(e);var f=n(),h=o();return new Promise(function(a,b){e.timer&&(h.timeout=setTimeout(function(){Z.closeModal(e.onClose),e.useRejections?b("timer"):a({dismiss:"timer"})},e.timer));var c=function(a){if(a=a||e.input,!a)return null;switch(a){case"select":case"textarea":case"file":return F(h,d[a]);case"checkbox":return h.querySelector("."+d.checkbox+" input");case"radio":return h.querySelector("."+d.radio+" input:checked")||h.querySelector("."+d.radio+" input:first-child");case"range":return h.querySelector("."+d.range+" input");default:return F(h,d.input)}},i=function(){var a=c();if(!a)return null;switch(e.input){case"checkbox":return a.checked?1:0;case"radio":return a.checked?a.value:null;case"file":return a.files.length?a.files[0]:null;default:return e.inputAutoTrim?a.value.trim():a.value}};e.input&&setTimeout(function(){var a=c();a&&C(a)},0);for(var l=function(b){e.showLoaderOnConfirm&&Z.showLoading(),e.preConfirm?e.preConfirm(b,e.extraParams).then(function(c){Z.closeModal(e.onClose),a(c||b)},function(a){Z.hideLoading(),a&&Z.showValidationError(a)}):(Z.closeModal(e.onClose),a(e.useRejections?b:{value:b}))},m=function(c){var d=c||window.event,f=d.target||d.srcElement,h=w(),j=x(),k=h&&(h===f||h.contains(f)),m=j&&(j===f||j.contains(f));switch(d.type){case"mouseover":case"mouseup":e.buttonsStyling&&(k?h.style.backgroundColor=g(e.confirmButtonColor,-.1):m&&(j.style.backgroundColor=g(e.cancelButtonColor,-.1)));break;case"mouseout":e.buttonsStyling&&(k?h.style.backgroundColor=e.confirmButtonColor:m&&(j.style.backgroundColor=e.cancelButtonColor));break;case"mousedown":e.buttonsStyling&&(k?h.style.backgroundColor=g(e.confirmButtonColor,-.2):m&&(j.style.backgroundColor=g(e.cancelButtonColor,-.2)));break;case"click":if(k&&Z.isVisible())if(Z.disableButtons(),e.input){var n=i();e.inputValidator?(Z.disableInput(),e.inputValidator(n,e.extraParams).then(function(){Z.enableButtons(),Z.enableInput(),l(n)},function(a){Z.enableButtons(),Z.enableInput(),a&&Z.showValidationError(a)})):l(n)}else l(!0);else m&&Z.isVisible()&&(Z.disableButtons(),Z.closeModal(e.onClose),e.useRejections?b("cancel"):a({dismiss:"cancel"}))}},o=h.querySelectorAll("button"),p=0;p<o.length;p++)o[p].onclick=m,o[p].onmouseover=m,o[p].onmouseout=m,o[p].onmousedown=m;z().onclick=function(){Z.closeModal(e.onClose),e.useRejections?b("close"):a({dismiss:"close"})},f.onclick=function(c){c.target===f&&e.allowOutsideClick&&(Z.closeModal(e.onClose),e.useRejections?b("overlay"):a({dismiss:"overlay"}))};var q=y(),B=w(),I=x();e.reverseButtons?B.parentNode.insertBefore(I,B):B.parentNode.insertBefore(B,I);var K=function(a,b){for(var c=A(e.focusCancel),d=0;d<c.length;d++){a+=b,a===c.length?a=0:-1===a&&(a=c.length-1);var f=c[a];if(J(f))return f.focus()}},L=function(d){var f=d||window.event;if("Enter"===f.key){if(f.target===c()){if("textarea"===f.target.tagName.toLowerCase())return;Z.clickConfirm(),f.preventDefault()}}else if("Tab"===f.key){for(var g=f.target||f.srcElement,h=A(e.focusCancel),i=-1,j=0;j<h.length;j++)if(g===h[j]){i=j;break}f.shiftKey?K(i,-1):K(i,1),f.stopPropagation(),f.preventDefault()}else-1!==["ArrowLeft","ArrowRight","ArrowUp","Arrowdown"].indexOf(f.key)?document.activeElement===B&&J(I)?I.focus():document.activeElement===I&&J(B)&&B.focus():"Escape"!==f.key&&"Esc"!==f.key||e.allowEscapeKey!==!0||(Z.closeModal(e.onClose),e.useRejections?b("esc"):a({dismiss:"esc"}))};window.onkeydown&&window.onkeydown.toString()===L.toString()||(k.previousWindowKeyDown=window.onkeydown,window.onkeydown=L),e.buttonsStyling&&(B.style.borderLeftColor=e.confirmButtonColor,B.style.borderRightColor=e.confirmButtonColor),Z.hideLoading=Z.disableLoading=function(){e.showConfirmButton||(H(B),e.showCancelButton||H(y())),E(q,d.loading),E(h,d.loading),h.removeAttribute("aria-busy"),B.disabled=!1,I.disabled=!1},Z.getTitle=function(){return r()},Z.getContent=function(){return s()},Z.getInput=function(){return c()},Z.getImage=function(){return t()},Z.getButtonsWrapper=function(){return y()},Z.getConfirmButton=function(){return w()},Z.getCancelButton=function(){return x()},Z.enableButtons=function(){B.disabled=!1,I.disabled=!1},Z.disableButtons=function(){B.disabled=!0,I.disabled=!0},Z.enableConfirmButton=function(){B.disabled=!1},Z.disableConfirmButton=function(){B.disabled=!0},Z.enableInput=function(){var a=c();if(!a)return!1;if("radio"===a.type)for(var b=a.parentNode.parentNode,d=b.querySelectorAll("input"),e=0;e<d.length;e++)d[e].disabled=!1;else a.disabled=!1},Z.disableInput=function(){var a=c();if(!a)return!1;if(a&&"radio"===a.type)for(var b=a.parentNode.parentNode,d=b.querySelectorAll("input"),e=0;e<d.length;e++)d[e].disabled=!0;else a.disabled=!0},Z.showValidationError=function(a){var b=v();b.innerHTML=a,G(b);var e=c();e&&(e.setAttribute("aria-invalid",!0),e.setAttribute("aria-describedBy",d.validationerror),C(e),D(e,d.inputerror))},Z.resetValidationError=function(){var a=v();H(a);var b=c();b&&(b.removeAttribute("aria-invalid"),b.removeAttribute("aria-describedBy"),E(b,d.inputerror))},Z.getProgressSteps=function(){return e.progressSteps},Z.setProgressSteps=function(a){e.progressSteps=a,S(e)},Z.showProgressSteps=function(){G(u())},Z.hideProgressSteps=function(){H(u())},Z.enableButtons(),Z.hideLoading(),Z.resetValidationError();for(var M=["input","file","range","select","radio","checkbox","textarea"],N=void 0,P=0;P<M.length;P++){var Q=d[M[P]],R=F(h,Q);if(N=c(M[P])){for(var U in N.attributes)if(N.attributes.hasOwnProperty(U)){var V=N.attributes[U].name;"type"!==V&&"value"!==V&&N.removeAttribute(V)}for(var W in e.inputAttributes)N.setAttribute(W,e.inputAttributes[W])}R.className=Q,e.inputClass&&D(R,e.inputClass),H(R)}var X=void 0;switch(e.input){case"text":case"email":case"password":case"number":case"tel":case"url":N=F(h,d.input),N.value=e.inputValue,N.placeholder=e.inputPlaceholder,N.type=e.input,G(N);break;case"file":N=F(h,d.file),N.placeholder=e.inputPlaceholder,N.type=e.input,G(N);break;case"range":var Y=F(h,d.range),$=Y.querySelector("input"),_=Y.querySelector("output");$.value=e.inputValue,$.type=e.input,_.value=e.inputValue,G(Y);break;case"select":var aa=F(h,d.select);if(aa.innerHTML="",e.inputPlaceholder){var ba=document.createElement("option");ba.innerHTML=e.inputPlaceholder,ba.value="",ba.disabled=!0,ba.selected=!0,aa.appendChild(ba)}X=function(a){for(var b in a){var c=document.createElement("option");c.value=b,c.innerHTML=a[b],e.inputValue.toString()===b&&(c.selected=!0),aa.appendChild(c)}G(aa),aa.focus()};break;case"radio":var ca=F(h,d.radio);ca.innerHTML="",X=function(a){for(var b in a){var c=document.createElement("input"),f=document.createElement("label"),g=document.createElement("span");c.type="radio",c.name=d.radio,c.value=b,e.inputValue.toString()===b&&(c.checked=!0),g.innerHTML=a[b],f.appendChild(c),f.appendChild(g),f["for"]=c.id,ca.appendChild(f)}G(ca);var h=ca.querySelectorAll("input");h.length&&h[0].focus()};break;case"checkbox":var da=F(h,d.checkbox),ea=c("checkbox");ea.type="checkbox",ea.value=1,ea.id=d.checkbox,ea.checked=Boolean(e.inputValue);var fa=da.getElementsByTagName("span");fa.length&&da.removeChild(fa[0]),fa=document.createElement("span"),fa.innerHTML=e.inputPlaceholder,da.appendChild(fa),G(da);break;case"textarea":var ga=F(h,d.textarea);ga.value=e.inputValue,ga.placeholder=e.inputPlaceholder,G(ga);break;case null:break;default:j('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'+e.input+'"')}("select"===e.input||"radio"===e.input)&&(e.inputOptions instanceof Promise?(Z.showLoading(),e.inputOptions.then(function(a){Z.hideLoading(),X(a)})):"object"===O(e.inputOptions)?X(e.inputOptions):j("Unexpected type of inputOptions! Expected object or Promise, got "+O(e.inputOptions))),T(e.animation,e.onBeforeOpen,e.onOpen),e.allowEnterKey?e.focusCancel&&J(I)?I.focus():e.focusConfirm&&J(B)?B.focus():K(-1,1):document.activeElement&&document.activeElement.blur(),n().scrollTop=0})};return Y.isVisible=function(){return!!o()},Y.queue=function(a){R=a;var b=function(){R=[],document.body.removeAttribute("data-swal2-queue-step")},c=[];return new Promise(function(a,d){!function e(f,g){f<R.length?(document.body.setAttribute("data-swal2-queue-step",f),Y(R[f]).then(function(a){c.push(a),e(f+1,g)},function(a){b(),d(a)})):(b(),a(c))}(0)})},Y.getQueueStep=function(){return document.body.getAttribute("data-swal2-queue-step")},Y.insertQueueStep=function(a,b){return b&&b<R.length?R.splice(b,0,a):R.push(a)},Y.deleteQueueStep=function(a){"undefined"!=typeof R[a]&&R.splice(a,1)},Y.close=Y.closeModal=function(a){var b=n(),c=o();if(c){E(c,d.show),D(c,d.hide),clearTimeout(c.timeout),M();var e=function(){b.parentNode&&b.parentNode.removeChild(b),E(document.documentElement,d.shown),E(document.body,d.shown),V(),X()};L&&!B(c,d.noanimation)?c.addEventListener(L,function f(){c.removeEventListener(L,f),B(c,d.hide)&&e()}):e(),null!==a&&"function"==typeof a&&setTimeout(function(){a(c)})}},Y.clickConfirm=function(){return w().click()},Y.clickCancel=function(){return x().click()},Y.showLoading=Y.enableLoading=function(){var a=o();a||Y(""),a=o();var b=y(),c=w(),e=x();G(b),G(c,"inline-block"),D(b,d.loading),D(a,d.loading),c.disabled=!0,e.disabled=!0,a.setAttribute("aria-busy",!0),a.focus()},Y.isValidParameter=function(b){return a.hasOwnProperty(b)||"extraParams"===b},Y.setDefaults=function(a){if(!a||"object"!==("undefined"==typeof a?"undefined":O(a)))return j("the argument for setDefaults() is required and has to be a object");for(var b in a)Y.isValidParameter(b)||(i('Unknown parameter "'+b+'"'),delete a[b]);P(Q,a)},Y.resetDefaults=function(){Q=P({},a)},Y.noop=function(){},Y.version="6.11.5",Y["default"]=Y,Y}),window.Sweetalert2&&(window.sweetAlert=window.swal=window.Sweetalert2),function(){function a(a,b,c){function d(d,k){var l=k.dirPaginate,m=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),n=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===m[2].match(n))throw"pagination directive: the 'itemsPerPage' filter must be set.";var o=m[2].replace(n,""),p=b(o);g(d);var q=k.paginationId||j;return c.registerInstance(q),function(d,g,k){var m=b(k.paginationId)(d)||k.paginationId||j;c.registerInstance(m);var n=e(l,m);f(g,k,n),h(g);var o=a(g),q=i(d,k,m);c.setCurrentPageParser(m,q,d),"undefined"!=typeof k.totalItems?(c.setAsyncModeTrue(m),d.$watch(function(){return b(k.totalItems)(d)},function(a){a>=0&&c.setCollectionLength(m,a)})):(c.setAsyncModeFalse(m),d.$watchCollection(function(){return p(d)},function(a){if(a){var b=a instanceof Array?a.length:Object.keys(a).length;c.setCollectionLength(m,b)}})),o(d)}}function e(a,b){var c,d=!!a.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return c=b===j||d?a:a.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+b+"'")}function f(a,b,c){a[0].hasAttribute("dir-paginate-start")||a[0].hasAttribute("data-dir-paginate-start")?(b.$set("ngRepeatStart",c),a.eq(a.length-1).attr("ng-repeat-end",!0)):b.$set("ngRepeat",c)}function g(a){angular.forEach(a,function(a){1===a.nodeType&&angular.element(a).attr("dir-paginate-no-compile",!0)})}function h(a){angular.forEach(a,function(a){1===a.nodeType&&angular.element(a).removeAttr("dir-paginate-no-compile")}),a.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),a.eq(a.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function i(a,c,d){var e;if(c.currentPage)e=b(c.currentPage);else{var f=(d+"__currentPage").replace(/\W/g,"_");a[f]=1,e=b(f)}return e}return{terminal:!0,multiElement:!0,priority:100,compile:d}}function b(){return{priority:5e3,terminal:!0}}function c(a){a.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function d(a,b){function c(b,c,e){function g(c){if(a.isRegistered(m)&&k(c)){var e=b.pagination.current;b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,i(),b.onPageChange&&b.onPageChange({newPageNumber:c,oldPageNumber:e})}}function h(){if(a.isRegistered(m)){var c=parseInt(a.getCurrentPage(m))||1;b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,b.pagination.last=b.pages[b.pages.length-1],b.pagination.last<b.pagination.current?b.setCurrent(b.pagination.last):i()}}function i(){if(a.isRegistered(m)){var c=a.getCurrentPage(m),d=a.getItemsPerPage(m),e=a.getCollectionLength(m);b.range.lower=(c-1)*d+1,b.range.upper=Math.min(c*d,e),b.range.total=e}}function k(a){return f.test(a)&&a>0&&a<=b.pagination.last}var l=e.paginationId||j,m=b.paginationId||e.paginationId||j;if(!a.isRegistered(m)&&!a.isRegistered(l)){var n=m!==j?" (id: "+m+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+n+"cannot be used without the corresponding pagination directive, which was not found at link time.")}b.maxSize||(b.maxSize=9),b.autoHide=void 0===b.autoHide?!0:b.autoHide,b.directionLinks=angular.isDefined(e.directionLinks)?b.$parent.$eval(e.directionLinks):!0,b.boundaryLinks=angular.isDefined(e.boundaryLinks)?b.$parent.$eval(e.boundaryLinks):!1;var o=Math.max(b.maxSize,5);b.pages=[],b.pagination={last:1,current:1},b.range={lower:1,upper:1,total:1},b.$watch("maxSize",function(a){a&&(o=Math.max(b.maxSize,5),h())}),b.$watch(function(){return a.isRegistered(m)?(a.getCollectionLength(m)+1)*a.getItemsPerPage(m):void 0},function(a){a>0&&h()}),b.$watch(function(){return a.isRegistered(m)?a.getItemsPerPage(m):void 0},function(a,c){a!=c&&"undefined"!=typeof c&&g(b.pagination.current)}),b.$watch(function(){return a.isRegistered(m)?a.getCurrentPage(m):void 0},function(a,b){a!=b&&g(a)}),b.setCurrent=function(b){a.isRegistered(m)&&k(b)&&(b=parseInt(b,10),a.setCurrentPage(m,b))},b.tracker=function(a,b){return a+"_"+b}}function d(a,b,c,d){var f,g=[],h=Math.ceil(b/c),i=Math.ceil(d/2);f=i>=a?"start":a>h-i?"end":"middle";for(var j=h>d,k=1;h>=k&&d>=k;){var l=e(k,a,d,h),m=2===k&&("middle"===f||"end"===f),n=k===d-1&&("middle"===f||"start"===f);j&&(m||n)?g.push("..."):g.push(l),k++}return g}function e(a,b,c,d){var e=Math.ceil(c/2);return a===c?d:1===a?a:d>c?b>d-e?d-c+a:b>e?b-e+a:a:a}var f=/^\d+$/,g={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:c},h=b.getString();return void 0!==h?g.template=h:g.templateUrl=function(a,c){return c.templateUrl||b.getPath()},g}function e(a){return function(b,c,d){if("undefined"==typeof d&&(d=j),!a.isRegistered(d))throw"pagination directive: the itemsPerPage id argument (id: "+d+") does not match a registered pagination-id.";var e,g;if(angular.isObject(b)){if(c=parseInt(c)||9999999999,g=a.isAsyncMode(d)?0:(a.getCurrentPage(d)-1)*c,e=g+c,a.setItemsPerPage(d,c),b instanceof Array)return b.slice(g,e);var h={};return angular.forEach(f(b).slice(g,e),function(a){h[a]=b[a]}),h}return b}}function f(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function g(){var a,b={};this.registerInstance=function(c){"undefined"==typeof b[c]&&(b[c]={asyncMode:!1},a=c)},this.deregisterInstance=function(a){delete b[a]},this.isRegistered=function(a){return"undefined"!=typeof b[a]},this.getLastInstanceId=function(){return a},this.setCurrentPageParser=function(a,c,d){b[a].currentPageParser=c,b[a].context=d},this.setCurrentPage=function(a,c){b[a].currentPageParser.assign(b[a].context,c)},this.getCurrentPage=function(a){var c=b[a].currentPageParser;return c?c(b[a].context):1},this.setItemsPerPage=function(a,c){b[a].itemsPerPage=c},this.getItemsPerPage=function(a){return b[a].itemsPerPage},this.setCollectionLength=function(a,c){b[a].collectionLength=c},this.getCollectionLength=function(a){return b[a].collectionLength},this.setAsyncModeTrue=function(a){b[a].asyncMode=!0},this.setAsyncModeFalse=function(a){b[a].asyncMode=!1},this.isAsyncMode=function(a){return b[a].asyncMode}}function h(){var a,b="angularUtils.directives.dirPagination.template";this.setPath=function(a){b=a},this.setString=function(b){a=b},this.$get=function(){return{getPath:function(){return b},getString:function(){return a}}}}var i="angularUtils.directives.dirPagination",j="__default";angular.module(i,[]).directive("dirPaginate",["$compile","$parse","paginationService",a]).directive("dirPaginateNoCompile",b).directive("dirPaginationControls",["paginationService","paginationTemplate",d]).filter("itemsPerPage",["paginationService",e]).service("paginationService",g).provider("paginationTemplate",h).run(["$templateCache",c])}(),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d?void 0!==d.get(b.url):!1;return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){if(k||(k=a.get("$animate")),c.cancel(m),!r){var e=b[0],g=e.querySelector?e.querySelector(n):b.find(n)[0];g||(g=e.getElementsByTagName("body")[0]);var h=angular.element(g),i=g.lastChild&&angular.element(g.lastChild);d.$broadcast("cfpLoadingBar:started"),r=!0,v&&k.enter(o,h,i),u&&k.enter(q,h,o),f(w)}}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,t&&(c.cancel(l),l=c(function(){g()},250))}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0;var c=h()+a;f(c)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.autoIncrement,u=this.includeSpinner,v=this.includeBar,w=this.startSize;
return{start:e,set:f,status:h,inc:g,complete:j,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c,d=null,e=!1,f=!1;c={sanitize:function(a,b){return"text"===b&&(a=h(a)),a},escape:function(a,b){return"text"===b&&(a=g(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=j(a,h)),a},escapeParameters:function(a,b){return"params"===b&&(a=j(a,g)),a},sce:function(a,b,c){return"text"===b?a=i(a):"params"===b&&"filter"!==c&&(a=j(a,g)),a},sceParameters:function(a,b){return"params"===b&&(a=j(a,i)),a}},c.escaped=c.escapeParameters,this.addStrategy=function(a,b){return c[a]=b,this},this.removeStrategy=function(a){return delete c[a],this},this.useStrategy=function(a){return e=!0,d=a,this},this.$get=["$injector","$log",function(g,h){var i={},j=function(a,b,d,e){return angular.forEach(e,function(e){if(angular.isFunction(e))a=e(a,b,d);else if(angular.isFunction(c[e]))a=c[e](a,b,d);else{if(!angular.isString(c[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!i[c[e]])try{i[c[e]]=g.get(c[e])}catch(f){throw i[c[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}a=i[c[e]](a,b,d)}}),a},k=function(){e||f||(h.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0)};return g.has("$sanitize")&&(a=g.get("$sanitize")),g.has("$sce")&&(b=g.get("$sce")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,c,e){if(d||k(),c||null===c||(c=d),!c)return a;e||(e="service");var f=angular.isArray(c)?c:[c];return j(a,b,e,f)}}}];var g=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},h=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},i=function(a){if(!b)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return b.trustAsHtml(a)},j=function(a,b,c){if(angular.isDate(a))return a;if(angular.isObject(a)){var d=angular.isArray(a)?[]:{};if(c){if(c.indexOf(a)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else c=[];return c.push(a),angular.forEach(a,function(a,e){angular.isFunction(a)||(d[e]=j(a,b,c))}),c.splice(-1,1),d}return angular.isNumber(a)?a:a===!0||a===!1?a:angular.isUndefined(a)||null===a?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={},v=[],w=a,x=[],y="translate-cloak",z=!1,A=!1,B=".",C=!1,D=!1,E=0,F=!0,G="default",H={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");switch(c.length){case 1:c[0]=c[0].toLowerCase();break;case 2:c[0]=c[0].toLowerCase(),4===c[1].length?c[1]=c[1].charAt(0).toUpperCase()+c[1].slice(1).toLowerCase():c[1]=c[1].toUpperCase();break;case 3:c[0]=c[0].toLowerCase(),c[1]=c[1].charAt(0).toUpperCase()+c[1].slice(1).toLowerCase(),c[2]=c[2].toUpperCase();break;default:return b}return c.join("-")},"iso639-1":function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c[0].toLowerCase()}},I="2.18.1",J=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};J.displayName="angular-translate/service: getFirstBrowserLanguage";var K=function(){var a=J()||"";return H[G]&&(a=H[G](a)),a};K.displayName="angular-translate/service: getLocale";var L=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},M=function(){return this.toString().replace(/^\s+|\s+$/g,"")},N=function(a){return angular.isString(a)?a.toLowerCase():a},O=function(a){if(a){for(var b=[],c=N(a),d=0,e=v.length;e>d;d++)b.push(N(v[d]));if(d=L(b,c),d>-1)return v[d];if(f){var g;for(var h in f)if(f.hasOwnProperty(h)){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&N(h)===N(a);if("*"===h.slice(-1)&&(i=N(h.slice(0,-1))===N(a.slice(0,h.length-1))),(j||i)&&(g=f[h],L(b,N(g))>-1))return g}}var k=a.split("_");return k.length>1&&L(b,N(k[0]))>-1?k[0]:void 0}},P=function(a,b){if(!a&&!b)return u;if(a&&!b){if(angular.isString(a))return u[a]}else angular.isObject(u[a])||(u[a]={}),angular.extend(u[a],Q(b));return this};this.translations=P,this.cloakClassName=function(a){return a?(y=a,this):y},this.nestedObjectDelimeter=function(a){return a?(B=a,this):B};var Q=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?Q(h,b.concat(e),c,e):(f=b.length?""+b.join(B)+B+e:e,b.length&&e===d&&(g=""+b.join(B),c[g]="@:"+f),c[f]=h));return c};Q.displayName="flatObject",this.addInterpolation=function(a){return x.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return a?(R(a),this):e};var R=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return S(a),this};var S=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&L(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!u[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i},this.resolveClientLocale=function(){return K()};var T=function(a){return a?(w=a,this):l?l+w:w};this.storageKey=T,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return z=!!a,this},this.forceAsyncReload=function(a){return A=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},G=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():K();return e=v.length?O(b)||b:b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(v=a,b&&(f=b),this):v},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?E:(E=a,this)},this.statefulFilter=function(a){return void 0===a?F:(F=a,this)},this.postProcess=function(a){return t=a?a:void 0,this},this.keepContent=function(a){return D=!!a,this},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,G,H=b.get(n||"$translateDefaultInterpolation"),J=!1,N={},U={},V=function(a,b,c,h,j,m){!i&&e&&(i=e);var n=j&&j!==i?O(j)||j:i;if(j&&ka(j),angular.isArray(a)){var o=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return V(a,b,c,h,j,m).then(g,g),f.promise},i=0,k=a.length;k>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return o(a)}var p=d.defer();a&&(a=M.apply(a));var q=function(){var a=U[n]||U[e];if(l=0,k&&!a){var b=f.get(w);if(a=U[b],g&&g.length){var c=L(g,b);l=0===c?1:0,L(g,e)<0&&g.push(e)}}return a}();if(q){var r=function(){j||(n=i),ga(a,b,c,h,n,m).then(p.resolve,p.reject)};r.displayName="promiseResolved",q["finally"](r)["catch"](angular.noop)}else ga(a,b,c,h,n,m).then(p.resolve,p.reject);return p.promise},W=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},X=function(a){i=a,k&&f.put(V.storageKey(),i),c.$emit("$translateChangeSuccess",{language:a}),H.setLocale(i);var b=function(a,b){N[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(N,b),c.$emit("$translateChangeEnd",{language:a})},Y=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),J=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,Q(a))}):angular.extend(d,Q(b)),J=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(x.length){var Z=function(a){var c=b.get(a);c.setLocale(e||i),N[c.getInterpolationIdentifier()]=c};Z.displayName="interpolationFactoryAdder",angular.forEach(x,Z)}var $=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(u,a))b.resolve(u[a]);else if(U[a]){var c=function(a){P(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",U[a].then(c,b.reject)}else b.reject();return b.promise},_=function(a,b,c,e,f){var g=d.defer(),h=function(d){if(Object.prototype.hasOwnProperty.call(d,b)&&null!==d[b]){e.setLocale(a);var h=d[b];if("@:"===h.substr(0,2))_(a,h.substr(2),c,e,f).then(g.resolve,g.reject);else{var j=e.interpolate(d[b],c,"service",f,b);j=ja(b,d[b],j,c,a),g.resolve(j)}e.setLocale(i)}else g.reject()};return h.displayName="fallbackTranslationResolver",$(a).then(h,g.reject),g.promise},aa=function(a,b,c,d,e){var f,g=u[a];if(g&&Object.prototype.hasOwnProperty.call(g,b)&&null!==g[b]){if(d.setLocale(a),f=d.interpolate(g[b],c,"filter",e,b),f=ja(b,g[b],f,c,a,e),!angular.isString(f)&&angular.isFunction(f.$$unwrapTrustedValue)){var h=f.$$unwrapTrustedValue();if("@:"===h.substr(0,2))return aa(a,h.substr(2),c,d,e)}else if("@:"===f.substr(0,2))return aa(a,f.substr(2),c,d,e);d.setLocale(i)}return f},ba=function(a,c,d,e){return m?b.get(m)(a,i,c,d,e):a},ca=function(a,b,c,e,f,h){var i=d.defer();if(a<g.length){var j=g[a];_(j,b,c,e,h).then(function(a){i.resolve(a)},function(){return ca(a+1,b,c,e,f,h).then(i.resolve,i.reject)})}else if(f)i.resolve(f);else{var k=ba(b,c,f);m&&k?i.resolve(k):i.reject(W(b))}return i.promise},da=function(a,b,c,d,e){var f;if(a<g.length){var h=g[a];f=aa(h,b,c,d,e),f||""===f||(f=da(a+1,b,c,d))}return f},ea=function(a,b,c,d,e){return ca(G>0?G:l,a,b,c,d,e)},fa=function(a,b,c,d){return da(G>0?G:l,a,b,c,d)},ga=function(a,b,c,e,f,h){var i=d.defer(),j=f?u[f]:u,k=c?N[c]:H;if(j&&Object.prototype.hasOwnProperty.call(j,a)&&null!==j[a]){var l=j[a];if("@:"===l.substr(0,2))V(l.substr(2),b,c,e,f,h).then(i.resolve,i.reject);else{var n=k.interpolate(l,b,"service",h,a);n=ja(a,l,n,b,f),i.resolve(n)}}else{var o;m&&!J&&(o=ba(a,b,e)),f&&g&&g.length?ea(a,b,k,e,h).then(function(a){i.resolve(a)},function(a){i.reject(W(a))}):m&&!J&&o?e?i.resolve(e):i.resolve(o):e?i.resolve(e):i.reject(W(a))}return i.promise},ha=function(a,b,c,d,e){var f,h=d?u[d]:u,i=H;if(N&&Object.prototype.hasOwnProperty.call(N,c)&&(i=N[c]),h&&Object.prototype.hasOwnProperty.call(h,a)&&null!==h[a]){var j=h[a];"@:"===j.substr(0,2)?f=ha(j.substr(2),b,c,d,e):(f=i.interpolate(j,b,"filter",e,a),f=ja(a,j,f,b,d,e))}else{var k;m&&!J&&(k=ba(a,b,e)),d&&g&&g.length?(l=0,f=fa(a,b,i,e)):f=m&&!J&&k?k:W(a)}return f},ia=function(a){j===a&&(j=void 0),U[a]=void 0},ja=function(a,c,d,e,f,g){var h=t;return h&&("string"==typeof h&&(h=b.get(h)),h)?h(a,c,d,e,f,g):d},ka=function(a){u[a]||!o||U[a]||(U[a]=Y(a).then(function(a){return P(a.key,a.table),a}))};V.preferredLanguage=function(a){return a&&R(a),e},V.cloakClassName=function(){return y},V.nestedObjectDelimeter=function(){return B},V.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(S(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)U[g[b]]||(U[g[b]]=Y(g[b]));V.use(V.use())}return h?g[0]:g},V.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=L(g,a);b>-1&&(G=b)}else G=0},V.proposedLanguage=function(){return j},V.storage=function(){return f},V.negotiateLocale=O,V.use=function(a){if(!a)return i;var b=d.defer();b.promise.then(null,angular.noop),c.$emit("$translateChangeStart",{language:a});var e=O(a);return v.length>0&&!e?d.reject(a):(e&&(a=e),j=a,!A&&u[a]||!o||U[a]?U[a]?U[a].then(function(a){return j===a.key&&X(a.key),b.resolve(a.key),a},function(a){return!i&&g&&g.length>0&&g[0]!==a?V.use(g[0]).then(b.resolve,b.reject):b.reject(a)}):(b.resolve(a),X(a)):(U[a]=Y(a).then(function(c){return P(c.key,c.table),b.resolve(c.key),j===a&&X(c.key),c},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),U[a]["finally"](function(){ia(a)})["catch"](angular.noop)),b.promise)},V.resolveClientLocale=function(){return K()},V.storageKey=function(){return T()},V.isPostCompilingEnabled=function(){return z},V.isForceAsyncReloadEnabled=function(){return A},V.isKeepContent=function(){return D},V.refresh=function(a){function b(a){var b=Y(a);return U[a]=b,b.then(function(b){u[a]={},P(a,b.table),f[a]=!0},angular.noop),b}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");c.$emit("$translateRefreshStart",{language:a});var e=d.defer(),f={};if(e.promise.then(function(){for(var a in u)u.hasOwnProperty(a)&&(a in f||delete u[a]);i&&X(i)},angular.noop)["finally"](function(){c.$emit("$translateRefreshEnd",{language:a})}),a)u[a]?b(a).then(e.resolve,e.reject):e.reject();else{var h=g&&g.slice()||[];i&&-1===h.indexOf(i)&&h.push(i),d.all(h.map(b)).then(e.resolve,e.reject)}return e.promise},V.instant=function(a,b,c,d,f){var h=d&&d!==i?O(d)||d:i;if(null===a||angular.isUndefined(a))return a;if(d&&ka(d),angular.isArray(a)){for(var j={},k=0,l=a.length;l>k;k++)j[a[k]]=V.instant(a[k],b,c,d,f);return j}if(angular.isString(a)&&a.length<1)return a;a&&(a=M.apply(a));var n,o=[];e&&o.push(e),h&&o.push(h),g&&g.length&&(o=o.concat(g));for(var p=0,s=o.length;s>p;p++){var t=o[p];if(u[t]&&"undefined"!=typeof u[t][a]&&(n=ha(a,b,c,h,f)),"undefined"!=typeof n)break}if(!n&&""!==n)if(q||r)n=W(a);else{n=H.interpolate(a,b,"filter",f);var v;m&&!J&&(v=ba(a,b,f)),m&&!J&&v&&(n=v)}return n},V.versionInfo=function(){return I},V.loaderCache=function(){return s},V.directivePriority=function(){return E},V.statefulFilter=function(){return F},V.isReady=function(){return C};var la=d.defer();la.promise.then(function(){C=!0}),V.onReady=function(a){var b=d.defer();return angular.isFunction(a)&&b.promise.then(a),C?b.resolve():la.promise.then(b.resolve),b.promise},V.getAvailableLanguageKeys=function(){return v.length>0?v:null},V.getTranslationTable=function(a){return a=a||V.use(),a&&u[a]?angular.copy(u[a]):null};var ma=c.$on("$translateReady",function(){la.resolve(),ma(),ma=null}),na=c.$on("$translateChangeEnd",function(){la.resolve(),na(),na=null});if(o){if(angular.equals(u,{})&&V.use()&&V.use(V.use()),g&&g.length)for(var oa=function(a){return P(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},pa=0,qa=g.length;qa>pa;pa++){var ra=g[pa];(A||!u[ra])&&(U[ra]=Y(ra).then(oa))}}else c.$emit("$translateReady",{language:V.use()});return V}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d,e,f,g){d=d||{},d=b.sanitize(d,"params",f,e);var h;return angular.isNumber(c)?h=""+c:angular.isString(c)?(h=a(c)(d),h=b.sanitize(h,"text",f,e)):h="",h},d}function e(a,b,c,d,e){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")},h=function(a){return angular.isString(a)?a.toLowerCase():a};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(i,j){var k=j.translateValues?j.translateValues:void 0,l=j.translateInterpolation?j.translateInterpolation:void 0,m=j.translateSanitizeStrategy?j.translateSanitizeStrategy:void 0,n=i[0].outerHTML.match(/translate-value-+/i),o="^(.*)("+b.startSymbol()+".*"+b.endSymbol()+")(.*)",p="^(.*)"+b.startSymbol()+"(.*)"+b.endSymbol()+"(.*)";return function(i,q,r){i.interpolateParams={},i.preText="",i.postText="",i.translateNamespace=f(i);var s={},t=function(a,b,c){if(b.translateValues&&angular.extend(a,d(b.translateValues)(i.$parent)),n)for(var e in c)if(Object.prototype.hasOwnProperty.call(b,e)&&"translateValue"===e.substr(0,14)&&"translateValues"!==e){var f=h(e.substr(14,1))+e.substr(15);a[f]=c[e]}},u=function(a){if(angular.isFunction(u._unwatchOld)&&(u._unwatchOld(),u._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var c=g.apply(q.text()),d=c.match(o);if(angular.isArray(d)){i.preText=d[1],i.postText=d[3],s.translate=b(d[2])(i.$parent);var e=c.match(p);angular.isArray(e)&&e[2]&&e[2].length&&(u._unwatchOld=i.$watch(e[2],function(a){s.translate=a,A()}))}else s.translate=c?c:void 0}else s.translate=a;A()},v=function(a){r.$observe(a,function(b){s[a]=b,A()})};t(i.interpolateParams,r,j);var w=!0;r.$observe("translate",function(a){"undefined"==typeof a?u(""):""===a&&w||(s.translate=a,A()),w=!1});for(var x in r)r.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&x.length>13&&v(x);if(r.$observe("translateDefault",function(a){i.defaultText=a,A()}),m&&r.$observe("translateSanitizeStrategy",function(a){i.sanitizeStrategy=d(a)(i.$parent),A()}),k&&r.$observe("translateValues",function(a){a&&i.$parent.$watch(function(){angular.extend(i.interpolateParams,d(a)(i.$parent))})}),n){var y=function(a){r.$observe(a,function(b){var c=h(a.substr(14,1))+a.substr(15);i.interpolateParams[c]=b})};for(var z in r)Object.prototype.hasOwnProperty.call(r,z)&&"translateValue"===z.substr(0,14)&&"translateValues"!==z&&y(z)}var A=function(){for(var a in s)s.hasOwnProperty(a)&&void 0!==s[a]&&B(a,s[a],i,i.interpolateParams,i.defaultText,i.translateNamespace)},B=function(b,c,d,e,f,g){c?(g&&"."===c.charAt(0)&&(c=g+c),a(c,e,l,f,d.translateLanguage,d.sanitizeStrategy).then(function(a){C(a,d,!0,b)},function(a){C(a,d,!1,b)})):C(c,d,!1,b)},C=function(b,d,e,f){if(e||"undefined"!=typeof d.defaultText&&(b=d.defaultText),"translate"===f){(e||!e&&!a.isKeepContent()&&"undefined"==typeof r.translateKeepContent)&&q.empty().append(d.preText+b+d.postText);var g=a.isPostCompilingEnabled(),h="undefined"!=typeof j.translateCompile,i=h&&"false"!==j.translateCompile;(g&&!h||i)&&c(q.contents())(d)}else{var k=r.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),q.attr(k,b)}};(k||n||r.translateDefault)&&i.$watch("interpolateParams",A,!0),i.$on("translateLanguageChanged",A);var D=e.$on("$translateChangeSuccess",A);q.text().length?u(r.translate?r.translate:""):r.translate&&u(r.translate),A(),i.$on("$destroy",D)}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function g(a,b){"use strict";return{restrict:"A",priority:a.directivePriority(),link:function(c,d,e){var f,g,i,j={},k=function(){angular.forEach(f,function(b,f){b&&(j[f]=!0,c.translateNamespace&&"."===b.charAt(0)&&(b=c.translateNamespace+b),a(b,g,e.translateInterpolation,void 0,c.translateLanguage,i).then(function(a){d.attr(f,a)},function(a){d.attr(f,a)}))}),angular.forEach(j,function(a,b){f[b]||(d.removeAttr(b),delete j[b])})};h(c,e.translateAttr,function(a){f=a},k),h(c,e.translateValues,function(a){g=a},k),h(c,e.translateSanitizeStrategy,function(a){i=a},k),e.translateValues&&c.$watch(e.translateValues,k,!0),c.$on("translateLanguageChanged",k);var l=b.$on("$translateChangeSuccess",k);k(),c.$on("$destroy",l)}}}function h(a,b,c,d){"use strict";b&&("::"===b.substr(0,2)?b=b.substr(2):a.$watch(b,function(a){c(a),d()},!0),c(a.$eval(b)))}function i(a,b){"use strict";return{compile:function(c){var d=function(b){b.addClass(a.cloakClassName())},e=function(b){b.removeClass(a.cloakClassName())};return d(c),function(c,f,g){var h=e.bind(this,f),i=d.bind(this,f);g.translateCloak&&g.translateCloak.length?(g.$observe("translateCloak",function(b){a(b).then(h,i)}),b.$on("$translateChangeSuccess",function(){a(g.translateCloak).then(h,i)})):a.onReady(h)}}}}function j(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(a,b,c){a.translateNamespace=k(a),a.translateNamespace&&"."===c.translateNamespace.charAt(0)?a.translateNamespace+=c.translateNamespace:a.translateNamespace=c.translateNamespace}}}}}function k(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?k(a.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(a,b,c){c.$observe("translateLanguage",function(b){a.translateLanguage=b}),a.$watch("translateLanguage",function(){a.$broadcast("translateLanguageChanged")})}}}}function m(a,b){"use strict";var c=function(c,d,e,f){if(!angular.isObject(d)){var g=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};d=a(d)(g)}return b.instant(c,d,e,f)};return b.statefulFilter()&&(c.$stateful=!0),c}function n(a){"use strict";return a("translations")}return a.$inject=["$translate"],c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],d.$inject=["$interpolate","$translateSanitization"],e.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],g.$inject=["$translate","$rootScope"],i.$inject=["$translate","$rootScope"],m.$inject=["$parse","$translate"],n.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(a),a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",g),g.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",i),i.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",j),j.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",m),m.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",n),n.displayName="$translationCache","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():b()}(this,function(){function a(a,b){"use strict";return function(c){if(!(c&&(angular.isArray(c.files)||angular.isString(c.prefix)&&angular.isString(c.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");c.files||(c.files=[{prefix:c.prefix,suffix:c.suffix}]);for(var d=function(d){if(!d||!angular.isString(d.prefix)||!angular.isString(d.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var e=[d.prefix,c.key,d.suffix].join("");return angular.isObject(c.fileMap)&&c.fileMap[e]&&(e=c.fileMap[e]),b(angular.extend({url:e,method:"GET"},c.$http)).then(function(a){return a.data},function(){return a.reject(c.key)})},e=[],f=c.files.length,g=0;f>g;g++)e.push(d({prefix:c.files[g].prefix,key:c.key,suffix:c.files[g].suffix}));return a.all(e).then(function(a){for(var b=a.length,c={},d=0;b>d;d++)for(var e in a[d])c[e]=a[d][e];return c})}}return a.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",a),a.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(a,b,c){"use strict";function d(a,c){function d(d){var e={clone:d.parent().clone().empty(),original:d.parent()},f={clone:d.clone(),original:d};return f.clone.removeAttr("fix-head").removeAttr("ng-if"),e.clone.css({display:"block",overflow:"hidden"}).addClass("clone"),f.clone.css("display","block"),f.original.css("visibility","hidden"),function(d){function g(){return f.clone.find("th").length}function h(a){return Array.prototype.map.call(a.find("th"),function(a){return j(a)})}function i(){return f.original.prop("clientHeight")}function j(a){return b.element(a)}function k(a){e.original.css("marginTop","-"+a+"px")}function l(){var a={clone:h(f.clone),original:h(f.original)};a.clone.forEach(function(b,e){if(!b.data("isClone")){b.data("isClone",!0);var f=a.original[e],g=c.getComputedStyle(f[0]),h=function(){return g.width},j=function(){k(i()),b.css({minWidth:g.width,maxWidth:g.width})},l=d.$watch(h,j);c.addEventListener("resize",j),b.on("$destroy",function(){l(),c.removeEventListener("resize",j)}),f.on("$destroy",function(){b.remove()})}})}var m=e.original.parent();f.original.after(f.clone),a(e.clone)(d),a(f.clone)(d),m.parent()[0].insertBefore(e.clone.append(f.clone)[0],m[0]),m.on("scroll",function(){f.clone.css("transform","translate3d("+-m.prop("scrollLeft")+"px, 0, 0)")}),d.$watch(g,l),f.original.on("$destroy",function(){f.clone.remove()})}}return{compile:d}}b.module("fixed.table.header",[]).directive("fixHead",d),d.$inject=["$compile","$window"]}(window,angular),function a(b,c){"use strict";var d=b.Notification||window.Notification,e=c(d);return e.initWebNotificationFromContext=function(b){return a(b,c)},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:b.webNotification=e,e}(this,function(a){"use strict";var b=0,c={};c.lib=a,c.allowRequest=!0,Object.defineProperty(c,"permissionGranted",{get:function(){var b=a.permission,c=!1;return"granted"===b&&(c=!0),c}});var d=function(){return void 0},e=function(){return c.permissionGranted},f=function(c,d,e){var f=0;d.autoClose&&"number"==typeof d.autoClose&&(f=d.autoClose),d.icon||(d.icon="/favicon.ico");var g=function(a){d.onClick&&a&&(a.onclick=d.onClick);var b=function(){a.close()};f&&setTimeout(b,f),e(null,b)},h=d.serviceWorkerRegistration;if(h){delete d.serviceWorkerRegistration,d.tag||(b++,d.tag="webnotification-"+Date.now()+"-"+b);var i=d.tag;h.showNotification(c,d).then(function(){h.getNotifications({tag:i}).then(function(a){a&&a.length?g(a[0]):e(new Error("Unable to find notification."))})["catch"](e)})["catch"](e)}else{var j;try{j=new a(c,d)}catch(k){e(k)}j&&g(j)}},g=function(a){var b=d;a.length&&"function"==typeof a[a.length-1]&&(b=a.pop());var c=null,e=null;if(2===a.length)c=a[0],e=a[1];else if(1===a.length){var f=a.pop();"string"==typeof f?(c=f,e={}):(c="",e=f)}return c=c||"",e=e||{},{callback:b,title:c,options:e}};return c.requestPermission=function(b){b&&"function"==typeof b&&(e()?b(!0):a.requestPermission(function(){b(e())}))},c.showNotification=function(){var a=Array.prototype.slice.call(arguments,0);if(a.length>=1&&a.length<=3){var b=g(a),d=b.callback,e=b.title,h=b.options;c.requestPermission(function(a){a?f(e,h,d):d(new Error("Notifications are not enabled."),null)})}},c}),function(a){"use strict";var b=window.angular.module("angular-web-notification",[]);b.factory("webNotification",function(){var b=a.showNotification;return b?a:void 0})}(window.webNotification),require=function c(a,b,d){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,c,a,b,d)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.BrV=d()}(this,function(){function a(a,b){var c=b.algorithmSteps,d=g.handleStr[c[0]](a),e=g.sum[c[1]](d,b.pesos),f=g.rest[c[2]](e),h=parseInt(d[b.dvpos]),i=g.expectedDV[c[3]](f,d);return h===i}function b(b,c){if(c.match&&!c.match.test(b))return!1;for(var d=0;d<c.dvs.length;d++)if(!a(b,c.dvs[d]))return!1;return!0}var c={};c.validate=function(a){var b=[6,5,4,3,2,9,8,7,6,5,4,3,2];a=a.replace(/[^\d]/g,"");var c=/^(0{14}|1{14}|2{14}|3{14}|4{14}|5{14}|6{14}|7{14}|8{14}|9{14})$/;if(!a||14!==a.length||c.test(a))return!1;a=a.split("");for(var d=0,e=0;12>d;d++)e+=a[d]*b[d+1];if(e=11-e%11,e=e>=10?0:e,parseInt(a[12])!==e)return!1;for(d=0,e=0;12>=d;d++)e+=a[d]*b[d];return e=11-e%11,e=e>=10?0:e,parseInt(a[13])!==e?!1:!0};var d={};d.validate=function(a){function b(b){for(var c=0,d=b-9,e=0;9>e;e++)c+=parseInt(a.charAt(e+d))*(e+1);return c%11%10===parseInt(a.charAt(b))}a=a.replace(/[^\d]+/g,"");var c=/^(0{11}|1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11})$/;return!a||11!==a.length||c.test(a)?!1:b(9)&&b(10)};var e=function(a){return this instanceof e?(this.rules=f[a]||[],this.rule,e.prototype._defineRule=function(a){this.rule=void 0;for(var b=0;b<this.rules.length&&void 0===this.rule;b++){var c=a.replace(/[^\d]/g,""),d=this.rules[b];c.length!==d.chars||d.match&&!d.match.test(a)||(this.rule=d)}return!!this.rule},void(e.prototype.validate=function(a){return a&&this._defineRule(a)?this.rule.validate(a):!1})):new e(a)},f={},g={handleStr:{onlyNumbers:function(a){return a.replace(/[^\d]/g,"").split("")},mgSpec:function(a){var b=a.replace(/[^\d]/g,"");return b=b.substr(0,3)+"0"+b.substr(3,b.length),b.split("")}},sum:{normalSum:function(a,b){for(var c=a,d=0,e=0;e<b.length;e++)d+=parseInt(c[e])*b[e];return d},individualSum:function(a,b){for(var c=a,d=0,e=0;e<b.length;e++){var f=parseInt(c[e])*b[e];d+=f%10+parseInt(f/10)}return d},apSpec:function(a,b){var c=this.normalSum(a,b),d=a.join("");return d>="030000010"&&"030170009">=d?c+5:d>="030170010"&&"030190229">=d?c+9:c}},rest:{mod11:function(a){return a%11},mod10:function(a){return a%10},mod9:function(a){
return a%9}},expectedDV:{minusRestOf11:function(a){return 2>a?0:11-a},minusRestOf11v2:function(a){return 2>a?11-a-10:11-a},minusRestOf10:function(a){return 1>a?0:10-a},mod10:function(a){return a%10},goSpec:function(a,b){var c=b.join("");return 1===a?c>="101031050"&&"101199979">=c?1:0:0===a?0:11-a},apSpec:function(a,b){var c=b.join("");return 0===a?c>="030170010"&&"030190229">=c?1:0:1===a?0:11-a},voidFn:function(a){return a}}};return f.PE=[{chars:9,dvs:[{dvpos:7,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}},{chars:14,pesos:[[1,2,3,4,5,9,8,7,6,5,4,3,2]],dvs:[{dvpos:13,pesos:[5,4,3,2,1,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11v2"]}],validate:function(a){return b(a,this)}}],f.RS=[{chars:10,dvs:[{dvpos:9,pesos:[2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.AC=[{chars:13,match:/^01/,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.MG=[{chars:13,dvs:[{dvpos:12,pesos:[1,2,1,2,1,2,1,2,1,2,1,2],algorithmSteps:["mgSpec","individualSum","mod10","minusRestOf10"]},{dvpos:12,pesos:[3,2,11,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.SP=[{chars:12,match:/^[0-9]/,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]},{dvpos:11,pesos:[3,2,10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(a){return b(a,this)}},{chars:12,match:/^P/i,dvs:[{dvpos:8,pesos:[1,3,4,5,6,7,8,10],algorithmSteps:["onlyNumbers","normalSum","mod11","mod10"]}],validate:function(a){return b(a,this)}}],f.DF=[{chars:13,dvs:[{dvpos:11,pesos:[4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:12,pesos:[5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.ES=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.BA=[{chars:8,match:/^[0123458]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(a){return b(a,this)}},{chars:8,match:/^[679]/,dvs:[{dvpos:7,pesos:[7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:6,pesos:[8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}},{chars:9,match:/^[0-9][0123458]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod10","minusRestOf10"]}],validate:function(a){return b(a,this)}},{chars:9,match:/^[0-9][679]/,dvs:[{dvpos:8,pesos:[8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:7,pesos:[9,8,7,6,5,4,3,0,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.AM=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.RN=[{chars:9,match:/^20/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}},{chars:10,match:/^20/,dvs:[{dvpos:8,pesos:[10,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.RO=[{chars:14,dvs:[{dvpos:13,pesos:[6,5,4,3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.PR=[{chars:10,dvs:[{dvpos:8,pesos:[3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]},{dvpos:9,pesos:[4,3,2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.SC=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.RJ=[{chars:8,dvs:[{dvpos:7,pesos:[2,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.PA=[{chars:9,match:/^15/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.SE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.PB=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.CE=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.PI=[{chars:9,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.MA=[{chars:9,match:/^12/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.MT=[{chars:11,dvs:[{dvpos:10,pesos:[3,2,9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.MS=[{chars:9,match:/^28/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.TO=[{chars:11,match:/^[0-9]{2}((0[123])|(99))/,dvs:[{dvpos:10,pesos:[9,8,0,0,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.AL=[{chars:9,match:/^24[03578]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","minusRestOf11"]}],validate:function(a){return b(a,this)}}],f.RR=[{chars:9,match:/^24/,dvs:[{dvpos:8,pesos:[1,2,3,4,5,6,7,8],algorithmSteps:["onlyNumbers","normalSum","mod9","voidFn"]}],validate:function(a){return b(a,this)}}],f.GO=[{chars:9,match:/^1[015]/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","normalSum","mod11","goSpec"]}],validate:function(a){return b(a,this)}}],f.AP=[{chars:9,match:/^03/,dvs:[{dvpos:8,pesos:[9,8,7,6,5,4,3,2],algorithmSteps:["onlyNumbers","apSpec","mod11","apSpec"]}],validate:function(a){return b(a,this)}}],{ie:e,cpf:d,cnpj:c}})},{}],2:[function(a,b,c){!function(a,d){"object"==typeof c&&"undefined"!=typeof b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.moment=d()}(this,function(){"use strict";function c(){return od.apply(null,arguments)}function d(a){od=a}function e(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function f(a){return"[object Object]"===Object.prototype.toString.call(a)}function g(a){var b;for(b in a)return!1;return!0}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return sb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=pd.call(b.parsedDateParts,function(a){return null!=a});a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a){return void 0===a}function r(a,b){var c,d,e;if(q(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),q(b._i)||(a._i=b._i),q(b._f)||(a._f=b._f),q(b._l)||(a._l=b._l),q(b._strict)||(a._strict=b._strict),q(b._tzm)||(a._tzm=b._tzm),q(b._isUTC)||(a._isUTC=b._isUTC),q(b._offset)||(a._offset=b._offset),q(b._pf)||(a._pf=n(b)),q(b._locale)||(a._locale=b._locale),qd.length>0)for(c in qd)d=qd[c],e=b[d],q(e)||(a[d]=e);return a}function s(a){r(this,a),this._d=new Date(null!=a._d?a._d.getTime():NaN),rd===!1&&(rd=!0,c.updateOffset(this),rd=!1)}function t(a){return a instanceof s||null!=a&&null!=a._isAMomentObject}function u(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function v(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=u(b)),c}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&v(a[d])!==v(b[d]))&&g++;return g+f}function x(a){c.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function y(a,b){var d=!0;return k(function(){return null!=c.deprecationHandler&&c.deprecationHandler(null,a),d&&(x(a+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),d=!1),b.apply(this,arguments)},b)}function z(a,b){null!=c.deprecationHandler&&c.deprecationHandler(a,b),sd[a]||(x(b),sd[a]=!0)}function A(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function B(a){var b,c;for(c in a)b=a[c],A(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function C(a,b){var c,d=k({},a);for(c in b)j(b,c)&&(f(a[c])&&f(b[c])?(d[c]={},k(d[c],a[c]),k(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);for(c in a)j(a,c)&&!j(b,c)&&f(a[c])&&(d[c]=k({},d[c]));return d}function D(a){null!=a&&this.set(a)}function E(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return A(d)?d.call(b,c):d}function F(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function G(){return this._invalidDate}function H(a){return this._ordinal.replace("%d",a)}function I(a,b,c,d){var e=this._relativeTime[c];return A(e)?e(a,b,c,d):e.replace(/%d/i,a)}function J(a,b){var c=this._relativeTime[a>0?"future":"past"];return A(c)?c(b):c.replace(/%s/i,b)}function K(a,b){var c=a.toLowerCase();Bd[c]=Bd[c+"s"]=Bd[b]=a}function L(a){return"string"==typeof a?Bd[a]||Bd[a.toLowerCase()]:void 0}function M(a){var b,c,d={};for(c in a)j(a,c)&&(b=L(c),b&&(d[b]=a[c]));return d}function N(a,b){Cd[a]=b}function O(a){var b=[];for(var c in a)b.push({unit:c,priority:Cd[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function P(a,b){return function(d){return null!=d?(R(this,a,d),c.updateOffset(this,b),this):Q(this,a)}}function Q(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function R(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function S(a){return a=L(a),A(this[a])?this[a]():this}function T(a,b){if("object"==typeof a){a=M(a);for(var c=O(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=L(a),A(this[a]))return this[a](b);return this}function U(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function V(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Gd[a]=e),b&&(Gd[b[0]]=function(){return U(e.apply(this,arguments),b[1],b[2])}),c&&(Gd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function W(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function X(a){var b,c,d=a.match(Dd);for(b=0,c=d.length;c>b;b++)Gd[d[b]]?d[b]=Gd[d[b]]:d[b]=W(d[b]);return function(b){var e,f="";for(e=0;c>e;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function Y(a,b){return a.isValid()?(b=Z(b,a.localeData()),Fd[b]=Fd[b]||X(b),Fd[b](a)):a.localeData().invalidDate()}function Z(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ed.lastIndex=0;d>=0&&Ed.test(a);)a=a.replace(Ed,c),Ed.lastIndex=0,d-=1;return a}function $(a,b,c){Yd[a]=A(b)?b:function(a,d){return a&&c?c:b}}function _(a,b){return j(Yd,a)?Yd[a](b._strict,b._locale):new RegExp(aa(a))}function aa(a){return ba(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function ba(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ca(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=v(a)}),c=0;c<a.length;c++)Zd[a[c]]=d}function da(a,b){ca(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function ea(a,b,c){null!=b&&j(Zd,a)&&Zd[a](b,c._a,c,a)}function fa(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ga(a,b){return e(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||he).test(b)?"format":"standalone"][a.month()]}function ha(a,b){return e(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[he.test(b)?"format":"standalone"][a.month()]}function ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=ud.call(this._shortMonthsParse,g),-1!==e?e:null):(e=ud.call(this._longMonthsParse,g),-1!==e?e:null):"MMM"===b?(e=ud.call(this._shortMonthsParse,g),-1!==e?e:(e=ud.call(this._longMonthsParse,g),-1!==e?e:null)):(e=ud.call(this._longMonthsParse,g),-1!==e?e:(e=ud.call(this._shortMonthsParse,g),-1!==e?e:null))}function ja(a,b,c){var d,e,f;if(this._monthsParseExact)return ia.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ka(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=v(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),fa(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function la(a){return null!=a?(ka(this,a),c.updateOffset(this,!0),this):Q(this,"Month")}function ma(){return fa(this.year(),this.month())}function na(a){return this._monthsParseExact?(j(this,"_monthsRegex")||pa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=ke),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function oa(a){return this._monthsParseExact?(j(this,"_monthsRegex")||pa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=le),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function pa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=ba(d[b]),e[b]=ba(e[b]);for(b=0;24>b;b++)f[b]=ba(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function qa(a){return ra(a)?366:365}function ra(a){return a%4===0&&a%100!==0||a%400===0}function sa(){return ra(this.year())}function ta(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ua(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function va(a,b,c){var d=7+b-c,e=(7+ua(a,0,d).getUTCDay()-b)%7;return-e+d-1}function wa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=va(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=qa(f)+j):j>qa(a)?(f=a+1,g=j-qa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function xa(a,b,c){var d,e,f=va(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ya(e,b,c)):g>ya(a.year(),b,c)?(d=g-ya(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ya(a,b,c){var d=va(a,b,c),e=va(a+1,b,c);return(qa(a)-d+e)/7}function za(a){return xa(a,this._week.dow,this._week.doy).week}function Aa(){return this._week.dow}function Ba(){return this._week.doy}function Ca(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Da(a){var b=xa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Ea(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Fa(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Ga(a,b){return e(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function Ha(a){return this._weekdaysShort[a.day()]}function Ia(a){return this._weekdaysMin[a.day()]}function Ja(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=ud.call(this._weekdaysParse,g),-1!==e?e:null):"ddd"===b?(e=ud.call(this._shortWeekdaysParse,g),-1!==e?e:null):(e=ud.call(this._minWeekdaysParse,g),-1!==e?e:null):"dddd"===b?(e=ud.call(this._weekdaysParse,g),-1!==e?e:(e=ud.call(this._shortWeekdaysParse,g),-1!==e?e:(e=ud.call(this._minWeekdaysParse,g),-1!==e?e:null))):"ddd"===b?(e=ud.call(this._shortWeekdaysParse,g),-1!==e?e:(e=ud.call(this._weekdaysParse,g),-1!==e?e:(e=ud.call(this._minWeekdaysParse,g),-1!==e?e:null))):(e=ud.call(this._minWeekdaysParse,g),-1!==e?e:(e=ud.call(this._weekdaysParse,g),-1!==e?e:(e=ud.call(this._shortWeekdaysParse,g),-1!==e?e:null)))}function Ka(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ja.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Ea(a,this.localeData()),this.add(a-b,"d")):b}function Ma(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Na(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Fa(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Oa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Ra.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=re),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Ra.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=se),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Ra.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=te),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ra(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;7>b;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;7>b;b++)h[b]=ba(h[b]),i[b]=ba(i[b]),j[b]=ba(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Sa(){return this.hours()%12||12}function Ta(){return this.hours()||24}function Ua(a,b){V(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Va(a,b){return b._meridiemParse}function Wa(a){return"p"===(a+"").toLowerCase().charAt(0)}function Xa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Ya(a){return a?a.toLowerCase().replace("_","-"):a}function Za(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Ya(a[f]).split("-"),b=e.length,c=Ya(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=$a(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function $a(c){var d=null;if(!ye[c]&&"undefined"!=typeof b&&b&&b.exports)try{d=ue._abbr,a("./locale/"+c),_a(d)}catch(e){}return ye[c]}function _a(a,b){var c;return a&&(c=q(b)?cb(a):ab(a,b),c&&(ue=c)),ue._abbr}function ab(a,b){if(null!==b){var c=xe;return b.abbr=a,null!=ye[a]?(z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=ye[a]._config):null!=b.parentLocale&&(null!=ye[b.parentLocale]?c=ye[b.parentLocale]._config:z("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),ye[a]=new D(C(c,b)),_a(a),ye[a]}return delete ye[a],null}function bb(a,b){if(null!=b){var c,d=xe;null!=ye[a]&&(d=ye[a]._config),b=C(d,b),c=new D(b),c.parentLocale=ye[a],ye[a]=c,_a(a)}else null!=ye[a]&&(null!=ye[a].parentLocale?ye[a]=ye[a].parentLocale:null!=ye[a]&&delete ye[a]);return ye[a]}function cb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ue;if(!e(a)){if(b=$a(a))return b;a=[a]}return Za(a)}function db(){return td(ye)}function eb(a){var b,c=a._a;return c&&-2===n(a).overflow&&(b=c[_d]<0||c[_d]>11?_d:c[ae]<1||c[ae]>fa(c[$d],c[_d])?ae:c[be]<0||c[be]>24||24===c[be]&&(0!==c[ce]||0!==c[de]||0!==c[ee])?be:c[ce]<0||c[ce]>59?ce:c[de]<0||c[de]>59?de:c[ee]<0||c[ee]>999?ee:-1,n(a)._overflowDayOfYear&&($d>b||b>ae)&&(b=ae),n(a)._overflowWeeks&&-1===b&&(b=fe),n(a)._overflowWeekday&&-1===b&&(b=ge),n(a).overflow=b),a}function fb(a){var b,c,d,e,f,g,h=a._i,i=ze.exec(h)||Ae.exec(h);if(i){for(n(a).iso=!0,b=0,c=Ce.length;c>b;b++)if(Ce[b][1].exec(i[1])){e=Ce[b][0],d=Ce[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=De.length;c>b;b++)if(De[b][1].exec(i[3])){f=(i[2]||" ")+De[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Be.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),lb(a)}else a._isValid=!1}function gb(a){var b=Ee.exec(a._i);return null!==b?void(a._d=new Date(+b[1])):(fb(a),void(a._isValid===!1&&(delete a._isValid,c.createFromInputFallback(a))))}function hb(a,b,c){return null!=a?a:null!=b?b:c}function ib(a){var b=new Date(c.now());return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function jb(a){var b,c,d,e,f=[];if(!a._d){for(d=ib(a),a._w&&null==a._a[ae]&&null==a._a[_d]&&kb(a),a._dayOfYear&&(e=hb(a._a[$d],d[$d]),a._dayOfYear>qa(e)&&(n(a)._overflowDayOfYear=!0),c=ua(e,0,a._dayOfYear),a._a[_d]=c.getUTCMonth(),a._a[ae]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[be]&&0===a._a[ce]&&0===a._a[de]&&0===a._a[ee]&&(a._nextDay=!0,a._a[be]=0),a._d=(a._useUTC?ua:ta).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[be]=24)}}function kb(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=hb(b.GG,a._a[$d],xa(tb(),1,4).year),d=hb(b.W,1),e=hb(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=hb(b.gg,a._a[$d],xa(tb(),f,g).year),d=hb(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ya(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=wa(c,d,e,f,g),a._a[$d]=h.year,a._dayOfYear=h.dayOfYear)}function lb(a){if(a._f===c.ISO_8601)return void fb(a);a._a=[],n(a).empty=!0;var b,d,e,f,g,h=""+a._i,i=h.length,j=0;for(e=Z(a._f,a._locale).match(Dd)||[],b=0;b<e.length;b++)f=e[b],d=(h.match(_(f,a))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(a).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Gd[f]?(d?n(a).empty=!1:n(a).unusedTokens.push(f),ea(f,d,a)):a._strict&&!d&&n(a).unusedTokens.push(f);n(a).charsLeftOver=i-j,h.length>0&&n(a).unusedInput.push(h),a._a[be]<=12&&n(a).bigHour===!0&&a._a[be]>0&&(n(a).bigHour=void 0),n(a).parsedDateParts=a._a.slice(0),n(a).meridiem=a._meridiem,a._a[be]=mb(a._locale,a._a[be],a._meridiem),jb(a),eb(a)}function mb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function nb(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=r({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],lb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||d>f)&&(d=f,c=b));k(a,c||b)}function ob(a){if(!a._d){var b=M(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),jb(a)}}function pb(a){var b=new s(eb(qb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function qb(a){var b=a._i,c=a._f;return a._locale=a._locale||cb(a._l),null===b||void 0===c&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),t(b)?new s(eb(b)):(e(c)?nb(a):h(b)?a._d=b:c?lb(a):rb(a),o(a)||(a._d=null),a))}function rb(a){var b=a._i;void 0===b?a._d=new Date(c.now()):h(b)?a._d=new Date(b.valueOf()):"string"==typeof b?gb(a):e(b)?(a._a=i(b.slice(0),function(a){return parseInt(a,10)}),jb(a)):"object"==typeof b?ob(a):"number"==typeof b?a._d=new Date(b):c.createFromInputFallback(a)}function sb(a,b,c,d,h){var i={};return"boolean"==typeof c&&(d=c,c=void 0),(f(a)&&g(a)||e(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=c,i._i=a,i._f=b,i._strict=d,pb(i)}function tb(a,b,c,d){return sb(a,b,c,d,!1)}function ub(a,b){var c,d;if(1===b.length&&e(b[0])&&(b=b[0]),!b.length)return tb();for(c=b[0],d=1;d<b.length;++d)(!b[d].isValid()||b[d][a](c))&&(c=b[d]);return c}function vb(){var a=[].slice.call(arguments,0);return ub("isBefore",a)}function wb(){var a=[].slice.call(arguments,0);return ub("isAfter",a)}function xb(a){var b=M(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=cb(),this._bubble()}function yb(a){return a instanceof xb}function zb(a,b){V(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+U(~~(a/60),2)+b+U(~~a%60,2)})}function Ab(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ie)||["-",0,0],f=+(60*e[1])+v(e[2]);return"+"===e[0]?f:-f}function Bb(a,b){var d,e;return b._isUTC?(d=b.clone(),e=(t(a)||h(a)?a.valueOf():tb(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),c.updateOffset(d,!1),d):tb(a).local()}function Cb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Db(a,b){var d,e=this._offset||0;return this.isValid()?null!=a?("string"==typeof a?a=Ab(Vd,a):Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(d=Cb(this)),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==a&&(!b||this._changeInProgress?Ub(this,Ob(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Cb(this):null!=a?this:NaN}function Eb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Fb(a){return this.utcOffset(0,a)}function Gb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Cb(this),"m")),this}function Hb(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ab(Ud,this._i)),this}function Ib(a){return this.isValid()?(a=a?tb(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Jb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kb(){if(!q(this._isDSTShifted))return this._isDSTShifted;var a={};if(r(a,this),a=qb(a),a._a){var b=a._isUTC?l(a._a):tb(a._a);this._isDSTShifted=this.isValid()&&w(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lb(){return this.isValid()?!this._isUTC:!1}function Mb(){return this.isValid()?this._isUTC:!1}function Nb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ob(a,b){var c,d,e,f=a,g=null;return yb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Je.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:v(g[ae])*c,h:v(g[be])*c,m:v(g[ce])*c,s:v(g[de])*c,ms:v(g[ee])*c}):(g=Ke.exec(a))?(c="-"===g[1]?-1:1,f={y:Pb(g[2],c),M:Pb(g[3],c),w:Pb(g[4],c),d:Pb(g[5],c),h:Pb(g[6],c),m:Pb(g[7],c),s:Pb(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Rb(tb(f.from),tb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new xb(f),yb(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function Pb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Qb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),
a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Rb(a,b){var c;return a.isValid()&&b.isValid()?(b=Bb(b,a),a.isBefore(b)?c=Qb(a,b):(c=Qb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Sb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Tb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(z(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ob(c,d),Ub(this,e,a),this}}function Ub(a,b,d,e){var f=b._milliseconds,g=Sb(b._days),h=Sb(b._months);a.isValid()&&(e=null==e?!0:e,f&&a._d.setTime(a._d.valueOf()+f*d),g&&R(a,"Date",Q(a,"Date")+g*d),h&&ka(a,Q(a,"Month")+h*d),e&&c.updateOffset(a,g||h))}function Vb(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"}function Wb(a,b){var d=a||tb(),e=Bb(d,this).startOf("day"),f=c.calendarFormat(this,e)||"sameElse",g=b&&(A(b[f])?b[f].call(this,d):b[f]);return this.format(g||this.localeData().calendar(f,this,tb(d)))}function Xb(){return new s(this)}function Yb(a,b){var c=t(a)?a:tb(a);return this.isValid()&&c.isValid()?(b=L(q(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf()):!1}function Zb(a,b){var c=t(a)?a:tb(a);return this.isValid()&&c.isValid()?(b=L(q(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf()):!1}function $b(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function _b(a,b){var c,d=t(a)?a:tb(a);return this.isValid()&&d.isValid()?(b=L(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf())):!1}function ac(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function bc(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function cc(a,b,c){var d,e,f,g;return this.isValid()?(d=Bb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=L(b),"year"===b||"month"===b||"quarter"===b?(g=dc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:u(g)):NaN):NaN}function dc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function ec(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fc(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?A(Date.prototype.toISOString)?this.toDate().toISOString():Y(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function gc(a){a||(a=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var b=Y(this,a);return this.localeData().postformat(b)}function hc(a,b){return this.isValid()&&(t(a)&&a.isValid()||tb(a).isValid())?Ob({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.from(tb(),a)}function jc(a,b){return this.isValid()&&(t(a)&&a.isValid()||tb(a).isValid())?Ob({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function kc(a){return this.to(tb(),a)}function lc(a){var b;return void 0===a?this._locale._abbr:(b=cb(a),null!=b&&(this._locale=b),this)}function mc(){return this._locale}function nc(a){switch(a=L(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function oc(a){return a=L(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function pc(){return this._d.valueOf()-6e4*(this._offset||0)}function qc(){return Math.floor(this.valueOf()/1e3)}function rc(){return new Date(this.valueOf())}function sc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function tc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function uc(){return this.isValid()?this.toISOString():null}function vc(){return o(this)}function wc(){return k({},n(this))}function xc(){return n(this).overflow}function yc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function zc(a,b){V(0,[a,a.length],0,b)}function Ac(a){return Ec.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bc(a){return Ec.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Cc(){return ya(this.year(),1,4)}function Dc(){var a=this.localeData()._week;return ya(this.year(),a.dow,a.doy)}function Ec(a,b,c,d,e){var f;return null==a?xa(this,d,e).year:(f=ya(a,d,e),b>f&&(b=f),Fc.call(this,a,b,c,d,e))}function Fc(a,b,c,d,e){var f=wa(a,b,c,d,e),g=ua(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Gc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Ic(a,b){b[ee]=v(1e3*("0."+a))}function Jc(){return this._isUTC?"UTC":""}function Kc(){return this._isUTC?"Coordinated Universal Time":""}function Lc(a){return tb(1e3*a)}function Mc(){return tb.apply(null,arguments).parseZone()}function Nc(a){return a}function Oc(a,b,c,d){var e=cb(),f=l().set(d,b);return e[c](f,a)}function Pc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Oc(a,b,c,"month");var d,e=[];for(d=0;12>d;d++)e[d]=Oc(a,d,c,"month");return e}function Qc(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=cb(),f=a?e._week.dow:0;if(null!=c)return Oc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;7>g;g++)h[g]=Oc(b,(g+f)%7,d,"day");return h}function Rc(a,b){return Pc(a,b,"months")}function Sc(a,b){return Pc(a,b,"monthsShort")}function Tc(a,b,c){return Qc(a,b,c,"weekdays")}function Uc(a,b,c){return Qc(a,b,c,"weekdaysShort")}function Vc(a,b,c){return Qc(a,b,c,"weekdaysMin")}function Wc(){var a=this._data;return this._milliseconds=We(this._milliseconds),this._days=We(this._days),this._months=We(this._months),a.milliseconds=We(a.milliseconds),a.seconds=We(a.seconds),a.minutes=We(a.minutes),a.hours=We(a.hours),a.months=We(a.months),a.years=We(a.years),this}function Xc(a,b,c,d){var e=Ob(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Yc(a,b){return Xc(this,a,b,1)}function Zc(a,b){return Xc(this,a,b,-1)}function $c(a){return 0>a?Math.floor(a):Math.ceil(a)}function _c(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*$c(bd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=u(f/1e3),i.seconds=a%60,b=u(a/60),i.minutes=b%60,c=u(b/60),i.hours=c%24,g+=u(c/24),e=u(ad(g)),h+=e,g-=$c(bd(e)),d=u(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ad(a){return 4800*a/146097}function bd(a){return 146097*a/4800}function cd(a){var b,c,d=this._milliseconds;if(a=L(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+ad(b),"month"===a?c:c/12;switch(b=this._days+Math.round(bd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function dd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function ed(a){return function(){return this.as(a)}}function fd(a){return a=L(a),this[a+"s"]()}function gd(a){return function(){return this._data[a]}}function hd(){return u(this.days()/7)}function id(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function jd(a,b,c){var d=Ob(a).abs(),e=lf(d.as("s")),f=lf(d.as("m")),g=lf(d.as("h")),h=lf(d.as("d")),i=lf(d.as("M")),j=lf(d.as("y")),k=e<mf.s&&["s",e]||1>=f&&["m"]||f<mf.m&&["mm",f]||1>=g&&["h"]||g<mf.h&&["hh",g]||1>=h&&["d"]||h<mf.d&&["dd",h]||1>=i&&["M"]||i<mf.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,id.apply(null,k)}function kd(a){return void 0===a?lf:"function"==typeof a?(lf=a,!0):!1}function ld(a,b){return void 0===mf[a]?!1:void 0===b?mf[a]:(mf[a]=b,!0)}function md(a){var b=this.localeData(),c=jd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function nd(){var a,b,c,d=nf(this._milliseconds)/1e3,e=nf(this._days),f=nf(this._months);a=u(d/60),b=u(a/60),d%=60,a%=60,c=u(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var od,pd;pd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;c>d;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var qd=c.momentProperties=[],rd=!1,sd={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null;var td;td=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var ud,vd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},wd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xd="Invalid date",yd="%d",zd=/\d{1,2}/,Ad={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bd={},Cd={},Dd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ed=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fd={},Gd={},Hd=/\d/,Id=/\d\d/,Jd=/\d{3}/,Kd=/\d{4}/,Ld=/[+-]?\d{6}/,Md=/\d\d?/,Nd=/\d\d\d\d?/,Od=/\d\d\d\d\d\d?/,Pd=/\d{1,3}/,Qd=/\d{1,4}/,Rd=/[+-]?\d{1,6}/,Sd=/\d+/,Td=/[+-]?\d+/,Ud=/Z|[+-]\d\d:?\d\d/gi,Vd=/Z|[+-]\d\d(?::?\d\d)?/gi,Wd=/[+-]?\d+(\.\d{1,3})?/,Xd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yd={},Zd={},$d=0,_d=1,ae=2,be=3,ce=4,de=5,ee=6,fe=7,ge=8;ud=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),V("MMMM",0,0,function(a){return this.localeData().months(this,a)}),K("month","M"),N("month",8),$("M",Md),$("MM",Md,Id),$("MMM",function(a,b){return b.monthsShortRegex(a)}),$("MMMM",function(a,b){return b.monthsRegex(a)}),ca(["M","MM"],function(a,b){b[_d]=v(a)-1}),ca(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[_d]=e:n(c).invalidMonth=a});var he=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ke=Xd,le=Xd;V("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),K("year","y"),N("year",1),$("Y",Td),$("YY",Md,Id),$("YYYY",Qd,Kd),$("YYYYY",Rd,Ld),$("YYYYYY",Rd,Ld),ca(["YYYYY","YYYYYY"],$d),ca("YYYY",function(a,b){b[$d]=2===a.length?c.parseTwoDigitYear(a):v(a)}),ca("YY",function(a,b){b[$d]=c.parseTwoDigitYear(a)}),ca("Y",function(a,b){b[$d]=parseInt(a,10)}),c.parseTwoDigitYear=function(a){return v(a)+(v(a)>68?1900:2e3)};var me=P("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),K("week","w"),K("isoWeek","W"),N("week",5),N("isoWeek",5),$("w",Md),$("ww",Md,Id),$("W",Md),$("WW",Md,Id),da(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=v(a)});var ne={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),V("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),V("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),K("day","d"),K("weekday","e"),K("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),$("d",Md),$("e",Md),$("E",Md),$("dd",function(a,b){return b.weekdaysMinRegex(a)}),$("ddd",function(a,b){return b.weekdaysShortRegex(a)}),$("dddd",function(a,b){return b.weekdaysRegex(a)}),da(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),da(["d","e","E"],function(a,b,c,d){b[d]=v(a)});var oe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),re=Xd,se=Xd,te=Xd;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Sa),V("k",["kk",2],0,Ta),V("hmm",0,0,function(){return""+Sa.apply(this)+U(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Sa.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ua("a",!0),Ua("A",!1),K("hour","h"),N("hour",13),$("a",Va),$("A",Va),$("H",Md),$("h",Md),$("HH",Md,Id),$("hh",Md,Id),$("hmm",Nd),$("hmmss",Od),$("Hmm",Nd),$("Hmmss",Od),ca(["H","HH"],be),ca(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ca(["h","hh"],function(a,b,c){b[be]=v(a),n(c).bigHour=!0}),ca("hmm",function(a,b,c){var d=a.length-2;b[be]=v(a.substr(0,d)),b[ce]=v(a.substr(d)),n(c).bigHour=!0}),ca("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[be]=v(a.substr(0,d)),b[ce]=v(a.substr(d,2)),b[de]=v(a.substr(e)),n(c).bigHour=!0}),ca("Hmm",function(a,b,c){var d=a.length-2;b[be]=v(a.substr(0,d)),b[ce]=v(a.substr(d))}),ca("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[be]=v(a.substr(0,d)),b[ce]=v(a.substr(d,2)),b[de]=v(a.substr(e))});var ue,ve=/[ap]\.?m?\.?/i,we=P("Hours",!0),xe={calendar:vd,longDateFormat:wd,invalidDate:xd,ordinal:yd,ordinalParse:zd,relativeTime:Ad,months:ie,monthsShort:je,week:ne,weekdays:oe,weekdaysMin:qe,weekdaysShort:pe,meridiemParse:ve},ye={},ze=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ae=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Be=/Z|[+-]\d\d(?::?\d\d)?/,Ce=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],De=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ee=/^\/?Date\((\-?\d+)/i;c.createFromInputFallback=y("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),c.ISO_8601=function(){};var Fe=y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:p()}),Ge=y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),He=function(){return Date.now?Date.now():+new Date};zb("Z",":"),zb("ZZ",""),$("Z",Vd),$("ZZ",Vd),ca(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ab(Vd,a)});var Ie=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var Je=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ke=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ob.fn=xb.prototype;var Le=Tb(1,"add"),Me=Tb(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ne=y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),zc("gggg","weekYear"),zc("ggggg","weekYear"),zc("GGGG","isoWeekYear"),zc("GGGGG","isoWeekYear"),K("weekYear","gg"),K("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),$("G",Td),$("g",Td),$("GG",Md,Id),$("gg",Md,Id),$("GGGG",Qd,Kd),$("gggg",Qd,Kd),$("GGGGG",Rd,Ld),$("ggggg",Rd,Ld),da(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=v(a)}),da(["gg","GG"],function(a,b,d,e){b[e]=c.parseTwoDigitYear(a)}),V("Q",0,"Qo","quarter"),K("quarter","Q"),N("quarter",7),$("Q",Hd),ca("Q",function(a,b){b[_d]=3*(v(a)-1)}),V("D",["DD",2],"Do","date"),K("date","D"),N("date",9),$("D",Md),$("DD",Md,Id),$("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),ca(["D","DD"],ae),ca("Do",function(a,b){b[ae]=v(a.match(Md)[0],10)});var Oe=P("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),K("dayOfYear","DDD"),N("dayOfYear",4),$("DDD",Pd),$("DDDD",Jd),ca(["DDD","DDDD"],function(a,b,c){c._dayOfYear=v(a)}),V("m",["mm",2],0,"minute"),K("minute","m"),N("minute",14),$("m",Md),$("mm",Md,Id),ca(["m","mm"],ce);var Pe=P("Minutes",!1);V("s",["ss",2],0,"second"),K("second","s"),N("second",15),$("s",Md),$("ss",Md,Id),ca(["s","ss"],de);var Qe=P("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),K("millisecond","ms"),N("millisecond",16),$("S",Pd,Hd),$("SS",Pd,Id),$("SSS",Pd,Jd);var Re;for(Re="SSSS";Re.length<=9;Re+="S")$(Re,Sd);for(Re="S";Re.length<=9;Re+="S")ca(Re,Ic);var Se=P("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Te=s.prototype;Te.add=Le,Te.calendar=Wb,Te.clone=Xb,Te.diff=cc,Te.endOf=oc,Te.format=gc,Te.from=hc,Te.fromNow=ic,Te.to=jc,Te.toNow=kc,Te.get=S,Te.invalidAt=xc,Te.isAfter=Yb,Te.isBefore=Zb,Te.isBetween=$b,Te.isSame=_b,Te.isSameOrAfter=ac,Te.isSameOrBefore=bc,Te.isValid=vc,Te.lang=Ne,Te.locale=lc,Te.localeData=mc,Te.max=Ge,Te.min=Fe,Te.parsingFlags=wc,Te.set=T,Te.startOf=nc,Te.subtract=Me,Te.toArray=sc,Te.toObject=tc,Te.toDate=rc,Te.toISOString=fc,Te.toJSON=uc,Te.toString=ec,Te.unix=qc,Te.valueOf=pc,Te.creationData=yc,Te.year=me,Te.isLeapYear=sa,Te.weekYear=Ac,Te.isoWeekYear=Bc,Te.quarter=Te.quarters=Gc,Te.month=la,Te.daysInMonth=ma,Te.week=Te.weeks=Ca,Te.isoWeek=Te.isoWeeks=Da,Te.weeksInYear=Dc,Te.isoWeeksInYear=Cc,Te.date=Oe,Te.day=Te.days=La,Te.weekday=Ma,Te.isoWeekday=Na,Te.dayOfYear=Hc,Te.hour=Te.hours=we,Te.minute=Te.minutes=Pe,Te.second=Te.seconds=Qe,Te.millisecond=Te.milliseconds=Se,Te.utcOffset=Db,Te.utc=Fb,Te.local=Gb,Te.parseZone=Hb,Te.hasAlignedHourOffset=Ib,Te.isDST=Jb,Te.isLocal=Lb,Te.isUtcOffset=Mb,Te.isUtc=Nb,Te.isUTC=Nb,Te.zoneAbbr=Jc,Te.zoneName=Kc,Te.dates=y("dates accessor is deprecated. Use date instead.",Oe),Te.months=y("months accessor is deprecated. Use month instead",la),Te.years=y("years accessor is deprecated. Use year instead",me),Te.zone=y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Eb),Te.isDSTShifted=y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kb);var Ue=Te,Ve=D.prototype;Ve.calendar=E,Ve.longDateFormat=F,Ve.invalidDate=G,Ve.ordinal=H,Ve.preparse=Nc,Ve.postformat=Nc,Ve.relativeTime=I,Ve.pastFuture=J,Ve.set=B,Ve.months=ga,Ve.monthsShort=ha,Ve.monthsParse=ja,Ve.monthsRegex=oa,Ve.monthsShortRegex=na,Ve.week=za,Ve.firstDayOfYear=Ba,Ve.firstDayOfWeek=Aa,Ve.weekdays=Ga,Ve.weekdaysMin=Ia,Ve.weekdaysShort=Ha,Ve.weekdaysParse=Ka,Ve.weekdaysRegex=Oa,Ve.weekdaysShortRegex=Pa,Ve.weekdaysMinRegex=Qa,Ve.isPM=Wa,Ve.meridiem=Xa,_a("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===v(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),c.lang=y("moment.lang is deprecated. Use moment.locale instead.",_a),c.langData=y("moment.langData is deprecated. Use moment.localeData instead.",cb);var We=Math.abs,Xe=ed("ms"),Ye=ed("s"),Ze=ed("m"),$e=ed("h"),_e=ed("d"),af=ed("w"),bf=ed("M"),cf=ed("y"),df=gd("milliseconds"),ef=gd("seconds"),ff=gd("minutes"),gf=gd("hours"),hf=gd("days"),jf=gd("months"),kf=gd("years"),lf=Math.round,mf={s:45,m:45,h:22,d:26,M:11},nf=Math.abs,of=xb.prototype;of.abs=Wc,of.add=Yc,of.subtract=Zc,of.as=cd,of.asMilliseconds=Xe,of.asSeconds=Ye,of.asMinutes=Ze,of.asHours=$e,of.asDays=_e,of.asWeeks=af,of.asMonths=bf,of.asYears=cf,of.valueOf=dd,of._bubble=_c,of.get=fd,of.milliseconds=df,of.seconds=ef,of.minutes=ff,of.hours=gf,of.days=hf,of.weeks=hd,of.months=jf,of.years=kf,of.humanize=md,of.toISOString=nd,of.toString=nd,of.toJSON=nd,of.locale=lc,of.localeData=mc,of.toIsoString=y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nd),of.lang=Ne,V("X",0,0,"unix"),V("x",0,0,"valueOf"),$("x",Td),$("X",Wd),ca("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ca("x",function(a,b,c){c._d=new Date(v(a))}),c.version="2.14.1",d(tb),c.fn=Ue,c.min=vb,c.max=wb,c.now=He,c.utc=l,c.unix=Lc,c.months=Rc,c.isDate=h,c.locale=_a,c.invalid=p,c.duration=Ob,c.isMoment=t,c.weekdays=Tc,c.parseZone=Mc,c.localeData=cb,c.isDuration=yb,c.monthsShort=Sc,c.weekdaysMin=Vc,c.defineLocale=ab,c.updateLocale=bb,c.locales=db,c.weekdaysShort=Uc,c.normalizeUnits=L,c.relativeTimeRounding=kd,c.relativeTimeThreshold=ld,c.calendarFormat=Vb,c.prototype=Ue;var pf=c;return pf})},{}],3:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.StringMask=d()}(this,function(){function a(a,b){for(var c=0,d=b-1,e={escape:!0};d>=0&&e&&e.escape;)e=h[a.charAt(d)],c+=e&&e.escape?1:0,d--;return c>0&&c%2===1}function b(a,b){var c=a.replace(/[^0]/g,"").length,d=b.replace(/[^\d]/g,"").length;return d-c}function c(a,b,c,d){return d&&"function"==typeof d.transform&&(b=d.transform(b)),c.reverse?b+a:a+b}function d(a,b,c){var e=a.charAt(b),f=h[e];return""===e?!1:f&&!f.escape?!0:d(a,b+c,c)}function e(a,b,c){var d=a.charAt(b),f=h[d];return""===d?!1:f&&f.recursive?!0:e(a,b+c,c)}function f(a,b,c){var d=a.split("");return d.splice(c,0,b),d.join("")}function g(a,b){this.options=b||{},this.options={reverse:this.options.reverse||!1,usedefaults:this.options.usedefaults||this.options.reverse},this.pattern=a}var h={0:{pattern:/\d/,_default:"0"},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/},U:{pattern:/[a-zA-Z]/,transform:function(a){return a.toLocaleUpperCase()}},L:{pattern:/[a-zA-Z]/,transform:function(a){return a.toLocaleLowerCase()}},$:{escape:!0}};return g.prototype.process=function(g){function i(a){if(!r&&!q.length&&d(j,n,s.inc))return!0;if(!r&&q.length&&e(j,n,s.inc))return!0;if(r||(r=q.length>0),r){var b=q.shift();if(q.push(b),a.reverse&&m>=0)return n++,j=f(j,b,n),!0;if(!a.reverse&&m<g.length)return j=f(j,b,n),!0}return n<j.length&&n>=0}if(!g)return{result:"",valid:!1};g+="";var j=this.pattern,k=!0,l="",m=this.options.reverse?g.length-1:0,n=0,o=b(j,g),p=!1,q=[],r=!1,s={start:this.options.reverse?j.length-1:0,end:this.options.reverse?-1:j.length,inc:this.options.reverse?-1:1};for(n=s.start;i(this.options);n+=s.inc){var t=g.charAt(m),u=j.charAt(n),v=h[u];if(q.length&&v&&!v.recursive&&(v=null),!r||t){if(this.options.reverse&&a(j,n)){l=c(l,u,this.options,v),n+=s.inc;continue}if(!this.options.reverse&&p){l=c(l,u,this.options,v),p=!1;continue}if(!this.options.reverse&&v&&v.escape){p=!0;continue}}if(!r&&v&&v.recursive)q.push(u);else{if(r&&!t){l=c(l,u,this.options,v);continue}if(!r&&q.length>0&&!t)continue}if(v)if(v.optional){if(v.pattern.test(t)&&o)l=c(l,t,this.options,v),m+=s.inc,o--;else if(q.length>0&&t){k=!1;break}}else if(v.pattern.test(t))l=c(l,t,this.options,v),m+=s.inc;else{if(t||!v._default||!this.options.usedefaults){k=!1;break}l=c(l,v._default,this.options,v)}else l=c(l,u,this.options,v),!r&&q.length&&q.push(u)}return{result:l,valid:k}},g.prototype.apply=function(a){return this.process(a).result},g.prototype.validate=function(a){return this.process(a).valid},g.process=function(a,b,c){return new g(b,c).process(a)},g.apply=function(a,b,c){return new g(b,c).apply(a)},g.validate=function(a,b,c){return new g(b,c).validate(a)},g})},{}],4:[function(a,b,c){"use strict";b.exports=angular.module("ui.utils.masks",[a("./global/global-masks"),a("./br/br-masks"),a("./us/us-masks"),a("./ch/ch-masks")]).name},{"./br/br-masks":6,"./ch/ch-masks":15,"./global/global-masks":19,"./us/us-masks":27}],5:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=new d("00000.00000 00000.000000 00000.000000 0 00000000000000");b.exports=e({clearValue:function(a){return a.replace(/[^0-9]/g,"").slice(0,47)},format:function(a){return 0===a.length?a:f.apply(a).replace(/[^0-9]$/,"")},validations:{brBoletoBancario:function(a){return 47===a.length}}})},{"mask-factory":"mask-factory","string-mask":3}],6:[function(a,b,c){"use strict";var d=angular.module("ui.utils.masks.br",[a("../helpers")]).directive("uiBrBoletoBancarioMask",a("./boleto-bancario/boleto-bancario")).directive("uiBrCepMask",a("./cep/cep")).directive("uiBrCnpjMask",a("./cnpj/cnpj")).directive("uiBrCpfMask",a("./cpf/cpf")).directive("uiBrCpfcnpjMask",a("./cpf-cnpj/cpf-cnpj")).directive("uiBrIeMask",a("./inscricao-estadual/ie")).directive("uiNfeAccessKeyMask",a("./nfe/nfe")).directive("uiBrCarPlateMask",a("./car-plate/car-plate")).directive("uiBrPhoneNumber",a("./phone/br-phone"));b.exports=d.name},{"../helpers":25,"./boleto-bancario/boleto-bancario":5,"./car-plate/car-plate":7,"./cep/cep":8,"./cnpj/cnpj":9,"./cpf-cnpj/cpf-cnpj":10,"./cpf/cpf":11,"./inscricao-estadual/ie":12,"./nfe/nfe":13,"./phone/br-phone":14}],7:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=new d("UUU-0000");b.exports=e({clearValue:function(a){return a.replace(/[^a-zA-Z0-9]/g,"").slice(0,7)},format:function(a){return(f.apply(a)||"").replace(/[^a-zA-Z0-9]$/,"")},validations:{carPlate:function(a){return 7===a.length}}})},{"mask-factory":"mask-factory","string-mask":3}],8:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=new d("00000-000");b.exports=e({clearValue:function(a){return a.toString().replace(/[^0-9]/g,"").slice(0,8)},format:function(a){return(f.apply(a)||"").replace(/[^0-9]$/,"")},validations:{cep:function(a){return 8===a.length}}})},{"mask-factory":"mask-factory","string-mask":3}],9:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("br-validations"),f=a("mask-factory"),g=new d("00.000.000/0000-00");b.exports=f({clearValue:function(a){return a.replace(/[^\d]/g,"").slice(0,14)},format:function(a){return(g.apply(a)||"").trim().replace(/[^0-9]$/,"")},validations:{cnpj:function(a){return e.cnpj.validate(a)}}})},{"br-validations":1,"mask-factory":"mask-factory","string-mask":3}],10:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("br-validations"),f=a("mask-factory"),g=new d("00.000.000/0000-00"),h=new d("000.000.000-00");b.exports=f({clearValue:function(a){return a.replace(/[^\d]/g,"").slice(0,14)},format:function(a){var b;return b=a.length>11?g.apply(a):h.apply(a)||"",b.trim().replace(/[^0-9]$/,"")},validations:{cpf:function(a){return a.length>11||e.cpf.validate(a)},cnpj:function(a){return a.length<=11||e.cnpj.validate(a)}}})},{"br-validations":1,"mask-factory":"mask-factory","string-mask":3}],11:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("br-validations"),f=a("mask-factory"),g=new d("000.000.000-00");b.exports=f({clearValue:function(a){return a.replace(/[^\d]/g,"").slice(0,11)},format:function(a){return(g.apply(a)||"").trim().replace(/[^0-9]$/,"")},validations:{cpf:function(a){return e.cpf.validate(a)}}})},{"br-validations":1,"mask-factory":"mask-factory","string-mask":3}],12:[function(a,b,c){"use strict";function d(a){function b(a){return a?a.replace(/[^0-9]/g,""):a}function c(a,c){if(a&&g[a]){if("SP"===a&&/^P/i.test(c))return g.SP[1].mask;for(var d=g[a],e=0;d[e].chars&&d[e].chars<b(c).length&&e<d.length-1;)e++;return d[e].mask}}function d(a,d){var e=c(d,a);if(!e)return a;var f=e.process(b(a)),g=f.result||"";return g=g.trim().replace(/[^0-9]$/,""),"SP"===d&&/^p/i.test(a)?"P"+g:g}var g={AC:[{mask:new e("00.000.000/000-00")}],AL:[{mask:new e("000000000")}],AM:[{mask:new e("00.000.000-0")}],AP:[{mask:new e("000000000")}],BA:[{chars:8,mask:new e("000000-00")},{mask:new e("0000000-00")}],CE:[{mask:new e("00000000-0")}],DF:[{mask:new e("00000000000-00")}],ES:[{mask:new e("00000000-0")}],GO:[{mask:new e("00.000.000-0")}],MA:[{mask:new e("000000000")}],MG:[{mask:new e("000.000.000/0000")}],MS:[{mask:new e("000000000")}],MT:[{mask:new e("0000000000-0")}],PA:[{mask:new e("00-000000-0")}],PB:[{mask:new e("00000000-0")}],PE:[{chars:9,mask:new e("0000000-00")},{mask:new e("00.0.000.0000000-0")}],PI:[{mask:new e("000000000")}],PR:[{mask:new e("000.00000-00")}],RJ:[{mask:new e("00.000.00-0")}],RN:[{chars:9,mask:new e("00.000.000-0")},{mask:new e("00.0.000.000-0")}],RO:[{mask:new e("0000000000000-0")}],RR:[{mask:new e("00000000-0")}],RS:[{mask:new e("000/0000000")}],SC:[{mask:new e("000.000.000")}],SE:[{mask:new e("00000000-0")}],SP:[{mask:new e("000.000.000.000")},{mask:new e("-00000000.0/000")}],TO:[{mask:new e("00000000000")}]};return{restrict:"A",require:"ngModel",link:function(c,e,g,h){function i(a){return h.$isEmpty(a)?a:d(a,k)}function j(a){if(h.$isEmpty(a))return a;var c=d(a,k),e=b(c);return h.$viewValue!==c&&(h.$setViewValue(c),h.$render()),k&&"SP"===k.toUpperCase()&&/^p/i.test(a)?"P"+e:e}var k=(a(g.uiBrIeMask)(c)||"").toUpperCase();h.$formatters.push(i),h.$parsers.push(j),h.$validators.ie=function(a){return h.$isEmpty(a)||f.ie(k).validate(a)},c.$watch(g.uiBrIeMask,function(a){k=(a||"").toUpperCase(),j(h.$viewValue),h.$validate()})}}}var e=a("string-mask"),f=a("br-validations");d.$inject=["$parse"],b.exports=d},{"br-validations":1,"string-mask":3}],13:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=new d("0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000");b.exports=e({clearValue:function(a){return a.replace(/[^0-9]/g,"").slice(0,44)},format:function(a){return(f.apply(a)||"").replace(/[^0-9]$/,"")},validations:{nfeAccessKey:function(a){return 44===a.length}}})},{"mask-factory":"mask-factory",
"string-mask":3}],14:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f={areaCode:new d("(00) 0000-0000"),simple:new d("0000-0000")},g={areaCode:new d("(00) 00000-0000"),simple:new d("00000-0000")},h={areaCode:null,simple:new d("0000-000-0000")};b.exports=e({clearValue:function(a){return a.toString().replace(/[^0-9]/g,"").slice(0,11)},format:function(a){var b;return b=0===a.indexOf("0800")?h.simple.apply(a):a.length<9?f.simple.apply(a)||"":a.length<10?g.simple.apply(a):a.length<11?f.areaCode.apply(a):g.areaCode.apply(a),b.trim().replace(/[^0-9]$/,"")},getModelValue:function(a,b){var c=this.clearValue(a);return"number"===b?parseInt(c):c},validations:{brPhoneNumber:function(a){var b=a&&a.toString().length;return b>=8&&11>=b}}})},{"mask-factory":"mask-factory","string-mask":3}],15:[function(a,b,c){"use strict";var d=angular.module("ui.utils.masks.ch",[a("../helpers")]).directive("uiChPhoneNumber",a("./phone/ch-phone"));b.exports=d.name},{"../helpers":25,"./phone/ch-phone":16}],16:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=new d("+00 00 000 00 00");b.exports=e({clearValue:function(a){return a.toString().replace(/[^0-9]/g,"").slice(0,11)},format:function(a){var b;return b=f.apply(a)||"",b.trim().replace(/[^0-9]$/,"")},validations:{chPhoneNumber:function(a){var b=a&&a.toString().length;return 11===b}}})},{"mask-factory":"mask-factory","string-mask":3}],17:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=16,g=new d("0000 0000 0000 0000");b.exports=e({clearValue:function(a){return a.toString().replace(/[^0-9]/g,"").slice(0,f)},format:function(a){var b;return b=g.apply(a)||"",b.trim().replace(/[^0-9]$/,"")},validations:{creditCard:function(a){var b=a&&a.toString().length;return b===f}}})},{"mask-factory":"mask-factory","string-mask":3}],18:[function(a,b,c){"use strict";function d(a){return/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}\.[0-9]{3}([-+][0-9]{2}:[0-9]{2}|Z)$/.test(a.toString())}function e(a){var b={"pt-br":"DD/MM/YYYY",ru:"DD.MM.YYYY"},c=b[a.id]||"YYYY-MM-DD";return{restrict:"A",require:"ngModel",link:function(a,b,e,h){function i(a){if(h.$isEmpty(a))return a;var b=a;("object"==typeof a||d(a))&&(b=f(a).format(c)),b=b.replace(/[^0-9]/g,"");var e=j.apply(b)||"";return e.trim().replace(/[^0-9]$/,"")}e.parse=e.parse||"true",c=e.uiDateMask||c;var j=new g(c.replace(/[YMD]/g,"0"));h.$formatters.push(i),h.$parsers.push(function(a){if(h.$isEmpty(a))return a;var b=i(a);return h.$viewValue!==b&&(h.$setViewValue(b),h.$render()),"false"===e.parse?b:f(b,c).toDate()}),h.$validators.date=function(a,b){return h.$isEmpty(a)?!0:f(b,c).isValid()&&b.length===c.length}}}}var f=a("moment"),g=a("string-mask");e.$inject=["$locale"],b.exports=e},{moment:2,"string-mask":3}],19:[function(a,b,c){"use strict";var d=angular.module("ui.utils.masks.global",[a("../helpers")]).directive("uiDateMask",a("./date/date")).directive("uiMoneyMask",a("./money/money")).directive("uiNumberMask",a("./number/number")).directive("uiPercentageMask",a("./percentage/percentage")).directive("uiScientificNotationMask",a("./scientific-notation/scientific-notation")).directive("uiTimeMask",a("./time/time")).directive("uiCreditCard",a("./credit-card/credit-card"));b.exports=d.name},{"../helpers":25,"./credit-card/credit-card":17,"./date/date":18,"./money/money":20,"./number/number":21,"./percentage/percentage":22,"./scientific-notation/scientific-notation":23,"./time/time":24}],20:[function(a,b,c){"use strict";function d(a,b,c){return{restrict:"A",require:"ngModel",link:function(d,g,h,i){function j(a){var b=a>0?m+new Array(a+1).join("0"):"",c="#"+n+"##0"+b;return angular.isDefined(h.uiCurrencyAfter)?c+=p:c=p+c,new e(c,{reverse:!0})}function k(a){if(i.$isEmpty(a))return a;var b=angular.isDefined(h.uiNegativeNumber)&&0>a?"-":"",d=c.prepareNumberToFormatter(a,q);return angular.isDefined(h.uiCurrencyAfter)?b+s.apply(d)+o:b+o+s.apply(d)}function l(a){if(i.$isEmpty(a))return a;var b,c=a.replace(/[^\d]+/g,"");if(c=c.replace(/^[0]+([1-9])/,"$1"),c=c||"0",r&&angular.isDefined(h.uiCurrencyAfter)&&0!==c&&(c=c.substring(0,c.length-1),r=!1),b=angular.isDefined(h.uiCurrencyAfter)?s.apply(c)+o:o+s.apply(c),angular.isDefined(h.uiNegativeNumber)){var d="-"===a[0],e="-"===a.slice(-1);e^d&&c&&(c*=-1,b="-"+b)}return a!==b&&(i.$setViewValue(b),i.$render()),b?parseInt(b.replace(/[^\d\-]+/g,""))/Math.pow(10,q):null}var m=a.NUMBER_FORMATS.DECIMAL_SEP,n=a.NUMBER_FORMATS.GROUP_SEP,o=a.NUMBER_FORMATS.CURRENCY_SYM,p=" ",q=b(h.uiMoneyMask)(d),r=!1;g.bind("keydown keypress",function(a){r=8===a.which}),angular.isDefined(h.uiDecimalDelimiter)&&(m=h.uiDecimalDelimiter),angular.isDefined(h.uiThousandsDelimiter)&&(n=h.uiThousandsDelimiter),angular.isDefined(h.uiHideGroupSep)&&(n=""),angular.isDefined(h.uiHideSpace)&&(p=""),angular.isDefined(h.currencySymbol)&&(o=h.currencySymbol,0===h.currencySymbol.length&&(p="")),isNaN(q)&&(q=2),q=parseInt(q);var s=j(q);if(i.$formatters.push(k),i.$parsers.push(l),h.uiMoneyMask&&d.$watch(h.uiMoneyMask,function(a){q=isNaN(a)?2:a,q=parseInt(q),s=j(q),l(i.$viewValue)}),h.min){var t;i.$validators.min=function(a){return f.minNumber(i,a,t)},d.$watch(h.min,function(a){t=a,i.$validate()})}if(h.max){var u;i.$validators.max=function(a){return f.maxNumber(i,a,u)},d.$watch(h.max,function(a){u=a,i.$validate()})}}}}var e=a("string-mask"),f=a("validators");d.$inject=["$locale","$parse","PreFormatters"],b.exports=d},{"string-mask":3,validators:"validators"}],21:[function(a,b,c){"use strict";function d(a,b,c,d){return{restrict:"A",require:"ngModel",link:function(f,g,h,i){function j(a){if(i.$isEmpty(a))return null;var b=c.clearDelimitersAndLeadingZeros(a)||"0",d=p.apply(b),e=parseFloat(q.apply(b));if(angular.isDefined(h.uiNegativeNumber)){var f="-"===a[0],g="-"===a.slice(-1);(g^f||"-"===a)&&(e*=-1,d="-"+(0!==e?d:""))}return i.$viewValue!==d&&(i.$setViewValue(d),i.$render()),e}function k(a){if(i.$isEmpty(a))return a;var b=angular.isDefined(h.uiNegativeNumber)&&0>a?"-":"",d=c.prepareNumberToFormatter(a,o);return b+p.apply(d)}function l(){"-"===i.$viewValue&&(i.$setViewValue(""),i.$render())}var m=a.NUMBER_FORMATS.DECIMAL_SEP,n=a.NUMBER_FORMATS.GROUP_SEP,o=b(h.uiNumberMask)(f);angular.isDefined(h.uiHideGroupSep)&&(n=""),isNaN(o)&&(o=2);var p=d.viewMask(o,m,n),q=d.modelMask(o);if(g.on("blur",l),i.$formatters.push(k),i.$parsers.push(j),h.uiNumberMask&&f.$watch(h.uiNumberMask,function(a){o=isNaN(a)?2:a,p=d.viewMask(o,m,n),q=d.modelMask(o),j(i.$viewValue)}),h.min){var r;i.$validators.min=function(a){return e.minNumber(i,a,r)},f.$watch(h.min,function(a){r=a,i.$validate()})}if(h.max){var s;i.$validators.max=function(a){return e.maxNumber(i,a,s)},f.$watch(h.max,function(a){s=a,i.$validate()})}}}}var e=a("validators");d.$inject=["$locale","$parse","PreFormatters","NumberMasks"],b.exports=d},{validators:"validators"}],22:[function(a,b,c){"use strict";function d(a,b,c,d){function f(a,b,d){return c.clearDelimitersAndLeadingZeros((parseFloat(a)*d).toFixed(b))}return{restrict:"A",require:"ngModel",link:function(b,g,h,i){function j(a){if(i.$isEmpty(a))return a;var b=f(a,n,q.multiplier);return s.apply(b)+(o?"%":" %")}function k(a){if(i.$isEmpty(a))return null;var b=c.clearDelimitersAndLeadingZeros(a)||"0";a.length>1&&-1===a.indexOf("%")&&(b=b.slice(0,b.length-1)),p&&1===a.length&&"%"!==a&&(b="0");var d=o?"%":" %",e=s.apply(b)+d,f=parseFloat(t.apply(b));return i.$viewValue!==e&&(i.$setViewValue(e),i.$render()),f}var l=a.NUMBER_FORMATS.DECIMAL_SEP,m=a.NUMBER_FORMATS.GROUP_SEP,n=parseInt(h.uiPercentageMask),o=!1,p=!1;g.bind("keydown keypress",function(a){p=8===a.which});var q={multiplier:100,decimalMask:2};angular.isDefined(h.uiHideGroupSep)&&(m=""),angular.isDefined(h.uiHideSpace)&&(o=!0),angular.isDefined(h.uiPercentageValue)&&(q.multiplier=1,q.decimalMask=0),isNaN(n)&&(n=2);var r=n+q.decimalMask,s=d.viewMask(n,l,m),t=d.modelMask(r);if(i.$formatters.push(j),i.$parsers.push(k),h.uiPercentageMask&&b.$watch(h.uiPercentageMask,function(a){n=isNaN(a)?2:a,angular.isDefined(h.uiPercentageValue)&&(q.multiplier=1,q.decimalMask=0),r=n+q.decimalMask,s=d.viewMask(n,l,m),t=d.modelMask(r),k(i.$viewValue)}),h.min){var u;i.$validators.min=function(a){return e.minNumber(i,a,u)},b.$watch(h.min,function(a){u=a,i.$validate()})}if(h.max){var v;i.$validators.max=function(a){return e.maxNumber(i,a,v)},b.$watch(h.max,function(a){v=a,i.$validate()})}}}}var e=a("validators");d.$inject=["$locale","$parse","PreFormatters","NumberMasks"],b.exports=d},{validators:"validators"}],23:[function(a,b,c){"use strict";function d(a,b){function c(a){var b="0";if(a>0){b+=d;for(var c=0;a>c;c++)b+="0"}return new e(b,{reverse:!0})}var d=a.NUMBER_FORMATS.DECIMAL_SEP,f=2;return{restrict:"A",require:"ngModel",link:function(a,e,g,h){function i(a){var b=a.toString(),c=b.match(/(-?[0-9]*)[\.]?([0-9]*)?[Ee]?([\+-]?[0-9]*)?/);return{integerPartOfSignificand:c[1],decimalPartOfSignificand:c[2],exponent:0|c[3]}}function j(a){if(h.$isEmpty(a))return a;"string"==typeof a?a=a.replace(d,"."):"number"==typeof a&&(a=a.toExponential(l));var b,c,e=i(a),f=e.integerPartOfSignificand||0,g=f.toString();angular.isDefined(e.decimalPartOfSignificand)&&(g+=e.decimalPartOfSignificand);var j=(f>=1||-1>=f)&&(angular.isDefined(e.decimalPartOfSignificand)&&e.decimalPartOfSignificand.length>l||0===l&&g.length>=2);return j&&(c=g.slice(l+1,g.length),g=g.slice(0,l+1)),b=m.apply(g),0!==e.exponent&&(c=e.exponent),angular.isDefined(c)&&(b+="e"+c),b}function k(a){if(h.$isEmpty(a))return a;var b=j(a),c=parseFloat(b.replace(d,"."));return h.$viewValue!==b&&(h.$setViewValue(b),h.$render()),c}var l=b(g.uiScientificNotationMask)(a);isNaN(l)&&(l=f);var m=c(l);h.$formatters.push(j),h.$parsers.push(k),h.$validators.max=function(a){return h.$isEmpty(a)||a<Number.MAX_VALUE}}}}var e=a("string-mask");d.$inject=["$locale","$parse"],b.exports=d},{"string-mask":3}],24:[function(a,b,c){"use strict";var d=a("string-mask");b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,e){function f(a){if(e.$isEmpty(a))return a;var b=a.replace(/[^0-9]/g,"").slice(0,i)||"";return(j.apply(b)||"").replace(/[^0-9]$/,"")}var g="00:00:00";angular.isDefined(c.uiTimeMask)&&"short"===c.uiTimeMask&&(g="00:00");var h=g.length,i=g.replace(":","").length,j=new d(g);e.$formatters.push(f),e.$parsers.push(function(a){if(e.$isEmpty(a))return a;var b=f(a),c=b;return e.$viewValue!==b&&(e.$setViewValue(b),e.$render()),c}),e.$validators.time=function(a){if(e.$isEmpty(a))return!0;var b=a.toString().split(/:/).filter(function(a){return!!a}),c=parseInt(b[0]),d=parseInt(b[1]),f=parseInt(b[2]||0);return a.toString().length===h&&24>c&&60>d&&60>f}}}}},{"string-mask":3}],25:[function(a,b,c){"use strict";var d=a("string-mask"),e=angular.module("ui.utils.masks.helpers",[]);b.exports=e.name,e.factory("PreFormatters",[function(){function a(a){if("0"===a)return"0";var b=a.replace(/^-/,"").replace(/^0*/,"");return b.replace(/[^0-9]/g,"")}function b(b,c){return a(parseFloat(b).toFixed(c))}return{clearDelimitersAndLeadingZeros:a,prepareNumberToFormatter:b}}]).factory("NumberMasks",[function(){return{viewMask:function(a,b,c){var e="#"+c+"##0";if(a>0){e+=b;for(var f=0;a>f;f++)e+="0"}return new d(e,{reverse:!0})},modelMask:function(a){var b="###0";if(a>0){b+=".";for(var c=0;a>c;c++)b+="0"}return new d(b,{reverse:!0})}}}])},{"string-mask":3}],26:[function(a,b,c){"use strict";var d=a("string-mask"),e=a("mask-factory"),f=new d("(000) 000-0000"),g=new d("+00-00-000-000000");b.exports=e({clearValue:function(a){return a.toString().replace(/[^0-9]/g,"")},format:function(a){var b;return b=a.length<11?f.apply(a)||"":g.apply(a),b.trim().replace(/[^0-9]$/,"")},validations:{usPhoneNumber:function(a){return a&&a.toString().length>9}}})},{"mask-factory":"mask-factory","string-mask":3}],27:[function(a,b,c){"use strict";var d=angular.module("ui.utils.masks.us",[a("../helpers")]).directive("uiUsPhoneNumber",a("./phone/us-phone"));b.exports=d.name},{"../helpers":25,"./phone/us-phone":26}],"mask-factory":[function(a,b,c){"use strict";b.exports=function(a){return function(){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){e.$formatters.push(function(b){if(e.$isEmpty(b))return b;var c=a.clearValue(b);return a.format(c)}),e.$parsers.push(function(b){if(e.$isEmpty(b))return b;var c=a.clearValue(b),d=a.format(c);if(e.$viewValue!==d&&(e.$setViewValue(d),e.$render()),angular.isUndefined(a.getModelValue))return c;var f=typeof e.$modelValue;return a.getModelValue(d,f)}),angular.forEach(a.validations,function(a,b){e.$validators[b]=function(b,c){return e.$isEmpty(b)||a(b,c)}})}}}}},{}],validators:[function(a,b,c){"use strict";b.exports={maxNumber:function(a,b,c){var d=parseFloat(c,10);return a.$isEmpty(b)||isNaN(d)||d>=b},minNumber:function(a,b,c){var d=parseFloat(c,10);return a.$isEmpty(b)||isNaN(d)||b>=d}}},{}]},{},[4]),function(a,b){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a():b.rangy=a()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||"unknown"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,"body")?a.body:a.getElementsByTagName("body")[0]}function g(b){typeof console!=v&&a(console,"log")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h("Rangy is not supported in this environment. Reason: "+a,H.config.alertOnFail)}function j(a){h("Rangy warning: "+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,"createRange")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||"body"!=h.nodeName.toLowerCase())return void i("No body element found");if(h&&a(h,"createTextRange")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i("Neither Range nor TextRange are available");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(q){l="Rangy init listener threw an exception. Continuing. Detail: "+k(q),g(l)}}}function m(a,b,c){c&&(a+=" in module "+c.name),H.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(d){var e="Module '"+a+"' failed to load: "+k(d);g(e),d.stack&&g(d.stack)}}});return E[a]=d,d}function r(){}function s(){}var t="object",u="function",v="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],x=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],y=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],z=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:"1.3.0",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v?!0:rangyAutoInitialize}};H.fail=i,H.warn=j;var I;({}).hasOwnProperty?(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&"object"==typeof d&&null!==e&&"object"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty("toString")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}):i("hasOwnProperty not supported"),F||i("Rangy can only run in a browser"),function(){var a;if(F){var b=document.createElement("div");b.appendChild(document.createElement("span"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(d){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,"addEventListener")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,"attachEvent")?J=function(a,b,c){a.attachEvent("on"+b,c)}:i("Document does not have required addEventListener or attachEvent method"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,"createMissingNativeApi","shim")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],a=E[b],!(a&&a instanceof p))throw new Error("required module '"+b+"' not found");if(a.init(),!a.supported)throw new Error("required module '"+b+"' not supported")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){H.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return new Error("Error in Rangy "+this.name+" module: "+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule("DomUtil",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError("getDocument: no document found for node")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError("Cannot get a window object for node")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element")}function s(a){return a&&G.isHostMethod(a,"setTimeout")&&G.isHostObject(a,"document")}function t(a,b,c){var d;if(a?G.isHostProperty(a,"nodeType")?d=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+"(): Parameter must be a Window object or DOM node");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(i=g(a,d),!i)throw new Error("comparePoints error: nodes have no common ancestor");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return"[No node]";if(L&&w(a))return"[Broken node]";if(k(a))return'"'+a.data+'"';if(1==a.nodeType){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement("div");e.contentEditable=""+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var F="undefined",G=a.util,H=G.getBody;G.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),G.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var I=document.createElement("div");G.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!G.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),G.isHostProperty(I,"innerHTML")||b.fail("Element is missing innerHTML property");var J=document.createTextNode("test");G.areHostMethods(J,["splitText","deleteData","insertData","appendData","cloneNode"]||!G.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!G.areHostProperties(J,["data"]))||b.fail("Incomplete Text Node implementation");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement("b");b.innerHTML="1";var c=b.firstChild;b.innerHTML="<br />",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+x(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule("DomRange",["DomUtil"],function(a,b){function c(a,b){return 3!=a.nodeType&&(P(a,b.startContainer)||P(a,b.endContainer))}function d(a){return a.document||Q(a.startContainer)}function e(a){return W(a.startContainer)}function f(a){return new L(a.parentNode,O(a))}function g(a){return new L(a.parentNode,O(a)+1)}function h(a,b,c){var d=11==a.nodeType?a.firstChild:a;return N(b)?c==b.length?J.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:S(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function i(a,b,c){if(z(a),z(b),d(b)!=d(a))throw new M("WRONG_DOCUMENT_ERR");var e=R(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=R(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=e&&f>=0:0>e&&f>0}function j(a){for(var b,c,e,f=d(a.range).createDocumentFragment();c=a.next();){if(b=a.isPartiallySelectedSubtree(),c=c.cloneNode(!b),b&&(e=a.getSubtreeIterator(),c.appendChild(j(e)),e.detach()),10==c.nodeType)throw new M("HIERARCHY_REQUEST_ERR");f.appendChild(c)}return f}function k(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),k(g,b,c),g.detach(),c.stop)return}else for(d=J.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function l(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),l(b),b.detach()):a.remove()}function m(a){for(var b,c,e=d(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),c=a.getSubtreeIterator(),b.appendChild(m(c)),c.detach()):a.remove(),10==b.nodeType)throw new M("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function n(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp("^("+b.join("|")+")$"));var g=[];return k(new p(a,!1),function(b){if((!e||d.test(b.nodeType))&&(!f||c(b))){var h=a.startContainer;if(b!=h||!N(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&N(i)&&0==a.endOffset||g.push(b)}}}),g}function o(a){var b="undefined"==typeof a.getName?"Range":a.getName();return"["+b+"("+J.inspectNode(a.startContainer)+":"+a.startOffset+", "+J.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function p(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&N(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||N(this.sc)?T(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||N(this.ec)?T(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,V(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(ea(a,b))throw new M("INVALID_NODE_TYPE_ERR")}function s(a,b){if(!V(b,a.nodeType))throw new M("INVALID_NODE_TYPE_ERR")}function t(a,b){if(0>b||b>(N(a)?a.length:a.childNodes.length))throw new M("INDEX_SIZE_ERR")}function u(a,b){if(ca(a,!0)!==ca(b,!0))throw new M("WRONG_DOCUMENT_ERR")}function v(a){if(da(a,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function w(a,b){if(!a)throw new M(b)}function x(a,b){return b<=(N(a)?a.length:a.childNodes.length)}function y(a){return!!a.startContainer&&!!a.endContainer&&!(X&&(J.isBrokenNode(a.startContainer)||J.isBrokenNode(a.endContainer)))&&W(a.startContainer)==W(a.endContainer)&&x(a.startContainer,a.startOffset)&&x(a.endContainer,a.endOffset)}function z(a){if(!y(a))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")")}function A(a,b){z(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;N(e)&&f>0&&f<e.length&&S(e,f,b),N(c)&&d>0&&d<c.length&&(c=S(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=O(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function B(a){z(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function C(a){a.START_TO_START=ka,a.START_TO_END=la,a.END_TO_END=ma,a.END_TO_START=na,a.NODE_BEFORE=oa,a.NODE_AFTER=pa,a.NODE_BEFORE_AND_AFTER=qa,a.NODE_INSIDE=ra}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){z(this);var c,d,e=this.startContainer,f=this.startOffset,h=this.commonAncestorContainer,i=new p(this,!0);e!==h&&(c=T(e,h,!0),d=g(c),e=d.node,f=d.offset),k(i,v),i.reset();var j=a(i);return i.detach(),b(this,e,f,e,f),j}}function F(b,d){function e(a,b){return function(c){s(c,Z),s(W(c),$);var d=(a?f:g)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((W(b)!=W(e)||1==R(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((W(b)!=W(e)||-1==R(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,b.prototype=new j,K.extend(b.prototype,{setStart:function(a,b){r(a,!0),t(a,b),h(this,a,b)},setEnd:function(a,b){r(a,!0),t(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this["set"+(c?"Start":"End")](a,b)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(a){z(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){r(a,!0),d(this,a,0,a,U(a))},selectNode:function(a){r(a,!1),s(a,Z);var b=f(a),c=g(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(m,d),deleteContents:E(l,d),canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},splitBoundaries:function(){A(this)},splitBoundariesPreservingPositions:function(a){A(this,a)},normalizeBoundaries:function(){z(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),Y(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),Y(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=O(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(N(e))f==e.length?g(e):0==f&&(a=e.previousSibling,a&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),Y(e),e=a));else{if(f>0){var j=e.childNodes[f-1];j&&N(j)&&g(j)}i=!this.collapsed}if(i){if(N(b))0==c?h(b):c==b.length&&(a=b.nextSibling,a&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),Y(a)));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&N(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){r(a,!0),t(a,b),this.setStartAndEnd(a,b)}}),D(b)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:J.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=J.getDocument(b),G(a)}function I(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,
this.endOffset=0,this.document=a,G(this)}var J=a.dom,K=a.util,L=J.DomPosition,M=a.DOMException,N=J.isCharacterDataNode,O=J.getNodeIndex,P=J.isOrIsAncestorOf,Q=J.getDocument,R=J.comparePoints,S=J.splitDataNode,T=J.getClosestAncestorIn,U=J.getNodeLength,V=J.arrayContains,W=J.getRootContainer,X=a.features.crashyTextNodes,Y=J.removeNode;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,N(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!N(c)||c!==this.sc&&c!==this.ec?c.parentNode&&Y(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return c(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new I(d(this.range));var b=this._current,c=b,e=0,f=b,g=U(b);P(b,this.sc)&&(c=this.sc,e=this.so),P(b,this.ec)&&(f=this.ec,g=this.eo),H(a,c,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],$=[2,9,11],_=[5,6,10,12],aa=[1,3,4,5,7,8,10,11],ba=[1,3,4,5,7,8],ca=q([9,11]),da=q(_),ea=q([6,10,12]),fa=document.createElement("style"),ga=!1;try{fa.innerHTML="<b>x</b>",ga=3==fa.firstChild.nodeType}catch(ha){}a.features.htmlParsingConforms=ga;var ia=ga?function(a){var b=this.startContainer,c=Q(b);if(!b)throw new M("INVALID_STATE_ERR");var d=null;return 1==b.nodeType?d=b:N(b)&&(d=J.parentElement(b)),d=null===d||"HTML"==d.nodeName&&J.isHtmlNamespace(Q(d).documentElement)&&J.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1),d.innerHTML=a,J.fragmentFromNodeChildren(d)}:function(a){var b=d(this),c=b.createElement("body");return c.innerHTML=a,J.fragmentFromNodeChildren(c)},ja=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ka=0,la=1,ma=2,na=3,oa=0,pa=1,qa=2,ra=3;K.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){z(this),u(this.startContainer,b.startContainer);var c,d,e,f,g=a==na||a==ka?"start":"end",h=a==la||a==ka?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],R(c,d,e,f)},insertNode:function(a){if(z(this),s(a,aa),v(this.startContainer),P(a,this.startContainer))throw new M("HIERARCHY_REQUEST_ERR");var b=h(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){z(this);var a,b;if(this.collapsed)return d(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=d(this).createDocumentFragment(),b.appendChild(a),b;var c=new p(this,!0);return a=j(c),c.detach(),a},canSurroundContents:function(){z(this),v(this.startContainer),v(this.endContainer);var a=new p(this,!0),b=a._first&&c(a._first,this)||a._last&&c(a._last,this);return a.detach(),!b},surroundContents:function(a){if(s(a,ba),!this.canSurroundContents())throw new M("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);h(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){z(this);for(var a,b=new I(d(this)),c=ja.length;c--;)a=ja[c],b[a]=this[a];return b},toString:function(){z(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new p(this,!0);return k(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){z(this);var b=a.parentNode,c=O(a);if(!b)throw new M("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?qa:oa:e>0?pa:ra},comparePoint:function(a,b){return z(this),w(a,"HIERARCHY_REQUEST_ERR"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)<0?-1:R(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:ia,toHtml:function(){return B(this)},intersectsNode:function(a,b){if(z(this),W(a)!=e(this))return!1;var c=a.parentNode,d=O(a);if(!c)return!0;var f=R(c,d,this.endContainer,this.endOffset),g=R(c,d+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return z(this),w(a,"HIERARCHY_REQUEST_ERR"),u(a,this.startContainer),R(a,b,this.startContainer,this.startOffset)>=0&&R(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return i(this,a,!1)},intersectsOrTouchesRange:function(a){return i(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=R(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=R(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==R(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==R(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new M("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==ra},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,U(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a)},getNodes:function(a,b){return z(this),n(this,a,b)},getDocument:function(){return d(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var c=d(this),e=a.createRange(c);b=b||J.getBody(c),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return"DomRange"},equals:function(a){return I.rangesEqual(this,a)},isValid:function(){return y(this)},inspect:function(){return o(this)},detach:function(){}}),F(I,H),K.extend(I,{rangeProperties:ja,RangeIterator:p,copyComparisonConstants:D,createPrototypeRange:F,inspect:o,toHtml:B,getRangeDocument:d,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=I}),H.createCoreModule("WrappedRange",["DomRange"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&!function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode("test");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(p){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l("setStartBefore","setEndBefore"),k.setStartAfter=l("setStartAfter","setEndAfter"),k.setEndBefore=l("setEndBefore","setStartBefore"),k.setEndAfter=l("setEndAfter","setStartAfter"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),-1==o.compareBoundaryPoints(o.START_TO_END,q)&&1==o.compareBoundaryPoints(o.END_TO_START,q)?k.compareBoundaryPoints=function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:k.compareBoundaryPoints=function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement("div");r.innerHTML="123";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),"13"==s.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,"createContextualFragment")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return"WrappedRange"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints("StartToEnd",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement("span");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?"StartToStart":"StartToEnd",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;;){if(v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(r,a),0==m||s==u)break;if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?"EndToStart":"EndToEnd",a);var w;if(/[\r\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\r\n/g,"\r").length;for(w=x.moveStart("character",y);-1==(m=x.compareEndPoints("StartToEnd",x));)w++,x.moveStart("character",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement("span"),f.innerHTML="&#feff;",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?"moveStart":"moveEnd"]("character",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint("StartToStart",b),d.setEndPoint("EndToEnd",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a("return this;")()}(Function);"undefined"==typeof q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,"createRange"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,"createRangyRange"),new h(a)},f.createAliasForDeprecatedMethod(a,"createIframeRange","createRange"),f.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange"),a.addShimListener(function(b){var c=b.document;"undefined"==typeof c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function c(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,"getWinSelection").getSelection()}function f(a){return d(a,"getDocSelection").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return c[0]}function n(a){return!!a&&"undefined"!=typeof a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,"None"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=ba.length;e--;)if(c=ba[e],d=c.selection,"deleteAll"==b)s(d);else if(c.win==a)return"delete"==b?(ba.splice(e,1),!0):d;return"deleteAll"==b&&(ba.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(i){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H("WRONG_DOCUMENT_ERR")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e["set"+(b?"Start":"End")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.config.checkSelectionRanges=!0;var y,z,A="boolean",B="number",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K="Control",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,"getSelection"),P=D.isHostObject(document,"selection");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,"isSelectionValid").document,c=b.selection;return"None"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail("Neither document.selection or window.getSelection() detected."),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail("Native selection was null (possibly issue 138?)"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,["anchorNode","focusNode","anchorOffset","focusOffset"]);J.selectionHasAnchorAndFocus=U;var V=E(R,"extend");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,["addRange","getRangeAt","removeAllRanges"])&&typeof R.rangeCount==B&&J.implementsDomRange&&!function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,"",!1),j=i.appendChild(document.createTextNode("   ")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,"createControlRange")&&($=T.createControlRange(),D.areHostProperties($,["item","add"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var aa;E(R,"getRangeAt")?aa=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&&(aa=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var ba=[],ca=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,"getNativeSelection");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),ba.push({win:a,selection:b})),b};a.getSelection=ca,D.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");var da=r.prototype;if(!Q&&U&&D.areHostMethods(R,["removeAllRanges","addRange"])){da.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var ea=function(a,b){Z(a.nativeSelection,b),a.refresh()};W?da.addRange=function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)ea(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(g){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var i=aa(this.nativeSelection,this.rangeCount-1);i&&!N(i,b)&&(b=new G(i))}this._ranges[this.rangeCount-1]=b,h(this,b,ha(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:da.addRange=function(a,b){c(b)&&V?ea(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},da.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,"empty")&&E(S,"select")&&_&&Q))return b.fail("No means of selecting a Range or TextRange was found"),!1;da.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){var c=M(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}j(this)},da.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},da.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}da.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var fa;if(Q)fa=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,"getRangeAt")&&typeof R.rangeCount==B)fa=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],ha(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;fa=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=aa(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}da.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fa(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var ga=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};_&&P?da.removeRange=function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else ga(this,a)}:da.removeRange=function(a){ga(this,a)};var ha;!Q&&U&&J.implementsDomRange?(ha=g,da.isBackward=function(){return ha(this)}):ha=da.isBackward=function(){return!1},da.isBackwards=da.isBackward,da.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=""+this._ranges[b];return a.join("")},da.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},da.collapseToStart=function(){if(!this.rangeCount)throw new H("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},da.collapseToEnd=function(){if(!this.rangeCount)throw new H("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},da.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},da.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},da.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},da.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},da.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},da.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},da.setStart=w(!0),da.setEnd=w(!1),a.rangePrototype.select=function(a){ca(this.getDocument()).setSingleRange(this,a)},da.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)},da.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},da.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}},da.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],"backward"):this.setRanges(e)},da.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},da.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},da.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join("")},J.implementsTextRange&&(da.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range")}),da.getName=function(){return"WrappedSelection"},da.inspect=function(){return x(this)},da.detach=function(){t(this.win,"delete"),s(this)},r.detachAll=function(){t(null,"deleteAll")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=da,a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return ca(a)}),a=null})});var M=!1,N=function(a){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&("complete"==document.readyState?N():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",N,!1),J(window,"load",N))),H},this),function(a,b){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(b.rangy)}(function(a){return a.createModule("ClassApplier",["WrappedSelection"],function(a,b){function c(a,b){for(var c in a)if(a.hasOwnProperty(c)&&b(c,a[c])===!1)return!1;return!0}function d(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function e(a,b){return!!a&&new RegExp("(?:^|\\s)"+b+"(?:\\s|$)").test(a)}function f(a,b){if("object"==typeof a.classList)return a.classList.contains(b);var c="string"==typeof a.className,d=c?a.className:a.getAttribute("class");return e(d,b)}function g(a,b){if("object"==typeof a.classList)a.classList.add(b);else{var c="string"==typeof a.className,d=c?a.className:a.getAttribute("class");d?e(d,b)||(d+=" "+b):d=b,c?a.className=d:a.setAttribute("class",d)}}function h(a){var b="string"==typeof a.className;return b?a.className:a.getAttribute("class")}function j(a){return a&&a.split(/\s+/).sort().join(" ")}function k(a){return j(h(a))}function l(a,b){return k(a)==k(b)}function m(a,b){for(var c=b.split(/\s+/),e=0,g=c.length;g>e;++e)if(!f(a,d(c[e])))return!1;return!0}function n(a){var b=a.parentNode;return b&&1==b.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(b.nodeName)}function o(a,b,c,d,e){var f=a.node,g=a.offset,h=f,i=g;f==d&&g>e&&++i,f!=b||g!=c&&g!=c+1||(h=d,i+=e-c),f==b&&g>c+1&&--i,a.node=h,a.offset=i}function p(a,b,c){a.node==b&&a.offset>c&&--a.offset}function q(a,b,c,d){-1==c&&(c=b.childNodes.length);var e=a.parentNode,f=L.getNodeIndex(a);P(d,function(a){o(a,e,f,b,c)}),b.childNodes.length==c?b.appendChild(a):b.insertBefore(a,b.childNodes[c])}function r(a,b){var c=a.parentNode,d=L.getNodeIndex(a);P(b,function(a){p(a,c,d)}),L.removeNode(a)}function s(a,b,c,d,e){for(var f,g=[];f=a.firstChild;)q(f,b,c++,e),g.push(f);return d&&r(a,e),g}function t(a,b){return s(a,a.parentNode,L.getNodeIndex(a),!0,b)}function u(a,b){var c=a.cloneRange();c.selectNodeContents(b);var d=c.intersection(a),e=d?d.toString():"";return""!=e}function v(a){for(var b,c=a.getNodes([3]),d=0;(b=c[d])&&!u(a,b);)++d;for(var e=c.length-1;(b=c[e])&&!u(a,b);)--e;return c.slice(d,e+1)}function w(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,"class"!=e){if(d=b.attributes.getNamedItem(e),null===c!=(null===d))return!1;if(c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function x(a,b){for(var c,d=0,e=a.attributes.length;e>d;++d)if(c=a.attributes[d].name,(!b||!N(b,c))&&a.attributes[d].specified&&"class"!=c)return!0;return!1}function y(a){var b;return a&&1==a.nodeType&&((b=a.parentNode)&&9==b.nodeType&&"on"==b.designMode||U(a)&&!U(a.parentNode))}function z(a){return(U(a)||1!=a.nodeType&&U(a.parentNode))&&!y(a)}function A(a){return a&&1==a.nodeType&&!V.test(T(a,"display"))}function B(a){if(0==a.data.length)return!0;if(W.test(a.data))return!1;var b=T(a.parentNode,"whiteSpace");switch(b){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(a.data))return!1}return A(a.previousSibling)||A(a.nextSibling)}function C(a){var b,c,d=[];for(b=0;c=a[b++];)d.push(new M(c.startContainer,c.startOffset),new M(c.endContainer,c.endOffset));return d}function D(a,b){for(var c,d,e,f=0,g=a.length;g>f;++f)c=a[f],d=b[2*f],e=b[2*f+1],c.setStartAndEnd(d.node,d.offset,e.node,e.offset)}function E(a,b){return L.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:b>0&&b<a.childNodes.length}function F(a,c,d,e){var f,g,h=0==d;if(L.isAncestorOf(c,a))return a;if(L.isCharacterDataNode(c)){var i=L.getNodeIndex(c);if(0==d)d=i;else{
if(d!=c.length)throw b.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+d+" in "+c.data);d=i+1}c=c.parentNode}if(E(c,d)){f=c.cloneNode(!1),g=c.parentNode,f.id&&f.removeAttribute("id");for(var j,k=0;j=c.childNodes[d];)q(j,f,k++,e);return q(f,g,L.getNodeIndex(c)+1,e),c==a?f:F(a,g,L.getNodeIndex(f),e)}if(a!=c){f=c.parentNode;var l=L.getNodeIndex(c);return h||l++,F(a,f,l,e)}return a}function G(a,b){return a.namespaceURI==b.namespaceURI&&a.tagName.toLowerCase()==b.tagName.toLowerCase()&&l(a,b)&&w(a,b)&&"inline"==T(a,"display")&&"inline"==T(b,"display")}function H(a){var b=a?"nextSibling":"previousSibling";return function(c,d){var e=c.parentNode,f=c[b];if(f){if(f&&3==f.nodeType)return f}else if(d&&(f=e[b],f&&1==f.nodeType&&G(e,f))){var g=f[a?"firstChild":"lastChild"];if(g&&3==g.nodeType)return g}return null}}function I(a){this.isElementMerge=1==a.nodeType,this.textNodes=[];var b=this.isElementMerge?a.lastChild:a;b&&(this.textNodes[0]=b)}function J(a,b,e){var f,g,h,i,k=this;k.cssClass=k.className=a;var l=null,m={};if("object"==typeof b&&null!==b){for("undefined"!=typeof b.elementTagName&&(b.elementTagName=b.elementTagName.toLowerCase()),e=b.tagNames,l=b.elementProperties,m=b.elementAttributes,g=0;i=Z[g++];)b.hasOwnProperty(i)&&(k[i]=b[i]);f=b.normalize}else f=b;k.normalize="undefined"==typeof f?!0:f,k.attrExceptions=[];var n=document.createElement(k.elementTagName);k.elementProperties=k.copyPropertiesToElement(l,n,!0),c(m,function(a,b){k.attrExceptions.push(a),m[a]=""+b}),k.elementAttributes=m,k.elementSortedClassName=k.elementProperties.hasOwnProperty("className")?j(k.elementProperties.className+" "+a):a,k.applyToAnyTagName=!1;var o=typeof e;if("string"==o)"*"==e?k.applyToAnyTagName=!0:k.tagNames=d(e.toLowerCase()).split(/\s*,\s*/);else if("object"==o&&"number"==typeof e.length)for(k.tagNames=[],g=0,h=e.length;h>g;++g)"*"==e[g]?k.applyToAnyTagName=!0:k.tagNames.push(e[g].toLowerCase());else k.tagNames=[k.elementTagName]}function K(a,b,c){return new J(a,b,c)}var L=a.dom,M=L.DomPosition,N=L.arrayContains,O=a.util,P=O.forEach,Q="span",R=O.isHostMethod(document,"createElementNS"),S=function(){function a(a,b,c){return b&&c?" ":""}return function(b,c){if("object"==typeof b.classList)b.classList.remove(c);else{var d="string"==typeof b.className,e=d?b.className:b.getAttribute("class");e=e.replace(new RegExp("(^|\\s)"+c+"(\\s|$)"),a),d?b.className=e:b.setAttribute("class",e)}}}(),T=L.getComputedStyleProperty,U=function(){var a=document.createElement("div");return"boolean"==typeof a.isContentEditable?function(a){return a&&1==a.nodeType&&a.isContentEditable}:function(a){return a&&1==a.nodeType&&"false"!=a.contentEditable?"true"==a.contentEditable||U(a.parentNode):!1}}(),V=/^inline(-block|-table)?$/i,W=/[^\r\n\t\f \u200B]/,X=H(!1),Y=H(!0);I.prototype={doMerge:function(a){var b=this.textNodes,c=b[0];if(b.length>1){var d,e=L.getNodeIndex(c),f=[],g=0;P(b,function(b,h){d=b.parentNode,h>0&&(d.removeChild(b),d.hasChildNodes()||L.removeNode(d),a&&P(a,function(a){a.node==b&&(a.node=c,a.offset+=g),a.node==d&&a.offset>e&&(--a.offset,a.offset==e+1&&h<len-1&&(a.node=c,a.offset=g))})),f[h]=b.data,g+=b.data.length}),c.data=f.join("")}return c.data},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){var a=[];return P(this.textNodes,function(b,c){a[c]="'"+b.data+"'"}),"[Merge("+a.join(",")+")]"}};var Z=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],$={};J.prototype={elementTagName:Q,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(a,b,c){var d,e,f,h,i,k,l={};for(var m in a)if(a.hasOwnProperty(m))if(h=a[m],i=b[m],"className"==m)g(b,h),g(b,this.className),b[m]=j(b[m]),c&&(l[m]=h);else if("style"==m){e=i,c&&(l[m]=f={});for(d in a[m])a[m].hasOwnProperty(d)&&(e[d]=h[d],c&&(f[d]=e[d]));this.attrExceptions.push(m)}else b[m]=h,c&&(l[m]=b[m],k=$.hasOwnProperty(m)?$[m]:m,this.attrExceptions.push(k));return c?l:""},copyAttributesToElement:function(a,b){for(var c in a)a.hasOwnProperty(c)&&!/^class(?:Name)?$/i.test(c)&&b.setAttribute(c,a[c])},appliesToElement:function(a){return N(this.tagNames,a.tagName.toLowerCase())},getEmptyElements:function(a){var b=this;return a.getNodes([1],function(a){return b.appliesToElement(a)&&!a.hasChildNodes()})},hasClass:function(a){return 1==a.nodeType&&(this.applyToAnyTagName||this.appliesToElement(a))&&f(a,this.className)},getSelfOrAncestorWithClass:function(a){for(;a;){if(this.hasClass(a))return a;a=a.parentNode}return null},isModifiable:function(a){return!this.applyToEditableOnly||z(a)},isIgnorableWhiteSpaceNode:function(a){return this.ignoreWhiteSpace&&a&&3==a.nodeType&&B(a)},postApply:function(a,b,c,d){var e,f,g=a[0],h=a[a.length-1],j=[],k=g,l=h,m=0,n=h.length;P(a,function(a){f=X(a,!d),f?(e||(e=new I(f),j.push(e)),e.textNodes.push(a),a===g&&(k=e.textNodes[0],m=k.length),a===h&&(l=e.textNodes[0],n=e.getLength())):e=null});var o=Y(h,!d);if(o&&(e||(e=new I(h),j.push(e)),e.textNodes.push(o)),j.length){for(i=0,len=j.length;i<len;++i)j[i].doMerge(c);b.setStartAndEnd(k,m,l,n)}},createContainer:function(a){var b,c=L.getDocument(a),d=R&&!L.isHtmlNamespace(a)&&(b=a.namespaceURI)?c.createElementNS(a.namespaceURI,this.elementTagName):c.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,d,!1),this.copyAttributesToElement(this.elementAttributes,d),g(d,this.className),this.onElementCreate&&this.onElementCreate(d,this),d},elementHasProperties:function(a,b){var d=this;return c(b,function(b,c){if("className"==b)return m(a,c);if("object"==typeof c){if(!d.elementHasProperties(a[b],c))return!1}else if(a[b]!==c)return!1})},elementHasAttributes:function(a,b){return c(b,function(b,c){return a.getAttribute(b)!==c?!1:void 0})},applyToTextNode:function(a,b){if(n(a)){var c=a.parentNode;if(1==c.childNodes.length&&this.useExistingElements&&this.appliesToElement(c)&&this.elementHasProperties(c,this.elementProperties)&&this.elementHasAttributes(c,this.elementAttributes))g(c,this.className);else{var d=a.parentNode,e=this.createContainer(d);d.insertBefore(e,a),e.appendChild(a)}}},isRemovable:function(a){return a.tagName.toLowerCase()==this.elementTagName&&k(a)==this.elementSortedClassName&&this.elementHasProperties(a,this.elementProperties)&&!x(a,this.attrExceptions)&&this.elementHasAttributes(a,this.elementAttributes)&&this.isModifiable(a)},isEmptyContainer:function(a){var b=a.childNodes.length;return 1==a.nodeType&&this.isRemovable(a)&&(0==b||1==b&&this.isEmptyContainer(a.firstChild))},removeEmptyContainers:function(a){var b=this,c=a.getNodes([1],function(a){return b.isEmptyContainer(a)}),d=[a],e=C(d);P(c,function(a){r(a,e)}),D(d,e)},undoToTextNode:function(a,b,c,d){if(!b.containsNode(c)){var e=b.cloneRange();e.selectNode(c),e.isPointInRange(b.endContainer,b.endOffset)&&(F(c,b.endContainer,b.endOffset,d),b.setEndAfter(c)),e.isPointInRange(b.startContainer,b.startOffset)&&(c=F(c,b.startContainer,b.startOffset,d))}this.isRemovable(c)?t(c,d):S(c,this.className)},splitAncestorWithClass:function(a,b,c){var d=this.getSelfOrAncestorWithClass(a);d&&F(d,a,b,c)},undoToAncestor:function(a,b){this.isRemovable(a)?t(a,b):S(a,this.className)},applyToRange:function(a,b){var c=this;b=b||[];var d=C(b||[]);a.splitBoundariesPreservingPositions(d),c.removeEmptyElements&&c.removeEmptyContainers(a);var e=v(a);if(e.length){P(e,function(a){c.isIgnorableWhiteSpaceNode(a)||c.getSelfOrAncestorWithClass(a)||!c.isModifiable(a)||c.applyToTextNode(a,d)});var f=e[e.length-1];a.setStartAndEnd(e[0],0,f,f.length),c.normalize&&c.postApply(e,a,d,!1),D(b,d)}var h=c.getEmptyElements(a);P(h,function(a){g(a,c.className)})},applyToRanges:function(a){for(var b=a.length;b--;)this.applyToRange(a[b],a);return a},applyToSelection:function(b){var c=a.getSelection(b);c.setRanges(this.applyToRanges(c.getAllRanges()))},undoToRange:function(a,b){var c=this;b=b||[];var d=C(b);a.splitBoundariesPreservingPositions(d),c.removeEmptyElements&&c.removeEmptyContainers(a,d);var e,f,g=v(a),h=g[g.length-1];if(g.length){c.splitAncestorWithClass(a.endContainer,a.endOffset,d),c.splitAncestorWithClass(a.startContainer,a.startOffset,d);for(var i=0,j=g.length;j>i;++i)e=g[i],f=c.getSelfOrAncestorWithClass(e),f&&c.isModifiable(e)&&c.undoToAncestor(f,d);a.setStartAndEnd(g[0],0,h,h.length),c.normalize&&c.postApply(g,a,d,!0),D(b,d)}var k=c.getEmptyElements(a);P(k,function(a){S(a,c.className)})},undoToRanges:function(a){for(var b=a.length;b--;)this.undoToRange(a[b],a);return a},undoToSelection:function(b){var c=a.getSelection(b),d=a.getSelection(b).getAllRanges();this.undoToRanges(d),c.setRanges(d)},isAppliedToRange:function(a){if(a.collapsed||""==a.toString())return!!this.getSelfOrAncestorWithClass(a.commonAncestorContainer);var b=a.getNodes([3]);if(b.length)for(var c,d=0;c=b[d++];)if(!this.isIgnorableWhiteSpaceNode(c)&&u(a,c)&&this.isModifiable(c)&&!this.getSelfOrAncestorWithClass(c))return!1;return!0},isAppliedToRanges:function(a){var b=a.length;if(0==b)return!1;for(;b--;)if(!this.isAppliedToRange(a[b]))return!1;return!0},isAppliedToSelection:function(b){var c=a.getSelection(b);return this.isAppliedToRanges(c.getAllRanges())},toggleRange:function(a){this.isAppliedToRange(a)?this.undoToRange(a):this.applyToRange(a)},toggleSelection:function(a){this.isAppliedToSelection(a)?this.undoToSelection(a):this.applyToSelection(a)},getElementsWithClassIntersectingRange:function(a){var b=[],c=this;return a.getNodes([3],function(a){var d=c.getSelfOrAncestorWithClass(a);d&&!N(b,d)&&b.push(d)}),b},detach:function(){}},J.util={hasClass:f,addClass:g,removeClass:S,getClass:h,hasSameClasses:l,hasAllClasses:m,replaceWithOwnChildren:t,elementsHaveSameNonClassAttributes:w,elementHasNonClassAttributes:x,splitNodeAt:F,isEditableElement:U,isEditingHost:y,isEditable:z},a.CssClassApplier=a.ClassApplier=J,a.createClassApplier=K,O.createAliasForDeprecatedMethod(a,"createCssClassApplier","createClassApplier",b)}),a},this),function(a,b){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(b.rangy)}(function(a){return a.createModule("Highlighter",["ClassApplier"],function(a,b){function c(a,b){return a.characterRange.start-b.characterRange.start}function d(a,b){return b?a.getElementById(b):m(a)}function e(a,b){this.type=a,this.converterCreator=b}function f(a,b){q[a]=new e(a,b)}function g(a){var b=q[a];if(b instanceof e)return b.create();throw new Error("Highlighter type '"+a+"' is not valid")}function h(a,b){this.start=a,this.end=b}function i(a,b,c,d,e,f){e?(this.id=e,p=Math.max(p,e+1)):this.id=p++,this.characterRange=b,this.doc=a,this.classApplier=c,this.converter=d,this.containerElementId=f||null,this.applied=!1}function j(a,b){b=b||"textContent",this.doc=a||document,this.classAppliers={},this.highlights=[],this.converter=g(b)}var k=a.dom,l=k.arrayContains,m=k.getBody,n=a.util.createOptions,o=a.util.forEach,p=1,q={};e.prototype.create=function(){var a=this.converterCreator();return a.type=this.type,a},a.registerHighlighterType=f,h.prototype={intersects:function(a){return this.start<a.end&&this.end>a.start},isContiguousWith:function(a){return this.start==a.end||this.end==a.start},union:function(a){return new h(Math.min(this.start,a.start),Math.max(this.end,a.end))},intersection:function(a){return new h(Math.max(this.start,a.start),Math.min(this.end,a.end))},getComplements:function(a){var b=[];if(this.start>=a.start){if(this.end<=a.end)return[];b.push(new h(a.end,this.end))}else b.push(new h(this.start,Math.min(this.end,a.start))),this.end>a.end&&b.push(new h(a.end,this.end));return b},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},h.fromCharacterRange=function(a){return new h(a.start,a.end)};var r={rangeToCharacterRange:function(a,b){var c=a.getBookmark(b);return new h(c.start,c.end)},characterRangeToRange:function(b,c,d){var e=a.createRange(b);return e.moveToBookmark({start:c.start,end:c.end,containerNode:d}),e},serializeSelection:function(a,b){for(var c=a.getAllRanges(),d=c.length,e=[],f=1==d&&a.isBackward(),g=0,h=c.length;h>g;++g)e[g]={characterRange:this.rangeToCharacterRange(c[g],b),backward:f};return e},restoreSelection:function(a,b,c){a.removeAllRanges();for(var d,e,f,g=a.win.document,h=0,i=b.length;i>h;++h)e=b[h],f=e.characterRange,d=this.characterRangeToRange(g,e.characterRange,c),a.addRange(d,e.backward)}};f("textContent",function(){return r}),f("TextRange",function(){var b;return function(){if(!b){var c=a.modules.TextRange;if(!c)throw new Error("TextRange module is missing.");if(!c.supported)throw new Error("TextRange module is present but not supported.");b={rangeToCharacterRange:function(a,b){return h.fromCharacterRange(a.toCharacterRange(b))},characterRangeToRange:function(b,c,d){var e=a.createRange(b);return e.selectCharacters(d,c.start,c.end),e},serializeSelection:function(a,b){return a.saveCharacterRanges(b)},restoreSelection:function(a,b,c){a.restoreCharacterRanges(c,b)}}}return b}}()),i.prototype={getContainerElement:function(){return d(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(a){this.characterRange=this.converter.rangeToCharacterRange(a,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(a){return this.getRange().containsNodeContents(a.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},j.prototype={addClassApplier:function(a){this.classAppliers[a.className]=a},getHighlightForElement:function(a){for(var b=this.highlights,c=0,d=b.length;d>c;++c)if(b[c].containsElement(a))return b[c];return null},removeHighlights:function(a){for(var b,c=0,d=this.highlights.length;d>c;++c)b=this.highlights[c],l(a,b)&&(b.unapply(),this.highlights.splice(c--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(a){var b=[],c=this.highlights;return o(a,function(a){o(c,function(c){a.intersectsRange(c.getRange())&&!l(b,c)&&b.push(c)})}),b},highlightCharacterRanges:function(b,c,d){var e,f,g,j=this.highlights,k=this.converter,l=this.doc,m=[],p=b?this.classAppliers[b]:null;d=n(d,{containerElementId:null,exclusive:!0});var q,r,s,t=d.containerElementId,u=d.exclusive;t&&(q=this.doc.getElementById(t),q&&(r=a.createRange(this.doc),r.selectNodeContents(q),s=new h(0,r.toString().length)));var v,w,x,y,z,A;for(e=0,f=c.length;f>e;++e)if(v=c[e],z=[],s&&(v=v.intersection(s)),v.start!=v.end){for(g=0;g<j.length;++g)x=!1,t==j[g].containerElementId&&(w=j[g].characterRange,y=p==j[g].classApplier,A=!y&&u,(w.intersects(v)||w.isContiguousWith(v))&&(y||A)&&(A&&o(w.getComplements(v),function(a){z.push(new i(l,a,j[g].classApplier,k,null,t))}),x=!0,y&&(v=w.union(v)))),x?(m.push(j[g]),j[g]=new i(l,w.union(v),p,k,null,t)):z.push(j[g]);p&&z.push(new i(l,v,p,k,null,t)),this.highlights=j=z}o(m,function(a){a.unapply()});var B=[];return o(j,function(a){a.applied||(a.apply(),B.push(a))}),B},highlightRanges:function(b,c,d){var e=[],f=this.converter;d=n(d,{containerElement:null,exclusive:!0});var g,h=d.containerElement,i=h?h.id:null;return h&&(g=a.createRange(h),g.selectNodeContents(h)),o(c,function(a){var b=h?g.intersection(a):a;e.push(f.rangeToCharacterRange(b,h||m(a.getDocument())))}),this.highlightCharacterRanges(b,e,{containerElementId:i,exclusive:d.exclusive})},highlightSelection:function(b,c){var e=this.converter,f=b?this.classAppliers[b]:!1;c=n(c,{containerElementId:null,selection:a.getSelection(this.doc),exclusive:!0});var g=c.containerElementId,i=c.exclusive,j=c.selection,k=j.win.document,l=d(k,g);if(!f&&b!==!1)throw new Error("No class applier found for class '"+b+"'");var m=e.serializeSelection(j,l),p=[];o(m,function(a){p.push(h.fromCharacterRange(a.characterRange))});var q=this.highlightCharacterRanges(b,p,{containerElementId:g,exclusive:i});return e.restoreSelection(j,m,l),q},unhighlightSelection:function(b){b=b||a.getSelection(this.doc);var c=this.getIntersectingHighlights(b.getAllRanges());return this.removeHighlights(c),b.removeAllRanges(),c},getHighlightsInSelection:function(b){return b=b||a.getSelection(this.doc),this.getIntersectingHighlights(b.getAllRanges())},selectionOverlapsHighlight:function(a){return this.getHighlightsInSelection(a).length>0},serialize:function(a){var b,d,e,f,h=this,i=h.highlights;return i.sort(c),a=n(a,{serializeHighlightText:!1,type:h.converter.type}),b=a.type,e=b!=h.converter.type,e&&(f=g(b)),d=["type:"+b],o(i,function(b){var c,g=b.characterRange;e&&(c=b.getContainerElement(),g=f.rangeToCharacterRange(h.converter.characterRangeToRange(h.doc,g,c),c));var i=[g.start,g.end,b.id,b.classApplier.className,b.containerElementId];a.serializeHighlightText&&i.push(b.getText()),d.push(i.join("$"))}),d.join("|")},deserialize:function(a){var b,c,e,f=a.split("|"),j=[],k=f[0],l=!1;if(!k||!(b=/^type:(\w+)$/.exec(k)))throw new Error("Serialized highlights are invalid.");c=b[1],c!=this.converter.type&&(e=g(c),l=!0),f.shift();for(var m,n,o,p,q,r,s=f.length;s-->0;){if(r=f[s].split("$"),o=new h(+r[0],+r[1]),p=r[4]||null,l&&(q=d(this.doc,p),o=this.converter.rangeToCharacterRange(e.characterRangeToRange(this.doc,o,q),q)),m=this.classAppliers[r[3]],!m)throw new Error("No class applier found for class '"+r[3]+"'");n=new i(this.doc,o,m,this.converter,parseInt(r[2]),p),n.apply(),j.push(n)}this.highlights=j}},a.Highlighter=j,a.createHighlighter=function(a,b){return new j(a,b)}}),a},this),function(a,b){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(b.rangy)}(function(a){return a.createModule("SaveRestore",["WrappedRange"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement("span"),c.id=d,c.style.lineHeight="0",c.style.display="none",c.className="rangySelectionBoundary",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?"setStartBefore":"setEndBefore"](g),p(g)):b.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return"original text: '"+h+"', new text: '"+b.toString()+"'"}})}function h(d,f){var g=d.document;"undefined"==typeof f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display="inline";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn("Marker element has been removed. Cannot restore selection.")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length;1==g&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r="\ufeff";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this),function(a,b){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(b.rangy)}(function(a){return a.createModule("Serializer",["WrappedSelection"],function(a,b){function c(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(a,b){b=b||[];var e=a.nodeType,f=a.childNodes,g=f.length,h=[e,a.nodeName,g].join(":"),i="",j="";switch(e){case 3:i=c(a.nodeValue);break;case 8:i="<!--"+c(a.nodeValue)+"-->";break;default:i="<"+h+">",j="</>"}i&&b.push(i);for(var k=0;g>k;++k)d(f[k],b);return j&&b.push(j),b}function e(a){var b=d(a).join("");return s(b).toString(16)}function f(a,b,c){var d=[],e=a;for(c=c||t.getDocument(a).documentElement;e&&e!=c;)d.push(t.getNodeIndex(e,!0)),e=e.parentNode;return d.join("/")+":"+b}function g(a,c,d){c||(c=(d||document).documentElement);for(var e,f=a.split(":"),g=c,h=f[0]?f[0].split("/"):[],i=h.length;i--;){if(e=parseInt(h[i],10),!(e<g.childNodes.length))throw b.createError("deserializePosition() failed: node "+t.inspectNode(g)+" has no child with index "+e+", "+i);g=g.childNodes[e]}return new t.DomPosition(g,parseInt(f[1],10))}function h(c,d,g){if(g=g||a.DomRange.getRangeDocument(c).documentElement,!t.isOrIsAncestorOf(g,c.commonAncestorContainer))throw b.createError("serializeRange(): range "+c.inspect()+" is not wholly contained within specified root node "+t.inspectNode(g));var h=f(c.startContainer,c.startOffset,g)+","+f(c.endContainer,c.endOffset,g);return d||(h+="{"+e(g)+"}"),h}function i(c,d,f){d?f=f||t.getDocument(d):(f=f||document,d=f.documentElement);var h=u.exec(c),i=h[4];if(i){var j=e(d);if(i!==j)throw b.createError("deserializeRange(): checksums of serialized range root node ("+i+") and target root node ("+j+") do not match")}var k=g(h[1],d,f),l=g(h[2],d,f),m=a.createRange(f);return m.setStartAndEnd(k.node,k.offset,l.node,l.offset),m}function j(a,b,c){b||(b=(c||document).documentElement);var d=u.exec(a),f=d[3];return!f||f===e(b)}function k(b,c,d){b=a.getSelection(b);for(var e=b.getAllRanges(),f=[],g=0,i=e.length;i>g;++g)f[g]=h(e[g],c,d);return f.join("|")}function l(b,c,d){c?d=d||t.getWindow(c):(d=d||window,c=d.document.documentElement);for(var e=b.split("|"),f=a.getSelection(d),g=[],h=0,j=e.length;j>h;++h)g[h]=i(e[h],c,d.document);return f.setRanges(g),f}function m(a,b,c){var d;b?d=c?c.document:t.getDocument(b):(c=c||window,b=c.document.documentElement);for(var e=a.split("|"),f=0,g=e.length;g>f;++f)if(!j(e[f],b,d))return!1;return!0}function n(a){for(var b,c,d=a.split(/[;,]/),e=0,f=d.length;f>e;++e)if(b=d[e].split("="),b[0].replace(/^\s+/,"")==v&&(c=b[1]))return decodeURIComponent(c.replace(/\s+$/,""));return null}function o(a){a=a||window;var b=n(a.document.cookie);b&&l(b,a.doc)}function p(b,c){b=b||window,c="object"==typeof c?c:{};var d=c.expires?";expires="+c.expires.toUTCString():"",e=c.path?";path="+c.path:"",f=c.domain?";domain="+c.domain:"",g=c.secure?";secure":"",h=k(a.getSelection(b));b.document.cookie=encodeURIComponent(v)+"="+encodeURIComponent(h)+d+e+f+g}var q="undefined",r=a.util;(typeof encodeURIComponent==q||typeof decodeURIComponent==q)&&b.fail("encodeURIComponent and/or decodeURIComponent method is missing");var s=function(){function a(a){for(var b,c=[],d=0,e=a.length;e>d;++d)b=a.charCodeAt(d),128>b?c.push(b):2048>b?c.push(b>>6|192,63&b|128):c.push(b>>12|224,b>>6&63|128,63&b|128);return c}function b(){for(var a,b,c=[],d=0;256>d;++d){for(b=d,a=8;a--;)1==(1&b)?b=b>>>1^3988292384:b>>>=1;c[d]=b>>>0}return c}function c(){return d||(d=b()),d}var d=null;return function(b){for(var d,e=a(b),f=-1,g=c(),h=0,i=e.length;i>h;++h)d=255&(f^e[h]),f=f>>>8^g[d];return(-1^f)>>>0}}(),t=a.dom,u=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/,v="rangySerializedSelection";r.extend(a,{serializePosition:f,deserializePosition:g,serializeRange:h,deserializeRange:i,canDeserializeRange:j,serializeSelection:k,deserializeSelection:l,canDeserializeSelection:m,restoreSelectionFromCookie:o,saveSelectionCookie:p,getElementChecksum:e,nodeToInfoString:d}),r.crc32=s}),a},this),function(a,b){"function"==typeof define&&define.amd?define(["./rangy-core"],a):"undefined"!=typeof module&&"object"==typeof exports?module.exports=a(require("rangy")):a(b.rangy)}(function(a){return a.createModule("TextRange",["WrappedSelection"],function(a,b){function c(a,b){function c(a,b,c){h.push({start:a,end:b,isWord:c})}for(var d,e,f,g=a.join(""),h=[],i=0;d=b.wordRegex.exec(g);){if(e=d.index,f=e+d[0].length,e>i&&c(i,e,!1),b.includeTrailingSpace)for(;$.test(a[f]);)++f;c(e,f,!0),i=f}return i<a.length&&c(i,a.length,!1),h}function d(a,b){for(var c=a.slice(b.start,b.end),d={isWord:b.isWord,chars:c,toString:function(){return c.join("")}},e=0,f=c.length;f>e;++e)c[e].token=d;return d}function e(a,b,c){for(var e,f=c(a,b),g=[],h=0;e=f[h++];)g.push(d(a,e));return g}function f(a){var b=a||"",c="string"==typeof b?b.split(""):b;return c.sort(function(a,b){return a.charCodeAt(0)-b.charCodeAt(0)}),c.join("").replace(/(.)\1+/g,"$1")}function g(a){var b,c;return a?(b=a.language||_,c={},U(c,ia[b]||ia[_]),U(c,a),c):ia[_]}function h(a,b){var c=V(a,b);return b.hasOwnProperty("wordOptions")&&(c.wordOptions=g(c.wordOptions)),b.hasOwnProperty("characterOptions")&&(c.characterOptions=V(c.characterOptions,ga)),c}function i(a,b){var c=na(a,"display",b),d=a.tagName.toLowerCase();return"block"==c&&fa&&oa.hasOwnProperty(d)?oa[d]:c}function j(a){for(var b=o(a),c=0,d=b.length;d>c;++c)if(1==b[c].nodeType&&"none"==i(b[c]))return!0;return!1}function k(a){var b;return 3==a.nodeType&&(b=a.parentNode)&&"hidden"==na(b,"visibility")}function l(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(i(a))||9==a.nodeType||11==a.nodeType)}function m(a){return S.isCharacterDataNode(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)}function n(a){for(var b=[];a.parentNode;)b.unshift(a.parentNode),a=a.parentNode;return b}function o(a){return n(a).concat([a])}function p(a){for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null}function q(a,b){return!b&&a.hasChildNodes()?a.firstChild:p(a)}function r(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}var c=a.parentNode;return c&&1==c.nodeType?c:null}function s(a){if(!a||3!=a.nodeType)return!1;var b=a.data;if(""===b)return!0;var c=a.parentNode;if(!c||1!=c.nodeType)return!1;var d=na(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(d)||/^[\t\r ]+$/.test(b)&&"pre-line"==d}function t(a){if(""===a.data)return!0;if(!s(a))return!1;var b=a.parentNode;return b?j(a)?!0:!1:!0}function u(a){var b=a.nodeType;return 7==b||8==b||j(a)||/^(script|style)$/i.test(a.nodeName)||k(a)||t(a)}function v(a,b){var c=a.nodeType;return 7==c||8==c||1==c&&"none"==i(a,b)}function w(){this.store={}}function x(a,b,c){return function(d){var e=this.cache;if(e.hasOwnProperty(a))return pa++,e[a];qa++;var f=b.call(this,c?this[c]:this,d);return e[a]=f,f}}function y(a,b){this.node=a,this.session=b,this.cache=new w,this.positions=new w}function z(a,b){this.offset=b,this.nodeWrapper=a,this.node=a.node,this.session=a.session,this.cache=new w}function A(){return"[Position("+S.inspectNode(this.node)+":"+this.offset+")]"}function B(){return D(),Da=new Ea}function C(){return Da||B()}function D(){Da&&Da.detach(),Da=null}function E(a,c,d,e){function f(){var a=null;return c?(a=h,i||(h=h.previousVisible(),i=!h||d&&h.equals(d))):i||(a=h=h.nextVisible(),i=!h||d&&h.equals(d)),i&&(h=null),a}d&&(c?u(d.node)&&(d=a.previousVisible()):u(d.node)&&(d=d.nextVisible()));var g,h=a,i=!1,j=!1;return{next:function(){if(j)return j=!1,g;for(var a,b;a=f();)if(b=a.getCharacter(e))return g=a,a;return null},rewind:function(){if(!g)throw b.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");j=!0},dispose:function(){a=d=null}}}function F(a,b,c){function d(a){for(var b,c,d=[],e=a?f:g,h=!1,i=!1;b=e.next();){if(c=b.character,Z.test(c))i&&(i=!1,h=!0);else{if(h){e.rewind();break}i=!0}d.push(b)}return d}var f=E(a,!1,null,b),g=E(a,!0,null,b),h=c.tokenizer,i=d(!0),j=d(!1).reverse(),k=e(j.concat(i),c,h),l=i.length?k.slice(Fa(k,i[0].token)):[],m=j.length?k.slice(0,Fa(k,j.pop().token)+1):[];return{nextEndToken:function(){for(var a,b;1==l.length&&!(a=l[0]).isWord&&(b=d(!0)).length>0;)l=e(a.chars.concat(b),c,h);return l.shift()},previousStartToken:function(){for(var a,b;1==m.length&&!(a=m[0]).isWord&&(b=d(!1)).length>0;)m=e(b.reverse().concat(a.chars),c,h);return m.pop()},dispose:function(){f.dispose(),g.dispose(),l=m=null}}}function G(a,b,c,d,e){var f,g,h,i,j=0,k=a,l=Math.abs(c);if(0!==c){var m=0>c;switch(b){case Q:for(g=E(a,m,null,d);(f=g.next())&&l>j;)++j,k=f;h=f,g.dispose();break;case R:for(var n=F(a,d,e),o=m?n.previousStartToken:n.nextEndToken;(i=o())&&l>j;)i.isWord&&(++j,k=m?i.chars[0]:i.chars[i.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+b+"' not implemented")}m?(k=k.previousVisible(),j=-j):k&&k.isLeadingSpace&&!k.isTrailingSpace&&(b==R&&(g=E(a,!1,null,d),h=g.next(),g.dispose()),h&&(k=h.previousVisible()))}return{position:k,unitsMoved:j}}function H(a,b,c,d){var e=a.getRangeBoundaryPosition(b,!0),f=a.getRangeBoundaryPosition(b,!1),g=d?f:e,h=d?e:f;return E(g,!!d,h,c)}function I(a,b,c){for(var d,e=[],f=H(a,b,c);d=f.next();)e.push(d);return f.dispose(),e}function J(b,c,d){var e=a.createRange(b.node);return e.setStartAndEnd(b.node,b.offset,c.node,c.offset),!e.expand("word",{wordOptions:d})}function K(a,b,c,d,e){function f(a,b){var c=p[a].previousVisible(),d=p[b-1],f=!e.wholeWordsOnly||J(c,d,e.wordOptions);return{startPos:c,endPos:d,valid:f}}for(var g,h,i,j,k,l,m=aa(e.direction),n=E(a,m,a.session.getRangeBoundaryPosition(d,m),e.characterOptions),o="",p=[],q=null;g=n.next();)if(h=g.character,c||e.caseSensitive||(h=h.toLowerCase()),m?(p.unshift(g),o=h+o):(p.push(g),o+=h),c){if(k=b.exec(o))if(i=k.index,j=i+k[0].length,l){if(!m&&j<o.length||m&&i>0){q=f(i,j);break}}else l=!0}else if(-1!=(i=o.indexOf(b))){q=f(i,i+b.length);break}return l&&(q=f(i,j)),n.dispose(),q}function L(a){return function(){var b=!!Da,c=C(),d=[c].concat(T.toArray(arguments)),e=a.apply(this,d);return b||D(),e}}function M(a,b){return L(function(c,d,e,f){typeof e==P&&(e=d,d=Q),f=h(f,ka);var g=a;b&&(g=e>=0,this.collapse(!g));var i=G(c.getRangeBoundaryPosition(this,g),d,e,f.characterOptions,f.wordOptions),j=i.position;return this[g?"setStart":"setEnd"](j.node,j.offset),i.unitsMoved})}function N(a){return L(function(b,c){c=V(c,ga);for(var d,e=H(b,this,c,!a),f=0;(d=e.next())&&Z.test(d.character);)++f;e.dispose();var g=f>0;return g&&this[a?"moveStart":"moveEnd"]("character",a?f:-f,{characterOptions:c}),g})}function O(a){return L(function(b,c){var d=!1;return this.changeEachRange(function(b){d=b[a](c)||d}),d})}var P="undefined",Q="character",R="word",S=a.dom,T=a.util,U=T.extend,V=T.createOptions,W=S.getBody,X=/^[ \t\f\r\n]+$/,Y=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,$=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,_="en",aa=a.Selection.isDirectionBackward,ba=!1,ca=!1,da=!1,ea=!0;
!function(){var b=S.createTestElement(document,"<p>1 </p><p></p>",!0),c=b.firstChild,d=a.getSelection();d.collapse(c.lastChild,2),d.setStart(c.firstChild,0),ba=1==(""+d).length,b.innerHTML="1 <br />",d.collapse(b,2),d.setStart(b.firstChild,0),ca=1==(""+d).length,b.innerHTML="1 <p>1</p>",d.collapse(b,2),d.setStart(b.firstChild,0),da=1==(""+d).length,S.removeNode(b),d.removeAllRanges()}();var fa,ga={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},ha={includeBlockContentTrailingSpace:!ea,includeSpaceBeforeBr:!ca,includeSpaceBeforeBlock:!da,includePreLineTrailingSpace:!0},ia={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:c}},ja={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},ka={wordOptions:null,characterOptions:null},la={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ma={wordOptions:null,characterOptions:null,direction:"forward"},na=S.getComputedStyleProperty;!function(){var a=document.createElement("table"),b=W(document);b.appendChild(a),fa="block"==na(a,"display"),b.removeChild(a)}();var oa={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};w.prototype={get:function(a){return this.store.hasOwnProperty(a)?this.store[a]:null},set:function(a,b){return this.store[a]=b}};var pa=0,qa=0,ra={getPosition:function(a){var b=this.positions;return b.get(a)||b.set(a,new z(this,a))},toString:function(){return"[NodeWrapper("+S.inspectNode(this.node)+")]"}};y.prototype=ra;var sa="EMPTY",ta="NON_SPACE",ua="UNCOLLAPSIBLE_SPACE",va="COLLAPSIBLE_SPACE",wa="TRAILING_SPACE_BEFORE_BLOCK",xa="TRAILING_SPACE_IN_BLOCK",ya="TRAILING_SPACE_BEFORE_BR",za="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",Aa="TRAILING_LINE_BREAK_AFTER_BR",Ba="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";U(ra,{isCharacterDataNode:x("isCharacterDataNode",S.isCharacterDataNode,"node"),getNodeIndex:x("nodeIndex",S.getNodeIndex,"node"),getLength:x("nodeLength",S.getNodeLength,"node"),containsPositions:x("containsPositions",m,"node"),isWhitespace:x("isWhitespace",s,"node"),isCollapsedWhitespace:x("isCollapsedWhitespace",t,"node"),getComputedDisplay:x("computedDisplay",i,"node"),isCollapsed:x("collapsed",u,"node"),isIgnored:x("ignored",v,"node"),next:x("nextPos",q,"node"),previous:x("previous",r,"node"),getTextNodeInfo:x("textNodeInfo",function(a){var b=null,c=!1,d=na(a.parentNode,"whiteSpace"),e="pre-line"==d;return e?(b=Y,c=!0):("normal"==d||"nowrap"==d)&&(b=X,c=!0),{node:a,text:a.data,spaceRegex:b,collapseSpaces:c,preLine:e}},"node"),hasInnerText:x("hasInnerText",function(a,b){for(var c=this.session,d=c.getPosition(a.parentNode,this.getNodeIndex()+1),e=c.getPosition(a,0),f=b?d:e,g=b?e:d;f!==g;){if(f.prepopulateChar(),f.isDefinitelyNonEmpty())return!0;f=b?f.previousVisible():f.nextVisible()}return!1},"node"),isRenderedBlock:x("isRenderedBlock",function(a){for(var b=a.getElementsByTagName("br"),c=0,d=b.length;d>c;++c)if(!u(b[c]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:x("trailingSpace",function(a){if("br"==a.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var b=a.lastChild;b;){if(!v(b))return 1==b.nodeType?this.session.getNodeWrapper(b).getTrailingSpace():"";b=b.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"	";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:x("leadingSpace",function(a){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var Ca={character:"",characterType:sa,isBr:!1,prepopulateChar:function(){var a=this;if(!a.prepopulatedChar){var b=a.node,c=a.offset,d="",e=sa,f=!1;if(c>0)if(3==b.nodeType){var g=b.data,h=g.charAt(c-1),i=a.nodeWrapper.getTextNodeInfo(),j=i.spaceRegex;i.collapseSpaces?j.test(h)?c>1&&j.test(g.charAt(c-2))||(i.preLine&&"\n"===g.charAt(c)?(d=" ",e=za):(d=" ",e=va)):(d=h,e=ta,f=!0):(d=h,e=ua,f=!0)}else{var k=b.childNodes[c-1];if(k&&1==k.nodeType&&!u(k)&&("br"==k.tagName.toLowerCase()?(d="\n",a.isBr=!0,e=va,f=!1):a.checkForTrailingSpace=!0),!d){var l=b.childNodes[c];l&&1==l.nodeType&&!u(l)&&(a.checkForLeadingSpace=!0)}}a.prepopulatedChar=!0,a.character=d,a.characterType=e,a.isCharInvariant=f}},isDefinitelyNonEmpty:function(){var a=this.characterType;return a==ta||a==ua},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var a=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();a&&(this.isTrailingSpace=!0,this.character=a,this.characterType=va),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var b=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();b&&(this.isLeadingSpace=!0,this.character=b,this.characterType=va),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(a){for(var b,c=this;c=c.previousVisible();)if(b=c.getCharacter(a),""!==b)return c;return null},getCharacter:function(a){function b(){return n||(k=o.getPrecedingUncollapsedPosition(a),n=!0),k}this.resolveLeadingAndTrailingSpaces();var c,d=this.character,e=f(a.ignoreCharacters),g=""!==d&&e.indexOf(d)>-1;if(this.isCharInvariant)return c=g?"":d;var h=["character",a.includeSpaceBeforeBr,a.includeBlockContentTrailingSpace,a.includePreLineTrailingSpace,e].join("_"),i=this.cache.get(h);if(null!==i)return i;var j,k,l="",m=this.characterType==va,n=!1,o=this;return m&&(this.type==Ba?l="\n":" "==d&&(!b()||k.isTrailingSpace||"\n"==k.character||" "==k.character&&k.characterType==va)||("\n"==d&&this.isLeadingSpace?b()&&"\n"!=k.character&&(l="\n"):(j=this.nextUncollapsed(),j&&(j.isBr?this.type=ya:j.isTrailingSpace&&"\n"==j.character?this.type=xa:j.isLeadingSpace&&"\n"==j.character&&(this.type=wa),"\n"==j.character?(this.type!=ya||a.includeSpaceBeforeBr)&&(this.type!=wa||a.includeSpaceBeforeBlock)&&(this.type==xa&&j.isTrailingSpace&&!a.includeBlockContentTrailingSpace||(this.type!=za||j.type!=ta||a.includePreLineTrailingSpace)&&("\n"==d?j.isTrailingSpace?this.isTrailingSpace||this.isBr&&(j.type=Aa,b()&&k.isLeadingSpace&&!k.isTrailingSpace&&"\n"==k.character?j.character="":j.type=Ba):l="\n":" "==d&&(l=" "))):l=d)))),e.indexOf(l)>-1&&(l=""),this.cache.set(h,l),l},equals:function(a){return!!a&&this.node===a.node&&this.offset===a.offset},inspect:A,toString:function(){return this.character}};z.prototype=Ca,U(Ca,{next:x("nextPos",function(a){var b=a.nodeWrapper,c=a.node,d=a.offset,e=b.session;if(!c)return null;var f,g,h;return d==b.getLength()?(f=c.parentNode,g=f?b.getNodeIndex()+1:0):b.isCharacterDataNode()?(f=c,g=d+1):(h=c.childNodes[d],e.getNodeWrapper(h).containsPositions()?(f=h,g=0):(f=c,g=d+1)),f?e.getPosition(f,g):null}),previous:x("previous",function(a){var b,c,d,e=a.nodeWrapper,f=a.node,g=a.offset,h=e.session;return 0==g?(b=f.parentNode,c=b?e.getNodeIndex():0):e.isCharacterDataNode()?(b=f,c=g-1):(d=f.childNodes[g-1],h.getNodeWrapper(d).containsPositions()?(b=d,c=S.getNodeLength(d)):(b=f,c=g-1)),b?h.getPosition(b,c):null}),nextVisible:x("nextVisible",function(a){var b=a.next();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex()+1)),e}),nextUncollapsed:x("nextUncollapsed",function(a){for(var b=a;b=b.nextVisible();)if(b.resolveLeadingAndTrailingSpaces(),""!==b.character)return b;return null}),previousVisible:x("previousVisible",function(a){var b=a.previous();if(!b)return null;var c=b.nodeWrapper,d=b.node,e=b;return c.isCollapsed()&&(e=c.session.getPosition(d.parentNode,c.getNodeIndex())),e})});var Da=null,Ea=function(){function a(a){var b=new w;return{get:function(c){var d=b.get(c[a]);if(d)for(var e,f=0;e=d[f++];)if(e.node===c)return e;return null},set:function(c){var d=c.node[a],e=b.get(d)||b.set(d,[]);e.push(c)}}}function b(){this.initCaches()}var c=T.isHostProperty(document.documentElement,"uniqueID");return b.prototype={initCaches:function(){this.elementCache=c?function(){var a=new w;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.node.uniqueID,b)}}}():a("tagName"),this.textNodeCache=a("data"),this.otherNodeCache=a("nodeName")},getNodeWrapper:function(a){var b;switch(a.nodeType){case 1:b=this.elementCache;break;case 3:b=this.textNodeCache;break;default:b=this.otherNodeCache}var c=b.get(a);return c||(c=new y(a,this),b.set(c)),c},getPosition:function(a,b){return this.getNodeWrapper(a).getPosition(b)},getRangeBoundaryPosition:function(a,b){var c=b?"start":"end";return this.getPosition(a[c+"Container"],a[c+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},b}();U(S,{nextNode:q,previousNode:r});var Fa=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)if(a[c]===b)return c;return-1};U(a.rangePrototype,{moveStart:M(!0,!1),moveEnd:M(!1,!1),move:M(!0,!0),trimStart:N(!0),trimEnd:N(!1),trim:L(function(a,b){var c=this.trimStart(b),d=this.trimEnd(b);return c||d}),expand:L(function(a,b,c){var d=!1;c=h(c,la);var e=c.characterOptions;if(b||(b=Q),b==R){var f,g,i=c.wordOptions,j=a.getRangeBoundaryPosition(this,!0),k=a.getRangeBoundaryPosition(this,!1),l=F(j,e,i),m=l.nextEndToken(),n=m.chars[0].previousVisible();if(this.collapsed)f=m;else{var o=F(k,e,i);f=o.previousStartToken()}return g=f.chars[f.chars.length-1],n.equals(j)||(this.setStart(n.node,n.offset),d=!0),g&&!g.equals(k)&&(this.setEnd(g.node,g.offset),d=!0),c.trim&&(c.trimStart&&(d=this.trimStart(e)||d),c.trimEnd&&(d=this.trimEnd(e)||d)),d}return this.moveEnd(Q,1,c)}),text:L(function(a,b){return this.collapsed?"":I(a,this,V(b,ga)).join("")}),selectCharacters:L(function(a,b,c,d,e){var f={characterOptions:e};b||(b=W(this.getDocument())),this.selectNodeContents(b),this.collapse(!0),this.moveStart("character",c,f),this.collapse(!0),this.moveEnd("character",d-c,f)}),toCharacterRange:L(function(a,b,c){b||(b=W(this.getDocument()));var d,e,f=b.parentNode,g=S.getNodeIndex(b),h=-1==S.comparePoints(this.startContainer,this.endContainer,f,g),i=this.cloneRange();return h?(i.setStartAndEnd(this.startContainer,this.startOffset,f,g),d=-i.text(c).length):(i.setStartAndEnd(f,g,this.startContainer,this.startOffset),d=i.text(c).length),e=d+this.text(c).length,{start:d,end:e}}),findText:L(function(b,c,d){d=h(d,ja),d.wholeWordsOnly&&(d.wordOptions.includeTrailingSpace=!1);var e=aa(d.direction),f=d.withinRange;f||(f=a.createRange(),f.selectNodeContents(this.getDocument()));var g=c,i=!1;"string"==typeof g?d.caseSensitive||(g=g.toLowerCase()):i=!0;var j=b.getRangeBoundaryPosition(this,!e),k=f.comparePoint(j.node,j.offset);-1===k?j=b.getRangeBoundaryPosition(f,!0):1===k&&(j=b.getRangeBoundaryPosition(f,!1));for(var l,m=j,n=!1;;)if(l=K(m,g,i,f,d)){if(l.valid)return this.setStartAndEnd(l.startPos.node,l.startPos.offset,l.endPos.node,l.endPos.offset),!0;m=e?l.startPos:l.endPos}else{if(!d.wrap||n)return!1;f=f.cloneRange(),m=b.getRangeBoundaryPosition(f,!e),f.setBoundary(j.node,j.offset,e),n=!0}}),pasteHtml:function(a){if(this.deleteContents(),a){var b=this.createContextualFragment(a),c=b.lastChild;this.insertNode(b),this.collapseAfter(c)}}}),U(a.selectionPrototype,{expand:L(function(a,b,c){this.changeEachRange(function(a){a.expand(b,c)})}),move:L(function(a,b,c,d){var e=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var f=this.getRangeAt(0);d||(d={}),d.characterOptions=V(d.characterOptions,ha),e=f.move(b,c,d),this.setSingleRange(f)}return e}),trimStart:O("trimStart"),trimEnd:O("trimEnd"),trim:O("trim"),selectCharacters:L(function(b,c,d,e,f,g){var h=a.createRange(c);h.selectCharacters(c,d,e,g),this.setSingleRange(h,f)}),saveCharacterRanges:L(function(a,b,c){for(var d=this.getAllRanges(),e=d.length,f=[],g=1==e&&this.isBackward(),h=0,i=d.length;i>h;++h)f[h]={characterRange:d[h].toCharacterRange(b,c),backward:g,characterOptions:c};return f}),restoreCharacterRanges:L(function(b,c,d){this.removeAllRanges();for(var e,f,g,h=0,i=d.length;i>h;++h)f=d[h],g=f.characterRange,e=a.createRange(c),e.selectCharacters(c,g.start,g.end,f.characterOptions),this.addRange(e,f.backward)}),text:L(function(a,b){for(var c=[],d=0,e=this.rangeCount;e>d;++d)c[d]=this.getRangeAt(d).text(b);return c.join("")})}),a.innerText=function(b,c){var d=a.createRange(b);d.selectNodeContents(b);var e=d.text(c);return e},a.createWordIterator=function(a,b,c){var d=C();c=h(c,ma);var e=d.getPosition(a,b),f=F(e,c.characterOptions,c.wordOptions),g=aa(c.direction);return{next:function(){return g?f.previousStartToken():f.nextEndToken()},dispose:function(){f.dispose(),this.next=function(){}}}},a.noMutation=function(a){var b=C();a(b),D()},a.noMutation.createEntryPointFunction=L,a.textRange={isBlockNode:l,isCollapsedWhitespaceNode:t,createPosition:L(function(a,b,c){return a.getPosition(b,c)})}}),a},this);var textAngularVersion="v1.5.16",_browserDetect={ie:function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},performance=performance||{};performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}();var BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex;if(_browserDetect.ie>8||void 0===_browserDetect.ie){for(var _sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet||(sheet=function(){var a=document.createElement("style");return _browserDetect.webkit&&a.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(a),a.sheet}()),addCSSRule=function(a,b){return _addCSSRule(sheet,a,b)},_addCSSRule=function(a,b,c){var d,e;return a.cssRules?d=Math.max(a.cssRules.length-1,0):a.rules&&(d=Math.max(a.rules.length-1,0)),a.insertRule?a.insertRule(b+"{"+c+"}",d):a.addRule(b,c,d),sheet.rules?e=sheet.rules[d]:sheet.cssRules&&(e=sheet.cssRules[d]),e},_getRuleIndex=function(a,b){var c,d;for(c=0;c<b.length;c++)if(b[c].cssText===a.cssText){d=c;break}return d},removeCSSRule=function(a){_removeCSSRule(sheet,a)},_removeCSSRule=function(a,b){var c=a.cssRules||a.rules;if(c&&0!==c.length){var d=_getRuleIndex(b,c);a.removeRule?a.removeRule(d):a.deleteRule(d)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(a){return a?""===a?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?a.toUpperCase():a:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(a,b){return function(c){var d=angular.element("<div></div>");return d[0].innerHTML=c,angular.forEach(a,function(a){var c=[];a.selector&&""!==a.selector?c=d.find(a.selector):a.customAttribute&&""!==a.customAttribute&&(c=b.getByAttribute(d,a.customAttribute)),angular.forEach(c,function(b){b=angular.element(b),a.selector&&""!==a.selector&&a.customAttribute&&""!==a.customAttribute?void 0!==b.attr(a.customAttribute)&&a.renderLogic(b):a.renderLogic(b)})}),d[0].innerHTML}}]).factory("taFixChrome",function(){var a=function(a,b){if(!a||!angular.isString(a)||a.length<=0)return a;for(var c,d,e,f=/style\s?=\s?(["'])(?:(?=(\\?))\2.)*?\1/gi,g=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,h="",i=0;c=g.exec(a);)e=c[1],e=e.replace(/&nbsp;/gi," "),h+=a.substring(i,c.index)+e,i=c.index+c[0].length;if(i&&(h+=a.substring(i),a=h,h="",i=0),!b){for(;c=f.exec(a);)h+=a.substring(i,c.index-1),d=c[0],c=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi.exec(d),c?(d=d.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,""),d.length>8&&(h+=" "+d)):h+=" "+d,i=f.lastIndex;h+=a.substring(i)}if(i>0){var j=h.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1");return j}return a};return a}).factory("taSanitize",["$sanitize",function(a){function b(a,b){for(var c,d=0,e=0,f=/<[^>]*>/gi;c=f.exec(a);)if(e=c.index,"/"===c[0].substr(1,1)){if(0===d)break;d--}else d++;return b+a.substring(0,e)+angular.element(b)[0].outerHTML.substring(b.length)+a.substring(e)}function c(a){if(!a||!angular.isString(a)||a.length<=0)return a;for(var d,f,g,h,i,k,l=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,m="",n="",o=0;f=l.exec(a);){h=f[3]||f[4];var p=new RegExp(j,"i");if(angular.isString(h)&&p.test(h)){i="";for(var q=new RegExp(j,"ig");g=q.exec(h);)for(d=0;d<e.length;d++)g[2*d+2]&&(i+="<"+e[d].tag+">");k=c(a.substring(o,f.index)),n+=m.length>0?b(k,m):k,h=h.replace(new RegExp(j,"ig"),""),n+="<"+f[1].trim(),h.length>0&&(n+=' style="'+h+'"'),n+=f[5]+">",o=f.index+f[0].length,m=i}}return n+=m.length>0?b(a.substring(o),m):a.substring(o)}function d(a){if(!a||!angular.isString(a)||a.length<=0)return a;for(var b,c=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,d="",e=0;b=c.exec(a);){d+=a.substring(e,b.index),e=b.index+b[0].length;var f="<"+b[1]+b[5];/style=("([^"]+)"|'([^']+)')/gi.test(f)?f=f.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(b[3]||b[4])+';"'):f+=' style="text-align:'+(b[3]||b[4])+';"',f+=">",d+=f}return d+a.substring(e)}for(var e=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],f=[],g=0;g<e.length;g++){for(var h="("+e[g].property+":\\s*(",i=0;i<e[g].values.length;i++)i>0&&(h+="|"),h+=e[g].values[i];h+=");)",f.push(h)}var j="("+f.join("|")+")",k=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),l=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),m=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(b,e,f){if(!f)try{b=c(b)}catch(g){}if(b=d(b))try{b=b.replace(k,""),b=b.replace(l,""),b=b.replace(k,""),b=b.replace(m,"")}catch(g){}var h;try{h=a(b),f&&(h=b)}catch(g){h=e||""}var i,j=h.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),n=h.replace(/(&#(9|10);)*/gi,""),o=/<pre[^>]*>.*?<\/pre[^>]*>/gi,p=0,q=0;for(h="";null!==(i=o.exec(n))&&p<j.length;)h+=n.substring(q,i.index)+j[p],q=i.index+i[0].length,p++;return h+n.substring(q)}}]).factory("taToolExecuteAction",["$q","$log",function(a,b){return function(c){void 0!==c&&(this.$editor=function(){return c});var d,e=a.defer(),f=e.promise,g=this.$editor();try{d=this.action(e,g.startAction()),f["finally"](function(){g.endAction.call(g)})}catch(h){b.error(h)}(d||void 0===d)&&e.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(a,b,c){var d=function(b,c){var d,e,f=b.find("li");for(e=f.length-1;e>=0;e--)d=angular.element("<"+c+">"+f[e].innerHTML+"</"+c+">"),b.after(d);b.remove(),a.setSelectionToElementEnd(d[0])},e=function(c,d,e,f,g){var h,i,j,k,l,m=c.find("li");for(i=0;i<m.length;i++)if(m[i].outerHTML===d[0].outerHTML){l=i,i>0&&(j=m[i-1]),i+1<m.length&&(k=m[i+1]);break}var n="";if(f?n+="<"+g+">"+d[0].innerHTML+"</"+g+">":(n+="<"+b(e)+">",n+="<li>"+d[0].innerHTML+"</li>",n+="</"+b(e)+">"),h=angular.element(n),!j)return d.remove(),c.after(angular.element(c[0].outerHTML)),c.after(h),c.remove(),void a.setSelectionToElementEnd(h[0]);if(k){var o=(c.parent(),""),p=c[0].nodeName.toLowerCase();for(o+="<"+p+">",i=0;l>i;i++)o+="<li>"+m[i].innerHTML+"</li>";o+="</"+p+">";var q="";for(q+="<"+p+">",i=l+1;i<m.length;i++)q+="<li>"+m[i].innerHTML+"</li>";q+="</"+p+">",c.after(angular.element(q)),c.after(h),c.after(angular.element(o)),c.remove(),a.setSelectionToElementEnd(h[0])}else d.remove(),c.after(h),a.setSelectionToElementEnd(h[0])},f=function(c,d,e,f,g){var h,i,j,k,l,m=c.find("li"),n=[];for(i=0;i<m.length;i++)for(j=0;j<d.length;j++)m[i].isEqualNode(d[j])&&(n[j]=i);n[0]>0&&(k=m[n[0]-1]),n[d.length-1]+1<m.length&&(l=m[n[d.length-1]+1]);var o="";if(f)for(j=0;j<d.length;j++)o+="<"+g+">"+d[j].innerHTML+"</"+g+">",d[j].remove();else{for(o+="<"+b(e)+">",j=0;j<d.length;j++)o+=d[j].outerHTML,d[j].remove();o+="</"+b(e)+">"}if(h=angular.element(o),!k)return c.after(angular.element(c[0].outerHTML)),c.after(h),c.remove(),void a.setSelectionToElementEnd(h[0]);if(!l)return c.after(h),void a.setSelectionToElementEnd(h[0]);var p="",q=c[0].nodeName.toLowerCase();for(p+="<"+q+">",i=0;i<n[0];i++)p+="<li>"+m[i].innerHTML+"</li>";p+="</"+q+">";var r="";for(r+="<"+q+">",i=n[d.length-1]+1;i<m.length;i++)r+="<li>"+m[i].innerHTML+"</li>";r+="</"+q+">",c.after(angular.element(r)),c.after(h),c.after(angular.element(p)),c.remove(),a.setSelectionToElementEnd(h[0])},g=function(b){/(<br(|\/)>)$/i.test(b.innerHTML.trim())?a.setSelectionBeforeElement(angular.element(b).find("br")[0]):a.setSelectionToElementEnd(b)},h=function(a,b){var c=angular.element("<"+b+">"+a[0].innerHTML+"</"+b+">");a.after(c),a.remove(),g(c.find("li")[0])},i=function(a,c,d){for(var e="",f=0;f<a.length;f++)e+="<"+b("li")+">"+a[f].innerHTML+"</"+b("li")+">";var h=angular.element("<"+d+">"+e+"</"+d+">");c.after(h),c.remove(),g(h.find("li")[0])},j=function(a,b){for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d.tagName&&d.tagName.match(BLOCKELEMENTS)&&j(d,b)}if(null===a.parentNode)return a;if("<br>"===b)return a;var e=angular.element(b);return e[0].innerHTML=a.innerHTML,a.parentNode.insertBefore(e[0],a),a.parentNode.removeChild(a),e};return function(g,k){return g=b(g),function(l,m,n,o){var p,q,r,s,t,u,v,w,x=angular.element("<"+g+">");try{a.getSelection&&(w=a.getSelection()),v=a.getSelectionElement();var y,z;void 0!==v.tagName&&("div"===v.tagName.toLowerCase()&&/taTextElement.+/.test(v.id)&&w&&w.start&&1===w.start.offset&&1===w.end.offset?(y=v.innerHTML,/<br>/i.test(y)&&(y=y.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(y)&&(y=y.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(y)&&(y=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(y)&&(y=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(y)&&(y=y.replace(/<span><\/span>/i,"")),z="<div>"+y+"</div>",v.innerHTML=z,a.setSelectionToElementEnd(v.childNodes[0]),v=a.getSelectionElement()):"span"===v.tagName.toLowerCase()&&w&&w.start&&1===w.start.offset&&1===w.end.offset?(y=v.innerHTML,/<br>/i.test(y)&&(y=y.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(y)&&(y=y.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(y)&&(y=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(y)&&(y=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(y)&&(y=y.replace(/<span><\/span>/i,"")),z="<div>"+y+"</div>",v.innerHTML=z,a.setSelectionToElementEnd(v.childNodes[0]),v=a.getSelectionElement()):"p"===v.tagName.toLowerCase()&&w&&w.start&&1===w.start.offset&&1===w.end.offset?(y=v.innerHTML,/<br>/i.test(y)&&(y=y.replace(/<br>/i,"&#8203;"),v.innerHTML=y)):"li"===v.tagName.toLowerCase()&&w&&w.start&&w.start.offset===w.end.offset&&(y=v.innerHTML,/<br>/i.test(y)&&(y=y.replace(/<br>/i,""),v.innerHTML=y)))}catch(A){}if(v){var B=angular.element(v),C=v&&v.tagName&&v.tagName.toLowerCase()||"";if("insertorderedlist"===l.toLowerCase()||"insertunorderedlist"===l.toLowerCase()){var D=b("insertorderedlist"===l.toLowerCase()?"ol":"ul"),E=a.getOnlySelectedElements();if(E.length>1&&("ol"===C||"ul"===C))return f(B,E,D,D===C,g);if(C===D)return B[0].childNodes.length!==E.length&&1===E.length?(B=angular.element(E[0]),e(B.parent(),B,D,!0,g)):d(B,g);if("li"===C&&B.parent()[0].tagName.toLowerCase()===D&&1===B.parent().children().length)return d(B.parent(),g);if("li"===C&&B.parent()[0].tagName.toLowerCase()!==D&&1===B.parent().children().length)return h(B.parent(),D);if(C.match(BLOCKELEMENTS)&&!B.hasClass("ta-bind")){if(E.length&&B[0].childNodes.length!==E.length&&1===E.length)return B=angular.element(E[0]),e(B.parent(),B,D,D===C,g);if("ol"===C||"ul"===C)return h(B,D);var F=!1;return angular.forEach(B.children(),function(a){a.tagName.match(BLOCKELEMENTS)&&(F=!0)}),F?i(B.children(),B,D):i([angular.element("<div>"+v.innerHTML+"</div>")[0]],B,D)}if(C.match(BLOCKELEMENTS)){if(s=a.getOnlySelectedElements(),0===s.length)q=angular.element("<"+D+"><li>"+v.innerHTML+"</li></"+D+">"),B.html(""),B.append(q);else{if(1===s.length&&("ol"===s[0].tagName.toLowerCase()||"ul"===s[0].tagName.toLowerCase()))return s[0].tagName.toLowerCase()===D?d(angular.element(s[0]),g):h(angular.element(s[0]),D);r="";var G=[];for(p=0;p<s.length;p++)if(3!==s[p].nodeType){var H=angular.element(s[p]);if("li"===s[p].tagName.toLowerCase())continue;r+="ol"===s[p].tagName.toLowerCase()||"ul"===s[p].tagName.toLowerCase()?H[0].innerHTML:"span"!==s[p].tagName.toLowerCase()||"ol"!==s[p].childNodes[0].tagName.toLowerCase()&&"ul"!==s[p].childNodes[0].tagName.toLowerCase()?"<"+b("li")+">"+H[0].innerHTML+"</"+b("li")+">":H[0].childNodes[0].innerHTML,G.unshift(H)}q=angular.element("<"+D+">"+r+"</"+D+">"),G.pop().replaceWith(q),angular.forEach(G,function(a){a.remove()})}return void a.setSelectionToElementEnd(q[0])}}else{if("formatblock"===l.toLowerCase()){for(u=n.toLowerCase().replace(/[<>]/gi,""),"default"===u.trim()&&(u=g,n="<"+g+">"),q="li"===C?B.parent():B;!q[0].tagName||!q[0].tagName.match(BLOCKELEMENTS)&&!q.parent().attr("contenteditable");)q=q.parent(),C=(q[0].tagName||"").toLowerCase();if(C===u){s=q.children();var I=!1;for(p=0;p<s.length;p++)I=I||s[p].tagName.match(BLOCKELEMENTS);I?(q.after(s),t=q.next(),q.remove(),q=t):(x.append(q[0].childNodes),q.after(x),q.remove(),q=x)}else if(q.parent()[0].tagName.toLowerCase()!==u||q.parent().hasClass("ta-bind"))if(C.match(LISTELEMENTS))q.wrap(n);else{for(s=a.getOnlySelectedElements(),0===s.length&&(s=[q[0]]),p=0;p<s.length;p++)if(3===s[p].nodeType||!s[p].tagName.match(BLOCKELEMENTS))for(;3===s[p].nodeType||!s[p].tagName||!s[p].tagName.match(BLOCKELEMENTS);)s[p]=s[p].parentNode;if(s=s.filter(function(a,b,c){return c.indexOf(a)===b}),s.length>1&&(s=s.filter(function(a,b,c){return!("div"===a.nodeName.toLowerCase()&&/^taTextElement/.test(a.id))})),angular.element(s[0]).hasClass("ta-bind"))q=angular.element(n),q[0].innerHTML=s[0].innerHTML,s[0].innerHTML=q[0].outerHTML;else if("blockquote"===u){for(r="",p=0;p<s.length;p++)r+=s[p].outerHTML;for(q=angular.element(n),q[0].innerHTML=r,s[0].parentNode.insertBefore(q[0],s[0]),p=s.length-1;p>=0;p--)s[p].parentNode&&s[p].parentNode.removeChild(s[p])}else if("pre"===u&&a.getStateShiftKey()){for(r="",p=0;p<s.length;p++)r+=s[p].outerHTML;for(q=angular.element(n),q[0].innerHTML=r,s[0].parentNode.insertBefore(q[0],s[0]),p=s.length-1;p>=0;p--)s[p].parentNode&&s[p].parentNode.removeChild(s[p])}else for(p=0;p<s.length;p++){var J=j(s[p],n);s[p]===q[0]&&(q=angular.element(J))}}else{var K=q.parent(),L=K.contents();for(p=0;p<L.length;p++)K.parent().hasClass("ta-bind")&&3===L[p].nodeType&&(x=angular.element("<"+g+">"),x[0].innerHTML=L[p].outerHTML,L[p]=x[0]),K.parent()[0].insertBefore(L[p],K[0]);K.remove()}return a.setSelectionToElementEnd(q[0]),void q[0].focus()}if("createlink"===l.toLowerCase()){if("a"===C)return void(a.getSelectionElement().href=n);var M='<a href="'+n+'" target="'+(o.a.target?o.a.target:"")+'">',N="</a>",O=a.getSelection();if(O.collapsed)a.insertHtml(M+n+N,k);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var P=angular.element(M+N)[0];rangy.getSelection().getRangeAt(0).surroundContents(P)}return}if("inserthtml"===l.toLowerCase())return void a.insertHtml(n,k)}try{c[0].execCommand(l,m,n)}catch(A){}}}}}]).service("taSelection",["$document","taDOM","$log",function(a,b,c){var d,e=a[0],f=function(a,b){return a.tagName&&a.tagName.match(/^br$/i)&&0===b&&!a.previousSibling?{element:a.parentNode,offset:0}:{element:a,offset:b}},g={getSelection:function(){var a;try{a=rangy.getSelection().getRangeAt(0)}catch(b){return void 0}var c=a.commonAncestorContainer,d={start:f(a.startContainer,a.startOffset),end:f(a.endContainer,a.endOffset),collapsed:a.collapsed};return 3===c.nodeType&&("div"===c.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(c.parentNode.id)||(c=c.parentNode)),"div"===c.nodeName.toLowerCase()&&/^taTextElement/.test(c.id)?(d.start.element=c.childNodes[d.start.offset],d.end.element=c.childNodes[d.end.offset],d.container=c):c.parentNode===d.start.element||c.parentNode===d.end.element?d.container=c.parentNode:d.container=c,d},updateLeftArrowKey:function(a){var b=rangy.getSelection().getRangeAt(0);if(b&&b.collapsed){var c=g.getFlattenedDom(b);if(!c.findIndex)return;var d,e,f=b.startContainer,h=c.findIndex(function(a,b){if(a.node===f)return!0;var c=a.parents.indexOf(f);return-1!==c});if(c.forEach(function(a,b){a.parents.forEach(function(a,b){})}),h+1<c.length&&(e=c[h+1].node),e&&e.textContent&&(d=/^\ufeff([^\ufeff]*)$/.exec(e.textContent)))return;var i;if(h>0&&(i=c[h-1].node),0===b.startOffset&&i&&(d=/^\ufeff([^\ufeff]*)$/.exec(i.textContent)))return void g.setSelectionToElementEnd(i)}},updateRightArrowKey:function(a){},getFlattenedDom:function(a){function b(a){if(a.node.childNodes.length){var c=Array.prototype.slice.call(a.node.childNodes);c.forEach(function(c){var d=a.parents.slice();d.slice(-1)[0]!==a.node&&d.push(a.node),b({parents:d,node:c})})}else d.push({parents:a.parents,node:a.node})}var c=a.commonAncestorContainer.parentNode;if(!c)return a.commonAncestorContainer.childNodes;var d=Array.prototype.slice.call(c.childNodes),e=d.indexOf(a.startContainer);return e+1<d.length&&e>0||c.parentNode&&(c=c.parentNode),d=[],b({parents:[c],node:c}),d},getOnlySelectedElements:function(){var a=rangy.getSelection().getRangeAt(0),b=a.commonAncestorContainer;return b=3===b.nodeType?b.parentNode:b,a.getNodes([1],function(a){return a.parentNode===b})},getAllSelectedElements:function(){var a=rangy.getSelection().getRangeAt(0),b=a.commonAncestorContainer;b=3===b.nodeType?b.parentNode:b;var c=a.getNodes([1],function(a){return a.parentNode===b}),d=b.innerHTML;if(d=d.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,""),d===a.toHtml()&&("div"!==b.nodeName.toLowerCase()||!/^taTextElement/.test(b.id))){for(var e=[],f=c.length;f--;e.unshift(c[f]));c=e,c.push(b)}return c},getSelectionElement:function(){var a=g.getSelection();return a?g.getSelection().container:void 0},setSelection:function(a,b,c,d){var e=rangy.createRange();e.setStart(a,c),e.setEnd(b,d),rangy.getSelection().setSingleRange(e)},setSelectionBeforeElement:function(a){var b=rangy.createRange();b.selectNode(a),b.collapse(!0),rangy.getSelection().setSingleRange(b)},setSelectionAfterElement:function(a){var b=rangy.createRange();b.selectNode(a),b.collapse(!1),rangy.getSelection().setSingleRange(b)},setSelectionToElementStart:function(a){var b=rangy.createRange();b.selectNodeContents(a),b.collapse(!0),rangy.getSelection().setSingleRange(b)},setSelectionToElementEnd:function(a){
var b=rangy.createRange();b.selectNodeContents(a),b.collapse(!1),a.childNodes&&a.childNodes[a.childNodes.length-1]&&"br"===a.childNodes[a.childNodes.length-1].nodeName&&(b.startOffset=b.endOffset=b.startOffset-1),rangy.getSelection().setSingleRange(b)},setStateShiftKey:function(a){d=a},getStateShiftKey:function(){return d},insertHtml:function(a,c){var d,f,h,i,j,k,l,m=angular.element("<div>"+a+"</div>"),n=rangy.getSelection().getRangeAt(0),o=e.createDocumentFragment(),p=m[0].childNodes,q=!0;if(p.length>0){for(i=[],h=0;h<p.length;h++){var r=p[h];("p"!==r.nodeName.toLowerCase()||""!==r.innerHTML.trim())&&(q=q&&!BLOCKELEMENTS.test(r.nodeName),i.push(r))}for(var s=0;s<i.length;s++)k=o.appendChild(i[s]);!q&&n.collapsed&&/^(|<br(|\/)>)$/i.test(n.startContainer.innerHTML)&&n.selectNode(n.startContainer)}else q=!0,k=o=e.createTextNode(a);if(q)n.deleteContents();else if(n.collapsed&&n.startContainer!==c)if(n.startContainer.innerHTML&&n.startContainer.innerHTML.match(/^<[^>]*>$/i))d=n.startContainer,1===n.startOffset?(n.setStartAfter(d),n.setEndAfter(d)):(n.setStartBefore(d),n.setEndBefore(d));else{if(3===n.startContainer.nodeType&&n.startContainer.parentNode!==c)for(d=n.startContainer.parentNode,f=d.cloneNode(),b.splitNodes(d.childNodes,d,f,n.startContainer,n.startOffset);!VALIDELEMENTS.test(d.nodeName);){angular.element(d).after(f),d=d.parentNode;var t=f;f=d.cloneNode(),b.splitNodes(d.childNodes,d,f,t)}else d=n.startContainer,f=d.cloneNode(),b.splitNodes(d.childNodes,d,f,void 0,void 0,n.startOffset);if(angular.element(d).after(f),n.setStartAfter(d),n.setEndAfter(d),/^(|<br(|\/)>)$/i.test(d.innerHTML.trim())&&(n.setStartBefore(d),n.setEndBefore(d),angular.element(d).remove()),/^(|<br(|\/)>)$/i.test(f.innerHTML.trim())&&angular.element(f).remove(),"li"===d.nodeName.toLowerCase()){for(l=e.createDocumentFragment(),j=0;j<o.childNodes.length;j++)m=angular.element("<li>"),b.transferChildNodes(o.childNodes[j],m[0]),b.transferNodeAttributes(o.childNodes[j],m[0]),l.appendChild(m[0]);o=l,k&&(k=o.childNodes[o.childNodes.length-1],k=k.childNodes[k.childNodes.length-1])}}else n.deleteContents();n.insertNode(o),k&&g.setSelectionToElementEnd(k)}};return g}]).service("taDOM",function(){var a={getByAttribute:function(b,c){var d=[],e=b.children();return e.length&&angular.forEach(e,function(b){d=d.concat(a.getByAttribute(angular.element(b),c))}),void 0!==b.attr(c)&&d.push(b),d},transferChildNodes:function(a,b){for(b.innerHTML="";a.childNodes.length>0;)b.appendChild(a.childNodes[0]);return b},splitNodes:function(b,c,d,e,f,g){if(!e&&isNaN(g))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var h=document.createDocumentFragment(),i=document.createDocumentFragment(),j=0;b.length>0&&(isNaN(g)||g!==j)&&b[0]!==e;)h.appendChild(b[0]),j++;for(!isNaN(f)&&f>=0&&b[0]&&(h.appendChild(document.createTextNode(b[0].nodeValue.substring(0,f))),b[0].nodeValue=b[0].nodeValue.substring(f));b.length>0;)i.appendChild(b[0]);a.transferChildNodes(h,c),a.transferChildNodes(i,d)},transferNodeAttributes:function(a,b){for(var c=0;c<a.attributes.length;c++)b.setAttribute(a.attributes[c].name,a.attributes[c].value);return b}};return a}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=parseInt(a.$eval(c.taMaxText));if(isNaN(e))throw"Max text must be an integer";c.$observe("taMaxText",function(a){if(e=parseInt(a),isNaN(e))throw"Max text must be an integer";d.$dirty&&d.$validate()}),d.$validators.taMaxText=function(a){var b=angular.element("<div/>");return b.html(a),b.text().length<=e}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=parseInt(a.$eval(c.taMinText));if(isNaN(e))throw"Min text must be an integer";c.$observe("taMinText",function(a){if(e=parseInt(a),isNaN(e))throw"Min text must be an integer";d.$dirty&&d.$validate()}),d.$validators.taMinText=function(a){var b=angular.element("<div/>");return b.html(a),!b.text().length||b.text().length>=e}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(a){if(!a)return!0;var b=stripHtmlToText(a);return""===b?/<img[^>]+>/.test(a)?!1:!0:!1}}]).directive("taButton",[function(){return{link:function(a,b,c){b.attr("unselectable","on"),b.on("mousedown",function(a,b){return b&&angular.extend(a,b),a.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(e,l,n,o){function p(a){var b;return O.forEach(function(c){if(c.keyCode===a.keyCode){var d=(a.metaKey?G:0)+(a.ctrlKey?F:0)+(a.shiftKey?I:0)+(a.altKey?H:0);if(c.forbiddenModifiers&d)return;c.mustHaveModifiers.every(function(a){return d&a})&&(b=c.specialKey)}}),b}var q,r,s,t,u=o[0],v=o[1]||{},w=void 0!==l.attr("contenteditable")&&l.attr("contenteditable"),x=w||"textarea"===l[0].tagName.toLowerCase()||"input"===l[0].tagName.toLowerCase(),y=!1,z=!1,A=!1,B=n.taUnsafeSanitizer||i.disableSanitizer,C=n.taKeepStyles||i.keepStyles,D=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,E=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,F=1,G=2,H=4,I=8,J=13,K=16,L=9,M=37,N=39,O=[{specialKey:"UndoKey",forbiddenModifiers:H+I,mustHaveModifiers:[G+F],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:H,mustHaveModifiers:[G+F,I],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:H+I,mustHaveModifiers:[G+F],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:G+I+H+F,mustHaveModifiers:[],keyCode:L},{specialKey:"ShiftTabKey",forbiddenModifiers:G+H+F,mustHaveModifiers:[I],keyCode:L}];void 0===n.taDefaultWrap&&(n.taDefaultWrap="p"),""===n.taDefaultWrap?(s="",t=void 0===_browserDetect.ie?"<div><br></div>":_browserDetect.ie>=11?"<p><br></p>":_browserDetect.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(s=void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===n.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+n.taDefaultWrap+"><br></"+n.taDefaultWrap+">":_browserDetect.ie<=8?"<"+n.taDefaultWrap.toUpperCase()+"></"+n.taDefaultWrap.toUpperCase()+">":"<"+n.taDefaultWrap+"></"+n.taDefaultWrap+">",t=void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===n.taDefaultWrap.toLowerCase()?"<br><br>":"<"+n.taDefaultWrap+"><br></"+n.taDefaultWrap+">":_browserDetect.ie<=8?"<"+n.taDefaultWrap.toUpperCase()+">&nbsp;</"+n.taDefaultWrap.toUpperCase()+">":"<"+n.taDefaultWrap+">&nbsp;</"+n.taDefaultWrap+">"),v.$options||(v.$options={});var P=function(a){if(j(a))return a;var b=angular.element("<div>"+a+"</div>");if(0===b.children().length)a="<"+n.taDefaultWrap+">"+a+"</"+n.taDefaultWrap+">";else{var c,d=b[0].childNodes,e=!1;for(c=0;c<d.length&&!(e=d[c].nodeName.toLowerCase().match(BLOCKELEMENTS));c++);if(e)for(a="",c=0;c<d.length;c++){var f=d[c],g=f.nodeName.toLowerCase();if("#comment"===g)a+="<!--"+f.nodeValue+"-->";else if("#text"===g){var h=f.textContent;a+=h.trim()?"<"+n.taDefaultWrap+">"+h+"</"+n.taDefaultWrap+">":h}else if(g.match(BLOCKELEMENTS))a+=f.outerHTML;else{var i=f.outerHTML||f.nodeValue;a+=""!==i.trim()?"<"+n.taDefaultWrap+">"+i+"</"+n.taDefaultWrap+">":i}}else a="<"+n.taDefaultWrap+">"+a+"</"+n.taDefaultWrap+">"}return a};n.taPaste&&(r=k(n.taPaste)),l.addClass("ta-bind");var Q;e["$undoManager"+(n.id||"")]=u.$undoManager={_stack:[],_index:0,_max:1e3,push:function(a){return"undefined"==typeof a||null===a||"undefined"!=typeof this.current()&&null!==this.current()&&a===this.current()?a:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(a),Q&&b.cancel(Q),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,a)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(a){return 0>a||a>this._stack.length-1?void 0:(this._index=a,this.current())},current:function(){return this._stack[this._index]}};var R,S=function(){if(w)return l[0].innerHTML;if(x)return l.val();throw"textAngular Error: attempting to update non-editable taBind"},T=function(a){return e.$emit("ta-element-select",this),a.preventDefault(),!1},U=e["reApplyOnSelectorHandlers"+(n.id||"")]=function(){y||angular.forEach(g,function(a){l.find(a).off("click",T).on("click",T)})},V=function(a,b,c){A=c||!1,("undefined"==typeof b||null===b)&&(b=w),("undefined"==typeof a||null===a)&&(a=S()),j(a)?(""!==u.$viewValue&&u.$setViewValue(""),b&&""!==u.$undoManager.current()&&u.$undoManager.push("")):(U(),u.$viewValue!==a&&(u.$setViewValue(a),b&&u.$undoManager.push(a))),u.$render()},W=function(a){l[0].innerHTML=a},X=e["$undoTaBind"+(n.id||"")]=function(){if(!y&&w){var a=u.$undoManager.undo();"undefined"!=typeof a&&null!==a&&(W(a),V(a,!1),R&&b.cancel(R),R=b(function(){l[0].focus(),f.setSelectionToElementEnd(l[0])},1))}},Y=e["$redoTaBind"+(n.id||"")]=function(){if(!y&&w){var a=u.$undoManager.redo();"undefined"!=typeof a&&null!==a&&(W(a),V(a,!1),R&&b.cancel(R),R=b(function(){l[0].focus(),f.setSelectionToElementEnd(l[0])},1))}};e["updateTaBind"+(n.id||"")]=function(){y||V(void 0,void 0,!0)};var Z=function(b){return u.$oldViewValue=a(d(b,C),u.$oldViewValue,B)};if(l.attr("required")&&(u.$validators.required=function(a,b){return!j(a||b)}),u.$parsers.push(Z),u.$parsers.unshift(P),u.$formatters.push(Z),u.$formatters.unshift(P),u.$formatters.unshift(function(a){return u.$undoManager.push(a||"")}),x)if(e.events={},w){var $=!1,_=function(c){var d=void 0!==c?c.match(/content=["']*OneNote.File/i):!1;if(c&&c.trim().length){if(c.match(/class=["']*Mso(Normal|List)/i)||c.match(/content=["']*Word.Document/i)||c.match(/content=["']*OneNote.File/i)){var g=c.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);g=g?g[1]:c,g=g.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var h=angular.element("<div>"+g+"</div>"),i=angular.element("<div></div>"),j={element:null,lastIndent:[],lastLi:null,isUl:!1};j.lastIndent.peek=function(){var a=this.length;return a>0?this[a-1]:void 0};for(var k=function(a){j.isUl=a,j.element=angular.element(a?"<ul>":"<ol>"),j.lastIndent=[],j.lastIndent.peek=function(){var a=this.length;return a>0?this[a-1]:void 0},j.lastLevelMatch=null},m=0;m<=h[0].childNodes.length;m++)if(h[0].childNodes[m]&&"#text"!==h[0].childNodes[m].nodeName){var n=h[0].childNodes[m].tagName.toLowerCase();if("p"===n||"ul"===n||"h1"===n||"h2"===n||"h3"===n||"h4"===n||"h5"===n||"h6"===n||"table"===n){var o=angular.element(h[0].childNodes[m]),p=(o.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(p){if(o[0].childNodes.length<2||o[0].childNodes[1].childNodes.length<1)continue;var q="bullet"===p[1].toLowerCase()||"number"!==p[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(o[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(o[0].childNodes[1].childNodes[0].innerHTML)),s=(o.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),t=parseFloat(s?s[1]:0),v=(o.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(v&&v[2]&&(t=parseInt(v[2])),v&&(!j.lastLevelMatch||v[1]!==j.lastLevelMatch[1])||!p[3]||"first"===p[3].toLowerCase()||null===j.lastIndent.peek()||j.isUl!==q&&j.lastIndent.peek()===t)k(q),i.append(j.element);else if(null!=j.lastIndent.peek()&&j.lastIndent.peek()<t)j.element=angular.element(q?"<ul>":"<ol>"),j.lastLi.append(j.element);else if(null!=j.lastIndent.peek()&&j.lastIndent.peek()>t){for(;null!=j.lastIndent.peek()&&j.lastIndent.peek()>t;)if("li"!==j.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(j.element.parent()[0].tagName.toLowerCase()))break;j.element=j.element.parent(),j.lastIndent.pop()}else j.element=j.element.parent();j.isUl="ul"===j.element[0].tagName.toLowerCase(),q!==j.isUl&&(k(q),i.append(j.element))}j.lastLevelMatch=v,t!==j.lastIndent.peek()&&j.lastIndent.push(t),j.lastLi=angular.element("<li>"),j.element.append(j.lastLi),j.lastLi.html(o.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),o.remove()}else k(!1),i.append(o)}}var w=function(a){a=angular.element(a);for(var b=a[0].childNodes.length-1;b>=0;b--)a.after(a[0].childNodes[b]);a.remove()};angular.forEach(i.find("span"),function(a){a.removeAttribute("lang"),a.attributes.length<=0&&w(a)}),angular.forEach(i.find("font"),w),c=i.html(),d&&(c=i.html()||h.html()),c=c.replace(/\n/g," ")}else{if(c=c.replace(/<(|\/)meta[^>]*?>/gi,""),c.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(c.match(/<[^>]*?(text-angular)[^>]*?>/)){var x=angular.element("<div>"+c+"</div>");x.find("textarea").remove();for(var y=0;y<binds.length;y++){for(var z=binds[y][0].parentNode.parentNode,A=0;A<binds[y][0].childNodes.length;A++)z.parentNode.insertBefore(binds[y][0].childNodes[A],z);z.parentNode.removeChild(z)}c=x.html().replace('<br class="Apple-interchange-newline">',"")}}else c.match(/^<span/)&&(c.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(c=c.replace(/<(|\/)span[^>]*?>/gi,"")));c=c.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(c)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(c)===!1&&(c=c.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),c=c.replace(/^[ |\u00A0]+/gm,function(a){for(var b="",c=0;c<a.length;c++)b+="&nbsp;";return b}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),r&&(c=r(e,{$html:c})||c),c=c.replace(/<span style=("|')([^<]*?)vertical-align\s*:\s*super;?([^>]*?)("|')>([^<]+?)<\/span>/g,"<sup style='$2$3'>$5</sup>"),c=a(c,"",B),f.insertHtml(c,l[0]),b(function(){u.$setViewValue(S()),$=!1,l.removeClass("processing-paste")},0)}else $=!1,l.removeClass("processing-paste")};l.on("paste",e.events.paste=function(a,d){if(d&&angular.extend(a,d),y||$)return a.stopPropagation(),a.preventDefault(),!1;$=!0,l.addClass("processing-paste");var e,f=(a.originalEvent||a).clipboardData;if(!f&&window.clipboardData&&window.clipboardData.getData)return e=window.clipboardData.getData("Text"),_(e),a.stopPropagation(),a.preventDefault(),!1;if(f&&f.getData&&f.types.length>0){for(var g="",h=0;h<f.types.length;h++)g+=" "+f.types[h];return/text\/html/i.test(g)?e=f.getData("text/html"):/text\/plain/i.test(g)&&(e=f.getData("text/plain")),_(e),a.stopPropagation(),a.preventDefault(),!1}var i=rangy.saveSelection(),j=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');c.find("body").append(j),j[0].focus(),b(function(){rangy.restoreSelection(i),_(j[0].innerHTML),l[0].focus(),j.remove()},0)}),l.on("cut",e.events.cut=function(a){y?a.preventDefault():b(function(){u.$setViewValue(S())},0)}),l.on("keydown",e.events.keydown=function(a,b){b&&angular.extend(a,b),a.keyCode===K?f.setStateShiftKey(!0):f.setStateShiftKey(!1),a.specialKey=p(a);var c;if(i.keyMappings.forEach(function(b){a.specialKey===b.commandKeyCode&&(a.specialKey=void 0),b.testForKey(a)&&(c=b.commandKeyCode),("UndoKey"===b.commandKeyCode||"RedoKey"===b.commandKeyCode)&&(b.enablePropagation||a.preventDefault())}),"undefined"!=typeof c&&(a.specialKey=c),"undefined"==typeof a.specialKey||"UndoKey"===a.specialKey&&"RedoKey"===a.specialKey||(a.preventDefault(),m.sendKeyCommand(e,a)),!(y||("UndoKey"===a.specialKey&&(X(),a.preventDefault()),"RedoKey"===a.specialKey&&(Y(),a.preventDefault()),a.keyCode!==J||a.shiftKey||a.ctrlKey||a.metaKey||a.altKey))){var d,g=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},h=f.getSelectionElement();if(!h.nodeName.match(VALIDELEMENTS))return;var j=angular.element(s),k=["blockquote","ul","ol"];if(g(k,h.parentNode.tagName.toLowerCase())){if(/^<br(|\/)>$/i.test(h.innerHTML.trim())&&!h.nextSibling){d=angular.element(h);var l=d.parent();l.after(j),d.remove(),0===l.children().length&&l.remove(),f.setSelectionToElementStart(j[0]),a.preventDefault()}/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(h.innerHTML.trim())&&(d=angular.element(h),d.after(j),d.remove(),f.setSelectionToElementStart(j[0]),a.preventDefault())}}});var aa;l.on("keyup",e.events.keyup=function(a,c){if(c&&angular.extend(a,c),f.setStateShiftKey(!1),a.keyCode===L){var d=f.getSelection();return void(d.start.element===l[0]&&l.children().length&&f.setSelectionToElementStart(l.children()[0]))}if(a.keyCode!==M||a.shiftKey||f.updateLeftArrowKey(l),a.keyCode!==N||a.shiftKey||f.updateRightArrowKey(l),Q&&b.cancel(Q),!y&&!D.test(a.keyCode))if(a.keyCode===J&&(a.ctrlKey||a.metaKey||a.altKey));else{if(""!==s&&"<BR><BR>"!==s&&a.keyCode===J&&!a.ctrlKey&&!a.metaKey&&!a.altKey){for(var e=f.getSelectionElement();!e.nodeName.match(VALIDELEMENTS)&&e!==l[0];)e=e.parentNode;if(a.shiftKey){var g=e.tagName.toLowerCase();if((g===n.taDefaultWrap||"li"===g||"pre"===g||"div"===g)&&!/.+<br><br>/.test(e.innerHTML.trim())){var h=e.previousSibling;h&&(h.innerHTML=h.innerHTML+"<br><br>",angular.element(e).remove(),f.setSelectionToElementEnd(h))}}else if(e.tagName.toLowerCase()!==n.taDefaultWrap&&"li"!==e.nodeName.toLowerCase()&&(""===e.innerHTML.trim()||"<br>"===e.innerHTML.trim())){var i=angular.element(s);angular.element(e).replaceWith(i),f.setSelectionToElementStart(i[0])}}var j=S();""===s||""!==j.trim()&&"<br>"!==j.trim()?"<"!==j.substring(0,1)&&""!==n.taDefaultWrap:(W(s),f.setSelectionToElementStart(l.children()[0]));var k=q!==a.keyCode&&E.test(a.keyCode);aa&&b.cancel(aa),aa=b(function(){V(j,k,!0)},v.$options.debounce||400),k||(Q=b(function(){u.$undoManager.push(j)},250)),q=a.keyCode}});var ba;if(l.on("input",function(){S()!==u.$viewValue&&(ba&&b.cancel(ba),ba=b(function(){var a=rangy.saveSelection(),b=S();b!==u.$viewValue&&V(b,!0),0!==u.$viewValue.length&&rangy.restoreSelection(a)},1e3))}),l.on("blur",e.events.blur=function(){z=!1,y?(A=!0,u.$render()):V(void 0,void 0,!0)}),n.placeholder&&(_browserDetect.ie>8||void 0===_browserDetect.ie)){var ca;if(!n.id)throw"textAngular Error: An unique ID is required for placeholders to work";ca=addCSSRule("#"+n.id+".placeholder-text:before",'content: "'+n.placeholder+'"'),e.$on("$destroy",function(){removeCSSRule(ca)})}l.on("focus",e.events.focus=function(){z=!0,l.removeClass("placeholder-text"),U()}),l.on("mouseup",e.events.mouseup=function(){var a=f.getSelection();a&&a.start.element===l[0]&&l.children().length&&f.setSelectionToElementStart(l.children()[0])}),l.on("mousedown",e.events.mousedown=function(a,b){b&&angular.extend(a,b),a.stopPropagation()})}else{l.on("change blur",e.events.change=e.events.blur=function(){y||u.$setViewValue(S())}),l.on("keydown",e.events.keydown=function(a,b){if(b&&angular.extend(a,b),a.keyCode===L){var c=this.selectionStart,d=this.selectionEnd,e=l.val();if(a.shiftKey){var f=e.lastIndexOf("\n",c),g=e.lastIndexOf("	",c);-1!==g&&g>=f&&(l.val(e.substring(0,g)+e.substring(g+1)),this.selectionStart=this.selectionEnd=c-1)}else l.val(e.substring(0,c)+"	"+e.substring(d)),this.selectionStart=this.selectionEnd=c+1;a.preventDefault()}});var da=function(a,b){for(var c="",d=0;b>d;d++)c+=a;return c},ea=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])},fa=function(a,b){var c="",d=a.childNodes;return b++,c+=da("	",b-1)+a.outerHTML.substring(0,4),ea(d,function(a,d){var e=d.nodeName.toLowerCase();return"#comment"===e?void(c+="<!--"+d.nodeValue+"-->"):"#text"===e?void(c+=d.textContent):void(d.outerHTML&&(c+="ul"===e||"ol"===e?"\n"+fa(d,b):"\n"+da("	",b)+d.outerHTML))}),c+="\n"+da("	",b-1)+a.outerHTML.substring(a.outerHTML.lastIndexOf("<"))};u.$formatters.unshift(function(a){var b=angular.element("<div>"+a+"</div>")[0].childNodes;return b.length>0&&(a="",ea(b,function(b,c){var d=c.nodeName.toLowerCase();return"#comment"===d?void(a+="<!--"+c.nodeValue+"-->"):"#text"===d?void(a+=c.textContent):void(c.outerHTML&&(a.length>0&&(a+="\n"),a+="ul"===d||"ol"===d?""+fa(c,0):""+c.outerHTML))})),a})}var ga,ha=function(a,c){if(c&&angular.extend(a,c),!dropFired&&!y){dropFired=!0;var d;d=a.originalEvent?a.originalEvent.dataTransfer:a.dataTransfer,e.$emit("ta-drop-event",this,a,d),b(function(){dropFired=!1,V(void 0,void 0,!0)},100)}},ia=!1;u.$render=function(){if(!ia){ia=!0;var a=u.$viewValue||"";A||(w&&z&&(l.removeClass("placeholder-text"),ga&&b.cancel(ga),ga=b(function(){z||(l[0].focus(),f.setSelectionToElementEnd(l.children()[l.children().length-1])),ga=void 0},1)),w?(W(n.placeholder?""===a?s:a:""===a?s:a),y?l.off("drop",ha):(U(),l.on("drop",ha))):"textarea"!==l[0].tagName.toLowerCase()&&"input"!==l[0].tagName.toLowerCase()?W(h(a)):l.val(a)),w&&n.placeholder&&(""===a?z?l.removeClass("placeholder-text"):l.addClass("placeholder-text"):l.removeClass("placeholder-text")),ia=A=!1}},n.taReadonly&&(y=e.$eval(n.taReadonly),y?(l.addClass("ta-readonly"),("textarea"===l[0].tagName.toLowerCase()||"input"===l[0].tagName.toLowerCase())&&l.attr("disabled","disabled"),void 0!==l.attr("contenteditable")&&l.attr("contenteditable")&&l.removeAttr("contenteditable")):(l.removeClass("ta-readonly"),"textarea"===l[0].tagName.toLowerCase()||"input"===l[0].tagName.toLowerCase()?l.removeAttr("disabled"):w&&l.attr("contenteditable","true")),e.$watch(n.taReadonly,function(a,b){b!==a&&(a?(l.addClass("ta-readonly"),("textarea"===l[0].tagName.toLowerCase()||"input"===l[0].tagName.toLowerCase())&&l.attr("disabled","disabled"),void 0!==l.attr("contenteditable")&&l.attr("contenteditable")&&l.removeAttr("contenteditable"),angular.forEach(g,function(a){l.find(a).on("click",T)}),l.off("drop",ha)):(l.removeClass("ta-readonly"),"textarea"===l[0].tagName.toLowerCase()||"input"===l[0].tagName.toLowerCase()?l.removeAttr("disabled"):w&&l.attr("contenteditable","true"),angular.forEach(g,function(a){l.find(a).off("click",T)}),l.on("drop",ha)),y=a)})),w&&!y&&(angular.forEach(g,function(a){l.find(a).on("click",T)}),l.on("drop",ha))}}}]);var dropFired=!1,textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);textAngular.config([function(){angular.forEach(taTools,function(a,b){delete taTools[b]})}]),textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(a,b,c,d,e,f,g,h,i,j,k){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(l,m,n,o){var p,q,r,s,t,u,v,w,x,y,z,A,B=n.serial?n.serial:Math.floor(1e16*Math.random());l._name=n.name?n.name:"textAngularEditor"+B;var C=function(a,c,d){b(function(){a.one(c,d)},100)};if(x=e(n.taDefaultWrap),angular.extend(l,angular.copy(c),{wrapSelection:function(a,b,c){"undo"===a.toLowerCase()?l["$undoTaBindtaTextElement"+B]():"redo"===a.toLowerCase()?l["$redoTaBindtaTextElement"+B]():(x(a,!1,b,l.defaultTagAttributes),c&&l["reApplyOnSelectorHandlerstaTextElement"+B](),l.displayElements.text[0].focus())},showHtml:l.$eval(n.taShowHtml)||!1}),n.taFocussedClass&&(l.classes.focussed=n.taFocussedClass),n.taTextEditorClass&&(l.classes.textEditor=n.taTextEditorClass),n.taHtmlEditorClass&&(l.classes.htmlEditor=n.taHtmlEditorClass),n.taDefaultTagAttributes)try{angular.extend(l.defaultTagAttributes,angular.fromJson(n.taDefaultTagAttributes))}catch(D){i.error(D)}n.taTextEditorSetup&&(l.setup.textEditorSetup=l.$parent.$eval(n.taTextEditorSetup)),n.taHtmlEditorSetup&&(l.setup.htmlEditorSetup=l.$parent.$eval(n.taHtmlEditorSetup)),n.taFileDrop?l.fileDropHandler=l.$parent.$eval(n.taFileDrop):l.fileDropHandler=l.defaultFileDropHandler,v=m[0].innerHTML,m[0].innerHTML="",l.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},l.displayElements.popover.append(l.displayElements.popoverArrow),l.displayElements.popover.append(l.displayElements.popoverContainer),l.displayElements.scrollWindow.append(l.displayElements.popover),l.displayElements.popover.on("mousedown",function(a,b){return b&&angular.extend(a,b),a.preventDefault(),!1}),l.handlePopoverEvents=function(){"block"===l.displayElements.popover.css("display")&&(A&&b.cancel(A),A=b(function(){l.reflowPopover(l.resizeElement),l.reflowResizeOverlay(l.resizeElement)},100))},angular.element(window).on("resize",l.handlePopoverEvents),angular.element(window).on("scroll",l.handlePopoverEvents);var E=function(a){var b,c={vertical:!1,horizontal:!1};try{if(b=window.getComputedStyle(a),null===b)return c}catch(d){return c}var e=b["overflow-y"],f=b["overflow-x"];return{vertical:("scroll"===e||"auto"===e)&&a.scrollHeight>a.clientHeight,horizontal:("scroll"===f||"auto"===f)&&a.scrollWidth>a.clientWidth}};l.getScrollTop=function(a,b){var c=a.scrollTop;return"undefined"==typeof c&&(c=0),b&&E(a).vertical&&(a.removeEventListener("scroll",l._scrollListener,!1),a.addEventListener("scroll",l._scrollListener,!1)),0!==c?{node:a.nodeName,top:c}:a.parentNode?l.getScrollTop(a.parentNode,b):{node:"<none>",top:0}},l.showPopover=function(a){l.getScrollTop(l.displayElements.scrollWindow[0],!0),l.displayElements.popover.css("display","block"),b(function(){l.displayElements.resize.overlay.css("display","block")}),l.resizeElement=a,l.reflowPopover(a),h.addClass(l.displayElements.popover,"in"),C(g.find("body"),"click keyup",function(){l.hidePopover()})},l._scrollListener=function(a,b){l.handlePopoverEvents()},l.reflowPopover=function(a){var b=l.getScrollTop(l.displayElements.scrollWindow[0],!1),c=a[0].offsetTop-b.top;51>c?(l.displayElements.popover.css("top",a[0].offsetTop+a[0].offsetHeight+l.displayElements.scrollWindow[0].scrollTop+"px"),l.displayElements.popover.removeClass("top").addClass("bottom")):(l.displayElements.popover.css("top",a[0].offsetTop-54+l.displayElements.scrollWindow[0].scrollTop+"px"),l.displayElements.popover.removeClass("bottom").addClass("top"));var d=l.displayElements.text[0].offsetWidth-l.displayElements.popover[0].offsetWidth,e=a[0].offsetLeft+a[0].offsetWidth/2-l.displayElements.popover[0].offsetWidth/2,f=Math.max(0,Math.min(d,e)),g=Math.min(e,Math.max(0,e-d))-11;f+=window.scrollX,g-=window.scrollX,l.displayElements.popover.css("left",f+"px"),l.displayElements.popoverArrow.css("margin-left",g+"px")},l.hidePopover=function(){l.displayElements.popover.css("display","none"),l.displayElements.popoverContainer.attr("style",""),l.displayElements.popoverContainer.attr("class","popover-content"),l.displayElements.popover.removeClass("in"),l.displayElements.resize.overlay.css("display","none")},l.displayElements.resize.overlay.append(l.displayElements.resize.background),angular.forEach(l.displayElements.resize.anchors,function(a){l.displayElements.resize.overlay.append(a)}),l.displayElements.resize.overlay.append(l.displayElements.resize.info),l.displayElements.scrollWindow.append(l.displayElements.resize.overlay),l.displayElements.resize.background.on("click",function(a){l.displayElements.text[0].focus()}),l.reflowResizeOverlay=function(a){a=angular.element(a)[0],l.displayElements.resize.overlay.css({display:"block",left:a.offsetLeft-5+"px",top:a.offsetTop-5+"px",width:a.offsetWidth+10+"px",height:a.offsetHeight+10+"px"}),l.displayElements.resize.info.text(a.offsetWidth+" x "+a.offsetHeight)},l.showResizeOverlay=function(a){var b=g.find("body");y=function(c){var d={width:parseInt(a.attr("width")),height:parseInt(a.attr("height")),x:c.clientX,y:c.clientY};(void 0===d.width||isNaN(d.width))&&(d.width=a[0].offsetWidth),(void 0===d.height||isNaN(d.height))&&(d.height=a[0].offsetHeight),l.hidePopover();var e=d.height/d.width,f=function(b){function c(a){return Math.round(Math.max(0,a))}var f={x:Math.max(0,d.width+(b.clientX-d.x)),y:Math.max(0,d.height+(b.clientY-d.y))},g=void 0!==n.taResizeForceAspectRatio,h=n.taResizeMaintainAspectRatio,i=g||h&&!b.shiftKey;if(i){var j=f.y/f.x;f.x=e>j?f.x:f.y/e,f.y=e>j?f.x*e:f.y}var k=angular.element(a);k.css("height",c(f.y)+"px"),k.css("width",c(f.x)+"px"),l.reflowResizeOverlay(a)};b.on("mousemove",f),C(b,"mouseup",function(a){a.preventDefault(),a.stopPropagation(),b.off("mousemove",f),l.$apply(function(){l.hidePopover(),l.updateTaBindtaTextElement()},100)}),c.stopPropagation(),c.preventDefault()},l.displayElements.resize.anchors[3].off("mousedown"),l.displayElements.resize.anchors[3].on("mousedown",y),l.reflowResizeOverlay(a),C(b,"click",function(){l.hideResizeOverlay()})},l.hideResizeOverlay=function(){l.displayElements.resize.anchors[3].off("mousedown",y),l.displayElements.resize.overlay.css("display","none")},l.setup.htmlEditorSetup(l.displayElements.html),l.setup.textEditorSetup(l.displayElements.text),l.displayElements.html.attr({id:"taHtmlElement"+B,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":m.attr("ng-model-options")}),l.displayElements.text.attr({id:"taTextElement"+B,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":m.attr("ng-model-options")}),l.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),n.taDefaultWrap&&l.displayElements.text.attr("ta-default-wrap",n.taDefaultWrap),n.taUnsafeSanitizer&&(l.displayElements.text.attr("ta-unsafe-sanitizer",n.taUnsafeSanitizer),l.displayElements.html.attr("ta-unsafe-sanitizer",n.taUnsafeSanitizer)),n.taKeepStyles&&(l.displayElements.text.attr("ta-keep-styles",n.taKeepStyles),l.displayElements.html.attr("ta-keep-styles",n.taKeepStyles)),l.displayElements.scrollWindow.append(l.displayElements.text),m.append(l.displayElements.scrollWindow),m.append(l.displayElements.html),l.displayElements.forminput.attr("name",l._name),m.append(l.displayElements.forminput),n.tabindex&&(m.removeAttr("tabindex"),l.displayElements.text.attr("tabindex",n.tabindex),l.displayElements.html.attr("tabindex",n.tabindex)),n.placeholder&&(l.displayElements.text.attr("placeholder",n.placeholder),l.displayElements.html.attr("placeholder",n.placeholder)),n.taDisabled&&(l.displayElements.text.attr("ta-readonly","disabled"),l.displayElements.html.attr("ta-readonly","disabled"),l.disabled=l.$parent.$eval(n.taDisabled),l.$parent.$watch(n.taDisabled,function(a){l.disabled=a,l.disabled?m.addClass(l.classes.disabled):m.removeClass(l.classes.disabled)})),n.taPaste&&(l._pasteHandler=function(a){return k(n.taPaste)(l.$parent,{$html:a})},l.displayElements.text.attr("ta-paste","_pasteHandler($html)")),a(l.displayElements.scrollWindow)(l),a(l.displayElements.html)(l),l.updateTaBindtaTextElement=l["updateTaBindtaTextElement"+B],l.updateTaBindtaHtmlElement=l["updateTaBindtaHtmlElement"+B],m.addClass("ta-root"),l.displayElements.scrollWindow.addClass("ta-text ta-editor "+l.classes.textEditor),l.displayElements.html.addClass("ta-html ta-editor "+l.classes.htmlEditor);var F=function(a,b){b!==g[0].queryCommandState(a)&&g[0].execCommand(a,!1,null)};l._actionRunning=!1;var G=!1;if(l.startAction=function(){var a=!1,b=!1,c=!1,d=!1;return l._actionRunning=!0,a=g[0].queryCommandState("bold"),b=g[0].queryCommandState("italic"),c=g[0].queryCommandState("underline"),d=g[0].queryCommandState("strikeThrough"),
G=rangy.saveSelection(),F("bold",a),F("italic",b),F("underline",c),F("strikeThrough",d),function(){G&&rangy.restoreSelection(G)}},l.endAction=function(){l._actionRunning=!1,G&&(l.showHtml?l.displayElements.html[0].focus():l.displayElements.text[0].focus(),rangy.removeMarkers(G)),G=!1,l.updateSelectedStyles(),l.showHtml||l["updateTaBindtaTextElement"+B]()},t=function(a){l.focussed=!0,m.addClass(l.classes.focussed),w.focus(),m.triggerHandler("focus"),l.updateSelectedStyles&&!l._bUpdateSelectedStyles&&b(function(){l.updateSelectedStyles()},0)},l.displayElements.html.on("focus",t),l.displayElements.text.on("focus",t),u=function(a){return l._actionRunning||g[0].activeElement===l.displayElements.html[0]||g[0].activeElement===l.displayElements.text[0]||(m.removeClass(l.classes.focussed),w.unfocus(),b(function(){l._bUpdateSelectedStyles=!1,m.triggerHandler("blur"),l.focussed=!1},0)),a.preventDefault(),!1},l.displayElements.html.on("blur",u),l.displayElements.text.on("blur",u),l.displayElements.text.on("paste",function(a){m.triggerHandler("paste",a)}),l.queryFormatBlockState=function(a){return!l.showHtml&&a.toLowerCase()===g[0].queryCommandValue("formatBlock").toLowerCase()},l.queryCommandState=function(a){return l.showHtml?"":g[0].queryCommandState(a)},l.switchView=function(){l.showHtml=!l.showHtml,h.enabled(!1,l.displayElements.html),h.enabled(!1,l.displayElements.text),l.showHtml?b(function(){return h.enabled(!0,l.displayElements.html),h.enabled(!0,l.displayElements.text),l.displayElements.html[0].focus()},100):b(function(){return h.enabled(!0,l.displayElements.html),h.enabled(!0,l.displayElements.text),l.displayElements.text[0].focus()},100)},n.ngModel){var H=!0;o.$render=function(){if(H){H=!1;var a=l.$parent.$eval(n.ngModel);void 0!==a&&null!==a||!v||""===v||o.$setViewValue(v)}l.displayElements.forminput.val(o.$viewValue),l.html=o.$viewValue||""},m.attr("required")&&(o.$validators.required=function(a,b){var c=a||b;return!(!c||""===c.trim())})}else l.displayElements.forminput.val(v),l.html=v;if(l.$watch("html",function(a,b){a!==b&&(n.ngModel&&o.$viewValue!==a&&o.$setViewValue(a),l.displayElements.forminput.val(a))}),n.taTargetToolbars)w=f.registerEditor(l._name,l,n.taTargetToolbars.split(","));else{var I=angular.element('<div text-angular-toolbar name="textAngularToolbar'+B+'">');n.taToolbar&&I.attr("ta-toolbar",n.taToolbar),n.taToolbarClass&&I.attr("ta-toolbar-class",n.taToolbarClass),n.taToolbarGroupClass&&I.attr("ta-toolbar-group-class",n.taToolbarGroupClass),n.taToolbarButtonClass&&I.attr("ta-toolbar-button-class",n.taToolbarButtonClass),n.taToolbarActiveButtonClass&&I.attr("ta-toolbar-active-button-class",n.taToolbarActiveButtonClass),n.taFocussedClass&&I.attr("ta-focussed-class",n.taFocussedClass),m.prepend(I),a(I)(l.$parent),w=f.registerEditor(l._name,l,["textAngularToolbar"+B])}l.$on("$destroy",function(){f.unregisterEditor(l._name),angular.element(window).off("blur"),angular.element(window).off("resize",l.handlePopoverEvents),angular.element(window).off("scroll",l.handlePopoverEvents)}),l.$on("ta-element-select",function(a,b){w.triggerElementSelect(a,b)&&l["reApplyOnSelectorHandlerstaTextElement"+B]()}),l.$on("ta-drop-event",function(a,c,e,f){f&&f.files&&f.files.length>0?(l.displayElements.text[0].focus(),d.setSelectionToElementEnd(e.target),angular.forEach(f.files,function(a){try{j.when(l.fileDropHandler(a,l.wrapSelection)||l.fileDropHandler!==l.defaultFileDropHandler&&j.when(l.defaultFileDropHandler(a,l.wrapSelection))).then(function(){l["updateTaBindtaTextElement"+B]()})}catch(b){i.error(b)}}),e.preventDefault(),e.stopPropagation()):b(function(){l["updateTaBindtaTextElement"+B]()},0)}),l._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){l._bUpdateSelectedStyles=!1,l.focussed=!1}),l.updateSelectedStyles=function(){var a;z&&b.cancel(z),void 0!==(a=d.getSelectionElement())&&a.parentNode!==l.displayElements.text[0]?w.updateSelectedStyles(angular.element(a)):w.updateSelectedStyles(),l._bUpdateSelectedStyles&&(z=b(l.updateSelectedStyles,200))},p=function(){return l.focussed?void(l._bUpdateSelectedStyles||(l._bUpdateSelectedStyles=!0,l.$apply(function(){l.updateSelectedStyles()}))):void(l._bUpdateSelectedStyles=!1)},l.displayElements.html.on("keydown",p),l.displayElements.text.on("keydown",p),q=function(){l._bUpdateSelectedStyles=!1},l.displayElements.html.on("keyup",q),l.displayElements.text.on("keyup",q),r=function(a,b){if(d.getSelection){var c=d.getSelection();d.getSelectionElement()&&"a"===d.getSelectionElement().nodeName.toLowerCase()&&(3===c.start.element.nodeType&&c.start.element.textContent.length===c.end.offset&&d.setSelectionAfterElement(d.getSelectionElement()),3===c.start.element.nodeType&&0===c.start.offset&&d.setSelectionBeforeElement(d.getSelectionElement()))}b&&angular.extend(a,b),l.$apply(function(){return w.sendKeyCommand(a)?(l._bUpdateSelectedStyles||l.updateSelectedStyles(),a.preventDefault(),!1):void 0})},l.displayElements.html.on("keypress",r),l.displayElements.text.on("keypress",r),s=function(){l._bUpdateSelectedStyles=!1,b(function(){l.updateSelectedStyles()},0)},l.displayElements.html.on("mouseup",s),l.displayElements.text.on("mouseup",s)}}}]),textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(a,b,c,d,e,f){var g,h={},i={},j=0,k=function(a){angular.forEach(i,function(b){b.editorFunctions.updateSelectedStyles(a)})},l=50,m=function(){j=Date.now(),g=d(function(){k(),g=void 0},l,1)};e.$on("destroy",function(){g&&(d.cancel(g),g=void 0)});var n=function(){Math.abs(Date.now()-j)>l&&m()};return{registerEditor:function(c,d,e){if(!c||""===c)throw"textAngular Error: An editor requires a name";if(!d)throw"textAngular Error: An editor requires a scope";if(i[c])throw'textAngular Error: An Editor with name "'+c+'" already exists';return i[c]={scope:d,toolbars:e,toolbarScopes:[],_registerToolbarScope:function(a){this.toolbars.indexOf(a.name)>=0&&this.toolbarScopes.push(a)},editorFunctions:{disable:function(){angular.forEach(i[c].toolbarScopes,function(a){a.disabled=!0})},enable:function(){angular.forEach(i[c].toolbarScopes,function(a){a.disabled=!1})},focus:function(){angular.forEach(i[c].toolbarScopes,function(a){a._parent=d,a.disabled=!1,a.focussed=!0}),d.focussed=!0},unfocus:function(){angular.forEach(i[c].toolbarScopes,function(a){a.disabled=!0,a.focussed=!1}),d.focussed=!1},updateSelectedStyles:function(a){angular.forEach(i[c].toolbarScopes,function(b){angular.forEach(b.tools,function(c){c.activeState&&(b._parent=d,c.active=c.activeState(a))})})},sendKeyCommand:function(e){var f=!1;return(e.ctrlKey||e.metaKey||e.specialKey)&&angular.forEach(b,function(b,g){if(b.commandKeyCode&&(b.commandKeyCode===e.which||b.commandKeyCode===e.specialKey))for(var h=0;h<i[c].toolbarScopes.length;h++)if(void 0!==i[c].toolbarScopes[h].tools[g]){a.call(i[c].toolbarScopes[h].tools[g],d),f=!0;break}}),f},triggerElementSelect:function(a,e){var f=function(a,b){for(var c=!0,d=0;d<b.length;d++)c=c&&a.attr(b[d]);return c},g=[],h={},j=!1;e=angular.element(e);var k=!1;if(angular.forEach(b,function(a,b){a.onElementSelect&&a.onElementSelect.element&&a.onElementSelect.element.toLowerCase()===e[0].tagName.toLowerCase()&&(!a.onElementSelect.filter||a.onElementSelect.filter(e))&&(k=k||angular.isArray(a.onElementSelect.onlyWithAttrs)&&f(e,a.onElementSelect.onlyWithAttrs),(!a.onElementSelect.onlyWithAttrs||f(e,a.onElementSelect.onlyWithAttrs))&&(h[b]=a))}),k?(angular.forEach(h,function(a,b){a.onElementSelect.onlyWithAttrs&&f(e,a.onElementSelect.onlyWithAttrs)&&g.push({name:b,tool:a})}),g.sort(function(a,b){return b.tool.onElementSelect.onlyWithAttrs.length-a.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(h,function(a,b){g.push({name:b,tool:a})}),g.length>0)for(var l=0;l<g.length;l++){for(var m=g[l].tool,n=g[l].name,o=0;o<i[c].toolbarScopes.length;o++)if(void 0!==i[c].toolbarScopes[o].tools[n]){m.onElementSelect.action.call(i[c].toolbarScopes[o].tools[n],a,e,d),j=!0;break}if(j)break}return j}}},angular.forEach(e,function(a){h[a]&&i[c].toolbarScopes.push(h[a])}),n(),i[c].editorFunctions},retrieveEditor:function(a){return i[a]},unregisterEditor:function(a){delete i[a],n()},registerToolbar:function(a){if(!a)throw"textAngular Error: A toolbar requires a scope";if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";if(h[a.name])throw'textAngular Error: A toolbar with name "'+a.name+'" already exists';h[a.name]=a,angular.forEach(i,function(b){b._registerToolbarScope(a)}),n()},retrieveToolbar:function(a){return h[a]},retrieveToolbarsViaEditor:function(a){var b=[],c=this;return angular.forEach(this.retrieveEditor(a).toolbars,function(a){b.push(c.retrieveToolbar(a))}),b},unregisterToolbar:function(a){delete h[a],n()},updateToolsDisplay:function(a){var b=this;angular.forEach(a,function(a,c){b.updateToolDisplay(c,a)})},resetToolsDisplay:function(){var a=this;angular.forEach(b,function(b,c){a.resetToolDisplay(c)}),n()},updateToolDisplay:function(a,b){var c=this;angular.forEach(h,function(d,e){c.updateToolbarToolDisplay(e,a,b)}),n()},resetToolDisplay:function(a){var b=this;angular.forEach(h,function(c,d){b.resetToolbarToolDisplay(d,a)}),n()},updateToolbarToolDisplay:function(a,b,c){if(!h[a])throw'textAngular Error: No Toolbar with name "'+a+'" exists';h[a].updateToolDisplay(b,c)},resetToolbarToolDisplay:function(a,c){if(!h[a])throw'textAngular Error: No Toolbar with name "'+a+'" exists';h[a].updateToolDisplay(c,b[c],!0)},removeTool:function(a){delete b[a],angular.forEach(h,function(b){delete b.tools[a];for(var c=0;c<b.toolbar.length;c++){for(var d,e=0;e<b.toolbar[c].length;e++){if(b.toolbar[c][e]===a){d={group:c,index:e};break}if(void 0!==d)break}void 0!==d&&(b.toolbar[d.group].slice(d.index,1),b._$element.children().eq(d.group).children().eq(d.index).remove())}}),n()},addTool:function(a,b,d,e){c(a,b),angular.forEach(h,function(c){c.addTool(a,b,d,e)}),n()},addToolToToolbar:function(a,b,d,e,f){c(a,b),h[d].addTool(a,b,e,f),n()},refreshEditor:function(a){if(!i[a])throw'textAngular Error: No Editor with name "'+a+'" exists';i[a].scope.updateTaBindtaTextElement(),i[a].scope.$$phase||i[a].scope.$digest(),n()},sendKeyCommand:function(a,b){var c=i[a._name];return c&&c.editorFunctions.sendKeyCommand(b)?(a._bUpdateSelectedStyles||a.updateSelectedStyles(),b.preventDefault(),!1):void 0},updateStyles:k,getVersion:function(){return textAngularVersion},getToolbarScopes:function(){var a=[];return angular.forEach(i,function(b){a=a.concat(b.toolbarScopes)}),a}}}]),textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(a,b,c,d,e,f){return{scope:{name:"@"},restrict:"EA",link:function(g,h,i){if(!g.name||""===g.name)throw"textAngular Error: A toolbar requires a name";angular.extend(g,angular.copy(c)),i.taToolbar&&(g.toolbar=g.$parent.$eval(i.taToolbar)),i.taToolbarClass&&(g.classes.toolbar=i.taToolbarClass),i.taToolbarGroupClass&&(g.classes.toolbarGroup=i.taToolbarGroupClass),i.taToolbarButtonClass&&(g.classes.toolbarButton=i.taToolbarButtonClass),i.taToolbarActiveButtonClass&&(g.classes.toolbarButtonActive=i.taToolbarActiveButtonClass),i.taFocussedClass&&(g.classes.focussed=i.taFocussedClass),g.disabled=!0,g.focussed=!1,g._$element=h,h[0].innerHTML="",h.addClass("ta-toolbar "+g.classes.toolbar),g.$watch("focussed",function(){g.focussed?h.addClass(g.classes.focussed):h.removeClass(g.classes.focussed)});var j=function(b,c){var d;if(d=b&&b.display?angular.element(b.display):angular.element("<button type='button'>"),b&&b["class"]?d.addClass(b["class"]):d.addClass(g.classes.toolbarButton),d.attr("name",c.name),d.attr("ta-button","ta-button"),d.attr("ng-disabled","isDisabled()"),d.attr("tabindex","-1"),d.attr("ng-click","executeAction()"),d.attr("ng-class","displayActiveToolClass(active)"),b&&b.tooltiptext&&d.attr("title",b.tooltiptext),b&&!b.display&&!c._display&&(d[0].innerHTML="",b.buttontext&&(d[0].innerHTML=b.buttontext),b.iconclass)){var e=angular.element("<i>"),f=d[0].innerHTML;e.addClass(b.iconclass),d[0].innerHTML="",d.append(e),f&&""!==f&&d.append("&nbsp;"+f)}return c._lastToolDefinition=angular.copy(b),a(d)(c)};g.tools={},g._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var k={$window:f,$editor:function(){return g._parent},isDisabled:function(){return"html"===this.name&&g._parent.startAction?!1:"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(a){return a?g.classes.toolbarButtonActive:""},executeAction:e};angular.forEach(g.toolbar,function(a){var b=angular.element("<div>");b.addClass(g.classes.toolbarGroup),angular.forEach(a,function(a){g.tools[a]=angular.extend(g.$new(!0),d[a],k,{name:a}),g.tools[a].$element=j(d[a],g.tools[a]),b.append(g.tools[a].$element)}),h.append(b)}),g.updateToolDisplay=function(a,b,c){var d=g.tools[a];if(d){if(d._lastToolDefinition&&!c&&(b=angular.extend({},d._lastToolDefinition,b)),null===b.buttontext&&null===b.iconclass&&null===b.display)throw'textAngular Error: Tool Definition for updating "'+a+'" does not have a valid display/iconclass/buttontext value';null===b.buttontext&&delete b.buttontext,null===b.iconclass&&delete b.iconclass,null===b.display&&delete b.display;var e=j(b,d);d.$element.replaceWith(e),d.$element=e}},g.addTool=function(a,b,c,e){g.tools[a]=angular.extend(g.$new(!0),d[a],k,{name:a}),g.tools[a].$element=j(d[a],g.tools[a]);var f;void 0===c&&(c=g.toolbar.length-1),f=angular.element(h.children()[c]),void 0===e?(f.append(g.tools[a].$element),g.toolbar[c][g.toolbar[c].length-1]=a):(f.children().eq(e).after(g.tools[a].$element),g.toolbar[c][e]=a)},b.registerToolbar(g),g.$on("$destroy",function(){b.unregisterToolbar(g.name)})}}}]),textAngular.directive("textAngularVersion",["textAngularManager",function(a){var b=a.getVersion();return{restrict:"EA",link:function(a,c,d){c.html(b)}}}]),function(a,b,c){"use strict";function d(){this.$get=["$$sanitizeUri",function(a){return function(b){"undefined"!=typeof arguments[1]&&(arguments[1].version="taSanitize");var c=[];return g(b,l(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function e(a){var c=[],d=l(c,b.noop);return d.chars(a),c.join("")}function f(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),D[d])for(;k.last()&&E[k.last()];)e("",k.last());C[d]&&k.last()==d&&e("",d),g=z[d]||!!g,g||k.push(d);var i={};f.replace(p,function(a,b,c,d,e){var f=c||d||e||"";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=k.length-1;f>=0&&k[f]!=d;f--);if(f>=0){for(e=k.length-1;e>=f;e--)c.end&&c.end(k[e]);k.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,g,i,j,k=[],l=a;for(k.last=function(){return k[k.length-1]};a;){if(j="",g=!0,k.last()&&G[k.last()])a=a.replace(new RegExp("([^]*)<\\s*\\/\\s*"+k.last()+"[^>]*>","i"),function(a,b){return b=b.replace(s,"$1").replace(v,"$1"),c.chars&&c.chars(h(b)),""}),e("",k.last());else{if(y.test(a)){if(i=a.match(y)){i[0];c.whitespace&&c.whitespace(i[0]),a=a.replace(i[0],""),g=!1}}else t.test(a)?(i=a.match(t),i&&(c.comment&&c.comment(i[1]),a=a.replace(i[0],""),g=!1)):u.test(a)?(i=a.match(u),i&&(a=a.replace(i[0],""),g=!1)):r.test(a)?(i=a.match(o),i&&(a=a.substring(i[0].length),i[0].replace(o,e),g=!1)):q.test(a)&&(i=a.match(n),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(n,d)),g=!1):(j+="<",a=a.substring(1)));g&&(f=a.indexOf("<"),j+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(h(j)))}if(a==l)throw m("badparse","The sanitizer was unable to parse the following block of html: {0}",a);l=a}e()}function h(a){if(!a)return"";var b=N.exec(a),c=b[1],d=b[3],e=b[2];return e&&(M.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in M?M.textContent:M.innerText),c+e+d}function i(a){return a.replace(/&/g,"&amp;").replace(w,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(x,function(a){var b=a.charCodeAt(0);return 159>=b||173==b||b>=1536&&1540>=b||1807==b||6068==b||6069==b||b>=8204&&8207>=b||b>=8232&&8239>=b||b>=8288&&8303>=b||65279==b||b>=65520&&65535>=b?"&#"+b+";":a}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a){var c="",d=a.split(";");return b.forEach(d,function(a){var d=a.split(":");if(2==d.length){var e=O(b.lowercase(d[0])),a=O(b.lowercase(d[1]));(("color"===e||"background-color"===e)&&(a.match(/^rgb\([0-9%,\. ]*\)$/i)||a.match(/^rgba\([0-9%,\. ]*\)$/i)||a.match(/^hsl\([0-9%,\. ]*\)$/i)||a.match(/^hsla\([0-9%,\. ]*\)$/i)||a.match(/^#[0-9a-f]{3,6}$/i)||a.match(/^[a-z]*$/i))||"text-align"===e&&("left"===a||"right"===a||"center"===a||"justify"===a)||"text-decoration"===e&&("underline"===a||"line-through"===a)||"font-weight"===e&&"bold"===a||"font-style"===e&&"italic"===a||"float"===e&&("left"===a||"right"===a||"none"===a)||"vertical-align"===e&&("baseline"===a||"sub"===a||"super"===a||"test-top"===a||"text-bottom"===a||"middle"===a||"top"===a||"bottom"===a||a.match(/[0-9]*(px|em)/)||a.match(/[0-9]+?%/))||"font-size"===e&&("xx-small"===a||"x-small"===a||"small"===a||"medium"===a||"large"===a||"x-large"===a||"xx-large"===a||"larger"===a||"smaller"===a||a.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===e||"height"===e)&&a.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===e&&a.match(/^ltr|rtl|initial|inherit$/))&&(c+=e+": "+a+";")}}),c}function k(a,b,c,d){return"img"===a&&b["ta-insert-video"]&&("ta-insert-video"===c||"allowfullscreen"===c||"frameborder"===c||"contenteditable"===c&&"false"===d)?!0:!1}function l(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&G[a]&&(d=a),d||H[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,g){var h=b.lowercase(g),l="img"===a&&"src"===h||"background"===h;("style"===h&&""!==(d=j(d))||k(a,f,h,d)||L[h]===!0&&(I[h]!==!0||c(d,l)))&&(e(" "),e(g),e('="'),e(i(d)),e('"'))}),e(g?"/>":">"))},comment:function(a){e(a)},whitespace:function(a){e(i(a))},end:function(a){a=b.lowercase(a),d||H[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var m=b.$$minErr("$sanitize"),n=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,o=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,q=/^</,r=/^<\//,s=/<!--(.*?)-->/g,t=/(^<!--.*?-->)/,u=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^\#-~| |!])/g,y=/^(\s+)/,z=f("area,br,col,hr,img,wbr,input"),A=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B=f("rp,rt"),C=b.extend({},B,A),D=b.extend({},A,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),E=b.extend({},B,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),F=f("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),G=f("script,style"),H=b.extend({},z,D,E,C,F),I=f("background,cite,href,longdesc,src,usemap,xlink:href"),J=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),K=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),L=b.extend({},I,K,J),M=document.createElement("pre"),N=/^(\s*)([\s\S]*?)(\s*)$/,O=function(){return String.prototype.trim?function(a){return b.isString(a)?a.trim():a}:function(a){return b.isString(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,d=/^mailto:/;return function(f,g){function h(a){a&&n.push(e(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&n.push('target="',g,'" '),n.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?"http://":"mailto:")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(d,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular);var taTools={};angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(a){},htmlEditorSetup:function(a){}},defaultFileDropHandler:function(a,b){var c=new FileReader;return"image"===a.type.substring(0,5)?(c.onload=function(){""!==c.result&&b("insertImage",c.result,!0)},c.readAsDataURL(a),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(a){var b=angular.element("<iframe></iframe>"),c=a.prop("attributes");angular.forEach(c,function(a){b.attr(a.name,a.value)}),b.attr("src",b.attr("ta-insert-video")),a.replaceWith(b)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(a,b){return{imgOnSelectAction:function(a,b,c){var d=function(){c.updateTaBindtaTextElement(),c.hidePopover()};a.preventDefault(),c.displayElements.popover.css("width","375px");var e=c.displayElements.popoverContainer;e.empty();var f=angular.element('<div class="btn-group" style="padding-right: 6px;">'),g=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');g.on("click",function(a){a.preventDefault(),b.css({width:"100%",height:""}),d()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');h.on("click",function(a){a.preventDefault(),b.css({width:"50%",height:""}),d()});var i=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');i.on("click",function(a){a.preventDefault(),b.css({width:"25%",height:""}),d()});var j=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');j.on("click",function(a){a.preventDefault(),b.css({width:"",height:""}),d()}),f.append(g),f.append(h),f.append(i),f.append(j),e.append(f),f=angular.element('<div class="btn-group" style="padding-right: 6px;">');var k=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');k.on("click",function(a){a.preventDefault(),b.css("float","left"),b.css("cssFloat","left"),b.css("styleFloat","left"),d()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');l.on("click",function(a){a.preventDefault(),b.css("float","right"),b.css("cssFloat","right"),b.css("styleFloat","right"),d()});var m=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');m.on("click",function(a){a.preventDefault(),b.css("float",""),b.css("cssFloat",""),b.css("styleFloat",""),d()}),f.append(k),f.append(m),f.append(l),e.append(f),f=angular.element('<div class="btn-group">');var n=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');n.on("click",function(a){a.preventDefault(),b.remove(),d()}),f.append(n),e.append(f),c.showPopover(b),c.showResizeOverlay(b)},aOnSelectAction:function(c,d,e){c.preventDefault(),e.displayElements.popover.css("width","436px");var f=e.displayElements.popoverContainer;f.empty(),f.css("line-height","28px");var g=angular.element('<a href="'+d.attr("href")+'" target="_blank">'+d.attr("href")+"</a>");g.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),f.append(g);var h=angular.element('<div class="btn-group pull-right">'),i=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+b.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');i.on("click",function(c){c.preventDefault();var f=a.prompt(b.insertLink.dialogPrompt,d.attr("href"));f&&""!==f&&"http://"!==f&&(d.attr("href",f),e.updateTaBindtaTextElement()),e.hidePopover()}),h.append(i);var j=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+b.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');j.on("click",function(a){a.preventDefault(),d.replaceWith(d.contents()),e.updateTaBindtaTextElement(),e.hidePopover()}),h.append(j);var k=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+b.editLink.targetToggle.buttontext+"</button>");"_blank"===d.attr("target")&&k.addClass("active"),k.on("click",function(a){a.preventDefault(),d.attr("target","_blank"===d.attr("target")?"":"_blank"),k.toggleClass("active"),e.updateTaBindtaTextElement()}),h.append(k),f.append(h),e.showPopover(d)},extractYoutubeVideoId:function(a){var b=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,c=a.match(b);return c&&c[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions","$log",function(a,b,c,d,e,f,g,h){var i={};if(f("",i),g.forceTextAngularSanitize===!0&&"taSanitize"!==i.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");a("html",{iconclass:"fa fa-code",tooltiptext:c.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var j=function(a){return function(){return this.$editor().queryFormatBlockState(a)}},k=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(b){a(b.toLowerCase(),{buttontext:b.toUpperCase(),tooltiptext:c.heading.tooltip+b.charAt(1),action:k,activeState:j(b.toLowerCase())})}),a("p",{buttontext:"P",tooltiptext:c.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),a("pre",{buttontext:"pre",tooltiptext:c.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),a("ul",{iconclass:"fa fa-list-ul",tooltiptext:c.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),a("ol",{iconclass:"fa fa-list-ol",tooltiptext:c.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),a("quote",{iconclass:"fa fa-quote-right",tooltiptext:c.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),a("undo",{iconclass:"fa fa-undo",tooltiptext:c.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),a("redo",{iconclass:"fa fa-repeat",tooltiptext:c.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),a("bold",{iconclass:"fa fa-bold",tooltiptext:c.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),a("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:c.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(a){if(a&&"#document"===a.nodeName)return!1;var b=!1;if(a)try{b="left"===a.css("text-align")||"left"===a.attr("align")||"right"!==a.css("text-align")&&"center"!==a.css("text-align")&&"justify"!==a.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull");
}catch(c){b=!1}return b=b||this.$editor().queryCommandState("justifyLeft")}}),a("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:c.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(a){if(a&&"#document"===a.nodeName)return!1;var b=!1;if(a)try{b="right"===a.css("text-align")}catch(c){b=!1}return b=b||this.$editor().queryCommandState("justifyRight")}}),a("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:c.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(a){var b=!1;if(a)try{b="justify"===a.css("text-align")}catch(c){b=!1}return b=b||this.$editor().queryCommandState("justifyFull")}}),a("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:c.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(a){if(a&&"#document"===a.nodeName)return!1;var b=!1;if(a)try{b="center"===a.css("text-align")}catch(c){b=!1}return b=b||this.$editor().queryCommandState("justifyCenter")}}),a("indent",{iconclass:"fa fa-indent",tooltiptext:c.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),a("outdent",{iconclass:"fa fa-outdent",tooltiptext:c.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),a("italics",{iconclass:"fa fa-italic",tooltiptext:c.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),a("underline",{iconclass:"fa fa-underline",tooltiptext:c.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),a("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:c.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),a("clear",{iconclass:"fa fa-ban",tooltiptext:c.clear.tooltip,action:function(a,b){var c;this.$editor().wrapSelection("removeFormat",null);var e=angular.element(d.getSelectionElement());c=d.getAllSelectedElements();var f=function(a,b){a=angular.element(a);var c=b;return b||(c=a),angular.forEach(a.children(),function(a){if("ul"===a.tagName.toLowerCase()||"ol"===a.tagName.toLowerCase())c=f(a,c);else{var b=angular.element("<p></p>");b.html(angular.element(a).html()),c.after(b),c=b}}),a.remove(),c};angular.forEach(c,function(a){("ul"===a.nodeName.toLowerCase()||"ol"===a.nodeName.toLowerCase())&&f(a)}),angular.forEach(e.find("ul"),f),angular.forEach(e.find("ol"),f);var g=this.$editor(),h=function(a){a=angular.element(a),a[0]!==g.displayElements.text[0]&&a.removeAttr("class"),angular.forEach(a.children(),h)};angular.forEach(e,h),e[0]&&"li"!==e[0].tagName.toLowerCase()&&"ol"!==e[0].tagName.toLowerCase()&&"ul"!==e[0].tagName.toLowerCase()&&"true"!==e[0].getAttribute("contenteditable")&&this.$editor().wrapSelection("formatBlock","default"),b()}});var l=function(a){return-1!==a.toLowerCase().indexOf("javascript")?!0:!1};a("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:c.insertImage.tooltip,action:function(){var a;if(a=b.prompt(c.insertImage.dialogPrompt,"http://"),a&&""!==a&&"http://"!==a&&!l(a)){d.getSelectionElement().tagName&&"a"===d.getSelectionElement().tagName.toLowerCase()&&d.setSelectionAfterElement(d.getSelectionElement());var e='<img src="'+a+'">';return this.$editor().wrapSelection("insertHTML",e,!0)}},onElementSelect:{element:"img",action:e.imgOnSelectAction}}),a("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:c.insertVideo.tooltip,action:function(){var a;if(a=b.prompt(c.insertVideo.dialogPrompt,"https://"),!l(a)&&a&&""!==a&&"https://"!==a&&(videoId=e.extractYoutubeVideoId(a),videoId)){var f="https://www.youtube.com/embed/"+videoId,g='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+f+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return d.getSelectionElement().tagName&&"a"===d.getSelectionElement().tagName.toLowerCase()&&d.setSelectionAfterElement(d.getSelectionElement()),this.$editor().wrapSelection("insertHTML",g,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:e.imgOnSelectAction}}),a("insertLink",{tooltiptext:c.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var a;return a=d.getSelectionElement().tagName&&"a"===d.getSelectionElement().tagName.toLowerCase()?b.prompt(c.insertLink.dialogPrompt,d.getSelectionElement().href):b.prompt(c.insertLink.dialogPrompt,"http://"),a&&""!==a&&"http://"!==a&&!l(a)?this.$editor().wrapSelection("createLink",a,!0):void 0},activeState:function(a){return a?"A"===a[0].tagName:!1},onElementSelect:{element:"a",action:e.aOnSelectAction}}),a("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var a=this.$editor().displayElements.text,b=a[0].innerHTML||"",c=0;return""!==b.replace(/\s*<[^>]*?>\s*/g,"")&&""!==b.trim()&&(c=b.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=c,this.$editor().wordcount=c,!1}}),a("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var a=this.$editor().displayElements.text,b=a[0].innerText||a[0].textContent,c=b.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=c,this.$editor().charcount=c,!1}})}]),function(a){var b=a.module("angularCSS",[]);a.module("door3.css",[]).run(function(){console.error('AngularCSS: The module name "door3.css" is now deprecated. Please use "angularCSS" instead.')}),b.provider("$css",[function(){var b=this.defaults={element:"link",rel:"stylesheet",type:"text/css",container:"head",method:"append",weight:0},d=!1;this.debugMode=function(b){return a.isDefined(b)&&(d=b),d},this.$get=["$rootScope","$injector","$q","$window","$timeout","$compile","$http","$filter","$log","$interpolate",function(e,f,g,h,i,j,k,l,m,n){function o(a,b,c){c&&b.hasOwnProperty("css")&&y.bind(b.css,c)}function p(a,b,c){c&&(y.remove(y.getFromRoute(c).concat(F)),F.length=0),b&&y.add(y.getFromRoute(b))}function q(a,b,c,d){d&&(y.remove(y.getFromState(d).concat(F)),F.length=0),b&&y.add(y.getFromState(b))}function r(b){a.isDefined(D.breakpoints)&&(b.breakpoint in D.breakpoints&&(b.media=D.breakpoints[b.breakpoint]),delete b.breakpoints)}function s(b){return b?(a.isFunction(b)&&(b=a.copy(f.invoke(b))),a.isString(b)&&(b=a.extend({href:b},D)),a.isArray(b)&&a.isString(b[0])&&a.forEach(b,function(c){b=a.extend({href:c},D)}),a.isObject(b)&&!a.isArray(b)&&(b=a.extend({},D,b)),a.isArray(b)&&a.isObject(b[0])&&a.forEach(b,function(c){b=a.extend(c,D)}),r(b),b):void 0}function t(a){if(!a)return void(d&&m.error("No stylesheets provided"));var b="?cache=";-1===a.href.indexOf(b)&&(a.href=a.href+(a.bustCache?b+(new Date).getTime():""))}function u(a,b){return a&&b?l("filter")(a,function(a){return a[b]}):void(d&&m.error("filterBy: missing array or property"))}function v(a){return a?(A[a.href]=h.matchMedia(a.media),B[a.href]=function(b){i(function(){if(b.matches)e.stylesheets.push(a);else{var c=e.stylesheets.indexOf(l("filter")(e.stylesheets,{href:a.href})[0]);-1!==c&&e.stylesheets.splice(c,1)}})},A[a.href].addListener(B[a.href]),void B[a.href](A[a.href])):void(d&&m.error("No stylesheet provided"))}function w(b){return b?void(e&&a.isDefined(A)&&A[b.href]&&a.isDefined(B)&&A[b.href].removeListener(B[b.href])):void(d&&m.error("No stylesheet provided"))}function x(a){return a?!(!a.media||-1!==C.indexOf(a.media)||!h.matchMedia):void(d&&m.error("No stylesheet provided"))}var y={},z='<link ng-repeat="stylesheet in stylesheets | orderBy: \'weight\' track by $index " rel="{{ stylesheet.rel }}" type="{{ stylesheet.type }}" ng-href="{{ stylesheet.href }}" ng-attr-media="{{ stylesheet.media }}">';z=z.replace(/{{/g,n.startSymbol()).replace(/}}/g,n.endSymbol());var A={},B={},C=["print"],D=a.extend({},b),E=a.element(document.querySelector?document.querySelector(D.container):document.getElementsByTagName(D.container)[0]),F=[];return a.forEach(c,function(a,b){a.hasOwnProperty("css")&&(c[b]=s(a.css))}),e.stylesheets=[],E[D.method](j(z)(e)),e.$on("$directiveAdd",o),e.$on("$routeChangeSuccess",p),e.$on("$stateChangeSuccess",q),y.getFromRoute=function(b){if(!b)return void(d&&m.error("Get From Route: No route provided"));var c=null,e=[];return b.$$route&&b.$$route.css?c=b.$$route.css:b.css&&(c=b.css),c&&(a.isArray(c)?a.forEach(c,function(b){a.isFunction(b)&&F.push(s(b)),e.push(s(b))}):(a.isFunction(c)&&F.push(s(c)),e.push(s(c)))),e},y.getFromRoutes=function(b){if(!b)return void(d&&m.error("Get From Routes: No routes provided"));var c=[];return a.forEach(b,function(a){var b=y.getFromRoute(a);b.length&&c.push(b[0])}),c},y.getFromState=function(b){if(!b)return void(d&&m.error("Get From State: No state provided"));var c=[];if(a.isDefined(b.views)&&a.forEach(b.views,function(b){b.css&&(a.isFunction(b.css)&&F.push(s(b.css)),c.push(s(b.css)))}),a.isDefined(b.children)&&a.forEach(b.children,function(b){b.css&&(a.isFunction(b.css)&&F.push(s(b.css)),c.push(s(b.css))),a.isDefined(b.children)&&a.forEach(b.children,function(b){b.css&&(a.isFunction(b.css)&&F.push(s(b.css)),c.push(s(b.css)))})}),a.isDefined(b.css)||a.isDefined(b.data)&&a.isDefined(b.data.css)){var e=b.css||b.data.css;a.isArray(e)?a.forEach(e,function(b){a.isFunction(b)&&F.push(s(b)),c.push(s(b))}):(a.isFunction(e)&&F.push(s(e)),c.push(s(e)))}return c},y.getFromStates=function(b){if(!b)return void(d&&m.error("Get From States: No states provided"));var c=[];return a.forEach(b,function(b){var d=y.getFromState(b);a.isArray(d)?a.forEach(d,function(a){c.push(a)}):c.push(d)}),c},y.preload=function(b,e){b||(b=[],c.length&&Array.prototype.push.apply(b,c),f.has("$route")&&Array.prototype.push.apply(b,y.getFromRoutes(f.get("$route").routes)),f.has("$state")&&Array.prototype.push.apply(b,y.getFromStates(f.get("$state").get())),b=u(b,"preload")),a.isArray(b)||(b=[b]);var h=[];a.forEach(b,function(a,c){a=b[c]=s(a),h.push(k.get(a.href).error(function(b){d&&m.error("AngularCSS: Incorrect path for "+a.href)}))}),a.isFunction(e)&&g.all(h).then(function(){e(b)})},y.bind=function(b,c){if(!b||!c)return void(d&&m.error("No scope or stylesheets provided"));var e=[];a.isArray(b)?a.forEach(b,function(a){e.push(s(a))}):e.push(s(b)),y.add(e),d&&m.debug("$css.bind(): Added",e),c.$on("$destroy",function(){y.remove(e),d&&m.debug("$css.bind(): Removed",e)})},y.add=function(b,c){return b?(a.isArray(b)||(b=[b]),a.forEach(b,function(a){a=s(a),a.href&&!l("filter")(e.stylesheets,{href:a.href}).length&&(t(a),x(a)?v(a):e.stylesheets.push(a),d&&m.debug("$css.add(): "+a.href))}),void e.$broadcast("$cssAdd",b,e.stylesheets)):void(d&&m.error("No stylesheets provided"))},y.remove=function(b,c){return b?(a.isArray(b)||(b=[b]),b=l("filter")(b,function(a){return!a.persist}),a.forEach(b,function(a){a=s(a);var b=e.stylesheets.indexOf(l("filter")(e.stylesheets,{href:a.href})[0]);-1!==b&&e.stylesheets.splice(b,1),w(a),d&&m.debug("$css.remove(): "+a.href)}),void e.$broadcast("$cssRemove",b,e.stylesheets)):void(d&&m.error("No stylesheets provided"))},y.removeAll=function(){e&&e.hasOwnProperty("stylesheets")&&(e.stylesheets.length=0),d&&m.debug("all stylesheets removed")},y.preload(),y}]}]),b.filter("$cssLinks",function(){return function(b){if(!b||!a.isArray(b))return b;var c="";return a.forEach(b,function(a){c+='<link rel="'+a.rel+'" type="'+a.type+'" href="'+a.href+'"',c+=a.media?' media="'+a.media+'"':"",c+=">\n\n"}),c}}),b.run(["$css",function(a){}]);var c=[],d=a.module,e=function(a,b){return a.reduce(function(a,c){return a.push(b(c)),a},[])},f=function(a,b){return a.indexOf(b)>-1};a.module=function(){var b=d.apply(this,arguments),g=b.directive;b.directive=function(b,d){var h=a.isFunction(d)?d:d[d?d.length-1:0];try{var i=a.copy(h)();i.directiveName=b,i.hasOwnProperty("css")&&!f(e(c,function(a){return a.ddo.directiveName}),b)&&c.push({ddo:i,handled:!1})}catch(j){}return g.apply(this,arguments)};var h=b.component;return b.component=function(a,b){return b.directiveName=a,b.hasOwnProperty("css")&&!f(e(c,function(a){return a.ddo.directiveName}),a)&&c.push({ddo:b,handled:!1}),h.apply(this,arguments)},b.config(["$provide","$injector",function(b,d){a.forEach(c,function(a){if(!a.handled){var c=a.ddo,e=c.directiveName+"Directive";d.has(e)&&(a.handled=!0,b.decorator(e,["$delegate","$rootScope","$timeout",function(a,b,d){var e=a[0],f=e.compile;return e.css||(e.css=c.css),e.compile=function(){var a=f?f.apply(this,arguments):!1;return function(c){var f=arguments;d(function(){a&&a.apply(this,f)}),b.$broadcast("$directiveAdd",e,c)}},a}]))}})}]),b}}(angular),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(a,b){var c;try{c=a[b]}catch(d){c=!1}if(c){var e="__"+Math.round(1e7*Math.random());try{a[b].setItem(e,e),a[b].removeItem(e,e)}catch(d){c=!1}}return c}function c(c){var d=b(window,c);return function(){var e="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setKeyPrefix() expects a String.");e=a};var f=a.toJson,g=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setSerializer expects a function.");f=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setDeserializer expects a function.");g=a},this.supported=function(){return!!d},this.get=function(a){return d&&g(d.getItem(e+a))},this.set=function(a,b){return d&&d.setItem(e+a,f(b))},this.remove=function(a){d&&d.removeItem(e+a)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(d,h,i,j,k){var l,m,n=e.length,o=b(h,c),p=o||(i.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),q={$default:function(b){for(var c in b)a.isDefined(q[c])||(q[c]=a.copy(b[c]));return q.$sync(),q},$reset:function(a){for(var b in q)"$"===b[0]||delete q[b]&&p.removeItem(e+b);return q.$default(a)},$sync:function(){for(var a,b=0,c=p.length;c>b;b++)(a=p.key(b))&&e===a.slice(0,n)&&(q[a.slice(n)]=g(p.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(q,l)){b=a.copy(l),a.forEach(q,function(c,d){a.isDefined(c)&&"$"!==d[0]&&(p.setItem(e+d,f(c)),delete b[d])});for(var c in b)p.removeItem(e+c);l=a.copy(q)}},$supported:function(){return!!o}};return q.$sync(),l=a.copy(q),d.$watch(function(){m||(m=j(q.$apply,100,!1))}),h.addEventListener&&h.addEventListener("storage",function(b){if(b.key){var c=k[0];c.hasFocus&&c.hasFocus()||e!==b.key.slice(0,n)||(b.newValue?q[b.key.slice(n)]=g(b.newValue):delete q[b.key.slice(n)],l=a.copy(q),d.$apply())}}),h.addEventListener&&h.addEventListener("beforeunload",function(){q.$apply()}),q}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",c("localStorage")).provider("$sessionStorage",c("sessionStorage"))}),function(a,b){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(a,c){return c.fn||(c.fn={}),"function"!=typeof a&&a["default"]&&(a=a["default"]),b(a,c)});else if("object"==typeof module&&module.exports){var c="undefined"!=typeof window?window.jQuery:void 0;c||(c=require("jquery"),c.fn||(c.fn={}));var d="undefined"!=typeof window&&"undefined"!=typeof window.moment?window.moment:require("moment");module.exports=b(d,c)}else a.daterangepicker=b(a.moment,a.jQuery)}(this,function(a,b){var c=function(c,d,e){if(this.parentEl="body",this.element=b(c),this.startDate=a().startOf("day"),this.endDate=a().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=a().subtract(100,"year").format("YYYY"),this.maxYear=a().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:a.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:a.weekdaysMin(),monthNames:a.monthsShort(),firstDay:a.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},("object"!=typeof d||null===d)&&(d={}),d=b.extend(this.element.data(),d),"string"==typeof d.template||d.template instanceof b||(d.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=b(d.parentEl&&b(d.parentEl).length?d.parentEl:this.parentEl),this.container=b(d.template).appendTo(this.parentEl),"object"==typeof d.locale&&("string"==typeof d.locale.direction&&(this.locale.direction=d.locale.direction),"string"==typeof d.locale.format&&(this.locale.format=d.locale.format),"string"==typeof d.locale.separator&&(this.locale.separator=d.locale.separator),"object"==typeof d.locale.daysOfWeek&&(this.locale.daysOfWeek=d.locale.daysOfWeek.slice()),"object"==typeof d.locale.monthNames&&(this.locale.monthNames=d.locale.monthNames.slice()),"number"==typeof d.locale.firstDay&&(this.locale.firstDay=d.locale.firstDay),"string"==typeof d.locale.applyLabel&&(this.locale.applyLabel=d.locale.applyLabel),"string"==typeof d.locale.cancelLabel&&(this.locale.cancelLabel=d.locale.cancelLabel),"string"==typeof d.locale.weekLabel&&(this.locale.weekLabel=d.locale.weekLabel),"string"==typeof d.locale.customRangeLabel)){var f=document.createElement("textarea");f.innerHTML=d.locale.customRangeLabel;var g=f.value;this.locale.customRangeLabel=g}if(this.container.addClass(this.locale.direction),"string"==typeof d.startDate&&(this.startDate=a(d.startDate,this.locale.format)),"string"==typeof d.endDate&&(this.endDate=a(d.endDate,this.locale.format)),"string"==typeof d.minDate&&(this.minDate=a(d.minDate,this.locale.format)),"string"==typeof d.maxDate&&(this.maxDate=a(d.maxDate,this.locale.format)),"object"==typeof d.startDate&&(this.startDate=a(d.startDate)),"object"==typeof d.endDate&&(this.endDate=a(d.endDate)),"object"==typeof d.minDate&&(this.minDate=a(d.minDate)),"object"==typeof d.maxDate&&(this.maxDate=a(d.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof d.applyButtonClasses&&(this.applyButtonClasses=d.applyButtonClasses),"string"==typeof d.applyClass&&(this.applyButtonClasses=d.applyClass),"string"==typeof d.cancelButtonClasses&&(this.cancelButtonClasses=d.cancelButtonClasses),"string"==typeof d.cancelClass&&(this.cancelButtonClasses=d.cancelClass),"object"==typeof d.maxSpan&&(this.maxSpan=d.maxSpan),"object"==typeof d.dateLimit&&(this.maxSpan=d.dateLimit),"string"==typeof d.opens&&(this.opens=d.opens),"string"==typeof d.drops&&(this.drops=d.drops),"boolean"==typeof d.showWeekNumbers&&(this.showWeekNumbers=d.showWeekNumbers),"boolean"==typeof d.showISOWeekNumbers&&(this.showISOWeekNumbers=d.showISOWeekNumbers),"string"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses),"object"==typeof d.buttonClasses&&(this.buttonClasses=d.buttonClasses.join(" ")),"boolean"==typeof d.showDropdowns&&(this.showDropdowns=d.showDropdowns),"number"==typeof d.minYear&&(this.minYear=d.minYear),"number"==typeof d.maxYear&&(this.maxYear=d.maxYear),"boolean"==typeof d.showCustomRangeLabel&&(this.showCustomRangeLabel=d.showCustomRangeLabel),"boolean"==typeof d.singleDatePicker&&(this.singleDatePicker=d.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof d.timePicker&&(this.timePicker=d.timePicker),"boolean"==typeof d.timePickerSeconds&&(this.timePickerSeconds=d.timePickerSeconds),"number"==typeof d.timePickerIncrement&&(this.timePickerIncrement=d.timePickerIncrement),"boolean"==typeof d.timePicker24Hour&&(this.timePicker24Hour=d.timePicker24Hour),"boolean"==typeof d.autoApply&&(this.autoApply=d.autoApply),"boolean"==typeof d.autoUpdateInput&&(this.autoUpdateInput=d.autoUpdateInput),"boolean"==typeof d.linkedCalendars&&(this.linkedCalendars=d.linkedCalendars),"function"==typeof d.isInvalidDate&&(this.isInvalidDate=d.isInvalidDate),"function"==typeof d.isCustomDate&&(this.isCustomDate=d.isCustomDate),"boolean"==typeof d.alwaysShowCalendars&&(this.alwaysShowCalendars=d.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;h>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;var i,j,k;if("undefined"==typeof d.startDate&&"undefined"==typeof d.endDate&&b(this.element).is(":text")){var l=b(this.element).val(),m=l.split(this.locale.separator);i=j=null,2==m.length?(i=a(m[0],this.locale.format),j=a(m[1],this.locale.format)):this.singleDatePicker&&""!==l&&(i=a(l,this.locale.format),j=a(l,this.locale.format)),null!==i&&null!==j&&(this.setStartDate(i),this.setEndDate(j))}if("object"==typeof d.ranges){for(k in d.ranges){i="string"==typeof d.ranges[k][0]?a(d.ranges[k][0],this.locale.format):a(d.ranges[k][0]),j="string"==typeof d.ranges[k][1]?a(d.ranges[k][1],this.locale.format):a(d.ranges[k][1]),this.minDate&&i.isBefore(this.minDate)&&(i=this.minDate.clone());var n=this.maxDate;if(this.maxSpan&&n&&i.clone().add(this.maxSpan).isAfter(n)&&(n=i.clone().add(this.maxSpan)),n&&j.isAfter(n)&&(j=n.clone()),!(this.minDate&&j.isBefore(this.minDate,this.timepicker?"minute":"day")||n&&i.isAfter(n,this.timepicker?"minute":"day"))){var f=document.createElement("textarea");f.innerHTML=k;var g=f.value;this.ranges[g]=[i,j]}}var o="<ul>";for(k in this.ranges)o+='<li data-range-key="'+k+'">'+k+"</li>";this.showCustomRangeLabel&&(o+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),o+="</ul>",this.container.find(".ranges").prepend(o)}"function"==typeof e&&(this.callback=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof d.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),("undefined"==typeof d.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",b.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",b.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",b.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",b.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",b.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",b.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",b.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",b.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",b.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":b.proxy(this.show,this),"focus.daterangepicker":b.proxy(this.show,this),"keyup.daterangepicker":b.proxy(this.elementChanged,this),"keydown.daterangepicker":b.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",b.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",b.proxy(this.toggle,this))),this.updateElement()};return c.prototype={constructor:c,setStartDate:function(b){"string"==typeof b&&(this.startDate=a(b,this.locale.format)),"object"==typeof b&&(this.startDate=a(b)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(b){"string"==typeof b&&(this.endDate=a(b,this.locale.format)),"object"==typeof b&&(this.endDate=a(b)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c;if(this.endDate){if(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(b)&&(b=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".left .ampmselect").val();"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0)}}else if(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(b)&&(b=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var d=this.container.find(".right .ampmselect").val();"PM"===d&&12>a&&(a+=12),"AM"===d&&12===a&&(a=0)}this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(c){var d="left"==c?this.leftCalendar:this.rightCalendar,e=d.month.month(),f=d.month.year(),g=d.month.hour(),h=d.month.minute(),i=d.month.second(),j=a([f,e]).daysInMonth(),k=a([f,e,1]),l=a([f,e,j]),m=a(k).subtract(1,"month").month(),n=a(k).subtract(1,"month").year(),o=a([n,m]).daysInMonth(),p=k.day(),d=[];d.firstDay=k,d.lastDay=l;for(var q=0;6>q;q++)d[q]=[];var r=o-p+this.locale.firstDay+1;r>o&&(r-=7),p==this.locale.firstDay&&(r=o-6);for(var s,t,u=a([n,m,r,12,h,i]),q=0,s=0,t=0;42>q;q++,s++,u=a(u).add(24,"hour"))q>0&&s%7===0&&(s=0,t++),d[t][s]=u.clone().hour(g).minute(h).second(i),u.hour(12),this.minDate&&d[t][s].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&d[t][s].isBefore(this.minDate)&&"left"==c&&(d[t][s]=this.minDate.clone()),this.maxDate&&d[t][s].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&d[t][s].isAfter(this.maxDate)&&"right"==c&&(d[t][s]=this.maxDate.clone());"left"==c?this.leftCalendar.calendar=d:this.rightCalendar.calendar=d;var v="left"==c?this.minDate:this.startDate,w=this.maxDate,x=("left"==c?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"},'<table class="table-condensed">');
x+="<thead>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+="<th></th>"),x+=v&&!v.isBefore(d.firstDay)||this.linkedCalendars&&"left"!=c?"<th></th>":'<th class="prev available"><span></span></th>';var y=this.locale.monthNames[d[1][1].month()]+d[1][1].format(" YYYY");if(this.showDropdowns){for(var z=d[1][1].month(),A=d[1][1].year(),B=w&&w.year()||this.maxYear,C=v&&v.year()||this.minYear,D=A==C,E=A==B,F='<select class="monthselect">',G=0;12>G;G++)F+=(!D||v&&G>=v.month())&&(!E||w&&G<=w.month())?"<option value='"+G+"'"+(G===z?" selected='selected'":"")+">"+this.locale.monthNames[G]+"</option>":"<option value='"+G+"'"+(G===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[G]+"</option>";F+="</select>";for(var H='<select class="yearselect">',I=C;B>=I;I++)H+='<option value="'+I+'"'+(I===A?' selected="selected"':"")+">"+I+"</option>";H+="</select>",y=F+H}if(x+='<th colspan="5" class="month">'+y+"</th>",x+=w&&!w.isAfter(d.lastDay)||this.linkedCalendars&&"right"!=c&&!this.singleDatePicker?"<th></th>":'<th class="next available"><span></span></th>',x+="</tr>",x+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(x+='<th class="week">'+this.locale.weekLabel+"</th>"),b.each(this.locale.daysOfWeek,function(a,b){x+="<th>"+b+"</th>"}),x+="</tr>",x+="</thead>",x+="<tbody>",null==this.endDate&&this.maxSpan){var J=this.startDate.clone().add(this.maxSpan).endOf("day");(!w||J.isBefore(w))&&(w=J)}for(var t=0;6>t;t++){x+="<tr>",this.showWeekNumbers?x+='<td class="week">'+d[t][0].week()+"</td>":this.showISOWeekNumbers&&(x+='<td class="week">'+d[t][0].isoWeek()+"</td>");for(var s=0;7>s;s++){var K=[];d[t][s].isSame(new Date,"day")&&K.push("today"),d[t][s].isoWeekday()>5&&K.push("weekend"),d[t][s].month()!=d[1][1].month()&&K.push("off","ends"),this.minDate&&d[t][s].isBefore(this.minDate,"day")&&K.push("off","disabled"),w&&d[t][s].isAfter(w,"day")&&K.push("off","disabled"),this.isInvalidDate(d[t][s])&&K.push("off","disabled"),d[t][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&K.push("active","start-date"),null!=this.endDate&&d[t][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&K.push("active","end-date"),null!=this.endDate&&d[t][s]>this.startDate&&d[t][s]<this.endDate&&K.push("in-range");var L=this.isCustomDate(d[t][s]);L!==!1&&("string"==typeof L?K.push(L):Array.prototype.push.apply(K,L));for(var M="",N=!1,q=0;q<K.length;q++)M+=K[q]+" ","disabled"==K[q]&&(N=!0);N||(M+="available"),x+='<td class="'+M.replace(/^\s+|\s+$/g,"")+'" data-title="r'+t+"c"+s+'">'+d[t][s].date()+"</td>"}x+="</tr>"}x+="</tbody>",x+="</table>",this.container.find(".drp-calendar."+c+" .calendar-table").html(x)},renderTimePicker:function(a){if("right"!=a||this.endDate){var b,c,d,e=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(e=this.startDate.clone().add(this.maxSpan)),"left"==a)c=this.startDate.clone(),d=this.minDate;else if("right"==a){c=this.endDate.clone(),d=this.startDate;var f=this.container.find(".drp-calendar.right .calendar-time");if(""!=f.html()&&(c.hour(isNaN(c.hour())?f.find(".hourselect option:selected").val():c.hour()),c.minute(isNaN(c.minute())?f.find(".minuteselect option:selected").val():c.minute()),c.second(isNaN(c.second())?f.find(".secondselect option:selected").val():c.second()),!this.timePicker24Hour)){var g=f.find(".ampmselect option:selected").val();"PM"===g&&c.hour()<12&&c.hour(c.hour()+12),"AM"===g&&12===c.hour()&&c.hour(0)}c.isBefore(this.startDate)&&(c=this.startDate.clone()),e&&c.isAfter(e)&&(c=e.clone())}b='<select class="hourselect">';for(var h=this.timePicker24Hour?0:1,i=this.timePicker24Hour?23:12,j=h;i>=j;j++){var k=j;this.timePicker24Hour||(k=c.hour()>=12?12==j?12:j+12:12==j?0:j);var l=c.clone().hour(k),m=!1;d&&l.minute(59).isBefore(d)&&(m=!0),e&&l.minute(0).isAfter(e)&&(m=!0),b+=k!=c.hour()||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+j+"</option>":'<option value="'+j+'">'+j+"</option>":'<option value="'+j+'" selected="selected">'+j+"</option>"}b+="</select> ",b+=': <select class="minuteselect">';for(var j=0;60>j;j+=this.timePickerIncrement){var n=10>j?"0"+j:j,l=c.clone().minute(j),m=!1;d&&l.second(59).isBefore(d)&&(m=!0),e&&l.second(0).isAfter(e)&&(m=!0),b+=c.minute()!=j||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":'<option value="'+j+'" selected="selected">'+n+"</option>"}if(b+="</select> ",this.timePickerSeconds){b+=': <select class="secondselect">';for(var j=0;60>j;j++){var n=10>j?"0"+j:j,l=c.clone().second(j),m=!1;d&&l.isBefore(d)&&(m=!0),e&&l.isAfter(e)&&(m=!0),b+=c.second()!=j||m?m?'<option value="'+j+'" disabled="disabled" class="disabled">'+n+"</option>":'<option value="'+j+'">'+n+"</option>":'<option value="'+j+'" selected="selected">'+n+"</option>"}b+="</select> "}if(!this.timePicker24Hour){b+='<select class="ampmselect">';var o="",p="";d&&c.clone().hour(12).minute(0).second(0).isBefore(d)&&(o=' disabled="disabled" class="disabled"'),e&&c.clone().hour(0).minute(0).second(0).isAfter(e)&&(p=' disabled="disabled" class="disabled"'),b+=c.hour()>=12?'<option value="AM"'+o+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":'<option value="AM" selected="selected"'+o+'>AM</option><option value="PM"'+p+">PM</option>",b+="</select>"}this.container.find(".drp-calendar."+a+" .calendar-time").html(b)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var a,c={top:0,left:0},d=b(window).width();this.parentEl.is("body")||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},d=this.parentEl[0].clientWidth+this.parentEl.offset().left),a="up"==this.drops?this.element.offset().top-this.container.outerHeight()-c.top:this.element.offset().top+this.element.outerHeight()-c.top,this.container.css({top:0,left:0,right:"auto"});var e=this.container.outerWidth();if(this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens){var f=d-this.element.offset().left-this.element.outerWidth();e+f>b(window).width()?this.container.css({top:a,right:"auto",left:9}):this.container.css({top:a,right:f,left:"auto"})}else if("center"==this.opens){var g=this.element.offset().left-c.left+this.element.outerWidth()/2-e/2;0>g?this.container.css({top:a,right:"auto",left:9}):g+e>b(window).width()?this.container.css({top:a,left:"auto",right:0}):this.container.css({top:a,left:g,right:"auto"})}else{var g=this.element.offset().left-c.left;g+e>b(window).width()?this.container.css({top:a,left:"auto",right:0}):this.container.css({top:a,left:g,right:"auto"})}},show:function(a){this.isShowing||(this._outsideClickProxy=b.proxy(function(a){this.outsideClick(a)},this),b(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),b(window).on("resize.daterangepicker",b.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(a){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),b(document).off(".daterangepicker"),b(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(a){var c=b(a.target);"focusin"==a.type||c.closest(this.element).length||c.closest(this.container).length||c.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(a){var b=a.target.getAttribute("data-range-key");if(this.chosenLabel=b,b==this.locale.customRangeLabel)this.showCalendars();else{var c=this.ranges[b];this.startDate=c[0],this.endDate=c[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(a){var c=b(a.target).parents(".drp-calendar");c.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(a){var c=b(a.target).parents(".drp-calendar");c.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e],h=this.leftCalendar,i=this.rightCalendar,j=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(a,c){if(!b(c).hasClass("week")){var d=b(c).attr("data-title"),e=d.substr(1,1),f=d.substr(3,1),k=b(c).parents(".drp-calendar"),l=k.hasClass("left")?h.calendar[e][f]:i.calendar[e][f];l.isAfter(j)&&l.isBefore(g)||l.isSame(g,"day")?b(c).addClass("in-range"):b(c).removeClass("in-range")}})}},clickDate:function(a){if(b(a.target).hasClass("available")){var c=b(a.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=b(a.target).parents(".drp-calendar"),g=f.hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e];if(this.endDate||g.isBefore(this.startDate,"day")){if(this.timePicker){var h=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&12>h&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(j)&&(j=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var k=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.endDate=null,this.setStartDate(g.clone())}else if(!this.endDate&&g.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var h=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&12>h&&(h+=12),"AM"===i&&12===h&&(h=0)}var j=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(j)&&(j=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var k=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;g=g.clone().hour(h).minute(j).second(k)}this.setEndDate(g.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),a.stopPropagation()}},calculateChosenLabel:function(){var a=!0,b=0;for(var c in this.ranges){if(this.timePicker){var d=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(d)==this.ranges[c][0].format(d)&&this.endDate.format(d)==this.ranges[c][1].format(d)){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[c][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[c][1].format("YYYY-MM-DD")){a=!1,this.chosenLabel=this.container.find(".ranges li:eq("+b+")").addClass("active").attr("data-range-key");break}b++}a&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(a){var c=b(a.target).closest(".drp-calendar").hasClass("left"),d=c?"left":"right",e=this.container.find(".drp-calendar."+d),f=parseInt(e.find(".monthselect").val(),10),g=e.find(".yearselect").val();c||(g<this.startDate.year()||g==this.startDate.year()&&f<this.startDate.month())&&(f=this.startDate.month(),g=this.startDate.year()),this.minDate&&(g<this.minDate.year()||g==this.minDate.year()&&f<this.minDate.month())&&(f=this.minDate.month(),g=this.minDate.year()),this.maxDate&&(g>this.maxDate.year()||g==this.maxDate.year()&&f>this.maxDate.month())&&(f=this.maxDate.month(),g=this.maxDate.year()),c?(this.leftCalendar.month.month(f).year(g),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(f).year(g),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(a){var c=b(a.target).closest(".drp-calendar"),d=c.hasClass("left"),e=parseInt(c.find(".hourselect").val(),10),f=parseInt(c.find(".minuteselect").val(),10);isNaN(f)&&(f=parseInt(c.find(".minuteselect option:last").val(),10));var g=this.timePickerSeconds?parseInt(c.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var h=c.find(".ampmselect").val();"PM"===h&&12>e&&(e+=12),"AM"===h&&12===e&&(e=0)}if(d){var i=this.startDate.clone();i.hour(e),i.minute(f),i.second(g),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())}else if(this.endDate){var j=this.endDate.clone();j.hour(e),j.minute(f),j.second(g),this.setEndDate(j)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var b=this.element.val().split(this.locale.separator),c=null,d=null;2===b.length&&(c=a(b[0],this.locale.format),d=a(b[1],this.locale.format)),(this.singleDatePicker||null===c||null===d)&&(c=a(this.element.val(),this.locale.format),d=c),c.isValid()&&d.isValid()&&(this.setStartDate(c),this.setEndDate(d),this.updateView())}},keydown:function(a){(9===a.keyCode||13===a.keyCode)&&this.hide(),27===a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var a=this.startDate.format(this.locale.format);this.singleDatePicker||(a+=this.locale.separator+this.endDate.format(this.locale.format)),a!==this.element.val()&&this.element.val(a).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},b.fn.daterangepicker=function(a,d){var e=b.extend(!0,{},b.fn.daterangepicker.defaultOptions,a);return this.each(function(){var a=b(this);a.data("daterangepicker")&&a.data("daterangepicker").remove(),a.data("daterangepicker",new c(a,e,d))}),this},c}),function(){var a;a=angular.module("daterangepicker",[]),a.constant("dateRangePickerConfig",{cancelOnOutsideClick:!0,locale:{separator:" - ",format:"YYYY-MM-DD",clearLabel:"Clear"}}),a.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(a,b,c,d){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",picker:"=?",model:"=ngModel",opts:"=options",clearable:"="},link:function(a,c,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return j=function(){var a,b;return b=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(a){return null!=a?a.locale:void 0}).filter(function(a){return!!a})),a=angular.extend.apply(angular,arguments),a.locale=b,a},r=$(c),r.attr("ng-trim","false"),e.ngTrim="false",p=!1,(u=function(){var a,b;return f.$options&&"function"==typeof f.$options.getOption?(b=f.$options.getOption("updateOn"),p=!!f.$options.getOption("allowInvalid")):(b=f.$options&&f.$options.updateOn||"",p=!(!f.$options||!f.$options.allowInvalid)),b.includes("change")?void 0:"function"==typeof f.$overrideModelOptions?(b+=" change",f.$overrideModelOptions({"*":"$inherit",updateOn:b})):(b+=" change",b.replace(/default/g," "),a=angular.copy(f.$options)||{},a.updateOn=b,a.updateOnDefault=!1,f.$options=a)})(),q=a.opts,t=j({},angular.copy(d),q),k=null,g=function(){return k?(k.setStartDate(),k.setEndDate()):void 0},l=function(a){return function(b){return!b||moment.isMoment(b)&&!b.isValid()?void 0:(b=moment(b),k?a(b):void 0)}},n=l(function(a){return a&&k.endDate<a&&k.setEndDate(a),k.setStartDate(a),t.startDate=k.startDate}),m=l(function(a){return a&&k.startDate>a?(k.setEndDate(k.startDate),t.endDate=k.endDate,k.setStartDate(a),t.startDate=k.startDate):(k.setEndDate(a),t.endDate=k.endDate)}),s=function(a){var b,c;return b=function(a){return moment.isMoment(a)?a.format(t.locale.format):moment(a).format(t.locale.format)},c=t.singleDatePicker&&a?b(a):a&&(a.startDate||a.endDate)?[b(a.startDate),b(a.endDate)].join(t.locale.separator):""},f.$formatters.push(function(a){return s(a)}),f.$renderOriginal=f.$render,f.$render=function(){return f.$modelValue&&t.singleDatePicker?(n(f.$modelValue),m(f.$modelValue)):f.$modelValue&&(f.$modelValue.startDate||f.$modelValue.endDate)?(n(f.$modelValue.startDate),m(f.$modelValue.endDate)):g(),f.$valid?f.$renderOriginal():void 0},f.$parsers.push(function(a){var b,c,d;return b=function(a){var b;return b=moment(a,t.locale.format),b.isValid()&&b||null},c=t.singleDatePicker?null:{startDate:null,endDate:null},angular.isString(a)&&a.length>0&&(t.singleDatePicker?c=b(a):(d=a.split(t.locale.separator).map(b),c.startDate=d[0]?d[0].startOf("day"):null,c.endDate=d[1]?d[1].endOf("day"):null)),c}),f.$isEmpty=function(a){return!(angular.isString(a)&&a.length>0)},h=function(){var b;r.daterangepicker(angular.extend(t,{autoUpdateInput:!1}),function(b,c,d){return a.$apply(function(){return"function"==typeof t.changeCallback?t.changeCallback.apply(this,arguments):void 0})}),k=r.data("daterangepicker"),a.picker=k,k.container.hide(),k.container.addClass((t.pickerClasses||"")+" "+(e.pickerClasses||"")),r.on("show.daterangepicker",function(b,c){return r.addClass("picker-open"),a.$apply(function(){t.singleDatePicker?c.startDate.isSame(a.model)||(n(a.model),m(a.model)):(a.model&&!c.startDate.isSame(a.model.startDate)&&n(a.model.startDate),a.model&&!c.endDate.isSame(a.model.endDate)&&m(a.model.endDate)),c.updateView()})}),r.on("hide.daterangepicker",function(a,b){return r.removeClass("picker-open")}),r.on("apply.daterangepicker",function(b,c){return a.$apply(function(){t.singleDatePicker?c.startDate?c.startDate.isSame(a.model)||(a.model=c.startDate):a.model=null:c.startDate.isSame(c.oldStartDate)&&c.endDate.isSame(c.oldEndDate)&&a.model&&c.startDate.isSame(a.model.startDate)&&c.endDate.isSame(a.model.endDate)||(a.model={startDate:c.startDate,endDate:c.endDate,label:c.chosenLabel})})}),r.on("outsideClick.daterangepicker",function(b,c){return t.cancelOnOutsideClick?a.$apply(function(){return c.cancelingClick=!0,c.clickCancel()}):c.clickApply()});for(b in t.eventHandlers)r.on(b,function(b,c){var d;return d=b.type+"."+b.namespace,a.$evalAsync(t.eventHandlers[d])});return f.$validate(),a.model?void 0:r.trigger("change")},a.$watch(function(){return s(a.model)},function(a){return"function"==typeof f.$processModelValue?(f.$processModelValue(),f.$render()):("function"==typeof f.$$updateEmptyClasses&&f.$$updateEmptyClasses(a),f.$viewValue=f.$$lastCommittedViewValue=a,f.$render())}),f.$validators.invalid=function(a,b){var c,d;return c=e.required&&!f.$isEmpty(b),d=t.singleDatePicker?a&&a.isValid():a&&a.startDate&&a.startDate.isValid()&&a.endDate&&a.endDate.isValid(),!c||!!d},o=function(a,b,c){var d;return a&&(b||c)?(d=[a,b,c].map(function(a){return a?moment(a):a}),a=d[0],b=d[1],c=d[2],(!b||b.isBefore(a)||b.isSame(a,"day"))&&(!c||c.isSame(a,"day")||c.isAfter(a))):!0},i=function(c,d,g,h){return f.$validators[c]=function(a){return t[h]?t.singleDatePicker?"min"===c?!a||d(a,t.minDate,a):"max"===c?!a||d(a,a,t.maxDate):void 0:a&&d(a[g],t.minDate,t.maxDate):!0},e[c]?a.$watch(c,function(a){return t[h]=a?moment(a):!1,k?(k[h]=t[h],b(function(){return f.$validate()})):void 0}):void 0},i("min",o,"startDate","minDate"),i("max",o,"endDate","maxDate"),a.$watch("opts",function(a){return null==a&&(a={}),t=j(t,a),h()},!0),e.clearable&&a.$watch("clearable",function(c){return c&&(t=j(t,{locale:{cancelLabel:t.locale.clearLabel}})),h(),c?r.on("cancel.daterangepicker",function(c,d){return d.cancelingClick||(a.model=t.singleDatePicker?null:{startDate:null,endDate:null},r.val("")),d.cancelingClick=null,b(function(){return a.$apply()})}):void 0}),a.$on("$destroy",function(){return null!=k?k.remove():void 0})}}}])}.call(this),angular.module("angular.css.injector",[]).provider("cssInjector",["$interpolateProvider",function(a){function b(b,d,e){var f,g=angular.element(document.getElementsByTagName("head")[0]);d.$on("$locationChangeStart",function(){c===!0&&k()});var h=function(){void 0===f&&(f=e.scope())},i=function(c){if(h(),void 0===f.injectedStylesheets)f.injectedStylesheets=[],g.append(b("<link data-ng-repeat='stylesheet in injectedStylesheets' data-ng-href='"+a.startSymbol()+"stylesheet.href"+a.endSymbol()+"' rel='stylesheet' />")(f));else for(var d in f.injectedStylesheets)if(f.injectedStylesheets[d].href==c)return;f.injectedStylesheets.push({href:c})},j=function(a){if(h(),f.injectedStylesheets)for(var b=0;b<f.injectedStylesheets.length;b++)if(f.injectedStylesheets[b].href===a)return void f.injectedStylesheets.splice(b,1)},k=function(){h(),void 0!==f.injectedStylesheets&&(f.injectedStylesheets=[])};return{add:i,remove:j,removeAll:k}}var c=!1;this.$get=["$compile","$rootScope","$rootElement",function(a,c,d){return new b(a,c,d)}],this.setSinglePageMode=function(a){return c=a,this}}]),!function(a){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(a){angular.isDefined(a.urlSanitizationWhitelist)?a.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/):a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]),angular.module("ngCsv.directives",["ngCsv.services"]),angular.module("ngCsv.services",[]),angular.module("ngCsv",["ngCsv.config","ngCsv.services","ngCsv.directives","ngSanitize"]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ngCsv"),angular.module("ngCsv.services").service("CSV",["$q",function(a){var b="\r\n",c="\ufeff",d={"\\t":"	","\\b":"\b","\\v":"","\\f":"\f","\\r":"\r"};this.stringifyField=function(a,b){return"locale"===b.decimalSep&&this.isFloat(a)?a.toLocaleString():"."!==b.decimalSep&&this.isFloat(a)?a.toString().replace(".",b.decimalSep):"string"==typeof a?(a=a.replace(/"/g,'""'),(b.quoteStrings||a.indexOf(",")>-1||a.indexOf("\n")>-1||a.indexOf("\r")>-1)&&(a=b.txtDelim+a+b.txtDelim),a):"boolean"==typeof a?a?"TRUE":"FALSE":a},this.isFloat=function(a){return+a===a&&(!isFinite(a)||Boolean(a%1))},this.stringify=function(d,e){var f=a.defer(),g=this,h="",i="",j=a.when(d).then(function(a){if(angular.isDefined(e.header)&&e.header){var d,j;d=[],angular.forEach(e.header,function(a){this.push(g.stringifyField(a,e))},d),j=d.join(e.fieldSep?e.fieldSep:","),i+=j+b}var k=[];if(angular.isArray(a)?k=a:angular.isFunction(a)&&(k=a()),angular.isDefined(e.label)&&e.label&&"boolean"==typeof e.label){var l,m;l=[],angular.forEach(k[0],function(a,b){this.push(g.stringifyField(b,e))},l),m=l.join(e.fieldSep?e.fieldSep:","),i+=m+b}angular.forEach(k,function(a,c){var d,f,h=angular.copy(k[c]);f=[];var j=e.columnOrder?e.columnOrder:h;angular.forEach(j,function(a){var b=e.columnOrder?h[a]:a;this.push(g.stringifyField(b,e))},f),d=f.join(e.fieldSep?e.fieldSep:","),i+=c<k.length?d+b:d}),e.addByteOrderMarker&&(h+=c),h+=i,f.resolve(h)});return"function"==typeof j["catch"]&&j["catch"](function(a){f.reject(a)}),f.promise},this.isSpecialChar=function(a){return void 0!==d[a]},this.getSpecialChar=function(a){return d[a]}}]),angular.module("ngCsv.directives").directive("ngCsv",["$parse","$q","CSV","$document","$timeout",function(b,c,d,e,f){return{restrict:"AC",scope:{data:"&ngCsv",filename:"@filename",header:"&csvHeader",columnOrder:"&csvColumnOrder",txtDelim:"@textDelimiter",decimalSep:"@decimalSeparator",quoteStrings:"@quoteStrings",fieldSep:"@fieldSeparator",lazyLoad:"@lazyLoad",addByteOrderMarker:"@addBom",ngClick:"&",charset:"@charset",label:"&csvLabel"},controller:["$scope","$element","$attrs","$transclude",function(a,b,e){function f(){var b={txtDelim:a.txtDelim?a.txtDelim:'"',decimalSep:a.decimalSep?a.decimalSep:".",quoteStrings:a.quoteStrings,addByteOrderMarker:a.addByteOrderMarker};return angular.isDefined(e.csvHeader)&&(b.header=a.$eval(a.header)),angular.isDefined(e.csvColumnOrder)&&(b.columnOrder=a.$eval(a.columnOrder)),angular.isDefined(e.csvLabel)&&(b.label=a.$eval(a.label)),b.fieldSep=a.fieldSep?a.fieldSep:",",b.fieldSep=d.isSpecialChar(b.fieldSep)?d.getSpecialChar(b.fieldSep):b.fieldSep,b}a.csv="",angular.isDefined(a.lazyLoad)&&"true"==a.lazyLoad||angular.isArray(a.data)&&a.$watch("data",function(){a.buildCSV()},!0),a.getFilename=function(){return a.filename||"download.csv"},a.buildCSV=function(){var g=c.defer();return b.addClass(e.ngCsvLoadingClass||"ng-csv-loading"),d.stringify(a.data(),f()).then(function(c){a.csv=c,b.removeClass(e.ngCsvLoadingClass||"ng-csv-loading"),g.resolve(c)}),a.$apply(),g.promise}}],link:function(b,c){function d(){var c=b.charset||"utf-8",d=new Blob([b.csv],{type:"text/csv;charset="+c+";"});if(a.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(d,b.getFilename());else{var g=angular.element('<div data-tap-disabled="true"><a></a></div>'),h=angular.element(g.children()[0]);h.attr("href",a.URL.createObjectURL(d)),h.attr("download",b.getFilename()),h.attr("target","_blank"),e.find("body").append(g),f(function(){h[0].click(),h.remove()},null)}}c.bind("click",function(){b.buildCSV().then(function(){d()}),b.$apply()})}}}])}(window,document),angular.module("adminPortal",["ui.bootstrap","ngRoute","ngAnimate","angular-loading-bar","angularCSS","ui.utils.masks","textAngular","ngStorage","adminPortal.merchant","adminPortal.menu","adminPortal.promo","adminPortal.customerService","adminPortal.webSkin","adminPortal.brand","adminPortal.reports","adminPortal.customer","adminPortal.user","adminPortal.valueAddedReseller","shared","toggle-switch","ngFileUpload","uiCropper","mp.colorPicker","dndLists","ngAnimate","chart.js","ngSanitize","angucomplete-alt","angularUtils.directives.dirPagination","adminPortal.operator","adminPortal.operator","pascalprecht.translate","fixed.table.header","angular-web-notification","daterangepicker","angular.css.injector","ngCsv"]),angular.module("adminPortal").config(["$routeProvider","cfpLoadingBarProvider","$translateProvider","$localStorageProvider",function(a,b,c,d){a.otherwise({redirectTo:"/"}),b.latencyThreshold=300,c.useSanitizeValueStrategy("escape"),c.useStaticFilesLoader({prefix:"./assets/languages/",suffix:".json"}),c.preferredLanguage("en_US");var e=function(a){try{return window.btoa(angular.toJson(a))}catch(b){return void 0}},f=function(a){try{return angular.fromJson(window.atob(a))}catch(b){return void console.log(b)}};d.setSerializer(e),d.setDeserializer(f)}]),angular.module("adminPortal").run(["$rootScope",function(a){a.safeApply=function(b){var c=a.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():this.$apply(b)}}]),angular.module("adminPortal").run(["$rootScope","$location","Users","$route",function(a,b,c,d){a.$on("$routeChangeStart",function(a,d,e){var f=d.publicAccess||!1;f&&c.isLoggedIn()&&"template/login.html"===d.templateUrl&&(d.sideBar="home",b.path("/")),f||c.isLoggedIn()||(a.preventDefault(),d.sideBar="none",b.path("/login"))})}]),angular.module("adminPortal").run(["$rootScope",function(a){String.prototype.includes||(String.prototype.includes=function(a,b){return"number"!=typeof b&&(b=0),b+a.length>this.length?!1:-1!==this.indexOf(a,b)})}]),angular.module("adminPortal").controller("ThemePreferencesController",["$scope","Cookie","$rootScope",function(a,b,c){function d(){var d=b.getCookie(e);d?(c.theme=d,a.selectedTheme=d):(c.theme="dark",b.setCookie(e,c.theme,365))}var e="skin_preferences";c.theme="dark",a.selectedTheme=null,a.layouts=[{name:"Light Theme",url:"light"},{name:"Dark Theme",url:"dark"}],a.$watch(function(){return b.getCookie(e)},function(a){c.theme=b.getCookie(e)}),a.changeTheme=function(){a.safeApply(function(){c.theme=a.selectedTheme,b.setCookie(e,c.theme,365)})},this.$onInit=function(){d()}}]),angular.module("adminPortal.merchant",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.merchant").config(["$routeProvider",function(a){a.when("/",{redirectTo:"/merchants"}),a.when("/merchants",{templateUrl:"modules/merchant/merchant-list/merchant-list.html",controller:"MerchantListCtrl",controllerAs:"merchant"}),a.when("/merchant/create",{templateUrl:"modules/merchant/merchant-create/merchant-create.html",controller:"MerchantCreateCtrl"}),a.when("/merchant/general_info",{templateUrl:"modules/merchant/merchant-info/merchant-info.html",controller:"MerchantInfoCtrl",controllerAs:"info"}),a.when("/merchant/contact",{templateUrl:"modules/merchant/merchant-contact/merchant-contact.html",controller:"MerchantContactCtrl",controllerAs:"contact"}),a.when("/merchant/hours",{templateUrl:"modules/merchant/merchant-hours/merchant-hours.html",controller:"MerchantHoursCtrl",controllerAs:"vm_hour"}),a.when("/merchant/tax",{templateUrl:"modules/merchant/merchant-tax/merchant-tax.html",controller:"MerchantTaxCtrl",controllerAs:"tax"}),a.when("/merchant/delivery",{templateUrl:"modules/merchant/merchant-delivery/merchant-delivery.html",controller:"MerchantDeliveryCtrl",controllerAs:"delivery"}),a.when("/merchant/ordering",{templateUrl:"modules/merchant/merchant-ordering/merchant-ordering.html",controller:"MerchantOrderingCtrl",controllerAs:"ordering"}),a.when("/merchant/order/send",{templateUrl:"modules/merchant/merchant-order-send/merchant-order-send.html",controller:"MerchantOrderSendCtrl"}),a.when("/merchant/search",{templateUrl:"modules/merchant/merchant-search/merchant-search.html",controller:"MerchantSearchCtrl"}),a.when("/merchant/operator_ordering_on_off",{templateUrl:"modules/merchant/merchant-ordering-on-off/merchant-ordering-on-off.html",controller:"MerchantOperatorOrderingOnOffCtrl",controllerAs:"op_on_off"}),a.when("/merchant/catering",{templateUrl:"modules/merchant/merchant-catering/merchant-catering.html",controller:"MerchantCateringCtrl",controllerAs:"vm"}),a.when("/merchant/statements",{templateUrl:"modules/merchant/merchant-statements/merchant-statements.html",controller:"MerchantStatementsCtrl",controllerAs:"vm",css:"modules/merchant/merchant-statements/merchant-statements.css"}),a.when("/merchant/payment",{templateUrl:"modules/merchant/payment-services/payment-services.html",controller:"PaymentServicesCtrl",controllerAs:"vm"})}]),angular.module("adminPortal.merchant").controller("MerchantListCtrl",MerchantListCtrl),angular.module("adminPortal.merchant").controller("MerchantCreateCtrl",MerchantCreateCtrl),
function(){"use strict";function a(a,b,c,d,e,f,g){function h(){q(),g.getUserSessionInfo().then(function(a){r.user=a})["catch"](function(a){console.log(a)}),a.index("general_info").then(function(a){var d=a.data.lookup;r.states=d.state,r.countries=d.country,r.time_zones=d.time_zone,r.inactive_reasons=d.inactive_reason;var e=a.data.merchant;r.location.business_name=e.name,r.location.display_name=e.display_name,r.location.merchant_external_id=e.merchant_external_id,r.location.numeric_id=e.numeric_id,r.location.alphanumeric_id=e.alphanumeric_id,r.location.address1=e.address1,r.location.address2=e.address2,r.location.city=e.city,r.location.state=e.state,r.location.zip=e.zip,r.location.country=e.country,r.location.shop_email=e.shop_email,r.location.phone_no=e.phone_no,r.location.fax_no=e.fax_no;var f=c.findIndexByKeyValue(r.time_zones,"type_id_value",e.time_zone);if(r.location.time_zone=r.time_zones[f],r.config.delivery=b.yesNoTrueFalseConversion(e.delivery),r.config.immediate_message_delivery=b.yesNoTrueFalseConversion(e.immediate_message_delivery),r.config.active=b.yesNoTrueFalseConversion(e.active),r.config.inactive_reason=e.inactive_reason,r.config.ordering_on=b.yesNoTrueFalseConversion(e.ordering_on),r.config.show_tip=b.yesNoTrueFalseConversion(e.show_tip),r.config.lead_time=e.lead_time,r.message.custom_order_message=e.custom_order_message,r.message.custom_menu_message=e.custom_menu_message,r.business_info=e.business_info,r.business_info&&r.business_info.EIN_SS&&r.business_info.EIN_SS.length>=4){var g=new Array(r.business_info.EIN_SS.length-4).join("*");r.business_info.EIN_SS_TEMP_VIEW=g+r.business_info.EIN_SS.substr(r.business_info.EIN_SS.length-4)}else r.business_info||(r.business_info={}),r.business_info.EIN_SS_TEMP_VIEW="00-00000000";if(r.business_banking=e.business_banking,r.business_banking&&(r.business_banking.routing=r.business_banking.routing),r.business_banking&&r.business_banking.account&&r.business_banking.account.length>=4){var h=new Array(r.business_banking.account.length-4).join("*");r.business_banking.account_TEMP_VIEW=h+r.business_banking.account.substr(r.business_banking.account.length-4)}else r.business_banking||(r.business_banking={}),r.business_banking.account_TEMP_VIEW="000 000 000";p()})}function i(){r.location.submit=!0,r.location_form.$valid&&(r.processing_location=!0,a.update("location",r.location).then(function(b){p(),r.location.success=!0,d(o,3500),a.percent_complete=80}))}function j(){r.configurations.submit=!0,r.config_form.$valid&&(r.processing_configuration=!0,a.update("config",r.config).success(function(a){p(),r.configurations.success=!0,d(o,3500)})["catch"](function(a){console.log(a),h()}))}function k(){r.message.submit=!0,r.message_form.$valid&&(r.processing_messages=!0,a.update("messages",r.message).then(function(a){p(),r.message.success=!0,d(o,3500)}))}function l(a,b){return c.charactersRemaining(a,b)}function m(){r.business_banking_error=!1,r.businessInfoForm.$valid&&(r.processing_business_info=!0,r.business_info.EIN_SS_TEMP&&r.business_info.EIN_SS_TEMP.length>0&&(r.business_info.EIN_SS=r.business_info.EIN_SS_TEMP),a.update("business_info",r.business_info).success(function(a){r.business_info_success=!0,p(),d(o,2e3)})["catch"](function(a){p(),console.log(a.data),h()}))}function n(){return r.business_banking_error=!1,r.businessBankingForm.$valid&&!r.businessInfoForm.$valid?(r.business_banking_error=!0,void p()):void(r.businessBankingForm.$valid&&r.businessInfoForm.$valid&&(r.business_banking.acct_address=r.business_info.address,r.business_banking.acct_city=r.business_info.city,r.business_banking.acct_st=r.business_info.state,r.business_banking.acct_zip=r.business_info.zip,r.business_banking.account_TEMP&&(r.business_banking.account=r.business_banking.account_TEMP),r.processing_business_banking=!0,a.update("business_banking",r.business_banking).success(function(a){r.business_banking_success=!0,p(),d(o,2e3)})["catch"](function(a){p(),console.log(a.data),h()})))}function o(){r.business_info_success=!1,r.business_banking_success=!1,r.location.success=!1,r.configurations.success=!1,r.message.success=!1}function p(){r.processing_business_info=!1,r.processing_business_banking=!1,r.processing_configuration=!1,r.processing_location=!1,r.processing_messages=!1}function q(){r.processing_business_info=!0,r.processing_business_banking=!0,r.processing_configuration=!0,r.processing_location=!0,r.processing_messages=!0}var r=this;r.location={},r.config={},r.configurations={},r.configurations.processing=!1,r.store={},r.message={},r.states=[],r.countries=[],r.time_zones=[],r.inactive_reasons=[],r.user={},r.business_info={};var s=[{name:"config_form",desc:"Configurations"},{name:"location_form",desc:"Location"},{name:"message_form",desc:"Custom Messages"}];r.updateLocation=i,r.updateConfig=j,r.updateMessages=k,r.charactersRemaining=l,r.businessUpdateInfo=m,r.businessUpdateBanking=n,h(),e.checkFormOnStateChange(f,s,"info"),f.$on("current_merchant:updated",function(a,b){h()})}a.$inject=["Merchant","Lookup","UtilityService","$timeout","RouteChangeCheck","$scope","Users"],angular.module("adminPortal.merchant").controller("MerchantInfoCtrl",a)}(),angular.module("adminPortal.merchant").controller("MerchantContactCtrl",MerchantContactCtrl),angular.module("adminPortal.merchant").controller("MerchantHoursCtrl",MerchantHoursCtrl),angular.module("adminPortal.merchant").controller("MerchantTaxCtrl",MerchantTaxCtrl),angular.module("adminPortal.merchant").controller("MerchantDeliveryCtrl",MerchantDeliveryCtrl),function(){function a(a,b,c,d,e,f,g,h,i){function j(){D.prep_time.success=!1,D.order_settings.success=!1}function k(){a.index("ordering").then(function(a){var b=a.data.menu;D.prep_time=a.data.prep_time,D.payment_types=a.data.payment_types,D.billing_entities=a.data.billing_entities,D.payment_groups=a.data.payment_groups,D.send_orders=a.data.send_orders,D.test=parseFloat(a.data.order_settings.tip_minimum_trigger_amount),D.order_settings=a.data.order_settings,D.order_settings.tip_minimum_trigger_amount=parseFloat(a.data.order_settings.tip_minimum_trigger_amount),D.order_settings.advanced_ordering=d.yesNoTrueFalseConversion(D.order_settings.advanced_ordering),D.order_settings.tip_minimum_percentage=parseInt(D.order_settings.tip_minimum_percentage),D.lookup.messages_types=a.data.messages_types,D.lookup.message_formats=a.data.message_formats,D.lookup.menus=b,D.initSkinSearch=a.data.brand_id,D.current_merchant_id=a.data.merchant_id,a.data.call_in_history&&(D.call_in_history=a.data.call_in_history,D.call_in_history.last_call_in_date=new Date(a.data.call_in_history.last_call_in),C()),f.getMerchantRelatedSkins(a.data.brand_id,a.data.merchant_id).success(function(a){D.lookup.skins=a,D.loading=!1}),A()})}function l(){$("#"+D.menuPicker).modal("show")}function m(){D.prep_time.submit=!0,D.prep_time_form.$valid&&(D.prep_time.processing=!0,a.update("prep_time",D.prep_time).then(function(a){D.prep_time.processing=!1,D.prep_time.success=!0,b(j,3500)}))}function n(){D.new_payment_group_form.$valid&&a.create("payment_group",D.new_payment_group).then(function(b){D.payment_groups.push(b.data.new_payment_group),$("#add-payment-group-modal").modal("hide"),a.markProgressMilestoneComplete("payment_group")})}function o(a,b){D.delete_payment_group=a,E=b}function p(){a["delete"]("payment_group",D.delete_payment_group.id).then(function(a){D.payment_groups.splice(E,1),$("#delete-payment_group-modal").modal("hide")})}function q(){a.updateMerchant(D.payment_groups,"payments").then(function(a){D.payment_groups=a.data,D.payments_form_updated_success=!0,b(j,3500)})}function r(a,b,c){c.stopPropagation(),F=a,D.delete_send_order_desc=a.message_text,G=b,$("#delete-send-order-modal").modal("show")}function s(){a["delete"](H,F.map_id).then(function(a){D.send_orders.splice(G,1),$("#delete-send-order-modal").modal("hide")})}function t(a,b){D.edit_send_order=a,I=b}function u(){D.edit_send_order_form.$valid&&($("#edit-send-order-modal").modal("hide"),a.update("order_receiving",D.edit_send_order).then(function(b){D.send_orders[I]=D.edit_send_order,a.markProgressMilestoneComplete("order_receiving")}))}function v(){D.order_settings.submit=!0,D.order_settings_form.$valid&&(D.order_settings.processing=!0,a.update("order_settings",D.order_settings).then(function(a){D.order_settings.processing=!1,D.order_settings.success=!0,b(j,3500)}))}function w(){D.new_send_order_form.$valid&&($("#add-send-order-modal").modal("hide"),a.create("order_receiving",D.new_send_order).then(function(a){D.new_send_order={},k()}))}function x(a){return c.shortenTextBackend(a)}function y(a){return"2000"===a?!0:!1}function z(){$("#"+D.skinSelector).modal("hide"),D.skinSelected.length>0&&f.setSkinToMerchant(D.current_merchant_id,D.skinSelected).success(function(b){k(),a.markProgressMilestoneComplete("skin_association")})}function A(){D.loading=!0,a.getLeadTimes(D.current_merchant_id).success(function(a){D.lead_time.delivery=a.delivery,D.lead_time.pickup=a.pickup,D.loading=!1})}function B(){var a=["V","A","B","BO","U"];return a.indexOf(D.new_send_order.message_format)>-1?!1:!0}function C(){J=b(function(){a.getCallInHistory().then(function(a){D.call_in_history=a.data,D.call_in_history.last_call_in_date=new Date(a.data.last_call_in),C()})},6e4)}var D=this;D.prep_time={},D.new_payment_group={},D.order_settings={},D.payment_groups=[],D.call_in_history={},D.delete_payment_group={};var E;D.payment_types=[],D.billing_entities=[],D.updatePrepTime=m,D.createPaymentGroup=n,D.deletePaymentGroup=p,D.updatePayments=q,D.deletePaymentGroupDialog=o,D.createSendOrder=w,D.deleteSendOrderDialog=r,D.confirmDeleteSendOrder=s,D.updateOrderReceivingDialog=t,D.updateOrderReceiving=u,D.shortenBackend=x,D.updateOrderSettings=v,D.useBillingEntity=y,D.changeSkinButton=z,D.defaultOrderReceivingType=B,D.prep_time_submit=!1,D.update_prep_time_success=!1,D.edit_prep_time_processing=!1,D.payments_form_updated_success=!1,D.getMenuList=e.getMenuListForCurrentMerchant,D.send_orders=[],D.new_send_order={},D.new_send_order.vivonet={},D.new_send_order.foundry={},D.new_send_order.task_retail={},D.new_send_order.brink={},D.submit=!1,D.clickAddSendOrder=function(){D.new_send_order.delay=0,D.new_send_order.message_type="X",D.new_send_order.info=void 0,D.new_send_order.message_text=void 0,D.new_send_order.message_format=void 0,D.new_send_order.delivery_addr="",D.new_send_order.vivonet={},D.new_send_order.foundry={},D.new_send_order.vivonet.promo_charge_id=0,D.new_send_order_form.$setPristine(),D.new_send_order_form.$setUntouched(),$("#add-send-order-modal").modal("show")};var F,G,H="order_receiving";D.edit_send_order={};var I;D.send_order_update_success=!1,D.message_types=[],D.lookup={},D.menuPicker="menuPicker1",D.selectedMenu=[],D.changeMerchantButton=function(){$("#"+D.menuPicker).modal("hide"),e.setMenusToMerchant(D.selectedMenu).then(function(b){k(),a.markProgressMilestoneComplete("menu")})},D.loading=!0,D.closeModal=function(){k()},D.skinSelector="skinSelector1",D.skinSelectorBody="Choose the site for the current merchant from the following list.",D.skinSelectorTitle="Site Selector",D.skinSelected=[],D.lookupSkinFunction=f.getSkinsByBrand,D.skinTableHeaders=["Skin ID","Name","Description"],D.skinTableFields=["skin_id","skin_name","skin_description"],k(),D.loadModalData=l,D.leadTimeModal="leadTimeModal1",D.lead_time={},D.lead_time.current={},D.lead_time.pickup=[],D.lead_time.delivery=[],D.lead_time_form={},D.newLeadTime=function(){D.lead_time.current={},D.lead_time.current.start_time_object=moment("00:00","HH:mm").toDate(),D.lead_time.current.end_time_object=moment("12:00","HH:mm").toDate(),D.lead_time.headerTitle="Create new lead time",D.lead_time_form.$setUntouched(),D.lead_time_form.$setPristine(),$("#"+D.leadTimeModal).modal("show")},D.submitLeadModal=function(){D.lead_time.error=void 0,D.lead_time_form.$valid&&($("#"+D.leadTimeModal).modal("hide"),D.lead_time.current.merchant_id=D.current_merchant_id,D.lead_time.current.start_time=g("date")(D.lead_time.current.start_time_object,"HH:mm:ss"),D.lead_time.current.end_time=g("date")(D.lead_time.current.end_time_object,"HH:mm:ss"),a.setLeadTimes(D.current_merchant_id,D.lead_time.current).success(function(a){setTimeout(function(){A()},200)})["catch"](function(a){D.lead_time.error=a.data.error}))},D.editLeadTime=function(a){D.lead_time.current=a,D.lead_time.current.start_time_object=moment(D.lead_time.current.start_time,"HH:mm:ss").toDate(),D.lead_time.current.end_time_object=moment(D.lead_time.current.end_time,"HH:mm:ss").toDate(),D.lead_time.headerTitle="Edit lead time"},D.deleteLeadTime=function(b){h.swal({title:"Warning",text:"Are you sure you want to delete the record?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(c){c&&a.deleteLeadTime(D.current_merchant_id,b.id).success(function(a){A()})})};var J;i.$on("$destroy",function(){J&&b.cancel(J)})}a.$inject=["Merchant","$timeout","UtilityService","Lookup","Menu","WebSkin","$filter","SweetAlert","$scope"],angular.module("adminPortal.merchant").controller("MerchantOrderingCtrl",a)}(),angular.module("adminPortal.merchant").controller("MerchantOrderSendCtrl",MerchantOrderSendCtrl),angular.module("adminPortal.merchant").controller("MerchantSearchCtrl",MerchantSearchCtrl),angular.module("adminPortal.merchant").controller("MerchantNavBarCtrl",MerchantNavBarCtrl),angular.module("adminPortal.merchant").controller("MerchantOperatorOrderingOnOffCtrl",["Merchant","$http","SweetAlert","$scope",function(a,b,c,d){function e(){b.get("merchant/operating_on_off").then(function(a){j.ordering_on=a.data.ordering_on,j.delivery=a.data.delivery,j.last_call_status=a.data.device_call_fail})}function f(){var a=j.ordering_on?"On":"Off";j.last_call_status.status&&"On"==a?c.swal({title:"Warning.",text:"Your ordering has been shut off due to loss of connection with your printer. The last time your printer had a connection was "+j.last_call_status.last_call+". Are you sure you want to turn ordering back on?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Confirm"},function(a){a?h():j.ordering_on=!j.ordering_on}):c.swal({title:"Warning.",text:"Are you sure you want to turn ordering  "+a+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Confirm"},function(a){a?h():j.ordering_on=!j.ordering_on})}function g(){var a=j.delivery?"On":"Off";c.swal({title:"Warning.",text:"Are you sure you want to turn delivery  "+a+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Confirm"},function(a){a?i():j.ordering_on=!j.ordering_on})}function h(){b.post("merchant/operating_on_off/ordering",{ordering:j.ordering_on}).then(function(a){})}function i(){b.post("merchant/operating_on_off/delivery",{delivery:j.delivery}).then(function(a){})}var j=this;j.ordering_on=!1,j.delivery=!1,j.last_call_status={},e(),j.changeOrderingOn=h,j.changeOrderingOnConfirm=f,j.changeDelivery=i,j.changeDeliveryConfirm=g,d.$on("current_merchant:updated",function(a,b){e()})}]),angular.module("adminPortal.merchant").factory("Merchant",["$http","$rootScope",function(a,b){var c={};return c.progress_milestones=[],c.search_results=[],c.all_merchants=[],c.current_merchant=null,c.percent_complete=0,c.merchantPaginator=null,c.index=function(b){var c=a.get("/merchant/"+b);return c.then(function(a){return a},function(a){window.location="/"}),c},c.create=function(b,c){var d=a.post("/merchant/"+b,c);return d.then(function(a){return a}),d},c["delete"]=function(b,c){var d=a["delete"]("/merchant/"+b+"/"+c);return d.then(function(a){return a}),d},c.update=function(b,c){var d=a.put("/merchant/"+b,c);return d.then(function(a){return a}),d},c.get=function(b){var c=a.get("/merchant/"+b);return c.then(function(a){return a}),c},c.updateMerchant=function(b,c){var d=a.post("/merchant/update/"+c,b);return d.then(function(a){return a}),d},c.deleteMerchant=function(b,c){var d=a.post("/merchant/delete/"+c,b);return d.then(function(a){return a}),d},c.createMerchant=function(b,c){var d=a.post("/merchant/create/"+c,b);return d.then(function(a){return a}),d},c.getProgressComplete=function(){var b=a.get("/merchant/progress_complete");return b.then(function(a){c.progress_milestones=a.data,c.calculatePercentComplete()}),b},c.calculatePercentComplete=function(){var a=0,d=0;for(var e in c.progress_milestones)if(a+=parseInt(c.progress_milestones[e].progress_percentage),c.progress_milestones[e].complete&&(d+=parseInt(c.progress_milestones[e].progress_percentage)),isNaN(parseFloat(a)));c.percent_complete=Math.round(d/a*100),b.$broadcast("percent_complete:updated",c.percent_complete)},c.markProgressMilestoneComplete=function(a){c.progress_milestones[a].complete=!0,c.calculatePercentComplete()},c.getSearchResults=function(){return c.search_results},c.getAllMerchants=function(){var a=c.get("all");return a.then(function(a){c.all_merchants=a.data}),a},c.post=function(b,c){var d=a.post("/merchant/"+b,c);return d.then(function(a){return a}),d},c.setCurrentMerchant=function(d){var e=a.post("/merchant/set_current",{merchant_id:d}).then(function(a){c.current_merchant=a.data}).then(c.getProgressComplete).then(function(){return b.$broadcast("current_merchant:updated",c.current_merchant),c.current_merchant});return e},c.getCurrentMerchant=function(){return a.get("/merchant/get_current").success(function(a){b.$broadcast("current_merchant:updated",a)})},c.getLeadTimes=function(b){return a.get("/merchant/"+b+"/lead_times")},c.setLeadTimes=function(b,c){return a.post("/merchant/"+b+"/lead_times",c)},c.deleteLeadTime=function(b,c){return a["delete"]("/merchant/"+b+"/lead_times/"+c)},c.addMidDayHour=function(b){return a.post("/merchant/hours/mid_day_hours",b)},c.deleteMidHayHour=function(b){return a["delete"]("/merchant/hours/mid_day_hours/"+b)},c.getCallInHistory=function(){return a.get("/merchant/ordering/call_in_history")},c}]),angular.module("adminPortal.merchant").directive("paymentServicesTos",function(){var a=function(a){};return a.$inject=["$scope"],{restrict:"E",replace:!0,scope:{closeMerchantSelect:"&",selectedMerchantId:"=",searchFunction:"=?",autoSubmit:"=?",autoSearchVariable:"=?"},templateUrl:"modules/merchant/directive/payment-services-tos/payment-services-tos.html",controller:a,link:function(a,b,c,d){}}}),angular.module("adminPortal.menu",["ui.bootstrap","ngRoute","ngAnimate","ngCsv"]),angular.module("adminPortal.menu").config(["$routeProvider",function(a){a.when("/menus",{templateUrl:"modules/menu/menu-list/menu-list.html",controller:"MenuListCtrl",controllerAs:"vm",section:"menu"}),a.when("/menu/sections",{templateUrl:"modules/menu/menu-sections/menu-sections.html",controller:"MenuSectionsCtrl",controllerAs:"sec_mod",section:"menu"}),a.when("/menu/items",{templateUrl:"modules/menu/menu-item-list/menu-item-list.html",controller:"MenuItemListCtrl",controllerAs:"im",section:"menu"}),a.when("/menu/item",{templateUrl:"modules/menu/menu-item/menu-item.html",controller:"MenuItemCtrl",controllerAs:"item",section:"menu"}),a.when("/menu/modifier_item",{templateUrl:"modules/menu/menu-modifier-item/menu-modifier-item.html",controller:"MenuModifierItemCtrl",controllerAs:"mi",section:"menu"}),a.when("/menu/edit",{templateUrl:"modules/menu/menu-edit/menu-edit.html",controller:"MenuEditCtrl",controllerAs:"mm",section:"menu"}),a.when("/merchant/:merchant_id/medit",{templateUrl:"modules/menu/menu-edit/menu-edit.html",controller:"MenuEditCtrl",controllerAs:"mm",section:"menu"}),a.when("/menu/:menu_id/medit",{templateUrl:"modules/menu/menu-edit/menu-edit.html",controller:"MenuEditCtrl",controllerAs:"mm",section:"menu"}),a.when("/menu/category_upsells",{templateUrl:"modules/menu/menu-upsell-list/menu-upsell-list.html",controller:"MenuUpsellListCtrl",controllerAs:"upsells",section:"menu"}),a.when("/menu/category_upsell/create",{templateUrl:"modules/menu/menu-upsell-create/menu-upsell-create.html",controller:"MenuUpsellCreateCtrl",controllerAs:"create_upsell",section:"menu"}),a.when("/menu/cart_upsells",{templateUrl:"modules/menu/menu-upsells-cart/menu-upsells-cart.html",controller:"MenuCartUpsellListCtrl",controllerAs:"vm",section:"menu"}),a.when("/menu/cart_upsells/create",{templateUrl:"modules/menu/menu-upsell-cart-create/menu-upsell-cart-create.html",controller:"MenuCartUpsellCreateCtrl",controllerAs:"vm",section:"menu"}),a.when("/menu/nutrition",{templateUrl:"modules/menu/menu-nutrition-grid/menu-nutrition-grid.html",controller:"MenuNutritionGridCtrl",controllerAs:"ng",section:"menu"}),a.when("/menu/menu_section",{templateUrl:"modules/menu/menu-section/menu-section.html",controller:"MenuSectionCtrl",controllerAs:"ms",section:"menu"}),a.when("/menu/export",{templateUrl:"modules/menu/menu-overview/menu-overview.html",controller:"MenuOverviewReportCtrl",controllerAs:"mo",section:"menu"})}]),angular.module("adminPortal.menu").controller("MenuListCtrl",MenuListCtrl),angular.module("adminPortal.menu").controller("MenuSectionsCtrl",MenuSectionsCtrl),angular.module("adminPortal.menu").controller("MenuItemListCtrl",MenuItemListCtrl),angular.module("adminPortal.menu").controller("MenuItemCtrl",MenuItemCtrl),angular.module("adminPortal.menu").controller("MenuSectionCtrl",MenuSectionCtrl),angular.module("adminPortal.menu").controller("MenuModifierItemCtrl",MenuModifierItemCtrl),angular.module("adminPortal.menu").controller("MenuEditCtrl",MenuEditCtrl),angular.module("adminPortal.menu").controller("MenuOverviewReportCtrl",MenuOverviewReportCtrl),angular.module("adminPortal.menu").controller("MenuUpsellListCtrl",MenuUpsellListCtrl),angular.module("adminPortal.menu").controller("MenuUpsellCreateCtrl",MenuUpsellCreateCtrl),angular.module("adminPortal.menu").controller("MenuCartUpsellListCtrl",MenuCartUpsellListCtrl),angular.module("adminPortal.menu").controller("MenuCartUpsellCreateCtrl",MenuCartUpsellCreateCtrl),angular.module("adminPortal.menu").controller("MenuSearchCtrl",MenuSearchCtrl),angular.module("adminPortal.menu").controller("MenuNutritionGridCtrl",MenuNutritionGridCtrl),angular.module("adminPortal.menu").factory("Menu",["$http","Cookie","$q",function(a,b,c){var d={};return d.processing=!1,d.resetSelections=function(){d.current_menu_item={},d.current_item_id=!1,d.current_mod_item_id=!1,d.current_mod_group={},d.current_mod_item={},d.current_modifier_item={},d.current_menu=null,d.menu_types=[],d.modifier_groups=[],d.menu_type_categories=[],d.all_items=[],d.all_modifier_items=[],d.menu_merchant=!1,d.quick_edit_merchant=!1,d.menu_types=[],d.unselected_menu_categories=[],d.selected_menu_categories=[],d.unselected_menu_types=[],d.selected_menu_types=[],d.menu_type_sizes=[],d.unselected_menu_type_sizes=[],d.selected_menu_type_sizes=[],d.menu_type_items_sizes=[],d.unselected_menu_type_items_sizes=[],d.selected_menu_type_items_sizes=[],d.menu_type_items=[],d.unselected_menu_type_items=[],d.selected_menu_type_items=[],d.search_results=[],d.search_text="",d.quick_edit_merchant_id="",d.item_modifiers_response=!1,d.full_menu={},d.promo_menu_selection_types={},d.upsells=[],d.menuWithCardUpsells={},d.processing=!1,d.last_edit_object={},d.open_menu_elements={},d.open_menu_elements.sections=[],d.open_menu_elements.modifier_groups=[]},d.getMerchantByMenu=function(b){return a.post("merchant_search_by_menu",{search_text:b})},d.post=function(b,c){var d=a.post("/menu/"+b,c);return d.then(function(a){return a}),d},d.uploadImageWithThumb=function(b,c){return a({method:"POST",url:"menu/item/image_upload_s3",headers:{"Content-Type":void 0},data:{file:b,thumb:c},transformRequest:function(a,b){var c=new FormData;return angular.forEach(a,function(a,b){c.append(b,a)}),c}})},d["delete"]=function(b,c){var d=a["delete"]("/menu/"+b+"/"+c);return d.then(function(a){return a}),d},d.update=function(b,c){var d=a.put("/menu/"+b,c);return d.then(function(a){return a}),d},d.get=function(b){var c=a.get("/menu/"+b);return c.then(function(a){return a}),c},d.checkQuickEditSet=function(){var b=a.get("/menu/check_quick_edit");return b.then(function(a){return a}),b},d.getCurrentMenuItem=function(){return d.current_menu_item},d.getMenuTypes=function(){return d.menu_types.length>0?d.menu_types:void d.get("current_menu_types").then(function(a){return d.menu_types=a.data,d.menu_types})},d.getModifierGroups=function(){var a=c.defer();return d.modifier_groups.length>0?(a.resolve(),!0):void d.get("current_modifier_groups").then(function(b){return d.modifier_groups=b.data,a.resolve(b),!0})},d.getCurrentModifierItem=function(){return d.current_modifier_item},d.getSearchResults=function(){return d.search_results},d.getSearchText=function(){return d.search_text},d.getSearchTextLength=function(){return d.search_text.length},d.getFullMenu=function(){var a=c.defer();return d.processing=!0,this.get("item_modifiers").then(function(b){d.menu_types=b.data.menu_response.menu.menu_types,d.modifier_groups=b.data.menu_response.menu.modifier_groups;for(var c=0;c<d.menu_types.length;c++){for(var e=0;e<d.menu_types[c].sizes.length;e++)d.menu_types[c].sizes[e].priority=parseInt(d.menu_types[c].sizes[e].priority);-1!=d.open_menu_elements.sections.indexOf(d.menu_types[c].menu_type_id)&&(d.menu_types[c].opened=!0)}for(var f=0;f<d.modifier_groups.length;f++)-1!=d.open_menu_elements.modifier_groups.indexOf(d.modifier_groups[f].modifier_group_id)&&(d.modifier_groups[f].opened=!0);d.all_items=b.data.all_menu_items,d.all_modifier_items=b.data.all_mod_items,d.menu_type_categories=b.data.lookup.cat_id,d.processing=!1,a.resolve(b)}),a.promise},d.loadUpsells=function(){this.get("category_upsell").then(function(a){d.upsells=a.data})},d.loadCartUpsells=function(){this.get("cart_upsells").then(function(a){d.menuWithCardUpsells=a.data})},d.loadIfUndefined=function(){this.getFullMenu()},d.getPromoBogoOptions=function(){this.get("promo_bogo_options").then(function(a){d.menu_type_sizes=a.data.menu_type_sizes,d.unselected_menu_type_sizes=a.data.menu_type_sizes,d.menu_type_items=a.data.items,d.menu_type_items_sizes=a.data.item_sizes})},d.loadUpsells(),d.getMenusByBrand=function(b){return a.get("/menus/"+b).then(function(a){return a.data})},d.resetSelections(),d.getMenuList=function(b){return a.post("/menu_search",{search_text:b,order_by:"Menu.name"}).then(function(a){return a.data})},d.getMenuListForCurrentMerchant=function(b){return a.get("/menus/current_merchant?search_text="+b).then(function(a){return a.data})},d.setMenusToMerchant=function(b){return a.post("/merchant/set_menus",{selected_menus:b}).then(function(a){return a})},d.saveOpenSectionsAndModifierGroups=function(){d.open_menu_elements.sections=[],d.open_menu_elements.modifier_groups=[];for(var a=0;a<d.menu_types.length;a++)console.log(d.menu_types[a]),d.menu_types[a].opened&&d.open_menu_elements.sections.push(d.menu_types[a].menu_type_id);for(var b=0;b<d.modifier_groups.length;b++)d.modifier_groups[b].opened&&d.open_menu_elements.modifier_groups.push(d.modifier_groups[b].modifier_group_id)},d}]),angular.module("adminPortal.menu").factory("MenuItem",["$http","Cookie","$q","Lookup","UtilityService",function(a,b,c,d,e){var f={};return f.data={},f.loadMenuItem=function(b){a.get("menu/full_item/"+b).then(function(a){f.data=a.data,0===f.data.allowed_modifier_groups.length&&(f.data.allowed_modifier_groups={});for(var b in f.data.allowed_modifier_groups)f.data.allowed_modifier_groups[b].max=parseFloat(f.data.allowed_modifier_groups[b].max),f.data.allowed_modifier_groups[b].price_override=parseFloat(f.data.allowed_modifier_groups[b].price_override);0===f.data.comes_with_modifier_items.length&&(f.data.comes_with_modifier_items={}),f.data.submit=!1;for(var c=0;c<f.data.sizes.length;c++)f.data.sizes[c].active=d.yesNoTrueFalseConversion(f.data.sizes[c].active);for(c=0;c<f.data.modifier_groups.length;c++)f.data.modifier_groups[c].price_max=parseFloat(f.data.modifier_groups[c].price_max),f.data.modifier_groups[c].price_override=parseFloat(f.data.modifier_groups[c].price_override),f.data.modifier_groups[c].min=parseInt(f.data.modifier_groups[c].min),f.data.modifier_groups[c].max=parseInt(f.data.modifier_groups[c].max),f.data.modifier_groups[c].priority=parseInt(f.data.modifier_groups[c].priority);for(c=0;c<f.data.sizes.length;c++)f.data.sizes[c].priority=parseFloat(f.data.sizes[c].priority);"undefined"==typeof f.data.item_name&&(f.data.item_name=""),f.data.active=d.yesNoTrueFalseConversion(f.data.active)})},f.updateItemObjectForAllowedModifierChanges=function(){for(var a=c.defer(),b=0;b<f.data.modifier_groups.length;b++){if("undefined"!=typeof f.data.allowed_modifier_group_map_ids[f.data.modifier_groups[b].modifier_group_id]){var d=f.data.modifier_groups[b].modifier_group_id,e=f.data.allowed_modifier_groups[d];f.data.modifier_groups[b].price_override=e.price_override,f.data.modifier_groups[b].max=e.max}b==f.data.modifier_groups.length-1&&a.resolve(!0)}return a.promise},f}]),angular.module("adminPortal.menu").factory("MenuSectionFactory",["$http","Cookie","$q","Lookup","UtilityService","$localStorage","$location",function(a,b,c,d,e,f,g){function h(a){k.data=a,f.currentSection=a}function i(){if(angular.equals(k.data,{})){var a=f.currentSection;"undefined"!=typeof a?k.data=f.currentSection:g.path("/menu/items")}}function j(b){return a({method:"POST",url:"menu/menu_type/image_upload",headers:{"Content-Type":void 0},data:{file:b,menu_type_id:k.data.menu_type_id},transformRequest:function(a,b){var c=new FormData;return angular.forEach(a,function(a,b){c.append(b,a)}),c}})}var k={};return k.data={},k.setSection=h,k.loadSection=i,k.uploadFile=j,k}]),angular.module("adminPortal.menu").factory("Nutrition",["$http","Cookie","$q","Lookup","UtilityService",function(a,b,c,d,e){var f={};return f.menu_types=[],f.loadNutrition=function(){return a.get("menu/nutrition").then(function(a){f.menu_types=a.data})},f.updateOfferingNutrition=function(b){return a.post("menu/nutrition",b).then(function(a){f.data=a.data})},f}]),angular.module("adminPortal.menu").directive("propagationSelect",function(){var a=function(a,b,c,d){a.merchant_search_service=c,a.group_select_service=d,a.merchant_search_service.selectable_merchants=[],a.merchant_search_service.selected_merchants=[],a.error=!1,a.propagate_options=[{code:"master_only",desc:"Master Menu Only"},{code:"All",desc:"All Merchants"},{code:"subset",desc:"Some Merchants"},{code:"group",desc:"Merchant Group"}],a.selectMerchantOpacityFifty=function(){return"subset"===a.merchant_search_service.propagate_type?"":"fifty-opacity"},a.closeMerchantSelectValidator=function(b){return"subset"===a.merchant_search_service.propagate_type&&0===a.merchant_search_service.selected_merchants.length?(a.error=!0,void b.stopPropagation()):"group"!==a.merchant_search_service.propagate_type||a.group_select_service.selected_merchant_group?(a.error=!1,void a.closeMerchantSelect()):(a.error=!0,void b.stopPropagation())},a.autoSearch&&(a.merchant_search_service.search_text="",a.merchant_search_service.merchantSearch(),a.group_select_service.search_text="",a.group_select_service.merchantGroupSearch()),a.propertyName="name",a.reverse=!1,a.sortBy=function(b){a.reverse=a.propertyName===b?!a.reverse:!1,a.propertyName=b}};return a.$inject=["$scope","UtilityService","EmbeddedMerchantSearch","MerchantGroup"],{restrict:"EA",replace:!0,scope:{closeMerchantSelect:"&",allOption:"&",masterOnly:"&",propationOptions:"=",autoSearch:"=?"},templateUrl:"modules/menu/directive/propagation-select/propagation-select.html",controller:a,link:function(a,b,c,d){}}}),angular.module("adminPortal.menu").directive("editAllowedModifiers",function(){var a=function(a,b,c){a.menu_item=c};return a.$inject=["$scope","UtilityService","MenuItem"],{restrict:"EA",replace:!0,scope:{closeMerchantSelect:"&",propationOptions:"=",autoSearch:"=?",submitAllowedModifierChanges:"&"},templateUrl:"modules/menu/directive/edit-allowed-modifiers/edit-allowed-modifiers.html",controller:a,link:function(a,b,c,d){}}}),angular.module("adminPortal.promo",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.promo").config(["$routeProvider",function(a){a.when("/promo/create",{templateUrl:"modules/promo/promo-create/promo-create.html",
controller:"PromoCreateCtrl",controllerAs:"new_promo",section:"marketing"}),a.when("/promo/edit",{templateUrl:"modules/promo/promo-edit/promo-edit.html",controller:"PromoEditCtrl",controllerAs:"edit_promo",section:"marketing"}),a.when("/promos",{templateUrl:"modules/promo/promo-list/promo-list.html",controller:"PromoListCtrl",controllerAs:"promo",section:"marketing"}),a.when("/promos/loyalty",{templateUrl:"modules/promo/loyalty-configuration/loyalty-configuration.html",controller:"LoyaltyConfigurationCtrl",controllerAs:"vm",section:"marketing"})}]),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(){E()}function l(){d.resetSelections(),i.getUserSessionInfo().then(function(a){return a&&a.user_related_data&&a.user_related_data.brand_id&&(M.promo_data.brand_id=a.user_related_data.brand_id),i.hasPermission("brands_filter")?(c.get("load").then(function(a){M.brands=a.data.brands}),void(M.can_select_brands=!0)):(M.defaultBrand_id=a.user_related_data.brand_id,M.promo_data.brand_id=M.defaultBrand_id,void m(M.defaultBrand_id))})["catch"](function(){console.log("unable to get the current user")})}function m(){300==M.promo_data.promo_type?M.promo_data.percent_off=100:M.promo_data.percent_off=0,M.promo_data.is_valid=!1,M.merchant_search_service.selected_merchants=[],j.safeApply(),M.brand_name=g.returnOneArrayFieldWithAnotherArrayFieldValue(M.brands,"brand_id","brand_name",M.promo_data.brand_id),c.get("brand_menus/"+M.promo_data.brand_id).then(function(a){M.search.results=a.data,d.search_results=a.data,1===M.search.results.length&&t(M.search.results[0])})}function n(){M.create_form.$setPristine(),M.create_form.brand.$faded=!1,M.create_form.keywords.$faded=!1,M.create_form.description.$faded=!1,M.create_form.cmb_promo_type.$faded=!1,M.create_form.order_type.$faded=!1,M.create_form.max_use.$faded=!1,M.create_form.max_redemptions.$faded=!1,M.create_form.qualifying_amt.$faded=!1,M.create_form.discount_type.$faded=!1,M.create_form.percent_off.$faded=!1,M.create_form.fixed_price.$faded=!1,M.create_form.fixed_amount_off.$faded=!1,M.create_form.max_amount_off.$faded=!1}function o(){M.promo_data={},M.promo_data.order_type="all",M.promo_data.key_word="",M.promo_data.start_date="",M.promo_data.end_date="",M.merchant_search_service.selected_merchants=[],M.promo_data.merchants=[],M.promo_data.qualifying_amt=0,M.promo_data.all_merchants=!0,M.promo_data.automatic_promo=!1,M.promo_data.bogo_menu_selections={},M.promo_data.bogo_menu_selections.buy_selections={},M.promo_data.bogo_menu_selections.get_selections={},M.promo_data.bogo_menu_selections.buy_selections.categories=[],M.promo_data.bogo_menu_selections.buy_selections.sections=[],M.promo_data.bogo_menu_selections.buy_selections.section_sizes=[],M.promo_data.bogo_menu_selections.buy_selections.items=[],M.promo_data.bogo_menu_selections.buy_selections.section_items_sizes=[],M.promo_data.bogo_menu_selections.get_selections.categories=[],M.promo_data.bogo_menu_selections.get_selections.sections=[],M.promo_data.bogo_menu_selections.get_selections.section_sizes=[],M.promo_data.bogo_menu_selections.get_selections.items=[],M.promo_data.bogo_menu_selections.get_selections.section_items_sizes=[],M.promo_data.buy_all_discount={},M.promo_data.buy_all_discount.categories=[],M.promo_data.buy_all_discount.sections=[],M.promo_data.buy_all_discount.section_sizes=[],M.promo_data.buy_all_discount.items=[],M.promo_data.buy_all_discount.section_items_sizes=[],M.promo_data.buy_any_discount={},M.promo_data.buy_any_discount.categories=[],M.promo_data.buy_any_discount.sections=[],M.promo_data.buy_any_discount.section_sizes=[],M.promo_data.buy_any_discount.items=[],M.promo_data.buy_any_discount.section_items_sizes=[],M.promo_data.bogo_menu_selections.buy_type="",M.promo_data.bogo_menu_selections.get_type="",M.promo_data.is_valid=!1}function p(){return M.promo_data.submit=!0,!M.create_form.$valid||M.promo_data.start_date&&M.promo_data.start_date&&0!==M.promo_data.start_date.length&&0!==M.promo_data.end_date.length?(L(),void(M.create_form.$valid&&((!g.isSet(M.promo_data.merchants)||M.promo_data.merchants.length<1)&&M.userService.hasPermission("multi_merchs_filter")?b.swal({title:"The promo will be applied for all the selected brand's merchants.",type:"success",showCancelButton:!0,confirmButtonColor:"#488214",confirmButtonText:"Confirm All Merchants"},function(d){d===!0&&c.post("create",M.promo_data).then(function(c){M.promo_data.processing=!1,b.swal({title:"The promo "+M.promo_data.description+" has been created!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){a.path("/promos")}),n()})}):c.post("create",M.promo_data).then(function(c){M.promo_data.processing=!1,b.swal({title:"The promo "+M.promo_data.description+" has been created!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){a.path("/promos")}),n()})))):(M.errorMessage="Please select the date range before submit.",void $("#error-message").modal("show"))}function q(a,b){a>b?M.create_form.keywords.$setValidity("to_before_from",!1):M.create_form.keywords.$setValidity("to_before_from",!0),M.promo_data.start_date=a?a.format("YYYY-MM-DD"):null,M.promo_data.end_date=b?b.format("YYYY-MM-DD"):null,I()}function r(a){if(M.merchant_factory.length<25)return!0;if(M.merchants_filter.length<3)return!0;var b=new RegExp(M.merchants_filter.toUpperCase(),"g");return a.name.toUpperCase().match(b)?!0:!1}function s(){M.search.submit=!0,M.search.results=[],M.menu_search_form.$valid&&(M.search.initial_search=!0,M.search.processing=!0,f.post("/menu_search",{search_text:M.search.text,order_by:"name"}).success(function(a){d.search_results=a,M.search.results=d.getSearchResults(),M.search.processing=!1,M.search.submit=!1}))}function t(a){M.promo_data.menu_id=a.menu_id,f.get("/set_promo_menu_id/"+a.menu_id).success(function(b){angular.element("#menu-select-modal").is(":visible")&&$("#menu-select-modal").modal("toggle"),M.example_bogo=b,M.bogo_menu_selected=!0,d.current_menu=a,d.getFullMenu(),d.getPromoBogoOptions()}),J()}function u(a){d.promo_menu_selection_types.menu_type_select=a,"bogo-buy"===a?d.selected_menu_categories=M.promo_data.bogo_menu_selections.buy_selections.categories:"bogo-get"===a?d.selected_menu_categories=M.promo_data.bogo_menu_selections.get_selections.categories:"discount-all"===a?d.selected_menu_categories=M.promo_data.buy_all_discount.categories:"discount-any"===a&&(d.selected_menu_categories=M.promo_data.buy_any_discount.categories);var b=[{type_id_name:"Entrée",type_id_value:"Entre"}];d.unselected_menu_categories=g.removeObjectsFromArrayOfObjects(d.selected_menu_categories,b),$("#menu-select-categories").modal("toggle")}function v(){var a=d.selected_menu_categories,b=[];for(P=0;P<a.length;P++)b.push('"'+a[P].type_id_name+'"');"bogo-buy"===d.promo_menu_selection_types.menu_type_select?(M.promo_data.bogo_menu_selections.buy_selections.categories=a,M.promo_data.buy_categories=a,M.promo_data.bogo_menu_selections.selected_buy_category_list=g.convertArrayToGrammarList(b)):"bogo-get"===d.promo_menu_selection_types.menu_type_select?(M.promo_data.bogo_menu_selections.get_selections.categories=a,M.promo_data.get_categories=a,M.promo_data.bogo_menu_selections.selected_get_category_list=g.convertArrayToGrammarList(b)):"discount-all"===d.promo_menu_selection_types.menu_type_select?(M.promo_data.buy_all_discount.categories=a,M.promo_data.buy_all_discount_category_list=g.convertArrayToGrammarList(b)):"discount-any"===d.promo_menu_selection_types.menu_type_select&&(M.promo_data.buy_any_discount.categories=a,M.promo_data.buy_any_discount_category_list=g.convertArrayToGrammarList(b)),$("#menu-select-categories").modal("toggle")}function w(a){d.promo_menu_selection_types.menu_type_select=a,"bogo-buy"===a?d.selected_menu_types=M.promo_data.bogo_menu_selections.buy_selections.sections:"bogo-get"===a?d.selected_menu_types=M.promo_data.bogo_menu_selections.get_selections.sections:"discount-all"===a?d.selected_menu_types=M.promo_data.buy_all_discount.sections:"discount-any"===a&&(d.selected_menu_types=M.promo_data.buy_any_discount.sections);var b=d.menu_types;d.unselected_menu_types=g.removeObjectsFromArrayOfObjects(d.selected_menu_types,b),$("#menu-select-bogo-sections").modal("toggle")}function x(){var a=d.selected_menu_types,b=[];for(P=0;P<a.length;P++)b.push('"'+a[P].menu_type_name+'"');"bogo-buy"===d.promo_menu_selection_types.menu_type_select?(M.promo_data.bogo_menu_selections.buy_selections.sections=a,M.promo_data.buy_menu_types=a,M.promo_data.bogo_menu_selections.selected_buy_sections_list=g.convertArrayToGrammarList(b)):"bogo-get"===d.promo_menu_selection_types.menu_type_select?(M.promo_data.bogo_menu_selections.get_selections.sections=a,M.promo_data.get_menu_types=a,M.promo_data.bogo_menu_selections.selected_get_sections_list=g.convertArrayToGrammarList(b)):"discount-all"===d.promo_menu_selection_types.menu_type_select?(M.promo_data.buy_all_discount.sections=a,M.promo_data.buy_all_discount_sections_list=g.convertArrayToGrammarList(b)):"discount-any"===d.promo_menu_selection_types.menu_type_select&&(M.promo_data.buy_any_discount.sections=a,M.promo_data.buy_any_discount_sections_list=g.convertArrayToGrammarList(b)),$("#menu-select-bogo-sections").modal("toggle")}function y(a){M.promo_data.bogo_menu_selections.type=a,d.promo_menu_selection_types.menu_type_section_size_select=a,"bogo-buy"===a?d.selected_menu_type_sizes=M.promo_data.bogo_menu_selections.buy_selections.section_sizes:"bogo-get"===a?d.selected_menu_type_sizes=M.promo_data.bogo_menu_selections.get_selections.section_sizes:"discount-all"===a?d.selected_menu_types=M.promo_data.buy_all_discount.section_sizes:"discount-any"===a&&(d.selected_menu_types=M.promo_data.buy_any_discount.section_sizes);var b=d.menu_type_sizes;d.unselected_menu_type_sizes=g.removeObjectsFromArrayOfObjects(d.selected_menu_type_sizes,b),$("#menu-select-bogo-section-sizes").modal("toggle")}function z(){var a=d.selected_menu_type_sizes,b=[];for(P=0;P<a.length;P++)b.push('"'+a[P].menu_type_name+" - "+a[P].size_name+'"');"bogo-buy"===d.promo_menu_selection_types.menu_type_section_size_select?(M.promo_data.bogo_menu_selections.buy_selections.section_sizes=a,M.promo_data.buy_section_sizes=a,M.promo_data.bogo_menu_selections.selected_buy_section_sizes_list=g.convertArrayToGrammarList(b)):"bogo-get"===d.promo_menu_selection_types.menu_type_section_size_select?(M.promo_data.bogo_menu_selections.get_selections.section_sizes=a,M.promo_data.get_section_sizes=a,M.promo_data.bogo_menu_selections.selected_get_section_sizes_list=g.convertArrayToGrammarList(b)):"discount-all"===d.promo_menu_selection_types.menu_type_section_size_select?(M.promo_data.buy_all_discount.section_sizes=a,M.promo_data.buy_all_discount.section_sizes_list=g.convertArrayToGrammarList(b)):"discount-any"===d.promo_menu_selection_types.menu_type_section_size_select&&(M.promo_data.buy_any_discount.section_sizes=a,M.promo_data.buy_any_discount.section_sizes_list=g.convertArrayToGrammarList(b)),$("#menu-select-bogo-section-sizes").modal("toggle")}function A(a){M.promo_data.bogo_menu_selections.type=a,"bogo-buy"===a?d.selected_menu_type_items=M.promo_data.bogo_menu_selections.buy_selections.items:"bogo-get"===a?d.selected_menu_type_items=M.promo_data.bogo_menu_selections.get_selections.items:"discount-all"===a?d.selected_menu_type_items=M.promo_data.buy_all_discount.items:"discount-any"===a&&(d.selected_menu_type_items=M.promo_data.buy_any_discount.items);var b=d.menu_type_items;d.unselected_menu_type_items=g.removeObjectsFromArrayOfObjects(d.selected_menu_type_items,b),$("#menu-select-bogo-section-items").modal("toggle")}function B(){var a=d.selected_menu_type_items,b=[];for(P=0;P<a.length;P++)b.push('"'+a[P].menu_type_name+" - "+a[P].item_name+'"');"bogo-buy"===M.promo_data.bogo_menu_selections.type?(M.promo_data.bogo_menu_selections.buy_selections.items=a,M.promo_data.buy_section_items=a,M.promo_data.bogo_menu_selections.selected_buy_section_items_list=g.convertArrayToGrammarList(b)):"bogo-get"===M.promo_data.bogo_menu_selections.type?(M.promo_data.bogo_menu_selections.get_selections.items=a,M.promo_data.get_section_items=a,M.promo_data.bogo_menu_selections.selected_get_section_items_list=g.convertArrayToGrammarList(b)):"discount-all"===M.promo_data.bogo_menu_selections.type?(M.promo_data.buy_any_discount.items=a,M.promo_data.buy_all_discount_section_items_list=g.convertArrayToGrammarList(b)):"discount-any"===M.promo_data.bogo_menu_selections.type&&(M.promo_data.buy_any_discount.items=a,M.promo_data.buy_any_discount_section_items_list=g.convertArrayToGrammarList(b)),$("#menu-select-bogo-section-items").modal("toggle")}function C(a){M.promo_data.bogo_menu_selections.type=a,"bogo-buy"===a?d.selected_menu_type_items_sizes=M.promo_data.bogo_menu_selections.buy_selections.section_items_sizes:"bogo-get"===a?d.selected_menu_type_items_sizes=M.promo_data.bogo_menu_selections.get_selections.section_items_sizes:"discount-all"===a?d.selected_menu_type_items_sizes=M.promo_data.buy_all_discount.section_items_sizes:"discount-any"===a&&(d.selected_menu_type_items_sizes=M.promo_data.buy_any_discount.section_items_sizes);var b=d.menu_type_items_sizes;d.unselected_menu_type_items_sizes=g.removeObjectsFromArrayOfObjects(d.selected_menu_type_items_sizes,b),$("#menu-select-bogo-section-items-sizes").modal("toggle")}function D(){var a=d.selected_menu_type_items_sizes,b=[];for(P=0;P<a.length;P++)b.push('"'+a[P].menu_type_name+" - "+a[P].item_name+" - "+a[P].size_name+'"');"bogo-buy"===M.promo_data.bogo_menu_selections.type?(M.promo_data.bogo_menu_selections.buy_selections.section_items_sizes=a,M.promo_data.buy_item_sizes=a,M.promo_data.bogo_menu_selections.selected_buy_section_items_sizes_list=g.convertArrayToGrammarList(b)):"bogo-get"===M.promo_data.bogo_menu_selections.type?(M.promo_data.bogo_menu_selections.get_selections.section_items_sizes=a,M.promo_data.get_item_sizes=a,M.promo_data.bogo_menu_selections.selected_get_section_items_sizes_list=g.convertArrayToGrammarList(b)):"discount-all"===M.promo_data.bogo_menu_selections.type?(M.promo_data.buy_all_discount.section_items_size=a,M.promo_data.buy_all_discount_section_items_sizes_list=g.convertArrayToGrammarList(b)):"discount-any"===M.promo_data.bogo_menu_selections.type&&(M.promo_data.buy_any_discount.section_items_size=a,M.promo_data.buy_any_discount_section_items_sizes_list=g.convertArrayToGrammarList(b)),$("#menu-select-bogo-section-items-sizes").modal("toggle")}function E(){$(function(){$("#from_date").datetimepicker({format:M.dateFormat,icons:M.iconOptions}),$("#to_date").datetimepicker({format:M.dateFormat,icons:M.iconOptions,useCurrent:!1}),$("#from_date").on("dp.change",function(a){$("#to_date").data("DateTimePicker").minDate(a.date),M.startDate=a.date}),$("#to_date").on("dp.change",function(a){$("#from_date").data("DateTimePicker").maxDate(a.date),M.endDate=a.date})})}function F(){return M.enableMerchantGroups===!0?(M.merchant_search_service.selected_merchants=[],M.merchant_search_service.selected_merchant_groups.forEach(function(a){M.validatingMerchantGroups=!0,M.promo_data.is_valid=!1,M.merchant_search_service.getMerchantsByGroupID(a.id).success(function(a){M.merchant_search_service.selected_merchants=M.merchant_search_service.selected_merchants.concat(a.merchants),M.promo_data.merchants=M.promo_data.merchants.concat(g.convertArrayObjectsPropertyToArray(a.merchants,"merchant_id")),J(),I(),M.validatingMerchantGroups=!1,M.promo_data.is_valid=!0,j.safeApply()})}),void $("#merchant-select-modal").modal("hide")):(M.promo_data.merchants=g.convertArrayObjectsPropertyToArray(h.selected_merchants,"merchant_id"),J(),I(),M.promo_data.is_valid=!0,void $("#merchant-select-modal").modal("hide"))}function G(){return 1===M.promo_data.promo_type||4===M.promo_data.promo_type||5===M.promo_data.promo_type?!0:!1}function H(){for(P=0;P<M.discount_types_4_5.length;P++)M.promo_data.discount_type!==M.discount_types_4_5[P].code&&(M.promo_data[M.discount_types_4_5[P].code]=0)}function I(){if(g.isSet(M.promo_data.key_word)&&g.isSet(M.promo_data.start_date)&&g.isSet(M.promo_data.end_date)){var a={key_words:M.promo_data.key_word,brand_id:M.promo_data.brand_id,merchants:M.promo_data.merchants,start_date:M.promo_data.start_date,end_date:M.promo_data.end_date};M.create_form.keywords.$setValidity("key_word_new",!0),M.create_form.keywords.$setValidity("key_word_new_merchant",!0),f.post("/promo/validate_keyword",a).success(function(a){a.valid_key_words?M.create_form.keywords.$setValidity("key_word_new",!0):(M.promo_data.is_valid=!1,M.create_form.keywords.$setValidity("key_word_new",!1),M.merchant_search_service.selected_merchants.length>0?M.key_word_date_error=N:M.key_word_date_error=O)})}}function J(){if((2===M.promo_data.promo_type||4===M.promo_data.promo_type||5===M.promo_data.promo_type)&&M.promo_data.merchants.length>0&&null!=d.current_menu){M.create_form.keywords.$setValidity("merchants_menu_valid",!0);var a={merchants:M.promo_data.merchants,menu:d.current_menu.menu_id};f.post("/promo/validate_merchants_menu",a).success(function(a){a.valid_merchants_menu?M.create_form.keywords.$setValidity("merchants_menu_valid",!0):(M.promo_data.is_valid=!1,M.create_form.keywords.$setValidity("merchants_menu_valid",!1))})}}function K(){return!(!M.promo_data.automatic_promo&&M.promo_data.key_word&&M.promo_data.key_word.length>0)||M.promo_data.start_date&&M.promo_data.end_date?void(M.promo_data.brand_id&&(M.promo_data.key_word||M.promo_data.automatic_promo)&&M.promo_data.description&&M.promo_data.promo_type?(M.promo_data.is_valid=!1,M.merchant_search_service.merchantSearchByBrand(M.promo_data.brand_id),M.merchant_search_service.merchantGroupLoad(),$("#merchant-select-modal").modal("show"),$("#merchant-select-modal").on("hidden.bs.modal",function(){M.promo_data.is_valid===!1&&(M.merchant_search_service.selected_merchants=[],j.safeApply())})):(M.errorMessage="Please fill all the required fields above before select merchants for promos.",$("#error-message").modal("show"))):(M.errorMessage="Please select the date range before select merchants for promos.",void $("#error-message").modal("show"))}function L(){if(2===M.promo_data.promo_type){var a=g.checkAtleastOneArrayInObjectLengthGreaterThanZero(M.promo_data.bogo_menu_selections.buy_selections);M.create_form.keywords.$setValidity("buy_object_selected",a);var b=g.checkAtleastOneArrayInObjectLengthGreaterThanZero(M.promo_data.bogo_menu_selections.get_selections);M.create_form.keywords.$setValidity("get_object_selected",b)}else if(4===M.promo_data.promo_type){var c=g.checkAtleastOneArrayInObjectLengthGreaterThanZero(M.promo_data.buy_any_discount);M.create_form.keywords.$setValidity("buy_any_object_selected",c)}else if(5===M.promo_data.promo_type){var d=g.checkAtleastOneArrayInObjectLengthGreaterThanZero(M.promo_data.buy_all_discount);M.create_form.keywords.$setValidity("buy_all_object_selected",d)}}var M=this;M.initData=k,M.startDate=moment(),M.endDate=moment(),M.userService=i,M.date_options={},M.search={},h.search_url="merchant_search",h.selectable_merchants=[],h.selected_merchants="merchant_search",e.all_merchants=[],M.merchant_search_service=h,M.recently_visited_web_skins=[],M.brands=[];var N="A promo keyword you entered is already in use during this time frame.",O="A promo keyword you entered is already in use during this time frame.";M.key_word_date_error="",M.discount_types=c.discount_types,M.discount_types_4_5=c.discount_types_4_5,M.promo_types=c.promo_types,M.order_types=c.order_types,M.brand_name=!1,M.menu_search={},M.example_bogo={},M.can_select_brands=!1,M.defaultBrand_id=null,M.bogo_menu_selected=!1;var P;M.dateFormat="MM/DD/YYYY",M.iconOptions={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-plus",down:"fa fa-minus",next:"fa fa-chevron-right",previous:"fa fa-chevron-left"},M.promo_data={},M.promo_data.is_valid=!1,M.promo_data.order_type="all",M.promo_data.key_word="",M.promo_data.start_date="",M.promo_data.end_date="",M.promo_data.max_amt_off=0,M.merchant_search_service.selected_merchants=[],M.enableMerchantGroups=!1,M.validatingMerchantGroups=!1,M.create=p,M.loadMenuOptions=m,M.filterMerchants=r,M.menuSearch=s,M.selectMenu=t,M.openSelectCategories=u,M.setSelectedCategories=v,M.openSelectSections=w,M.setSelectedSections=x,M.setMerchants=F,M.onPeriodChanged=q,M.openSelectSectionSizes=y,M.setSelectSectionSizes=z,M.openSelectSectionItems=A,M.setBogoSectionItems=B,M.openSectionItemSizes=C,M.setSectionItemSizes=D,M.resetPromoObject=o,M.discountPromoType=G,M.zeroOutUnselectedDiscountTypes=H,M.validateKeyWords=I,M.validateMerchantsMenu=J,M.showSelectMerchantModal=K,l(),M.merchant_factory=e,M.menu=d,k(),o(),M.propertyName="name",M.reverse=!1,M.sortBy=function(a){M.reverse=M.propertyName===a?!M.reverse:!1,M.propertyName=a}}a.$inject=["$location","SweetAlert","Promos","Menu","Merchant","$http","UtilityService","EmbeddedMerchantSearch","Users","$rootScope"],angular.module("adminPortal.promo").controller("PromoCreateCtrl",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(){n(),o()}function k(){c.get("current_promo").then(function(a){y.promo_data=a.data,y.date_options.setDates(y.promo_data.start_date,y.promo_data.end_date),y.date_options.start_date=y.promo_data.start_date,y.date_options.end_date=y.promo_data.end_date,y.promo_data.valid_on_first_order_only=g.yesNoTrueFalseConversion(y.promo_data.valid_on_first_order_only),y.promo_data.active=g.yesNoTrueFalseConversion(y.promo_data.active),y.promo_data.allow_multiple_use_per_order=g.zeroOneTrueFalseConversion(y.promo_data.allow_multiple_use_per_order),y.promo_data.max_redemptions=parseInt(y.promo_data.max_redemptions),"undefined"!=typeof y.promo_data.max_dollars_to_spend&&(y.promo_data.max_dollars_to_spend=parseFloat(y.promo_data.max_dollars_to_spend)),"undefined"!=typeof y.promo_data.promo_amt&&(y.promo_data.promo_amt=parseFloat(y.promo_data.promo_amt)),"undefined"!=typeof y.promo_data.percent_off?y.promo_data.percent_off=parseFloat(y.promo_data.percent_off):console.log(y.promo_data.percent_off),y.promo_data.promo_key_word_list=q(y.promo_data.promo_key_words),h.selected_merchants=y.promo_data.promo_merchant_maps,h.merchantSearchByBrand(y.promo_data.brand_id)})}function l(a,b){y.promo_data.start_date=a?a.format("YYYY-MM-DD"):null,y.promo_data.end_date=b?b.format("YYYY-MM-DD"):null}function m(){y.promo_data.submit=!0,y.update_promo_form.$valid&&(y.promo_data.processing=!0,c.post("update_promo",y.promo_data).then(function(c){y.promo_data.processing=!1,b.swal({title:"The promo "+y.promo_data.description+" has been updated!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){a.path("/promos")})}))}function n(){$(function(){$("#from_date").datetimepicker({format:y.dateFormat,icons:y.iconOptions}),$("#to_date").datetimepicker({format:y.dateFormat,icons:y.iconOptions,setDate:"03/20/2018",useCurrent:!1}),$("#from_date").on("dp.change",function(a){$("#to_date").data("DateTimePicker").minDate(a.date),y.startDate=a.date}),$("#to_date").on("dp.change",function(a){$("#from_date").data("DateTimePicker").maxDate(a.date),y.endDate=a.date})})}function o(){$(function(){$("#from_date_m").datetimepicker({format:y.dateFormat,icons:y.iconOptions}),$("#to_date_m").datetimepicker({format:y.dateFormat,icons:y.iconOptions,useCurrent:!1}),$("#from_date_m").on("dp.change",function(a){$("#to_date_m").data("DateTimePicker").minDate(a.date),y.startDate=a.date}),$("#to_date_m").on("dp.change",function(a){$("#from_date_m").data("DateTimePicker").maxDate(a.date),y.endDate=a.date})})}function p(){"percent_off"==y.promo_data.discount_type?y.promo_data.promo_amt=0:y.promo_data.percent_off=0}function q(a){var b=f.convertArrayObjectsPropertyToArray(a,"promo_key_word");return f.convertArrayToGrammarList(b)}function r(a,c){b.swal({title:"Warning",text:'Are you sure you want to remove the keyword "'+a.promo_key_word+'" from this promo?',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(b){b&&e["delete"]("/promos/delete_keyword/"+a.map_id).then(function(a){y.promo_data.promo_key_words.splice(c,1)})})}function s(){var a={key_words:y.new_promo_keyword,brand_id:y.promo_data.brand_id,merchants:y.promo_data.simple_merchant_ids,start_date:y.promo_data.start_date,end_date:y.promo_data.end_date};e.post("/promo/validate_keyword",a).success(function(a){a.valid_key_words?e.post("/promos/add_keyword",{promo_key_word:y.new_promo_keyword,brand_id:y.promo_data.brand_id}).then(function(a){$("#add-promo-keyword-modal").modal("toggle"),k()}):($("#add-promo-keyword-modal").modal("toggle"),b.swal({title:"Warning.",text:"The promo keyword you entered is already in use during this time frame.",type:"warning",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"}))})}function t(a,b){if("undefined"!=typeof b){if(b.length<2)return!0;var c=new RegExp(b.toUpperCase(),"g");return a.name.toUpperCase().match(c)||a.city.toUpperCase().match(c)||a.state.toUpperCase()==b.toUpperCase()||a.merchant_id==b||a.zip.toUpperCase()==b.toUpperCase()||a.address1.toUpperCase().match(c)?!0:!1}return!0}function u(a){return t(a.full_merchant,y.merchant_search_text)}function v(a){return t(a,y.add_merchant_filter_text)}function w(a,c){b.swal({title:"Warning",text:'Are you sure you want to remove the merchant "Merchant ID '+a.full_merchant.merchant_id+" - "+a.full_merchant.address1+" "+a.full_merchant.city+", "+a.full_merchant.state+'" from this promo?',type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(b){b&&e["delete"]("/promos/delete_merchant/"+a.map_id).then(function(b){y.promo_data.promo_merchant_maps.splice(c,1),y.merchantSearchService.selectable_merchants.push(a.full_merchant)})})}function x(a){var b={key_words:y.promo_data.simple_keywords,brand_id:y.promo_data.brand_id,merchants:[a.merchant_id],start_date:y.promo_data.start_date,end_date:y.promo_data.end_date};e.post("/promo/validate_keyword",b).success(function(b){b.valid_key_words&&e.post("/promos/add_merchant",{merchant_id:a.merchant_id,brand_id:y.promo_data.brand_id}).then(function(a){$("#add-merchant-select-modal").modal("toggle"),k()})})}var y=this;y.initData=j,y.promo_data={},y.brands=[],y.userService=i,y.edit_merchant={},y.new_merchant={},y.new_merchant.result_merchants=[],y.new_merchant.set=!1,y.merchant_search_text="",y.add_merchant_filter_text="",y.merchantSearchService=h,h.search_url="merchant_search",y.discount_types=c.discount_types,y.promo_types=c.promo_types,y.order_types=c.order_types,y.date_options={},y.utility=f,y.dateFormat="MM/DD/YYYY",y.iconOptions={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-plus",down:"fa fa-minus",next:"fa fa-chevron-right",previous:"fa fa-chevron-left"},y.updatePromo=m,y.onPeriodChanged=l,y.zeroOutUnselectedDiscountTypes=p,y.deletePromoKeywordDialog=r,y.deletePromoMerchant=w,y.addKeyword=s,y.selectedMerchantFilter=u,y.selectableMerchantFilter=v,y.addMerchant=x,k(),j()}a.$inject=["$location","SweetAlert","Promos","Merchant","$http","UtilityService","Lookup","EmbeddedMerchantSearch","Users"],angular.module("adminPortal.promo").controller("PromoEditCtrl",a)}(),angular.module("adminPortal.promo").controller("PromoListCtrl",PromoListCtrl),angular.module("adminPortal.promo").factory("Promos",["$http",function(a){var b={};return b.promo_types=[{code:1,value:"Cart Discount"},{code:300,value:"Delivery Discount"},{code:2,value:"BOGO"},{code:4,value:"Item Discount"},{code:5,value:"Bundle Discount"}],b.discount_types=[{code:"percent_off",value:"Percent Off"},{code:"dollars_off",value:"Dollars Off"}],b.discount_types_4_5=[{code:"percent_off",value:"Percent Off"},{code:"dollars_off",value:"Dollars Off"},{code:"fixed_price",value:"Fixed Price"}],b.order_types=[{code:"pickup",value:"Pickup"},{code:"delivery",value:"Delivery"},{code:"all",value:"All"}],b.bogo_menu_levels=[{code:"category",value:"Category"},{code:"section",value:"Section"},{code:"section",value:"Section Size"},{code:"item",value:"Item"},{code:"item_size",value:"Item Size"}],b.post=function(b,c){var d=a.post("/promos/"+b,c);return d.then(function(a){return a}),d},b["delete"]=function(b,c){var d=a["delete"]("/promos/"+b+"/"+c);return d.then(function(a){return a}),d},b.update=function(b,c){var d=a.put("/promos/"+b,c);return d.then(function(a){return a}),d},b.get=function(b){var c=a.get("/promos/"+b);return c.then(function(a){return a}),c},b.getSearchResults=function(){return b.search_results},b.getCurrentBrand=function(){return b.current_brand_name},b}]),function(){"use strict";angular.module("adminPortal.promo").directive("selectMenuSizes",function(){var a=function(a,b,c){function d(b,d){a.menu.selected_menu_type_sizes.push(b),a.menu.unselected_menu_type_sizes.splice(d,1),a.selected_menu_type_sizes=c.sortArrayByPropertyAlpha(a.selected_menu_type_sizes,"menu_type_name")}function e(b,d){a.menu.unselected_menu_type_sizes.push(b),a.menu.selected_menu_type_sizes.splice(d,1),a.menu.unselected_menu_type_sizes=c.sortArrayByPropertyAlpha(a.menu.unselected_menu_type_sizes,"menu_type_name")}a.menu=b,a.selected_menu_type_sizes=[],a.addBogoSectionSize=d,a.removeBogoSectionSize=e};return a.$inject=["$scope","Menu","UtilityService"],{restrict:"EA",replace:!0,scope:{closeMenuObjectSelect:"&"},templateUrl:"modules/promo/directive/select-menu-sizes/select-menu-sizes.html",controller:a,link:function(a,b,c,d,e,f){}}})}(),function(){"use strict";angular.module("adminPortal.promo").directive("selectMenuItems",function(){var a=function(a,b,c){function d(b,d){a.menu.selected_menu_type_items.push(b),a.menu.unselected_menu_type_items.splice(d,1),a.selected_menu_type_items=c.sortArrayByPropertyAlpha(a.selected_menu_type_items,"menu_type_name")}function e(b,d){a.menu.unselected_menu_type_items.push(b),a.menu.selected_menu_type_items.splice(d,1),a.menu.unselected_menu_type_items=c.sortArrayByPropertyAlpha(a.menu.unselected_menu_type_items,"menu_type_name")}a.menu=b,a.selected_menu_type_items=[],a.search_text="",a.addBogoSectionItem=d,a.removeBogoSectionItem=e,a.setBogoItemsCloseForm=function(){a.setBogoItems({selected_menu_type_items:a.menu.selected_menu_type_items})},a.itemFilter=function(b){if(a.search_text.length<3)return!0;var c=new RegExp(a.search_text.toUpperCase(),"g");return b.item_name.toUpperCase().match(c)||b.item_id==a.search_text?!0:!1}};return a.$inject=["$scope","Menu","UtilityService"],{restrict:"EA",replace:!0,scope:{closeMenuObjectSelect:"&"},templateUrl:"modules/promo/directive/select-menu-items/select-menu-items.html",controller:a,link:function(a,b,c,d,e,f){}}})}(),function(){"use strict";angular.module("adminPortal.promo").directive("selectMenuSections",function(){var a=function(a,b,c){function d(b,d){a.menu.selected_menu_types.push(b),a.menu.unselected_menu_types.splice(d,1),a.selected_menu_types=c.sortArrayByPropertyAlpha(a.menu.selected_menu_types,"menu_type_name")}function e(b,d){a.menu.unselected_menu_types.push(b),a.menu.selected_menu_types.splice(d,1),a.menu.unselected_menu_types=c.sortArrayByPropertyAlpha(a.menu.unselected_menu_types,"menu_type_name")}a.menu=b,a.addBogoSection=d,a.removeBogoSection=e};return a.$inject=["$scope","Menu","UtilityService"],{restrict:"EA",replace:!0,scope:{closeMenuObjectSelect:"&"},templateUrl:"modules/promo/directive/select-menu-sections/select-menu-sections.html",controller:a,link:function(a,b,c,d,e,f){}}})}(),function(){"use strict";angular.module("adminPortal.promo").directive("selectMenuItemSizes",function(){var a=function(a,b,c){function d(b,d){a.menu.selected_menu_type_items_sizes.push(b),a.menu.unselected_menu_type_items_sizes.splice(d,1),a.selected_menu_type_items_sizes=c.sortArrayByPropertyAlpha(a.selected_menu_type_items_sizes,"item_name")}function e(b,d){a.menu.unselected_menu_type_items_sizes.push(b),a.menu.selected_menu_type_items_sizes.splice(d,1),a.menu.unselected_menu_type_items_sizes=c.sortArrayByPropertyAlpha(a.menu.unselected_menu_type_items_sizes,"item_name")}a.menu=b,
a.addBogoItemSize=d,a.removeBogoItemSize=e};return a.$inject=["$scope","Menu","UtilityService"],{restrict:"EA",replace:!0,scope:{closeMenuObjectSelect:"&"},templateUrl:"modules/promo/directive/select-menu-item-sizes/select-menu-item-sizes.html",controller:a,link:function(a,b,c,d,e,f){}}})}(),function(){"use strict";angular.module("adminPortal.promo").directive("selectMenuCategories",function(){var a=function(a,b,c){function d(b,d){a.menu.selected_menu_categories.push(b),a.menu.unselected_menu_categories.splice(d,1),a.menu.selected_menu_type_categories=c.sortArrayByPropertyAlpha(a.selected_menu_categories,"type_id_name")}function e(b,d){a.menu.unselected_menu_categories.push(b),a.menu.selected_menu_categories.splice(d,1),a.menu.unselected_menu_categories=c.sortArrayByPropertyAlpha(a.menu.unselected_menu_categories,"type_id_name")}a.menu=b,a.addCategory=d,a.removeCategory=e};return a.$inject=["$scope","Menu","UtilityService"],{restrict:"EA",replace:!0,scope:{closeMenuObjectSelect:"&"},templateUrl:"modules/promo/directive/select-menu-categories/select-menu-categories.html",controller:a,link:function(a,b,c,d,e,f){}}})}(),angular.module("adminPortal.reports",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.reports").config(["$routeProvider",function(a){a.when("/reports",{templateUrl:"modules/reports/reports/reports.html",controller:"ReportsCtrl",controllerAs:"rpt",section:"reports"})}]),angular.module("adminPortal.reports").controller("ReportsCtrl",ReportsCtrl),function(){"use strict";function a(a,b){function c(){j.transactionsRequest&&(j.transactionsRequest.abort(),j.processing=!1),j.processing=!0,(j.transactionsRequest=a.getTransactions(j.startDate,j.endDate,j.page,j.selectedGroupBy?j.selectedGroupBy.key:null,j.selectedOrderBy,j.perPage)).then(function(a){j.processing=!1;var b=a.data;j.transactions=b.data,j.totalTransactions=b.total})["catch"](function(a){-1!=a.status&&(j.processing=!1)})}function d(a,b){j.startDate=a?a.format("YYYY-MM-DD"):null,j.endDate=b?b.format("YYYY-MM-DD"):null,c()}function e(){f(),c()}function f(){var a=j.orderBy[j.orderBy.length-1].key,b=j.groupBy.some(function(b){return b.key===a});b&&j.orderBy.pop(),j.selectedOrderBy&&-1!=j.selectedOrderBy.indexOf(a)&&(j.selectedOrderBy=null),j.orderBy.push({title:j.selectedGroupBy.desc,key:j.selectedGroupBy.key,align:"right"})}function g(a){j.page=a,c()}function h(a){for(var b=null,d=0;d<j.orderBy.length;d++)j.orderBy[d].key==a?(j.orderBy[d].sort?"+"==j.orderBy[d].sort?j.orderBy[d].sort="-":"-"==j.orderBy[d].sort&&(j.orderBy[d].sort=null):j.orderBy[d].sort="+",b=j.orderBy[d].sort?j.orderBy[d]:null):j.orderBy[d].sort=null;b?j.selectedOrderBy=b.sort+b.key:j.selectedOrderBy=null,c()}function i(){b.resetSelections(j.groupByOptions),$("#group-by-modal").modal("show")}var j=this;j.processing=!1,j.startDate=moment(),j.endDate=moment(),j.totalTransactions=0,j.page=1,j.perPage=25,j.perPageOptions=[10,25,50],j.selectedOrderBy=null,j.selectedGroupBy=null,j.orderBy=[{title:"Merchant ID",key:"merchant_id",align:"right"},{title:"Store Name",key:"store_name",align:"left"},{title:"Total Orders",key:"total_orders",align:"right"},{title:"Pickup Orders",key:"pickup_orders",align:"right"},{title:"Delivery Orders",key:"delivery_orders",align:"right"},{title:"Order Amount",key:"order_amount",align:"right"},{title:"Tip",key:"tip",align:"right"},{title:"Tax",key:"tax",align:"right"},{title:"Discount",key:"discount",align:"right"},{title:"Delivery Fee",key:"delivery_fee",align:"right"},{title:"Grand Total",key:"grand_total",align:"right"},{title:"Average Order Value",key:"avg_order_value",align:"right"}],j.groupByOptions=[{desc:"Date",key:"order_date"},{desc:"Hour of Day",key:"order_hour"},{desc:"Day of Week",key:"order_day_of_week"},{desc:"Month",key:"order_month"},{desc:"Year",key:"order_year"},{desc:"Order Type",key:"order_type"},{desc:"Payment Type",key:"payment_type"}],j.transactions={},j.transactionsRequest={},j.onPeriodChanged=d,j.onGroupByChanged=e,j.onPageChanged=g,j.sortByColumn=h,j.openGroupBySelections=i}a.$inject=["TransactionsReportService","ReportsGroupBySelections"],angular.module("adminPortal.reports").controller("ReportsTransactionsCtrl",a)}(),function(){"use strict";function a(a){function b(){h.customersRequest&&(h.customersRequest.abort(),h.processing=!1),h.processing=!0,(h.customersRequest=a.getCustomers(h.startDate,h.endDate,h.page,h.selectedGroupBy?h.selectedGroupBy.key:null,h.selectedOrderBy,h.perPage)).then(function(a){h.processing=!1;var b=a.data;h.customers=b.data,h.totalCustomers=b.total})["catch"](function(a){-1!=a.status&&(h.processing=!1)})}function c(a,c){h.startDate=a?a.format("YYYY-MM-DD"):null,h.endDate=c?c.format("YYYY-MM-DD"):null,b()}function d(){e(),b()}function e(){var a=h.orderBy[h.orderBy.length-1].key,b=h.groupBy.some(function(b){return b.key===a});b&&h.orderBy.pop(),h.selectedOrderBy&&-1!=h.selectedOrderBy.indexOf(a)&&(h.selectedOrderBy=null),h.orderBy.push({title:h.selectedGroupBy.desc,key:h.selectedGroupBy.key,align:"right"})}function f(a){h.page=a,b()}function g(a){for(var c=null,d=0;d<h.orderBy.length;d++)h.orderBy[d].key==a?(h.orderBy[d].sort?"+"==h.orderBy[d].sort?h.orderBy[d].sort="-":"-"==h.orderBy[d].sort&&(h.orderBy[d].sort=null):h.orderBy[d].sort="+",c=h.orderBy[d].sort?h.orderBy[d]:null):h.orderBy[d].sort=null;c?h.selectedOrderBy=c.sort+c.key:h.selectedOrderBy=null,b()}var h=this;h.processing=!1,h.startDate=moment(),h.endDate=moment().add(1,"day"),h.totalCustomers=0,h.page=1,h.perPage=25,h.perPageOptions=[10,25,50],h.selectedOrderBy=null,h.selectedGroupBy=null,h.orderBy=[{title:"User ID",key:"user_id",align:"right"},{title:"First Name",key:"first_name",align:"left"},{title:"Last Name",key:"last_name",align:"left"},{title:"Email",key:"email",align:"left"},{title:"1st Order Date",key:"first_order_date",align:"right"},{title:"Last Order Date",key:"last_order_date",align:"right"},{title:"Total Orders",key:"total_orders",align:"right"},{title:"Pickup Orders",key:"pickup_orders",align:"right"},{title:"Delivery Orders",key:"delivery_orders",align:"right"},{title:"Order Spent",key:"order_spent",align:"right"},{title:"Total Spent",key:"total_spent",align:"right"},{title:"Average Order Value",key:"avg_order_value",align:"right"}],h.groupBy=[{desc:"Hour of Day",key:"order_hour"},{desc:"Day of Week",key:"order_day_of_week"},{desc:"Month",key:"order_month"},{desc:"Year",key:"order_year"},{desc:"Order Type",key:"order_type"},{desc:"Payment Type",key:"payment_type"}],h.customers={},h.customersRequest={},h.onPeriodChanged=c,h.onGroupByChanged=d,h.onPageChanged=f,h.sortByColumn=g}a.$inject=["CustomersReportService"],angular.module("adminPortal.reports").controller("ReportsCustomersCtrl",a)}(),function(){function a(a,b,c,d,e,f){var g=this;g.user=b,g.reports_group_by_selections=e,g.datePicker={date:{startDate:moment(),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}},g.groupBy=[{desc:"Date",key:"Date"},{desc:"Merchant",key:"merchant_id"},{desc:"Promo ID",key:"promo_id"},{desc:"Promo Code",key:"promo_code"},{desc:"Order Type",key:"order_type"},{desc:"Group Order",key:"group_order"}],g.selectedReportType={desc:"Promos",key:"promos",retrieveData:d.getReport,exportReport:d.exportReport,selectedOrderBy:null,columns:[{title:"Order #",key:"order_cnt",align:"right",filter:f.filterNone},{title:"Order Amt",key:"order_amt",align:"right",filter:f.filterNone},{title:"Promo Amt",key:"promo_amt",align:"right",filter:f.filterNone},{title:"Delivery Amt",key:"delivery_amt",align:"right",filter:f.filterNone}]},g.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}}}a.$inject=["$http","Users","UtilityService","PromoReportService","ReportsGroupBySelections","Reports"],angular.module("adminPortal.reports").component("promosReportComponent",{templateUrl:"modules/reports/components/promos-report-component/promos-report-component.html",controllerAs:"vm",bindings:{customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<",processing:"=?",exporting:"=?"},controller:a})}(),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f,g,h,i){var j="?";return b&&c&&(a+=j+"date_range="+b+","+c,j="&"),d&&(a+=j+"page="+d,j="&"),e&&(a+=j+"group_by="+e,j="&"),f&&(a+=j+"order_by="+f,j="&"),g&&(a+=j+"per_page="+g),h&&(a+=j+"brand="+h),i&&(a+=j+"merchants="+JSON.stringify(i)),a}var d={};return d.getReport=function(b,d,e,f,g,h,i,j){var k="/reports/promo";return k=c(k,b,d,e,f,g,h,i,j),a.cancelableHttpGet(k)},d.exportReport=function(a,d,e,f,g,h,i,j){var k="/reports/promo/exported";return k=c(k,a,d,e,f,g,h,i,j),b.download(k)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("PromoReportService",a)}(),angular.module("adminPortal.reports").factory("Reports",["$http","$filter","Cookie",function(a,b,c){var d={};return d.filterNone=function(a){return a},d.filterNumber=function(a){return b("number")(a,2)},d.filterDate=function(a){return moment(a).format("MM/DD/YYYY")},d.time_periods=[{desc:"Today",url:"today"},{desc:"Yesterday",url:"yesterday"},{desc:"This Week",url:"current_week"},{desc:"Last Week",url:"previous_week"},{desc:"Month to Date",url:"current_month"},{desc:"Year to Date",url:"current_year"}],d.period_type="today",d.groupBy=[{desc:"Date",key:"order_date"},{desc:"Hour of Day",key:"order_hour"},{desc:"Day of Week",key:"order_day_of_week"},{desc:"Month",key:"order_month"},{desc:"Year",key:"order_year"},{desc:"Order Type",key:"order_type"},{desc:"Payment Type",key:"payment_type"}],d.post=function(b,c){var d=a.post("/reports/"+b,c);return d.then(function(a){return a}),d},d["delete"]=function(b,c){var d=a["delete"]("/reports/"+b+"/"+c);return d.then(function(a){return a}),d},d.update=function(b,c){var d=a.put("/reports/"+b,c);return d.then(function(a){return a}),d},d.get=function(b){var c=a.get("/reports/"+b);return c.then(function(a){return a}),c},d.demo_data={},d.demo_data.today={labels:["9am","10am","11am","12am","1pm","2pm","3pm","4pm","5pm","6pm","7pm","8pm"],chart_values:[[25.45,152.75,145.15,229.25,108.95,155.35,20.1,56.25,38.4,42.1,20.1,7.75],[3,4,17,22,10,9,3,1,4,4,1,1]],user_sales:[{user_id:3369556,first_name:"Alexis",last_name:"Rebane",user_sales:"96.50"},{user_id:6388867,first_name:"Cameron",last_name:"Hoag",user_sales:"68.55"},{user_id:5863245,first_name:"Dale",last_name:"Meyers",user_sales:"56.25"},{user_id:6155341,first_name:"Sara",last_name:"Hardenburgh",user_sales:"35.70"},{user_id:2421271,first_name:"Kenneth",last_name:"Black",user_sales:"34.60"}],item_sales:[],device_sales:{labels:["android","iphone","web","web-mobile"],sales:["104.75","316.85","537.50","42.50"]},returning_new:{labels:["Returning","New Customer"],chart_values:[71,6]},day_of_week:{labels:["Today"],sales:["1001.60"]}},d.demo_data.yesterday={labels:["8am","9am","10am","11am","12am","1pm","2pm","3pm","4pm","5pm","6pm"],chart_values:[[11.75,108.2,214.8,332.45,246.7,100.75,20.9,15,15.5,45.45,23.9],[1,1,8,29,19,9,2,1,1,2,2]],user_sales:[{user_id:6195202,first_name:"Kjell",last_name:"Hedstrom",user_sales:"108.20"},{user_id:1317777,first_name:"Caitlin",last_name:"Ascher",user_sales:"90.30"},{user_id:6090697,first_name:"Erik",last_name:"Bartholomy",user_sales:"36.75"},{user_id:6379955,first_name:"Clayton",last_name:"Shank",user_sales:"34.60"},{user_id:6385552,first_name:"Eric",last_name:"Bloom",user_sales:"34.50"}],item_sales:[],device_sales:{labels:["android","iphone","web","web-mobile"],sales:["158.30","280.35","667.85","28.90"]},returning_new:{labels:["Returning","New Customer"],chart_values:[67,7]},day_of_week:{labels:["Thursday"],sales:["1135.40"]}},d.demo_data.current_week={labels:["08/05","08/06","08/07","08/08","08/09","08/10"],chart_values:[["421.35","1133.15","1304.10","1000.65","902.70","1322.60"],[17,60,71,63,88,90]],user_sales:[{user_id:5708608,first_name:"Casey",last_name:"Primm",user_sales:"26.14"},{user_id:5215689,first_name:"Bambi",last_name:"Leveritt",user_sales:"25.36"},{user_id:6611611,first_name:"Makaria",last_name:"Reed",user_sales:"20.32"},{user_id:5976724,first_name:"Heather",last_name:"Tumey ",user_sales:"18.17"},{user_id:6161900,first_name:"Colby",last_name:"Moore",user_sales:"10.58"}],item_sales:[{item_id:299858,item_name:"Drink & Chips",item_sales:"94.31"},{item_id:299789,item_name:"Turkey",item_sales:"86.51"},{item_id:0,item_name:"Promo",item_sales:"56.09"},{item_id:299786,item_name:"Ultimate Club",item_sales:"50.72"},{item_id:299798,item_name:"Chipolte Cheese Chicken",item_sales:"41.07"}],device_sales:{labels:["android","iphone","web","web-mobile"],sales:["54.11","7.99","55.33","7.02"]},returning_new:{labels:["Returning","New Customer"],chart_values:[254,62]},day_of_week:{labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],sales:["298.35","981.15","1304.10","1161.65","972.70","1116.60"]}},d.demo_data.previous_week={labels:["07/30","07/31","08/01","08/02","08/03","08/04"],chart_values:[["298.35","981.15","1304.10","1161.65","972.70","1116.60"],[16,65,78,59,63,75]],user_sales:[{user_id:346949,first_name:"JULIE",last_name:"HURT",user_sales:"114.25"},{user_id:7160399,first_name:"Scott",last_name:"",user_sales:"114.25"},{user_id:133501,first_name:"Keri",last_name:"Miller",user_sales:"108.10"},{user_id:23358,first_name:"Robert",last_name:"Smith",user_sales:"101.95"},{user_id:7075120,first_name:"Adam",last_name:"",user_sales:"93.35"}],item_sales:[{item_id:276614,item_name:"Turkey and Swiss",item_sales:"3114.50"},{item_id:276633,item_name:"Potato Chips",item_sales:"2474.70"},{item_id:276612,item_name:"Italian Sandwich",item_sales:"2335.15"},{item_id:276648,item_name:"Cookies",item_sales:"2259.95"},{item_id:276962,item_name:"Bottled Water",item_sales:"2169.10"}],device_sales:{labels:["android","iphone","web","web-mobile"],sales:["680.40","1454.35","3521.15","178.65"]},returning_new:{labels:["Returning","New Customer"],chart_values:[188,96]},day_of_week:{labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],sales:["360.35","1088.15","1233.10","945.65","888.70","1223.60"]}},d.demo_data.current_month={labels:["07/31-08/06","08/06-08/12"],chart_values:[["3078.60","1322.34"],[204,44]],user_sales:[{user_id:7188680,first_name:"Steve",last_name:"",user_sales:"84.55"},{user_id:5575286,first_name:"Whitney",last_name:"Howe",user_sales:"82.85"},{user_id:573386,first_name:"Neal",last_name:"Rogers",user_sales:"68.30"},{user_id:815544,first_name:"Todd",last_name:"Edbrooke",user_sales:"60.50"},{user_id:4389539,first_name:"Fred",last_name:"Rudd",user_sales:"57.00"}],item_sales:[{item_id:276614,item_name:"Turkey and Swiss",item_sales:"1239.45"},{item_id:276612,item_name:"Italian Sandwich",item_sales:"793.75"},{item_id:276633,item_name:"Potato Chips",item_sales:"733.10"},{item_id:276613,item_name:"Roast Beef and Provolone",item_sales:"542.35"},{item_id:276626,item_name:"Cobb Salad",item_sales:"396.00"}],device_sales:{labels:["android","iphone","web","web-mobile"],sales:["207.85","757.75","1263.40","106.20"]},returning_new:{labels:["Returning","New Customer"],chart_values:[118,27]},day_of_week:{labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],sales:["288.20","333.35","455.50","366.80","255.45","321.70","400.25"]}},d.demo_data.current_year={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug"],chart_values:[["25121.30","25798.50","28707.50","25971.75","29790.40","28098.95","27178.65","3021.45"],[1666,1506,1776,1584,1826,1737,1658,200]],user_sales:[{user_id:5996271,first_name:"Jess",last_name:"Gerthe",user_sales:"856.25"},{user_id:6433287,first_name:"Diane",last_name:"Radley",user_sales:"597.35"},{user_id:498704,first_name:"Jonathan ",last_name:"Levy",user_sales:"563.80"},{user_id:121112,first_name:"Rebecca",last_name:"Taillon",user_sales:"562.30"},{user_id:943814,first_name:"dennis",last_name:"nicks",user_sales:"561.20"}],item_sales:[{item_id:276614,item_name:"Turkey and Swiss",item_sales:"98665.95"},{item_id:276612,item_name:"Italian Sandwich",item_sales:"91375.15"},{item_id:276648,item_name:"Cookies",item_sales:"46783.90"},{item_id:276623,item_name:"The Vegetarian",item_sales:"36539.10"},{item_id:276613,item_name:"Roast Beef and Provolone",item_sales:"32776.50"}],device_sales:{labels:["android","iphone","web","web-mobile"],sales:["23239.45","62668.60","99614.15","7480.05"]},returning_new:{labels:["Returning","New Customer"],chart_values:[3052,1249]},day_of_week:{labels:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],sales:["12456.20","31734.35","31943.50","32515.80","35460.45","33259.70","15632.25"]}},d}]),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f,g,h,i){var j="?";return b&&c&&(a+=j+"date_range="+b+","+c,j="&"),d&&(a+=j+"page="+d,j="&"),e&&(a+=j+"group_by="+e,j="&"),f&&(a+=j+"order_by="+f,j="&"),g&&(a+=j+"per_page="+g),h&&(a+=j+"brand="+h),i&&(a+=j+"merchants="+JSON.stringify(i)),a}var d={};return d.getTransactions=function(b,d,e,f,g,h,i,j){var k="/reports/transactions";return k=c(k,b,d,e,f,g,h,i,j),a.cancelableHttpGet(k)},d.exportTransactionsReport=function(a,d,e,f,g,h,i,j){var k="/reports/transactions/exported";return k=c(k,a,d,e,f,g,h,i,j),b.download(k)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("TransactionsReportService",a)}(),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f,g,h,i,j){var k="?";return b&&c&&(a+=k+"date_range="+b+","+c,k="&"),d&&(a+=k+"page="+d,k="&"),e&&(a+=k+"group_by="+e,k="&"),f&&(a+=k+"order_by="+f,k="&"),g&&(a+=k+"per_page="+g),h&&(a+=k+"brand="+h),g&&(a+=k+"per_page="+g),i&&(a+=k+"merchants="+JSON.stringify(i)),j&&(a+=k+"set_time_range="+j),a}var d={};return d.getCustomers=function(b,d,e,f,g,h,i,j,k){var l="/reports/customers";return l=c(l,b,d,e,f,g,h,i,j,k),a.cancelableHttpGet(l)},d.exportCustomersReport=function(a,d,e,f,g,h,i,j,k){var l="/reports/customers/exported";return l=c(l,a,d,e,f,g,h,i,j,k),b.download(l)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("CustomersReportService",a)}(),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f,g,h,i){var j="?";return b&&c&&(a+=j+"date_range="+b+","+c,j="&"),d&&(a+=j+"page="+d,j="&"),e&&(a+=j+"group_by="+e,j="&"),f&&(a+=j+"order_by="+f,j="&"),g&&(a+=j+"per_page="+g),h&&(a+=j+"brand="+h),i&&(a+=j+"merchants="+JSON.stringify(i)),a}var d={};return d.getReport=function(b,d,e,f,g,h,i,j){var k="/reports/sales_menu_items";return k=c(k,b,d,e,f,g,h,i,j),a.cancelableHttpGet(k)},d.exportReport=function(a,d,e,f,g,h,i,j){var k="/reports/sales_menu_items/exported";return k=c(k,a,d,e,f,g,h,i,j),b.download(k)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("SalesByMenuItemReportService",a)}(),angular.module("adminPortal.brand",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.brand").config(["$routeProvider",function(a){a.when("/brand/create",{templateUrl:"modules/brand/brand-create/brand-create.html",controller:"BrandCreateCtrl",controllerAs:"brand"}),a.when("/brands/",{templateUrl:"modules/brand/brand-list/brand-list.html",controller:"BrandListCtrl",controllerAs:"vm"}),a.when("/brands/merchant_groups",{templateUrl:"modules/brand/merchant-groups/merchant-groups.html",controller:"MerchantGroupsCtrl",controllerAs:"mg"}),a.when("/brands/merchant_groups_create",{templateUrl:"modules/brand/merchant-groups-create/merchant-groups-create.html",controller:"MerchantGroupsCreateCtrl",controllerAs:"mgc"}),a.when("/brands/merchant_groups_edit",{templateUrl:"modules/brand/merchant-groups-edit/merchant-groups-edit.html",controller:"MerchantGroupsEditCtrl",controllerAs:"mge"}),a.when("/brand",{templateUrl:"modules/brand/brand-edit/brand-edit.html",controller:"BrandEditCtrl",controllerAs:"vm"})}]),angular.module("adminPortal.brand").controller("BrandCreateCtrl",BrandCreateCtrl),angular.module("adminPortal.brand").factory("Brands",["$http",function(a){var b={};return b.currentBrandSelected=void 0,b.getBrandMerchants=function(b){var c=a.get("/brands/"+b+"/merchants").success(function(a){return a});return c},b.getAllBrands=function(){return a.get("/brands")},b.searchBrands=function(b){return a.post("/brands",{fields:["brand_id","brand_name","support_email"],value:b})},b.getBrandsWithFirstLetter=function(b){return a.get("/brands/"+b)},b.editBrand=function(b,c){return a.post("/brand/"+b,c)},b.getBrand=function(b){return a.get("/brand/"+b)},b.getCurrentBrand=function(){return a.get("/brand")},b}]),angular.module("adminPortal.webSkin",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.webSkin").config(["$routeProvider",function(a){a.when("/web_skin/create",{templateUrl:"modules/web-skin/web-skin-create/web-skin-create.html",controller:"WebSkinCreateCtrl",controllerAs:"creative",section:"sites"}),a.when("/web_skin/configuration",{templateUrl:"modules/web-skin/web-skin-configuration/web-skin-configuration.html",controller:"WebSkinConfigurationCtrl",controllerAs:"skin_config",section:"sites"})}]),angular.module("adminPortal.webSkin").controller("WebSkinCreateCtrl",WebSkinCreateCtrl),angular.module("adminPortal.webSkin").controller("WebSkinConfigurationCtrl",WebSkinConfigurationCtrl),angular.module("adminPortal.webSkin").factory("WebSkin",["$http","Cookie",function(a,b){var c={};return c.current_web_skin_item={},c.current_modifier_item={},c.current_web_skin=null,c.current_brand_name=null,c.web_skin_types=[],c.modifier_groups=[],c.search_results=[],c.post=function(b,c){var d=a.post("/web_skin/"+b,c);return d.then(function(a){return a}),d},c["delete"]=function(b,c){var d=a["delete"]("/web_skin/"+b+"/"+c);return d.then(function(a){return a}),d},c.update=function(b,c){var d=a.put("/web_skin/"+b,c);return d.then(function(a){return a}),d},c.get=function(b){var c=a.get("/web_skin/"+b);return c.then(function(a){return a}),c},c.getSkinsByBrand=function(b){return a.get("/brand/"+b+"/skins")},c.getMerchantRelatedSkins=function(b,c){return a.get("/brand/"+b+"/merchant/"+c+"/skins")},c.getSearchResults=function(){return c.search_results},c.getCurrentBrand=function(){return c.current_brand_name},c.uploadHeroFile=function(b){return a({method:"POST",url:"web_skin/hero_image_upload",headers:{"Content-Type":void 0},data:{file:b},transformRequest:function(a,b){var c=new FormData;return angular.forEach(a,function(a,b){c.append(b,a)}),c}})},c.setSkinToMerchant=function(b,c){return a.post("merchant/"+b+"/skin/set",c)},c}]),angular.module("adminPortal.customerService",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.customerService").config(["$routeProvider",function(a){a.when("/customer_service",{templateUrl:"modules/customer-service/customer-service/customer-service.html",controller:"CustomerServiceCtrl",controllerAs:"customer_service",section:"customer-service"}),a.when("/customer_service/order",{templateUrl:"modules/customer-service/customer-service-order/customer-service-order.html",controller:"CustomerServiceOrderCtrl",controllerAs:"order",section:"customer-service"}),a.when("/customer_service/user",{templateUrl:"modules/customer-service/customer-service-user/customer-service-user.html",controller:"CustomerServiceUserCtrl",controllerAs:"cs_user",section:"customer-service"}),a.when("/customer_service/live_orders",{templateUrl:"modules/customer-service/customer-service-live-orders/customer-service-live-orders.html",controller:"CustomerServiceLiveOrdersCtrl",controllerAs:"live_orders",section:"customer-service"}),a.when("/customer_service/users",{templateUrl:"modules/customer-service/customer-service-user-list/customer-service-user-list.html",controller:"CustomerServiceUserListCtrl",controllerAs:"user",section:"customer-service"}),a.when("/customer_service/tbd",{templateUrl:"modules/customer-service/customer-service-tbd/customer-service-tbd.html",controller:"CustomerServiceTbdCtrl",controllerAs:"vm"}),a.when("/customer_service/future_orders",{templateUrl:"modules/customer-service/future-orders/future-orders.html",controller:"FutureOrdersCtrl",controllerAs:"vm"})}]),angular.module("adminPortal.customerService").controller("CustomerServiceCtrl",CustomerServiceCtrl),angular.module("adminPortal.customerService").controller("CustomerServiceOrderCtrl",CustomerServiceOrderCtrl),angular.module("adminPortal.customerService").controller("CustomerServiceUserCtrl",CustomerServiceUserCtrl),angular.module("adminPortal.customerService").controller("CustomerServiceLiveOrdersCtrl",CustomerServiceLiveOrdersCtrl),angular.module("adminPortal.customerService").controller("CustomerServiceUserListCtrl",CustomerServiceUserListCtrl),angular.module("adminPortal.customerService").factory("Order",["$http","$q",function(a,b){var c={};return c.current_order=null,c.search_results=[],c.index=function(){var b=a.get("/order");return b.then(function(a){return a},function(a){window.location="/"}),b},c.post=function(b,c){var d=a.post("/order/"+b,c);return d.then(function(a){return a}),d},c.get=function(b){var c=a.get("/order/"+b);return c.then(function(a){return a}),c},c["delete"]=function(b,c){var d=a["delete"]("/order/"+b+"/"+c);return d.then(function(a){return a}),d},c.update=function(b,c){var d=a.put("/order/"+b,c);return d.then(function(a){return a}),d},c.refundOrder=function(a){var c=b.defer();return this.post("refund_order",a).then(function(a){c.resolve(a)}),c.promise},c.getFullMenu=function(){var a=b.defer();this.get("item_modifiers").then(function(b){c.menu_types=b.data.menu_response.menu.menu_types,c.modifier_groups=b.data.menu_response.menu.modifier_groups,c.all_items=b.data.all_menu_items,c.all_modifier_items=b.data.all_mod_items,c.menu_type_categories=b.data.lookup.cat_id,a.resolve(b)})},c.getSearchResults=function(){return c.search_results},c.setCurrentOrder=function(b){return a.post("/order/set_current",{order_id:b})},c}]),angular.module("adminPortal.customerService").factory("SplickitUser",["$http",function(a){var b={};return b.search_result_users=[],b.getSearchResults=function(){return b.search_result_users},b}]),angular.module("adminPortal.customer",["ui.bootstrap","ngRoute","ngAnimate","angular-pdf-thumbnail"]),angular.module("adminPortal.customer").config(["$routeProvider",function(a){a.when("/customer/create",{templateUrl:"modules/customer/customer-create/customer-create.html",controller:"CustomerCreateCtrl",controllerAs:"vm",sideBar:"customer"}),a.when("/customer/sales_report",{templateUrl:"modules/customer/customer-sales-report/customer-sales-report.html",controller:"CustomerSalesReportCtrl",controllerAs:"vm",sideBar:"customer"}),a.when("/customer/:guid/confirm",{templateUrl:"modules/customer/customer-confirm/customer-confirm.html",controller:"CustomerConfirmCtrl",controllerAs:"vm",navBar:"none",sideBar:"none",publicAccess:!0}),a.when("/customer/:guid/setup",{templateUrl:"modules/customer/customer-setup/customer-setup.html",controller:"CustomerSetupCtrl",controllerAs:"vm",navBar:"none",sideBar:"none",publicAccess:!0})}]),angular.module("adminPortal.customer").controller("SideNavCustomerController",["$scope","$location","$http",function(a,b,c){a.active={},"/customer/create"===b.path()&&(a.active.customer_service=!0),"/customer/sales_report"===b.path()&&(a.active.report=!0),a.set_hover=function(b){a.active={},a.active[b]=!0},a.open=function(a){}}]),angular.module("adminPortal.customer").controller("CustomerCreateCtrl",CustomerCreateCtrl),angular.module("adminPortal.customer").controller("CustomerSalesReportCtrl",CustomerSalesReportCtrl),angular.module("adminPortal.customer").controller("CustomerConfirmCtrl",CustomerConfirmCtrl),angular.module("adminPortal.customer").controller("CustomerSetupCtrl",CustomerSetupCtrl),angular.module("adminPortal.customer").directive("stripeForm",function(){var a=function(a,b){function c(){var a={name:d.customerPlan.credit_card_first_name+d.customerPlan.credit_card_last_name},b=e.createToken(i,a).then(function(a){if(a.error)throw a.error;return a});return b}var d=this;d.disable=!1,d.parent=a.$parent.vm,d.parent.stripeGenerateToken=c,d.card_number={},d.card_number.invalid=!1,d.card_expiry={},d.card_expiry.invalid=!1,d.card_cvc={},d.card_cvc.invalid=!1;var e=new Stripe("pk_test_m5VGwdhvxxDgzMUjChyIvbBC"),f=e.elements({locale:"en"}),g={base:{color:"#404043",fontFamily:'"Open Sans", sans-serif',fontSize:"12px",":-webkit-autofill":{color:"#808080"}},invalid:{color:"#B23426","::placeholder":{color:"#B23426"}}},h={invalid:"invalid"},i=f.create("cardNumber",{style:g,classes:h,placeholder:"Credit Card Number"});i.mount("#card-number"),i.addEventListener("change",function(a){var c=document.getElementById("card-number-error");a.error?(c.textContent=a.error.message,b.safeApply(function(){d.card_number.invalid=!0})):(c.textContent="",b.safeApply(function(){d.card_number.invalid=!1}))});var j=f.create("cardExpiry",{style:g,classes:h});j.mount("#card-expiry"),j.addEventListener("change",function(a){var c=document.getElementById("card-expiry-error");a.error?(c.textContent=a.error.message,b.safeApply(function(){d.card_expiry.invalid=!0})):(c.textContent="",b.safeApply(function(){d.card_expiry.invalid=!1}))});var k=f.create("cardCvc",{style:g,classes:h});k.mount("#card-cvc"),k.addEventListener("change",function(a){var c=document.getElementById("card-cvc-error");a.error?(c.textContent=a.error.message,b.safeApply(function(){d.card_cvc.invalid=!0})):(c.textContent="",b.safeApply(function(){d.card_cvc.invalid=!1}))})};return a.$inject=["$scope","$rootScope"],{restrict:"E",replace:!0,scope:{disable:"=?"},templateUrl:"modules/customer/directive/stripe-form/stripe-form.html",controller:a,controllerAs:"vm",bindToController:!0,link:function(a,b,c,d){}}}),angular.module("adminPortal.customer").factory("Leads",["$http","$q",function(a,b){var c={};return c.createLead=function(b){var c=a.post("/leads",b).success(function(a){return a});return c},c.serviceTypes=function(){var b=a.get("/leads/service_types").success(function(a){return a});return b},c.paymentTypes=function(){var b=a.get("/leads/payment_types").success(function(a){return a});return b},c.getLead=function(b){var c=a.get("/leads/"+b).success(function(a){return a});return c},c.getLeads=function(b,c){var d="/leads";b&&c&&(d+="?created_at="+b+","+c);var e=a.get(d).success(function(a){return a});return e},c}]),angular.module("adminPortal.customer").factory("Prospects",["$http","$q",function(a,b){var c={};return c.createMerchant=function(b,c){var d="/prospects/"+b+"/merchants",e=a.post(d,c).success(function(a){
return a});return e},c.setupCustomer=function(b,c){var d="/prospects/"+b+"/customer",e=a.post(d,c).success(function(a){return a});return e},c.uploadMenuFiles=function(b,c){for(var d="/prospects/"+b+"/menu_files",e=new FormData,f=0;f<c.length;f++)e.append("menu_files[]",c[f]);var g=a.post(d,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(a){return a});return g},c}]),angular.module("adminPortal.user",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.user").config(["$routeProvider",function(a){a.when("/login",{templateUrl:"modules/user/user-login/user-login.html",controller:"UserLoginCtrl",sideBar:"none",navBar:"none",publicAccess:!0}),a.when("/users/manage",{templateUrl:"modules/user/users-manage/users-manage.html",controller:"UsersManageCtrl",sideBar:"user"}),a.when("/user/create",{templateUrl:"modules/user/user-create/user-create.html",controller:"UserCreateCtrl",controllerAs:"uc",sideBar:"user"}),a.when("/user/reset",{templateUrl:"modules/user/user-reset/user-reset.html",controller:"UserResetCtrl",controllerAs:"vm",sideBar:"none",navBar:"none",publicAccess:!0}),a.when("/password/:method/:token",{templateUrl:"modules/user/user-reset-form/user-reset-form.html",controller:"UserResetFormCtrl",controllerAs:"vm",sideBar:"none",navBar:"none",publicAccess:!0})}]),function(){"use strict";function a(a,b,c,d,e,f,g){function h(){return"operator"===e.visibility}a.isLoggedIn=e.isLoggedIn(),a.user_service=e,a.isUserOperator=h,a.logOut=function(){e.logOut().then(function(c){a.isLoggedIn=!1,g.$reset(),b.path("/")})["catch"](function(a){b.path("/")})}}a.$inject=["$scope","$location","SweetAlert","UtilityService","Users","Cookie","$localStorage"],angular.module("adminPortal.user").controller("SessionController",a)}(),angular.module("adminPortal.user").controller("UserLoginCtrl",UserLoginCtrl),angular.module("adminPortal.user").controller("UsersManageCtrl",UsersManageCtrl),angular.module("adminPortal.user").controller("UserCreateCtrl",UserCreateCtrl),angular.module("adminPortal.user").service("Users",["$http","Cookie","$q","$location","$localStorage","$route","UtilityService","SweetAlert","$routeParams",function(a,b,c,d,e,f,g,h,i){var j={};return j.permissions=[],j.visibility=0,j.current_user={},j.role_visibility_mapping=[{role_id:1,visibility:"global"},{role_id:2,visibility:"all"},{role_id:3,visibility:"mine_only"},{role_id:5,visibility:"operator"},{role_id:6,visibility:"operator"},{role_id:8,visibility:"brand"},{role_id:7,visibility:"operator"},{role_id:9,visibility:"operator"}],j.user_possible_roles=[],j.role_permission_mapping=[{id:1,name:"Splickit Super User",permission:"create_super_user"},{id:2,name:"Partner Admin",permission:"create_ptnr_admin"},{id:3,name:"Reseller Account Manager",permission:"create_var_acct_mngr"},{id:5,name:"Store Owner Operator",permission:"create_owner_oper"},{id:6,name:"Store Manager",permission:"create_store_mngr"},{id:8,name:"Brand Manager",permission:"create_brand_mngr"}],j.session={},j.user_related_data={},j.getAllUsers=function(){var b=a.get("/all_users");return b.then(function(a){return a}),b},j.createUser=function(b){var c=a.post("/create_user",b).success(function(a){return a});return c},j.getRoles=function(){var b=a.get("/get_roles").success(function(a){return a});return b},j.getPermissions=function(){var b=c.defer();return j.permissions.length>0?b.resolve(""):a.get("/user/permissions").success(function(a){j.permissions=a,b.resolve(a)}),b.promise},j.createLoad=function(){var b=a.get("/user/create_load").success(function(a){return a});return b},j.getUserName=function(){var a=b.getCookie("user_data");if(!a)return null;var c=JSON.parse(a);return c.user.first_name},j.getVisibility=function(){var a=b.getCookie("user_data");if(!a)return null;var c=JSON.parse(a);return c.user.visibility},j.getOperatorMenu=function(){var a=b.getCookie("user_data");if(!a)return null;var c=JSON.parse(a);return c.menu_id},j.visibility=j.getVisibility(),j.removeUser=function(b){a.post("/remove_user",{userId:b}).success(function(a){$("#removeUserModal").modal("toggle")})},j.getAuthToken=function(){var a=b.getCookie("user_data");if(!a)return null;var c=JSON.parse(a),d=c.token;return d?d:null},j.isLoggedIn=function(){var a=j.getAuthToken();return!!a},j.logOn=function(c){var d=a.post("/login_attempt",c);return d.then(function(a){1===a.data.status&&b.setCookie("user_data",JSON.stringify(a.data),1)}),d},j.logOut=function(){var c=a.get("/error_clear_session");return c.then(function(a){return b.deleteCookie("user_data"),e.$reset(),a})["catch"](function(a){return b.deleteCookie("user_data"),a}),c},j.logOutOnCorruptSession=function(){console.log("route pa",f.current.publicAccess),f.current.publicAccess||(j.logOut(),"/login"!=d.path()&&h.swal({title:"We’re sorry, there appears to be an issue with your current session. Please login to re-authenticate.",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){window.location="/"}))},j["delete"]=function(b){var c=a.post("/user/delete",{id:b});return c.then(function(a){return a}),c},j.getUserSessionInfo=function(){var b=c.defer();return a.get("/user/session_info").then(function(a){j.visibility=a.data.visibility,j.permissions=a.data.permissions,"undefined"==typeof j.permissions&&j.logOutOnCorruptSession(),j.permissions.length<1&&j.logOutOnCorruptSession(),"undefined"!=typeof a.data.operator_merchant_count?j.operator_merchant_count=a.data.operator_merchant_count:j.operator_merchant_count=0,"undefined"==typeof j.operator_merchant&&(j.operator_merchant=a.data.operator_merchant),j.current_user=a.data.user,j.user_related_data=a.data.user_related_data,b.resolve(a.data),j.setPossibleRoles()},function(a){b.reject(a)}),b.promise},j.hasPermission=function(a){return-1!==j.permissions.indexOf(a)},j.setPossibleRoles=function(){for(var a=0,b=j.role_permission_mapping.length;b>a;a++)j.hasPermission(j.role_permission_mapping[a].permission)&&j.user_possible_roles.push(j.role_permission_mapping[a])},j.editUser=function(b){var c=a.post("/user/edit",b);return c.then(function(a){return a}),c},j.logInAsUser=function(c){return a.get("/user/login_as/"+c).then(function(a){b.deleteCookie("user_data"),b.setCookie("user_data",JSON.stringify(a.data),1),"object"==typeof a.data.permissions&&(a.data.permissions=g.convertObjectToArray(a.data.permissions)),e.currentUser=a.data,window.location="/"})},j.nonSessionPath=function(){var a=d.path();return console.log("url_path",a),-1!=a.indexOf("password")?!0:!1},j.getUserSessionInfo(),j}]),angular.module("adminPortal.user").controller("SideNavUserController",["$scope","$location","$http",function(a,b,c){a.active={},"/user/create"===b.path()&&(a.active.user_create=!0),"/users/manage"===b.path()&&(a.active.user_manage=!0),a.set_hover=function(b){a.active={},a.active[b]=!0},a.open=function(a){}}]),angular.module("adminPortal.valueAddedReseller",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.valueAddedReseller").config(["$routeProvider",function(a){a.when("/vars/manage",{templateUrl:"modules/value-added-reseller/vars-manage/vars-manage.html",sideBar:"value-added-reseller"}),a.when("/var/create",{templateUrl:"modules/value-added-reseller/var-create/var-create.html",controller:"VarCreateCtrl",sideBar:"value-added-reseller"})}]),angular.module("adminPortal.valueAddedReseller").controller("VarsManageCtrl",VarsManageCtrl),angular.module("adminPortal.valueAddedReseller").controller("VarCreateCtrl",VarCreateCtrl),angular.module("adminPortal.valueAddedReseller").factory("Var",["$http","Cookie",function(a,b){var c={};return c.all_resellers=[],c.get=function(b){var c=a.get("/value_added_resellers/"+b);return c.then(function(a){return a}),c},c.post=function(b,c){var d=a.post("/value_added_resellers/"+b,c);return d.then(function(a){return a}),d},c.getAllVars=function(){var a=c.get("all");return a},c.create=function(a){var b=c.post("create",a);return b},c["delete"]=function(a){var b=c.get("delete/"+a);return b},c}]),angular.module("adminPortal.valueAddedReseller").controller("SideNavValueAddedResellerController",["$scope","$location","$http",function(a,b,c){a.active={},"/vars/manage"===b.path()&&(a.active.manage=!0),"/var/create"===b.path()&&(a.active.create=!0),a.set_hover=function(b){a.active={},a.active[b]=!0},a.open=function(a){}}]),angular.module("shared",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("shared").config(["$routeProvider",function(a){}]).directive("match",["$parse",function(a){return{require:"ngModel",link:function(b,c,d,e){b.$watch(function(){return a(d.match)(b)===e.$modelValue},function(a){e.$setValidity("mismatch",a)})}}}]).directive("ngFocus",[function(){var a="ng-focused";return{restrict:"A",require:"ngModel",link:function(b,c,d,e){e.$focused=!1,c.bind("focus",function(d){c.addClass(a),b.$apply(function(){e.$focused=!0})}).bind("blur",function(d){c.removeClass(a),b.$apply(function(){e.$focused=!1})})}}}]).directive("ngFade",[function(){var a="ng-faded";return{restrict:"A",require:"ngModel",link:function(b,c,d,e){e.$focused=!1,c.bind("focus",function(d){c.addClass(a),b.$apply(function(){e.$faded=!1})}).bind("blur",function(d){c.removeClass(a),b.$apply(function(){e.$faded=!0})}).bind("pristine",function(d){c.addClass(a),b.$apply(function(){e.$faded=!1})})}}}]).directive("hideOnScroll",["$animate","$document",function(a,b){return function(c,d,e){var f=function(){c.$apply(function(){b.scrollTop()+165>d.offset().top?a.addClass(d,"fade"):a.removeClass(d,"fade")})};b.bind("scroll",f),c.$on("$destroy",function(){b.unbind("scroll",f)})}}]).directive("preventEnterFireing",function(){return{link:function(a,b,c){b.keypress(function(a){return 13==a.keyCode?void a.preventDefault():void 0})}}}).directive("focusMe",["$timeout","$parse",function(a,b){return{link:function(c,d,e){var f=b(e.focusMe);c.$watch(f,function(b){b===!0&&a(function(){d[0].focus()})}),d.bind("blur",function(){c.$apply(f.assign(c,!1))})}}}]).animation(".fade",function(){return{addClass:function(a,b){},removeClass:function(a,b){}}}),angular.module("shared").directive("validSize",checkFileSizeIsValid),angular.module("shared").directive("validType",checkFileTypeIsValid),angular.module("shared").directive("maxFiles",checkMaxFiles),angular.module("shared").directive("onFileChange",onFileChanged),angular.module("shared").directive("validPhone",checkPhoneValid),function(){"use strict";angular.module("shared").directive("dateRangePickerCustom",function(){var a=function(a){function b(b){var c=moment().add(1,"day");b&&(c=moment.min(b.clone().add(a.maxPeriodRange,"days"),c)),$("#to_date").data("DateTimePicker").minDate(b).maxDate(c)}function c(b){var c=moment().subtract(a.maxPeriodRange,"days");b&&(c=b.clone().subtract(a.maxPeriodRange,"days")),$("#from_date").data("DateTimePicker").minDate(c).maxDate(b)}function d(){$(function(){$("#from_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions}),$("#to_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions,useCurrent:!1}),$("#from_date").on("dp.change",function(c){a.startDate=c.date,b(a.startDate),a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})}),$("#to_date").on("dp.change",function(b){a.endDate=b.date,c(a.endDate),a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})}),c(),b()})}function e(){a.startDate=moment(),a.endDate=moment()}function f(){a.startDate=moment().subtract(1,"day"),a.endDate=moment().subtract(1,"day")}function g(){a.startDate=moment().startOf("week"),a.endDate=moment()}function h(){a.startDate=moment().startOf("week").subtract(1,"week"),a.endDate=moment().startOf("week").subtract(1,"day")}function i(){a.startDate=moment().startOf("month"),a.endDate=moment()}function j(){a.startDate=moment().startOf("year"),a.endDate=moment()}function k(){e(),$("#from_date").data("DateTimePicker").date(a.startDate),$("#to_date").data("DateTimePicker").date(a.endDate)}a.startDate=moment(),a.endDate=moment(),a.dateFormat=a.dateFormat||"MM/DD/YYYY",a.iconOptions={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-plus",down:"fa fa-minus",next:"fa fa-chevron-right",previous:"fa fa-chevron-left"},a.maxPeriodRange=90,a.timePeriods=[{desc:"Today",key:"today",func:e},{desc:"Yesterday",key:"yesterday",func:f},{desc:"This Week",key:"current_week",func:g},{desc:"Last Week",key:"previous_week",func:h},{desc:"Month to Date",key:"current_month",func:i},{desc:"Year to Date",key:"current_year",func:j},{desc:"Custom",key:"custom",func:k}],a.selectedPeriod=a.timePeriods[0],d(),a.onPeriodChange=function(){a.selectedPeriod&&(a.selectedPeriod.func(),"custom"!==a.selectedPeriod.key&&a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate,selectedPeriod:a.selectedPeriod.key}))},a.onPeriodChange()};return a.$inject=["$scope"],{restrict:"EA",replace:!0,scope:{onPeriodChanged:"&",dateFormat:"@",maxPeriodRangeConfiguration:"=?",rangeDisableList:"=?"},templateUrl:"modules/shared/directive/date-range-picker/date-range-picker.html",controller:a,link:function(a,b,c,d){a.maxPeriodRangeConfiguration?a.maxPeriodRange=a.maxPeriodRangeConfiguration:a.maxPeriodRange=90,a.rangeDisableList&&a.rangeDisableList.constructor===Array&&(a.rangeDisableList.forEach(function(b){a.timePeriods.forEach(function(c){c.key===b&&a.timePeriods.splice(a.timePeriods.indexOf(c),1)})}),console.log(a.timePeriods))}}})}(),angular.module("shared").factory("HttpRequestInterceptor",["Cookie",function(a){return{request:function(b){var c=a.getCookie("user_data");if(!c)return b;var d=JSON.parse(c),e=d.token;return e&&(b.headers.Authorization="Bearer "+e),b}}}]),angular.module("adminPortal").config(["$httpProvider",function(a){a.interceptors.push("HttpRequestInterceptor")}]),angular.module("shared").factory("httpResponseErrorInterceptor",["$q","Cookie","$location","$localStorage","$window",function(a,b,c,d,e){var f=["password"];return{responseError:function(e){var g=c.path();return f.some(function(a){return g.indexOf(a)>=0})?a.reject(e):(401===e.status&&e.data&&e.data.error&&"Unauthenticated."===e.data.error&&(d.$reset(),b.deleteCookie("user_data"),c.path("/login")),a.reject(e))}}}]),angular.module("adminPortal").config(["$httpProvider",function(a){a.interceptors.push("httpResponseErrorInterceptor")}]),angular.module("shared").factory("FileDownload",["$q","$http","UtilityService",function(a,b,c){var d={};return d.download=function(d){var e=a.defer(),f=b({method:"get",url:d,responseType:"arraybuffer",timeout:e.promise}),g=f.then(function(a){var b=new Blob([a.data]);if(window.navigator&&window.navigator.msSaveOrOpenBlob)return b;var c=URL.createObjectURL(b);return c},function(b){var d=c.arrayBufferToString(b.data);return-1!=b.status&&(b.data=angular.fromJson(d)),a.reject(b)});return g.abort=function(){e.resolve()},g["finally"](function(){g.abort=angular.noop,e=f=g=null}),g},d}]),angular.module("shared").service("Cookie",function(){var a={};return a.setCookie=function(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="expires="+d.toUTCString();document.cookie=a+"="+b+";"+e+";path=/"},a.getCookie=function(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(b))return f.substring(b.length,f.length)}return""},a.deleteCookie=function(b){a.setCookie(b,"",-1)},a}),angular.module("shared").service("GoogleMaps",["$window","$q",function(a,b){var c={};c.start_coordinates={},c.map=null,c.polygon=null,c.map_id=null,c.polygon_set=!1,c.polygon_coordinates=[],c.initilized=!1;var d;return c.initialize=function(){var d=b.defer(),e="https://maps.googleapis.com/maps/api/js?libraries=drawing&key=<YOUR GOOGLE KEY>&callback=",f=function(a,b){var c=document.createElement("script");c.src=a+b,document.body.appendChild(c)};return a.googleMapsInitialized=function(){d.resolve()},c.initilized=!0,f(e,"googleMapsInitialized"),d.promise},c.addDrawingManager=function(){d=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.TOP_CENTER,drawingModes:[google.maps.drawing.OverlayType.POLYGON]},polygonOptions:{fillColor:"#BCDCF9",fillOpacity:.5,strokeWeight:2,strokeColor:"#57ACF9",clickable:!1,editable:!1,zIndex:1}}),d.setMap(c.map),google.maps.event.addListener(d,"polygoncomplete",function(a){for(var b=0;b<a.getPath().getLength();b++)c.polygon_coordinates.push(a.getPath().getAt(b).toUrlValue(6));d.setMap(null),d.setOptions({drawing_manager:!1}),c.polygon=a,c.polygon_set=!0})},c.createMap=function(){var a=b.defer();return c.map=new google.maps.Map(document.getElementById(c.map_id),{center:c.start_coordinates,zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP},function(){a.resolve()}),c.addDrawingManager(),a.promise},c.resize=function(){google.maps.event.trigger(c.map,"resize")},c.clearPolygon=function(){c.polygon.setMap(null),c.addDrawingManager(),c.polygon_set=!1,c.polygon_coordinates=[]},c.createPolygon=function(a){c.polygon=new google.maps.Polygon({paths:a,fillColor:"#BCDCF9",fillOpacity:.5,strokeWeight:2,strokeColor:"#57ACF9",clickable:!1,editable:!1,zIndex:1}),c.polygon.setMap(c.map),c.polygon_set=!0},c.loadSavedPolygon=function(a){var d=b.defer();return c.map=new google.maps.Map(document.getElementById(c.map_id),{center:c.start_coordinates,zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP},function(){d.resolve()}),c.createPolygon(a),d.promise},c}]),angular.module("shared").factory("RouteChangeCheck",["$rootScope","UtilityService",function(a,b){var c=function(c,d,e){var f=a.$on("$routeChangeStart",function(a,f,g,h,i){for(var j=!0,k=[],l=0;l<d.length;l++)c[e][d[l].name].$dirty&&(j=!1,k.push(d[l].desc));if(!j){var m;if(1==k.length)m="You have unsaved changes to the form "+k[0]+". Do you want to continue without saving?";else{var n=b.convertArrayToGrammarList(k);m="You have unsaved changes to the forms "+n+". Do you want to continue without saving?"}var o=confirm(m);o||a.preventDefault()}});c.$on("$destroy",f)};return{checkFormOnStateChange:c}}]),angular.module("shared").service("UtilityService",["$http","$q","$location",function(a,b,c){var d={};return d.week_days=[],d.week_days[1]="Sunday",d.week_days[2]="Monday",d.week_days[3]="Tuesday",d.week_days[4]="Wednesday",d.week_days[5]="Thursday",d.week_days[6]="Friday",d.week_days[7]="Saturday",d.getAllUsers=function(){var b=a.get("/crfToken");return b.then(function(a){return a}),b},d.sessionCheck=function(){var b=a.get("/sessionCheck");b.then(function(a){0===a&&(window.location="/")})},d.sessionCheck=function(){var b=a.get("/sessionCheck");b.then(function(a){0===a&&(window.location="/")})},d.findIndexByKeyValue=function(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]==c)return d;return null},d.returnObjectOfArrayWithFieldValue=function(a,b,c){var d=this.findIndexByKeyValue(a,b,c);return a[d]},d.returnOneArrayFieldWithAnotherArrayFieldValue=function(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e][b]===d)return a[e][c];return null},d.sortArrayByPropertyAlpha=function(a,b){return a.sort(function(a,c){var d=a[b].toLowerCase(),e=c[b].toLowerCase();return e>d?-1:d>e?1:0})},d.convertEmptyJsonArrayToObject=function(a){return Array.isArray(a)&&0===a.length?{}:{}},d.formatPhone=function(a){return a?11==a.length?a.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"$1-$2-$3-$4"):a.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):void 0},d.shortenText=function(a,b){return a?a.length>22?a.substring(a,b)+"...":a:""},d.shortenTextBackend=function(a){return a?a.length>22?"~..."+a.substr(a.length-22):a:""},d.convertArrayToGrammarList=function(a){return"undefined"==typeof a?"":[a.slice(0,-1).join(", "),a.slice(-1)[0]].join(a.length<2?"":" and ")},d.charactersRemaining=function(a,b){return a?b-a.length:void 0},d.convertArrayObjectsStringPropertyToFloat=function(a,b){if(!a||!b)return[];for(var c=0,d=a.length;d>c;c++)for(var e=0,f=b.length;f>e;e++)a[c][b[e]]=parseFloat(a[c][b[e]]);return a},d.convertArrayObjectsPropertyToArray=function(a,b){if("undefined"==typeof a)return[];for(var c=[],d=0,e=a.length;e>d;d++)c.push(a[d][b]);return c},d.mergeTwoArraysOneArraySimpleValues=function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(a[e]+c+b[e]);return d},d.yesNoTrueFalseConversion=function(a){return"Y"===a?!0:!1},d.changeRoute=function(a){c.path(a)},d.colorLuminance=function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e},d.measureLuminance=function(a){var b=a.substring(1),c=parseInt(b,16),d=c>>16&255,e=c>>8&255,f=c>>0&255,g=.2126*d+.7152*e+.0722*f;return g},d.getOffColor=function(a){var b=this.measureLuminance(a);return 215>b?this.colorLuminance(a,-.2):this.colorLuminance(a,.2)},d.getUrl=function(a){var b=this.measureLuminance(a);return 215>b?this.colorLuminance(a,-.2):this.colorLuminance(a,.2)},d.delay=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}(),d.formatErrors=function(a){if(!Array.isArray(a))return a;if(!a||0==a.length)return"";if(1==a.length)return"<span>"+a[0]+"</span>";var b=a.reduce(function(a,b){return a+"<li>"+b+"</li>"},"<ul style='text-align: justify'>");return b+"</ul>"},d.cancelableHttpGet=function(c){var d=b.defer(),e=a({method:"get",url:c,timeout:d.promise}),f=e.then(function(a){return a},function(a){return b.reject(a)});return f.abort=function(){d.resolve()},f["finally"](function(){f.abort=angular.noop,d=e=f=null}),f},d.arrayBufferToString=function(a){for(var b=Array.apply(null,new Uint8Array(a)),c="",d=0,e=b.length;e>d;d++){var f=b[d];c+=String.fromCharCode(f)}return c},d.checkIfObjectWithAttributeExistsInArray=function(a,b,c){var d=a.filter(function(a,d){return parseInt(a[b])===parseInt(c)});return d.length>0},d.moveBetweenWithoutDuplicates=function(a,b,c,e){a.splice(a.indexOf(c),1),d.checkIfObjectWithAttributeExistsInArray(b,e,c[e])||b.push(c)},d.removeObjectsFromArrayOfObjects=function(a,b){var c=b.filter(function(b){for(var c=!1,d=0;d<a.length;d++)if(a[d]===b){c=!0;break}return!c});return c},d.currencyNumberFormat=function(a){var b=Number(a),c=a.split(".");return(1==c.length||c[1].length<3)&&(b=b.toFixed(2)),b},d.parseStringBooleanValues=function(a){try{var b=JSON.stringify(a,function(a,b){return"Y"===b?!0:"N"===b?!1:b});return JSON.parse(b)}catch(c){return{}}},d.parseBooleanToStringValues=function(a){var b=JSON.stringify(a,function(a,b){return b===!0?"Y":b===!1?"N":b});return JSON.parse(b)},d.getRamdomString=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;5>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},d.isSet=function(a){return"undefined"==typeof a?!1:null==a?!1:a.length>0?!0:!1},d.checkAtleastOneArrayInObjectLengthGreaterThanZero=function(a){var b=!1;for(var c in a)a[c].length>0&&(b=!0);return b},d.mergeObject=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c},d.checkIfMerchantIsDuplicated=function(a,b){var c=!1;return d.isEmphy(a)||angular.forEach(a,function(a,d){angular.equals(a.merchant_id,b)&&(c=!0)}),c},d.isEmphy=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},d.dataURItoBlob=function(a,b){var c;c=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):unescape(a.split(",")[1]);for(var d=a.split(",")[0].split(":")[1].split(";")[0],e=new Uint8Array(c.length),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);var g=d.substring(d.lastIndexOf("/")+1);b=b?b+"."+g:"filename."+g;var h=new Blob([e],{type:d,name:b});return h.name=b,h},d.convertObjectToArray=function(a){var b=[];for(var c in a)b.push(a[c]);return b},d.convertArrayToGetList=function(a){for(var b="",c=!0,d=0;d<a.length;d++)c||(b+=","),b+=a[d],c=!1;return b},d.convertObjectToSimpleArray=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d][b]);return c},d.getCurrentTime=function(){var a=new Date,b=a.getHours(),c=a.getMinutes(),d=b>=12?"pm":"am";b%=12,b=b?b:12,c=10>c?"0"+c:c;var e=b+":"+c+" "+d;return e},d.numberWithCommas=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},d.validColorHex=function(a){for(;"#"===a.charAt(0);)a=a.substr(1);return"string"==typeof a&&6===a.length&&!isNaN(parseInt(a,16))},d}]),angular.module("shared").factory("Lookup",["$http",function(a){var b={};return b.singleLookup=function(b){var c=a.get("/lookup/"+b);return c.then(function(a){return a}),c},b.multipleLookup=function(b){var c=a.post("/multi_lookup",b);return c.then(function(a){return a}),c},b.yesNoTrueFalseConversion=function(a){return"Y"===a?!0:!1},b.zeroOneTrueFalseConversion=function(a){return parseInt(a)>0?!0:!1},b}]),angular.module("adminPortal").controller("SideNavController",["$scope","$location","$http","$localStorage","Users","Merchant","Menu","Order",function(a,b,c,d,e,f,g,h){function i(b){$.each(a.parent_nav,function(c,d){c===b?a.parent_nav[b].open=!0:a.parent_nav[c].open=!1})}function j(){"/merchants"===b.path()&&(a.active={},a.active.merchant=!0),b.path().includes("/reports")&&(i("reports_nav"),a.active={},a.active.reports_nav=!0,a.open("reports")),"/merchant/operator_ordering_on_off"===b.path()&&(a.closeSections(),a.active={},a.active.ordering_on_off=!0),b.path().includes("promos")&&(a.closeSections(),a.active={},a.active.marketing=!0,a.open("marketing"))}a.location="home",a.current_merchant=null,a.menu_factory=g,a.order_factory=h,a.user_info=e,a.active={},a.active.merchant=!0,e.getUserSessionInfo().then(function(){a.user_info=e}),a.$on("current_merchant:updated",function(b,c){a.current_merchant=c}),a.parent_nav={merchant:{open:!1},menu:{open:!1},customer_service:{open:!1},reports:{open:!1},brand:{open:!1},marketing:{open:!1}},b.path().includes("merchant")&&!b.path().includes("merchants")&&(a.parent_nav.merchant.open=!0),a.$watch(function(){return f.current_merchant},function(a,b){e.hasPermission("op_merch_select")||a!==b&&i("merchant")}),a.$watch(function(){return g.current_menu},function(a,b){a&&a!==b&&i("menu")}),a.parentLink=function(a){b.path("/"+a)},a.user_name=e.getUserName(),a.closeSections=function(){$.each(a.parent_nav,function(b,c){a.parent_nav[b].open=!1})},a.set_hover=function(b){a.closeSections(),a.set_hover_submenu(b)},a.set_hover_submenu=function(b){a.active={},a.active[b]=!0},a.merchantQuickEditMenu=function(){if(d.currentMerchantSelected){var a=d.currentMerchantSelected;f.setCurrentMerchant(a.merchant_id).then(function(c){b.path("/merchant/"+a.merchant_id+"/medit")})}},a.menuQuickEdit=function(){if(d.currentMenuSelected){var a=d.currentMenuSelected;return"#/menu/"+a.menu_id+"/medit"}return"#/menu/edit"},a.open_brand=function(){a.open("brand")},a.open=function(b){var c=a.parent_nav[b].open;if(a.set_hover(b),i(name),"merchant"===b)a.current_merchant&&!c?i(b):a.current_merchant&&c&&(a.parent_nav[b].open=!1);else if("menu"===b){if(!a.menu_factory)return;a.menu_factory.current_menu&&!c?i(b):a.menu_factory.current_menu&&c&&(a.parent_nav[b].open=!1)}else"customer_service"===b&&(c?a.parent_nav[b].open=!1:i(b));if("reports"===b||"brand"===b){if(!c)return void i(b);a.parent_nav[b].open=!1}if("marketing"===b){if(!c)return void i(b);a.parent_nav[b].open=!1}},a.merchantNavDisplay=function(){if(a.current_merchant){var b=a.current_merchant.name.substring(0,14)+" "+a.current_merchant.merchant_id;return b}return""},a.orderDisplay=function(){if(a.order_factory.current_order&&a.order_factory.current_order.name){var b=a.order_factory.current_order.order_id+" - "+a.order_factory.current_order.name.substring(0,14);return b}return""},a.showOrder=function(){return a.order_factory.current_order?!0:!1},a.init=function(){("/merchants"===b.path()||b.path().includes("merchant"))&&a.set_hover("merchant"),b.path().includes("customer_service")&&(a.set_hover("customer_service"),i("customer_service")),("/menus"===b.path()||b.path().includes("menu"))&&a.set_hover("menu"),("/promos"===b.path()||b.path().includes("promo"))&&a.set_hover("marketing"),("/web_skin/create"===b.path()||b.path().includes("web_skin"))&&a.set_hover("sites"),b.path().includes("/reports")&&a.set_hover("reports_nav"),"/operator/home"===b.path()&&a.set_hover("home"),"/menu/edit"===b.path()&&a.set_hover("menu"),"/operator/order_management"===b.path()&&a.set_hover("order_management"),("/brands"===b.path()||"/brands/"===b.path()||"/brands/merchant_groups"===b.path()||b.path().includes("/brand"))&&a.set_hover("brand")},a.init(),a.$on("$locationChangeSuccess",function(){b.path().includes("menu")||a.menu_factory.resetSelections(),j()}),j()}]),angular.module("shared").controller("NavigationRouteController",NavigationRouteController),angular.module("shared").controller("TopBarController",["$scope","$location","$http",function(a,b,c){c.get("/merchant/get_current").then(function(b){a.current_merchant_id=b.data})}]),angular.module("shared").factory("SweetAlert",["$window","$rootScope",function(a,b){function c(a,c){return c&&c instanceof Function?d.swal(a).then(function(){b.$evalAsync(function(){c(!0)})},function(){b.$evalAsync(function(){c(!1)})}):d.swal(a)}var d=a;return{swal:c}}]),angular.module("shared").filter("toDate",toDateFilter),angular.module("shared").service("MerchantGroup",MerchantGroup),angular.module("shared").directive("backButton",function(){return{restrict:"A",link:function(a,b,c){function d(){history.back(),a.$apply()}b.bind("click",d)}}}),angular.module("adminPortal.operator",["ui.bootstrap","ngRoute","ngAnimate"]),angular.module("adminPortal.operator").config(["$routeProvider",function(a){a.when("/operator/order_management",{templateUrl:"modules/operator/order-management/operator-order-management.html",controller:"OrderManagementCtrl",controllerAs:"om",section:"operator"}).when("/operator/home",{templateUrl:"modules/operator/operator-home/operator-home.html",controller:"OperatorHomeCtrl",controllerAs:"oh",section:"operator"})}]),angular.module("adminPortal.operator").controller("OrderManagementCtrl",OrderManagementCtrl),angular.module("adminPortal.operator").controller("OperatorHomeCtrl",OperatorHomeCtrl),angular.module("shared").directive("ngEnter",ngEnter),angular.module("shared").service("EmbeddedMerchantSearch",EmbeddedMerchantSearch),angular.module("shared").service("Operator",Operator),function(){"use strict";angular.module("shared").directive("dateRangeToFromPicker",function(){var a=function(a){function b(){$(function(){$("#from_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions}),$("#to_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions,useCurrent:!1}),$("#from_date").on("dp.change",function(b){a.startDate=b.date,a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})}),$("#to_date").on("dp.change",function(b){a.endDate=b.date,a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})})})}a.startDate=void 0,a.endDate=void 0,a.dateOptions={},a.dateFormat=a.dateFormat||"MM/DD/YYYY",a.iconOptions={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-plus",down:"fa fa-minus",next:"fa fa-chevron-right",previous:"fa fa-chevron-left"},a.maxPeriodRange=90,b(),a.onPeriodChange=function(){a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})},a.onPeriodChange(),a.dateOptions.setDates=function(b,c){if("undefined"!=typeof b){var d=new Date(b),e=new Date(c);$("#from_date").data("DateTimePicker").date(d),$("#to_date").data("DateTimePicker").date(e)}$(function(){$("#from_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions}),$("#to_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions,useCurrent:!1}),$("#from_date").on("dp.change",function(b){a.startDate=b.date,a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})}),$("#to_date").on("dp.change",function(b){a.endDate=b.date,a.onPeriodChanged({startDate:a.startDate,endDate:a.endDate})})})}};return a.$inject=["$scope"],{restrict:"EA",replace:!0,scope:{onPeriodChanged:"&",dateOptions:"=",dateFormat:"@",savedStartDate:"=",savedEndDate:"=",loadedDates:"="},templateUrl:"modules/shared/directive/date-range-to-from-picker/date-range-to-from-picker.html",
controller:a,link:function(a,b,c,d){}}})}(),function(){"use strict";angular.module("shared").directive("dateSinglePicker",function(){var a=function(a){function b(){$(function(){$("#set_date").datetimepicker({format:a.dateFormat,icons:a.iconOptions}),$("#set_date").on("dp.change",function(b){a.startDate=b.date,a.onDateChanged({startDate:a.startDate})})})}a.current_date=moment().format("MM/DD/YYYY"),a.startDate=moment().toDate(),a.dateFormat=a.dateFormat||"MM/DD/YYYY",a.iconOptions={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-plus",down:"fa fa-minus",next:"fa fa-chevron-right",previous:"fa fa-chevron-left"},b(),a.onDateChange=function(){a.onDateChanged({startDate:a.startDate})},a.onDateChange()};return a.$inject=["$scope"],{restrict:"EA",replace:!0,scope:{onDateChanged:"&",new_hours_date:"@"},templateUrl:"modules/shared/directive/date-single-picker/date-single-picker.html",controller:a,link:function(a,b,c,d){}}})}(),angular.module("shared").directive("merchantSelector",function(){var a=function(a,b,c){a.merchant_search_service=c,a.merchant_search_service.selectable_merchants=[],a.merchant_search_service.selected_merchants=[],a.propagate_options=[{code:"master_only",desc:"Master Menu Only"},{code:"All",desc:"All Merchants"},{code:"subset",desc:"Some Merchants"},{code:"group",desc:"Some Merchants"}],a.selectMerchantOpacityFifty=function(){return"subset"===a.merchant_search_service.propagate_type?"":"fifty-opacity"},a.propertyName="name",a.reverse=!1,a.sortBy=function(b){a.reverse=a.propertyName===b?!a.reverse:!1,a.propertyName=b},a.$watch("autoSearch",function(){a.autoSearch&&a.autoSearch===!0&&(a.merchant_search_service.search_url="merchant_search",a.merchant_search_service.merchantSearch())})};return a.$inject=["$scope","UtilityService","EmbeddedMerchantSearch"],{restrict:"EA",replace:!0,scope:{closeMerchantSelect:"&",allOption:"&",masterOnly:"&",propationOptions:"=",autoSearch:"=?"},templateUrl:"modules/shared/directive/merchant-selector/merchant-selector.html",controller:a,link:function(a,b,c,d){}}}),angular.module("shared").directive("merchantSingleSelector",function(){var a=function(a,b,c,d){a.search={},a.search_results=[],a.search.processing=!1,a.merchantSearch=function(){return a.search.processing=!0,a.searchFunction?void a.searchFunction(a.search.text).success(function(b){a.search_results=b,a.search.processing=!1}):void c.post("/merchant_search",{search_text:a.search.text}).success(function(b){a.search_results=b,a.search.processing=!1})},a.setMerchant=function(b){d.quick_edit_merchant_id=b.merchant_id,d.quick_edit_merchant=b,a.closeMerchantSelect()},a.autoSubmit&&(a.autoSearchVariable?a.merchantSearch(a.autoSearchVariable):a.merchantSearch())};return a.$inject=["$scope","UtilityService","$http","Menu"],{restrict:"E",replace:!0,scope:{closeMerchantSelect:"&",selectedMerchantId:"=",searchFunction:"=?",autoSubmit:"=?",autoSearchVariable:"=?"},templateUrl:"modules/shared/directive/merchant-single-selector/merchant-single-selector.html",controller:a,link:function(a,b,c,d){}}}),angular.module("shared").directive("merchantOperatorSelector",function(){var a=function(a,b,c,d,e,f){a.search={},a.search_results=[],a.search.processing=!1,a.operator_factory=e,a.merchantSearch=function(){a.search.processing=!0,c.post("/merchant_search",{search_text:a.search.text}).success(function(b){a.search_results=b,a.search.processing=!1})},a.setMerchant=function(a){d.setCurrentMerchant(a.merchant_id),f.operator_merchant=a,$("#merchant-operator-select-modal").modal("toggle")},e.getMultiOperatorMerchants()};return a.$inject=["$scope","UtilityService","$http","Merchant","Operator","Users"],{restrict:"E",replace:!0,scope:{closeMerchantSelect:"&",selectedMerchantId:"="},templateUrl:"modules/shared/directive/merchant-operator-selector/merchant-operator-selector.html",controller:a,link:function(a,b,c,d){}}}),angular.module("shared").directive("modalPicker",function(){return{restrict:"E",replace:!0,scope:{selection_title:"=modalSelectionTitle",selected_title:"=modalSelectedTitle",header:"=modalHeader",body:"=modalBody",footer:"=modalFooter",callbackbuttonleft:"&ngClickLeftButton",callbackbuttonright:"&ngClickRightButton",handler:"=modalName",maximum_selection_permitted:"=modalMaximumSelectionPermitted",selected_values:"=modalSelectedValues",selectable:"=?modalSelectableValues",row_id:"=modalRowId",search_function:"=modalSearchFunction",table_headers:"=modalTableHeaders",table_fields:"=modalTableFields",disable_search_field:"=?disableSearchField",init_value_search:"=?initValueSearch"},templateUrl:"modules/shared/directive/modal-picker/modal-picker.html",transclude:!0,link:function(a,b,c,d){function e(a){return!isNaN(parseFloat(a))&&isFinite(a)}function f(a,b){return a.includes(b)}function g(a,b){var c=a.indexOf(b);a.splice(c,1)}function h(a,b,c){var d=!1;return a.forEach(function(e){b&&e[b]&&c[b]?e[b]===c[b]&&(d=!0):f(a,c)&&(d=!0)}),d}a.search_processing=!1,a.selectable=[],a.disable_search_field&&a.init_value_search&&a.search_function&&(a.search_processing=!0,a.search_function(a.init_value_search).success(function(b){a.selectable=b,a.search_processing=!1})),a.selected_values&&void 0!==a.selected_values||(a.selected_values=[]),a.search_text="",a.search=function(){a.search_processing=!0,a.search_function(a.search_text).success(function(b){a.selectable=b,a.search_processing=!1})},a.add=function(b){a.maximum_selection_permitted&&e(a.maximum_selection_permitted)&&a.selected_values.length>=a.maximum_selection_permitted||h(a.selected_values,a.row_id,b)||(g(a.selectable,b),a.selected_values.push(b))},a.remove=function(b){h(a.selectable,a.row_id,b)||a.selectable.push(b),g(a.selected_values,b)}}}}),angular.module("shared").directive("modalMenuPicker",["Menu",function(a){return{restrict:"E",replace:!0,scope:{body:"=modalBody",footer:"=modalFooter",callbackbuttonleft:"&ngClickLeftButton",callbackbuttonright:"&ngClickRightButton",handler:"=modalName",selected_values:"=?modalSelectedValues",selectable:"=modalSelectableValues",search_function:"=?modalSearchFunction",autoLoad:"=?modalAutoLoad"},templateUrl:"modules/shared/directive/modal-menu-picker/modal-menu-picker.html",transclude:!0,link:function(b,c,d,e){function f(a){var c;return c=b.selected_values.find(function(b){return b.menu_id===a.menu_id}),c?!1:!0}function g(a){return b.selected_values.find(function(b){return b.menu_id===a.menu_id})}function h(a){if(a.pivot&&a.pivot.merchant_menu_type&&"both"===a.pivot.merchant_menu_type){var c;do c=b.selected_values.find(function(b){return b.menu_id===a.menu_id&&"both"!==b.pivot.merchant_menu_type}),c&&j(b.selected_values,c),console.log(c);while(c)}}function i(a,b){return a.includes(b)}function j(a,b){var c=a.indexOf(b);a.splice(c,1)}function k(a,b,c){var d=!1;return a.forEach(function(e){b&&e[b]&&c[b]?e[b]===c[b]&&(d=!0):i(a,c)&&(d=!0)}),d}b.search_processing=!1,b.selectable=[],b.search_text="",b.select_options=["pickup","delivery","both"],b.current_menu_type=b.select_options[0],b.selected_values&&void 0!==b.selected_values||(b.selected_values=[]),b.search_function&&void 0!==b.search_function||(b.search_function=a.getMenuList),b.search=function(){b.search_processing=!0,b.search_function(b.search_text).then(function(a){b.selectable=a,b.search_processing=!1})},b.add=function(a,c){a.pivot={},a.pivot.merchant_menu_type=c,b.selected_values.length>0&&(g(a)||f(a))||(h(a),j(b.selectable,a),b.selected_values.push(a))},b.remove=function(a){k(b.selectable,"menu_id",a)||b.selectable.push(a),j(b.selected_values,a)},b.autoLoad&&b.search()}}}]),angular.module("adminPortal.user").controller("UserResetCtrl",["UserReset","SweetAlert","$location",function(a,b,c){function d(){return e.form.$valid!==!1&&e.email?(e.processing=!0,e.errors={},void a.postEmailToReset(e.email).success(function(a){e.processing=!1,e.submit_errors=!1,b.swal({title:"The request was accepted.",html:a,type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){c.path("/")})})["catch"](function(a){e.errors=a.data.errors,e.processing=!1,e.submit_errors=!1})):void(e.submit_errors=!0)}var e=this;e.email="",e.submit_errors=!1,e.processing=!1,e.errors={},e.submitResetPassword=d}]),angular.module("adminPortal.user").factory("UserReset",["$http",function(a){var b={};return b.postEmailToReset=function(b){return a.post("/password/email",{email:b}).success(function(a){return a})},b.postResetParams=function(b,c,d,e){return a.post("password/reset",{email:b,password:c,password_confirmation:d,token:e}).success(function(a){return a})},b}]),angular.module("adminPortal.user").controller("UserResetFormCtrl",["UserReset","$routeParams","SweetAlert","$location",function(a,b,c,d){function e(){return f.form.$valid!==!1&&f.email?(f.processing=!0,f.errors={},void a.postResetParams(f.email,f.password,f.password_confirmation,f.token).success(function(a){f.processing=!1,f.submit_errors=!1,"create"===f.method&&(a="Your account is ready to use."),c.swal({title:"Success.",html:a,type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"OK"},function(){d.path("/")})})["catch"](function(a){f.errors=a.data,f.processing=!1,f.submit_errors=!1})):void(f.submit_errors=!0)}var f=this;f.email="",f.password="",f.submit_errors=!1,f.processing=!1,f.errors={},f.token=b.token,f.method=b.method,f.password_confirmation="",f.submitResetPassword=e}]),angular.module("shared").directive("currencyFormat",["$filter",function(a){return{scope:{amount:"="},require:"ngModel",link:function(b,c,d,e){function f(a){var b=a.replace(/[^\d+(\.\d{1,2})?$]/g,"");return b!==a&&(e.$setViewValue(b),e.$render()),b}"undefined"==typeof b.amount&&(b.amount="0"),c.val(a("currency")(b.amount)),c.bind("focus",function(){c.val(b.amount)}),c.bind("input",function(){b.amount=c.val(),b.$apply()}),c.bind("blur",function(){c.val(a("currency")(b.amount))}),b.$watch(d.ngModel,function(d){isNaN(b.amount)&&(b.amount=0),c.val(a("currency")(b.amount))}),e.$parsers.push(f)}}}]),angular.module("adminPortal.merchant").directive("leadTimeModal",function(){return{restrict:"E",replace:!0,scope:{handlerName:"=",headerTitle:"=?",currentLeadTimeSelected:"=?",formModel:"=?",submitButton:"&?",cancelButton:"&?"},templateUrl:"modules/merchant/directive/lead-time-modal/lead-time-modal.html",link:function(a,b,c,d){a.formModel&&(a.formModel=a.holiday_form),a.weekDay=[{id:"2",name:"Monday"},{id:"3",name:"Tuesday"},{id:"4",name:"Wednesday"},{id:"5",name:"Thursday"},{id:"6",name:"Friday"},{id:"7",name:"Saturday"},{id:"1",name:"Sunday"}],a.type=[{id:"R",name:"Pickup"},{id:"D",name:"Delivery"}]}}}),angular.module("shared").filter("stringTimeToDate",function(){return function(a,b){return a?moment(a,"HH:mm:ss").toDate():a}}),angular.module("shared").filter("numberToDayOfWeek",function(){return function(a,b){if(!a)return a;switch(Number(a)){case 1:return"Sunday";case 2:return"Monday";case 3:return"Tuesday";case 4:return"Wednesday";case 5:return"Thursday";case 6:return"Friday";case 7:return"Saturday"}return a}}),angular.module("adminPortal.brand").controller("BrandListCtrl",["Brands","UtilityService","$location","SweetAlert",function(a,b,c,d){var e=this;e.processing=!1,e.recently_visited=[],e.search_result=[],e.search_text="",e.first_search=!1,e.isUserOperator=function(){},e.brandsSearch=function(){e.processing=!0,a.searchBrands(e.search_text).success(function(a){e.first_search=!0,e.search_result=a.brands,e.processing=!1}).error(function(a,b){e.processing=!1,d.swal({title:"Warning",text:"Sorry, your search timed out. Please try again.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Ok"})})};var f;e.currentLetter=function(a){return a===f?"alphabet-active":"alphabet"},e.brandLetter=function(b){e.search_text=b,f!==b&&(f=b,e.result_merchants=[],e.processing=!0,a.getBrandsWithFirstLetter(b).success(function(a){e.first_search=!0,e.search_result=a.brands,e.processing=!1}))},e.hasSearchResult=function(){},e.viewRecentlyVisited=function(){},e.editModalName="editModal1",e.current_brand_selected={},e.viewBrand=function(d){e.current_brand_selected=b.parseStringBooleanValues(d),a.currentBrandSelected=e.current_brand_selected,c.path("/brand")},e.submitEditBrand=function(){$("#"+e.editModalName).modal("hide"),e.current_brand_selected=b.parseBooleanToStringValues(e.current_brand_selected),e.processing=!0,a.editBrand(e.current_brand_selected.brand_id,e.current_brand_selected).success(function(a){e.current_brand_selected=a.brand,e.search_result.forEach(function(b,c){b.brand_id===a.brand.brand_id&&(e.search_result[c]=a.brand)}),e.processing=!1})},e.brandsSearch()}]),angular.module("adminPortal.brand").controller("MerchantGroupsCtrl",["$location","$http","SweetAlert",function(a,b,c){function d(){b.get("merchant_group").then(function(a){i.results=a.data})}function e(){a.path("brands/merchant_groups_create")}function f(c){b.get("merchant_group/set_current/"+c.id).then(function(b){a.path("brands/merchant_groups_edit")})}function g(a,d){c.swal({title:"Warning",text:"Are you sure you want to delete the merchant group "+a.id+" - "+a.name+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(c){c&&b["delete"]("merchant_group/"+a.id).then(function(a){i.results.splice(d,1)})})}function h(){i.search.text=i.search.text?i.search.text:"",b.post("merchant_group/search",{search_text:i.search.text}).then(function(a){i.results=a.data})}var i=this;i.results=[],i.createMerchantGroup=e,i.deleteMerchantGroupDialog=g,i.editMerchantGroup=f,i.search=h,i.search.text="",d()}]),angular.module("adminPortal.brand").controller("MerchantGroupsCreateCtrl",["$scope","EmbeddedMerchantSearch","$http","MerchantGroup","SweetAlert","$location",function(a,b,c,d,e,f){function g(a,b){return b==a?"btn-success":"btn-default"}function h(){k.new_merchant_group.merchants=b.selected_merchants,console.log(k.new_merchant_group.merchants)}function i(){k.new_merchant_group.groups=d.selected_merchant_groups}function j(){c.post("/merchant_group",k.new_merchant_group).success(function(a){k.new_merchant_group.processing=!1,k.new_merchant_group.submit=!1,e.swal({title:"The new "+k.new_merchant_group.name+" merchant group has been created!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great!"},function(){f.path("merchant_groups")})})["catch"](function(a){k.new_merchant_group.processing=!1,k.new_merchant_group.submit=!1,k.error=!0})}var k=this;k.new_merchant_group={},k.new_merchant_group.type="merchant",b.search_url="merchant_search",k.groupTypeClass=g,k.setMerchants=h,k.setGroups=i,k.create=j,b.merchantSearch(),d.merchantGroupSearch()}]),angular.module("adminPortal.brand").controller("MerchantGroupsEditCtrl",["$scope","EmbeddedMerchantSearch","$http","MerchantGroup","SweetAlert","$location",function(a,b,c,d,e,f){function g(){c.get("/merchant_group/get_current").success(function(a){b.selected_merchants=a.merchants,k.edit_merchant_group=a.merchant_group,d.selected_merchant_groups=a.groups,b.merchantSearch(),d.merchantGroupSearch()})}function h(){k.edit_merchant_group.merchants=b.selected_merchants}function i(){k.edit_merchant_group.groups=d.selected_merchant_groups}function j(){c.put("merchant_group/update",k.edit_merchant_group).success(function(a){k.edit_merchant_group.processing=!1,k.edit_merchant_group.submit=!1,e.swal({title:"The merchant group "+k.edit_merchant_group.name+" has been updated!",type:"success",showCancelButton:!1,confirmButtonColor:"#488214",confirmButtonText:"Great!"},function(){f.path("brands/merchant_groups")})})["catch"](function(a){k.edit_merchant_group.processing=!1,k.edit_merchant_group.submit=!1,k.error=!0})}var k=this;k.edit_merchant_group={},k.edit_merchant_group.type="merchant",b.search_url="merchant_search",k.embeddedMerchantSearch=b,k.merchantGroupFactory=d,k.setMerchants=h,k.setGroups=i,k.updateMerchantGroup=j,g()}]),angular.module("shared").directive("merchantGroupSelector",function(){var a=function(a,b,c){a.group_select_service=c,c.merchantGroupSearch(),a.propertyName="name",a.reverse=!1,a.sortBy=function(b){a.reverse=a.propertyName===b?!a.reverse:!1,a.propertyName=b}};return a.$inject=["$scope","$http","MerchantGroup"],{restrict:"EA",replace:!0,scope:{closeMerchantGroupSelect:"&"},templateUrl:"modules/shared/directive/merchant-group-selector/merchant-group-selector.html",controller:a,link:function(a,b,c,d){}}}),angular.module("shared").directive("validateMax",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d,e){var f=function(){var a=parseFloat(c.max);a>=parseFloat(d.$modelValue)?d.$setValidity("invalidMaxValue",!0):d.$setValidity("invalidMaxValue",!1)};b.bind("change",f)}}}),angular.module("adminPortal.brand").controller("BrandEditCtrl",["Brands","UtilityService",function(a,b){function c(){var c=a.currentBrandSelected;return c?(f.brandModel=c,void(f.processing=!1)):void a.getCurrentBrand().success(function(a){f.brandModel=b.parseStringBooleanValues(a.brand),f.processing=!1})["catch"](function(a){f.error=!0,f.errorMessage="The brand does not exist.",f.processing=!1})}function d(){var c=b.parseBooleanToStringValues(f.brandModel);f.error=!1,f.processing=!0,a.editBrand(c.brand_id,c).success(function(a){f.processing=!1})["catch"](function(){f.error=!0,f.errorMessage="Something went wrong, Please try again."})}function e(){if(!f.brandModel.default_url_customized){var a=f.brandModel.brand_name.replace(/\W/g,"");f.brandModel.default_url=a+".splickit.com"}}var f=this;f.processing=!0,f.brandModel={},f.brand_id=void 0,f.brandModel.default_url_customized=!1,f.error=!1,f.submitButton=d,f.updateDefaultUrl=e,c()}]),angular.module("shared").directive("paginatorButtons",function(){return{restrict:"E",replace:!0,scope:{paginatedResult:"=",processing:"=?",params:"=?"},templateUrl:"modules/shared/directive/paginator-buttons/paginator-buttons.html",bindToController:!0,link:function(a,b,c,d){},controller:["$http","$scope","$location",function(a,b,c){function d(b){a.get(k(b)).success(function(a){n.paginatedResult=a,n.processing=!1})}function e(a){i(a)}function f(){n.paginatedResult&&n.paginatedResult.next_page_url&&(n.processing=!0,d(n.paginatedResult.next_page_url))}function g(){n.paginatedResult&&n.paginatedResult.prev_page_url&&(n.processing=!0,d(n.paginatedResult.prev_page_url))}function h(){i("1")}function i(a){if(n.paginatedResult&&(n.paginatedResult.prev_page_url||n.paginatedResult.next_page_url)){n.processing=!0;var b=m(n.paginatedResult.prev_page_url,n.paginatedResult.next_page_url,a);d(b)}else j(n.paginatedResult.data,n.params.order_by,n.params.order_direction)}function j(a,b,c){return a.sort(function(a,d){var e=a[b],f=d[b];return c===!0?e>f?-1:f>e?1:0:f>e?-1:e>f?1:0})}function k(a){try{if(n.params){a=new URL(a);var b=a.search,c=new URLSearchParams(b);for(var d in n.params)n.params.hasOwnProperty(d)&&c.set(d,n.params[d]);return a.search=c.toString(),a.toString()}return a}catch(e){return a}}function l(){return"/promos"==c.path()?!1:!0}function m(a,b,c){try{var d;a&&(d=new URL(a)),b&&(d=new URL(b));var e=d.search,f=new URLSearchParams(e);return f.set("page",c),d.search=f.toString(),d.toString()}catch(g){return""}}var n=this;n.reverse=!1,n.goNextPage=f,n.goPreviousPage=g,n.goFirstPage=h,n.goToPage=e,n.showCountValues=l,b.$on("order_by",function(a,b){n.paginatedResult&&n.paginatedResult.current_page&&!n.processing&&(n.params=b,i(n.paginatedResult.current_page))})}],controllerAs:"vm"}}),angular.module("shared").directive("paginatedTable",function(){return{restrict:"E",replace:!0,scope:{containerId:"=?",paginatedResult:"=?",order_by:"=?",params:"=",viewItem:"=",fieldNames:"=",clickEvent:"=?",endpointString:"=?"},templateUrl:"modules/shared/directive/paginated-table/paginated-table.html",bindToController:!0,transclude:{contentResponsive:"?contentResponsive"},link:function(a,b,c,d){},controller:["$scope","$http","$timeout","SweetAlert",function(a,b,c,d){function e(a){h.clickEvent&&h.clickEvent(a)}function f(b){h.reverse=h.order_by===b?!h.reverse:!1,h.order_by=b;var c=h.params?h.params:{};c.order_by=h.order_by,c.order_direction=h.reverse,a.$broadcast("order_by",c)}function g(a,b,c){var d=new RegExp("([?&])"+b+"=.*?(&|$)","i"),e=-1!==a.indexOf("?")?"&":"?";return a.match(d)?a.replace(d,"$1"+b+"="+encodeURI(c)+"$2"):a+e+b+"="+c}var h=this;h.reverse=!1,h.orderByChange=f,h.clickItem=e,h.paginatedResult||(h.paginatedResult={});var i,j=100;a.$watch("vm.params",function(a,e){c.cancel(i),i=c(function(){if(h.endpointString&&h.params){if("/user_search"==h.endpointString&&""==h.params.search_text)return;var a=h.endpointString;for(var c in h.params)h.params.hasOwnProperty(c)&&(a=g(a,c,h.params[c]));h.processing=!0,b.get(a).success(function(a){h.processing=!1,a.data&&(h.paginatedResult=a)}).error(function(a,b){h.processing=!1,("/user_search"==h.endpointString||"/orders_search"==h.endpointString)&&d.swal({title:"Warning",text:"Sorry, your search timed out. Please try again.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Ok"})})}},j)})}],controllerAs:"vm"}}),angular.module("adminPortal.merchant").controller("MerchantCateringCtrl",MerchantCateringCtrl),angular.module("adminPortal.merchant").factory("MerchantCatering",["$http",function(a){var b={};return b.getCateringConfiguration=function(){return a.get("/merchant/catering")},b.saveCateringConfiguration=function(b){return a.post("/merchant/catering",b)},b}]),angular.module("adminPortal.merchant").controller("MerchantStatementsCtrl",MerchantStatementsCtrl),angular.module("adminPortal.merchant").factory("StatementService",["$http","$window",function(a,b){var c={};return c.getAllStatements=function(){return a.get("/statements")},c.exportStatement=function(b){var c="/statements/export";return a.get(c,{params:b})},c.exportReportStatement=function(b){var c="/reports/statements/export";return a.get(c,{params:b})},c}]),function(){"use strict";function a(a,b,c,d,e){function f(b){b?(l.fileError=!1,l.licenseFileRequest&&(l.licenseFile=b),l.voidedCheckFileRequest&&(l.voidedCheckFile=b),l.fileUploading=!0,a.uploadOwnerDocumentation(l.licenseFile,l.voidedCheckFile).success(function(a){"undefined"!=typeof a.primary_owner_void_check_url&&(l.business_info.primary_owner_void_check_url=a.primary_owner_void_check_url),"undefined"!=typeof a.primary_owner_drivers_license_url&&(l.business_info.primary_owner_drivers_license_url=a.primary_owner_drivers_license_url),l.fileUploading=!1,l.uploadSuccess=!0,l.licenseFile=void 0,l.voidedCheckFile=void 0,$("#upload-modal").modal("hide"),d(function(){l.uploadSuccess=!1},3e3)}).error(function(a,b){console.log(a),l.uploadFail=!0})):l.fileError=!0}function g(){l.loadingBusinessInfo=!0,l.loadingOwnerInfo=!0,c.multipleLookup(["state"]).success(function(a){l.states=a.state}).error(function(a,b){console.log(a)}),a.getPaymentInformation().success(function(a){l.initial_submission=a.initial_submission,l.business_info=b.parseStringBooleanValues(a.payment_service_owner),l.owner_info=b.parseStringBooleanValues(a.payment_service_owner),l.business_info.primary_owner_dob&&(l.business_info.primary_owner_dob=moment(l.business_info.primary_owner_dob,"YYYY-MM-DD").toDate()),l.loadingBusinessInfo=!1,l.loadingOwnerInfo=!1}).error(function(a,b){console.log(a)})}function h(){l.business_form.$valid&&(l.business_info.primary_owner_ssn=l.business_info.primary_owner_ssn.replace(/\D+/g,""),l.business_info.fed_tax_id=l.business_info.fed_tax_id.replace(/\D+/g,""),a.submitBusinessInformation(l.business_info).success(function(a){l.business_info=b.parseStringBooleanValues(a),l.initial_submission=!1,l.businessInformationUpdatedSuccesfully=!0,l.businessInformationUpdatedSuccesfully=!0,d(function(){l.businessInformationUpdatedSuccesfully=!1,l.business_info.successful_api_upload=!0},3e3)}).error(function(a,b){console.log(a)}))}function i(){l.uploadFail=!1,l.business_form.$valid&&l.business_info.form_agreement&&a.submitOwnerInformation(l.business_info).success(function(a){l.business_info=b.parseStringBooleanValues(a.payment_application),l.business_info.primary_owner_dob&&(l.business_info.primary_owner_dob=moment(l.business_info.primary_owner_dob,"YYYY-MM-DD").toDate()),"undefined"==typeof a.smaw_response.error_messages?e.swal({title:"Payment Services Response",text:a.smaw_response.user_message,type:"info",confirmButtonColor:"#0288D1",confirmButtonText:"OK"}):e.swal({title:"Payment Services Response",text:a.smaw_response.error_message,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}).error(function(a,b){console.log(a)})}function j(){l.licenseFileRequest=!0,l.voidedCheckFileRequest=!1,$("#upload-modal").modal("show")}function k(){l.licenseFileRequest=!1,l.voidedCheckFileRequest=!0,$("#upload-modal").modal("show")}var l=this;l.isValidLogo=f,l.uploadFileLicense=j,l.uploadFileVoidedCheck=k,l.updateBusinessInformation=h,l.updateOwnerInformation=i,l.fileError=!1,l.licenseFile=void 0,l.voidedCheckFile=void 0,l.licenseFileRequest=!1,l.voidedCheckFileRequest=!1,l.businessInformationUpdatedSuccesfully=!1,l.loadingBusinessInfo=!1,l.loadingOwnerInfo=!1,l.fileUploading=!1,l.uploadSuccess=!1,l.uploadFail=!1,l.initial_submission=!1,l.form_agreement_opened=!1,l.account_type_personal_business=[{code:"personal",desc:"Personal"},{code:"business",desc:"Business"}],l.account_type_checking_savings=[{code:"checking",desc:"Checking"},{code:"savings",desc:"Savings"}],g()}a.$inject=["PaymentService","UtilityService","Lookup","$timeout","SweetAlert"],angular.module("adminPortal.merchant").controller("PaymentServicesCtrl",a)}(),angular.module("adminPortal.merchant").factory("PaymentService",["$http",function(a){var b={};return b.getPaymentInformation=function(){return a.get("/merchant/payment")},b.submitBusinessInformation=function(b){return a.post("/merchant/payment/business_information",b)},b.submitOwnerInformation=function(b){return a.post("/merchant/payment/owner_information",b)},b.uploadOwnerDocumentation=function(b,c){return a({method:"POST",url:"/merchant/payment/owner/upload",headers:{"Content-Type":void 0},data:{licenseFile:b,voidedCheckFile:c},transformRequest:function(a,b){var c=new FormData;return angular.forEach(a,function(a,b){c.append(b,a)}),c}})},b}]),angular.module("adminPortal.promo").controller("LoyaltyConfigurationCtrl",LoyaltyConfigurationCtrl),angular.module("adminPortal.promo").factory("Loyalty",["$http",function(a){var b={};return b.uploadLogo=function(b,c){return a({method:"POST",url:"/loyalty/upload/logo",headers:{"Content-Type":void 0},data:{brand_id:c,file:b},transformRequest:function(a,b){var c=new FormData;return angular.forEach(a,function(a,b){c.append(b,a)}),c}})},b.setLoyaltyStatus=function(b,c){return b=b===!0?"Y":"N",a.post("/loyalty/status",{loyalty:b,brand_id:c})},b.getBrands=function(){return a.get("/brands")},b.getBrandConfiguration=function(b){return a.get("/brands/"+b+"/loyalty")},b.setBrandConfiguration=function(b,c){return a.post("/brands/"+b+"/loyalty",c)},b.setBonusPointsDays=function(b,c){return a.post("/brands/"+b+"/bonus_points_day",c)},b.deleteBonusPointsDays=function(b,c){return a["delete"]("/brands/"+b+"/bonus_points_day/"+c)},b}]),angular.module("adminPortal.customerService").controller("CustomerServiceTbdCtrl",CustomerServiceTbdCtrl),angular.module("shared").filter("dayOfWeekFormatter",function(){var a={2:"Monday",3:"Tuesday",4:"Wednesday",5:"Thursday",6:"Friday",7:"Saturday",1:"Sunday"};return function(b,c){return a[b]?a[b]:b}}),angular.module("adminPortal.customerService").controller("FutureOrdersCtrl",FutureOrdersCtrl),function(){function a(a,b,c,d,e){function f(){b.getUserSessionInfo().then(function(a){"brand"===b.visibility&&(l.filter_type="brand",l.brand_filter=l.usersService.user_related_data.brand_id,l.custom_brand_filter=l.usersService.user_related_data.brand_id),"operator"===b.visibility&&(l.filter_type="merchant",l.custom_reports_filter_type="merchant",l.merchant_search.selected_merchants=[l.usersService.operator_merchant])})}function g(){l.merchant_subset?l.filter_type="merchant":l.filter_type="brand"}function h(a){return l.filter_type===a?"btn-success":"btn-default"}function i(){l.processing=!0;var b={},c="overview";if(l.loading_main_reports=!0,"brand"===l.filter_type)b={brand_id:l.brand_filter};else{var e=d.convertArrayObjectsPropertyToArray(l.merchant_search.selected_merchants,"merchant_id");b={merchants:e}}b.time_range=l.current_time_period,l.summary=void 0,a.post(c,b).success(function(a){l.initial_reports_load=!0,l.summary=a.summary,l.summary_secondary=a.summary_secondary;var b=a;j(b.labels,b.chart_values,b.device_sales.labels,b.device_sales.sales,b.item_sales,b.user_sales,b.pickup_delivery.labels,b.pickup_delivery.chart_values,b.day_of_week.labels,b.day_of_week.sales),l.loading_main_reports=!1,l.processing=!1}).error(function(a){console.log(a),l.processing=!1})}function j(a,b,c,d,e,f,g,h,i,j){l.labels_hours=a,l.sales=b,l.device_labels=c,l.device_counts=d,l.pickup_delivery_labels=g,l.pickup_delivery_counts=h,l.user_leaders=f,l.item_leaders=e,l.day_of_week_labels=i,l.day_of_week_sales=j,l.day_of_week_sales.series=["Sales"],l.series=["Sales","Orders Count"],l.onClick=function(a,b){},l.datasetOverride=[{yAxisID:"y-axis-1"},{yAxisID:"y-axis-2"}],l.options={scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"},{id:"y-axis-2",type:"linear",display:!0,position:"right"}]},legend:{display:!0,lables:{fontColor:"#ffffff"}}},l.default_report_options={legend:{display:!0}}}function k(){return l.loading_main_reports?"fifty-opacity":""}var l=this;l.summary=void 0,l.merchant_search=e,l.usersService=b,l.utilityService=d,l.filter_type="brand",l.time_periods=a.time_periods,l.current_time_period="today",l.merchant_subset=!1,l.merchant_open_source="",l.initial_reports_load=!1,l.loading_main_reports=!1,l.line_sales_series=["$ Sales","Transactions"],l.bar_sales_series=["$ Total Daily Sales"],l.processing=!1,l.filterTypeClass=h,l.fiftyOpacityOffset=k,l.merchantSubsetChange=g,l.runGraphReports=i,f()}a.$inject=["Reports","Users","Brands","UtilityService","EmbeddedMerchantSearch"],angular.module("adminPortal.reports").component("overviewComponent",{templateUrl:"modules/reports/components/overview-component/overview-component.html",controllerAs:"vm",bindings:{brands:"<"},controller:a})}(),function(){function a(a,b,c,d){var e=this;e.reports_group_by_selections=c,e.utility=d,e.selectedReportType={desc:"Transactions",key:"transactions",retrieveData:b.getTransactions,exportReport:b.exportTransactionsReport,selectedOrderBy:null,columns:[{title:"Total Orders",key:"total_orders",align:"right",filter:a.filterNone},{title:"Pickup Orders",key:"pickup_orders",align:"right",filter:a.filterNone},{title:"Delivery Orders",key:"delivery_orders",align:"right",filter:a.filterNone},{title:"Order Amount",key:"order_amount",align:"right",filter:a.filterNone},{title:"Tip",key:"tip",align:"right",filter:a.filterNone},{title:"Tax",key:"tax",align:"right",filter:a.filterNone},{title:"Discount",key:"discount",align:"right",filter:a.filterNone},{title:"Delivery Fee",key:"delivery_fee",align:"right",filter:a.filterNone},{title:"Grand Total",key:"grand_total",align:"right",filter:a.filterNone},{title:"Average Order Value",key:"avg_order_value",align:"right",filter:a.filterNumber}]},e.groupBy=[{desc:"Date",key:"order_date"},{desc:"Hour of Day",key:"order_hour"},{desc:"Day of Week",key:"order_day_of_week"},{desc:"Month",key:"order_month"},{desc:"Year",key:"order_year"},{desc:"Payment Type",key:"payment_type"},{desc:"Merchant",key:"merchant_id"}],e.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],
"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}}}a.$inject=["Reports","TransactionsReportService","ReportsGroupBySelections","UtilityService"],angular.module("adminPortal.reports").component("transactionsComponent",{templateUrl:"modules/reports/components/transactions-component/transactions-component.html",controllerAs:"vm",bindings:{processing:"=?",exporting:"=?",customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<"},controller:a})}(),function(){function a(a,b,c,d){var e=this;e.reports_group_by_selections=c,e.utility=d,e.reportService=a,e.selectedReportType={desc:"Customers",key:"customers",retrieveData:b.getCustomers,exportReport:b.exportCustomersReport,selectedOrderBy:null,columns:[{title:"User ID",key:"user_id",align:"right",filter:a.filterNone},{title:"First Name",key:"first_name",align:"left",filter:a.filterNone},{title:"Last Name",key:"last_name",align:"left",filter:a.filterNone},{title:"Email",key:"email",align:"left",filter:a.filterNone},{title:"First Order Date",key:"first_order_date",align:"right",filter:a.filterDate},{title:"Last Order Date",key:"last_order_date",align:"right",filter:a.filterDate},{title:"Total Orders",key:"total_orders",align:"right",filter:a.filterNone},{title:"Pickup Orders",key:"pickup_orders",align:"right",filter:a.filterNone},{title:"Delivery Orders",key:"delivery_orders",align:"right",filter:a.filterNone},{title:"Total Spent",key:"total_spent",align:"right",filter:a.filterNone},{title:"Average Order Value",key:"avg_order_value",align:"right",filter:a.filterNumber}]},e.groupBy=[{desc:"Hour of Day",key:"order_hour"}],e.reportDateOptions=[{desc:"Last 30 Days",key:"Last_30"},{desc:"Last 60 Days",key:"Last_60"},{desc:"Last 90 Days",key:"Last_90"},{desc:"Last Year",key:"Last_365"},{desc:"Last 2 Years",key:"Last_730"}],e.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}}}a.$inject=["Reports","CustomersReportService","ReportsGroupBySelections","UtilityService"],angular.module("adminPortal.reports").component("customerComponent",{templateUrl:"modules/reports/components/customer-component/customer-component.html",controllerAs:"vm",bindings:{processing:"=?",exporting:"=?",customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<"},controller:a})}(),function(){function a(a,b,c,d,e,f,g){function h(){return"brand"!==t.customReportsFilterType||t.customBrandFilter?"merchant"===t.customReportsFilterType&&0===t.merchantSearch.selected_merchants.length:!0}function i(){t.dataRequest&&(t.dataRequest.abort(),t.processing=!1,t.exporting=!1)}function j(){return t.processing?void i():void l(1)}function k(){return t.exporting?void i():void m()}function l(a){console.log(t.setTimeRange),t.selectedReportType&&(i(),t.processing=!0,(t.dataRequest=t.selectedReportType.retrieveData(t.startDate,t.endDate,a?a:t.page,g.getGroupByList(),t.selectedReportType.selectedOrderBy,t.perPage,"brand"===t.customReportsFilterType?t.customBrandFilter:!1,"merchant"===t.customReportsFilterType?e.convertArrayObjectsPropertyToArray(t.merchantSearch.selected_merchants,"merchant_id"):!1,f.period_type.key)).then(function(a){t.processing=!1;var b=a.data;t.dataList=b.data,t.totalData=b.total,t.page=b.current_page,t.orderBy=t.selectedReportType.columns.slice(0),q()})["catch"](function(a){if(-1!==a.status){t.processing=!1;var b=e.formatErrors(a.data.errors);n(b)}}))}function m(){t.selectedReportType&&(i(),t.exporting=!0,(t.dataRequest=t.selectedReportType.exportReport(t.startDate,t.endDate,!1,g.getGroupByList(),t.selectedReportType.selectedOrderBy,!1,"brand"===t.customReportsFilterType?t.customBrandFilter:!1,"merchant"===t.customReportsFilterType?e.convertArrayObjectsPropertyToArray(t.merchantSearch.selected_merchants,"merchant_id"):!1,f.period_type.key)).then(function(a){t.exporting=!1;var b=t.selectedReportType.key+"_report_"+t.startDate+"_to_"+t.endDate+(t.selectedGroupBy?"_group_by_"+t.selectedGroupBy.key:"")+".csv";if(window.navigator&&window.navigator.msSaveOrOpenBlob)return void window.navigator.msSaveOrOpenBlob(a,b);var c=document.createElement("a");c.style="display: none",c.href=a,c.download=b,document.body.appendChild(c),c.click(),setTimeout(function(){document.body.removeChild(c),window.URL.revokeObjectURL(a)},100)})["catch"](function(a){if(-1!==a.status){t.exporting=!1;var b=e.formatErrors(a.data.errors);n(b)}}))}function n(a){console.log("SHOW ERROR PLS: "+a),d.swal({title:"Error",html:a,type:"error",showCancelButton:!1,confirmButtonColor:"#DD6B55",confirmButtonText:"OK"})}function o(a){t.page=a,l()}function p(a){if(t.selectedReportType&&t.orderBy&&t.orderBy.length){for(var b=null,c=0;c<t.orderBy.length;c++)t.orderBy[c].key===a?(t.orderBy[c].sort?"+"===t.orderBy[c].sort?t.orderBy[c].sort="-":"-"===t.orderBy[c].sort&&(t.orderBy[c].sort=null):t.orderBy[c].sort="+",b=t.orderBy[c].sort?t.orderBy[c]:null):t.orderBy[c].sort=null;b?t.selectedReportType.selectedOrderBy=b.sort+b.key:t.selectedReportType.selectedOrderBy=null,l()}}function q(){for(var a=g.selected_group_bys,b=0;b<a.length;b++){var c=a[b],d=t.orderBy[t.orderBy.length-1].key;if(d===c.key)return;t.selectedReportType.selectedOrderBy&&-1!==t.selectedReportType.selectedOrderBy.indexOf(d)&&(t.selectedReportType.selectedOrderBy=null);var e="order_date"===c.key?f.filterDate:f.filterNone;"merchant_id"==c.key&&t.orderBy.unshift({title:"Display Name",key:"store_name",align:"right",filter:e}),t.orderBy.unshift({title:c.desc,key:c.key,align:"right",filter:e})}}function r(){$("#add-schedule-modal").modal("show")}function s(){t.add_schedule_form.$valid&&(t.newSchedule.period_start_date=t.startDate,t.newSchedule.period_end_date=t.endDate,t.newSchedule.period_type=f.period_type,t.newSchedule.group_bys=g.selected_group_bys,t.newSchedule.selected_order_by=t.selectedReportType.selectedOrderBy,t.newSchedule.report_type=t.selectedReportType.key,"brand"===t.customReportsFilterType?t.newSchedule.brand_id=t.customBrandFilter:t.newSchedule.brand_id=null,"merchant"===t.customReportsFilterType?t.newSchedule.selected_merchants=e.convertArrayObjectsPropertyToArray(t.merchantSearch.selected_merchants,"merchant_id"):t.newSchedule.selected_merchants=null,b.post("/reports/schedule",t.newSchedule).success(function(a){$("#add-schedule-modal").modal("hide"),t.newSchedule={},t.add_schedule_form.$setPristine(),t.add_schedule_form.$setUntouched(),d.swal({title:"Success",text:"Your report has been scheduled.",showCancelButton:!1,confirmButtonColor:"#488214",type:"success",confirmButtonText:"Ok"})}).error(function(a,b){console.log(a),d.swal({title:"Warning",text:"Sorry, Something went wrong please contact support.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Ok"})}))}var t=this;t.isValidToSchedule=h,t.runReport=j,t.exportReport=k,t.onPageChanged=o,t.sortByColumn=p,t.openAddScheduleModal=r,t.groupBy=f.groupBy,t.totalData=0,t.page=1,t.perPage=25,t.perPageOptions=[10,25,50],a.$on("$destroy",function(a){i()}),t.addNewSchedule=s,t.frequency=[{id:"daily",name:"Daily"},{id:"weekly",name:"Weekly"},{id:"monthly",name:"Monthly"}],t.newSchedule={}}a.$inject=["$scope","$http","$filter","SweetAlert","UtilityService","Reports","ReportsGroupBySelections"],angular.module("adminPortal.reports").component("defaultReportViewComponent",{templateUrl:"modules/reports/components/default-report-view-component/default-report-view-component.html",controllerAs:"vm",bindings:{selectedReportType:"=",processing:"=?",exporting:"=?",selectedGroupBy:"<",customBrandFilter:"<",scheduleOption:"<",customReportsFilterType:"<",startDate:"<",endDate:"<",setTimeRange:"<",merchantSearch:"<"},controller:a})}(),function(){function a(){}angular.module("adminPortal.reports").component("reportSelectorComponent",{templateUrl:"modules/reports/components/report-selector-component/report-selector-component.html",controllerAs:"vm",bindings:{selectedReportType:"=",processing:"=?",exporting:"=?",customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<"},controller:a})}(),function(){function a(a,b,c,d,e,f){var g=this;g.user=b,g.reports_group_by_selections=e,g.datePicker={date:{startDate:moment(),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}},g.groupBy=[{desc:"Date",key:"order_date"},{desc:"Day of Week",key:"order_day_of_week"},{desc:"Month",key:"order_month"},{desc:"Year",key:"order_year"},{desc:"Merchant",key:"merchant_id"}],g.selectedReportType={desc:"Sales By Menu Items",key:"sales_by_menu_items",retrieveData:d.getReport,exportReport:d.exportReport,selectedOrderBy:null,columns:[{title:"Size ID",key:"item_size_id",align:"right",filter:f.filterNone},{title:"Size Name",key:"Size_Name",align:"right",filter:f.filterNone},{title:"Item Name",key:"Item_Name",align:"right",filter:f.filterNone},{title:"Menu Type",key:"Menu_Type",align:"right",filter:f.filterNone},{title:"Date",key:"Date",align:"right",filter:f.filterNone},{title:"Item Total",key:"Item_Total",align:"right",filter:f.filterNone},{title:"Item Count",key:"Item_Count",align:"right",filter:f.filterNone},{title:"Item Total with Modifiers",key:"Item_Total_with_Modifiers",align:"right",filter:f.filterNone}]},g.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}}}a.$inject=["$http","Users","UtilityService","SalesByMenuItemReportService","ReportsGroupBySelections","Reports"],angular.module("adminPortal.reports").component("salesByMenuItemComponent",{templateUrl:"modules/reports/components/sales-by-menu-item-component/sales-by-menu-item-component.html",controllerAs:"vm",bindings:{customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<",processing:"=?",exporting:"=?"},controller:a})}(),function(){function a(a,b,c,d){var e=this;e.reports_group_by_selections=c,e.utility=d,e.reportService=a,e.getMerchantConfig=b.getMerchantConfig(),e.selectedReportType={desc:"Merchants Config",key:"merchants-config",retrieveData:b.getMerchantConfig,exportReport:b.exportMerchantConfig,selectedOrderBy:null,columns:[{title:"Merchant ID",key:"merchant_id",align:"right",filter:a.filterNone},{title:"Store ID",key:"display_name",align:"right",filter:a.filterNone},{title:"Ordering",key:"ordering_on",align:"right",filter:a.filterNone},{title:"Delivery",key:"delivery",align:"right",filter:a.filterNone},{title:"Advanced Ordering",key:"advanced_ordering",align:"right",filter:a.filterNone},{title:"Group Ordering",key:"group_ordering_on",align:"right",filter:a.filterNone},{title:"Catering",key:"catering_on",align:"right",filter:a.filterNone}]},e.groupBy=[],e.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}}}a.$inject=["Reports","MerchantConfigService","ReportsGroupBySelections","UtilityService"],angular.module("adminPortal.reports").component("merchantConfigComponent",{templateUrl:"modules/reports/components/merchant-config-component/merchant-config-component.html",controllerAs:"vm",bindings:{processing:"=?",exporting:"=?",customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<"},controller:a})}(),function(){function a(a,b,c,d){var e=this;e.reports_group_by_selections=c,e.utility=d,e.reportService=a,e.selectedReportType={desc:"All Orders",key:"all_orders",retrieveData:b.getAllOrders,exportReport:b.exportAllOrders,selectedOrderBy:null,columns:[{title:"Order ID",key:"order_id",align:"right",filter:a.filterNone},{title:"User Name",key:"user_name",align:"right",filter:a.filterNone},{title:"Order Date",key:"order_date",align:"right",filter:a.filterNone},{title:"Order Amt",key:"order_amt",align:"right",filter:a.filterNone},{title:"Total Tax Amt",key:"total_tax_amt",align:"right",filter:a.filterNone},{title:"Promo Amt",key:"promo_amt",align:"right",filter:a.filterNone},{title:"Delivery Amt",key:"delivery_amt",align:"right",filter:a.filterNone},{title:"Tip Amt",key:"tip_amt",align:"right",filter:a.filterNone},{title:"Grand Total",key:"grand_total",align:"right",filter:a.filterNone},{title:"Order Qty",key:"order_qty",align:"right",filter:a.filterNone}]},e.groupBy=[],e.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().startOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")]}}}}a.$inject=["Reports","AllOrdersService","ReportsGroupBySelections","UtilityService"],angular.module("adminPortal.reports").component("allOrdersComponent",{templateUrl:"modules/reports/components/all-orders-component/all-orders-component.html",controllerAs:"vm",bindings:{processing:"=?",exporting:"=?",customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<"},controller:a})}(),function(){function a(a,b,c,d){var e=this;e.reports_group_by_selections=c,e.utility=d,e.reportService=a,e.getMerchantConfig=b.getMerchantConfig(),e.selectedReportType={desc:"Merchants Config",key:"merchants-config",retrieveData:b.getMerchantConfig,exportReport:b.exportMerchantConfig,selectedOrderBy:null,columns:[{title:"Merchant ID",key:"merchant_id",align:"right",filter:a.filterNone},{title:"Ordering",key:"ordering_on",align:"right",filter:a.filterNone},{title:"Delivery",key:"delivery",align:"right",filter:a.filterNone},{title:"Advanced Ordering",key:"advanced_ordering",align:"right",filter:a.filterNone},{title:"Group Ordering",key:"group_ordering_on",align:"right",filter:a.filterNone},{title:"Catering",key:"catering_on",align:"right",filter:a.filterNone}]},e.groupBy=[],e.datePicker={date:{startDate:moment().startOf("day"),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{Today:[moment().startOf("day"),moment()],Yesterday:[moment().subtract(1,"days").startOf("day"),moment().subtract(1,"days").endOf("day")],"This Week":[moment().startOf("week"),moment()],"Last Week":[moment().startOf("week").subtract(1,"week"),moment().endOf("week").subtract(1,"week")],"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}}}a.$inject=["Reports","MerchantConfigService","ReportsGroupBySelections","UtilityService"],angular.module("adminPortal.reports").component("menuExportComponent",{templateUrl:"modules/reports/components/menu-export-component/menu-export-component.html",controllerAs:"vm",bindings:{processing:"=?",exporting:"=?",customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<"},controller:a})}(),function(){function a(a,b,c,d,e){function f(a){if(Object.assign(l.currentStatement,a),l.currentStatement.weekly){var b=[],c=l.currentStatement.weekly.split("\n"),d={Sun:1,Mon:2,Tue:3,Wed:4,Thu:5,Fri:6,Sat:7,Tot:8};c.sort(function(a,b){var c=a.substring(0,3),e=b.substring(0,3);return d[c]-d[e]}),c.forEach(function(a){var c=a.split("	");b.push(c),9===c.length?l.showExtraColumn=!0:l.showExtraColumn=!1}),l.currentStatement.weekly=b}$("#detailsModal").modal("show")}function g(){window.print()}function h(){return"brand"!==l.customReportsFilterType||l.customBrandFilter?!("merchant"===l.customReportsFilterType&&0===l.merchantSearch.selected_merchants.length):!1}function i(){var a={start_date:l.datePicker.date.startDate.format("YYYY-MM-DD"),end_date:l.datePicker.date.endDate.format("YYYY-MM-DD"),filter_type:l.customReportsFilterType};"brand"===l.customReportsFilterType?a.brand_id=l.customBrandFilter:delete a.brand_id,"merchant"===l.customReportsFilterType?a.merchant_list=d.convertArrayObjectsPropertyToArray(l.merchantSearch.selected_merchants,"merchant_id"):delete a.merchant_list,l.searchParams=a}function j(){"merchant"===l.customReportsFilterType&&(l.searchParams.merchant_list=d.convertArrayObjectsPropertyToArray(l.merchantSearch.selected_merchants,"merchant_id"),l.searchParams.merchant_list=d.convertArrayToGetList(l.searchParams.merchant_list)),a.exportReportStatement(l.searchParams).then(function(a){var b=a.headers(),c="report_"+Date.now()+".csv",d=b["content-type"],e=document.createElement("a");try{var f=new Blob([a.data],{type:d}),g=window.URL.createObjectURL(f);e.setAttribute("href",g),e.setAttribute("download",c);var h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.dispatchEvent(h)}catch(i){console.log(i)}})["catch"](function(a){console.log(a)})}function k(){b.getUserSessionInfo().then(function(a){"brand"===a.visibility&&(l.autoSearch=!0)})["catch"](function(){console.log("unable to get the current user")})}var l=this;c.add("modules/merchant/merchant-statements/merchant-statements.css"),l.getStatements=i,l.showPrintableStatement=f,l.printStatementDetails=g,l.exportRecords=j,l.isValidToBeShown=h,l.paginatedStatements={},l.fieldNames={invoice:{columnName:"Invoice Number","class":"fix-table-wrap"},periodByYear:{columnName:"Date Range"},previous_balance:{columnName:"Previous Balance","class":"fix-table-wrap"},net_proceeds:{columnName:"Net Proceeds","class":"fix-table-wrap"},balance:{columnName:"Balance","class":"fix-table-wrap"}},l.searchParams=void 0,l.merchants=[],l.currentStatement={},l.datePicker={date:{startDate:moment(),endDate:moment()},options:{pickerClasses:"custom-picker-colors",buttonClasses:"btn",applyButtonClasses:"btn-success",locale:{applyLabel:"Apply",cancelLabel:"Cancel",customRangeLabel:"Custom",format:"MMM-DD-YYYY"},ranges:{"This Month":[moment().startOf("month"),moment()],"Last Month":[moment().startOf("month").subtract(1,"month").startOf("month"),moment().startOf("month").subtract(1,"month").endOf("month")],"Current Year":[moment().startOf("year"),moment()],"Last Year":[moment().startOf("year").subtract(1,"year").startOf("year"),moment().startOf("year").subtract(1,"year").endOf("year")]}}},l.autoSearch=!1,k(),e.$on("$destroy",function(){c.remove("modules/merchant/merchant-statements/merchant-statements.css")})}a.$inject=["StatementService","Users","cssInjector","UtilityService","$scope"],angular.module("adminPortal.reports").component("statementsComponent",{templateUrl:"modules/reports/components/statements-component/statements-component.html",controllerAs:"vm",bindings:{customBrandFilter:"<",customReportsFilterType:"<",merchantSearch:"<",processing:"=?",exporting:"=?"},controller:a})}(),function(){"use strict";angular.module("shared").directive("federalTaxIdValidator",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){if(a){if(a.replace(/\D+/g,"").length>9){var b=a.slice(0,-1);return d.$setViewValue(b),d.$render(),b}var c=a.replace(/\D+/g,"").replace(/(\d\d)(\d+)/,"$1-$2");return d.$setViewValue(c),d.$render(),c}return!1}d.$parsers.push(e)}}})}(),function(){"use strict";angular.module("shared").directive("ownerSsValidator",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){if(a){if(a.replace(/\D+/g,"").length>9){var b=a.slice(0,-1);return d.$setViewValue(b),d.$render(),b}var c=a.replace(/\D+/g,"").replace(/(\d\d\d)(\d\d)(\d+)/,"$1-$2-$3");return d.$setViewValue(c),d.$render(),c}return!1}d.$parsers.push(e)}}})}(),function(){"use strict";angular.module("shared").directive("bankAccountValidator",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){if(a){if(a.replace(/\D+/g,"").length>20){var b=a.slice(0,-1);return d.$setViewValue(b),d.$render(),b}var c=a.replace(/\D+/g,"");return d.$setViewValue(c),d.$render(),c}return!1}d.$parsers.push(e)}}})}(),function(){"use strict";angular.module("shared").directive("bankRoutingValidator",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){if(a){if(a.replace(/\D+/g,"").length>9){var b=a.slice(0,-1);return d.$setViewValue(b),d.$render(),b}var c=a.replace(/\D+/g,"");return d.$setViewValue(c),d.$render(),c}return!1}d.$parsers.push(e)}}})}(),angular.module("shared").directive("lookupSelector",function(){var a=function(a,b){a.brand_lookup=b,a.setLookupValues=function(){b.setLookupValues()}};return a.$inject=["$scope","BrandLookup"],{restrict:"E",replace:!0,scope:{},templateUrl:"modules/shared/directive/lookup-selector/lookup-selector.html",controller:a,link:function(a,b,c,d){}}}),angular.module("shared").factory("BrandLookup",["Lookup","UtilityService",function(a,b){function c(){g.selected=[],g.un_selected=[],g.name="",g.all_selections=[],g.all_selections.order_del_type={un_selected:[],selected:[],name:"Order Delivery Methods"},g.all_selections.Splickit_Accepted_Payment_Types={un_selected:[],selected:[],name:"Payment Types"}}function d(a){g.un_selected.splice(g.un_selected.indexOf(a),1),b.checkIfObjectWithAttributeExistsInArray(g.selected,"lookup_id",a.lookup_id)||g.selected.push(a)}function e(a){g.selected.splice(g.selected.indexOf(a),1),b.checkIfObjectWithAttributeExistsInArray(g.un_selected,"lookup_id",a.lookup_id)||g.un_selected.push(a)}function f(){g.all_selections[g.key].unselected=g.un_selected,g.all_selections[g.key].selected=g.selected;var a=b.convertArrayObjectsPropertyToArray(g.all_selections[g.key].selected,"type_id_name");g.all_selections[g.key].display_list=b.convertArrayToGrammarList(a),console.log(g.all_selections[g.key].display_list)}var g={};return g.addLookup=d,g.removeLookup=e,g.setLookupValues=f,g.setSelectionsNew=c,g.loadCreateLookups=function(){a.multipleLookup(["order_del_type","Splickit_Accepted_Payment_Types"]).then(function(a){var b=a.data;for(var c in b)g.all_selections[c].unselected=b[c],g.all_selections[c].selected=[]})},g.setLookupToActive=function(a){g.un_selected=g.all_selections[a].unselected,g.selected=g.all_selections[a].selected,g.name=g.all_selections[a].name,g.key=a},g}]),angular.module("adminPortal.reports").directive("manageReports",function(){var a=function(a,b,c,d){b.getScheduledReports(),a.scheduled_reports=b,a.openEditReport=function(a,c){b.edit_report=c,b.edit_report.index=a,$("#edit-scheduled-report-modal").modal("show")},a.deleteReportDialog=function(a){c.swal({title:"Warning",text:"Are you sure you want to delete the report "+a.report_name+"?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Delete"},function(c){c&&b.deleteReport(a.id).then(function(){var c=d.findIndexByKeyValue(b.reports,"id",a.id);b.reports.splice(c,1)})})}};return a.$inject=["$scope","ScheduledReports","SweetAlert","UtilityService"],{restrict:"E",replace:!0,scope:{},controller:a,templateUrl:"modules/reports/directive/manage-reports/manage-reports.html",link:function(a,b,c,d){}}}),angular.module("adminPortal.reports").factory("ScheduledReports",["$http",function(a){var b={};return b.reports=[],b.edit_report={},b.edit_form_submit=!1,b.frequencies=[{id:"daily",name:"Daily"},{id:"weekly",name:"Weekly"},{id:"monthly",name:"Monthly"}],b.getScheduledReports=function(){return a.get("scheduled_reports").then(function(a){b.reports=a.data})},b.updatedReport=function(){return a.put("scheduled_reports/"+b.edit_report.id,b.edit_report).then(function(a){b.reports[b.edit_report.index]=a.data,$("#edit-scheduled-report-modal").modal("hide")})},b.deleteReport=function(b){return a["delete"]("scheduled_reports/"+b).then(function(a){})},b}]),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f){var g="?";return b&&(a+=g+"page="+b,g="&"),c&&(a+=g+"order_by="+c,g="&"),d&&(a+=g+"per_page="+d),e&&(a+=g+"brand="+e),d&&(a+=g+"per_page="+d),f&&(a+=g+"merchants="+JSON.stringify(f)),a}var d={};return d.getMerchantConfig=function(b,d,e,f,g,h,i,j){var k="/reports/merchant_config";return k=c(k,e,g,h,i,j),a.cancelableHttpGet(k)},d.exportMerchantConfig=function(a,d,e,f,g,h,i,j){var k="/reports/merchant_config/exported";return k=c(k,e,g,h,i,j),b.download(k)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("MerchantConfigService",a)}(),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f,g,h,i){console.log("brand",h),console.log("merchant",i);var j="?";return b&&c&&(a+=j+"date_range="+b+","+c,j="&"),d&&(a+=j+"page="+d,j="&"),e&&(a+=j+"group_by="+e,j="&"),f&&(a+=j+"order_by="+f,j="&"),g&&(a+=j+"per_page="+g),h&&(a+=j+"brand="+h),i&&(a+=j+"merchants="+JSON.stringify(i)),a}var d={};return d.getAllOrders=function(b,d,e,f,g,h,i,j){var k="/reports/all_orders";return k=c(k,b,d,e,f,g,h,i,j),a.cancelableHttpGet(k)},d.exportAllOrders=function(a,d,e,f,g,h,i,j){var k="/reports/all_orders/exported";return k=c(k,a,d,e,f,g,h,i,j),b.download(k)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("AllOrdersService",a)}(),function(){"use strict";function a(a,b){function c(a,b,c,d,e,f){var g="?";return b&&(a+=g+"page="+b,g="&"),c&&(a+=g+"order_by="+c,g="&"),d&&(a+=g+"per_page="+d),e&&(a+=g+"brand="+e),d&&(a+=g+"per_page="+d),f&&(a+=g+"merchants="+JSON.stringify(f)),a}var d={};return d.getMenuExport=function(b,d,e,f,g,h,i,j){var k="/reports/menu_export";return k=c(k,e,g,h,i,j),a.cancelableHttpGet(k)},d.exportMenuExport=function(a,d,e,f,g,h,i,j,k){var l="/reports/menu_export/exported";return l=c(l,a,d,e,f,g,h,i,j,k),b.download(l)},d}a.$inject=["UtilityService","FileDownload"],angular.module("adminPortal.reports").factory("MenuExportReportService",a)}(),angular.module("adminPortal.reports").directive("reportsGroupBy",function(){var a=function(a,b){a.groupBySelections=b,a.closeModal=function(){$("#group-by-modal").modal("hide")}};return a.$inject=["$scope","ReportsGroupBySelections"],{restrict:"E",replace:!0,scope:{},templateUrl:"modules/reports/directive/reports-group-by/reports-group-by.html",controller:a,link:function(a,b,c,d){}}}),angular.module("adminPortal.merchant").directive("paymentServicesDailyDepositReport",function(){var a=function(a){a.searchParams={load_report:!1},a.fieldNames={report_date:{columnName:"Report Date"},sweep_id:{columnName:"Sweep ID"},amount:{columnName:"Net Deposit"},gross_amount:{columnName:"Amount"}},a.result_users=[]};return a.$inject=["$scope"],{restrict:"E",replace:!0,scope:{closeMerchantSelect:"&",selectedMerchantId:"=",searchFunction:"=?",autoSubmit:"=?",autoSearchVariable:"=?"},templateUrl:"modules/merchant/directive/payment-services-daily-deposit-report/payment-services-daily-deposit-report.html",controller:a,link:function(a,b,c,d){}}}),angular.module("adminPortal.reports").factory("ReportsGroupBySelections",["UtilityService",function(a){function b(a,b){g!=b&&(f.unselected_group_bys=a.slice(),f.selected_group_bys=[]),g=b,$("#group-by-modal").modal("show")}function c(a,b){f.selected_group_bys.push(a),f.unselected_group_bys.splice(b,1)}function d(a,b){f.unselected_group_bys.push(a),f.selected_group_bys.splice(b,1)}function e(){var b=a.convertObjectToSimpleArray(f.selected_group_bys,"key");return b.join()}var f={};f.unselected_group_bys=[],f.selected_group_bys=[],f.resetSelections=b,f.addGroupBy=c,f.removeGroupBy=d,f.getGroupByList=e;var g="";return f}]),angular.module("adminPortal").run(["$templateCache",function(a){"use strict";a.put("modules/brand/brand-create/brand-create.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Brand</h4></div></div></div><div class=row><div class=col-md-8><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Create New Brand</h3></div><div class=panel-body><form name=brand.new_brand_form class=form-horizontal novalidate ng-submit=brand.createNewBrand()><div class=form-group><label class="col-md-4 control-label">Brand Name</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=name ng-keyup=brand.updateDefaultUrl() ng-model=brand.new_brand.name ng-fade ng-required=true><div class="error-large error-large alert alert-danger ng-hide alert-reg-position" ng-show="brand.new_brand_form.name.$error.required\n                                            && (brand.new_brand_form.name.$touched || brand.new_brand_form.$submitted)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Active</label><div class="col-md-8 m-t-5"><toggle-switch name=active ng-model=brand.new_brand.active></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Default URL</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=default_url ng-keyup="brand.new_brand.default_url_customized = true" ng-model=brand.new_brand.default_url ng-fade><div class="error-large alert alert-danger ng-hide alert-reg-position" ng-show="brand.new_brand_form.default_url.$error.required\n                                            && (brand.new_brand_form.default_url.$touched || brand.new_brand_form.$submitted)" role=alert>Default URL is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Allow Tipping</label><div class="col-md-8 m-t-5"><toggle-switch name=allows_tipping ng-model=brand.new_brand.allows_tipping></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label double-line-md">Allow In Store Payments</label><div class="col-md-8 m-t-5"><toggle-switch name=allows_in_store_payments ng-model=brand.new_brand.allows_in_store_payments></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Nutrition Flag</label><div class="col-md-8 m-t-5"><toggle-switch name=nutrition_flag ng-model=brand.new_brand.nutrition_flag></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Support Email</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=support_email ng-model=brand.new_brand.support_email ng-fade></div></div><div class=form-group><label class="col-md-4 control-label">Production</label><div class="col-md-8 m-t-5"><toggle-switch name=production ng-model=brand.new_brand.production></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Order Delivery Methods</label><div class="col-md-8 m-t-5"><button class="btn btn-success btn-sm" type=button ng-click=brand.selectOrderDeliveryMethods()>Select Order Delivery Methods</button><div class="col-md-12 m-t-10">{{brand.brand_lookup.all_selections.order_del_type.display_list}}</div><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="brand.new_brand_form.production.$error.order_del_types && brand.brand_lookup.all_selections.order_del_type.selected.length == 0" role=alert>You must select at least one Order Delivery Method.</div></div></div><div class=form-group><label class="col-md-4 control-label">Payment Types</label><div class="col-md-8 m-t-5"><button class="btn btn-success btn-sm" type=button ng-click=brand.selectPaymentTypes()>Select Payment Types</button><div class="col-md-12 m-t-10">{{brand.brand_lookup.all_selections.Splickit_Accepted_Payment_Types.display_list}}</div><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="brand.new_brand_form.production.$error.payment_types && brand.brand_lookup.all_selections.Splickit_Accepted_Payment_Types.selected.length == 0" role=alert>You must select at least one Payment Type.</div></div></div><div class=form-group><label class="col-md-4 control-label">Last Orders Displayed</label><div class="col-md-8 m-t-5-sm"><input type=number class="input-small form-control" name=last_orders_displayed ng-model=brand.new_brand.last_orders_displayed ng-fade min=0><div class="error-large alert alert-danger ng-hide alert-reg-position" ng-show="brand.new_brand_form.last_orders_displayed.$error.required && brand.new_brand_form.last_orders_displayed.$error.number\n                                            && (brand.new_brand_form.last_orders_displayed.$touched || brand.new_brand_form.$submitted)" role=alert>Last Orders Displayed is required.</div></div></div><div ng-show=brand.new_brand.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="flex-init flex-justify-content-space-between"><div><div class="error-large alert alert-danger ng-hide alert-reg-position" ng-show=brand.error role=alert>The brand is already registered.</div></div><div class=submit-contain><button type=button class="btn btn-default m-r-10" back-button>Cancel</button> <button id=brand-create-submit class="btn-success btn">Submit</button></div></div></form></div></div></div></div><lookup-selector></lookup-selector>'),
a.put("modules/brand/brand-edit/brand-edit.html",'<div><div class=page-header-title><h4 class=page-title>Brand Edition</h4></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>BRAND INFORMATION</h3></div><div class=panel-body><div class=filter-loader-contain ng-show="vm.processing && !vm.error"><div class=filter-loader></div></div><div class="gray-text text-center" ng-if=vm.error><h5 class=pre-load-text>{{vm.errorMessage}}</h5></div><form name=vm.brand_form class=form-horizontal novalidate ng-submit=vm.submitButton() ng-if="!vm.processing && !vm.error"><div class=form-group><label class="col-md-4 control-label">Brand Name</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=name ng-keyup=vm.updateDefaultUrl() ng-model=vm.brandModel.brand_name ng-fade ng-required=true><div class="error-large error-large alert alert-danger ng-hide alert-reg-position" ng-show="vm.brand_form.name.$error.required && (vm.brand_form.name.$touched || vm.brand_form.$submitted)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Active</label><div class="col-md-8 m-t-5"><toggle-switch name=active ng-model=vm.brandModel.active></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Default URL</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=default_url ng-keyup="brand.brandModel.default_url_customized = true" ng-model=vm.brandModel.default_url ng-fade><div class="error-large alert alert-danger ng-hide alert-reg-position" ng-show="vm.brand_form.default_url.$error.required && (vm.brand_form.default_url.$touched || vm.brand_form.$submitted)" role=alert>Default URL is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Allow Tipping</label><div class="col-md-8 m-t-5"><toggle-switch name=allows_tipping ng-model=vm.brandModel.allows_tipping></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label double-line-md">Allow In Store Payments</label><div class="col-md-8 m-t-5"><toggle-switch name=allows_in_store_payments ng-model=vm.brandModel.allows_in_store_payments></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Nutrition Flag</label><div class="col-md-8 m-t-5"><toggle-switch name=nutrition_flag ng-model=vm.brandModel.nutrition_flag></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Support Email</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=support_email ng-model=vm.brandModel.support_email ng-fade></div></div><div class=form-group><label class="col-md-4 control-label">Production</label><div class="col-md-8 m-t-5"><toggle-switch name=production ng-model=vm.brandModel.production></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Last Orders Displayed</label><div class="col-md-8 m-t-5-sm"><input type=number class="input-small form-control" name=last_orders_displayed ng-model=vm.brandModel.last_orders_displayed ng-fade min=0><div class="error-large alert alert-danger ng-hide alert-reg-position" ng-show="vm.brand_form.last_orders_displayed.$error.required &&\n                                 (vm.brand_form.last_orders_displayed.$touched || vm.brand_form.$submitted)" role=alert>Last Orders Displayed is required.</div></div></div><div class=form-group><div class=col-sm-12><button class="btn btn-success pull-right" type=submit>Submit</button></div></div></form></div></div></div></div></div>'),a.put("modules/brand/brand-list/brand-list.html",'<div class=brand-section ng-if=!vm.isUserOperator()><div class=page-header-title><h4 class=page-title>Brand</h4><a href=#/brand/create class="btn center brand-button-color" role=button>Create new Brand</a></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>SEARCH BRANDS</h3></div><div class=panel-body><form name=vm.search_form novalidate ng-submit=vm.brandsSearch()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box style="width: 270px"><input type=text class=form-control id=search_text name=search_text placeholder="" ng-model=vm.search_text></div><button class="btn-default btn m-l-10">SEARCH</button></div></div></form><div><label>Filter by First Letter</label><div class=alphabet><span ng-class="vm.currentLetter(\'A\')" ng-click="vm.brandLetter(\'A\')">A</span> <span ng-class="vm.currentLetter(\'B\')" ng-click="vm.brandLetter(\'B\')">B</span> <span ng-class="vm.currentLetter(\'C\')" ng-click="vm.brandLetter(\'C\')">C</span> <span ng-class="vm.currentLetter(\'D\')" ng-click="vm.brandLetter(\'D\')">D</span> <span ng-class="vm.currentLetter(\'E\')" ng-click="vm.brandLetter(\'E\')">E</span> <span ng-class="vm.currentLetter(\'F\')" ng-click="vm.brandLetter(\'F\')">F</span> <span ng-class="vm.currentLetter(\'G\')" ng-click="vm.brandLetter(\'G\')">G</span> <span ng-class="vm.currentLetter(\'H\')" ng-click="vm.brandLetter(\'H\')">H</span> <span ng-class="vm.currentLetter(\'I\')" ng-click="vm.brandLetter(\'I\')">I</span> <span ng-class="vm.currentLetter(\'J\')" ng-click="vm.brandLetter(\'J\')">J</span> <span ng-class="vm.currentLetter(\'K\')" ng-click="vm.brandLetter(\'K\')">K</span> <span ng-class="vm.currentLetter(\'L\')" ng-click="vm.brandLetter(\'L\')">L</span> <span ng-class="vm.currentLetter(\'M\')" ng-click="vm.brandLetter(\'M\')">M</span> <span ng-class="vm.currentLetter(\'N\')" ng-click="vm.brandLetter(\'N\')">N</span> <span ng-class="vm.currentLetter(\'O\')" ng-click="vm.brandLetter(\'O\')">O</span> <span ng-class="vm.currentLetter(\'P\')" ng-click="vm.brandLetter(\'P\')">P</span> <span ng-class="vm.currentLetter(\'Q\')" ng-click="vm.brandLetter(\'Q\')">Q</span> <span ng-class="vm.currentLetter(\'R\')" ng-click="vm.brandLetter(\'R\')">R</span> <span ng-class="vm.currentLetter(\'S\')" ng-click="vm.brandLetter(\'S\')">S</span> <span ng-class="vm.currentLetter(\'T\')" ng-click="vm.brandLetter(\'T\')">T</span> <span ng-class="vm.currentLetter(\'U\')" ng-click="vm.brandLetter(\'U\')">U</span> <span ng-class="vm.currentLetter(\'V\')" ng-click="vm.brandLetter(\'V\')">V</span> <span ng-class="vm.currentLetter(\'W\')" ng-click="vm.brandLetter(\'W\')">W</span> <span ng-class="vm.currentLetter(\'X\')" ng-click="vm.brandLetter(\'X\')">X</span> <span ng-class="vm.currentLetter(\'Y\')" ng-click="vm.brandLetter(\'Y\')">Y</span> <span ng-class="vm.currentLetter(\'Z\')" ng-click="vm.brandLetter(\'Z\')">Z</span></div></div></div></div></div></div><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>SEARCH RESULTS</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=vm.processing><div class=filter-loader></div></div><div ng-if=!vm.processing><h5 class=pre-load-text ng-show="vm.search_result.length === 0 && vm.first_search">No records</h5><div ng-if="vm.search_result.length > 0"><table class="table table-hover content-table"><thead><tr><th>Brand ID</th><th>Name</th><th>Support Email</th></tr></thead><tbody><tr ng-repeat="brand in vm.search_result" ng-click=vm.viewBrand(brand)><td class=fix-table-wrap>{{brand.brand_id}}</td><td>{{brand.brand_name}}</td><td>{{brand.support_email}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="brand in vm.search_result"><div class="panel panel-body row-table" ng-click=vm.viewBrand(brand)><div class=name><h5 class=dark-grey><b>{{brand.brand_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Brand ID <span class=id-number>{{brand.brand_id}}</span></h5></div><div class=description><div>{{brand.support_email}}</div></div></div></div></div></div></div></div></div></div>'),a.put("modules/brand/merchant-groups-create/merchant-groups-create.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Brand</h4></div></div></div><div class=row><div class=col-md-8><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Create New Merchant Group</h3></div><div class=panel-body><form name=mgc.new_merchant_group_form class=form-horizontal novalidate ng-submit=mgc.create()><div class=form-group><label class="col-md-4 control-label">Group Name</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=name ng-model=mgc.new_merchant_group.name ng-fade ng-required=true><div class="error-large error-large alert alert-danger ng-hide alert-reg-position" ng-show="mgc.new_merchant_group_form.name.$error.required\n                                            && (mgc.new_merchant_group_form.name.$touched || new_merchant_group_form.new_merchant_group_form.$submitted)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Group Type</label><div class="col-md-8 m-t-5-sm"><div class="btn-group m-r-15 m-t-10"><button type=button class="btn btn-sm" ng-class="mgc.groupTypeClass(\'merchant\',mgc.new_merchant_group.type)" ng-click="mgc.new_merchant_group.type = \'merchant\'">Merchant Level</button> <button type=button class="btn btn-sm" ng-class="mgc.groupTypeClass(\'group\',mgc.new_merchant_group.type)" ng-click="mgc.new_merchant_group.type = \'group\'">Group Level</button></div></div></div><div class=form-group ng-show="mgc.new_merchant_group.type == \'merchant\'"><label class="col-md-4 control-label">Merchants</label><div class="col-md-8 m-t-5-sm"><button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled data-target=#merchant-select-modal>Select/Change Merchants</button></div><label class="col-md-4 control-label m-t-10" ng-show="mgc.new_merchant_group.merchants.length > 0">Selected Merchants</label><div class="col-md-8 m-t-10" ng-show="mgc.new_merchant_group.merchants.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th><th>Address</th></tr></thead><tbody><tr ng-repeat="merchant in mgc.new_merchant_group.merchants"><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div><div class=form-group ng-show="mgc.new_merchant_group.type == \'group\'"><label class="col-md-4 control-label">Groups</label><div class="col-md-8 m-t-5-sm"><button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled data-target=#merchant-group-select-modal>Select Groups</button></div><label class="col-md-4 control-label m-t-10" ng-show="mgc.new_merchant_group.groups.length > 0">Selected Groups</label><div class="col-md-8 m-t-10" ng-show="mgc.new_merchant_group.groups.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th></tr></thead><tbody><tr ng-repeat="group in mgc.new_merchant_group.groups"><td>{{group.id}}</td><td>{{group.name}}</td></tr></tbody></table></div></div></div><div class="flex-init flex-justify-content-space-between"><div class=col-md-12><button class="btn-success btn pull-right">Submit</button></div></div></form></div></div></div></div><merchant-selector close-merchant-select=mgc.setMerchants() all-option=1 master-only=1 propation-options=0></merchant-selector><merchant-group-selector close-merchant-group-select=mgc.setGroups() all-option=1 master-only=1 propation-options=0></merchant-group-selector>'),a.put("modules/brand/merchant-groups-edit/merchant-groups-edit.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Brand</h4></div></div></div><div class=row><div class=col-md-8><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Edit Merchant Group {{mge.edit_merchant_group.id}}</h3></div><div class=panel-body><form name=mge.edit_merchant_group_form class=form-horizontal novalidate ng-submit=mge.updateMerchantGroup()><div class=form-group><label class="col-md-4 control-label">Group Name</label><div class="col-md-8 m-t-5-sm"><input type=text class="input-large form-control" name=name ng-model=mge.edit_merchant_group.name ng-fade ng-required=true><div class="error-large error-large alert alert-danger ng-hide alert-reg-position" ng-show="mge.edit_merchant_group_form.name.$error.required\n                                            && (mge.edit_merchant_group_form.name.$touched || edit_merchant_group_form.edit_merchant_group_form.$submitted)" role=alert>Name is required.</div></div></div><div class=form-group ng-show="mge.edit_merchant_group.group_type == \'merchant\'"><label class="col-md-4 control-label">Merchants</label><div class="col-md-8 m-t-5-sm"><button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled data-target=#merchant-select-modal>Select Merchants</button></div><label class="col-md-4 control-label m-t-10" ng-show="mge.embeddedMerchantSearch.selected_merchants.length > 0">Selected Merchants</label><div class="col-md-8 m-t-10" ng-show="mge.embeddedMerchantSearch.selected_merchants.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th><th>Address</th></tr></thead><tbody><tr ng-repeat="merchant in mge.embeddedMerchantSearch.selected_merchants"><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div><div class=form-group ng-show="mge.edit_merchant_group.group_type == \'group\'"><label class="col-md-4 control-label">Groups</label><div class="col-md-8 m-t-5-sm"><button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled data-target=#merchant-group-select-modal>Select Groups</button></div><label class="col-md-4 control-label m-t-10" ng-show="mge.merchantGroupFactory.selected_merchant_groups.length > 0">Selected Groups</label><div class="col-md-8 m-t-10" ng-show="mge.merchantGroupFactory.selected_merchant_groups.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th></tr></thead><tbody><tr ng-repeat="group in mge.merchantGroupFactory.selected_merchant_groups"><td>{{group.id}}</td><td>{{group.name}}</td></tr></tbody></table></div></div></div><div class="flex-init flex-justify-content-space-between"><div class=col-md-12><button class="btn-success btn pull-right">Submit</button></div></div></form></div></div></div></div><merchant-selector close-merchant-select=mge.setMerchants() all-option=1 master-only=1 propation-options=0></merchant-selector><merchant-group-selector close-merchant-group-select=mge.setGroups() all-option=1 master-only=1 propation-options=0></merchant-group-selector>'),a.put("modules/brand/merchant-groups/merchant-groups.html",'<div class=row><div class="brand-section col-sm-12"><div class="page-header-title menu-bg white-text"><h4 class=page-title>Merchant Groups</h4><button class="btn btn-info" ng-click=mg.createMerchantGroup() ng-disabled>Create New Merchant Group</button></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Merchant Groups</h3></div><div class=panel-body><form name=mg.search_form novalidate ng-submit=mg.search()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box style="width: 270px"><input type=text class=form-control id=search_text name=search_text placeholder="" ng-model=mg.search.text ng-required=true></div><button type=submit class="btn-default btn m-l-10">Search</button></div></div></form></div></div></div></div><div class=menu-list><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Results</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=mg.search.processing><div class=filter-loader></div></div><table class="table table-hover content-table" ng-show=mg.results><thead><tr><th>Merchant Group ID</th><th>Name</th><th>Type</th><th></th></tr></thead><tbody><tr ng-repeat="merchant_group in mg.results"><td ng-click=mg.editMerchantGroup(merchant_group)>{{merchant_group.id}}</td><td ng-click=mg.editMerchantGroup(merchant_group)>{{merchant_group.name}}</td><td ng-click=mg.editMerchantGroup(merchant_group)>{{merchant_group.group_type}}</td><td class=delete-icon><i class="fa fa-times" aria-hidden=true ng-click="mg.deleteMerchantGroupDialog(merchant_group, $index)"></i></td></tr></tbody></table></div></div></div>'),a.put("modules/customer-service/customer-service-live-orders/customer-service-live-orders.html",'<div class=row><div class=col-sm-12><div class="page-header-title linear-progress-container-row"><h4 class=page-title>Live Orders</h4></div></div></div><div class=customer-service-live-orders ng-show=!customer_service.first_search><div class="panel panel-primary"><div class="panel-heading with-loader"><h3 class=panel-title>Orders</h3><div class=loader-container ng-show=live_orders.loading><div class=filter-loader></div></div><div style="width: 49px"></div></div><div class=panel-body><div class=row><table id=live_order_table class="table table-hover content-table"><thead><tr><th>Order ID</th><th>First</th><th>Last</th><th>Merchant ID</th><th>Merchant Name</th><th>Address</th><th>Date</th><th>Qty</th><th>Total</th><th>Cash</th><th>Order Type</th></tr></thead><tbody><tr class=fade-in ng-repeat="order in live_orders.orders" ng-click=live_orders.viewOrder(order)><td ng-bind-html=order.order_id></td><td class=text-wrap-word-break>{{order.first_name}}</td><td class=text-wrap-word-break>{{order.last_name}}</td><td>{{order.merchant_id}}</td><td class=text-wrap-word-break>{{order.name}}</td><td>{{order.address1}}</td><td>{{order.order_dt_tm}}</td><td>{{order.order_qty}}</td><td>{{order.grand_total}}</td><td>{{order.cash}}</td><td>{{order.order_type}}</td></tr></tbody></table><div class=content-responsive><div class=fade-in ng-repeat="order in live_orders.orders"><div class="panel panel-body row-table"><div class=name ng-show=!!order.name><h5 class=dark-grey><b>{{order.name}}</b></h5></div><div class=id ng-show=!!order.order_id><h5 class="dark-grey id-title">Order ID <span class=id-number ng-bind-html=order.order_id></span></h5></div><div class="description clear"><div ng-show=!!order.merchant_id>Merchant ID:&nbsp;{{order.merchant_id}}</div><div ng-show=!!order.first_name>Name: {{order.first_name}} {{order.last_name}}</div><div class=merchant-address ng-show={{!!order.address1}}>{{order.address1}}</div><div ng-show=!!order.order_dt_tm>Date: {{order.order_dt_tm}}</div><div ng-show=!!order.order_qty>Qty: {{order.order_qty}}</div><div ng-show=!!order.grand_total>Total: {{order.grand_total}}</div><div ng-show=!!order.cash>Cash: {{order.cash}}</div><div ng-show=!!order.order_type>Type: {{order.order_type}}</div></div></div></div></div></div></div></div></div>'),a.put("modules/customer-service/customer-service-order/customer-service-order.html",'<div class=row><div class=col-sm-12><div class="page-header-title customer-service-bg"><h4 class=page-title>Customer Service</h4><ol class=breadcrumb><li><a href=#/customer_service>Customer Service</a></li><li><a href=javascript:void(0);>Order #{{order.current_order.order_id}}</a></li></ol></div></div></div><div class="row order-summary"><div class=col-md-9><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Order Summary #{{order.current_order.order_id}}</h3></div><div class=panel-body><div class="row order-btn"><div class=tooltip-help><button type=button data-toggle=modal data-target=#resend-order-modal class="btn btn-success waves-effect waves-light">Resend</button> <span class="tool-tip-text-responsive button-popup">{{ \'CUSTOMER_SERVICE.TOOLTIP.ORDER.RESENT\' | translate }}</span></div><div ng-show=!order.current_order.refunded class=tooltip-help><button type=button data-toggle=modal data-target=#refund-order-modal class="btn btn-danger waves-effect waves-light">Refund</button> <span class="tool-tip-text-right button-popup">{{ \'CUSTOMER_SERVICE.TOOLTIP.ORDER.REFUND\' | translate }}</span></div><div ng-show=order.current_order.refunded class=tooltip-help><button type=button data-toggle=modal class="btn btn-danger waves-effect waves-light fifty-opacity">Refund</button> <span class="tool-tip-text-right button-popup">{{order.current_order.refund_note}}</span></div></div><div class="row m-t-15"><div class=col-md-2></div><div class=col-md-8><div class="alert alert-success alert-reg-position form-submit-success" ng-show=order.resend_order.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Order <strong>#{{order.current_order.order_id}}</strong> has been resent!</div><div class="alert alert-success alert-reg-position form-submit-success" ng-show=order.change_status_order.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Order status has changed!</div></div></div><div class=row><div class=col-md-6><table class="table m-t-30"><thead><tr><th>ORDER</th><th></th></tr></thead><tbody><tr><td><a href=javascript:void(0); data-toggle=modal data-target=#order-detail-modal ng-click=order.getOrderDetail()>Order Detail</a></td><td></td></tr><tr><td><a ng-href="https://device.splickit.com/app2/messagemanager/getorderbyid/{{order.current_order.order_id}}/email/" target=_blank>Order Detail Email Link</a></td><td></td></tr><tr><td>Order Time</td><td>{{order.current_order.order_dt_tm}}</td></tr><tr><td>Pickup Time</td><td>{{order.current_order.pickup_dt_tm}}</td></tr><tr><td>Status</td><td>{{order.current_order.status}}</td></tr><tr><td>Promo Code</td><td>{{order.current_order.promo_code}}</td></tr><tr><td>Cash</td><td>{{order.current_order.cash}}</td></tr><tr><td>Quantity</td><td>{{order.current_order.order_qty}}</td></tr><tr><td>Amount</td><td>{{order.current_order.order_amt}}</td></tr><tr><td>Promo</td><td>{{order.current_order.promo_amt}}</td></tr><tr><td>Delivery</td><td>{{order.current_order.delivery_amt}}</td></tr><tr><td>Tip</td><td>{{order.current_order.tip_amt}}</td></tr><tr><td>Transaction Fees</td><td>{{order.current_order.trans_fee_amt}}</td></tr><tr><td>Tax</td><td>{{order.current_order.total_tax_amt}}</td></tr><tr><td>Grand Total</td><td>{{order.current_order.grand_total}}</td></tr></tbody></table></div><div class=col-md-6><table class="table m-t-30"><thead><tr><th>MERCHANT</th><th></th></tr></thead><tbody><tr><td>ID</td><td><a href=javascript:void(0); ng-click=order.viewMerchant(order.current_order.merchant)>{{order.current_order.merchant.merchant_id}}</a></td></tr><tr><td>External ID</td><td>{{order.current_order.merchant.merchant_external_id}}</td></tr><tr><td>Name</td><td>{{order.current_order.merchant.name}}</td></tr><tr><td>Address</td><td>{{order.current_order.merchant.address1}}</td></tr><tr><td>Phone</td><td>{{order.current_order.merchant.phone_no}}</td></tr><tr><td>Email</td><td class=text-wrap-word-break>{{order.current_order.merchant.shop_email}}</td></tr></tbody></table><table class="table m-t-30"><thead><tr><th>CUSTOMER</th><th></th></tr></thead><tbody><tr><td>User ID</td><td><a href=javascript:void(0); ng-click=order.viewUser(order.current_order.order_user)>{{order.current_order.order_user.user_id}}</a></td></tr><tr><td>First Name</td><td>{{order.current_order.order_user.first_name}}</td></tr><tr><td>Last Name</td><td>{{order.current_order.order_user.last_name}}</td></tr><tr><td>Email</td><td class=text-wrap-word-break>{{order.current_order.order_user.email}}</td></tr><tr><td>Note</td><td>{{order.current_order.note}}</td></tr></tbody></table></div></div></div></div></div></div><div class="row order-summary"><div class=col-md-9><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Merchant Message History</h3></div><div class=panel-body><table class="table table-hover content-table"><thead><tr><th>Message Format</th><th>Next Message DT</th><th>Send DT</th><th colspan=2>Response</th><th>Viewed</th><th>Status</th></tr></thead><tbody><tr ng-repeat="merchant_message in order.merchant_message_history" ng-click=order.viewMerchantMessageResponse(merchant_message.response)><td>{{merchant_message.message_format.type_id_name}}</td><td>{{merchant_message.next_message_dt_tm}}</td><td>{{merchant_message.sent_dt_tm}}</td><td colspan=2>{{merchant_message.truncated_response}}</td><td>{{merchant_message.viewed}}</td><td>{{merchant_message.locked}}</td></tr></tbody></table></div></div></div></div><div id=send-now-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>Resend Order #{{order.current_order.order_id}}</h4></div><form name=order.change_order_status_form class=form-horizontal novalidate ng-submit=order.changeOrderStatus()><div class=modal-body><div class=form-group><label class="block col-md-3">Status</label><div class=col-md-9><div class="select input-med"><select name=new_status class=form-control ng-model=order.change_status_order.new_status ng-required=true ng-fade ng-options="status.id as status.name for status in order.statuses"><option class=placeholder-color value="" selected disabled>New Status</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="order.change_order_status_form.new_status.$error.required\n                                     && (order.change_order_status_form.new_status.$faded\n                                     || order.change_status_order.submit)" role=alert>A new status required.</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div><div id=resend-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Resend/Send Now Order</h4></div><form name=order.resend_order_form novalidate ng-submit=order.resendOrder()><div class=modal-body><div class="form-group m-l-10"><label class=block>Order ID:</label><span>{{order.current_order.order_id}}</span></div><div class="form-group m-l-10"><label class=block>Send Order to Email or Fax? (optional)</label><div class=input-large><input type=text class=form-control name=resend_order_new_destination_address ng-model=order.resend_order.new_destination_address ng-fade placeholder="Enter Email or Fax Number"><div class="alert alert-info">Make sure you definitely want to resend the order before clicking <strong>Submit</strong>!</div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div><div id=order-detail-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Order Detail #{{order.order_detail.order_id}}</h4></div><div class=modal-body ng-show=!order.order_detail_loading><div><h4 class=dark-grey>{{order.order_detail.customer_full_name}}</h4><div>Phone: {{order.order_detail.user_phone_no}}</div><div>Loyalty No: {{order.order_detail.loyalty_number}}</div></div><div><h4 class=dark-grey>Store Info</h4><div>{{order.order_detail.merchant_name}}</div><div>{{order.order_detail.merchant_addr}}</div><div>{{order.order_detail.merchant_city_st_zip}}</div><div>Merchant ID: {{order.order_detail.merchant_id}}</div></div><div ng-show=!!order.order_detail.delivery_info><h4 class=dark-grey>Delivery</h4><div class="well well-sm"><div>Delivery To: {{order.order_detail.delivery_info.name}}</div><div>{{order.order_detail.delivery_info.address1}}</div><div>{{order.order_detail.delivery_info.city}}, {{order.order_detail.delivery_info.state}} {{order.order_detail.delivery_info.zip}}</div><div>{{order.formatPhone(order.order_detail.delivery_info.phone_no)}}</div><div ng-if=!!order.order_detail.delivery_info.instructions>Delivery Notes: {{order.order_detail.delivery_info.instructions}}</div></div></div><h4 class=dark-grey>Items</h4><div class=row ng-repeat="order_item in order.order_detail.order_details"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.item_name}} {{order_item.size_name}}</strong><div>{{order_item.item_total_w_mods}}</div></div><div ng-show="order_item.order_detail_hold_it_modifiers.length > 0 || order_item.order_detail_added_modifiers.length > 0"><div ng-show="order_item.order_detail_hold_it_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_hold_it_modifiers.length > 0"><span ng-repeat="hold_modifier in order_item.order_detail_hold_it_modifiers">{{hold_modifier.mod_name}},</span></div><div ng-show="order_item.order_detail_added_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_added_modifiers.length > 0"><span ng-repeat="add_modifier in order_item.order_detail_added_modifiers">{{add_modifier.mod_name}},</span></div><div ng-if=!!order_item.note><h5 class="dark-grey bold">Item Notes:</h5><div>{{order_item.note}}</div></div></div></div><div ng-if=!!order.order_detail.note><hr><h5 class="dark-grey bold">Order Notes:</h5><div>{{order.order_detail.note}}</div></div><div class=total-container><div class=payment-numbers><div>Sales Total:</div><div class=amount>{{order.order_detail.order_amt}}</div></div><div class=payment-numbers><div>Total Tax:</div><div class=amount>{{order.order_detail.total_tax_amt}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.order_detail.tip_amt}}</div></div><div class=payment-numbers><div>Delivery:</div><div class=amount>{{order.order_detail.delivery_amt}}</div></div><div class=payment-numbers><div>Transaction Fees:</div><div class=amount>{{order.order_detail.trans_fee_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.order_detail.grand_total}}</div></div></div></div><div ng-show=order.order_detail_loading class=modal-body><div class=filter-loader-contain><div class=filter-loader></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-primary" data-dismiss=modal>Close</button></div></div></div></div><div id=refund-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Refund Order #{{order.current_order.order_id}}</h4></div><form name=order.refund_order_form novalidate ng-submit=order.refundOrder()><div class=modal-body><div class="form-group m-l-10"><label class=block>Refund Amount</label><div class=input-large><input type=text class=form-control name=refund_amount ng-model=order.refund_order.refund_amount ng-fade currency-format amount=order.refund_order.refund_amount validate-max=order.current_order.grand_total ng-required=true ng-max=order.current_order.grand_total placeholder="Enter Amount"><div class="alert alert-danger ng-hide alert-reg-position" ng-show="order.refund_order_form.refund_amount.$error.required\n                                     && (order.refund_order_form.refund_amount.$faded\n                                     || order.refund_order_form.$submitted)" role=alert>Refund Amount is required.</div><div class="alert alert-danger alert-reg-position" ng-show="order.refund_order_form.refund_amount.$error.invalidMaxValue && (order.refund_order_form.refund_amount.$faded\n                                     || order.refund_order_form.$submitted)" role=alert>Refund Amount cannot be greater than the original order grand total.</div></div></div><div class="form-group m-l-10"><label class=block>Employee Name</label><div class=input-large><input type=text class=form-control name=employee_name ng-model=order.refund_order.employee_name ng-fade ng-required=true placeholder="For Notes"><div class="alert alert-danger ng-hide alert-reg-position" ng-show="order.refund_order_form.employee_name.$error.required\n                                     && (order.refund_order_form.employee_name.$faded\n                                     || order.refund_order_form.$submitted)" role=alert>Employee Name is required.</div></div></div><div class="form-group m-l-10"><label class=block>Note</label><div class=input-large><textarea class=form-control rows=2 name=note ng-model=order.refund_order.note ng-required=true required></textarea></div></div><div class="form-group m-l-10"><div class="alert alert-danger ng-hide alert-reg-position" ng-show=order.refund_error role=alert>Unsuccessful Refund - API Server Response: {{order.refund_error_message}}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div><div id=merchant-message-response-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Merchant Message Response</h4></div><div class=modal-body><div class="form-group m-l-10 break-word">{{order.merchant_message_response}}</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-primary" data-dismiss=modal>Close</button></div></div></div></div>'),
a.put("modules/customer-service/customer-service-tbd/customer-service-tbd.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Parking Lot Users</h4></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Clients</h3></div><div class=panel-body><form name=vm.search_form novalidate ng-submit=vm.search()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box style="width: 270px"><input type=text class=form-control name=search_text placeholder="" ng-init="vm.search.text = \'\'" ng-model=vm.search.text></div><button type=submit class="btn-default btn m-l-10">Search</button></div></div></form></div></div></div></div><div class="customer-service-user-list row"><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Results</h3></div><div class=panel-body><paginated-table container-id="\'tbd-search-results-table\'" field-names=vm.fieldNames params=vm.searchParams endpoint-string="\'/customer_service/parking_lot\'"><content-responsive><div class="panel panel-body row-table"><div class=name><h5 class="dark-grey text-wrap-word-break"><b>{{vm.formatPhone($parent.item.phone_number)}}</b></h5></div><div class="description clear"><div>Amount: {{$parent.item.amount}}</div><div>Location: {{$parent.item.location}}</div><div>Date: {{$parent.item.created}}</div></div></div></content-responsive></paginated-table></div></div></div></div>'),a.put("modules/customer-service/customer-service-user-list/customer-service-user-list.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Users</h4></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Users</h3></div><div class=panel-body><form name=user.search_form novalidate ng-submit=user.searchUsers()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box style="width: 270px"><input type=text class=form-control name=search_text placeholder="" ng-model=user.search.text></div><button type=submit class="btn-default btn m-l-10">Search</button></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(user.search_form.search_text.$error.required && user.search_form.search_text.$touched) ||\n                                                user.search_form.search_text.$error.required && user.search_form.$submitted" role=alert>You must type at least one letter into the Users Search field.</div></div></form></div></div></div><div class=col-md-6 ng-class=user.hasSearchResult()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Recently Visited</h3></div><div class="panel-body recently-visited-container"><div class="panel panel-body row-table" ng-repeat="recent_user in user.recently_visited_users" ng-click=user.viewUser(recent_user)><div><h5 class=bold>{{recent_user.user_id}} - {{recent_user.first_name}} {{recent_user.last_name}}</h5></div><div class=text-wrap-word-break>{{recent_user.email}}</div><div>{{user.formatPhone(recent_user.contact_no)}}</div></div><div ng-show="user.recently_visited_users.length %2 == 1" class=fake-div></div><div ng-show="user.recently_visited_users.length == 1" class=fix-div-1></div><div ng-show="user.recently_visited_users.length >= 4" class=fake-div></div><div ng-show="user.recently_visited_users.length >= 4" class=fake-div></div><div ng-show="user.recently_visited_users.length == 5"></div><div ng-show="user.recently_visited_users.length == 5"></div><div ng-show="user.recently_visited_users.length == 5"></div></div></div></div></div><div class="customer-service-user-list row"><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Results</h3></div><div class=panel-body><paginated-table container-id="\'customer-user-search-results-table\'" field-names=user.fieldNames params=user.searchParams click-event=user.viewUser endpoint-string="\'/user_search\'"><content-responsive><div class="panel panel-body row-table" ng-click=user.viewUser($parent.item)><div class=name><h5 class="dark-grey text-wrap-word-break"><b>{{$parent.item.email}}</b></h5></div><div class=id><h5 class="dark-grey id-title">User ID <span class=id-number>{{$parent.item.user_id}}</span></h5></div><div class="description clear"><div>{{$parent.item.first_name}}</div><div>{{$parent.item.last_name}}</div><div>Balance: {{$parent.item.balance}}</div><div>Orders: {{$parent.item.orders}}</div><div>Phone: {{user.formatPhone($parent.item.contact_no)}}</div><div>Created: {{$parent.item.created}}</div></div></div></content-responsive></paginated-table></div></div></div></div>'),a.put("modules/customer-service/customer-service-user/customer-service-user.html",'<div class=row><div class=col-sm-12><div class="page-header-title customer-service-bg"><h4 class=page-title>Customer Service - User</h4><ol class=breadcrumb><li><a href=#/customer_service/users>Customer Service - Users</a></li><li><a href=javascript:void(0);>User {{cs_user.current_user.first_name}} {{cs_user.current_user.last_name}}</a></li></ol></div></div></div><div id=user-panel class="row customer-service-user"><div class="col-md-7 col-lg-5"><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h3 class=panel-title>User #{{cs_user.current_user.user_id}}</h3><button type=button data-toggle=modal data-target=#edit-user-modal ng-click=cs_user.openEditUser() class="btn-primary btn-danger btn">Edit</button></div><div class=panel-body><div class=row-container><div><label>Email</label><div class=text-wrap-word-break>{{cs_user.current_user.email}}</div></div><a class=align-text-right href=javascript:void(0); ng-click=cs_user.getDeliveryAddresses()>Delivery Addresses</a></div><div class=row-container><div><label>First Name</label><div>{{cs_user.current_user.first_name}}</div></div><a class=align-text-right href=javascript:void(0); ng-click=cs_user.getOrderHistory()>Order History</a></div><div class=row-container><div><label>Last Name</label><div>{{cs_user.current_user.last_name}}</div></div><a class=align-text-right href=javascript:void(0); ng-click=cs_user.getRefundHistory()>Refund Information</a></div><div class=row-container><div><label>Last Four</label><div>{{cs_user.current_user.last_four}}</div></div><a class=align-text-right href=javascript:void(0); ng-click=cs_user.getBrandLoyalty()>Brand Loyalty</a></div><div class=row-container><div><label>Phone</label><div>{{cs_user.formatPhone(cs_user.current_user.contact_no)}}</div></div><a ng-show=!cs_user.current_user.blacklisted class=align-text-right href=javascript:void(0); ng-click=cs_user.openBlacklistUser()>Blacklist User</a> <a ng-show=cs_user.current_user.blacklisted class=align-text-right href=javascript:void(0); ng-click=cs_user.showBlackListUserReason()>User Blacklisted</a></div><a ng-click=cs_user.openDeleteUserPopup() class="pull-right margin" href=javascript:void(0);>Permanently Delete User</a><div ng-show="cs_user.user_service.hasPermission(\'set_default_loyalty\')" class="row-container clear"><div ng-show=!cs_user.current_user.primary_loyalty_default><div><a class=align-text-right href=javascript:void(0); ng-click=cs_user.setPrimaryLoyaltyAccount()>Set Primary Loyalty Account</a></div></div><div ng-show=cs_user.current_user.primary_loyalty_default><div><i class="fa fa-check-circle" aria-hidden=true></i> Primary Loyalty Account</div></div></div><div class="alert alert-success alert-reg-position fade-effect" ng-show=cs_user.edit_user.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i>The user {{cs_user.current_user.first_name}} {{cs_user.current_user.last_name}} has been created!</div></div></div></div></div><div class=customer-service-user ng-show="cs_user.current_bottom_panel == \'delivery_addresses\'"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Delivery Address</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=cs_user.delivery_address.loading><div class=filter-loader></div></div><table class="table content-table" ng-show=!cs_user.delivery_address.loading><thead><tr><th>Name</th><th>Address</th><th class=fix-table-wrap>Address 2</th><th>City</th><th>ST</th><th>Zip</th><th>Phone</th><th>Inst</th></tr></thead><tbody><tr ng-repeat="address in cs_user.delivery_address.addresses"><td>{{address.name}}</td><td>{{address.address1}}</td><td>{{address.address2}}</td><td>{{address.city}}</td><td>{{address.state}}</td><td class=fix-table-wrap>{{address.zip}}</td><td class=fix-table-wrap>{{address.phone_no}}</td><td class=text-wrap-word-break>{{address.instructions}}</td></tr></tbody></table><div id=disable-hover-card class=content-responsive><div ng-repeat="address in cs_user.delivery_address.addresses"><div class="panel panel-body row-table"><div class=name ng-show=!!address.address1><h5 class=dark-grey><b>{{address.address1}}</b></h5></div><div class=id ng-show=!!address.zip><h5 class="dark-grey id-title">Zip Code: <span class=id-number>{{address.zip}}</span></h5></div><div class="description clear"><div class=merchant-address ng-show=!!address.address2>Address 2: {{address.address2}}</div><div>City: {{address.city}} State: {{address.state}}</div><div ng-show=!!address.name>Name: {{address.name}}</div><div ng-show=!!address.phone_no>Phone: {{address.phone_no}}</div><div ng-show=!!address.instructions>{{address.instructions}}</div></div></div></div></div></div></div></div><div class=customer-service-user-order-history ng-show="cs_user.current_bottom_panel == \'order_history\'"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Order History</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=cs_user.order_history.loading><div class=filter-loader></div></div><table class="table table-hover content-table" ng-show=!cs_user.order_history.loading><thead><tr><th>ID</th><th>Order Date</th><th>Amount</th><th>Item Qty</th><th>Grand Total</th><th>Promo</th><th>Promo Amt</th><th>Status</th></tr></thead><tbody><tr ng-repeat="order in cs_user.order_history.orders" ng-click=cs_user.viewOrder(order)><td>{{order.order_id}}</td><td>{{order.order_dt_tm}}</td><td>{{order.order_amt}}</td><td>{{order.order_qty}}</td><td>{{order.grand_total}}</td><td>{{order.promo_code}}</td><td>{{order.promo_amt}}</td><td>{{order.status}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="order in cs_user.order_history.orders" ng-click=cs_user.viewOrder(order)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>Order ID: {{order.order_id}}</b></h5></div><div class=id><h5 class="dark-grey id-title"><span class=id-number>{{order.order_dt_tm}}</span></h5></div><div class="description clear"><div ng-show=!!order.order_qty>Item Qty: {{order.order_qty}} - Status: {{order.status}}</div><div>Amount: {{order.order_amt}} - Grand Total: {{order.grand_total}}</div><div class=text-wrap-word-break ng-show=!!order.promo_code>Promo Code: {{order.promo_code}}</div><div ng-show=!!order.promo_amt>Promo Amount: {{order.promo_amt}}</div></div></div></div></div></div></div></div><div class=customer-service-user-refund-history ng-show="cs_user.current_bottom_panel == \'refund_history\'"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Refund History</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=cs_user.refund_history.loading><div class=filter-loader></div></div><table class="table content-table" ng-show=!cs_user.refund_history.loading><thead><tr><th>ID</th><th>Date</th><th>Balance Before</th><th>Change Amt</th><th>Balance After</th><th>Process</th><th>Notes</th><th class=fix-table-wrap>Order ID</th></tr></thead><tbody><tr ng-repeat="refund in cs_user.refund_history.refunds"><td>{{refund.id}}</td><td>{{refund.created}}</td><td>{{refund.balance_before}}</td><td>{{refund.charge_amt}}</td><td>{{refund.balance_after}}</td><td>{{refund.process}}</td><td>{{refund.notes}}</td><td>{{refund.order_id}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="refund in cs_user.refund_history.refunds"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>Refund ID: {{refund.id}}</b></h5></div><div class=id><h5 class="dark-grey id-title"><span class=id-number>{{refund.created}}</span></h5></div><div class="description clear"><div>Order ID: {{refund.order_id}}</div><div>Charge Amount: {{refund.charge_amt}}</div><div>Balance, Before: {{refund.balance_before}} After: {{refund.balance_after}}</div><div>Progress: {{refund.process}}</div><div ng-show=!!refund.notes>Notes: {{refund.notes}}</div></div></div></div></div></div></div></div><div class=customer-service-user-brand-loyalty_history ng-show="cs_user.current_bottom_panel == \'brand_loyalty_history\'"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Brand Loyalty History</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=cs_user.brand_loyalty_history.loading><div class=filter-loader></div></div><table class="table content-table" ng-show=!cs_user.brand_loyalty_history.loading><thead><tr><th>Brand</th><th class=fix-table-wrap>Order ID</th><th>Process</th><th>Points Added</th><th>Points Redeemed</th><th>Date</th></tr></thead><tbody><tr ng-repeat="brand_loyalty in cs_user.brand_loyalty_history.histories"><td>{{brand_loyalty.brand.brand_name}}</td><td>{{brand_loyalty.order_id}}</td><td>{{brand_loyalty.process}}</td><td>{{brand_loyalty.points_added}}</td><td>{{brand_loyalty.points_redeemed}}</td><td class=fix-table-wrap>{{brand_loyalty.action_date}}</td></tr></tbody></table><div id=disable-hover-card class=content-responsive><div ng-repeat="brand_loyalty in cs_user.brand_loyalty_history.histories"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{brand_loyalty.brand.brand_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order ID <span class=id-number>{{brand_loyalty.order_id}}</span></h5></div><div class="description clear"><div>{{brand_loyalty.action_date}}</div><div>Points Added: {{brand_loyalty.points_added}}</div><div>Points Redeemed: {{brand_loyalty.points_redeemed}}</div><div>Process: {{brand_loyalty.process}}</div></div></div></div></div></div></div></div><div class=customer-service-user-loyalty ng-show="cs_user.current_bottom_panel == \'brand_loyalty\'"><div class="panel panel-primary"><div class="panel-heading flex-init flex-justify-content-space-between"><h3 class=panel-title>Brand Loyalty</h3><button type=button data-toggle=modal data-target=#adjust-loyalty-modal ng-click=cs_user.adjustLoyalty() class="btn-primary btn-danger btn" ng-disabled="cs_user.brand_loyalty.loading || cs_user.brand_loyalty.details.length == 0">Adjust Loyalty</button></div><div class=panel-body><div class=filter-loader-contain ng-show=cs_user.brand_loyalty.loading><div class=filter-loader></div></div><table class="table table-hover content-table" ng-show=!cs_user.brand_loyalty.loading><thead><tr><th>Brand</th><th>Loyalty Number</th><th>Points</th><th>Created</th><th>Modified</th></tr></thead><tbody ng-repeat="detail in cs_user.brand_loyalty.details"><tr ng-click=cs_user.getLoyaltyDetails(detail)><td><i ng-show=!detail.details.show class="fa fa-plus-square inline m-r-5" aria-hidden=true></i> <i ng-show=detail.details.show class="fa fa-minus-square inline m-r-5" aria-hidden=true></i> {{detail.brand.brand_name}}</td><td>{{detail.loyalty_number}}</td><td>{{detail.points}}</td><td>{{detail.created}}</td><td>{{detail.modified}}</td></tr><tr class=row-hover-fix ng-show=detail.details.loading><td colspan=6><div class=filter-loader-contain><div class=filter-loader></div></div></td></tr><tr class=row-hover-fix ng-if="!detail.details.loading && !!detail.details.data && detail.details.data.length == 0 && detail.details.show"><td colspan=6>No records</td></tr><tr class=row-hover-fix ng-if="!detail.details.loading && !!detail.details.data && detail.details.data.length > 0 && detail.details.show"><th class=fix-table-wrap>Order ID</th><th>Process</th><th>Points Added</th><th>Points Redeemed</th><th>Date</th></tr><tr class=row-hover-fix ng-repeat="item in detail.details.data" ng-if="!detail.details.loading && !!detail.details.data && detail.details.data.length > 0 && detail.details.show"><td>{{item.order_id}}</td><td>{{item.process}}{{!!item.notes && item.notes !== \'\'? \' - \'+item.notes :\'\'}}</td><td>{{item.points_added}}</td><td>{{item.points_redeemed}}</td><td class=fix-table-wrap>{{item.action_date}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="detail in cs_user.brand_loyalty.details"><div class="panel panel-body row-table" ng-click=cs_user.getLoyaltyDetails(detail)><div class=name><h5 class=dark-grey><b>{{detail.brand.brand_name}}</b></h5></div><div class="description clear"><div>Loyalty Number: {{detail.loyalty_number}}</div><div>Points: {{detail.points}}</div><div>Created: {{detail.created}}</div><div>Modified: {{detail.modified}}</div></div></div><div ng-if=detail.details.loading><div class=filter-loader-contain><div class=filter-loader></div></div></div><div class="text-center panel-body" ng-show="!detail.details.loading && !!detail.details.data && detail.details.data.length == 0 && detail.details.show">No records</div><div ng-if="!detail.details.loading && !!detail.details.data && detail.details.data.length > 0 && detail.details.show"><div class=line-box-container><div class=line-border><span class=text>Details</span></div></div><div ng-repeat="item in detail.details.data"><hr ng-if="$index !== 0"><div class="panel panel-body"><div class=id><h5 class="dark-grey id-title">Order ID <span class=id-number>{{item.order_id}}</span></h5></div><div class="description clear"><div>Process: {{item.process}}</div><div>Points Added: {{item.points_added}}</div><div>Points Redeemed: {{item.points_redeemed}}</div><div ng-if="!!item.notes && item.notes !== \'\'">Notes: {{item.notes}}</div><div class=pull-right>{{item.action_date}}</div></div></div></div><div class=line-box-container><div class=line-border></div></div></div></div></div></div></div></div><div id=edit-user-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>User Detail {{cs_user.edit_user.user_id}}</h4></div><div class=modal-body><form name=cs_user.edit_user_form class=form-horizontal novalidate ng-submit=cs_user.updateUser()><div class=form-group><label class="col-md-4 control-label">First Name</label><div class="col-md-8 m-t-5"><input type=text class="input-large form-control" name=first_name ng-model=cs_user.edit_user.first_name ng-fade></div></div><div class=form-group><label class="col-md-4 control-label">Last Name</label><div class="col-md-8 m-t-5"><input type=text class="input-large form-control" name=last_name ng-model=cs_user.edit_user.last_name ng-fade></div></div><div class=form-group><label class="col-md-4 control-label">Email</label><div class="col-md-8 m-t-5"><input type=email class="input-large form-control" name=email ng-model=cs_user.edit_user.email ng-fade ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="cs_user.edit_user_form.email.$error.required\n                                 && cs_user.edit_user.submit" role=alert>Email is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Phone</label><div class="col-md-8 m-t-5"><input type=text class="input-large form-control" name=contact_no ng-model=cs_user.edit_user.contact_no ng-fade ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="cs_user.edit_user_form.contact_no.$error.required\n                                 && cs_user.edit_user.submit" role=alert>Email is required.</div></div></div><div class=modal-footer><div ng-show=cs_user.edit_user.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=adjust-loyalty-modal class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Adjust Loyalty for {{cs_user.current_user.first_name+\' \'+cs_user.current_user.last_name}}</h4></div><div class=modal-body><form name=cs_user.adjust_loyalty_form novalidate ng-submit=cs_user.adjustLoyaltySubmit()><div class=form-group ng-show="cs_user.user_service.hasPermission(\'brands_filter\')"><label class=control-label>Brand Name</label><select name=brand_name class=form-control ng-model=cs_user.loyalty.brand_id required ng-options="item.brand_id as item.brand_name for item in cs_user.user_loyalty_programs"></select></div><div class=form-group><label class=control-label>Adjust Points +/-</label><input type=number class=form-control name=points ng-model=cs_user.loyalty.points ng-pattern="/^[+-]?(?!(0))[0-9]{1,}$/" required><div class="alert alert-danger alert-reg-position" ng-if="(cs_user.adjust_loyalty_form.points.$touched || cs_user.adjust_loyalty_form.$submitted) && cs_user.adjust_loyalty_form.points.$error.required" role=alert>The points number is required.</div><div class="alert alert-danger alert-reg-position" ng-if="(cs_user.adjust_loyalty_form.points.$touched || cs_user.adjust_loyalty_form.$submitted) && cs_user.adjust_loyalty_form.points.$error.pattern" role=alert>Please enter a valid number.</div></div><div class=form-group><label class=control-label>Notes</label><textarea type=text class=form-control style="resize: none" name=notes ng-model=cs_user.loyalty.notes required></textarea><div class="alert alert-danger alert-reg-position" ng-if="(cs_user.adjust_loyalty_form.notes.$touched || cs_user.adjust_loyalty_form.$submitted) && cs_user.adjust_loyalty_form.notes.$error.required" role=alert>The notes field is required.</div></div><div class=form-group><div class="alert alert-danger alert-reg-position" ng-if=cs_user.loyalty.error role=alert>There was an error please contact support.</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal ng-click=cs_user.reset()>Cancel</button> <input type=submit id=submit value=Submit class="btn btn-success"/></div></form></div></div></div></div><div id=blacklist-user-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Blacklist User {{cs_user.current_user.first_name}} {{cs_user.current_user.last_name}}</h4></div><div class=modal-body><form name=cs_user.blacklist_user_form class=form-horizontal novalidate ng-submit=cs_user.blacklistUser()><div class=form-group><label class="col-md-4 control-label">Note</label><div class="col-md-8 m-t-5"><input type=text class="input-large form-control" name=black_list_note placeholder="Enter Blacklist Reason" ng-model=cs_user.blacklist_reason maxlength=50 ng-required=true ng-fade><div class="alert alert-danger alert-reg-position" ng-if="(cs_user.blacklist_user_form.black_list_note.$touched || cs_user.blacklist_user_form.$submitted) && cs_user.blacklist_user_form.black_list_note.$error.required" role=alert>A note is required to blacklist a user.</div></div></div><div class="alert alert-danger alert-reg-position" role=alert>This will permanently affect this user\'s account, and all associated with this phone number. This action cannot be reversed.</div><div class=modal-footer><div ng-show=cs_user.edit_user.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=delete-user-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Delete User {{cs_user.current_user.first_name}} {{cs_user.current_user.last_name}}</h4></div><div class=modal-body><div class="alert alert-danger alert-reg-position" role=alert>This will permanently delete this user\'s account, and all associated personally identifiable information. This action cannot be reversed.</div><div class=modal-footer><div ng-show=cs_user.edit_user.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=cs_user.deleteUser()>Submit</button></div></div></div></div></div>'),a.put("modules/customer-service/customer-service/customer-service.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class="pull-left page-title">Customer Service</h4></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Orders</h3></div><div class=panel-body><form name=customer_service.search_form novalidate ng-submit=customer_service.searchOrders()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box style="width: 270px"><input type=text class=form-control id=search_text name=search_text ng-model=customer_service.search.text></div><button type=submit class="btn-default btn m-l-10">Search</button></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(customer_service.search_form.search_text.$error.required && customer_service.search_form.search_text.$touched) ||\n                                 (customer_service.search_form.search_text.$error.required && customer_service.search_form.$submitted)" role=alert>You must type at least one letter on search field.</div></div><div class="checkbox m-l-2"><label><input type=checkbox name=search_past_seven_days ng-model=customer_service.search.past_seven_days> Search Beyond 7 Days <span></span></label></div></form></div></div></div><div class=col-md-6 ng-class=customer_service.hasSearchResult()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Recently Visited</h3></div><div class="panel-body recently-visited-container"><div class="panel panel-body row-table" ng-repeat="recent_order in customer_service.recently_visited_orders" data-toggle=modal ng-click=customer_service.viewOrder(recent_order)><div><h5 class=bold>{{recent_order.order_id}} - ${{recent_order.grand_total}}</h5></div><div>{{recent_order.order_dt_tm}}<br>{{recent_order.merchant.name}}<br>{{recent_order.order_user.first_name}} {{recent_order.order_user.last_name}}<br></div></div><div ng-show="customer_service.recently_visited_orders.length %2 == 1" class=fake-div></div><div ng-show="customer_service.recently_visited_orders.length == 1" class=fix-div-1></div><div ng-show="customer_service.recently_visited_orders.length >= 4" class=fake-div></div><div ng-show="customer_service.recently_visited_orders.length >= 4" class=fake-div></div><div ng-show="customer_service.recently_visited_orders.length == 5"></div><div ng-show="customer_service.recently_visited_orders.length == 5"></div><div ng-show="customer_service.recently_visited_orders.length == 5"></div></div></div></div></div><div class="row customer-service"><div class=col-md-12 ng-show=customer_service.first_search><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Results</h3></div><div class=panel-body><paginated-table container-id="\'customer-service-search-results-table\'" field-names=customer_service.fieldNames params=customer_service.searchParams click-event=customer_service.viewOrder endpoint-string="\'/orders_search\'"><content-responsive><div class="panel panel-body row-table" ng-click=customer_service.viewOrder($parent.item)><div class=name><h5 class=dark-grey><b>{{$parent.item.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order ID <span class=id-number ng-bind-html=$parent.item.order_id></span></h5></div><div class="description clear"><div>Merchant ID: {{$parent.item.merchant_id}}</div><div>Name: {{$parent.item.first_name}} {{$parent.item.last_name}}</div><div class=merchant-address>{{$parent.item.address1}}</div><div ng-show=!!$parent.item.order_dt_tm>Date: {{$parent.item.order_dt_tm}}</div><div>Status: {{$parent.item.status}}</div><div>Qty: {{$parent.item.order_qty}} - Total: {{$parent.item.grand_total}}</div><div>Cash: {{$parent.item.cash}} - Type: {{$parent.item.order_type}}</div></div></div></content-responsive></paginated-table></div></div></div><div class="col-md-12 customer-service" ng-show=!customer_service.first_search><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Last 25 Orders</h3></div><div class=panel-body><div class=row><div class=filter-loader-contain ng-show=customer_service.loading><div class=filter-loader></div></div><table class="table table-hover table-condensed content-table" ng-show=!customer_service.loading><thead><tr><th>Order ID</th><th>First</th><th>Last</th><th>Merchant ID</th><th>Merchant Name</th><th>Address</th><th>Qty</th><th>Total</th><th>In Store Payment</th><th>Order Status</th><th>Order Date</th></tr></thead><tbody><tr ng-repeat="order in customer_service.last_25_orders" ng-click=customer_service.viewOrder(order)><td ng-bind-html=order.order_id></td><td class=text-wrap-word-break>{{order.first_name}}</td><td class=text-wrap-word-break>{{order.last_name}}</td><td>{{order.merchant_id}}</td><td class=text-wrap-word-break>{{order.name}}</td><td>{{order.address1}}</td><td>{{order.order_qty}}</td><td>{{order.grand_total}}</td><td>{{order.cash}}</td><td>{{order.status}}</td><td>{{order.order_dt_tm}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="order in customer_service.last_25_orders" ng-click=customer_service.viewOrder(order)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{order.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order ID <span class=id-number ng-bind-html=order.order_id></span></h5></div><div class="description clear"><div>Merchant ID: {{order.merchant_id}}</div><div>Name: {{order.first_name}} {{order.last_name}}</div><div class=merchant-address>{{order.address1}}</div><div ng-show=!!order.order_dt_tm>Date: {{order.order_dt_tm}}</div><div>Status: {{order.status}}</div><div>Qty: {{order.order_qty}} - Total: {{order.grand_total}}</div><div>Cash: {{order.cash}} - Type: {{order.order_type_complete}}</div></div></div></div></div></div></div></div></div></div>'),a.put("modules/customer-service/future-orders/future-orders.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Future Orders</h4></div></div></div><div id=future-orders-page class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Orders</h3></div><div class=panel-body><form name=vm.search_form novalidate ng-submit=vm.searchOrders()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box style="width: 270px"><input type=text class=form-control id=search_text name=search_text ng-model=vm.search_text></div><button type=submit class="btn-default btn m-l-10">Search</button></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(vm.search_form.search_text.$error.required && vm.search_form.search_text.$touched) ||\n                                 (vm.search_form.search_text.$error.required && vm.search_form.$submitted)" role=alert>You must type at least one letter on search field.</div></div></form></div></div></div><div class=col-md-6 ng-class=vm.hasSearchResult()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Recently Visited</h3></div><div class="panel-body recently-visited-container"><div class="panel panel-body row-table" ng-repeat="recent_order in vm.recently_visited_orders" data-toggle=modal ng-click=vm.viewOrder(recent_order)><div><h5 class=bold>{{recent_order.order_id}} - ${{recent_order.grand_total}}</h5></div><div>{{recent_order.order_dt_tm}}<br>{{recent_order.merchant.name}}<br>{{recent_order.order_user.first_name}} {{recent_order.order_user.last_name}}<br></div></div><div ng-show="customer_service.recently_visited_orders.length %2 == 1" class=fake-div></div><div ng-show="customer_service.recently_visited_orders.length == 1" class=fix-div-1></div><div ng-show="customer_service.recently_visited_orders.length >= 4" class=fake-div></div><div ng-show="customer_service.recently_visited_orders.length >= 4" class=fake-div></div><div ng-show="customer_service.recently_visited_orders.length == 5"></div><div ng-show="customer_service.recently_visited_orders.length == 5"></div><div ng-show="customer_service.recently_visited_orders.length == 5"></div></div></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading flex-init flex-justify-content-space-between"><h3 class=panel-title>Search Results</h3><button class="btn btn-primary" ng-click=vm.refresh()>Refresh</button></div><div class=panel-body><paginated-table container-id="\'customer-service-future-orders-table\'" field-names=vm.fieldNames params=vm.searchParams click-event=vm.viewOrder endpoint-string="\'/future_orders\'"><content-responsive><div class="panel panel-body row-table" ng-click=vm.viewOrder($parent.item)><div class=name><h5 class=dark-grey><b>{{$parent.item.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order ID <span class=id-number ng-bind-html=$parent.item.order_id></span></h5></div><div class="description clear"><div>Merchant ID: {{$parent.item.merchant_id}}</div><div>Name: {{$parent.item.first_name}} {{$parent.item.last_name}}</div><div class=merchant-address>{{$parent.item.address1}}</div><div ng-show=!!$parent.item.order_dt_tm>Order Date: {{$parent.item.order_dt_tm}}</div><div ng-show=!!$parent.item.pickup_dt_tm><b>Due Date:</b> {{$parent.item.pickup_dt_tm}}</div><div>Qty: {{$parent.item.order_qty}} - Total: {{$parent.item.grand_total}}</div><div>Cash: {{$parent.item.cash}} - Type: {{$parent.item.order_type}}</div></div></div></content-responsive></paginated-table></div></div></div></div>'),
a.put("modules/customer/customer-confirm/customer-confirm.html",'<div ng-if=vm.validGuid><div class=splickit-img-container><img class=hidden-xs src=https://s3.amazonaws.com/com.yourbiz.products/admin_portal/merchant_form_1/img/girl_with_ipad.jpg> <img class=visible-xs src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/girl_with_ipad_small.jpg><div class="after yellow"><div class=logo-container><img src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/logo.png> <span class=slogan>DIGITAL ORDERING PLATFORM</span></div></div></div><div class=splickit-benefits><h4 class=title>Start Taking Online Orders Now</h4><div class=row><div class="center-elements-column col-md-3 col-sm-3 col-xs-6"><div class=benefit-container><img src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/icon1.png> <span class=benefit-desc>Get online in days,<br>not months</span></div></div><div class="center-elements-column col-md-3 col-sm-3 col-xs-6"><div class=benefit-container><img src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/icon2.png> <span class=benefit-desc>Increase<br>sales</span></div></div><div class="center-elements-column col-md-3 col-sm-3 col-xs-6"><div class=benefit-container><img src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/icon3.png> <span class=benefit-desc>Branded<br>customer experience</span></div></div><div class="center-elements-column col-md-3 col-sm-3 col-xs-6"><div class=benefit-container><img src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/icon4.png> <span class=benefit-desc>Unlimited orders,<br>no high commissions</span></div></div></div></div><div class=splickit-pricing><h4 class=title>Pricing</h4><div class="row vdivide"><div class="center-elements-column col-md-4 col-sm-4 col-xs-6"><div class=pricing><span class=plan>Monthly Plan</span><div class=price><span class=usd>$</span>149<span class=month>/mo</span></div><div class=setup-fee><span class=plus>+</span>$199 Setup Fee</div><span class=per-location>Per Location</span></div></div><div class="center-elements-column col-md-4 col-sm-4 col-xs-6 last-border"><div class=pricing><span class=plan>Annual Plan</span><div class=price><span class=usd>$</span>119<span class=month>/mo</span></div><div class=setup-fee><span class=plus>+</span>$199 Setup Fee</div><span class=per-location>Per Location</span></div></div><div class="center-elements-column col-md-4 col-sm-4 col-xs-12"><div class=pricing><span class=plan>Two-Year Plan</span><div class=price><span class=usd>$</span>99<span class=month>/mo</span></div><div class=setup-fee><span class=plus>+</span>$199 Setup Fee</div><span class=per-location>Per Location</span></div></div></div></div><div class=splickit-features><h4 class=title>FEATURES</h4><div class=row><div class="feature-block col-md-4 col-sm-6 col-xs-6"><span class=feature>Web and Mobile Ordering</span></div><div class="feature-block col-md-4 col-sm-6 col-xs-6"><span class=feature>Easy Menu Management</span></div><div class="feature-block col-md-4 col-sm-6 col-xs-6"><span class=feature>Loyalty and Rewards</span></div><div class="feature-block col-md-4 col-sm-6 col-xs-6"><span class=feature>Promotions</span></div><div class="feature-block col-md-4 col-sm-6 col-xs-6"><span class=feature>Favorites and Re-order</span></div><div class="feature-block col-md-4 col-sm-6 col-xs-6"><span class=feature>Reporting and Insights</span></div></div></div><form name=vm.form novalidate ng-submit=vm.create()><div class="splickit-img-container cropped-area"><img class="hidden-sm hidden-xs" src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/blue_doorway_blurred.jpg> <img class="visible-sm visible-xs" src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/blue_doorway_blurred_small.jpg><div class="after black"><div class=splickit-options><h4 class=title>Select Your Options To Get Started!</h4><h5 class=sub-title>Choose Your Plan</h5><div class=plans><div><label class="control control-checkbox plan">Monthly <input type=radio name=offer ng-model=vm.customerPlan.offer value=id-1 ng-required="true"/><div class=control-indicator></div></label></div><div><label class="control control-checkbox plan">Annual <input type=radio name=offer ng-model=vm.customerPlan.offer value=id-2 ng-required="true"/><div class=control-indicator></div></label></div><div><label class="control control-checkbox plan">2-Year <input type=radio name=offer ng-model=vm.customerPlan.offer value=id-3 ng-required="true"/><div class=control-indicator></div></label></div></div><h5 class=sub-title>Add-Ons</h5><span class=sub-title-info>(<span class=info>Optional</span>)</span><div class=add-ons><div class=center-elements-column><label class="control control-checkbox add-on">Branded Apps <input type=checkbox name=addons[] ng-model=vm.customerPlan.addons[0] value="id-1"/><div class=control-indicator></div></label><div class="add-on price"><span class=usd>$</span>49<span class=month>/MO</span></div></div><div class=center-elements-column><label class="control control-checkbox add-on">Wi-Fi Printer <input type=checkbox name=addons[] ng-model=vm.customerPlan.addons[1] value="id-2"/><div class=control-indicator></div></label><div class="add-on price"><span class=usd>$</span>199</div></div></div></div></div></div><div class="ng-hide flat-alert" ng-show="vm.form.offer.$error.required && (vm.form.offer.$faded || vm.customerPlan.submit)" role=alert>You have to select a plan</div><div class=splickit-payment><h4 class=title>CREDIT CARD INFO</h4><div ng-show=vm.processing class=margin-30><div><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><stripe-form disable=vm.processing></stripe-form><input id=inviInput type=tel style="border: 0px; color: transparent; width: 0px; height: 0px; background: transparent"></div></form></div>'),a.put("modules/customer/customer-create/customer-create.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Create New Customer</h4><ol class=breadcrumb><li><a href="#/">Home</a></li></ol></div></div></div><div class=row><div class=col-md-10><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>New Customer</h3></div><div class=panel-body><form name=vm.createForm class=form-horizontal novalidate ng-submit=vm.create()><h4 class=dark-grey>Owner Info</h4><div class=form-group><label class="col-md-4 control-label">Name</label><div class=col-md-8><input type=text class="input-large form-control" name=contact_name placeholder="Enter Contact Name" maxlength=100 ng-model=vm.newLead.contact_name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.contact_name.$error.required\n                                 && (vm.createForm.contact_name.$faded || vm.newLead.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Title</label><div class=col-md-8><input type=text class="input-large form-control" name=contact_title placeholder="Enter Contact Title" maxlength=100 ng-model=vm.newLead.contact_title ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.contact_title.$error.required\n                                 && (vm.createForm.contact_title.$faded || vm.newLead.submit)" role=alert>Title is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Email</label><div class=col-md-8><input type=email class="input-large form-control" name=contact_email placeholder="Enter Email Address" maxlength=100 ng-pattern="/^[_a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,4})$/" ng-model=vm.newLead.contact_email ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(vm.createForm.contact_email.$error.required || vm.createForm.contact_email.$error.email\n                                 || vm.createForm.contact_email.$error.pattern)\n                                 && (vm.createForm.contact_email.$faded || vm.newLead.submit)" role=alert>Email is required and must be in a valid email format.</div></div></div><div class=form-group><label class="col-md-4 control-label">Phone Number</label><div class=col-md-8><input type=text class="input-large form-control" name=contact_phone_no placeholder=Phone ng-fade ng-model=vm.newLead.contact_phone_no ng-required=true valid-phone maxlength=100><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.contact_phone_no.$error.required\n                                 && (vm.createForm.contact_phone_no.$faded || vm.newLead.submit)" role=alert>Phone Number is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.contact_phone_no.$error.invalidPhone && !vm.createForm.contact_phone_no.$error.required\n                                 && (vm.createForm.contact_phone_no.$faded || vm.newLead.submit)" role=alert>Phone Number must contain 10 digits.</div></div></div><h4 class=dark-grey>Store Info</h4><div class=form-group><label class="col-md-4 control-label">Name</label><div class=col-md-8><input type=text class="input-large form-control" name=store_name placeholder="Enter Store Name" maxlength=100 ng-model=vm.newLead.store_name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_name.$error.required\n                                 && (vm.createForm.store_name.$faded || vm.newLead.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Address</label><div class="col-md-8 mt-5"><input type=text class="input-large form-control" name=store_address1 placeholder="Address Line 1" maxlength=100 ng-model=vm.newLead.store_address1 ng-required=true ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_address1.$error.required\n                                 && (vm.createForm.store_address1.$faded || vm.newLead.submit)" role=alert>Address Line 1 is required.</div><input type=text class="input-large form-control margin-top-five" name=store_address2 placeholder="Address Line 2" maxlength=100 ng-model=vm.newLead.store_address2 ng-fade> <input type=text class="input-med form-control margin-top-five inline" name=store_city placeholder=City maxlength=100 ng-model=vm.newLead.store_city ng-required=true ng-fade><div class="select input-micro margin-top-five inline margin-left-five"><select name=store_state class=form-control ng-required=true ng-model=vm.newLead.store_state ng-options="state.type_id_value as state.type_id_value for state in vm.states"><option class=placeholder-color value="" selected disabled>ST</option></select></div><input type=text class="input-small form-control margin-left-five margin-top-five inline" name=store_zip placeholder="Zip Code" maxlength=5 ng-pattern=/(\\d{5})/g ng-model=vm.newLead.store_zip ng-required=true ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_city.$error.required && (vm.createForm.store_city.$faded || vm.newLead.submit)" role=alert>City is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_state.$error.required && (vm.createForm.store_state.$faded || vm.newLead.submit)" role=alert>State is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_zip.$error.required && (vm.createForm.store_zip.$faded || vm.newLead.submit)" role=alert>Zip code is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_zip.$error.pattern && !vm.createForm.store_zip.$error.required && (vm.createForm.store_zip.$faded || vm.newLead.submit)" role=alert>Zip code is invalid.</div><div class="select input-large margin-top-five"><select name=store_country class=form-control ng-required=true ng-model=vm.newLead.store_country ng-options="country.type_id_value as country.type_id_name for country in vm.countries"><option class=placeholder-color value="" selected disabled>Country</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_country.$error.required && (vm.createForm.store_country.$faded || vm.newLead.submit)" role=alert>Country is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Email</label><div class=col-md-8><input type=email class="input-large form-control" name=store_email placeholder="Enter Email Address" maxlength=100 ng-pattern="/^[_a-z0-9]+(\\.[_a-z0-9]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)*(\\.[a-z]{2,4})$/" ng-model=vm.newLead.store_email ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(vm.createForm.store_email.$error.required || vm.createForm.store_email.$error.email ||\n                                 vm.createForm.store_email.$error.pattern)\n                                 && (vm.createForm.store_email.$faded || vm.newLead.submit)" role=alert>Email is required and must be in a valid email format.</div></div></div><div class=form-group><label class="col-md-4 control-label">Time Zone</label><div class=col-md-8><div class="select input-x-large"><select name=store_time_zone class=form-control ng-required=true ng-model=vm.newLead.store_time_zone ng-options="time_zone.type_id_value as time_zone.type_id_name for time_zone in vm.time_zones"><option class=placeholder-color value="" disabled>Time Zone</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_time_zone.$error.required &&\n                                 (vm.createForm.store_time_zone.$faded || vm.newLead.submit)" role=alert>Time Zone is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Phone Number</label><div class=col-md-8><input type=text class="input-large form-control" name=store_phone_no placeholder=Phone ng-fade ng-model=vm.newLead.store_phone_no ng-required=true valid-phone maxlength=100><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_phone_no.$error.required\n                                 && (vm.createForm.store_phone_no.$faded || vm.newLead.submit)" role=alert>Phone Number is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.store_phone_no.$error.invalidPhone && !vm.createForm.store_phone_no.$error.required\n                                 && (vm.createForm.store_phone_no.$faded || vm.newLead.submit)" role=alert>Phone Number must contain 10 digits.</div></div></div><div class=form-group><label class="col-md-4 control-label">Category</label><div class=col-md-8><input type=text class="input-large form-control" name=category placeholder="Enter Restaurant Category" maxlength=100 ng-model=vm.newLead.category ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.category.$error.required\n                                 && (vm.createForm.category.$faded || vm.newLead.submit)" role=alert>Category is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Ordering Type</label><div class=col-md-8><div class="select input-large"><select name=service class=form-control ng-model=vm.newLead.service ng-fade ng-required=true ng-options="service for service in vm.services"><option class=placeholder-color value="" selected disabled>Select Ordering Type</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.service.$error.required && (vm.createForm.service.$faded || vm.newLead.submit)" role=alert>Ordering Type is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Payment Type</label><div class=col-md-8><div class="select input-large"><select name=payment class=form-control ng-model=vm.newLead.payment ng-fade ng-required=true ng-options="payment for payment in vm.payments"><option class=placeholder-color value="" selected disabled>Select Payment Type</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.payment.$error.required && (vm.createForm.payment.$faded || vm.newLead.submit)" role=alert>A Payment Type is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Ordering Site URL</label><div class=col-md-8><div class="input-group input-large"><input type=text class=form-control name=subdomain placeholder=Subdomain maxlength=60 ng-pattern="/^[a-zA-Z0-9][a-zA-Z0-9.-]+[a-zA-Z0-9]$/" ng-model=vm.newLead.subdomain ng-fade ng-required=true> <span class=input-group-addon>.splickit.com</span></div></div><div class="col-md-8 col-md-offset-3"><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.subdomain.$error.required\n                                 && (vm.createForm.subdomain.$faded || vm.newLead.submit)" role=alert>Ordering Site URL is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.subdomain.$error.pattern && !vm.createForm.subdomain.$error.required\n                                 && (vm.createForm.subdomain.$faded || vm.newLead.submit)" role=alert>Ordering Site URL must have a valid subdomain format.</div></div></div><div class=form-group><label class="col-md-4 control-label">Subscription Type</label><div class=col-md-8><div angucomplete-alt placeholder="Type the name or description" pause=100 selected-object=vm.newLead.offer remote-url="/offers?search_params=name,description&search=" remote-url-data-field=data title-field=name description-field=description minlength=1 field-required=true input-name=offer input-class="input-large form-control"></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.createForm.offer.$error[\'autocomplete-required\']\n                                 && (vm.createForm.offer.$faded || vm.newLead.submit)" role=alert>Subscription Type is required.</div></div></div><h4 class=dark-grey>Online Activity</h4><div class=form-group><label class="col-md-4 control-label">Restaurant URL</label><div class=col-md-8><input type=url class="input-large form-control" name=web_url placeholder="Enter Restaurant URL" maxlength=100 ng-pattern="/(http|ftp|https)://[a-z0-9\\-_]+(\\.[a-z0-9\\-_]+)+([a-z0-9\\-\\.,@\\?^=%&;:/~\\+#]*[a-z0-9\\-@\\?^=%&;/~\\+#])?/" ng-model=vm.newLead.web_url ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(vm.createForm.web_url.$error.url || vm.createForm.web_url.$error.pattern)\n                                 && (vm.createForm.web_url.$faded || vm.newLead.submit)" role=alert>Restaurant URL must be valid.</div></div></div><h5 class=dark-grey>Currently Use</h5><div class=form-group><label class="col-md-4 control-label">GrubHub</label><div class="col-md-2 m-t-5"><toggle-switch name=grubbub on-label=Yes off-label=No ng-model=vm.newLead.grubbub></toggle-switch></div><label class="col-md-2 control-label">Eat24</label><div class="col-md-5 m-t-5"><toggle-switch name=eat24 on-label=Yes off-label=No ng-model=vm.newLead.eat24></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">DoorDash</label><div class="col-md-2 m-t-5"><toggle-switch name=doordash on-label=Yes off-label=No ng-model=vm.newLead.doordash></toggle-switch></div><label class="col-md-2 control-label">Postmates</label><div class="col-md-5 m-t-5"><toggle-switch name=postmates on-label=Yes off-label=No ng-model=vm.newLead.postmates></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Facebook</label><div class="col-md-2 m-t-5"><toggle-switch name=facebook on-label=Yes off-label=No ng-model=vm.newLead.facebook></toggle-switch></div><label class="col-md-2 control-label">ChowNow</label><div class="col-md-5 m-t-5"><toggle-switch name=chownum on-label=Yes off-label=No ng-model=vm.newLead.chownum></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Yelp</label><div class="col-md-2 m-t-5"><toggle-switch name=yelp on-label=Yes off-label=No ng-model=vm.newLead.yelp></toggle-switch></div><label class="col-md-2 control-label">Google Places</label><div class="col-md-5 m-t-5"><toggle-switch name=google_places on-label=Yes off-label=No ng-model=vm.newLead.google_places></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Groupon</label><div class="col-md-2 m-t-5"><toggle-switch name=groupon on-label=Yes off-label=No ng-model=vm.newLead.groupon></toggle-switch></div><label class="col-md-2 control-label">UberEATS</label><div class="col-md-5 m-t-5"><toggle-switch name=ubereats on-label=Yes off-label=No ng-model=vm.newLead.ubereats></toggle-switch></div></div><div class=col-md-12><div ng-show=vm.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class="submit-contain pull-right"><button class="btn-success btn">Submit</button></div></form></div></div></div></div>'),a.put("modules/customer/customer-sales-report/customer-sales-report.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Sales Status Report</h4><ol class=breadcrumb><li><a href="/#/">Home</a></li></ol></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Customer Onboarding Progress</h3></div><div class="panel-body min-panel"><div class=form-horizontal><div class=form-group><label class="col-md-2 control-label">Date Range</label><div class=col-md-10><div class="select input-large"><select name=brand class=form-control ng-required=true ng-model=vm.selectedPeriod ng-change=vm.onPeriodChanged() ng-options="timePeriod.desc for timePeriod in vm.timePeriods track by timePeriod.key"><option class=placeholder-color value="" selected disabled>Time Period</option></select></div></div></div><div ng-show="!!vm.selectedPeriod && vm.selectedPeriod.key==\'custom\'"><div class=form-group><label class="col-md-2 control-label">From</label><div class=col-md-10><div class="input-group input-large date" id=from_date><input type=text class="form-control"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div><div class=form-group><label class="col-md-2 control-label">To</label><div class=col-md-10><div class="input-group input-large date" id=to_date><input type=text class="form-control"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div></div><div ng-show=vm.processing class=col-md-12 style="padding: 60px"><div class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div></div><div ng-show="(!vm.leads || !vm.leads.length) && !vm.processing" class="col-md-12 message-container"><h5 class=pre-load-text>No records were found.</h5></div><table ng-show="!!vm.leads && !!vm.leads.length && !vm.processing" class=table><thead><tr><th class=right-text>Customer ID</th><th>Store</th><th>Owner</th><th>City/State</th><th>Email</th><th>Phone</th><th>Started</th><th>Paid</th><th>Appointment Set</th></tr></thead><tbody><tr ng-repeat="lead in vm.leads"><td class=right-text>{{ lead.id }}</td><td>{{ lead.store_name }}</td><td>{{ lead.contact_name }}</td><td>{{ lead.store_city }} {{ lead.store_state }}</td><td>{{ lead.contact_email }}</td><td>{{ lead.contact_phone_no }}</td><td>{{ lead.created_at |toDate | date: \'MM/dd/yyyy\'}}</td><td>{{ lead.first_form_completion |toDate | date: \'MM/dd/yyyy\'}}</td><td>{{ lead.second_form_completion |toDate | date: \'MM/dd/yyyy\'}}</td></tr></tbody></table></div></div></div></div>'),a.put("modules/customer/customer-setup/customer-setup.html",'<div ng-if=vm.validGuid><div class=splickit-img-container><img class=hidden-xs src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/girl_with_ipad.jpg> <img class=visible-xs src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/girl_with_ipad_small.jpg><div class="after yellow"><div class=logo-container><img src=https://d38o1hjtj2mzwt.cloudfront.net/admin_portal/merchant_form_1/img/logo.png> <span class=slogan>DIGITAL ORDERING PLATFORM</span></div></div></div><div class=splickit-steps><div class=center-box><h4 class=yellow-title>Just a Few More Steps to Get Your Digital Ordering Live!</h4><ol><li>Answer a few questions about your ordering preferences and sales tax.</li><li>Upload a copy of your menu.</li><li>Let us know the best time to have our on-boarding specialist call you to review your ordering site.</li></ol></div></div><form name=vm.form novalidate ng-submit=vm.create()><div class=splickit-setup><h4 class=black-title>Customer Setup</h4><div class=inline-flex-column-start><h4 class=subtitle>Ordering info</h4><div class=setup-row><label class=control-label>Sales Tax Rate</label><div class="input-group input-group-sm input-large"><input type=number class="input-control input-full margin-4" ng-class="{\'error-border\': (vm.form.sales_tax_rate.$error.required\n                                                 && (vm.form.sales_tax_rate.$faded || vm.customerInfo.submit))}" name=sales_tax_rate step=0.1 min=0 max=500 ng-pattern="/^[0-9]+(\\.[0-9]{1,3})?$/" placeholder="Enter Sales Tax Rate" maxlength=6 ng-model=vm.customerInfo.sales_tax_rate ng-fade ng-required=true> <span class=input-group-addon ng-class="{\'error-border\': (vm.form.sales_tax_rate.$error.required\n                                                 && (vm.form.sales_tax_rate.$faded || vm.customerInfo.submit))}">%</span></div><div class="error-full margin-5" ng-show="vm.form.sales_tax_rate.$error.required\n                                      && (vm.form.sales_tax_rate.$faded || vm.customerInfo.submit)"><div class="backgroundless-error ng-hide" ng-show="vm.form.sales_tax_rate.$error.required\n                                      && (vm.form.sales_tax_rate.$faded || vm.customerInfo.submit)" role=alert>Sales Tax Rate is required.</div><div class="backgroundless-error ng-hide" ng-show=vm.form.sales_tax_rate.$error.max role=alert>Sales Tax Rate cannot be greater than 500.</div><div class="backgroundless-error ng-hide" ng-show="vm.form.sales_tax_rate.$error.pattern ||\n                                      vm.form.sales_tax_rate.$error.number" role=alert>Sales Tax Rate has to be a valid positive number, with at most 3 decimal places</div></div></div><div class=setup-row><label class=control-label>Do you Deliver?</label><div class=m-t-5><toggle-switch name=has_delivery on-label=Yes off-label=No ng-model=vm.customerInfo.has_delivery></toggle-switch></div></div><div class=setup-row ng-show=vm.customerInfo.has_delivery><label class=control-label>Delivery Tax Rate</label><div class="input-group input-group-sm input-large"><input type=number class="input-control input-full margin-4" ng-class="{\'error-border\': (vm.form.delivery_tax_rate.$error.max) ||\n                                                          (vm.form.delivery_tax_rate.$error.pattern ||\n                                                 vm.form.delivery_tax_rate.$error.number)}" name=delivery_tax_rate step=0.1 min=0 max=500 ng-pattern="/^[0-9]+(\\.[0-9]{1,3})?$/" placeholder="Enter Delivery Tax Rate" maxlength=6 ng-model=vm.customerInfo.delivery_tax_rate ng-fade> <span class=input-group-addon ng-class="{\'error-border\': (vm.form.delivery_tax_rate.$error.max) ||\n                                                          (vm.form.delivery_tax_rate.$error.pattern ||\n                                                 vm.form.delivery_tax_rate.$error.number)}">%</span></div><div class="error-full margin-5"><div class=backgroundless-error ng-show=vm.form.delivery_tax_rate.$error.max role=alert>Delivery Tax Rate cannot be greater than 500.</div><div class=backgroundless-error ng-show="vm.form.delivery_tax_rate.$error.pattern ||\n                                                 vm.form.delivery_tax_rate.$error.number" role=alert>Delivery Tax Rate has to be a valid positive number, with at most 3 decimal places</div></div></div><div class=setup-row><label class=control-label>Allow Tipping?</label><div class=m-t-5><toggle-switch name=allow_tipping on-label=Yes off-label=No ng-model=vm.customerInfo.allow_tipping></toggle-switch></div></div><div class=setup-row><label class=control-label>Allow Group Orders?</label><div class=m-t-5><toggle-switch name=allow_group_orders on-label=Yes off-label=No ng-model=vm.customerInfo.allow_group_orders></toggle-switch></div></div><div class=setup-row><label class=control-label>Allow Advance Orders?</label><div class=m-t-5><toggle-switch name=allow_advanced_orders on-label=Yes off-label=No ng-model=vm.customerInfo.allow_advanced_orders></toggle-switch></div></div><div class=setup-row ng-show=vm.customerInfo.allow_advanced_orders><label class=control-label>Max Days</label><div class="input-group input-group-sm input-large"><input type=number class="input-control input-full margin-4" ng-class="{\'error-border\': (vm.form.advance_orders_max_days.$error.required\n                                         && (vm.form.advance_orders_max_days.$faded || vm.customerInfo.submit)) ||\n                                         (vm.form.advance_orders_max_days.$error.pattern ||\n                                             vm.form.advance_orders_max_days.$error.min\n                                             && (vm.form.advance_orders_max_days.$faded || vm.customerInfo.submit))\n                                             }" name=advance_orders_max_days min=1 max=7 placeholder="Enter How Many Days" ng-pattern="/^\\d*$/" ng-model=vm.customerInfo.advance_orders_max_days ng-fade ng-required=vm.customerInfo.allow_advanced_orders></div><div class="error-full margin-5"><div class="backgroundless-error ng-hide" ng-show="vm.form.advance_orders_max_days.$error.required\n                                             && (vm.form.advance_orders_max_days.$faded || vm.customerInfo.submit)" role=alert>Maximum number of days is required when \'Allow Advance Orders\' is selected.</div><div class="backgroundless-error ng-hide" ng-show="vm.form.advance_orders_max_days.$error.pattern ||\n                                             vm.form.advance_orders_max_days.$error.min\n                                             && (vm.form.advance_orders_max_days.$faded || vm.customerInfo.submit)" role=alert>The Maximum number of days can\'t be lesser than 1</div><div class="backgroundless-error ng-hide" ng-show="vm.form.advance_orders_max_days.$error.pattern ||\n                                             vm.form.advance_orders_max_days.$error.max\n                                             && (vm.form.advance_orders_max_days.$faded || vm.customerInfo.submit)" role=alert>The Maximum number of days can\'t be greater than 7</div><div class="backgroundless-error ng-hide" ng-show="vm.form.advance_orders_max_days.$error.pattern ||\n                                             vm.form.advance_orders_max_days.$error.number" role=alert>The Maximum number of days has to be a valid positive non-decimal number</div></div></div><h4 class=subtitle>Menu</h4><div class=setup-row><label class=control-label>Upload Menu Files</label><div class=btn-container><input type=file class="input-large form-control input-file" id=menu_files name=menu_files multiple ng-show=false placeholder="Select Menu Files" on-file-change=vm.imagesChanged accept=application/pdf,image/jpg,image/jpeg,image/png,image/bmp ng-model=vm.customerInfo.menu_files ng-fade> <button class="btn btn-sm fixed-width" ng-click=vm.openFilesDialog() ng-disabled="" type=button>Add Files</button> <button class="m-l-5 btn btn-default btn-sm fixed-width clear" ng-show=!!vm.menuFiles.length ng-click=vm.clearImages() type=button>Clear</button></div><div class="error-full margin-5"><div class="backgroundless-error ng-hide" ng-show="!vm.menuFiles.length && vm.customerInfo.submit" role=alert>You have to select at least one menu file.</div><div class="backgroundless-error ng-hide" ng-show="vm.menuFiles.length > 5" role=alert>You can\'t select more than 5 files.</div><div class="backgroundless-error ng-hide" ng-show=!vm.sizesAreValid() role=alert>The max size for each file is 5MB.</div><div class="backgroundless-error ng-hide" ng-show=!vm.typesAreValid() role=alert>You have selected one or more invalid file types.</div></div></div><div class=setup-row><h6 class=pre-load-text style="text-align: left; margin-top: -2px">Up to 5 files. Valid formats are: .png, .jpg, .bmp and .pdf (max. 5MB)</h6></div><div class="col-md-12 gallery" ng-show=!!vm.menuFiles.length><div class=img-wrap ng-repeat="image in vm.imagesPreview"><i class="fa fa-minus-circle close" aria-hidden=true ng-click="vm.removeImage(image.mainIndex, $index, \'image\')"></i> <img ng-src={{image.url}} title={{vm.fileTitle(image.file)}} ng-class="{img_error: !(vm.fileSizeIsValid(image.file) && vm.fileTypeIsValid(image.file))}"/></div><div class=img-wrap ng-repeat="pdf in vm.pdfsPreview"><i class="fa fa-minus-circle close" aria-hidden=true ng-click="vm.removeImage(pdf.mainIndex, $index, \'pdf\')"></i><pdf-thumbnail data-file=pdf.file data-thumbnail=pdf.thumbnail_data title={{vm.fileTitle(pdf.file)}} ng-class="{error: !(vm.fileSizeIsValid(pdf.file) && vm.fileTypeIsValid(pdf.file))}" data-thumb-width=180></pdf-thumbnail></div></div></div><div ng-show=vm.processing class=margin-30><div><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><button class="btn-submit btn submit-margins">Submit</button></div></form></div>'),
a.put("modules/customer/directive/stripe-form/stripe-form.html",'<div class=inline-flex-column-start><div class=payment-row><div class=inline-flex-column-start><div id=card-number class="input-control input-full margin-4"></div></div><div class=inline-flex-row-start><div class=inline-flex-column-start><div id=card-expiry class="input-control input-third margin-4"></div></div><div class=inline-flex-column-start><div id=card-cvc class="input-control input-third margin-4"></div></div></div></div><div class=payment-errors><div class="flex-init flex-direction-column"><div id=card-number-error class=backgroundless-error ng-show=vm.card_number.invalid></div><div id=card-expiry-error class=backgroundless-error ng-show=vm.card_expiry.invalid></div><div id=card-cvc-error class=backgroundless-error ng-show=vm.card_cvc.invalid></div></div></div><div class=payment-row><div class=inline-flex-column-start><input type=text class="input-control input-full margin-4 placeholder-fix" ng-disabled=vm.disable ng-class="{\'error-border\': (vm.parent.form.credit_card_first_name.$invalid &&\n                                    (vm.parent.form.credit_card_first_name.$faded || vm.parent.customerPlan.submit))}" name=credit_card_first_name placeholder="First Name" maxlength=100 ng-model=vm.customerPlan.credit_card_first_name ng-required=true ng-fade><div class="error-full margin-5" ng-show="vm.parent.form.credit_card_first_name.$error.required &&\n                                 (vm.parent.form.credit_card_first_name.$faded || vm.parent.customerPlan.submit)"><div class=backgroundless-error role=alert>First Name is Required</div></div></div><div class=inline-flex-column-start><input type=text class="input-control input-full margin-4 placeholder-fix" ng-disabled=vm.disable ng-class="{\'error-border\': (vm.parent.form.credit_card_last_name.$invalid &&\n                                    (vm.parent.form.credit_card_last_name.$faded || vm.parent.customerPlan.submit))}" name=credit_card_last_name placeholder="Last Name" maxlength=100 ng-model=vm.customerPlan.credit_card_last_name ng-required=true ng-fade><div class="error-full margin-5" ng-show="vm.parent.form.credit_card_last_name.$error.required &&\n                                 (vm.parent.form.credit_card_last_name.$faded || vm.parent.customerPlan.submit)"><div class=backgroundless-error role=alert>Last Name is Required</div></div></div></div><button class="btn-submit btn submit-margins" ng-disabled=vm.disable>Submit</button></div>'),a.put("modules/customer/side-bar.html",'<div class="left side-menu"><div class="sidebar-inner slimscrollleft"><div id=sidebar-menu ng-controller=SideNavCustomerController><div class="user-details hidden-xs"><div class=user-info ng-cloak>Customer Menu</div></div><ul><li><a href=#/customer/create class="waves-effect customersrv" ng-click="set_hover(\'customer_service\')" ng-class="{\'active\': active.customer_service}"><div id=customersrv class=main-icon ng-include="\'assets/icons/sidebar_icons/customersrv.html\'"></div><span>Customer Setup</span></a></li><li><a href=#/customer/sales_report class="waves-effect reports" ng-click="set_hover(\'report\')" ng-class="{\'active\': active.report}"><div id=reports class=main-icon ng-include="\'assets/icons/sidebar_icons/reports.html\'"></div><span>Sales Report</span></a></li></ul></div><div class=clearfix></div></div></div>'),a.put("modules/menu/directive/edit-allowed-modifiers/edit-allowed-modifiers.html",'<div id=edit-allowed-modifiers-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Option Settings - {{menu_item.data.item_name}}</h4></div><div class=modal-body><table id=table-fix class="table content-table"><thead><tr><th>Grouping</th><th>Max # of Selections<br>Per Grouping</th><th>Group Credit<br>(offsets Modifier Item up-charges)</th></tr></thead><tbody><tr ng-repeat="allowed_modifier_group in menu_item.data.allowed_modifier_groups"><td>{{allowed_modifier_group.display_name}}</td><td><input type=number class="input-in-row input-micro form-control" name=max_allowed min=0 ng-min=0 ng-model=allowed_modifier_group.max ng-fade></td><td><input type=text class="input-in-row input-sm form-control" name=price_override currency-format amount=allowed_modifier_group.price_override ng-model=allowed_modifier_group.price_override ng-fade></td></tr></tbody></table></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button id=submit-propagate-options class="btn btn-success" ng-disabled data-dismiss=modal ng-click=submitAllowedModifierChanges()>Submit</button></div></div></div></div>'),a.put("modules/menu/directive/propagation-select/propagation-select.html",'<div id=merchant-select-modal class="modal fade promo-merchant-select-modal" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title ng-show="propationOptions == 1">These changes belong to</h4><h4 class=modal-title ng-show="propationOptions != 1">Merchant Select</h4></div><div class=modal-body><div class=row><div class="col-md-12 m-b-20" ng-show="propationOptions == 1"><div class=form-group><label class="col-md-3 col-lg-3 control-label">Apply To</label><div class="col-md-9 col-lg-9"><select name=propagate_option_select class="form-control input-large margin-top-five" ng-required=true ng-model=merchant_search_service.propagate_type ng-fade ng-options="option.code as option.desc for option in propagate_options" ng-change="error = false; propertyName = null; reverse = false;"><option class=placeholder-color value="" selected disabled>Brand</option></select></div></div></div><div class=col-md-12 ng-show="merchant_search_service.propagate_type == \'subset\'"><div class=col-md-12><div class=form-group><input type=text class="input-med form-control" name=merchants_filter ng-enter="error = false; merchant_search_service.merchantSearch();" ng-model=merchant_search_service.search_text ng-fade placeholder=Filter><div class="col-md-12 button-select" ng-show=merchant_search_service.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div></div></div><div ng-show=!merchant_search_service.processing class="col-md-6 m-t-15" ng-class=selectMerchantOpacityFifty()><div class=form-group><label class="col-md-12 control-label">Merchant Results</label><div class=col-md-12 ng-class=selectMerchantOpacityFifty()><div class=m-t-20 ng-show="merchant_search_service.selectable_merchants.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="propertyName === \'merchant_id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'address1\')">Address <span class=sort-order ng-show="propertyName === \'address1\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="merchant in merchant_search_service.selectable_merchants | orderBy:propertyName:reverse" ng-click=merchant_search_service.addMerchant(merchant)><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div></div><div class="col-md-6 m-t-15" ng-class=selectMerchantOpacityFifty() ng-show=!merchant_search_service.processing><div class="form-group col-md-12"><label class="col-md- control-label">Selected Merchants:</label><div class=m-t-20 ng-show="merchant_search_service.selected_merchants.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="propertyName === \'merchant_id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'address1\')">Address <span class=sort-order ng-show="propertyName === \'address1\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="merchant in merchant_search_service.selected_merchants | orderBy:propertyName:reverse" ng-click=merchant_search_service.removeMerchant(merchant)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div></div><div class=col-md-12 ng-show="merchant_search_service.propagate_type == \'group\'"><div class=col-md-12><div class=form-group><input type=text class="input-med form-control" name=merchants_filter ng-enter="error = false; group_select_service.merchantGroupSearch();" ng-model=group_select_service.search_text ng-fade placeholder=Filter><div class="col-md-12 button-select" ng-show=group_select_service.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div></div></div><div ng-show=!group_select_service.processing class="col-md-6 m-t-15"><div class=form-group><label class="col-md-12 control-label">Merchant Group Results</label><div class=col-md-12><div class=m-t-20 ng-show="group_select_service.selectable_merchant_groups.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'id\')">ID <span class=sort-order ng-show="propertyName === \'id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="group in group_select_service.selectable_merchant_groups | orderBy:propertyName:reverse" ng-click="group_select_service.selected_merchant_group = group"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{group.id}}</td><td>{{group.name}}</td></tr></tbody></table></div></div></div></div></div><div class="col-md-6 m-t-15" ng-show=!group_select_service.processing><div class="form-group col-md-12"><label class="col-md-12 control-label">Selected Group</label></div><div class=col-md-6><h2 ng-show="group_select_service.selected_merchant_group.name.length > 0">{{group_select_service.selected_merchant_group.id}} - {{group_select_service.selected_merchant_group.name}}</h2></div></div></div></div><div class=alert-danger ng-if=error role=alert>Please Select a Merchant or Merchant Group to continue.</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button id=submit-propagate-options class="btn btn-success" ng-disabled data-dismiss=modal ng-click=closeMerchantSelectValidator($event)>Submit</button></div></div></div></div>'),a.put("modules/menu/menu-edit/menu-edit.html",'<div class=menu-edit-page><div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Quick Edit</h4><ol class="breadcrumb pull-right"><li><a href=#/menus>Menus</a></li><li><a href=javascript:void(0);>{{mm.full_menu.name}} Quick Edit</a></li></ol></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h2 class=panel-title>Filter by Item & Modifier Item</h2><button type=button ng-disabled="" class="btn btn-danger pull-right" ng-click="mm.merchant_select_type = \'menu-copy-select\'" ng-show="mm.user.hasPermission(\'multi_merchs_filter\')" data-toggle=modal data-target=#merchant-single-select-modal>Copy Menu <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-left>Use to copy this menu to another location</span></i></button> <button type=button ng-disabled="" class="btn btn-success pull-right" data-toggle=modal data-target=#merchant-single-select-modal ng-click="mm.merchant_select_type = \'menu-merchant-select\'" ng-if=!mm.isOperator>Select Merchant</button> <button type=button ng-disabled="" class="btn btn-warning pull-right" ng-show=mm.pos_import_url ng-click=mm.posImport()>POS System Menu Import <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-left>Last Import: {{mm.last_pos_import_date}}</span></i></button> <button type=button ng-disabled="" class="btn btn-primary pull-right" ng-click=mm.defaultPricesConfirm() ng-if=!mm.isOperator>Default Prices <i class="fa fa-question-circle tooltip-help http://localhost:10082/" aria-hidden=true><span class=tool-tip-text-left>Revert this merchant\'s prices to the default, master record prices.</span></i></button></div><div class=panel-body><div class=filter-body><div class=form-group style="width: 200px"><input type=text class="form-control input-large inline-block" ng-model=mm.filter_text placeholder="Enter Item/Modifier Item"></div><div class="form-group hide-toggle flex-init flex-align-items-center"><label class="inline m-t-10 m-r-10">Hide Inactive Menu Elements</label><toggle-switch class=hide-toggle name=filter_hide_inactive ng-model=mm.filter_hide_inactive></toggle-switch></div><div class="form-group hide-toggle flex-init flex-align-items-center"><label class="inline m-t-10 m-r-10">Above 0 Item Prices Only</label><toggle-switch class=hide-toggle name=filter_hide_inactive ng-model=mm.filter_positive_items_only></toggle-switch></div></div></div></div></div></div><div class="panel panel-primary" ng-if=mm.loading><div class=panel-body><div class=filter-loader-contain><div class=filter-loader></div></div></div></div><div ng-if=!mm.loading><div class="panel panel-default" ng-show="mm.filter_text.length < 3"><div class="panel-heading reorder-button-space-between"><h2 class=panel-title>Sections</h2></div><div class=panel-body><div class=quick-edit-sizes><div ng-show="full_menu.menu_types.length == 0"><h5 class=pre-load-text>No Items Found</h5></div><div ng-repeat="(section_name, section_items) in full_menu.menu_types"><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="section_items.opened = !section_items.opened"><div class="panel-title sub-panel-title"><i class=fa ng-class="{ \'fa-plus\':!section_items.opened,\n                                       \'fa-minus\':section_items.opened }" aria-hidden=true></i><div class=title>{{section_name}}</div></div></div><div class=panel-body ng-show=section_items.opened><table id=table-fix class="table content-table"><thead><tr><th>Item Name</th><th>Size</th><th>Description</th><th>Ext Identifier</th><th>Price</th><th>Active</th><th>P/U & Delivery</th><th>Advanced Settings</th></tr></thead><tbody><tr ng-repeat="item in section_items | filter: mm.menuItemFilter" ng-class="{successeffect: item.success, loadingeffect: item.loading, faileffect:item.fail}"><td>{{item.item_name}}</td><td>{{item.size_name}}</td><td>{{mm.returnFirstEightDesc(item.description)}}... <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{item.description}}</span></i></td><td>{{item.external_id}}</td><td><input type=number class=form-control name=item_price ng-model=item.price ng-fade ng-required=true step=0.01 min=0 ng-min=0 ng-keyup="mm.updateItem(item, \'price\', $index)"></td><td><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-change=mm.changeItemActive(item) ng-model=item.active></toggle-switch></td><td><div class=select><select name=included_merchant_menu_types class=form-control ng-model=item.included_merchant_menu_types ng-change="mm.updateItemPost(item, \'included_merchant_menu_types\')" ng-options="option as option for option in mm.merchant_menu_types"></select></div></td><td class=edit-icon><i class="fa fa-pencil-square-o all-open-mod-item-icon" ng-show=item.show_edit_allowed_mods ng-click=mm.itemAllowedModifiersOpen(item)></i></td></tr></tbody></table><div id=disable-hover-card class=content-responsive><div ng-repeat="item in section_items | filter: mm.menuItemFilter"><div class="panel panel-body row-table" ng-class="{successeffect: item.success, loadingeffect: item.loading, faileffect:item.fail}"><div class="name text-overflow-wrap-word-break"><h5 class=dark-grey><b>{{item.item_name}}</b></h5></div><div class=id><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-change=mm.changeItemActive(item) ng-model=item.active></toggle-switch></div><div class="description clear"><div>{{item.size_name}}</div><div class=content-fields><div class="m-r-5 flex-align-self-end column"><div><label class=dark-grey>Ext Identifier</label></div><input type=text class=form-control name=external_id ng-model=item.external_id ng-fade ng-required=true ng-keyup="mm.updateItem(item, \'external_id\', $index)"></div><div class="m-r-5 flex-align-self-end column"><div><label class=dark-grey>Price</label></div><input type=number class=form-control name=item_price ng-model=item.price ng-fade ng-required=true step=0.01 min=0 ng-min=0 ng-keyup="mm.updateItem(item, \'price\', $index)"></div><div class="flex-align-self-end column"><div><label class=dark-grey>P/U & Delivery</label></div><div class=select><select name=included_merchant_menu_types class=form-control ng-model=item.included_merchant_menu_types ng-change="mm.updateItemPost(item, \'included_merchant_menu_types\')" ng-options="option as option for option in mm.merchant_menu_types"></select></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default" ng-show="mm.filter_text.length < 3"><div class="panel-heading reorder-button-space-between"><h2 class=panel-title>Modifier Groups</h2></div><div class=panel-body><div class=quick-edit-modifiers><div ng-show="mm.full_menu.modifier_groups.length == 0"><h5 class=pre-load-text>No Modifiers Found</h5></div><div ng-repeat="(mod_group_name, mod_group_items) in mm.full_menu.modifier_groups"><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="mod_group_items.opened = !mod_group_items.opened"><div class="panel-title sub-panel-title"><i class=fa ng-class="{ \'fa-plus\':!mod_group_items.opened,\n                                       \'fa-minus\':mod_group_items.opened }" aria-hidden=true></i><div class=title>{{mod_group_name}}</div></div></div></div><div class=panel-body ng-show=mod_group_items.opened><table class="table table-hover content-table"><thead><tr><th>Modifier Name</th><th>Size</th><th>Ext Identifier</th><th>Price</th><th>Active</th><th>P/U & Delivery</th></tr></thead><tbody><tr ng-repeat="mod_item in mod_group_items | filter:(mm.filter_hide_inactive || \'\') && {active: mm.filter_hide_inactive}" ng-class="{successeffect: mod_item.success, loadingeffect: mod_item.loading, faileffect:mod_item.fail}" class=hover><td>{{mod_item.modifier_item_name}}</td><td>{{mod_item.size_name}}</td><td>{{mod_item.external_id}}</td><td><input type=number class="form-control input-med" name=modifier_price ng-model=mod_item.modifier_price ng-fade ng-required=true step=0.01 min=0 ng-min=0 ng-keyup="mm.updateModifierItemDelay(mod_item, \'modifier_price\', $index)"></td><td><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-click=mm.toggleStopPropagation($event) ng-change=mm.changeModifierItemActive(mod_item) ng-model=mod_item.active></toggle-switch></td><td><div class=select><select name=included_merchant_menu_types class=form-control ng-model=mod_item.included_merchant_menu_types ng-change="mm.updateModifierItemDelay(mod_item, \'included_merchant_menu_types\')" ng-options="option as option for option in mm.merchant_menu_types"></select></div></td></tr></tbody></table><div class=content-responsive><div ng-repeat="mod_item in mod_group_items | filter:(mm.filter_hide_inactive || \'\') && {active: mm.filter_hide_inactive}"><div class="panel panel-body row-table" ng-class="{successeffect: mod_item.success, loadingeffect: mod_item.loading, faileffect:mod_item.fail}" data-toggle=modal data-target=#edit-modifier-item-modal ng-click=mm.editModItem(mod_item)><div id=flex><div class=name><h5 class="dark-grey bold">{{mod_item.modifier_item_name}}</h5></div><div class=id><div><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-click=mm.toggleStopPropagation($event) ng-change=mm.changeModifierItemActive(mod_item) ng-model=mod_item.active></toggle-switch></div></div></div><div class="description clear"><div ng-show=!!mod_item.size_name>Size: {{mod_item.size_name}}</div><div class=content-fields><div>Price: ${{mod_item.modifier_price}}</div><div>P/U & Delivery: {{mod_item.included_merchant_menu_types}}</div></div></div></div></div></div></div></div></div></div></div></div><div class=quick-edit-sizes ng-show="mm.filter_text.length >= 3"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Menu Items</h3></div><div class=panel-body ng-show="resultItems.length == 0"><h5 class=pre-load-text>No Items Found</h5></div><div class=panel-body ng-show="resultItems.length > 0"><table id=table-fix class="table content-table"><thead><tr><th>Section</th><th>Item Name</th><th>Size</th><th>Description</th><th>Ext Identifier</th><th>Price</th><th>Active</th><th>P/U & Delivery</th><th>Advanced Settings</th></tr></thead><tbody><tr ng-repeat="item in mm.full_menu.all_items | filter:(mm.filter_hide_inactive || \'\') && {active: mm.filter_hide_inactive} | filter: mm.filterItems as resultItems" ng-class="{successeffect: item.success, loadingeffect: item.loading, faileffect:item.fail}"><td>{{item.menu_type_name}}</td><td>{{item.item_name}}</td><td>{{item.size_name}}</td><td>{{mm.returnFirstEightDesc(item.description)}}... <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{item.description}}</span></i></td><td>{{item.external_id}}</td><td><input type=number class=form-control name=item_price ng-model=item.price ng-fade ng-required=true step=0.01 min=0 ng-min=0 ng-keyup="mm.updateItem(item, \'price\', $index)"></td><td><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-change=mm.changeItemActive(item) ng-model=item.active></toggle-switch></td><td><div class=select><select name=included_merchant_menu_types class=form-control ng-model=item.included_merchant_menu_types ng-change="mm.updateItemPost(item, \'included_merchant_menu_types\')" ng-options="option as option for option in mm.merchant_menu_types"></select></div></td><td class=edit-icon><i class="fa fa-pencil-square-o all-open-mod-item-icon" ng-show=item.show_edit_allowed_mods ng-click=mm.itemAllowedModifiersOpen(item)></i></td></tr></tbody></table><div id=disable-hover-card class=content-responsive><div ng-repeat="item in mm.full_menu.all_items | filter: mm.menuItemFilter"><div class="panel panel-body row-table" ng-class="{successeffect: item.success, loadingeffect: item.loading, faileffect:item.fail}"><div class="name text-overflow-wrap-word-break"><h5 class=dark-grey><b>{{item.item_name}}</b></h5></div><div class=id><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-change=mm.changeItemActive(item) ng-model=item.active></toggle-switch></div><div class="description clear"><div>{{item.size_name}}</div><div class=content-fields><div class="m-r-5 flex-align-self-end column"><div><label class=dark-grey>Ext Identifier</label></div><input type=text class=form-control name=external_id ng-model=item.external_id ng-fade ng-required=true ng-keyup="mm.updateItem(item, \'external_id\', $index)"></div><div class="m-r-5 flex-align-self-end column"><div><label class=dark-grey>Price</label></div><input type=number class=form-control name=item_price ng-model=item.price ng-fade ng-required=true step=0.01 min=0 ng-min=0 ng-keyup="mm.updateItem(item, \'price\', $index)"></div><div class="input-large flex-align-self-end column"><div><label class=dark-grey>P/U & Delivery</label></div><div class=select><select name=included_merchant_menu_types class=form-control ng-model=item.included_merchant_menu_types ng-change="mm.updateItemPost(item, \'included_merchant_menu_types\')" ng-options="option as option for option in mm.merchant_menu_types"></select></div></div></div></div></div></div></div></div></div></div><div class=quick-edit-modifiers ng-show="mm.filter_text.length >= 3"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Modifier Items</h3></div><div class=panel-body ng-show="resultModifiers.length == 0"><h5 class=pre-load-text>No Modifiers Found</h5></div><div class=panel-body ng-show="resultModifiers.length > 0"><table class="table table-hover content-table"><thead><tr><th>Modifier Group</th><th>Modifier Name</th><th>Size</th><th>External ID</th><th>Price</th><th>Active</th><th>P/U & Delivery</th></tr></thead><tbody><tr ng-repeat="mod_item in mm.full_menu.all_modifier_items | filter:(mm.filter_hide_inactive || \'\') && {active: mm.filter_hide_inactive} | filter: mm.filterModItems as resultModifiers" ng-class="{successeffect: mod_item.success, loadingeffect: mod_item.loading, faileffect:mod_item.fail}" class=hover><td>{{mod_item.modifier_group_name}}</td><td>{{mod_item.modifier_item_name}}</td><td>{{mod_item.size_name}}</td><td>{{mod_item.external_id}}</td><td><input type=number class="form-control input-med" name=modifier_price ng-model=mod_item.modifier_price ng-fade ng-required=true step=0.01 min=0 ng-min=0 ng-keyup="mm.updateModifierItemDelay(mod_item, \'modifier_price\', $index)"></td><td><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-click=mm.toggleStopPropagation($event) ng-change=mm.changeModifierItemActive(mod_item) ng-model=mod_item.active></toggle-switch></td><td><div class=select><select name=included_merchant_menu_types class=form-control ng-model=mod_item.included_merchant_menu_types ng-change="mm.updateModifierItemDelay(mod_item, \'included_merchant_menu_types\')" ng-options="option as option for option in mm.merchant_menu_types"></select></div></td></tr></tbody></table><div class=content-responsive><div ng-repeat="mod_item in mm.full_menu.all_modifier_items | filter:(mm.filter_hide_inactive || \'\') && {active: mm.filter_hide_inactive} | filter: mm.filterModItems"><div class="panel panel-body row-table" ng-class="{successeffect: mod_item.success, loadingeffect: mod_item.loading, faileffect:mod_item.fail}" data-toggle=modal data-target=#edit-modifier-item-modal ng-click=mm.editModItem(mod_item)><div id=flex><div class=name><h5 class="dark-grey bold">{{mod_item.modifier_item_name }}</h5></div><div class=id><div><toggle-switch class=toggle-switch-margin6 name=active on-label=On off-label=Off ng-click=mm.toggleStopPropagation($event) ng-change=mm.changeModifierItemActive(mod_item) ng-model=mod_item.active></toggle-switch></div></div></div><div class="description clear"><div ng-show=!!mod_item.size_name>Size: {{mod_item.size_name}}</div><div class=content-fields><div>Price: ${{mod_item.modifier_price}}</div><div>P/U & Delivery: {{mod_item.included_merchant_menu_types}}</div></div></div></div></div></div></div></div></div><div id=edit-item-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Update Item: {{mm.edit_item.item_name}} - {{mm.edit_item.size_name}}</h4></div><div class=modal-body><form name=mm.item_form class=form-horizontal novalidate ng-submit=mm.updateItemSubmit()><div class=form-group><label class="col-md-3 control-label">Price</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=price ng-model=mm.edit_item.price ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mm.item_form.price.$error.required\n                                     && (mm.item_form.price.$faded || mm.edit_item.submit)" role=alert>Price is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Active</label><div class="col-md-9 m-t-10"><toggle-switch class=toggle-switch-margin6 name=active on-label=Active off-label=Inactive ng-model=mm.edit_item.active></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">P/U & Delivery</label><div class="col-md-9 m-t-10"><div class="select input-med margin-top-five"><select name=included_merchant_menu_types class=form-control ng-required=true ng-model=mm.edit_item.included_merchant_menu_types ng-options="option as option for option in mm.merchant_menu_types"></select></div></div></div><div class=modal-footer><div ng-show=mm.edit_item.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=edit-modifier-item-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Update Modifier: {{mm.edit_modifier_item.modifier_item_name}} - {{mm.edit_modifier_item.size_name}}</h4></div><div class=modal-body><form name=mm.modifier_item_form novalidate ng-submit=mm.updateModifierItemSubmit()><div class=form-group><label class=control-label>Price</label><div><input type=text class="input-med form-control" name=price ng-model=mm.edit_modifier_item.modifier_price ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mm.modifier_item_form.price.$error.required\n                                     && (mm.modifier_item_form.price.$faded || mm.edit_modifier_item.submit)" role=alert>Price is required.</div></div></div><div class=form-group><label class=control-label>Active</label><div><toggle-switch class=toggle-switch-margin6 name=active on-label=Active off-label=Inactive ng-model=mm.edit_modifier_item.active></toggle-switch></div></div><div class=form-group><label class=control-label>P/U & Delivery</label><div><div class="select input-med margin-top-five"><select name=included_merchant_menu_types class=form-control ng-required=true ng-model=mm.edit_modifier_item.included_merchant_menu_types ng-options="option as option for option in mm.merchant_menu_types"></select></div></div></div><div class=modal-footer><div ng-show=mm.edit_modifier_item.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div></div><merchant-single-selector close-merchant-select=mm.selectMerchant(merchant) selected-merchant-id=mm.menu_merchant_id search-function=mm.merchantSearchByMenu auto-submit=true></merchant-single-selector><edit-allowed-modifiers submit-allowed-modifier-changes=mm.submitAllowedModifierGroups() selected-merchant-id=mm.menu_merchant_id search-function=mm.merchantSearchByMenu auto-submit=true></edit-allowed-modifiers>'),
a.put("modules/menu/menu-item-list/menu-item-list.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Menu - Items & Modifiers</h4><ol class=breadcrumb><li><a href=#/menus>Menus</a></li><li><a href=javascript:void(0);>{{im.full_menu.name}} Items & Modifiers</a></li></ol></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h2 class=panel-title>Filter by Item & Modifier Item</h2></div><div class=panel-body><div class=filter-body><div class=form-group style="width: 200px"><input type=text class="form-control input-large inline-block" ng-model=im.menu.search_text placeholder="Enter Item/Modifier Item"></div><div class="form-group hide-toggle flex-init flex-align-items-center"><label class="inline m-t-10 m-r-10">Hide Inactive Menu Elements</label><toggle-switch class=hide-toggle name=filter_hide_inactive ng-model=im.filter_hide_inactive></toggle-switch></div></div></div></div></div></div><div class="panel panel-default" ng-show="im.menu.search_text.length < 3"><div class="panel-heading flex-justify-content-space-between"><h2 class=panel-title>Sections</h2><button type=button class="btn btn-danger pull-right" data-toggle=modal ng-click=im.openSectionsPriority() data-target=#re-order-sections-modal><i class="fa fa-long-arrow-down" aria-hidden=true></i> <i class="fa fa-long-arrow-up" aria-hidden=true></i> Reorder Sections</button></div><div class=panel-body><div class=row><div class=col-md-12 ng-repeat="section in im.menu.menu_types | filter: im.menuTypeFilter"><div class="panel panel-primary section-open-div"><div class="panel-heading section-select"><div class=col-md-10 ng-click="section.opened = !section.opened"><h3 class=panel-title><i class=fa ng-class="{ \'fa-plus\':!section.opened,\'fa-minus\':section.opened }" aria-hidden=true></i> {{section.menu_type_name}}</h3></div><div class=col-md-2><i class="edit-icon-header-level fa fa-pencil-square-o" aria-hidden=true ng-click="im.openEditSection($index, section, $event)" data-toggle=modal></i> <i class="delete-icon-header-level fa fa-times" aria-hidden=true ng-click="im.deleteMenuTypeDialog($index, section)"></i></div></div><div ng-show=section.opened class=panel-body><div class=row><div class=col-md-12><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th><th>Description</th><th>Active</th><th></th><th></th></tr></thead><tbody><tr ng-repeat="item in section.menu_items | filter: im.itemsFilter"><td id=item-anchor-{{item.item_id}}>{{item.item_id}}</td><td>{{item.item_name}}</td><td>{{item.description}}</td><td>{{item.active}}</td><td class=edit-icon><i class="fa fa-pencil-square-o view-item-search" ng-click="event.stopPropagation(); im.viewItem(section,item,$parent.$index, $index);"></i></td><td class=delete-icon><i class="fa fa-times" ng-click="event.stopPropagation(); im.deleteItemDialog(section,item,$parent.$index, $index);"></i></td></tr></tbody></table><button type=button ng-disabled class="btn btn-primary pull-right" ng-click="im.viewItem(section, im.new_item, $index, \'new\')"><i class="fa fa-plus" aria-hidden=true></i> Create New {{section.menu_type_name}} Item</button> <button type=button class="btn btn-info pull-right m-r-10" data-toggle=modal ng-click="im.openItemPriority($index, section)" data-target=#re-order-items-modal><i class="fa fa-long-arrow-down" aria-hidden=true></i> <i class="fa fa-long-arrow-up" aria-hidden=true></i> Reorder {{section.menu_type_name}} Items</button></div></div></div></div></div></div><button id=create-new-section type=button ng-disabled class="btn btn-lg btn-success pull-right" data-toggle=modal data-target=#add-section-modal><i class="fa fa-plus" aria-hidden=true></i> Create New Section</button></div></div><div class="panel panel-default" ng-show="im.menu.search_text.length < 3"><div class="panel-heading flex-justify-content-space-between"><h2 class=panel-title>Modifier Groups</h2><button type=button class="btn btn-danger pull-right" data-toggle=modal ng-click=im.openModGroupsPriority() data-target=#re-order-mod-groups-modal><i class="fa fa-long-arrow-down" aria-hidden=true></i> <i class="fa fa-long-arrow-up" aria-hidden=true></i> Reorder Modifier Groups</button></div><div class=panel-body><div class=row><div class=col-md-12 ng-repeat="modifier_group in im.menu.modifier_groups | filter: im.modifierGroupFilter"><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="modifier_group.opened = !modifier_group.opened"><h3 class=panel-title><i class=fa ng-class="{ \'fa-plus\':!modifier_group.opened,\'fa-minus\':modifier_group.opened }" aria-hidden=true></i> {{modifier_group.modifier_group_name}}</h3><div class=col-md-2><i class="edit-icon-header-level fa fa-pencil-square-o" aria-hidden=true ng-click="im.openEditModifierGroup($index, modifier_group, $event)" data-toggle=modal data-target=#edit-modifier-modal></i> <i class="delete-icon-header-level fa fa-times" aria-hidden=true ng-click="im.deleteModifierGroupDialog($index, modifier_group)"></i></div></div><div class=panel-body ng-show=modifier_group.opened><div class=row><div class=col-md-12><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th><th>Max Selections</th><th></th></tr></thead><tbody><tr ng-repeat="modifier in modifier_group.modifier_items"><td id=mod-item-anchor-{{modifier.modifier_item_id}}>{{modifier.modifier_item_id}}</td><td>{{modifier.modifier_item_name}}</td><td>{{modifier.modifier_item_max}}</td><td class=edit-icon><i class="fa fa-pencil-square-o" ng-click="im.viewModifierItem(modifier_group, modifier, $parent.$index, $index)"></i></td><td class=delete-icon><i class="fa fa-times" ng-click="event.stopPropagation(); im.deleteModifierItemDialog(modifier_group,modifier,$parent.$index, $index);"></i></td></tr></tbody></table><button type=button ng-disabled class="btn btn-primary pull-right" ng-click="im.viewModifierItem(modifier_group, im.new_modifier_item, $index, \'new\')"><i class="fa fa-plus" aria-hidden=true></i> Create New {{modifier_group.modifier_group_name}} Modifier Item</button> <button type=button class="btn btn-info pull-right m-r-10" data-toggle=modal ng-click="im.openModifierItemPriority($index, modifier_group)" data-target=#re-order-modifier-items-modal><i class="fa fa-long-arrow-down" aria-hidden=true></i> <i class="fa fa-long-arrow-up" aria-hidden=true></i> Reorder {{modifier_group.modifier_group_name}} Items</button></div></div></div></div></div></div><button id=create-new-modifier-group-button type=button ng-disabled class="btn btn-lg btn-success pull-right" data-toggle=modal data-target=#add-new-modifier-modal><i class="fa fa-plus" aria-hidden=true></i> Create New Modifier Group</button></div></div><div class=row ng-show="im.menu.search_text.length > 2"><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Menu Sections Filter Results</h3></div><div class=panel-body><div class=row><div class=col-md-12><table class="table table-hover"><thead><tr><th>Section</th><th>ID</th><th>Name</th><th>Description</th><th>Active</th><th></th><th></th></tr></thead><tbody><tr ng-repeat="item in im.menu.all_items | filter: im.filterItems"><td>{{item.section.menu_type_name}}</td><td>{{item.item_id}}</td><td>{{item.item_name}}</td><td>{{item.description}}</td><td>{{item.active}}</td><td class=edit-icon><i class="fa fa-pencil-square-o all-list-open-view-item" ng-click="im.viewItem(item.section,item, \'search_item\', \'search_item\')"></i></td><td class=delete-icon><i class="fa fa-times" ng-click="event.stopPropagation(); im.deleteItemDialog(item.section,item,$parent.$index, $index);"></i></td></tr></tbody></table></div></div></div></div></div></div><div class=row ng-show="im.menu.search_text.length > 2"><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Modifier Groups Filter Results</h3></div><div class=panel-body><div class=row><div class=col-md-12><table class="table table-hover"><thead><tr><th>Modifier Group</th><th>ID</th><th>Name</th><th>Max Selections</th><th>Active</th><th></th><th></th></tr></thead><tbody><tr ng-repeat="modifier in im.menu.all_modifier_items  | filter: im.filterModItems"><td>{{modifier.modifier_group.modifier_group_name}}</td><td>{{modifier.modifier_item_id}}</td><td>{{modifier.modifier_item_name}}</td><td>{{modifier.modifier_item_max}}</td><td>{{modifier.active}}</td><td class=edit-icon><i class="fa fa-pencil-square-o all-open-mod-item-icon" ng-click="im.viewModifierItem(modifier.modifier_group, modifier, \'search_item\', \'search_item\')"></i></td><td class=delete-icon><i class="fa fa-times" ng-click="event.stopPropagation(); im.deleteModifierItemDialog(modifier.modifier_group,modifier,$parent.$index, $index);"></i></td></tr></tbody></table></div></div></div></div></div></div><div id=add-section-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create Section</h4></div><div class=modal-body><form name=im.new_section_form class=form-horizontal novalidate ng-submit=im.createSection()><div class=form-group><label class="col-md-3 control-label">Section Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=menu_type_name ng-model=im.new_section.menu_type_name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_section_form.menu_type_name.$error.required\n                                 && (im.new_section_form.menu_type_name.$faded || im.new_section.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Description <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{\'MENU.TOOLTIP.FULL.SECTION.MODAL\' | translate}}</span></i></label><div class="col-md-9 m-t-5"><textarea class=form-control rows=2 name=menu_type_description ng-model=im.new_section.menu_type_description></textarea></div></div><div class=form-group><label class="col-md-3 control-label">Category</label><div class="col-md-9 m-t-5"><div class="select input-med inline margin-left-five"><select name=create_cat_id class=form-control ng-required=true ng-model=im.new_section.cat_id ng-fade ng-options="category.type_id_value as category.type_id_name for category in im.menu.menu_type_categories"><option class=placeholder-color value="" selected disabled>CATEGORY</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_section_form.create_cat_id.$error.required\n                                 && (im.new_section_form.create_cat_id.$faded || im.new_section.submit)" role=alert>Category is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Active</label><div class="col-md-9 m-t-10"><toggle-switch id=create-section-active name=active on-label=Active off-label=Inactive ng-model=im.new_section.active></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">Items</label><div class="col-md-9 m-t-5"><textarea class="form-control resize-vertical" rows=2 name=items ng-model=im.new_section.items placeholder="Separate by semicolon (e.g. Hamburger; Hot Dog; Gyro)"></textarea></div></div><div class=form-group><label class="col-md-3 control-label">Sizes</label><div class="col-md-9 m-t-5"><textarea class="form-control resize-vertical" rows=2 ng-fade name=sizes ng-model=im.new_section.sizes ng-required=true placeholder="Separate by semicolon (e.g. Small; Medium; Large;)"></textarea><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_section_form.sizes.$error.required\n                                 && (im.new_section_form.sizes.$faded || im.new_section.submit)" role=alert>At least one size is required.</div></div></div><div class=col-md-12><label class=control-label><input type=checkbox ng-model=im.new_section.active_all_day ng-click=im.setNewSectionActiveAllDay()> Active All Day</label></div><div class=row ng-show=!im.new_section.active_all_day><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Start Time</label><div class="col-md-9 m-t-5"><div class="input-micro inline margin-left-five"><input type=text class="form-control input-micro inline" placeholder=HH:MM name=start_time ng-fade maxlength=5 ng-model=im.new_section.start_time ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=im.new_section.start_time_am_pm><option value=am>am</option><option value=pm>pm</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_section_form.start_time.$invalid && (im.new_section_form.start_time.$faded || im.new_section.submit)" role=alert>Must be in HH:MM time format.</div></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">End Time</label><div class="col-md-9 m-t-5"><div class="input-micro inline margin-left-five"><input type=text class="form-control input-micro inline" placeholder=HH:MM name=end_time ng-fade maxlength=5 ng-model=im.new_section.end_time ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=im.new_section.end_time_am_pm><option value=am>am</option><option value=pm>pm</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_section_form.end_time.$invalid && (im.new_section_form.end_time.$faded || im.new_section.submit)" role=alert>Must be in HH:MM time format.</div></div></div></div></div><div class=modal-footer><div ng-show=im.new_section.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button id=submit-new-section class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=edit-section-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Edit Section "{{im.edit_section.menu_type_name}}"</h4></div><div class=modal-body><form name=im.edit_section_form class=form-horizontal novalidate ng-submit=im.updateSection()><div class=form-group><label class="col-md-2 control-label">Name</label><div class="col-md-10 m-t-5"><input type=text class="input-med form-control" name=menu_type_name ng-model=im.edit_section.menu_type_name ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.edit_section_form.menu_type_name.$error.required\n                                 && (im.edit_section_form.menu_type_name.$faded || im.edit_section.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-2 control-label">Description <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{\'MENU.TOOLTIP.FULL.SECTION.MODAL\' | translate}}</span></i></label><div class="col-md-10 m-t-5"><textarea class=form-control rows=2 name=menu_type_description ng-model=im.edit_section.menu_type_description></textarea></div></div><div class=form-group><label class="col-md-2 control-label">Category</label><div class="col-md-10 m-t-5"><div class="select input-med inline margin-left-five"><select name=cat_id class=form-control ng-required=true ng-model=im.edit_section.cat_id ng-options="category.type_id_value as category.type_id_name for category in im.menu.menu_type_categories"><option class=placeholder-color value="" selected disabled>CATEGORY</option></select></div></div></div><div class=form-group><label class="col-md-2 control-label">Sizes</label></div><div class=form-group><div class="col-md-12 m-t-5"><table class=table><thead><tr><th>Name</th><th>Display</th><th>Description</th><th>Priority</th><th>Active</th><th>Default Select</th><th>All Items</th></tr></thead><tbody ng-repeat="size in im.edit_section.sizes"><tr><td><input type=text class="input-med form-control" ng-blur=im.updateSizePrintName(size) ng-model=size.size_name ng-fade ng-required=true></td><td><input type=text class="input-med form-control" ng-required=true name=size_print_name ng-model=size.size_print_name ng-fade></td><td><input type=text class="input-med form-control" ng-model=size.description ng-fade></td><td><input type=number class="input-micro form-control" ng-model=size.priority ng-fade></td><td><toggle-switch name=active class="table-toggle toggle-in-row" ng-model=size.active></toggle-switch></td><td class=table-checkbox><input class=form-control type=checkbox name=default_selection ng-model=size.default_selection></td><td class=table-checkbox><input ng-show=size.new class=form-control type=checkbox name=default_selection ng-model=size.apply_all_items></td></tr></tbody></table><div class="alert alert-danger alert-reg-position" ng-show="im.edit_section_form.size_print_name.$error.required && im.edit_section.submit" role=alert>Size Print Name is required for all sizes.</div><div class=m-t-5><button type=button ng-disabled ng-click=im.addEditSectionSize() class="btn btn-primary btn-xs">Add New Size</button></div></div></div><div class="row m-b-15"><div class=col-md-6><div class=form-group><label class="col-md-2 control-label">Active</label><div class="col-md-10 m-t-10"><toggle-switch name=active on-label=Active off-label=Inactive ng-model=im.edit_section.active></toggle-switch></div></div></div><div class=col-md-6><label class=control-label><input type=checkbox ng-model=im.edit_section.active_all_day ng-click=im.setEditSectionActiveAllDay()> Active All Day</label></div></div><div class=row ng-show=!im.edit_section.active_all_day><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Start Time</label><div class="col-md-9 m-t-5"><div class="input-micro inline margin-left-five"><input type=text class="form-control input-micro inline" placeholder=HH:MM name=start_time ng-fade maxlength=5 ng-model=im.edit_section.start_time ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=im.edit_section.start_time_am_pm><option value=am>am</option><option value=pm>pm</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.edit_section_form.start_time.$invalid && (im.edit_section_form.start_time.$faded || im.edit_section.submit)" role=alert>Must be in HH:MM time format.</div></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">End Time</label><div class="col-md-9 m-t-5"><div class="input-micro inline margin-left-five"><input type=text class="form-control input-micro inline" placeholder=HH:MM name=end_time ng-fade maxlength=5 ng-model=im.edit_section.end_time ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=im.edit_section.end_time_am_pm><option value=am>am</option><option value=pm>pm</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.edit_section_form.end_time.$invalid && (im.edit_section_form.end_time.$faded || im.edit_section.submit)" role=alert>Must be in HH:MM time format.</div></div></div></div></div><div class=modal-footer><div ng-show=im.edit_section.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=add-new-modifier-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create Modifier Group</h4></div><div class=modal-body><form name=im.new_mod_group_form class=form-horizontal novalidate ng-submit=im.createModifierGroup()><div class=form-group><label class="col-md-3 control-label">Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=modifier_group_name ng-model=im.new_modifier_group.modifier_group_name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.modifier_group_name.$error.required\n                                 && (im.new_mod_group_form.modifier_group_name.$faded || im.new_modifier_group.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Description</label><div class="col-md-9 m-t-5"><textarea class=form-control rows=2 name=modifier_description ng-model=im.new_modifier_group.modifier_description></textarea></div></div><div class=form-group><label class="col-md-3 control-label">Modifier Type</label><div class="col-md-9 m-t-5"><div class="select input-med inline margin-left-five"><select name=create_modifier_type class=form-control ng-required=true ng-model=im.new_modifier_group.modifier_type ng-fade ng-options="mod_type.type_id_value as mod_type.type_id_name for mod_type in im.modifier_types"><option class=placeholder-color value="" selected disabled>MODIFIER TYPE</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.modifier_type.$error.required\n                                 && (im.new_mod_group_form.modifier_type.$faded || im.new_modifier_group.submit)" role=alert>Modifier Type is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Priority</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" name=priority ng-model=im.new_modifier_group.priority ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.priority.$error.required\n                                 && (im.new_mod_group_form.priority.$faded || im.new_modifier_group.submit)" role=alert>Priority is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Active</label><div class="col-md-9 m-t-10"><toggle-switch name=active on-label=Active off-label=Inactive ng-model=im.new_modifier_group.active></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">Modifier Items</label><div class="col-md-9 m-t-5"><input type=text class="input-x-large form-control" name=new_mod_items ng-model=im.new_modifier_group.item_list ng-fade ng-required=true placeholder="Separate by semicolon (e.g. Swiss;Cheddar;Provolone)"><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.new_mod_items.$error.required\n                                    && (im.new_mod_group_form.new_mod_items.$faded || im.new_modifier_group.submit)" role=alert>Modifier Item List is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Default Item Price</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=default_item_price currency-format amount=im.new_modifier_group.default_item_price ng-required=true ng-model=im.new_modifier_group.default_item_price ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.default_item_price.$error.required\n                                    && (im.new_mod_group_form.default_item_price.$faded || im.new_modifier_group.submit)" role=alert>Default Item Price is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Default Item Max</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" name=default_item_max ng-required=true ng-model=im.new_modifier_group.default_item_max ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.default_item_max.$error.number\n                                    && (im.new_mod_group_form.default_item_max.$faded || im.new_modifier_group.submit)" role=alert>Default Item Max must be numeric.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.new_mod_group_form.default_item_max.$error.required\n                                    && (im.new_mod_group_form.default_item_max.$faded || im.new_modifier_group.submit)" role=alert>Default Item Max is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">External ID</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=external_modifier_group_id ng-model=im.new_modifier_group.external_modifier_group_id ng-fade></div></div><div class=modal-footer><div ng-show=im.new_modifier_group.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button id=create-modifier-group-submit class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=edit-modifier-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Edit Modifier Group {{im.edit_modifier_group.modifier_group_name}}</h4></div><div class=modal-body><form name=im.edit_mod_group_form class=form-horizontal novalidate ng-submit=im.updateModifierGroup()><div class=form-group><label class="col-md-3 control-label">Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=modifier_group_name ng-model=im.edit_modifier_group.modifier_group_name ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.edit_mod_group_form.modifier_group_name.$error.required\n                                 && (im.edit_mod_group_form.modifier_group_name.$faded || im.edit_modifier_group.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Description</label><div class="col-md-9 m-t-5"><textarea class=form-control rows=2 name=modifier_description ng-model=im.edit_modifier_group.modifier_description></textarea></div></div><div class=form-group><label class="col-md-3 control-label">Modifier Type</label><div class="col-md-9 m-t-5"><div class="select input-med inline margin-left-five"><select name=cat_id class=form-control ng-required=true ng-model=im.edit_modifier_group.modifier_type ng-options="mod_type.type_id_value as mod_type.type_id_name for mod_type in im.modifier_types"><option class=placeholder-color value="" selected disabled>MODIFIER TYPE</option></select></div></div></div><div class=form-group><label class="col-md-3 control-label">Priority</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" name=priority ng-model=im.edit_modifier_group.priority ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="im.edit_mod_group_form.priority.$error.required\n                                 && (im.edit_mod_group_form.priority.$faded || im.edit_mod_group_form.submit)" role=alert>Priority is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Active</label><div class="col-md-9 m-t-10"><toggle-switch name=active on-label=Active off-label=Inactive ng-model=im.edit_modifier_group.active></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">External ID</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=external_modifier_group_id ng-model=im.edit_modifier_group.external_modifier_group_id ng-fade></div></div><div class=modal-footer><div ng-show=im.edit_modifier_group.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=re-order-sections-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Reorder Sections <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.MENU.REORDER_SECTIONS\' | translate }}</span></i></h4></div><div class=modal-body><ul class=sortable-list dnd-list=im.sections_priority_menu.menu_types><li ng-repeat="section in im.sections_priority_menu.menu_types" dnd-draggable=section dnd-effect-allowed=move dnd-moved="im.sections_priority_menu.menu_types.splice($index, 1)" dnd-selected="models.selected = item" ng-class="{\'selected\': models.selected === section}">#{{im.sortNumber($index)}} {{section.menu_type_name}}</li></ul></div><div class=modal-footer><div ng-show=im.sections_priority_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=im.reOrderSections()>Submit</button></div></div></div></div><div id=re-order-mod-groups-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Reorder Modifier Groups <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.MENU.REORDER_SECTIONS\' | translate }}</span></i></h4></div><div class=modal-body><ul class=sortable-list dnd-list=im.mod_groups_priority_menu.modifier_groups><li ng-repeat="mod_group in im.mod_groups_priority_menu.modifier_groups" dnd-draggable=mod_group dnd-effect-allowed=move dnd-moved="im.mod_groups_priority_menu.modifier_groups.splice($index, 1)" dnd-selected="models.selected = item" ng-class="{\'selected\': models.selected === section}">#{{im.sortNumber($index)}} {{mod_group.modifier_group_name}}</li></ul></div><div class=modal-footer><div ng-show=im.mod_groups_priority_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=im.reOrderModGroups()>Submit</button></div></div></div></div><div id=re-order-items-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Reorder {{im.item_priority_section.menu_type_name}} Items</h4></div><div class=modal-body><ul class=sortable-list dnd-list=im.item_priority_section.menu_items><li ng-repeat="item in im.item_priority_section.menu_items" dnd-draggable=item dnd-effect-allowed=move dnd-moved="im.item_priority_section.menu_items.splice($index, 1)" dnd-selected="models.selected = item" ng-class="{\'selected\': models.selected === item}">#{{im.sortNumber($index)}} {{item.item_name}}</li></ul></div><div class=modal-footer><div ng-show=im.item_priority_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=im.reOrderItems()>Submit</button></div></div></div></div><div id=re-order-modifier-items-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Reorder Modifier Items</h4></div><div class=modal-body><ul class=sortable-list dnd-list=im.modifier_item_priority_group.modifier_items><li ng-repeat="modifier_item in im.modifier_item_priority_group.modifier_items" dnd-draggable=modifier_item dnd-effect-allowed=move dnd-moved="im.modifier_item_priority_group.modifier_items.splice($index, 1)" dnd-selected="models.selected = modifier_item" ng-class="{\'selected\': models.selected === modifier_item}">#{{im.sortNumber($index)}} {{modifier_item.modifier_item_name}}</li></ul></div><div class=modal-footer><div ng-show=im.item_priority_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=im.reOrderModifierItems()>Submit</button></div></div></div></div><div id=new-item-copy-mods-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Duplicate Modifier Configuration from Existing {{im.new_item.menu_type.menu_type_name}} Item?</h4></div><div class=modal-body><button type=button ng-repeat="menu_item in im.new_item.menu_type.menu_items" class="btn btn-success m-r-10 m-b-10" data-dismiss=modal ng-click=im.setNewItemModGroupConfig(menu_item.item_id)>{{menu_item.item_name}}</button></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button type=button class="btn btn-warning m-r-10 m-b-10" data-dismiss=modal ng-click=im.setNewItemModGroupConfig(false)>No, Configure my Own</button></div></div></div></div>'),
a.put("modules/menu/menu-item/menu-item.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Edit Item {{item.current_item.item_name}}</h4><ol class=breadcrumb><li><a href=#/menus>Menus</a></li><li><a href=#/menu/items>Items & Modifiers</a></li><li><a href=javascript:void(0);>Edit Item {{item.current_item.item_name}}</a></li></ol></div></div></div><form name=item.update_item_form class=form-horizontal novalidate ng-submit=item.selectMerchantsToPropagate()><div class=row><div class="col-md-12 m-b-10"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Item Info</h3></div><div class=panel-body><div class="row panel-head-row"><div class=col-md-1><h4 class=dark-header>Section</h4></div><div class="col-md-1 col-margin"><h4 class=dark-header>Extern.</h4></div><div class=col-md-2><h4 class=dark-header>Name</h4></div><div class=col-md-2><h4 class=dark-header>Description</h4></div><div class=col-md-2><h4 class=dark-header>Print Name</h4></div><div class=col-md-1><h4 class=dark-header>Calorie Range <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>Enter Calorie range for all sizes of this item</span></i></h4></div><div class=col-md-1><h4 class=dark-header>Active</h4></div><div class="col-md-2 center-head" ng-show=!item.new><h4 class=dark-header>Upload Image</h4></div></div><div class=row><div class=col-md-1>{{item.current_item.menu_type_name}}</div><div class="col-md-1 col-margin"><input type=text class=form-control name=external_item_id ng-required=true ng-model=item.current_item.external_item_id ng-fade></div><div class=col-md-2><input type=text class=form-control name=item_name ng-required=true ng-blur=item.setPrintNameIfBlank(item.current_item.item_name) ng-maxlength=50 maxlength=50 ng-model=item.current_item.item_name ng-fade></div><div class=col-md-2><input type=text class=form-control name=description ng-model=item.current_item.description ng-fade></div><div class=col-md-2><input type=text class="form-control input-med" name=item_print_name ng-required=true ng-model=item.current_item.item_print_name ng-fade></div><div class=col-md-1><input type=text class="form-control input-small" name=calories ng-model=item.current_item.calories ng-fade placeholder="000 - 000"></div><div class=col-md-1><toggle-switch name=active class="table-toggle toggle-in-row" ng-model=item.current_item.active></toggle-switch></div><div class="col-md-2 edit-icon" ng-show=!item.new><i class="fa fa-file-image-o" aria-hidden=true data-toggle=modal ng-show=!item.current_item.image.url_thumbnail data-target=#image-modal></i> <i class="fa fa-file-image-o" aria-hidden=true data-toggle=modal ng-show=!item.current_item.image.url_main data-target=#image-modal></i> <img class=item-image-small-icon ng-cloak data-toggle=modal data-target=#image-modal ng-src={{item.current_item.image.url_thumbnail}} ng-show=!!item.current_item.image.url_thumbnail> <img class=item-image-large-icon ng-cloak data-toggle=modal data-target=#image-modal ng-src={{item.current_item.image.url_main}} ng-show=!!item.current_item.image.url_main></div><div class=col-md-12><div class="alert alert-danger alert-reg-position" ng-show="item.update_item_form.menu_type.$error.required  && (item.update_item_form.menu_type.$faded || item.current_item.submit)" role=alert>Section is required.</div><div class="alert alert-danger alert-reg-position" ng-show="item.update_item_form.item_name.$error.required && (item.update_item_form.item_name.$faded || item.current_item.submit)" role=alert>Name is required.</div></div></div></div></div></div><div class=col-md-12><div ng-show=!item.page_open_sections.sizes ng-click="item.page_open_sections.sizes = !item.page_open_sections.sizes" class="panel panel-primary"><div class="panel-heading pointer"><h3 class=panel-title>Item Sizes <span class=pull-right><i class="fa fa-plus" aria-hidden=true></i></span></h3></div></div><div ng-show=item.page_open_sections.sizes class="panel panel-primary"><div class="panel-heading pointer" ng-click="item.page_open_sections.sizes = !item.page_open_sections.sizes"><h3 class=panel-title>Item Sizes <span class=pull-right><i class="fa fa-minus" aria-hidden=true></i></span></h3></div><div class=panel-body><div class=row><div class=col-md-1><h4 class=dark-header>ID</h4></div><div class=col-md-2><h4 class=dark-header>Extern.</h4></div><div class=col-md-1><h4 class=dark-header>Name</h4></div><div class=col-md-2><h4 class=dark-header>Print Name</h4></div><div ng-class="item.new ? \'col-md-1\' : \'col-md-2\'"><h4 class=dark-header>Description</h4></div><div class=col-md-1><h4 class=dark-header>Price</h4></div><div class=col-md-1><h4 class=dark-header>Active</h4></div><div class=col-md-1><h4 class=dark-header>Priority</h4></div><div class=col-md-1 ng-show=item.new><h4 class=dark-header>Include</h4></div></div><div class="row m-b-10 light-grey-hover" ng-repeat="size in item.current_item.sizes"><div class=col-md-1>{{size.size_id}}</div><div class=col-md-2><input type=text class="input-med form-control" name=external_size_id ng-model=size.external_size_id ng-fade></div><div class=col-md-1>{{size.size_name}}</div><div class=col-md-2>{{size.size_print_name}}</div><div ng-class="item.new ? \'col-md-1\' : \'col-md-2\'">{{size.description}}</div><div class=col-md-1><input type=text class="input-small form-control" name=size_price currency-format amount=size.price ng-model=size.price ng-fade></div><div class=col-md-1><toggle-switch name=active class="table-toggle toggle-in-row" ng-model=size.active></toggle-switch></div><div class=col-md-1><input type=number class="input-small form-control" name=size_priority ng-model=size.priority ng-fade></div><div ng-show=item.new class=col-md-1><input type=checkbox class=form-control name=size_include ng-model=size.include ng-fade></div></div></div></div></div></div><div class=row><div class=col-md-12><div id=item-modifier-groups-open ng-show=!item.page_open_sections.modifier_groups ng-click="item.page_open_sections.modifier_groups = !item.page_open_sections.modifier_groups" class="panel panel-primary"><div class="panel-heading pointer"><h3 class=panel-title>Modifier Groups <span class=pull-right><i class="fa fa-plus" aria-hidden=true></i></span></h3></div></div><div ng-show=item.page_open_sections.modifier_groups class="panel panel-primary"><div class="panel-heading pointer"><h3 class="panel-title col-md-10" ng-click="item.page_open_sections.modifier_groups = !item.page_open_sections.modifier_groups">Modifier Groups <i class="fa fa-minus" aria-hidden=true></i></h3><div class="pull-right col-md-2"><toggle-switch id=modifier-show-active-toggle class=pull-right name=modifier_group_only_allowed ng-model=item.modifier_group_only_allowed on-label=Active off-label=All></toggle-switch></div></div><div class=panel-body><div class=row><div class=col-md-2><h4 class=dark-header>Name - Display</h4></div><div class=col-md-1><h4 class=dark-header>Allowed</h4></div><div class=col-md-1><h4 class=dark-header>Min</h4></div><div class=col-md-1><h4 class=dark-header>Max</h4></div><div class=col-md-1><h4 class=dark-header>Price Override</h4></div><div class=col-md-2><h4 class=dark-header>Display</h4></div><div class=col-md-2><h4 class=dark-header>Price Max</h4></div><div class=col-md-1><h4 class=dark-header>Priority</h4></div><div class=col-md-1><h4 class=dark-header>Apply To Entire Section?</h4></div></div><div class="row m-b-10 light-grey-hover" ng-repeat="modifier_group in item.current_item.modifier_groups | filter: item.modGroupsFilter" ng-form=modifier_group_form><ng-form name=mod_group_form><div class=col-md-2>{{ modifier_group.modifier_group_name }}</div><div class=col-md-1><toggle-switch class="toggle-in-row switch-mod-group-allowed" name=active ng-change="item.changeAllowed(modifier_group, $index)" ng-model=modifier_group.allowed></toggle-switch></div><div class=col-md-1><input type=number class="input-in-row input-micro form-control" name=modifier_group_min ng-show=modifier_group.allowed min=0 ng-min=0 ng-max=modifier_group.max ng-required=true ng-model=modifier_group.min ng-fade></div><div class=col-md-1><input type=number class="input-in-row input-micro form-control" name=modifier_group_max ng-show=modifier_group.allowed min=1 ng-min=1 ng-model=modifier_group.max ng-fade></div><div class=col-md-1><input type=text class="input-in-row input-sm form-control" name=price_override ng-show=modifier_group.allowed currency-format amount=modifier_group.price_override ng-model=modifier_group.price_override ng-fade></div><div class=col-md-2><input type=text class="input-in-row input-med form-control" name=display_name ng-show=modifier_group.allowed ng-model=modifier_group.display_name ng-fade></div><div class=col-md-2><input type=text class="input-in-row input-sm form-control" name=modifier_price_max ng-show=modifier_group.allowed currency-format amount=modifier_group.price_max ng-model=modifier_group.price_max ng-fade></div><div class=col-md-1><input type=number class="input-in-row input-micro form-control" name=modifier_group_priority ng-show=modifier_group.allowed ng-model=modifier_group.priority ng-fade></div><div class=col-md-1><input type=checkbox class="input-in-row input-micro form-control" name=push_this_mapping_to_each_item_in_menu_type ng-show=modifier_group.allowed ng-model=modifier_group.push_this_mapping_to_each_item_in_menu_type ng-fade></div><div class=col-md-12><div class="alert alert-danger alert-reg-position" ng-show="mod_group_form.modifier_group_max.$error.min  && (mod_group_form.modifier_group_max.$faded || item.current_item.submit)" role=alert>Modifier Group Max must be greater than 0.</div></div></ng-form></div></div></div></div></div><div class=row><div class=col-md-12><div ng-show=!item.page_open_sections.modifier_comes_with ng-click="item.page_open_sections.modifier_comes_with = !item.page_open_sections.modifier_comes_with" class="panel panel-primary"><div class="panel-heading pointer"><h3 class=panel-title>"Comes With" Modifiers <span class=pull-right><i class="fa fa-plus" aria-hidden=true></i></span></h3></div></div><div ng-show=item.page_open_sections.modifier_comes_with class="panel panel-primary"><div class="panel-heading pointer" ng-click="item.page_open_sections.modifier_comes_with = !item.page_open_sections.modifier_comes_with"><h3 class=panel-title>"Comes With" Modifiers <span class=pull-right><i class="fa fa-minus" aria-hidden=true></i></span></h3></div><div class=panel-body><div ng-repeat="modifier_group in item.current_item.allowed_modifier_groups"><div><h4><span ng-click="modifier_group.edit_mode = true" ng-show=!modifier_group.edit_mode><i class="fa fa-pencil-square-o" aria-hidden=true></i></span> <span ng-click="modifier_group.edit_mode = false" ng-show=modifier_group.edit_mode><i class="fa fa-check-square-o" aria-hidden=true></i></span> {{modifier_group.modifier_group_name}}:</h4></div><div ng-show=!modifier_group.edit_mode><div><button type=button class="btn btn-success m-l-10 m-t-5" ng-repeat="modifier_item in modifier_group.modifier_items" ng-show=modifier_item.comes_with ng-disabled><i class="fa fa-check-square-o" aria-hidden=true></i> {{modifier_item.modifier_item_name}}</button></div><h5 class=pre-load-text ng-show=item.seeIfComesWith(modifier_group.modifier_items)>No Default Comes With Items</h5></div><div ng-show=modifier_group.edit_mode><div class=inline ng-repeat="modifier_item in modifier_group.modifier_items"><button type=button class="btn btn-success m-l-10 m-t-5" ng-show=modifier_item.comes_with ng-click="modifier_item.comes_with = !modifier_item.comes_with" ng-disabled><i class="fa fa-check-square-o" aria-hidden=true></i> {{modifier_item.modifier_item_name}}</button> <button type=button class="btn btn-default m-l-10 m-t-5" ng-show=!modifier_item.comes_with ng-disabled ng-click="modifier_item.comes_with = !modifier_item.comes_with"><i class="fa fa-window-close-o" aria-hidden=true></i> {{modifier_item.modifier_item_name}}</button></div></div><hr></div></div></div></div></div><div ng-show=item.current_item.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button class="btn btn-success btn-lg pull-right m-l-5" ng-show=item.new>Create Item</button> <button id=submit-update-item class="btn btn-success btn-lg pull-right m-l-5" ng-show=!item.new>Update Item</button> <button ng-disabled type=button class="btn btn-default btn-lg pull-right m-l-5" ng-click=item.backToItemsModifiers()>Cancel</button></form><div id=image-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="image_stage = \'load\'"><span aria-hidden=true>&times;</span></button><h4 ng-show="image_stage == \'load\'" class=modal-title>Select Image File</h4><h4 ng-show="image_stage == \'main\'" class=modal-title>Crop Item Main Image</h4><h4 ng-show="image_stage == \'thumb_load\'" class=modal-title>Select Image File for Thumb</h4><h4 ng-show="image_stage == \'thumb\'" class=modal-title>Crop Item Thumb Image</h4><h4 ng-show="image_stage == \'preview_confirm_s3\'" class=modal-title>Confirm Crops</h4><h4 ng-show="image_stage == \'processing\'" class=modal-title>Creating & Uploading Images to Server</h4></div><div class=modal-body><table id=image-crop-contain><td ng-show="image_stage == \'main\'"><div class=cropArea><ui-cropper image=myImage area-type=rectangle result-image-quality=1.0 result-image-size="{w: 640, h: 420}" aspect-ratio=1.52 result-image=myCroppedMainImage cropject=cropper image-size="{w: 640, h: 420}" live-view=blockingObject></ui-cropper></div></td><td ng-show="image_stage == \'thumb\'"><div class=cropArea><ui-cropper image=myImageThumb area-type=rectangle result-image-quality=1.0 result-image-size="{w: 158, h: 158}" aspect-ratio=1 result-image=myCroppedThumbImage cropject=thumb_crop image-size="{w: 158,h: 158}" live-view=blockingObject2></ui-cropper></div></td></table><div class=row ng-show="(image_stage == \'main\' || image_stage == \'thumb\')"><div class="col-md-12 m-b-10 text-center"><h5 ng-show="image_stage == \'main\'">This will be the image on the menu page. Make sure your starting size is at least 640X420.</h5><h5 ng-show="image_stage == \'thumb\'">This is a thumbnail image which will be reduced to as small as 79X79 for the item customization window.</h5></div></div><div class=filter-loader-contain ng-show="image_stage == \'processing\'"><div class=filter-loader></div></div><div class="row flex-init flex-justify-content-center"><form ng-show="image_stage == \'load\'" name=image_form><div ngf-drop ngf-select ng-model=file class=drop-box ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'" ngf-max-size=3MB>Drop image file here or click to upload</div><div class="alert alert-success ng-hide alert-reg-position" ng-show=!image_form.$error.maxSize role=alert>File size should not exceed 3MB.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="image_form.$error.maxSize && image_form.$dirty" role=alert>Sorry, your file exceeds the 3MB limit.</div></form><form ng-show="image_stage == \'thumb_load\'" name=image_form_tumb_load><div ngf-drop ngf-select ng-model=file_thumb class=drop-box ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'" ngf-max-size=3MB>Drop image file here or click to upload the thumb image</div><div class="alert alert-success ng-hide alert-reg-position" ng-show=!image_form_tumb_load.$error.maxSize role=alert>File size should not exceed 3MB.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="image_form_tumb_load.$error.maxSize && image_form.$dirty" role=alert>Sorry, your file exceeds the 3MB limit.</div></form></div><div class=row ng-show="image_stage == \'preview_confirm_s3\'"><div class="col-md-12 m-b-10 text-center"><h5>Are these the images you would like to use?</h5><div class=col-md-6><h5>Main</h5><img class=preview-main-image ng-src={{img_preview.main}}></div><div class=col-md-6><h5>Thumbnail</h5><img class=preview-thumb-image ng-src={{img_preview.thumb}}></div></div></div><div class=modal-footer><button ng-show="image_stage != \'preview_confirm_s3\'" type=button ng-disabled class="btn btn-default" ng-click=cancelImageUpload()>Cancel</button> <button ng-show="image_stage == \'main\'" ng-click=moveToThumbCrop() type=button ng-disabled class="btn btn-primary">Crop Main Image</button> <button ng-show="image_stage == \'thumb\'" ng-click=uploadThumb() type=button ng-disabled class="btn btn-success">Upload New Image for Thumb</button> <button ng-show="image_stage == \'thumb\'" ng-click=storeCrops() type=button ng-disabled class="btn btn-primary">Crop Thumb Image &amp; Save</button> <button type=button ng-disabled ng-show="image_stage == \'preview_confirm_s3\'" ng-click="image_stage = \'load\'; file_thumb = undefined; file = undefined;" class="btn btn-default">Redo Crops</button> <button ng-show="image_stage == \'preview_confirm_s3\'" ng-click=confirmCropsS3() type=button ng-disabled class="btn btn-primary">Confirm, Upload to Production</button></div></div></div></div></div><propagation-select close-merchant-select=item.setMerchants() all-option=1 master-only=1 propation-options=1 auto-search=true></propagation-select>'),a.put("modules/menu/menu-list/menu-list.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg white-text"><h4 class=page-title>Menu</h4><button id=create-menu-button class="btn btn-info" ng-click=vm.createMenuBtnClickEvent() ng-disabled>Create New Menu</button></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Menus</h3></div><div class=panel-body><form name=vm.search_form novalidate ng-submit=vm.menuSearch()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box><input type=text class=form-control id=search_text name=search_text placeholder="" ng-model=vm.search.text ng-required=false></div></div></div><div class=form-group><button type=submit class="btn-default btn">Search</button></div></form></div></div></div><div class=col-md-6 ng-class=vm.hasSearchResult()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Recently Visited</h3></div><div class="panel-body recently-visited-container"><div class="panel panel-body row-table" ng-repeat="recent_menu in vm.recently_visited" ng-click=vm.viewMenu(recent_menu) data-toggle=modal><div><h5 class=bold>{{recent_menu.menu_id}} - {{recent_menu.name}}</h5></div><div>{{recent_menu.description}}</div></div><div ng-show="vm.recently_visited.length %2 == 1" class=fake-div></div><div ng-show="vm.recently_visited.length == 1" class=fix-div-1></div><div ng-show="vm.recently_visited.length >= 4" class=fake-div></div><div ng-show="vm.recently_visited.length >= 4" class=fake-div></div><div ng-show="vm.recently_visited.length == 5"></div><div ng-show="vm.recently_visited.length == 5"></div><div ng-show="vm.recently_visited.length == 5"></div></div></div></div></div><div class=menu-list><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Results</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=vm.search.processing><div class=filter-loader></div></div><h5 class=pre-load-text ng-show="vm.search.results.length === 0 && !vm.search.processing">No records</h5><table class="table table-hover content-table" ng-show="vm.search.results.length > 0 && !vm.search.processing"><thead><tr><th class=cursor-pointer ng-click="vm.orderByChange(\'menu_id\')">Menu ID</th><th class=cursor-pointer ng-click="vm.orderByChange(\'external_menu_id\')">External ID</th><th class=cursor-pointer ng-click="vm.orderByChange(\'name\')">Name</th><th class=cursor-pointer ng-click="vm.orderByChange(\'description\')">Description</th><th>Basic Edit</th></tr></thead><tbody><tr ng-repeat="search_menu in vm.search.results | orderBy: vm.order_by" ng-click=vm.viewMenu(search_menu)><td>{{search_menu.menu_id}}</td><td class=text-wrap-word-break>{{search_menu.external_menu_id}}</td><td class=text-wrap-word-break>{{search_menu.name}}</td><td class=eight-em-text>{{search_menu.description}}</td><td><i class="edit-icon fa fa-pencil-square-o" aria-hidden=true ng-click="vm.basicMenuEditOpen(search_menu, $event)" data-toggle=modal></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="search_menu in vm.search.results" ng-click=vm.viewMenu(search_menu)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{search_menu.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Menu ID <span class=id-number>{{search_menu.menu_id}}</span></h5></div><div class="description clear"><div ng-show=!!search_menu.external_menu_id>External ID: {{search_menu.external_menu_id}}</div><div class=text-wrap-word-break>{{search_menu.description}}</div></div></div></div></div></div></div></div><div id=create-menu-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby="Create New Menu" aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=filter-loader-contain ng-show=vm.brandsProcessing><div class=filter-loader></div></div><form name=vm.form class=form-horizontal novalidate ng-submit=vm.createMenu() ng-show=!vm.brandsProcessing><div class=modal-header><button type=button class="close m-r-5" data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create New Menu</h4></div><div class=modal-body><div class=form-group><label class="col-md-4 control-label">Name</label><div class=col-md-8><input type=text class="input-large form-control" name=name ng-model=vm.newMenu.name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.form.name.$error.required\n                                 && (vm.form.name.$faded || vm.newMenu.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Description <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.CREATE.DESCRIPTION\' | translate }}</span></i></label><div class=col-md-8><textarea type=text class="input-large form-control description-text-area" name=description ng-model=vm.newMenu.description ng-fade>\n                            </textarea></div></div><div class=form-group ng-if=vm.can_select_brands><label class="col-md-4 control-label">Brand</label><div class=col-md-8><select name=brand class="input-large form-control" ng-required=true ng-model=vm.newMenu.brand_id ng-change=vm.loadBrandMerchants(vm.newMenu.brand_id) ng-options="brand.brand_id as brand.brand_name for brand in vm.brands"><option class=placeholder-color value="" selected disabled>Brand</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.form.brand.$error.required && vm.form.brand.$touched\n                                 || (vm.form.brand.$error.required && vm.form.$submitted)" role=alert>Brand is required.</div></div></div><div class=form-group ng-show="vm.brandMerchants.length>0"><label class="col-md-4 control-label">Merchants <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.CREATE.MERCHANT_FIELD1\' | translate }}</span></i></label><div class=col-md-8><input type=text class="input-large form-control" name=merchants ng-model=vm.merchantFilter ng-fade placeholder=Filter><div class="secondary-text m-t-5 input-large">Supports filtering by merchant id, name, city or zip.</div></div></div><div ng-show="!vm.merchant_processing && !!!vm.newMenu.brand_id" class="m-l-15 m-r-15"><h5 class="pre-load-text m-t-30 m-b-30">Select a brand to show it merchants</h5></div><div class=filter-loader-contain ng-show=vm.merchant_processing><div class=filter-loader></div></div><div class=m-b-20 ng-show="!!vm.newMenu.brand_id && !vm.merchant_processing"><div class="m-l-15 m-r-15 buttons-create-merchant"><label class=control-label>Merchants: <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.CREATE.MERCHANT_FIELD2\' | translate }}</span></i></label><div><button class="btn btn-default" ng-if="!!vm.brandMerchants && vm.brandMerchants.length>0" ng-click=vm.addAllMerchants() ng-disabled="vm.merchantFilter.length>0">Add All</button></div></div><div class="m-l-15 m-t-10 m-r-15"><h6 ng-if="(!vm.brandMerchants || vm.brandMerchants.length==0) &&\n                                       (!vm.newMenu.merchants || vm.newMenu.merchants.length==0)" class=pre-load-text>No merchants found for this brand</h6><h6 ng-if="(!vm.brandMerchants || vm.brandMerchants.length==0) &&\n                                       (!!vm.newMenu.merchants && vm.newMenu.merchants.length>0)" class=pre-load-text>All merchants have been selected</h6><h6 ng-if="(!filteredMerchants || filteredMerchants==0) &&\n                            !(!vm.brandMerchants || vm.brandMerchants.length==0)" class=pre-load-text>No merchant matches the specified filter</h6><div id=table-size ng-show="vm.brandMerchants.length>0"><table class="table table-hover"><tr ng-repeat="merchant in vm.brandMerchants | filter:vm.filterMerchants as filteredMerchants" class=merchant-row ng-click=vm.addMerchant(merchant)><td><i class="fa fa-plus-circle add-merchant" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td class=add-merchant-icon-menu>{{merchant.display_name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></table></div></div><div class="m-l-15 m-t-20 m-r-15" ng-show="vm.brandMerchants.length > 0 || vm.newMenu.merchants.length > 0"><div class=buttons-create-merchant><label class=control-label>Selected Merchants:</label><div><button class="btn btn-default" ng-if="!!vm.newMenu.merchants && vm.newMenu.merchants.length>0" ng-click=vm.removeAllMerchants()>Remove All</button></div></div><h6 ng-if="!vm.newMenu.merchants || vm.newMenu.merchants.length==0" class=pre-load-text>No merchants selected</h6><div class=table-fixed-with-scroll><table class="table table-hover m-t-20" ng-show="vm.newMenu.merchants.length > 0"><tr ng-repeat="merchant in vm.newMenu.merchants" class=merchant-row ng-click=vm.removeMerchant(merchant)><td><i class="fa fa-minus-circle remove-merchant" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.display_name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></table></div></div></div><div class="m-l-15 m-r-15"><div class="alert alert-danger ng-hide alert-reg-position" ng-show=!!vm.newMenu.error role=alert>{{vm.newMenu.error}}</div></div><div class=modal-footer><div class=buttons-create-merchant><div><div ng-show=vm.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="alert alert-success alert-reg-position form-submit-success fade-effect" ng-show=vm.invalidForm role=alert><i class="fa fa-check-circle" aria-hidden=true></i>{{vm.error}}</div></div><div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button id=create-menu-submit class="btn btn-success">Submit</button></div></div></div></div></form></div></div></div><div id=edit-menu-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby="Create New Menu" aria-hidden=true><div class=modal-dialog><div class=modal-content><form name=vm.edit_menu_form class=form-horizontal novalidate ng-submit=vm.updateMenu()><div class=modal-header><button type=button class="close m-r-5" data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Edit Menu Menu</h4></div><div class=modal-body><div class=form-group><label class="col-md-4 control-label">Name</label><div class=col-md-8><input type=text class="input-large form-control" name=name ng-model=vm.edit_menu.name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.edit_menu_form.name.$error.required\n                                 && (vm.edit_menu_form.name.$faded || vm.edit_menu.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Description</label><div class=col-md-8><textarea type=text class="input-large form-control description-text-area" name=description ng-model=vm.edit_menu.description ng-fade>\n                            </textarea></div></div><div class=modal-footer><div class=buttons-create-merchant><div><div ng-show=vm.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="alert alert-success alert-reg-position form-submit-success fade-effect" ng-show=vm.invalidForm role=alert><i class="fa fa-check-circle" aria-hidden=true></i>{{vm.error}}</div></div><div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></div></div></div></form></div></div></div>'),a.put("modules/menu/menu-modifier-item/menu-modifier-item.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Edit Modifier Item {{mi.current_mod_item.modifier_item_name}}</h4><ol class=breadcrumb><li><a href=#/menus>Menus</a></li><li><a href=#/menu/items>Items & Modifiers</a></li><li><a href=javascript:void(0);>Edit Modifier Item {{mi.current_mod_item.modifier_item_name}}</a></li></ol></div></div></div><form name=mi.modifier_item_form class=form-horizontal novalidate ng-submit=mi.selectMerchantsToPropagate()><div class=row><div class=col-md-4><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title ng-show=mi.new>Create Modifier Item</h3><h3 class=panel-title ng-show=!mi.new>Edit Modifier Item</h3></div><div class=panel-body><div class=row><div class=panel-body><div class=form-group><label class="col-md-3 control-label">Modifier Group</label><div class="col-md-9 m-t-10"><div class="select input-med"><select name=modifier_group class=form-control ng-required=true ng-model=mi.current_mod_item.modifier_group_id ng-fade ng-options="mod_group.modifier_group_id as mod_group.modifier_group_name for mod_group in mi.modifier_groups"><option class=placeholder-color value="" selected disabled>Modifier Group</option></select></div></div><div class=col-md-9><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mi.modifier_item_form.modifier_group.$error.required\n                                         && (mi.modifier_item_form.modifier_group.$faded || mi.current_mod_item.submit)" role=alert>Modifier Group is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Modifier Item Name</label><div class="col-md-9 m-t-10"><input id=edit-modifier-item-name type=text class="input-med form-control" name=modifier_item_name ng-required=true ng-model=mi.current_mod_item.modifier_item_name ng-blur=mi.setPrintNameIfBlank() ng-fade></div><div class=col-md-9><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mi.modifier_item_form.modifier_item_name.$error.required\n                                         && (mi.modifier_item_form.modifier_item_name.$faded || mi.current_mod_item.submit)" role=alert>Modifier Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">How Many Per Item</label><div class="col-md-9 m-t-10"><input type=number class="input-med form-control" name=modifier_item_max ng-required=true min=0 ng-min=0 ng-model=mi.current_mod_item.modifier_item_max ng-fade></div><div class=col-md-9><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mi.modifier_item_form.modifier_item_max.$error.required\n                                         && (mi.modifier_item_form.modifier_item_max.$faded || mi.current_mod_item.submit)" role=alert>Max per Item is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Print Name</label><div class="col-md-9 m-t-10"><input type=text class="input-med form-control" name=modifier_item_print_name ng-model=mi.current_mod_item.modifier_item_print_name ng-fade></div><div class=col-md-9><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mi.modifier_item_form.modifier_item_print_name.$error.required\n                                         && (mi.modifier_item_form.modifier_item_print_name.$faded || mi.current_mod_item.submit)" role=alert>Print Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">External ID</label><div class="col-md-9 m-t-10"><input type=text class="input-med form-control" name=external_modifier_item_id ng-model=mi.current_mod_item.external_modifier_item_id ng-fade></div></div><div class=form-group><div class=col-md-9><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mi.modifier_item_form.modifier_item_priority.$error.required\n                                         && (mi.modifier_item_name.modifier_item_priority.$faded || mi.current_mod_item.submit)" role=alert>Priority is required.</div></div></div></div></div></div></div></div><div class=col-md-8><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Additional Modifier Prices by Size</h3></div><div class=panel-body><div class=row><div class=panel-body><h4 class=dark-header>Price Overrides</h4><div class=col-md-12><div class="form-group hide-toggle flex-init flex-align-items-center pull-right"><label class="inline m-t-10 m-r-10">Hide Inactive Menu Elements</label><toggle-switch class=hide-toggle name=filter_hide_inactive ng-model=mi.show_active_price_only></toggle-switch></div><table class=table><thead><tr><th>Section</th><th>Item Size</th><th>Active/Inactive</th><th>Price</th><th>External ID</th></tr></thead><tr><td class=bold>Default</td><td class=bold>Default</td><td><toggle-switch name=default_active on-label=Active off-label=Inactive ng-model=mi.current_mod_item.default_modifier_price.active></toggle-switch></td><td><input type=text class="input-med form-control" name=modifier_price ng-required=true currency-format amount=mi.current_mod_item.default_modifier_price.price ng-model=mi.current_mod_item.default_modifier_price.price ng-fade></td><td><input type=text class="input-med form-control" name=default_external_id ng-model=mi.current_mod_item.default_modifier_price.external_id ng-fade></td></tr><tr><div class="alert alert-danger ng-hide alert-reg-position" ng-show="mi.modifier_item_form.modifier_price.$error.required\n                                         && (mi.modifier_item_form.modifier_price.$faded || mi.current_mod_item.submit)" role=alert>Default Modifier Price required.</div></tr><tr ng-repeat="size in mi.current_mod_item.all_sizes | filter: mi.filterInactive"><td>{{size.menu_type_name}}</td><td>{{size.size_name}}</td><td><toggle-switch name=active on-label=Active off-label=Inactive ng-model=size.active></toggle-switch></td><td><input type=text class="input-med form-control" name=modifier_size_price ng-show=size.active currency-format amount=size.modifier_price ng-model=size.modifier_price ng-fade></td><td><input type=text class="input-med form-control" name=modifier_external_size_id ng-show=size.active ng-model=size.external_id ng-fade></td></tr></table></div></div></div></div></div></div></div><div ng-show=mi.current_mod_item.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button id=modifier-item-update-submit ng-show=!mi.new class="btn btn-success btn-lg pull-right m-l-5">Update Modifier Item</button> <button ng-show=mi.new class="btn btn-success btn-lg pull-right m-l-5">Create Modifier Item</button> <button ng-disabled type=button class="btn btn-default btn-lg pull-right m-l-5" ng-click=mi.backToItemsModifiers()>Cancel</button></form><propagation-select close-merchant-select=mi.setMerchants() all-option=1 master-only=1 propation-options=1 auto-search=true></propagation-select>'),
a.put("modules/menu/menu-nutrition-grid/menu-nutrition-grid.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Nutrition</h4><ol class=breadcrumb><li><a href=#/menus>Menus</a></li><li><a href=javascript:void(0); href=#/menu/nutrition_grid>Nutrition Grid</a></li></ol></div></div></div><div class=row><div class=panel-body><div ng-repeat="menu_type in ng.nutrition.menu_types"><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="menu_type.opened = !menu_type.opened"><div class="panel-title sub-panel-title"><i class="fa inline" ng-class="{ \'fa-plus\':!menu_type.opened,\n                                       \'fa-minus\':menu_type.opened }" aria-hidden=true></i><div class="title inline">{{menu_type.menu_type_name}}</div></div></div><table class="table content-table" ng-show=menu_type.opened><thead><tr><th>Name Size</th><th>Svg. Size</th><th>Calories</th><th>Cal from Fat</th><th>Total Fat (g)</th><th>Saturated Fat (g)</th><th>Trans Fat (g)</th><th>Cholesterol (mg)</th><th>Sodium (mg)</th><th>Carb (g)</th><th>Fiber (g)</th><th>Sugar (g)</th><th>Protein (g)</th></tr></thead><tbody><tr ng-repeat="offering in menu_type.offerings" ng-class="{successeffect: offering.success, loadingeffect: false, faileffect:item.fail}"><td>{{offering.offering_label}}</td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.serving_size ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.calories ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.calories_from_fat ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.total_fat ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.saturated_fat ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.trans_fat ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.cholesterol ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.sodium ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.total_carbohydrates ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.dietary_fiber ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.sugars ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td><td><input type=text class="input-micro black-text-input" ng-model=offering.offering_data.protein ng-keyup="ng.updateMenuOffering(offering,$index, $parent.$index)"></td></tr></tbody></table></div></div></div></div>'),a.put("modules/menu/menu-overview/menu-overview.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg white-text"><h4 class=page-title>Menu</h4></div></div></div><div class=menu-list><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Report Criteria</h3></div><div class=panel-body><div class=col-md-8><div class=btn-group><button type=button ng-click="mo.current_report = \'menu_type_item\'" ng-class="mo.reportButtonClass(\'menu_type_item\')">Menu Type & Item Report</button> <button type=button ng-click="mo.current_report = \'mod_group_mod_item\'" ng-class="mo.reportButtonClass(\'mod_group_mod_item\')">Mod Group & Mod Item Report</button> <button type=button ng-click="mo.current_report = \'merchant_menu\'" ng-class="mo.reportButtonClass(\'merchant_menu\')">Merchant Menu Report</button></div></div><div class=col-md-4><button type=button ng-show="mo.userService.hasPermission(\'multi_merchs_filter\')" ng-click=mo.loadZeroRecordMenu() class="btn btn-danger">Load Master Menu</button> <button type=button data-toggle=modal data-target=#merchant-single-select-modal ng-show="mo.userService.hasPermission(\'multi_merchs_filter\')" class="btn btn-success">Select Merchant\'s Menu</button></div></div></div></div><div class=menu-list ng-show="mo.current_report == \'menu_type_item\'"><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h3 class=panel-title>Menu Section & Items</h3><button type=button csv-header=mo.exportMenuTypeHeaders ng-csv=mo.menuTypeMenuItemReport filename=menu_type_item_report.csv class="btn btn-danger pull-right">Export CSV</button></div><div class=panel-body><h5 class=pre-load-text ng-show="mo.menuTypeMenuItemReport.length == 0">No records</h5><table class="table table-hover content-table" ng-show="mo.menuTypeMenuItemReport.length > 0"><thead><tr><th class=cursor-pointer>Section</th><th class=cursor-pointer>Active</th><th class=cursor-pointer>Item Name</th><th class=cursor-pointer>Item Desc</th><th class=cursor-pointer>Active</th></tr></thead><tbody><tr ng-repeat="record in mo.menuTypeMenuItemReport"><td>{{record.menu_type_name}}</td><td>{{record.Menu_Type_Active}}</td><td>{{record.item_name}}</td><td>{{record.description}}</td><td>{{record.Item_Active}}</td></tr></tbody></table></div></div></div><div class=menu-list ng-show="mo.current_report == \'mod_group_mod_item\'"><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h3 class=panel-title>Menu Modifier Groups & Modifier Items</h3><button type=button csv-header=mo.exportModGroupHeaders ng-csv=mo.modifierGroupModifierItemReport filename=mod_group_mod_item_report.csv class="btn btn-danger pull-right">Export CSV</button></div><div class=panel-body><h5 class=pre-load-text ng-show="mo.modifierGroupModifierItemReport.length == 0">No records</h5><table class="table table-hover content-table" ng-show="mo.modifierGroupModifierItemReport.length > 0"><thead><tr><th class=cursor-pointer>Modifier Group</th><th class=cursor-pointer>MG Active</th><th class=cursor-pointer>Mod Item Name</th><th class=cursor-pointer>Mod Item Active</th></tr></thead><tbody><tr ng-repeat="record in mo.modifierGroupModifierItemReport"><td>{{record.modifier_group_name}}</td><td>{{record.MG_active}}</td><td>{{record.modifier_item_name}}</td><td>{{record.MI_active}}</td></tr></tbody></table></div></div></div><div class=menu-list ng-show="mo.current_report == \'merchant_menu\'"><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h3 class=panel-title>Merchant Menu Report</h3><button type=button csv-header=mo.exportMerchatHeaders ng-csv=mo.merchantMenuReport filename=merchant_menu_report.csv class="btn btn-danger pull-right">Export CSV</button></div><div class=panel-body><h5 class=pre-load-text ng-show="mo.merchantMenuReport.length == 0">No records</h5><table class="table table-hover content-table" ng-show="mo.merchantMenuReport.length > 0"><thead><tr><th class=cursor-pointer>Section ID</th><th class=cursor-pointer>Section Name</th><th class=cursor-pointer>Section Priority</th><th class=cursor-pointer>Item ID</th><th class=cursor-pointer>Item Name</th><th class=cursor-pointer>Item Priority</th><th class=cursor-pointer>Mod Group ID</th><th class=cursor-pointer>Mod Group Name</th><th class=cursor-pointer>Mod Group Priority</th><th class=cursor-pointer>IMGM ID</th></tr></thead><tbody><tr ng-repeat="record in mo.merchantMenuReport"><td>{{record.mt_id}}</td><td>{{record.menu_type_name}}</td><td>{{record.mt_priority}}</td><td>{{record.item_id}}</td><td>{{record.item_name}}</td><td>{{record.i_priority}}</td><td>{{record.mg_id}}</td><td>{{record.modifier_group_name}}</td><td>{{record.mg_priority}}</td><td>{{record.imgm_id}}</td></tr></tbody></table></div></div></div><merchant-single-selector close-merchant-select=mo.loadReportWithMerchant(merchant) selected-merchant-id=mo.menu_merchant_id search-function=mo.merchantSearchByMenu auto-submit=true></merchant-single-selector>'),a.put("modules/menu/menu-search/menu-search.html",'<div ng-controller=MenuSearchCtrl><form ng-show="current_search == \'menu\'" class="navbar-form pull-left" role=search><div class=form-group><input type=text ng-change=updateMenuSearch() ng-model=menu_search_text class="form-control search-bar" placeholder="Filter Menu..."></div><button type=submit class="btn btn-search"><i class="fa fa-search"></i></button></form></div>'),a.put("modules/menu/menu-section/menu-section.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Edit Section {{ms.sectionService.data.menu_type_name}}</h4><ol class=breadcrumb><li><a href=#/menus>Menus</a></li><li><a href=#/menu/items>Items & Modifiers</a></li><li><a href=javascript:void(0);>Edit Section {{ms.sectionService.menu_type_name}}</a></li></ol></div></div></div><form name=ms.update_section_form class=form-horizontal novalidate ng-submit=ms.updateSection()><div class=row><div class="col-md-12 m-b-10"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Section Info</h3></div><div class=panel-body><div class="row panel-head-row"><div class=col-md-2><h4 class=dark-header>Name</h4></div><div class="col-md-3 col-margin"><h4 class=dark-header>Description</h4></div><div class=col-md-2><h4 class=dark-header>Category</h4></div><div class=col-md-2><h4 class=dark-header>External ID</h4></div><div class=col-md-2><h4 class=dark-header>Active</h4></div><div class="col-md-1 center-head"><h4 class=dark-header>Image <i class="fa fa-check" aria-hidden=true ng-show="ms.sectionService.data.image_url != null"></i> <i class="fa fa-times" aria-hidden=true ng-show="ms.sectionService.data.image_url == null"></i></h4></div></div><div class=row><div class="col-md-2 col-margin"><input type=text class=form-control name=menu_type_name ng-required=true ng-blur=ms.setDescription(ms.sectionService.data.menu_type_name) ng-model=ms.sectionService.data.menu_type_name ng-fade></div><div class=col-md-3><input type=text class="form-control input-x-large" name=description ng-required=true ng-maxlength=50 maxlength=255 ng-model=ms.sectionService.data.menu_type_description ng-fade></div><div class=col-md-2><select name=create_cat_id class=form-control ng-required=true ng-model=ms.sectionService.data.cat_id ng-fade ng-options="category.type_id_value as category.type_id_name for category in ms.menuService.menu_type_categories"><option class=placeholder-color value="" selected disabled>CATEGORY</option></select></div><div class=col-md-2><input type=text class=form-control name=external_menu_type_id ng-model=ms.sectionService.data.external_menu_type_id ng-fade></div><div class=col-md-2><toggle-switch name=active class="table-toggle toggle-in-row" ng-model=ms.sectionService.data.active></toggle-switch></div><div class="col-md-1 edit-icon"><i class="fa fa-file-image-o" aria-hidden=true data-toggle=modal data-target=#image-modal></i></div><div class=col-md-12><div class="alert alert-danger alert-reg-position" ng-show="ms.update_section_form.menu_type.$error.required  && (ms.update_section_form.menu_type.$faded || ms.submit)" role=alert>Section is required.</div><div class="alert alert-danger alert-reg-position" ng-show="ms.update_section_form.item_name.$error.required && (ms.update_section_form.item_name.$faded || ms.submit)" role=alert>Name is required.</div><div class="alert alert-danger alert-reg-position" ng-show="ms.update_section_form.item_name.$error.required && (ms.update_section_form.item_name.$faded || ms.submit)" role=alert>Name is required.</div><div class="alert alert-danger alert-reg-position" ng-show="ms.update_section_form.item_name.$error.required && (ms.update_section_form.item_name.$faded || ms.submit)" role=alert>Name is required.</div></div></div></div></div></div><div class=col-md-12><div ng-show=!ms.page_open_sections.sizes ng-click="ms.page_open_sections.sizes = !ms.page_open_sections.sizes" class="panel panel-primary"><div class="panel-heading pointer"><h3 class=panel-title>Section Sizes <span class=pull-right><i class="fa fa-plus" aria-hidden=true></i></span></h3></div></div><div ng-show=ms.page_open_sections.sizes class="panel panel-primary"><div class="panel-heading pointer" ng-click="ms.page_open_sections.sizes = !ms.page_open_sections.sizes"><h3 class=panel-title>Section Sizes <span class=pull-right><i class="fa fa-minus" aria-hidden=true></i></span></h3></div><div class=panel-body><div class=row><table class=table><thead><tr><th>Name</th><th>Display</th><th>Description</th><th>Priority</th><th>Active</th><th>Default Select</th><th>All Items</th></tr></thead><tbody ng-repeat="size in ms.sectionService.data.sizes"><tr><td><input type=text class="input-med form-control" ng-blur=ms.updateSizePrintName(size) ng-model=size.size_name name=size_name ng-fade ng-required=true></td><td><input type=text class="input-med form-control" ng-required=true name=size_print_name ng-model=size.size_print_name ng-fade></td><td><input type=text class="input-med form-control" name=size_description ng-model=size.description ng-fade></td><td><input type=number class="input-micro form-control" ng-model=size.priority ng-fade></td><td><toggle-switch name=active class="table-toggle toggle-in-row" ng-model=size.active></toggle-switch></td><td class=table-checkbox><input class=form-control type=checkbox name=default_selection ng-model=size.default_selection></td><td class=table-checkbox><input ng-show=size.new class=form-control type=checkbox name=default_selection ng-model=size.apply_all_items></td></tr></tbody></table><div class=col-md-12 ng-show="ms.update_section_form.size_print_name.$error.required && ms.submit"><div class="alert alert-danger alert-reg-position" role=alert>Size Print Name is required for all sizes.</div></div><div class=col-md-12 ng-show="ms.update_section_form.size_name.$error.required && ms.submit"><div class="alert alert-danger alert-reg-position" role=alert>Size Name is required for all sizes.</div></div><button type=button ng-disabled ng-click=ms.addEditSectionSize() class="btn btn-primary btn-xs m-t-15 pull-right">Add New Size</button></div></div></div></div><div class=col-md-12><div ng-show=!ms.page_open_sections.availability ng-click="ms.page_open_sections.availability = !ms.page_open_sections.availability" class="panel panel-primary"><div class="panel-heading pointer"><h3 class=panel-title>Availability <span class=pull-right><i class="fa fa-plus" aria-hidden=true></i></span></h3></div></div><div ng-show=ms.page_open_sections.availability class="panel panel-primary"><div class="panel-heading pointer" ng-click="ms.page_open_sections.availability = !ms.page_open_sections.availability"><h3 class=panel-title>Availability <span class=pull-right><i class="fa fa-minus" aria-hidden=true></i></span></h3></div><div class=panel-body><div class=row><div class=col-md-6><label class=control-label><input type=checkbox ng-model=ms.sectionService.data.active_all_day> Active All Day</label></div></div><div class=row ng-show=!ms.sectionService.data.active_all_day><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Start Time</label><div class="col-md-9 m-t-5"><div class="input-micro inline margin-left-five"><input type=text class="form-control input-micro inline" placeholder=HH:MM name=start_time ng-fade maxlength=5 ng-model=ms.sectionService.data.start_time ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=ms.sectionService.data.start_time_am_pm><option value=am>am</option><option value=pm>pm</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="ms.sectionService.data_form.start_time.$invalid && (ms.sectionService.data_form.start_time.$faded || ms.sectionService.data.submit)" role=alert>Must be in HH:MM time format.</div></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">End Time</label><div class="col-md-9 m-t-5"><div class="input-micro inline margin-left-five"><input type=text class="form-control input-micro inline" placeholder=HH:MM name=end_time ng-fade maxlength=5 ng-model=ms.sectionService.data.end_time ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/"><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=ms.sectionService.data.end_time_am_pm><option value=am>am</option><option value=pm>pm</option></select></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="ms.sectionService.data_form.end_time.$invalid && (ms.sectionService.data_form.end_time.$faded || ms.sectionService.data.submit)" role=alert>Must be in HH:MM time format.</div></div></div></div></div></div></div></div></div><button id=submit-update-item class="btn btn-success btn-lg pull-right m-l-5">Update Section</button></form><div id=image-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 ng-show="image_upload_stage == \'file_select\'" class=modal-title>Select Image File</h4><h4 ng-show="image_upload_stage == \'crop\'" class=modal-title>Crop Hero Image</h4></div><div class=modal-body><table ng-show="image_upload_stage != \'processing\'"><td ng-show="image_upload_stage == \'crop\'"><div class=cropArea><ui-cropper image=myImage area-type=rectangle aspect-ratio=3.47 result-image=myCroppedImage result-image-quality=1.0 result-image-size="{w: 1300, h: 375}" cropject=cropper image-size={{main_image_size}} live-view=blockingObject></ui-cropper></div></td></table><div class=col-md-12 ng-show="image_stage == \'processing\'"><div class=filter-loader-contain><div class=filter-loader></div></div></div><form ng-show="image_upload_stage == \'file_select\'" name=image_form class=skin-config-img><div ngf-drop ngf-select ng-model=file class="drop-box site-image-drop-box" ngf-max-size=5MB ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'">Drop image file here or click to upload</div></form><div class=row><div class=col-md-12><div class="alert alert-danger alert-reg-position" role=alert>Warning: This will update your live, production menu.</div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Close</button> <button ng-show="image_upload_stage == \'crop\'" ng-click=uploadFile() type=button ng-disabled class="btn btn-primary">Crop</button></div></div></div></div>'),a.put("modules/menu/menu-sections/menu-sections.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Menu - Sections & Modifiers</h4><ol class=breadcrumb><li><a href=#/menus>Menus</a></li><li><a href=javascript:void(0);>{{sec_mod.menu_name}} Sections & Modifiers</a></li></ol></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Sections</h3></div><div class=panel-body><table class=table><thead><tr><th>ID</th><th>External</th><th>Name</th><th>Category</th><th class=center-head>Active</th><th>Priority</th></tr></thead><tbody><tr ng-repeat="section in sec_mod.sections"><td>{{section.menu_type_id}}</td><td>{{section.external_menu_id}}</td><td>{{section.menu_type_name}}</td><td>{{sec_mod.decodeCategory(section.cat_id)}}</td><td class=boolean-table-field><i class="fa fa-check-square-o" aria-hidden=true ng-show=section.active></i> <i class="fa fa-ban" aria-hidden=true ng-show=!section.active></i></td><td>{{section.priority}}</td></tr></tbody></table><div class="alert alert-success alert-reg-position" ng-show=sec_mod.new_section.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> New Menu Section <strong>{{sec_mod.new_section.menu_type_name}}</strong> has been created!</div><button type=button ng-disabled class="btn btn-success pull-right" data-toggle=modal data-target=#add-section-modal><i class="fa fa-plus" aria-hidden=true></i> Create New Section</button></div></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Modifiers</h3></div><div class=panel-body><table class=table><thead><tr><th>ID</th><th>External</th><th>Modifier Group</th><th>Type</th><th class=center-head>Active</th><th>Priority</th></tr></thead><tbody><tr ng-repeat="modifier in sec_mod.modifier_groups"><td>{{modifier.modifier_group_id}}</td><td>{{modifier.external_modifier_group_id}}</td><td>{{modifier.modifier_group_name}}</td><td>{{sec_mod.decodeModifierType(modifier.modifier_type)}}</td><td class=boolean-table-field><i class="fa fa-check-square-o" aria-hidden=true ng-show=modifier.active></i> <i class="fa fa-ban" aria-hidden=true ng-show=!modifier.active></i></td><td>{{modifier.priority}}</td></tr></tbody></table><div class="alert alert-success alert-reg-position" ng-show=sec_mod.new_modifier_group.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Modifier Group <strong>{{sec_mod.new_modifier_group.modifier_group_name}}</strong> has been created!</div><button type=button ng-disabled class="btn btn-success pull-right" data-toggle=modal data-target=#add-new-modifier-modal><i class="fa fa-plus" aria-hidden=true></i> Create New Modifier Group</button></div></div><button type=button ng-disabled class="btn btn-lg btn-primary pull-right" ng-click="sec_mod.changeRoute(\'items_modifiers\')">Continue <i class="fa fa-arrow-right" aria-hidden=true></i></button></div></div><div id=add-section-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create Section</h4></div><div class=modal-body><form name=sec_mod.new_section_form class=form-horizontal novalidate ng-submit=sec_mod.createSection()><div class=form-group><label class="col-md-3 control-label">Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=menu_type_name ng-model=sec_mod.new_section.menu_type_name ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_section_form.menu_type_name.$error.required\n                                 && (sec_mod.new_section_form.menu_type_name.$faded || sec_mod.new_section.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Description</label><div class="col-md-9 m-t-5"><textarea class=form-control rows=2 name=menu_type_description ng-model=sec_mod.new_section.menu_type_description></textarea></div></div><div class=form-group><label class="col-md-3 control-label">Category</label><div class="col-md-9 m-t-5"><div class="select input-med inline margin-left-five"><select name=cat_id class=form-control ng-required=true ng-model=sec_mod.new_section.cat_id ng-options="category.type_id_value as category.type_id_name for category in sec_mod.categories"><option class=placeholder-color value="" selected disabled>CATEGORY</option></select></div></div></div><div class=form-group><label class="col-md-3 control-label">Priority</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" priority=priority ng-model=sec_mod.new_section.priority ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_section_form.priority.$error.required\n                                 && (sec_mod.new_section_form.priority.$faded || sec_mod.new_section.submit)" role=alert>Priority is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Active</label><div class="col-md-9 m-t-10"><toggle-switch name=active on-label=Active off-label=Inactive ng-model=sec_mod.new_section.active></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">Items</label><div class="col-md-9 m-t-5"><input type=text class="input-x-large form-control" name=items ng-model=sec_mod.new_section.items ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_section_form.items.$error.required\n                                 && (sec_mod.new_section_form.items.$faded || sec_mod.new_section.submit)" role=alert>Items are required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Sizes</label><div class="col-md-9 m-t-5"><input type=text class="input-x-large form-control" name=sizes ng-model=sec_mod.new_section.sizes ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_section_form.sizes.$error.required\n                                 && (sec_mod.new_section_form.sizes.$faded || sec_mod.new_section.submit)" role=alert>Sizes are required.</div></div></div><div class=modal-footer><div ng-show=sec_mod.new_section.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div>{{sec_mod.new_section_form.$error}}</form></div></div></div></div><div id=add-new-modifier-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create Modifier Group</h4></div><div class=modal-body><form name=sec_mod.new_mod_group_form class=form-horizontal novalidate ng-submit=sec_mod.createModifierGroup()><div class=form-group><label class="col-md-3 control-label">Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=modifier_group_name ng-model=sec_mod.new_modifier_group.modifier_group_name ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_mod_group_form.modifier_group_name.$error.required\n                                 && (sec_mod.new_mod_group_form.modifier_group_name.$faded || sec_mod.new_modifier_group.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Description</label><div class="col-md-9 m-t-5"><textarea class=form-control rows=2 name=modifier_description ng-model=sec_mod.new_modifier_group.modifier_description></textarea></div></div><div class=form-group><label class="col-md-3 control-label">Modifier Type</label><div class="col-md-9 m-t-5"><div class="select input-med inline margin-left-five"><select name=cat_id class=form-control ng-required=true ng-model=sec_mod.new_modifier_group.modifier_type ng-options="mod_type.type_id_value as mod_type.type_id_name for mod_type in sec_mod.modifier_types"><option class=placeholder-color value="" selected disabled>MODIFIER TYPE</option></select></div></div></div><div class=form-group><label class="col-md-3 control-label">Priority</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" priority=priority ng-model=sec_mod.new_modifier_group.priority ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_mod_group_form.priority.$error.required\n                                 && (sec_mod.new_mod_group_form.priority.$faded || sec_mod.new_menu_type.submit)" role=alert>Priority is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Active</label><div class="col-md-9 m-t-10"><toggle-switch name=active on-label=Active off-label=Inactive ng-model=sec_mod.new_modifier_group.active></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">Modifier Items</label><div class="col-md-9 m-t-5"><input type=text class="input-x-large form-control" name=item_list ng-model=sec_mod.new_modifier_group.item_list ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_mod_group_form.item_list.$error.required\n                                 && (sec_mod.new_mod_group_form.item_list.$faded || sec_mod.new_modifier_group.submit)" role=alert>Items are required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Default Item Price</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" name=default_item_price ng-model=sec_mod.new_modifier_group.default_item_price ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_mod_group_form.default_item_price.$error.number\n                                    && (sec_mod.new_mod_group_form.default_item_price.$faded || sec_mod.new_modifier_group.submit)" role=alert>Default Item Price must be numeric.</div></div></div><div class=form-group><label class="col-md-3 control-label">Default Item Max</label><div class="col-md-9 m-t-5"><input type=number class="input-med form-control" name=default_item_max ng-model=sec_mod.new_modifier_group.default_item_max ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="sec_mod.new_mod_group_form.default_item_max.$error.number\n                                    && (sec_mod.new_mod_group_form.default_item_max.$faded || sec_mod.new_modifier_group.submit)" role=alert>Default Item Max must be numeric.</div></div></div><div class=modal-footer><div ng-show=sec_mod.new_modifier_group.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div>'),a.put("modules/menu/menu-upsell-cart-create/menu-upsell-cart-create.html",'<div class=loader-container ng-show=vm.processing><div class=filter-loader></div></div><div class=menu-upsell-cart-create ng-if=!vm.processing><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Select Item for Cart Upsell</h3></div><div class=panel-body><div class=form-group><label class=m-l-2>Search <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.UPSELL.SEARCH\' | translate }}</span></i></label><div class="search-box input-med"><input type=text class=form-control name=search_text placeholder="Enter Name" ng-model=vm.menu.search_text ng-required=true ng-fade></div></div><div ng-show=!vm.menu.processing><label class=m-l-2>Items Available for the Current Menu:</label><div class=text-center ng-if="resultItems.length == 0"><h5 class=pre-load-text>No Items Found</h5></div><div class="m-b-20 table-fixed-with-scroll" ng-show="resultItems.length > 0"><table class="table table-hover content-table"><thead><tr><th>ID</th><th>External</th><th>Name</th><th>Description</th><th>Priority</th><th>Active</th></tr></thead><tbody><tr ng-repeat="item in vm.menu.all_items | orderBy: \'item_name\' | filter: vm.filterItems as resultItems" ng-click=vm.setUpsellItem(item)><td>{{item.item_id}}</td><td>{{item.external_item_id}}</td><td>{{item.item_name}}</td><td>{{item.description}}</td><td>{{item.priority}}</td><td>{{item.active}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="item in vm.menu.all_items | orderBy: \'item_name\'  | filter: vm.filterItems" ng-click=vm.setUpsellItem(item)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{item.item_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">ID <span class=id-number>{{item.item_id}}</span></h5></div><div class="description clear"><div ng-show=!!item.external_item_id>External ID: {{item.external_item_id}}</div><div>Priority: {{item.priority}} - Active: {{item.active}}</div><div>{{item.description}}</div></div></div></div></div></div></div><div ng-if=!vm.menu.processing><label class=m-l-2>Selected Items:</label><h5 class="pre-load-text text-center" ng-if="vm.selectedItems.length == 0">No Items Selected</h5><div ng-if="vm.selectedItems.length > 0"><table class="table table-hover content-table"><thead><tr><th>ID</th><th>External</th><th>Name</th><th>Description</th><th>Priority</th><th>Active</th></tr></thead><tbody><tr ng-repeat="item in vm.selectedItems | orderBy: \'item_name\'" ng-click=vm.removeUpsellItem(item)><td>{{item.item_id}}</td><td>{{item.external_item_id}}</td><td>{{item.item_name}}</td><td>{{item.description}}</td><td>{{item.priority}}</td><td>{{item.active}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="item in vm.selectedItems | orderBy: \'item_name\'" ng-click=vm.removeUpsellItem(item)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{item.item_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">ID <span class=id-number>{{item.item_id}}</span></h5></div><div class="description clear"><div ng-show=!!item.external_item_id>External ID: {{item.external_item_id}}</div><div>Priority: {{item.priority}} - Active: {{item.active}}</div><div>{{item.description}}</div></div></div></div></div></div></div><div class="pull-right m-t-20 m-b-10"><button type=button class="btn btn-default m-r-5" back-button>Cancel</button> <button type=button class="btn btn-success" ng-click=vm.submitUpsells()>Submit</button></div></div></div></div>'),
a.put("modules/menu/menu-upsell-create/menu-upsell-create.html",'<div class=menu-upsell-create ng-show=create_upsell.showSearch()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Select Item for Upsell</h3></div><div class=panel-body><div class=form-group><label class=m-l-2>Search <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.UPSELL.SEARCH\' | translate }}</span></i></label><div class="search-box input-med"><input type=text class=form-control name=search_text placeholder="Enter Name" ng-model=create_upsell.menu.search_text ng-required=true ng-fade></div></div><div class=panel-body ng-show="create_upsell.menu.search_text.length > 2 && resultItems.length == 0"><h5 class=pre-load-text>No Items Found</h5></div><div class=m-b-20 ng-show="create_upsell.menu.search_text.length > 2 && resultItems.length > 0"><table class="table table-hover content-table"><thead><tr><th>ID</th><th>External</th><th>Name</th><th>Description</th><th>Priority</th><th>Active</th></tr></thead><tbody><tr ng-repeat="item in create_upsell.menu.all_items | filter: create_upsell.filterItems as resultItems" ng-click=create_upsell.setUpsellItem(item.section,item)><td>{{item.item_id}}</td><td>{{item.external_item_id}}</td><td>{{item.item_name}}</td><td>{{item.description}}</td><td>{{item.priority}}</td><td>{{item.active}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="item in create_upsell.menu.all_items | filter: create_upsell.filterItems" ng-click=create_upsell.setUpsellItem(item.section,item)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{item.item_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">ID <span class=id-number>{{item.item_id}}</span></h5></div><div class="description clear"><div ng-show=!!item.external_item_id>External ID: {{item.external_item_id}}</div><div>Priority: {{item.priority}} - Active: {{item.active}}</div><div>{{item.description}}</div></div></div></div></div></div><button type=button class="btn btn-default" back-button>Cancel</button></div></div></div><div class=menu-upsell-create ng-show=!create_upsell.showSearch()><div class="panel panel-primary"><div class="panel-heading flex-init flex-justify-content-space-between"><h3 class=panel-title>Menu Sections for Upsell - {{create_upsell.selected_item.item_id}} - {{create_upsell.selected_item.item_name}}</h3><button type=button class="btn btn-default" style="margin: 0px" back-button>Cancel</button></div><div class=panel-body><h5 class="m-l-10 dark-grey bold">Unselected Sections <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.UPSELL.UNSELECTED_SECTION\' | translate }}</span></i></h5><div ng-show="create_upsell.unselected_menu_types.length == 0"><h5 class="pre-load-text m-tb-20">No sections</h5></div><div class=half-table-scroll ng-show="create_upsell.unselected_menu_types.length > 0"><table class="table table-hover"><tbody><tr ng-repeat="section in create_upsell.unselected_menu_types" ng-click="create_upsell.addMenuTypeSelected($index, section)"><td>{{section.menu_type_id}}</td><td>-</td><td>{{section.menu_type_name}}</td></tr></tbody></table></div><h5 class="m-l-10 bold dark-grey">Selected Sections <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.UPSELL.SELECT_SECTION\' | translate }}</span></i></h5><div ng-show="create_upsell.selected_menu_types.length == 0"><h5 class="pre-load-text m-t-20">Select at least one section</h5></div><div class=m-b-30 ng-show="create_upsell.selected_menu_types.length > 0"><table class="table table-hover"><tbody><tr ng-repeat="section in create_upsell.selected_menu_types" ng-click="create_upsell.removeMenuTypeSelected($index, section)"><td>{{section.menu_type_id}}</td><td>-</td><td>{{section.menu_type_name}}</td></tr></tbody></table></div><div ng-show=create_upsell.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button ng-show="create_upsell.selected_menu_types.length > 0" type=button ng-disabled class="btn btn-soft-blue pull-right m-t-20 m-b-10" ng-click=create_upsell.create()>Create Upsell</button></div></div></div>'),a.put("modules/menu/menu-upsell-list/menu-upsell-list.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Category Upsells</h4><button type=button ng-disabled class="btn btn-info" ng-click=upsells.createNew()>Create New Upsell</button></div></div></div><div class=text-center ng-if="!upsells.menu.upsells || (!!upsells.menu.upsells && upsells.menu.upsells.length == 0)"><h5 class=pre-load-text>No Upsells Found</h5></div><div ng-repeat="upsell in upsells.menu.upsells" ng-if="!!upsells.menu.upsells && upsells.menu.upsells.length > 0"><div class="panel panel-primary"><div class="panel-heading section-select"><h3 class=panel-title>{{upsell.menu_type_name}}</h3></div><div class=panel-body><table class=table><thead><tr><th class=fix-table-wrap>Upsell ID</th><th>Name</th><th></th></tr></thead><tbody><tr ng-repeat="upsell_item in upsell.upsells"><td class=fix-table-wrap>{{upsell_item.item_id}}</td><td>{{upsell_item.item_name}}</td><td class=delete-icon><i class="fa fa-times" aria-hidden=true ng-click="upsells.deleteUpsellConfirmation(upsell_item, $parent.$index, $index)"></i></td></tr></tbody></table></div></div></div>'),a.put("modules/menu/menu-upsells-cart/menu-upsells-cart.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Cart Upsells</h4><button type=button ng-disabled class="btn btn-info" ng-click=vm.createNew()>Create New Cart Upsell</button></div></div></div><div><div class="panel panel-primary"><div class="panel-heading section-select"><h3 class=panel-title ng-if=!!vm.menu.menuWithCardUpsells.menu_id>Menu ID: {{vm.menu.menuWithCardUpsells.menu_id}} - Menu Name: {{vm.menu.menuWithCardUpsells.name}}</h3></div><div class=panel-body><div class=text-center ng-if="!vm.menu.menuWithCardUpsells.cart_upsells || (!!vm.menu.menuWithCardUpsells.cart_upsells && vm.menu.menuWithCardUpsells.cart_upsells.length == 0)"><h5 class=pre-load-text>No Items Found</h5></div><table class=table ng-if="!!vm.menu.menuWithCardUpsells.cart_upsells && vm.menu.menuWithCardUpsells.cart_upsells.length > 0"><thead><tr><th class=fix-table-wrap>Upsell ID</th><th>Name</th><th></th></tr></thead><tbody><tr ng-repeat="upsell in vm.menu.menuWithCardUpsells.cart_upsells"><td class=fix-table-wrap>{{upsell.item_id}}</td><td>{{upsell.item_name}}</td><td class=delete-icon><i class="fa fa-times" aria-hidden=true ng-click=vm.deleteUpsellConfirmation(upsell)></i></td></tr></tbody></table></div></div></div>'),a.put("modules/merchant/directive/lead-time-modal/lead-time-modal.html",'<div id={{handlerName}} class="lead-time-modal modal fade {{handlerName}}"><div class="modal-dialog modal-md"><div class=modal-content><form name=holiday_form novalidate><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>{{!!headerTitle? headerTitle : \'Lead Time Panel\'}}</h4></div><div class=modal-body><div style="margin: 10px"><div class=form-group><label class=control-label>Type</label><select class="form-control input-med" name=type id=type ng-options="option.id as option.name for option in type" ng-model=currentLeadTimeSelected.hour_type ng-required=true></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="holiday_form.type.$error.required\n                                     && (holiday_form.type.$touched || holiday_form.$submitted)" role=alert>Type is required.</div></div><div class=form-group><label class=control-label>Day of week</label><select class="form-control input-med" name=weekDay id=weekDay ng-options="option.id as option.name for option in weekDay" ng-model=currentLeadTimeSelected.day_of_week ng-required=true></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="holiday_form.weekDay.$error.required\n                                     && (holiday_form.weekDay.$touched || holiday_form.$submitted)" role=alert>The week day is required.</div></div><div class=form-group><label class=control-label>Start Time</label><br><div class=tooltip-help><input type=time class="form-control input-med" name=start_time ng-model=currentLeadTimeSelected.start_time_object ng-required=true ng-max=currentLeadTimeSelected.end_time_object ui-validate=" \'$value!=end_time\' " ui-validate-watch=" \'end_time\' "> <span class="tool-tip-text input-med-popup">Must be format HH:MM AM/PM.</span></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(holiday_form.start_time.$error.required || holiday_form.start_time.$error.time)\n                                     && (holiday_form.start_time.$touched || holiday_form.$submitted)" role=alert>The start time is required and must be in HH:MM AM/PM time format.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="holiday_form.start_time.$error.max\n                                     && (holiday_form.start_time.$touched || holiday_form.$submitted)" role=alert>The start time must be less than end time.</div></div><div class=form-group><label class=control-label>End Time</label><br><div class=tooltip-help><input type=time class="form-control input-med" name=end_time ng-model=currentLeadTimeSelected.end_time_object ng-required=true ng-min=currentLeadTimeSelected.start_time_object> <span class="tool-tip-text input-med-popup">Must be format HH:MM AM/PM.</span></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(holiday_form.end_time.$error.required || holiday_form.end_time.$error.time)\n                                     && (holiday_form.end_time.$touched || holiday_form.$submitted)" role=alert>The end time is required and must be in HH:MM AM/PM time format..</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="holiday_form.end_time.$error.min\n                                     && (holiday_form.end_time.$touched || holiday_form.$submitted)" role=alert>The end time must be grater than start time.</div></div><div class=form-group><label class=control-label>Lead Time (in minutes)</label><input type=number class="form-control input-med" name=lead_time ng-model=currentLeadTimeSelected.lead_time ng-required=true min=1><div class="alert alert-danger ng-hide alert-reg-position" ng-show="holiday_form.lead_time.$error.required\n                                     && (holiday_form.lead_time.$touched || holiday_form.$submitted)" role=alert>The lead time is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="holiday_form.lead_time.$error.min\n                                     && (holiday_form.lead_time.$touched || holiday_form.$submitted)" role=alert>Lead time must be greater than zero.</div></div></div></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal data-ng-click=cancelButton()>Cancel</button> <button type=submit class="btn btn-success" data-ng-click="submitButton(); $event.stopPropagation()">Submit</button></div></form></div></div></div>'),a.put("modules/merchant/directive/payment-services-daily-deposit-report/payment-services-daily-deposit-report.html",'<div class=col-md-12><div class="panel panel-primary"><div class="panel-heading flex-init flex-justify-content-space-between" ng-click="searchParams.load_report = true"><h3 class=panel-title>Bank Deposits</h3></div><div class=panel-body><div id=Merchant-Filter><paginated-table container-id="\'payment-services-daily-deposit-results-table\'" field-names=fieldNames params=searchParams endpoint-string="\'/merchant/payment/daily_deposit_report\'"><content-responsive><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{$parent.item.report_date}}</b></h5></div><div class=id><h5 class="dark-grey id-title">{{ \'MESSAGE.SHARE.MERCHANTID\' | translate }} <span class=id-number>{{$parent.item.merchant_id}}</span></h5></div><div class=description><div class=clear><b>{{ \'MESSAGE.SHARE.DISPLAYNAME\' | translate }}:</b> {{$parent.item.display_name}}</div><div class="clear merchant-address">{{$parent.item.address1}}</div><div><b>{{ \'MERCHANT.LIST.PHONEDOTS\' | translate }}</b> {{$parent.item.phone_no}}</div></div></div></content-responsive></paginated-table></div></div></div></div>'),a.put("modules/merchant/directive/payment-services-tos/payment-services-tos.html",'<div class=payment-services-pos-contain><p>ProFac Sub-Merchant Terms and Conditions</p><p>Last updated: March 13, 2019</p><p>INTRODUCTION<br/>This agreement between you and ProPay, Inc. (“<strong>ProPay</strong>,” “ <strong>we</strong>,” “<strong>our</strong>,” “<strong>us</strong>”) governing your use of our payment processing services (“ <strong>Service(s)</strong>”). The Services are being offered in conjunction with your agreement with your service provider (“ <strong>Provider Partner</strong>”) and may not be used separately from that agreement.<br/></p><p>1. THE SERVICES</p><p>1.1 THE SERVICES<br/>The Services allow you to accept payment from your customers via bankcards (“<strong>Cards</strong>”) validly issued by Visa, MasterCard, Discover, and American Express (the “<strong>Card Brands</strong>”) and also, if approved, via automated clearing house transactions (“<strong>ACH</strong> ”). Services may include TSYS EnsureBill<sup>SM</sup> and ThreatMetrix®, as described in section 2, if such services are made available by your Provider Partner. You must only use the Services for a business purpose and not for personal, family, or household use. We hereby grant you use of the Services according to the terms found herein.<br/><br/>1.2 REQUIRED INFORMATION<br/>In order to use the Services, we may require that you provide us with certain information such as information relating to your identity, customers, transactions, and financial statements. You must provide us with accurate and complete information and keep the information up-to-date. We rely on this information for underwriting and to meet our obligations under applicable laws and other regulatory requirements. If the scope or nature of your business or the type of products or services you offer changes, you must notify Provider Partner prior to the change. You are liable to us for all losses and expenses incurred by us arising out of your failure to report changes to us. We reserve the right to refuse to allow you to use the Services for any reason.<br/><br/>1.3 VERIFICATION<br/>You authorize us to make, from time to time, any business and personal credit inquiries (including, but not limited to, credit reports for your directors, officers, and principals), identity-verification inquiries, transaction-verification inquiries (including, but not limited to, with customers), and any other inquiries considered necessary relating to this agreement, and to provide any information and documentation to our sponsor banks and/or the Card Brands as required by them. You also authorize any person or credit reporting agency to compile information to answer those inquires and to furnish that information to us.<br/><br/>1.4 PROCESSING LIMITS<br/>We will assign a maximum dollar amount per sales ticket and an aggregate maximum dollar amount of Card and ACH transactions per calendar month. If certain Card processing volume thresholds are met by your use of the Services we may notify you that you must enter into an additional agreement with our sponsor bank.<br/><br/>1.5 DATA OWNERSHIP &amp; SHARING DATA WITH PROVIDER PARTNER<br/>ProPay will own all data associated with your use of the Services and you hereby grant us a perpetual, irrevocable, sub-licensable, assignable, worldwide, royalty-free license to use, reproduce, electronically distribute, and display this data for the following purposes: (a) providing and improving the Services; (b) internal usage, including but not limited to, data analytics so long as such data is anonymous and aggregated with other customer data; (c) complying with applicable legal requirements and assisting law enforcement agencies; (d) sharing data about your use of the Services with your Provider Partner; and (e) any other purpose for which you provide consent.<br/><br/>1.6 INTELLECTUAL PROPERTY RESTRICTIONS<br/>All materials or intellectual property provided to you in connection with the Services (“<strong>Materials</strong>”) are protected intellectual property of ProPay or its third party providers. You shall not (and shall not permit any agent or third party) to: (a) copy all or any portion of any Materials; (b) decompile, disassemble, or otherwise reverse engineer (except to the extent expressly permitted by applicable law, notwithstanding a contractual obligation to the contrary) the Services or Materials, or any portion thereof, or determine or attempt to determine any source code, algorithms, methods, or techniques used or embodied in the Services or any Materials or any portion thereof; (c) modify, translate, or otherwise create any derivative works based upon the Services or any Materials; (d) distribute, disclose, market, rent, lease, assign, sublicense, pledge, or otherwise transfer the Services or any Materials, in whole or in part, to any third party; or (e) remove or alter any copyright, trademark, or other proprietary notices, legends, symbols, or labels appearing on the Services or in any Materials.</p><p><br/>2. ENSUREBILL AND THREATMETRIX SERVICES</p><p>2.1 ENSUREBILL<br/>a. Description. TSYS EnsureBill Services, if made available by your Provider Partner, include enrolling you, submitting information to the Card Brands for updating, and providing updated account information to you as received by the Card Brands, subject to the terms and conditions of this agreement. An update means a match between a submitted card and the applicable Card Brand resulting in the provision of a new card number; a notification that the account has been closed; a new expiration date; or a “contact cardholder” message. If you elect to enroll in the EnsureBill Services you authorize ProPay to enroll you with the Card Brands to receive the EnsureBill Services and to provide information about you and your customers to ProPay’s service providers, including the Card Brand and ProPay’s processor, in order for ProPay to provide the EnsureBill Services.</p><p><br/>b. Limitations. You may use EnsureBill Services (and the data associated therewith) solely for updating cardholder information in order to complete your future pre-authorized transactions in accordance with the Card Brands and will not use the EnsureBill Services (nor the data associated therewith) for any other purpose, including use of data with transactions for a different card type (or in connection with the development of any other service or product). You must not request authorization or an update on accounts that have returned a response of “Closed Account” or submit inquiries for the EnsureBill Services on behalf of any other entity.<br/>c. Use outside of ProtectPay. For Cards not stored in ProPay’s ProtectPay service Merchant, you must:</p><ol><li>Request an update for every participating account in your customer database at least once every 180 calendar days;</li><li>Submit requests only for those accounts with which you have an ongoing customer relationship that would require the use of the EnsureBill Services, e.g., subscription services, “express checkout” services, membership (club) services, or recurring payment services;</li><li>Update your customer account database within five business days of receiving an update from us;</li><li>Ensure that information received from the EnsureBill Services is properly incorporated into your customer database for utilization in future transactions;</li><li>Correct erroneous account information within five business days of receipt of error notification from us or the Card Associations; and</li><li>Correct operational errors within five business days of receipt of error notification from Bank, ProPay, or the Card Associations.<br/>ProPay will perform the tasks in subparagraphs (i) through (vi) above for Cards stored in ProtectPay.</li></ol><p>2.2 THREATMETRIX<br/>a. Description. ThreatMetrix Services, if made available by your Provider Partner, include the device identification, device scoring, device reputation, and data analytics services provided by third party ThreatMetrix to you through your account. If you elect to use the ThreatMetrix Services, we grant you a non-exclusive, nontransferable, worldwide right to use the ThreatMetrix Services, and any other materials or intellectual property of ThreatMetrix provided to Client in connection with the ThreatMetrix Services (the “ <strong>ThreatMetrix Materials</strong>”), solely for your own internal business purposes, after implementation and configuration of our website by ThreatMetrix, and subject to the terms and conditions of this agreement. Notwithstanding anything in this agreement to the contrary, we may modify the ThreatMetrix Services and our proprietary payment system without notice. Client shall not: (a) interfere with or disrupt the integrity or performance of the ThreatMetrix Services, our proprietary payment system, or the data contained therein; or (b) attempt to gain unauthorized access to the ThreatMetrix Services, our proprietary payment system, or its related systems or networks. You will provide such attribute information to us as may be necessary for us to provide to you the ThreatMetrix Services. You will also take such actions as may be legally and technically necessary to allow us and ThreatMetrix to collect the attribute information you decide to receive in connection with the ThreatMetrix Services.</p><p><br/>b. Use of Logo. Client may place on its website the “Protected by ThreatMetrix” logo solely in the form and under the use criteria provided by us or ThreatMetrix. No other use of the “Protected by ThreatMetrix” logo is permitted, and you shall have no right to otherwise copy, distribute, transmit, or transfer, such logo or any other mark of ThreatMetrix. All goodwill associated with the use of ThreatMetrix’s marks or logos inure to ThreatMetrix.<br/>c. Limitations. The ThreatMetrix Services analyze the activities and other attributes of a device used in a transaction, and provide information and a rating score based on the data analyzed and the business policies you define. The ThreatMetrix Services provide information as to whether the device contains attributes which correlate to a device used in a fraudulent transaction, but do not determine the eligibility of your customer (or any other individual) for credit. You acknowledge and agree that neither we nor ThreatMetrix intend that the reports generated by the ThreatMetrix Services (the “<strong>Device Reports</strong>”), or any ThreatMetrix Materials, be considered consumer reports subject to the federal Fair Credit Reporting Act (“FCRA”). You represent that you will not use the Device Reports (or any other data provided by ProPay or ThreatMetrix) for making credit eligibility decisions or for any other permissible purpose listed in section 604 of the FCRA (15 U.S.C. 1681 b).</p><p><br/>3. COMPLIANCE WITH RULES AND LAWS</p><p><br/>3.1 COMPLIANCE WITH RULES<br/>You must comply with the applicable Card Brand rules and operating regulations and the National Automated Clearing House Association rules (" <strong>NACHA</strong>") (collectively, "<strong>Rules</strong>"). An abridged version of the Visa, MasterCard and American Express Rules may be viewed at <a href=http://usa.visa.com/merchants/operations/op_regulations.html>usa.visa.com/merchants/operations/op_regulations.html</a> , <a href="http://www.mastercardmerchant.com/">www.mastercardmerchant.com</a> , and <a href=http://www.americanexpress.com/merchantopguide>www.americanexpress.com\\merchantopguide</a> . Copies of the NACHA Operating Rules and Guidelines are available for review online at <a href="http://www.achrulesonline.org/">www.achrulesonline.org</a>. ProPay is a Payment Card Industry (“<strong>PCI</strong>”) level 1 service provider and is qualified to handle Cardholder data (i.e., information associated with a Card, such as account number, expiration date, and CVV2) in connection with the Services. ProPay will comply with the Payment Card Industry Data Security Standards (“<strong>PCI DSS</strong>”) to the extent ProPay possesses or otherwise stores, processes, or transmits Cardholder data on your behalf. If you possess or otherwise store, process, or transmit Cardholder data, then you must comply with PCI DSS.<br/><br/>3.2 COMPLIANCE WITH LAWS AND POLICIES<br/>You further agree to comply with applicable federal, state, and local laws, rules, and regulations (collectively, "<strong>Laws</strong>"). You also agree to the terms of the Privacy Policy, High Risk/Acceptable Use Policy, and other policies as applicable found at <a href=https://www.propay.com/en-US/Legal>https://www.propay.com/en-US/legal/</a> ("<strong>Policies</strong>"). You will assist us if we are required to ascertain your compliance with any Rules, Laws, PCI DSS, or Policies. We may, within our sole discretion, suspend the Services for a reasonable period of time required to investigate suspicious or unusual activity, and we shall have no liability for any losses you may attribute to any suspension of funds disbursement. We may reverse Card transactions we deem to violate this agreement, the Laws, Rules, PCI DSS, or Policies, and you agree to reimburse us for any such reversal. If any terms of this agreement conflict with the Rules, including PCI DSS, the Rules will govern.<br/><br/>3.3 THIRD PARTY SERVICE PROVIDERS<br/>You may be using special services or software provided by a third party to assist you in processing transactions, including authorizations and settlements, or accounting functions. You must make sure that such third parties comply with the Rules (including PCI DSS) and Laws. You must notify Partner Provider if you use third party service providers. If there is unauthorized access to Cardholder data in the possession of you or your agents, you must immediately notify Partner Provider and cooperate with us regarding reasonable requests for information regarding the compromise.<br/><br/>3.4 PROHIBITED PRACTICES<br/>You will not present for processing or credit, directly or indirectly, any transaction not originated as a result of a Card transaction directly between you and a Cardholder or any transaction you know or should know to be fraudulent or not authorized by the Cardholder. We will refer perpetrators of fraudulent transactions, in our discretion, to the appropriate law enforcement agency. You must not honor any Card that is expired or listed on a current Electronic Warning Bulletin file, regardless of whether authorization has been obtained. You must not request an ACH transfer that violates the Rules or Laws. You agree not to initiate any ACH debits or credits to or from a savings account, or a foreign bank or the branch of a foreign bank in a U.S. territory. The term foreign bank does not include: (i) A U.S. agency or branch of a foreign bank; and (ii) An insured bank organized under the laws of a U.S. territory. You may not split transactions into multiple Card transactions except where: (a) partial payment is entered on the transaction record and the balance of the transaction amount is paid in cash or by check at the time of transaction; or, (b) the amount represents an advance deposit in a Card transaction completed in accordance with this agreement and the Rules. You will not use the Services to accept amounts representing the refinancing of an existing uncollectible obligation, debt, or dishonored check of a Cardholder. You may not process transactions for, receive payments on behalf of, or (unless required by Law) redirect payments to a third party. You must not use the Service for high risk transactions or illegal activities, as per the Policies.<br/><br/>3.5 USE OF TRADEMARKS<br/>The Card Brands are the sole and exclusive owners of their marks and your use of their marks must comply with the Rules. We are the sole and exclusive owner of our marks and your use of our marks will fully comply with our policies and instructions. At any time we may prohibit your use of the marks or require changes to your use of the marks as we deem necessary or appropriate. Your right to use our marks and the Card Brand marks will cease upon termination of this agreement and you agree not to contest the ownership of the marks for any reason.</p><p><br/>4. ACCEPTING PAYMENT</p><p><br/>4.1 CARD ACCEPTANCE<br/>You will honor, without discrimination, any valid Card properly tendered by a person asserting to be the person in whose name the Card is issued (“ <strong>Cardholder</strong>”). Terms specific to American Express cards are set forth in section 5. You may elect not to accept Visa and/or MasterCard branded debit cards, but you must provide ProPay with prior written notice of such election. You will properly disclose to the Cardholder, at the time of the Card transaction, your name, return policy, and other limitations you may have on accepting returned merchandise. Your refund polices for purchases made with a Card must be at least as favorable as your refund policy for purchases made with any other form of payment. Our name will appear in conjunction with your name on Cardholders’ statements. You will not accept any payments from a Cardholder relating to previous charges for merchandise or services, and if you receive such payments, you will promptly remit them to us.<br/><br/>4.2 CARD AUTHORIZATION<br/>No later than 72 hours from the time you initiate a transaction, but prior to completing it, you will request an authorization for the transaction using equipment meeting specifications determined by ProPay. This authorization request must include your name and account identifier, the Card expiration date, the ZIP code of the customer’s billing address, and the total amount of the transaction, including taxes. ProPay may also require additional information in your request, such as: (a) CVV2 code or the equivalent; (b) a brief description of the goods or services involved; (c) the transaction authorization number; and, (d) if applicable, adjacent to the signature line, a notation that all sales are final. When authorization is obtained, you will be deemed to warrant the identity of the customer as the Cardholder. Authorizations are not a guarantee of acceptance or payment of a transaction and do not waive any provision of this agreement, or otherwise validate a fraudulent transaction or a transaction involving the use of an expired Card. We may refuse to authorize any transaction.<br/><br/>4.3 SALES TRANSMITTALS<br/>You will retain a copy of the sales transmittal for the completed transaction in accordance with the Rules for 25 months or such longer period as the Rules may require. Within three business days of our request, you will produce copies of sales transmittals and other transaction evidence, otherwise ProPay will have chargeback rights with respect to such transactions.<br/><br/>4.4 RECURRING TRANSACTIONS<br/>You must obtain the Cardholder’s prior written consent for recurring transactions, including a description of the product and the frequency and duration of the recurring charge, and notify the Cardholder that he or she may cancel recurring billing charges at any time. You must retain evidence of such written consent for 24 months from the date you submit the last recurring billing charge. You will honor any Cardholder cancellation, and if this agreement is terminated for any reason, you will, at your own cost, advise all Cardholders to whom you submit recurring billing charges that you no longer accept the Card for amounts owed.<br/><br/>4.5 ACH PROCESSING<br/>To enable you to make and accept ACH payments, you authorize us to originate credit or debit records for the purpose of a funds transfer (“ <strong>Entries</strong>”) into the ACH network. We will use reasonable efforts to originate Entries on your behalf in accordance with this agreement. You must only submit Entries for bona fide transactions with your customers made in the ordinary course of business in accordance with this agreement, the Rules, and Laws. You shall obtain and maintain appropriate authorizations in accordance with the Rules from each of your customers for each ACH transaction. All disputes between you and any of your customers relating to any ACH transaction must be resolved between you and that customer. If ProPay receives any notice of an ACH dispute or NACHA inquiry, we will forward such notice directly to you. ProPay bears no financial responsibility for any disputed transaction. You must maintain an unauthorized return rate, as described in the NACHA Regulations, below 0.5% of originating debits.</p><p><br/>5. AMERICAN EXPRESS</p><p>Important Note: The following sections apply only if you accept American Express Cards. If there is a conflict between any of the following sections and any other section of this agreement as it applies to American Express Cards, the following sections will govern.</p><p><br/>5.1 CUSTOMER SERVICE INFORMATION<br/>You must maintain customer service information that is readily available for review by American Express Cardholders transacting with you. The customer service information should provide clear instructions on how to contact you, including an active customer service email address and telephone number.<br/><br/>5.2 THIRD-PARTY BENEFICIARY.<br/>You understand and covenant that you are not a third-party beneficiary under our agreement with American Express, including all schedules and exhibits, or the American Express Rules. You acknowledge and agree that American Express is a third-party beneficiary under this agreement between you and ProPay. This means American Express has the right, but not the obligation, to enforce the terms of this agreement against you.<br/><br/>5.3 AUTHORIZATIONS<br/>You authorize us to submit American Express Card transactions to, and receive payment from, American Express on your behalf. You authorize us to disclose Card transaction data and data about you to American Express, its affiliates, agents, subcontractors, and employees, and further authorize these entities to use such information to perform services, operate and promote the American Express network, perform analytics and create reports, and for any other lawful business purpose, including as described in the American Express Rules. You authorize American Express to use your name, address, and website address in any media.<br/><br/>5.4 AMERICAN EXPRESS ARBITRATION<br/>Any dispute between you and American Express shall be resolved on an individual (not class) basis by binding arbitration in accordance with the rules of the American Arbitration Association or JAMS. You will be responsible for paying your share of any arbitration fees (including filing, administrative, hearing or other fees), but only up to the amount of the filing fees you would have incurred if you had brought a claim in court. American Express will be responsible for any additional arbitration fees. American Express will not elect arbitration for any claim you properly file in a small claims court so long as such claim is pending only in that court.</p><p><br/>6. DISPUTES</p><p><br/>6.1 YOUR DUTY TO MONITOR<br/>ProPay will not, and has no obligation to, confirm the validity of the recipient or the underlying transaction pursuant to which funds are transferred. We assume no liability for any unauthorized transfer request and the attendant transfer of funds, unless and until we receive appropriate and timely notice by you of the unauthorized transfer requests. You must promptly and consistently inspect your transaction history. Immediately report any possible errors.<br/><br/>6.2 DISPUTES, INQUIRIES, AND CHARGEBACKS<br/>All disputes between you and any of your customers relating to any ACH transaction must be resolved between you and that customer. If ProPay receives any notice of an ACH dispute or NACHA inquiry, we will forward such notice directly to you. Working with Provider Partner, we will handle Card Brand inquiries about your card transactions, in addition to disputes between you and a customer involving card payment transactions. Based on customer disputes we may reverse Card transactions (“ <strong>chargebacks</strong>”), and we will offset the value of such chargebacks from monies owed to you. You must not reenter or reprocess any Card transaction that has been charged back, but instead allow the chargeback process to proceed to its conclusion as described in each Card Brand’s Rules. If you disagree with a chargeback, you may request a chargeback reversal within the applicable Card Brand’s timeline in its Rules. "<strong>Excessive Activity</strong>" means: chargebacks in excess of .50% of the transaction ratio of your Card transactions; or, chargebacks in excess of .50% of the transaction ratio of the dollar amount of your Card transactions; or, returns in excess of 3% of the transaction ratio of your Card transactions; or, denied transactions in excess of 5% of the transaction ratio of your Card transactions. The existence of Excessive Activity will be a breach of this agreement and may result in action as we deem necessary, including, but not limited to, termination or suspension of processing privileges or creation or maintenance of a reserve. We may revoke or reverse any credit given to you where: (i) the Card transaction was not made in compliance with this agreement and the Laws, Rules, and Policies; (ii) the Cardholder disputes liability to us for any reason, including but not limited to those chargeback rights enumerated in the Rules; (iii) the Card transaction was not directly between you and the Cardholder; or (iv) a deposit to you was made erroneously.<br/><br/>6.3 REFUND CREDITS<br/>You will not submit a credit relating to any Card transaction not originally submitted to us, nor will you submit a credit that exceeds the amount of the original Card transaction.</p><p><br/>7. CONFIDENTIALITY &amp; DATA SECURITY</p><p><br/>7.1 CONFIDENTIALITY<br/>You must retain in strictest confidence all information and data belonging to or relating to our business, and will safeguard such information and data by using the same degree of care, but no less than a reasonable amount of care, that you use to protect your own confidential information.<br/><br/>7.2 DATA SECURITY<br/>You must keep secure all systems and media containing account, Cardholder, or transaction information (physical or electronic) and destroy in a manner that will render the data unreadable all such media that is no longer necessary or appropriate to store. If you store Cardholder account numbers, expiration dates, and other personal Cardholder data in a database, you must follow Card Brand guidelines on securing such data. You may not retain or store magnetic stripe or CVV2, CVC2, or CID data after authorization. You shall maintain industry "best practices" regarding continuity procedures and systems to ensure security of Cardholder account information in the event of a disruption, disaster, or failure of your respective data storage system and/or facility. You agree to display your consumer privacy policy on your website as well as your security method for transmission of Cardholder data.</p><p><br/>8. FEES, TAXES &amp; IRS REPORTING</p><p><br/>8.1 FEES<br/>Fees for the Services are set out in a fee schedule provided to you by Provider Partner.<br/><br/>8.2 DEPOSIT OF FUNDS TO MERCHANT POOL ACCOUNT<br/>Our sponsor banks will deposit to the non-interest bearing pooled account titled in the name of our sponsor bank for the benefit of all ProPay merchants (“<strong>Merchant Pool Account</strong>”) all amounts of Card and ACH transactions complying with the terms of this agreement and the Rules. We will instruct our sponsor bank to move funds owed to you from the Merchant Pool Account to an account you designate with Provider Partner.<br/><br/>8.3 ELECTRONIC FUNDS TRANSFER AGREEMENT<br/>You authorize ProPay to initiate, process, transmit, and settle through our sponsor bank ACH debits or credits to the account you specify with Provider Partner (“<strong>Designated Account</strong>”). Your authorization will remain in effect after termination of this agreement and until ProPay has received written notice terminating this authorization and all your obligations to ProPay have been paid in full. You irrevocably authorize us to immediately debit the Designated Account for the amounts of any chargebacks, ACH returns, fines, losses, and costs we may incur because of your use of the Services. You may change the Designated Account, but no more than once every 90 days, and must promptly notify Provider Partner of any changes.<br/><br/>8.4 RESERVE<br/>ProPay may, in its reasonable discretion, establish a reserve if it believes there is a risk of potential chargebacks, returns, or any other risk or liability associated with your use of the Services or to ensure current or future payment owed to ProPay. We will provide you with notice of the reserve and the terms of the reserve. ProPay may require that a certain portion of your transaction proceeds be held by us in reserve for a certain period of time, or that you make a lump sum payment for the reserve. ProPay may change the terms of the reserve at any time by providing you with notice of the new terms. ProPay has the right to use your funds in the Merchant Pool Account or funds otherwise owed to you to establish, increase, or maintain funds in reserve. We may hold a reserve as long as we deem necessary to mitigate risks associated with your transactions. You understand and agree that if you are required to establish a reserve, you have an obligation under this agreement to maintain at all times the balance in the reserve set by ProPay. ProPay may, without notice, apply funds designated as reserves against any outstanding amounts owed to us under this agreement. ProPay may also debit the reserve to exercise its rights under this agreement to collect any amounts due to us including, without limitation, rights of set-off and recoupment. You agree that you are liable for all obligations associated with your use of the Services even after the release of any reserve. You will not be entitled to a return of any sums remaining in reserve for up to 270 days following termination of your use of the Services.<br/><br/><br/>8.5 ADJUSTMENTS<br/>All transactions and deposits are subject to our audit and final verification, and may be adjusted for inaccuracies. All credits provided to you are provisional and subject to chargebacks and adjustments in accordance with the Rules, whether or not a transaction is charged back by the Card issuer.<br/><br/>8.6 TAXES &amp; IRS REPORTING<br/>To comply with IRS 1099-K reporting requirements, we may be required to file a form 1099-K with the U.S. Internal Revenue Service (IRS). We may collect federal backup withholding upon transaction settlement, on behalf of the IRS, from you if you do not supply your legal name, SSN or EIN, or if you fail to respond to a request from us to verify the same.</p><p><br/>9. YOUR WARRANTIES &amp; INDEMNIFICATION</p><p><br/>9.1 REPRESENTATIONS AND WARRANTIES<br/>You represent and warrant to us: (1) that all information you submit to us relating to your application to use and continued use of the Services is correct, complete, and fully describes and details the nature, type, and scope of the business in which you are engaged; (2) that you are at least 18 years of age; (3) that, if an individual account, you are a sole proprietorship validly existing in the United States or its territories, and if an entity, that the entity was validly formed, registered and is in good standing in at least one of the fifty United States or its territories; (4) that you have never been placed on the MasterCard MATCH system or the Combined Terminated Merchant File, and if so, you have disclosed this to us or to Partner Provider; and (5) that all transactions are bona fide and no transaction involves the use of a Card for any purpose other than the purchase of goods or services from you and does not involve a Cardholder obtaining cash from you unless allowed by the Rules and agreed in writing with us.<br/><br/>9.2 INDEMNIFICATION<br/>You agree to indemnify, defend, and hold us harmless for and from any and all loss, cost, expense, claim, damage, and liability (including attorneys\' fees and costs, and collections costs) paid or incurred by us and arising from, caused by, or attributable to, any of the following: (1) any of your acts or omissions with respect to your use of the Services; (2) acting any Card transaction processed under this agreement, (3) any breach by you of this agreement; (4) willful misconduct, fraud, intentional tort or negligence by you or that of your employees, agents or representatives; (5) action by us exercising any right we have under this agreement, Laws, Rules, or Policies.</p><p><br/>10. PROPAY’S LIABILITY &amp; DISCLAIMER OF WARRANTIES</p><p><br/>10.1 LIMITATION OF LIABILITY<br/>Any liability we have to you under this agreement, whatever the basis of the liability, will not exceed in the aggregate the amount of $5,000. In no event will we be liable for indirect, special, or consequential damages.<br/><br/>10.2 DISCLAIMER OF WARRANTIES<br/><strong><em>The Services are provided “AS IS” and “AS AVAILABLE.” We make no warranty, express or implied, regarding the Services, and nothing contained in this agreement will constitute such a warranty. To the extent allowed by Law, we disclaim all implied warranties and conditions, express, implied or statutory, including without limitation those of merchantability and fitness for a particular purpose, the implied warranties of title and/or non-infringement. Some states do not allow the disclaimer of implied warranties, so the foregoing disclaimers may not apply to you. Each party acknowledges that it has not entered into this agreement in reliance upon any warranty or representation except those specifically set forth herein</em></strong> .</p><p><br/>11. SECURITY INTEREST &amp; BANKRUPTCY</p><p>This agreement will constitute a security agreement under the Uniform Commercial Code wherein you grant to us a security interest in and lien upon: (a) all funds representing amounts owing you under this agreement at any time in the Merchant Pool Account, regardless of the source of such funds; (b) all funds at any time in reserve, regardless of the source of such funds; (c) present and future Card transactions; (d) any amount which may be due to you under this agreement, including, without limitation all rights to receive any payments or credits under this agreement; and (e) upon our request, any other security to secure your obligations under this agreement. (collectively, the "<strong>Secured Assets</strong>"). You agree to execute financing statements or other documents to evidence this security interest. These security interests and liens will secure all of your obligations under this agreement and any other agreements now existing or later entered into between you and us and we will have all rights afforded under the Uniform Commercial Code, any other applicable law, and in equity. We may exercise this security interest without notice or demand by making an immediate withdrawal or freezing of your Secured Assets. You represent and warrant that no other person or entity has a security interest in the Secured Assets and you agree to obtain from us written consent prior to granting a security interest of any kind in the Secured Assets to a third party. You agree that this is a contract of recoupment and as such, we are not required to file a motion for relief from a bankruptcy action automatic stay to realize on any of the Secured Assets. Nevertheless, you agree not to contest or object to any motion for relief from the automatic stay filed by us.</p><p><br/>12. GOVERNING LAW, JURISDICTION, WAIVER OF JURY TRIA</p><p><strong><em>This agreement will be governed by and construed in accordance with the laws of Utah except where federal law is applicable. You agree that all performances and transactions under this agreement will be deemed to have occurred in Utah and that your entry into and performance of this agreement will be deemed to be the transaction of business within the state of Utah. You agree that the exclusive jurisdiction and venue for any disputes hereunder shall be an appropriate court located in Salt Lake County, Utah. You and we waive any right to trial by jury in any action concerning any rights or disputes under this agreement</em></strong> .</p><p><br/>13. MISCELLANEOUS</p><p>13.1 AGENCY RELATIONSHIP<br/>You authorize us with respect to the Services to act as your agent for the limited purposes of holding, receiving, and disbursing funds on your behalf. Your authorization permits ProPay to generate an electronic funds transfer to process each payment transaction. This authorization will continue until this agreement is terminated. You agree that ProPay’s receipt of transaction proceeds satisfies your customers’ obligations to you.<br/><br/>13.2 FORCE MAJEURE<br/>No party will be liable to the other party for any failure or delay in its performance of this agreement if such failure or delay arises out of causes beyond the control and without the fault or negligence of such party.<br/><br/>13.3 SEVERABILITY AND WAIVER<br/>If any provision of this agreement is held invalid, illegal, void, or unenforceable by reason of any judicial decision, all other provisions of this agreement shall nevertheless remain in full force and effect. No course of dealing, delay, or failure to enforce any provision or exercise any right under this agreement by us shall be construed as a waiver or estoppel of such provision or right, nor shall it amend this agreement or affect the validity of this agreement or curtail our ability to enforce such provision or exercise such right in the future. All waivers must be in writing and signed by us.<br/><br/>13.4 RIGHTS AND REMEDIES CUMULATIVE<br/>The rights conferred upon us in this agreement are not intended to be exclusive of each other or of any other rights and remedies we have under this agreement, at law, or in equity. Rather, each right we have at law or in equity will be cumulative and concurrent and in addition to every other right.<br/><br/>13.5 ENTIRE AGREEMENT<br/>This agreement, including, Policies, the Rules, and any amendment or supplement to this agreement or other referenced agreements, all of which are incorporated into this agreement, constitutes the entire agreement between the parties, and all prior or other agreements or representations, written or oral, are superseded by this agreement.<br/><br/>13.6 CONSTRUCTION<br/>The headings used in this agreement are inserted for convenience only and will not affect the interpretation of any provision. The language used will be deemed to be the language chosen by the parties to express their mutual intent, and no rule of strict construction will be applied against any party.<br/><br/>13.7 ASSIGNABILITY<br/>This agreement may be assigned by us, but may not be assigned by you without our prior written consent.<br/><br/>13.8 AMENDMENTS<br/>You are bound by this agreement as it may be amended or revised at any time upon notice to you. It is your sole responsibility to review and maintain familiarity with the agreement, Rules, Law and Policies. If you do not agree to the aforementioned amendments and do not wish to be bound the terms and conditions thereto, you shall provide written notice to Provider Partner. If you do not agree to the terms of the amendment, your right to use the Services will be terminated.<br/><br/>13.9 CONSENT TO DO BUSINESS ELECTRONICALLY, ELECTRONIC SIGNATURE, COMMUNICATION, AND NOTICES<br/>You consent to do business electronically, which means that you agree that all ProPay agreements and Policies, including amendments thereto and documents referenced therein, as well as any notices, instructions, or any other communications regarding transactions and your agreements with ProPay (all of which are referred to herein as the " <strong>Communications</strong>") may be presented, delivered, stored, retrieved, and transmitted electronically. You must keep Provider Partner informed of any change in your electronic or mailing address or other contact information. Your electronic signature, including, without limitation clicking “Agree and Continue” or an action of similar meaning or significance, shall be the legal equivalent of your manual signature. You may withdraw your consent to doing business under the ProPay agreements and policies electronically at any time by contacting Provider Partner and withdrawing your consent to transact business electronically. If you do so, this agreement will be terminated. However, any Communications or transactions between us before your withdrawal of such consent, will be valid and binding. Any written notice to us must be sent to: ProPay, Inc., 3400 N Ashton Blvd, Suite 200, Lehi, UT 84043, and if to you: to the last address shown on Provider Partner’s records.<br/><br/>13.10 TERMINATION<br/>We may terminate the agreement at its sole and absolute discretion, effective immediately, upon written, electronic, or oral notice to you.</p></div>'),
a.put("modules/merchant/me/merchant-ordering-on-off.html","<div class=col-md-12 ng-controller=MerchantOrderingOnOffCtrl></div>"),a.put("modules/merchant/merchant-catering/merchant-catering.html",'<div class="page-header-title white-text"><h4 class=page-title>Catering</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/catering>Catering</a></li></ol></div><div id=merchant-catering-page><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Catering Configurations</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=vm.config_processing><div class=filter-loader></div></div><div ng-if=!vm.config_processing><form name=vm.configuration_form novalidate class=form-horizontal ng-submit="vm.updateConfiguration(\'config_processing_success\')"><div class=col-md-6><div class=form-group><label class="col-md-5 control-label">Allow Catering</label><div class=col-md-7><toggle-switch name=advance_ordering ng-model=vm.catering_info.active ng-init="vm.catering_info.active = false"></toggle-switch></div></div><div class=form-group><label class="col-md-5 control-label">Minimum Pickup Order</label><div class=col-md-7><input type=text class="input-med form-control" name=min_order_pickup ng-model=vm.catering_info.minimum_pickup_amount ng-fade min=0 step=0.01 ui-money-mask=2 placeholder="$ 0.00" id=min_order_pickup required><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.min_order_pickup.$error.required && (vm.configuration_form.min_order_pickup.$faded || vm.configuration_form.$submitted)" role=alert>The Minimum Pickup Order is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Minimum Delivery Order</label><div class=col-md-7><input type=text class="input-med form-control" name=min_order_delivery ng-model=vm.catering_info.minimum_delivery_amount ng-fade min=0 step=0.01 ui-money-mask=2 placeholder="$ 0.00" id=min_order_delivery required><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.min_order_delivery.$error.required && (vm.configuration_form.min_order_delivery.$faded || vm.configuration_form.$submitted)" role=alert>The Minimum Delivery Order is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Minimum Tip %</label><div class=col-md-7><input type=text class="input-med form-control" name=min_tip_percentage ng-model=vm.catering_info.minimum_tip_percent ng-fade min=0 step=1 ui-percentage-mask=0 placeholder="0 %" ui-percentage-value id=min_tip_percentage><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.min_tip_percentage.$error.required && (vm.configuration_form.min_tip_percentage.$faded || vm.configuration_form.$submitted)" role=alert>The Minimum Tip Percentage is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Pad Time from Open (in hours)</label><div class=col-md-7><input type=text class="input-med form-control currency" name=pad_time_from_open ng-model=vm.catering_info.min_lead_time_in_hours_from_open_time ng-fade min=0 step=1 ui-number-mask=0 placeholder=0 id=pad_time_from_open><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.pad_time_from_open.$error.required && (vm.configuration_form.pad_time_from_open.$faded || vm.configuration_form.$submitted)" role=alert>The Pad Time from Open value is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Lead Time (in hours)</label><div class=col-md-7><input type=text class="input-med form-control" name=lead_time ng-model=vm.catering_info.lead_time_in_hours ng-fade min=0 step=1 ui-number-mask=0 placeholder=0 id=lead_time required><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.lead_time.$error.required && (vm.configuration_form.lead_time.$faded || vm.configuration_form.$submitted)" role=alert>The Lead Time Value is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Available Time Increments</label><div class=col-md-7><select name=available_time_increments class="input-med form-control" ng-required=true ng-model=vm.catering_info.time_increment_in_minutes ng-options="item for item in [15,30,60]"></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.available_time_increments.$error.required && (vm.configuration_form.available_time_increments.$touched || vm.configuration_form.$submitted)" role=alert>Available Time Increment is required.</div></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-5 control-label">Max Orders per Day</label><div class=col-md-7><input type=text class="input-med form-control currency" name=max_order_per_day ng-model=vm.catering_info.maximum_number_of_catering_orders_per_day_part ng-fade min=0 step=1 ui-number-mask=0 placeholder=0 id=max_order_per_day required><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.max_order_per_day.$error.required && (vm.configuration_form.max_order_per_day.$faded || vm.configuration_form.$submitted)" role=alert>The Max Orders per Day Value is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Has Delivery?</label><div class=col-md-7><toggle-switch name=advance_ordering ng-model=vm.catering_info.delivery_active ng-init="vm.catering_info.delivery_active = false"></toggle-switch></div></div><div class=form-group><label class="col-md-5 control-label"># of Advance Days</label><div class=col-md-7><input type=text class="input-med form-control currency" name=advance_days_amount ng-model=vm.catering_info.max_days_out ng-fade min=0 step=1 ui-number-mask=0 placeholder="Enter # of Days" id=advance_days_amount required><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.advance_days_amount.$error.required && (vm.configuration_form.advance_days_amount.$faded || vm.configuration_form.$submitted)" role=alert>The # of Advance Days Value is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Payment Type</label><div class=col-md-7><select name=payment_type class="input-med form-control" ng-required=true ng-model=vm.catering_info.accepted_payment_types ng-options="item for item in vm.payment_types"></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.configuration_form.payment_type.$error.required && (vm.configuration_form.payment_type.$touched || vm.configuration_form.$submitted)" role=alert>Payment Type is Required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Order Destination (if different)</label><div class=col-md-7><input type=text class="input-med form-control" name=destination ng-model=vm.catering_info.special_merchant_message_destination ng-fade></div></div><div class=form-group><label class="col-md-5 control-label">Email or Fax</label><div class=col-md-7><div class=input-group><select name=format class="input-med form-control" ng-model=vm.catering_info.special_merchant_message_format><option ng-repeat="item in vm.destination_format" value={{item.id}}>{{item.name}}</option></select></div></div></div></div><div class=col-md-12><div class=form-group><h5>CATERING MESSAGE (may use plain text, or use the interface to create HTML)</h5></div><div class=form-group><div class=mt-5><text-angular ta-toolbar="[\n'+"                                        ['h1','h2','h3','h4','h5','h6'],\n                                        ['p','pre', 'quote'],['bold','italics','underline'],\n                                        ['ul','ol'],\n                                        ['undo', 'redo', 'clear'],['insertImage','insertLink'],['wordcount'],['html']\n                                    ]\" ng-model=vm.catering_info.catering_message_to_user_on_create_order data-ng-required=true data-name=catering_message></text-angular></div><div class=\"alert alert-danger ng-hide alert-reg-position\" ng-show=\"vm.configuration_form.catering_message.$error.required && (vm.configuration_form.catering_message.$touched || vm.configuration_form.$submitted)\" role=alert>The catering message field is required.</div></div></div><div class=form-group ng-if=vm.config_processing_success><div class=col-md-5></div><div class=col-md-7><div class=\"alert alert-success alert-reg-position form-submit-success fade-effect\" role=alert><i class=\"fa fa-check-circle m-r-5\" aria-hidden=true></i>Configuration Saved Successfully.</div></div></div><div class=flex-align-self-end><button class=\"btn-soft-blue btn pull-right\" type=submit>{{ 'MESSAGE.SHARE.SUBMIT' | translate }}</button></div></form></div></div></div></div>"),a.put("modules/merchant/merchant-contact/merchant-contact.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>{{ \'MERCHANT.CONTACT.CONTACT\' | translate }}</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/contact>{{ \'MERCHANT.CONTACT.CONTACT\' | translate }}</a></li></ol></div></div></div><div class="row contact-box"><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.CONTACT.STORE\' | translate }}</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-right>{{ \'MERCHANT.CONTACT.TOOLTIP.STORE_NOTIFICATION_SETTING\' | translate }}</span></i></h4></div></div><div class=panel-body style="padding-top: 15px"><table id=store-notification-settings-table class="table table-hover content-table fix-email-nowrap-table"><thead><tr><th>{{ \'MESSAGE.SHARE.NAME\' | translate }}</th><th>{{ \'MERCHANT.CONTACT.EMAIL\' | translate }}</th><th class=center-head>{{ \'MERCHANT.CONTACT.DAILYRPTS\' | translate }}</th><th class=center-head>{{ \'MERCHANT.CONTACT.WEEKLYSTMTS\' | translate }}</th><th class=center-head>{{ \'MERCHANT.CONTACT.ADMIN\' | translate }}</th><th width=40px></th></tr></thead><tbody><tr ng-repeat="admin_email in contact.admin_emails" tooltip-placement=bottom uib-tooltip="Click to Edit" ng-click="contact.editEditAdminEmailDialog(admin_email, $index)" data-toggle=modal data-target=#edit-admin-email-modal><td><div class=trim-info uib-tooltip={{admin_email.name}}>{{admin_email.name}}</div></td><td><div>{{admin_email.email}}</div></td><td class=boolean-table-field><i class="fa fa-check-square-o" aria-hidden=true ng-show=admin_email.daily></i> <i class="fa fa-ban" aria-hidden=true ng-show=!admin_email.daily></i></td><td class=boolean-table-field><i class="fa fa-check-square-o" aria-hidden=true ng-show=admin_email.weekly></i> <i class="fa fa-ban" aria-hidden=true ng-show=!admin_email.weekly></i></td><td class=boolean-table-field><i class="fa fa-check-square-o" aria-hidden=true ng-show=admin_email.admin></i> <i class="fa fa-ban" aria-hidden=true ng-show=!admin_email.admin></i></td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true data-toggle=modal data-target=#delete-adm-email-modal ng-click="contact.deleteAdmEmailDialog(admin_email, $index,$event)"></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="admin_email in contact.admin_emails" ng-click="contact.editEditAdminEmailDialog(admin_email, $index)" aria-hidden=true data-toggle=modal data-target=#edit-admin-email-modal><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{admin_email.name}}</b></h5></div><div class=description><div class=clear><div class=email-wrap>Email: {{admin_email.email}}</div><div class=last-row-container-with-delete-icon><div class=icons><div class=box><i class="fa fa-check-square-o green-text" aria-hidden=true ng-show=admin_email.daily></i> <i class="fa fa-ban gray-text" aria-hidden=true ng-show=!admin_email.daily></i> {{ \'MERCHANT.CONTACT.DAILYRPTS\' | translate }}</div><div class=box><i class="fa fa-check-square-o green-text" aria-hidden=true ng-show=admin_email.weekly></i> <i class="fa fa-ban gray-text" aria-hidden=true ng-show=!admin_email.weekly></i> {{ \'MERCHANT.CONTACT.WEEKLYSTMTS\' | translate }}</div><div class=box><i class="fa fa-check-square-o green-text" aria-hidden=true ng-show=admin_email.admin></i> <i class="fa fa-ban gray-text" aria-hidden=true ng-show=!admin_email.admin></i> {{ \'MERCHANT.CONTACT.ADMIN\' | translate }}</div></div><div class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click="contact.deleteAdmEmailDialog(admin_email, $index, $event)"></div></div></div></div></div></div></div><div class="alert alert-success alert-reg-position form-submit-success fade-effect" role=alert maxlength="" ng-show=contact.edit_admin_email.success><i class="fa fa-check-circle" aria-hidden=true></i> The Admin Email for <strong>{{contact.edit_admin_email.name}}</strong> {{ \'MESSAGE.SHARE.UPDATED\' | translate }}</div><div class="alert alert-success alert-reg-position form-submit-success fade-effect" ng-show=contact.new_admin_email.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.CONTACT.CREATED\' | translate }}</div><button id=open-new-contact-button type=button ng-disabled class="btn btn-soft-blue pull-right m-t-20" data-toggle=modal data-target=#add-admin-email-modal><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.CONTACT.NEWADMIN\' | translate }}</button></div></div></div><div class=col-md-6><div class="panel panel-primary"><div class="panel-heading additional-contact"><h3 class=panel-title>{{ \'MERCHANT.CONTACT.ADDITIONAL\' | translate }}</h3></div><div class=panel-body><table id=additional-contact-info-table class="table table-hover content-table fix-email-nowrap-table"><thead><tr><th>{{ \'MESSAGE.SHARE.NAME\' | translate }}</th><th>{{ \'MERCHANT.CONTACT.TITLE\' | translate }}</th><th>{{ \'MERCHANT.CONTACT.PHONE\' | translate }}</th><th>{{ \'MERCHANT.CONTACT.EMAIL\' | translate }}</th><th width=40px></th></tr></thead><tbody><tr ng-repeat="admin_phone in contact.admin_phones" tooltip-placement=bottom uib-tooltip="Click to Edit" data-toggle=modal data-target=#edit-admin-phone-modal ng-click="contact.editAdminPhoneDialog(admin_phone, $index)"><td><div class=trim-info uib-tooltip={{admin_phone.name}}>{{admin_phone.name}}</div></td><td><div>{{admin_phone.title}}</div></td><td>{{contact.formatPhone(admin_phone.phone_no)}}</td><td><div>{{admin_phone.email}}</div></td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true data-toggle=modal data-target=#delete-admin-phone-modal ng-click="contact.deleteAdminPhoneDialog(admin_phone, $index,$event)"></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="admin_phone in contact.admin_phones" aria-hidden=true data-toggle=modal data-target=#edit-admin-phone-modal ng-click="contact.editAdminPhoneDialog(admin_phone, $index)"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{admin_phone.name}}</b></h5></div><div class=description><div class=clear><div>Title: {{admin_phone.title}}</div><div>Phone: {{contact.formatPhone(admin_phone.phone_no)}}</div><div class=last-row-container-with-delete-icon><div class=email-wrap>Email: {{admin_phone.email}}</div><div class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click="contact.deleteAdminPhoneDialog(admin_phone, $index, $event)"></div></div></div></div></div></div></div><div class="alert alert-success alert-reg-position" ng-show=contact.new_admin_phone.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.CONTACT.PHONECREATED\' | translate }}</div><div class="alert alert-success alert-reg-position" ng-show=contact.edit_admin_phone.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.CONTACT.EMAILFOR\' | translate }} <strong>{{contact.edit_admin_phone.name}}</strong> {{ \'MESSAGE.SHARE.UPDATED\' | translate }}</div><button id=open-new-additional-contact-info type=button ng-disabled class="btn btn-soft-blue pull-right m-t-20" data-toggle=modal data-target=#add-admin-phone-modal><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.CONTACT.NEWCONTACT\' | translate }}</button></div></div></div></div><div id=add-admin-email-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>New Admin Email</h4></div><div class=modal-body><form name=contact.new_admin_email_form class="form-horizontal m-l-15 m-r-15" novalidate ng-submit=contact.createNewAdminEmail()><div class=form-group><label class="col-md-4 control-label">Name</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=name ng-model=contact.new_admin_email.name ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.new_admin_email_form.name.$error.required\n                                 && (contact.new_admin_email_form.name.$faded || contact.new_admin_email.submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">Email</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=email ng-model=contact.new_admin_email.email ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.new_admin_email_form.email.$error.required\n                                 && (contact.new_admin_email_form.email.$faded || contact.new_admin_email.submit)" role=alert>Email is required.</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.DAILY\' | translate }}</label><div class="col-md-8 m-t-10"><toggle-switch id=daily-new-admin-toggle name=daily ng-model=contact.new_admin_email.daily></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.WEEKLY\' | translate }}</label><div class="col-md-8 m-t-10"><toggle-switch name=weekly ng-model=contact.new_admin_email.weekly></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.ADMIN\' | translate }}</label><div class="col-md-8 m-t-10"><toggle-switch name=admin ng-model=contact.new_admin_email.admin></toggle-switch></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show=contact.new_admin_email_error role=alert>The email is already registered, please provide a valid email address.</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button id=new-contact-admin-submit class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div></div><div id=edit-admin-email-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.CONTACT.UPDATEEMAIL\' | translate }}</h4></div><div class=modal-body><form name=contact.edit_admin_email_form novalidate class="form-horizontal m-l-15 m-r-15" ng-submit=contact.updateAdminEmail()><div class=form-group><label class="col-md-4 control-label">{{ \'MESSAGE.SHARE.NAME\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=name ng-model=contact.edit_admin_email.name ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.edit_admin_email_form.name.$error.required\n                                 && (contact.edit_admin_email_form.name.$faded || contact.edit_admin_email.submit)" role=alert>{{ \'MESSAGE.SHARE.NAMEREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.EMAIL\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=email ng-model=contact.edit_admin_email.email ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.edit_admin_email_form.email.$error.required\n                                 && (contact.edit_admin_email_form.email.$faded || contact.edit_admin_email.submit)" role=alert>{{ \'MESSAGE.SHARE.EMAILREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.DAILY\' | translate }}</label><div class="col-md-8 m-t-10"><toggle-switch name=daily ng-model=contact.edit_admin_email.daily></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.WEEKLY\' | translate }}</label><div class="col-md-8 m-t-10"><toggle-switch name=weekly ng-model=contact.edit_admin_email.weekly></toggle-switch></div></div><div class=form-group><label class="col-md-4 control-label">Admin</label><div class="col-md-8 m-t-10"><toggle-switch name=admin ng-model=contact.edit_admin_email.admin></toggle-switch></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show=contact.new_admin_email_error role=alert>The email is already registered, please provide a valid email address.</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div></div><div id=delete-adm-email-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>Delete Admin Email</h4></div><div class=modal-body>Are you sure you want to delete the admin email for <span class=bold>{{contact.delete_admin_email_name}}</span>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=contact.confirmDeleteEmail()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div><div id=add-admin-phone-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.CONTACT.NEWCONTACT\' | translate }}</h4></div><div class=modal-body><form name=contact.new_admin_phone_form novalidate class="form-horizontal m-l-15 m-r-15" ng-submit=contact.createNewAdminPhone()><div class=form-group><label class="col-md-4 control-label">{{ \'MESSAGE.SHARE.NAME\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=name ng-model=contact.new_admin_phone.name ng-fade ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.new_admin_phone_form.name.$error.required\n                                 && (contact.new_admin_phone_form.name.$faded || contact.new_admin_phone.submit)" role=alert>{{ \'MESSAGE.SHARE.NAMEREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.TITLE\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=title ng-model=contact.new_admin_phone.title ng-fade maxlength=250></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MESSAGE.SHARE.PHONENUMBER\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=phone_no ng-model=contact.new_admin_phone.phone_no ng-fade ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.new_admin_phone_form.phone_no.$error.required\n                                 && (contact.new_admin_phone_form.phone_no.$faded || contact.new_admin_phone.submit)" role=alert>{{ \'MESSAGE.SHARE.PHONENUMBERREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.EMAIL\' | translate }}</label><div class="col-md-8 m-t-5"><input type=email class="input-med form-control" name=email ng-model=contact.new_admin_phone.email ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.new_admin_phone_form.email.$error.email\n                                 && (contact.new_admin_phone_form.email.$faded || contact.new_admin_phone.submit)" role=alert>{{ \'MERCHANT.CONTACT.EMAILNOTVALIDFORMAT\' | translate }}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button id=create-new-addtl-contact-submit class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div></div><div id=edit-admin-phone-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.CONTACT.NEWCONTACT\' | translate }}</h4></div><div class=modal-body><form name=contact.edit_admin_phone_form novalidate class="form-horizontal m-l-15 m-r-15" ng-submit=contact.updateAdminPhone()><div class=form-group><label class="col-md-4 control-label">{{ \'MESSAGE.SHARE.NAME\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=name ng-model=contact.edit_admin_phone.name ng-fade ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.edit_admin_phone.name.$error.required\n                                 && (contact.edit_admin_phone.name.$faded || contact.edit_admin_phone.submit)" role=alert>{{ \'MESSAGE.SHARE.NAMEREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.TITLE\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=title ng-model=contact.edit_admin_phone.title ng-fade maxlength=250></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MESSAGE.SHARE.PHONENUMBER\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=phone_no ng-model=contact.edit_admin_phone.phone_no ng-fade ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.edit_admin_phone.phone_no.$error.required\n                                 && (contact.edit_admin_phone.phone_no.$faded || contact.edit_admin_phone.submit)" role=alert>{{ \'MESSAGE.SHARE.PHONENUMBERREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-4 control-label">{{ \'MERCHANT.CONTACT.EMAIL\' | translate }}</label><div class="col-md-8 m-t-5"><input type=text class="input-med form-control" name=email ng-model=contact.edit_admin_phone.email ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="contact.edit_admin_phone.email.$error.email\n                                 && (contact.edit_admin_phone.email.$faded || contact.edit_admin_phone.submit)" role=alert>{{ \'MERCHANT.CONTACT.EMAILNOTVALIDFORMAT\' | translate }}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button id=submit-additional-contact class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div></div><div id=delete-admin-phone-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.CONTACT.DELETEADDITIONALCONTACT\' | translate }}</h4></div><div class=modal-body>Are you sure you want to delete the admin phone for <span class=bold>{{contact.delete_admin_phone_name}}</span>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=contact.confirmDeleteAdminPhone()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div>'),a.put("modules/merchant/merchant-create/merchant-create.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>{{ \'MERCHANT.CREATE.CREATE\' | translate }}</h4><ol class=breadcrumb><li><a href="#/">{{ \'MESSAGE.SHARE.HOME\' | translate }}</a></li></ol></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.CREATE.NEWMERCHANT\' | translate }}</h3></div><div class=panel-body><div class=filter-loader-contain ng-show=loading><div class=filter-loader></div></div><form name=new_merchant_form class=form-horizontal ng-show=!loading novalidate ng-submit=create()><div class=form-group><label class="col-md-3 control-label">{{ \'MESSAGE.SHARE.NAME\' | translate }}</label><div class=col-md-9><input type=text class="input-large form-control" name=name placeholder="Enter Merchant Name" ng-model=new_merchant.name ng-fade ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.name.$error.required\n                                 && (new_merchant_form.name.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.NAMEREQUIRED\' | translate }}</div></div></div><div class=form-group ng-if=can_select_brands><label class="col-md-3 control-label">{{ \'MERCHANT.CREATE.BRAND\' | translate }}</label><div class=col-md-9><div class="select input-large margin-top-five"><select name=brand class=form-control ng-model=new_merchant.brand ng-show="user_service.hasPermission(\'brands_filter\')" ng-required="user_service.hasPermission(\'brands_filter\')" ng-options="brand.brand_id as brand.brand_name for brand in brands"><option class=placeholder-color value="" selected disabled>{{ \'MERCHANT.CREATE.BRAND\' | translate }}</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.brand.$error.required\n                                 && (new_merchant_form.brand.$faded || new_merchant.submit)" role=alert>{{ \'MERCHANT.CREATE.BRANDREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-3 control-label">{{ \'MESSAGE.SHARE.PHONENUMBER\' | translate }}</label><div class=col-md-9><input type=text class="input-large form-control" name=phone_no placeholder=Phone ng-fade ng-model=new_merchant.phone_no ng-required=true maxlength=10><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.phone_no.$error.required\n                                 && (new_merchant_form.phone_no.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.PHONENUMBERREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-3 control-label">{{ \'MERCHANT.CREATE.SHOPEMAIL\' | translate }}</label><div class=col-md-9><input type=email class="input-large form-control" name=shop_email placeholder="Enter Email Address" ng-model=new_merchant.shop_email ng-fade ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="(new_merchant_form.shop_email.$error.required || new_merchant_form.shop_email.$error.email)\n                                 && (new_merchant_form.shop_email.$faded || new_merchant.submit)" role=alert>{{ \'MERCHANT.CREATE.SHOPREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-3 control-label">{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</label><div class="col-md-9 mt-5"><input type=text class="input-large form-control" name=address1 placeholder="Address Line 1" ng-model=new_merchant.address1 ng-required=true ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.addressline1.$error.required\n                                 && (new_merchant_form.addressline1.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.ADDRESSREQUIRED\' | translate }}</div><input type=text class="input-large form-control margin-top-five" name=address2 placeholder="Address Line 2" ng-model=new_merchant.address2 ng-fade> <input type=text class="input-large form-control margin-top-five" name=city placeholder=City ng-model=new_merchant.city ng-required=true ng-fade><div class="select input-small inline m-t-5"><select id=fix-small-screen-inline name=state class=form-control ng-required=true ng-model=new_merchant.state ng-options="state.type_id_value as state.type_id_value for state in lookup.states"><option class=placeholder-color value="" selected disabled>ST</option></select></div><input type=text class="input-small form-control m-t-5 inline" name=zip placeholder="Zip Code" ng-model=new_merchant.zip ng-required=true ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.city.$error.required && (new_merchant_form.city.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.CITYREQUIRED\' | translate }}</div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.state.$error.required && (new_merchant_form.state.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.STATEREQUIRED\' | translate }}</div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.zip.$error.required && (new_merchant_form.zip.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.ZIPREQUIRED\' | translate }}</div><div class="select input-large margin-top-five" ng-hide=true><select name=country class=form-control ng-required=true ng-model=new_merchant.country ng-init="new_merchant.country = \'US\'" ng-options="country.type_id_value as country.type_id_name for country in lookup.countries" ng-readonly=true><option class=placeholder-color value="" selected disabled>{{ \'MESSAGE.SHARE.COUNTRY\' | translate }}</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.country.$error.required && (new_merchant_form.country.$faded || new_merchant.submit)" role=alert>{{ \'MESSAGE.SHARE.COUNTRYREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-3 control-label">{{ \'MESSAGE.SHARE.TIMEZONE\' | translate }}</label><div class="col-md-9 col-lg-6 mt-5"><div class="select input-x-large margin-top-five"><select name=time_zone class=form-control ng-required=true ng-model=new_merchant.time_zone ng-options="item as item.type_id_name for item in lookup.time_zones track by item.type_id_value"><option class=placeholder-color value="" disabled>Time Zone</option></select></div><div class="input-x-large alert alert-danger ng-hide alert-reg-position" ng-show="new_merchant_form.timezone.$error.required && (new_merchant_form.timezone.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.TIMEZONEREQUIRED\' | translate }}</div></div></div><div class=form-group><div class="col-md-12 col-lg-6 col-lg-offset-3"><div class="alert alert-danger ng-hide alert-reg-position" ng-show=merchant_exist_error role=alert>{{ \'MERCHANT.CREATE.MERCHANTALREADYSTORED\' | translate }} <a href=#/merchant>Click here</a> to view the previously created merchant.</div></div><div class="col-md-12 col-lg-6 col-lg-offset-3"><div class="alert alert-success alert-reg-position form-submit-success" ng-show=tax.sales_tax.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.CREATE.MERCHANTCREATED\' | translate }}</div></div></div><div class=col-md-12><div ng-show=new_merchant.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class="submit-contain pull-right"><button id=submit-create-merchant class="btn-success btn">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div class=col-md-6><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h3 class=panel-title>Upload Multiple Merchants</h3><div class=pull-right><form method=get action=/example_multi_merchant_create.csv><button class="btn btn-danger" type=submit>CSV Example</button></form></div></div><div class=panel-body><form name=upload_multiple_merchants_form class=form-horizontal novalidate ng-submit=uploadMultipleMerchants()><div class=form-group ng-if=can_select_brands><label class="col-md-3 control-label">Brand</label><div class=col-md-9><div class="select input-large margin-top-five"><select name=multi_brand class=form-control ng-model=multi_merchant_create.brand ng-show="user_service.hasPermission(\'brands_filter\')" ng-required="user_service.hasPermission(\'brands_filter\')" ng-options="brand.brand_id as brand.brand_name for brand in brands"><option class=placeholder-color value="" selected disabled>{{ \'MERCHANT.CREATE.BRAND\' | translate }}</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="upload_multiple_merchants_form.multi_brand.$error.required\n                                 && (upload_multiple_merchants_form.multi_brand.$faded || submit_multi)" role=alert>{{ \'MERCHANT.CREATE.BRANDREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="col-md-3 control-label">CSV Merchant File</label><div class="col-md-9 col-lg-6 mt-5"><div class="select input-x-large margin-top-five"><button type=button ng-show=!file_selected ng-disabled class="btn-success btn" data-toggle=modal data-target=#select-file-modal>Select CSV File</button> <button type=button ng-show=file_selected ng-disabled class="btn-success btn" data-toggle=modal data-target=#select-file-modal>Change Selected File</button></div></div><div class=col-md-3></div><div class=col-md-9><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="!multi_file_selected && submit_multi" role=alert>You must select file.</div></div></div><div class=col-md-12><div ng-show=new_merchant.multi_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class="submit-contain pull-right"><button class="btn-success btn">Submit</button></div></form></div></div></div></div><div id=select-file-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select CSV File</h4></div><div class=modal-body><div class=col-md-12 ng-show="image_stage == \'processing\'"><div class=filter-loader-contain><div class=filter-loader></div></div></div><form name=csv_file_form class=skin-config-img><div ngf-drop ngf-select ng-model=csv_file class="drop-box site-image-drop-box" ngf-max-size=5MB ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true ngf-pattern="\'.csv\'" accept=.csv>Drop csv file here or click to upload</div></form></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button></div></div></div></div>'),
a.put("modules/merchant/merchant-delivery/merchant-delivery.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>{{ \'MESSAGE.SHARE.DELIVERY\' | translate }}</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/delivery>{{ \'MESSAGE.SHARE.DELIVERY\' | translate }}</a></li></ol></div></div></div><div class=filter-loader-contain ng-if=delivery.processing><div class=filter-loader></div></div><div id=delivery-section class=row ng-if=!delivery.processing><div class="col-md-4 col-lg-5"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.DELIVERY.DELIVERYFEES\' | translate }}</h3></div><div class=panel-body><form name=delivery.delivery_form novalidate ng-submit=delivery.editDeliveryInfo()><div class=form-group><label class=control-label>{{ \'MERCHANT.DELIVERY.ADVANCEDSCHEDULINGDAYS\' | translate }}</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_FEES.ADVANCED_SCHEDULING\' | translate }}</span></i></label></div><div class=m-t-5><input type=number class="input-med form-control" name=max_days_out placeholder="Max Days" ng-model=delivery.delivery_info.max_days_out ng-required=true ng-fade min=0><div class="input-med alert alert-danger ng-hide alert-reg-position input-med" ng-show="(delivery.delivery_form.max_days_out.$error.required || delivery.delivery_form.max_days_out.$error.number)\n                                    && (delivery.delivery_form.max_days_out.$faded || delivery.delivery_info.submit)" role=alert>{{ \'MERCHANT.DELIVERY.MAXDAYSREQUIRED\' | translate }}</div></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.DELIVERY.LEADTIME\' | translate }}</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_FEES.LEAD_TIME\' | translate }}</span></i></label></div><div class=m-t-5><input type=number class="input-med form-control" name=minimum_delivery_time placeholder="Min in Minutes" ng-model=delivery.delivery_info.minimum_delivery_time ng-required=true ng-fade min=0><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(delivery.delivery_form.minimum_delivery_time.$error.required || delivery.delivery_form.minimum_delivery_time.$error.number)\n                                        && (delivery.delivery_form.minimum_delivery_time.$faded || delivery.delivery_info.submit)" role=alert>{{ \'MERCHANT.DELIVERY.MINIMUMLEADTIME\' | translate }}</div></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.DELIVERY.APPDELIVERYINCREMENT\' | translate }}<div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_FEES.DELIVERY_INCREMENTS\' | translate }}</span></i></label></div></label><div class=m-t-5><input type=number class="input-med form-control" name=delivery_increment placeholder="In Minutes" ng-model=delivery.delivery_info.delivery_increment ng-required=true ng-fade min=0><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(delivery_form.delivery_increment.$error.required || delivery_form.delivery_increment.$error.number)\n                                        && (delivery_form.delivery_increment.$faded || delivery.delivery_info.submit)" role=alert>Delivery Increment is required.</div></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.DELIVERY.DELIVERYASAP\' | translate }}</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_FEES.DELIVERY_ASAP\' | translate }}</span></i></label></div><div class=m-t-5><toggle-switch name=allow_asap_on_delivery ng-model=delivery.delivery_info.allow_asap_on_delivery></toggle-switch></div></div><div class=col-md-12><div ng-show=delivery.delivery_info.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=delivery-increments-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=delivery.delivery_info.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.DELIVERY.DELIVERYFEESUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=delivery-increments-submit class="btn-soft-blue btn pull-right submit">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div><div class="col-md-8 col-lg-7"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.DELIVERY.DELIVERYZONES\' | translate }}</h3></div><div class=panel-body><div class=form-group><label class=control-label>{{ \'MERCHANT.DELIVERY.ZONEDEFINEDBY\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_ZONES.ZONE_DEFINED_BY\' | translate }}</span></i></label><div><div class="input-med flex-init flex-justify-content-space-between flex-align-items-center"><label class=m-0><i class="fa fa-question-circle tooltip-help" aria-hidden=true ng-show="delivery.saved_delivery_zone == \'driving\'"><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_ZONES.EDIT_DELIVERY_ZONE\' | translate }}</span></i> <i class="fa fa-question-circle tooltip-help" aria-hidden=true ng-show="delivery.saved_delivery_zone == \'polygon\'"><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_ZONES.DELIVERY_MAP\' | translate }}</span></i> <i class="fa fa-question-circle tooltip-help" aria-hidden=true ng-show="delivery.saved_delivery_zone == \'zip\'"><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_ZONES.ZIP_CODE\' | translate }}</span></i></label><div><select name=delivery_zone_type class=form-control ng-model=delivery.delivery_info.delivery_price_type ng-change="delivery.updateDeliveryZoneDefinedByDialog(\'{{delivery.delivery_info.delivery_price_type}}\')" ng-options="delivery_definition.id as delivery_definition.name\n                                for delivery_definition in delivery.lookup.delivery_area_defined_bys"></select></div></div><div class="input-med alert alert-success alert-reg-position m-t-5" ng-show=delivery.delivery_info.delivery_zone_defined_by_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.DELIVERY.DELIVERYZONEDEFINED\' | translate }}</div></div></div><div class=m-b-15><table class="table table-hover m-t-30 content-table"><thead><tr><th>{{ \'MESSAGE.SHARE.NAME\' | translate }}</th><th ng-show="delivery.saved_delivery_zone == \'driving\'">{{ \'MERCHANT.DELIVERY.DISTANCEINMILES\' | translate }}</th><th ng-show="delivery.saved_delivery_zone == \'zip\'">{{ \'MERCHANT.DELIVERY.ZIPCODES\' | translate }}</th><th ng-show="delivery.saved_delivery_zone == \'polygon\'">{{ \'MERCHANT.DELIVERY.POLYGON\' | translate }}</th><th>{{ \'MERCHANT.DELIVERY.PRICE\' | translate }}</th><th>{{ \'MERCHANT.DELIVERY.MINORDER\' | translate }}</th><th>{{ \'MESSAGE.SHARE.TYPE\' | translate }}</th><th width=40px></th></tr></thead><tbody><tr ng-repeat="delivery_zone in delivery.delivery_zones" data-toggle=modal data-target=#edit-delivery-zone-modal tooltip-placement=bottom uib-tooltip="Click to Edit" ng-click="delivery.editDeliveryZoneDialog(delivery_zone, $index)"><td><div class=trim-info uib-tooltip={{delivery_zone.name}}>{{delivery_zone.name}}</div></td><td ng-show="delivery.saved_delivery_zone == \'driving\'">{{delivery_zone.distance_up_to}}</td><td ng-show="delivery.saved_delivery_zone == \'zip\'">{{delivery.shorten(delivery_zone.zip_codes)}}</td><td ng-show="delivery.saved_delivery_zone == \'polygon\'">{{delivery.shorten(delivery_zone.polygon_coordinates)}}</td><td>{{delivery_zone.price}}</td><td>{{delivery_zone.minimum_order_amount}}</td><td>{{delivery_zone.delivery_type}}</td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true ng-click="delivery.deleteDeliveryZoneDialog(delivery_zone, $index,$event)"></i></td></tr></tbody></table><div class="content-responsive m-t-20"><div ng-repeat="delivery_zone in delivery.delivery_zones" aria-hidden=true data-toggle=modal data-target=#edit-delivery-zone-modal ng-click="delivery.editDeliveryZoneDialog(delivery_zone, $index)"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{delivery_zone.name}}</b></h5></div><div class=description><div class=clear><div ng-show="delivery.saved_delivery_zone == \'driving\'">{{ \'MERCHANT.DELIVERY.DISTANCEINMILES\' | translate }} {{delivery_zone.distance_up_to}}</div><div ng-show="delivery.saved_delivery_zone == \'zip\'">{{ \'MERCHANT.DELIVERY.ZIPCODESDOTS\' | translate }} {{delivery.shorten(delivery_zone.zip_codes)}}</div><div ng-show="delivery.saved_delivery_zone == \'polygon\'">{{ \'MERCHANT.DELIVERY.POLYGONDOTS\' | translate }} {{delivery.shorten(delivery_zone.polygon_coordinates)}}</div><div>{{ \'MERCHANT.DELIVERY.PRICEDOTS\' | translate }} {{delivery_zone.price}}</div><div>{{ \'MERCHANT.DELIVERY.MINORDERDOTS\' | translate }} {{delivery_zone.minimum_order_amount}}</div><div class=last-row-container-with-delete-icon><div>{{ \'MESSAGE.SHARE.TYPEDOTS\' | translate }} {{delivery_zone.delivery_type}}</div><div class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click="delivery.deleteDeliveryZoneDialog(delivery_zone, $index, $event)"></div></div></div></div></div></div></div></div><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=delivery_zone_update_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> The delivery zone <strong>{{edit_delivery_zone.name}}</strong> {{ \'MESSAGE.SHARE.UPDATED\' | translate }}</div><div class="submit-contain flex-init flex-justify-content-end" ng-show="delivery.delivery_info.delivery_price_type != \'door_dash\'"><button id=open-delivery-zone-create type=button ng-disabled class="btn btn-soft-blue pull-right" ng-click=delivery.openCreateDeliveryZone() data-toggle=modal data-target=#create-delivery-zone-modal><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.DELIVERY.CREATEDELIVERYZONE\' | translate }}</button></div></div></div></div></div><div id=create-delivery-zone-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div ng-class=delivery.getDeliveryZoneModal()><div class="modal-content modal-md"><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>{{ \'MERCHANT.DELIVERY.NEWDELIVERYZONE\' | translate }}</h4></div><form class="m-l-15 m-r-15" name=delivery.create_delivery_zone_form novalidate ng-submit=delivery.createDeliveryZone()><div class=modal-body><div class=form-group><label class=block for=name ng-click=delivery.resizeMap()>{{ \'MESSAGE.SHARE.NAME\' | translate }}</label><input type=text class="input-med form-control" name=name placeholder="Enter Name" ng-model=delivery.new_delivery_zone.name ng-required=true ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.create_delivery_zone_form.name.$error.required && (delivery.create_delivery_zone_form.name.$faded || delivery.new_delivery_zone.submit)" role=alert>{{ \'MESSAGE.SHARE.NAMEREQUIRED\' | translate }}</div></div><div class=form-group><label class=block for=distance_up_to ng-show="delivery.saved_delivery_zone == \'driving\'">{{ \'MERCHANT.DELIVERY.DISTANCEUPTO\' | translate }}</label><input type=text class="input-med form-control" name=driving_distance placeholder="Enter Mile Radius" ng-model=delivery.new_delivery_zone.distance_up_to ng-show="delivery.saved_delivery_zone == \'driving\'"></div><div class=form-group><label for=zip_codes ng-show="delivery.saved_delivery_zone == \'zip\'">{{ \'MERCHANT.DELIVERY.ZIPCODES\' | translate }}</label><input type=text class="input-x-large form-control" name=zip_codes placeholder="Enter Zip Codes" ng-model=delivery.new_delivery_zone.zip_codes ng-show="delivery.saved_delivery_zone == \'zip\'"></div><div ng-show="delivery.saved_delivery_zone == \'polygon\'" class="col-md-12 map"><label for=polygon_coordinates>{{ \'MERCHANT.DELIVERY.POLYGON\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_ZONES.DELIVERY_MAP_MODAL\' | translate }}</span></i></label><div id=create-polygon-map class=google-modal-map></div><button type=button ng-disabled ng-click=delivery.clearPolygon() class="pull-right btn btn-primary btn-xs m-t-5">{{ \'MERCHANT.DELIVERY.REDOPOLIGON\' | translate }}</button></div><div class=form-group><label for=price>{{ \'MERCHANT.DELIVERY.PRICE\' | translate }}</label><input type=number class="input-med form-control" name=price placeholder="Enter Price" ng-model=delivery.new_delivery_zone.price ng-fade min=0 min=0><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.create_delivery_zone_form.price.$error.number && (delivery.create_delivery_zone_form.price.$faded || delivery.new_delivery_zone.submit)" role=alert>{{ \'MERCHANT.DELIVERY.PRICENUMERIC\' | translate }}</div></div><div class=form-group><label for=minimum_order_amount>{{ \'MERCHANT.DELIVERY.MINORDER\' | translate }}</label><input type=number class="input-med form-control" name=min_order_amount placeholder="Enter Amount" ng-model=delivery.new_delivery_zone.minimum_order_amount ng-fade min=0><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.create_delivery_zone_form.min_order_amount.$error.number\n                                        && (delivery.create_delivery_zone_form.min_order_amount.$faded || delivery.new_delivery_zone.submit)" role=alert>{{ \'MERCHANT.DELIVERY.MINIMUMORDER\' | translate }}</div></div><div class=form-group><label for=delivery_type>{{ \'MERCHANT.DELIVERY.DELIVERYTYPE\' | translate }}</label><div class="select input-med"><select name=dz_type class=form-control ng-required=true ng-model=delivery.new_delivery_zone.delivery_type ng-fade ng-options="delivery_type for delivery_type in delivery.delivery_types"><option class=placeholder-color value="" selected disabled>{{ \'MERCHANT.DELIVERY.DELIVERYTYPE\' | translate }}</option></select></div><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.create_delivery_zone_form.delivery_type.$error.required\n                                        && (delivery.create_delivery_zone_form.delivery_type.$faded || delivery.new_delivery_zone.submit)" role=alert>{{ \'MERCHANT.DELIVERY.DELIVERYTYPEREQUIRED\' | translate }}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button id=create-dz-submit type=submit class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=edit-delivery-zone-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div ng-class=delivery.getDeliveryZoneModal()><div class="modal-content modal-md"><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.DELIVERY.EDITDELIVERY\' | translate }}</h4></div><form name=delivery.update_delivery_zone_form class="m-l-15 m-r-15" novalidate ng-submit=delivery.editDeliveryZone()><div class=modal-body><div class=form-group><label class=control-label>{{ \'MESSAGE.SHARE.NAME\' | translate }}</label><div class=mt-15><input type=text class="input-med form-control" name=name placeholder="Enter Name" ng-model=delivery.edit_delivery_zone.name ng-required=true ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.update_delivery_zone_form.name.$error.required && (update_delivery_zone_form.name.$faded || location.submit)" role=alert>{{ \'MESSAGE.SHARE.NAMEREQUIRED\' | translate }}</div></div></div><div class=form-group ng-show="delivery.saved_delivery_zone == \'driving\'"><label class=control-label>{{ \'MERCHANT.DELIVERY.DISTANCEUPTO\' | translate }}---Distance Up To</label><div class=mt-15><input type=text class="input-med form-control" name=name placeholder="Enter Mile Radius" ng-model=delivery.edit_delivery_zone.distance_up_to></div></div><div class=form-group ng-show="delivery.saved_delivery_zone == \'zip\'"><label class=control-label for=minimum_order_amount>{{ \'MERCHANT.DELIVERY.ZIPCODES\' | translate }}</label><div class=mt-15><input type=text class="input-x-large form-control" name=zip_codes placeholder="Enter Zip Codes" ng-model=delivery.edit_delivery_zone.zip_codes></div></div><div ng-show="delivery.saved_delivery_zone == \'polygon\'"><label for=polygon_coordinates>{{ \'MERCHANT.DELIVERY.POLYGON\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.DELIVERY.DELIVERY_ZONES.DELIVERY_MAP_MODAL\' | translate }}</span></i></label><div id=edit-polygon-map class=google-modal-map></div><button type=button ng-disabled ng-click=delivery.clearPolygon() class="pull-right btn btn-primary btn-xs m-t-5">{{ \'MERCHANT.DELIVERY.REDOPOLIGON\' | translate }}</button></div><div class=form-group><label class=control-label for=price>{{ \'MERCHANT.DELIVERY.PRICE\' | translate }}</label><div class=mt-15><input type=number class="input-med form-control" name=price placeholder="Enter Price" ng-model=delivery.edit_delivery_zone.price ng-fade min=0><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.update_delivery_zone_form.price.$error.number && (delivery.update_delivery_zone_form.price.$faded || delivery.edit_delivery_zone.submit)" role=alert>{{ \'MERCHANT.DELIVERY.PRICENUMERIC\' | translate }}</div></div></div><div class=form-group><label class=control-label for=minimum_order_amount>{{ \'MERCHANT.DELIVERY.MINORDER\' | translate }}</label><div class=mt-15><input type=number class="input-med form-control" name=min_order_amount placeholder="Enter Amount" ng-model=delivery.edit_delivery_zone.minimum_order_amount ng-fade min=0><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.update_delivery_zone_form.min_order_amount.$error.number\n                                && (delivery.update_delivery_zone_form.min_order_amount.$faded || delivery.edit_delivery_zone.submit)" role=alert>{{ \'MERCHANT.DELIVERY.MINIMUMORDER\' | translate }}</div></div></div><div class=form-group><label class=control-label for=delivery_type>{{ \'MERCHANT.DELIVERY.DELIVERYTYPE\' | translate }}</label><div class=mt-15><div class="select input-med"><select name=delivery_type class=form-control ng-required=true ng-model=delivery.edit_delivery_zone.delivery_type ng-fade ng-options="delivery_type for delivery_type in delivery.delivery_types"><option class=placeholder-color value="" selected disabled>{{ \'MERCHANT.DELIVERY.DELIVERYTYPE\' | translate }}</option></select></div><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="delivery.update_delivery_zone_form.delivery_type.$error.required\n                                && (delivery.update_delivery_zone_form.delivery_type.$faded || delivery.edit_delivery_zone.submit)" role=alert>{{ \'MERCHANT.DELIVERY.DELIVERYTYPEREQUIRED\' | translate }}</div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button type=submit class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=delete-delivery-zone-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.DELIVERY.DELETEDELIVERY\' | translate }}</h4></div><div class=modal-body>{{ \'MERCHANT.DELIVERY.SUREDELETERELIVERY\' | translate }} <strong>{{delivery.delete_delivery_zone_name}}</strong>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=delivery.confirmDeleteDeliveryZone()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div><div id=change-zone-defined-by-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.DELIVERY.CHANGEZONEBY\' | translate }}</h4></div><div class=modal-body><p>{{ \'MERCHANT.DELIVERY.SURETOCHANGEDELIVERY\' | translate }}</p><p>{{ \'MERCHANT.DELIVERY.LOSETHEPREVIOUSZONE\' | translate }} {{delivery.previousZonedDefinedBy()}} data for all existing delivery zones.</p></div><div class=modal-footer><button id=confirm-delivery-zone-definition-change type=button ng-disabled class="btn btn-default" data-dismiss=modal ng-click=delivery.closeDeliveryZoneDefinedByDialog()>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info" ng-click=delivery.updateDeliveryZoneDefinedBy()>{{ \'MESSAGE.SHARE.CONFIRMCHANGE\' | translate }}</button></div></div></div></div>'),a.put("modules/merchant/merchant-hours/merchant-hours.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>{{ \'MERCHANT.HOURS.HOURS\' | translate }}</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/hours>{{ \'MERCHANT.HOURS.HOURS\' | translate }}</a></li></ol></div></div></div><div id=hours-default-section class=row><div class=col-md-7><div class="panel panel-primary"><div class="panel-heading hours-heading"><h3 class=panel-title>{{ \'MERCHANT.HOURS.STANDARDSTORE\' | translate }}</h3></div><div class=panel-body><div class=row><div class=col-xs-12><form name=vm_hour.hours_form novalidate ng-submit=vm_hour.updateHours()><table class="table content-table"><thead><tr><th>Weekday</th><th>Open</th><th>Close</th><th>Closed All Day</th></tr></thead><tbody id=store-hours-table><tr ng-repeat="hour in vm_hour.hours"><td>{{vm_hour.decodeWeekday(hour.day_of_week)}}</td><td ng-form=hour_open_form ng-class=vm_hour.fiftyOpacity(!hour.day_open)><input type=text class="form-control input-micro inline open-hour-human" placeholder=HH:MM name=open ng-fade maxlength=5 ng-model=hour.open_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-readonly=!hour.day_open ng-disabled=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=hour.open_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>am</option><option value=pm>pm</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_open_form.open.$invalid && (hour_open_form.open.$faded || vm_hour.hours.submit)" role=alert>Must be in HH:MM time format.</div></td><td ng-form=hour_close_form ng-class=vm_hour.fiftyOpacity(!hour.day_open)><input type=text class="form-control input-micro inline" placeholder=HH:MM name=close ng-fade maxlength=5 ng-model=hour.close_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-readonly=!hour.day_open ng-disabled=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=close_am_pm class=form-control ng-model=hour.close_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>am</option><option value=pm>pm</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_close_form.close.$invalid && (hour_close_form.close.$faded || vm_hour.hours.submit)" role=alert>Must be in HH:MM time format.</div></td><td><toggle-switch class="toggle-switch-margin6 store-hour-open-close-toggle" name=active on-label=Open off-label=Closed ng-model=hour.day_open></toggle-switch></td></tr></tbody></table><div class=content-responsive><div class=hours-cards><div ng-repeat="hour in vm_hour.hours" class=m-10><div><b>{{vm_hour.decodeWeekday(hour.day_of_week)}}</b></div><div ng-form=hour_open_form class="m-t-10 hours-rows" ng-class=vm_hour.fiftyOpacity(!hour.day_open)><div style="width: 45px"><span class=label style="font-size: 11px">{{ \'MERCHANT.HOURS.OPENDOTS\' | translate }}</span></div><div><input type=text class="form-control input-micro inline open-input" placeholder=HH:MM name=open ng-fade maxlength=5 ng-model=hour.open_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-disabled=!hour.day_open ng-readonly=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=hour.open_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>{{ \'MERCHANT.HOURS.AM\' | translate }}</option><option value=pm>{{ \'MERCHANT.HOURS.PM\' | translate }}</option></select></div></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_open_form.open.$invalid && (hour_open_form.open.$faded || vm_hour.hours.submit)" role=alert>{{ \'MERCHANT.HOURS.INFORMAT\' | translate }}</div><div ng-form=hour_close_form class="m-t-5 hours-rows" ng-class=vm_hour.fiftyOpacity(!hour.day_open)><div style="width: 45px"><span class=label style="font-size: 11px">{{ \'MERCHANT.HOURS.CLOSEDOTS\' | translate }}</span></div><div><input type=text class="form-control input-micro inline" placeholder=HH:MM name=close ng-fade maxlength=5 ng-model=hour.close_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-disabled=!hour.day_open ng-readonly=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=close_am_pm class=form-control ng-model=hour.close_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>{{ \'MERCHANT.HOURS.AM\' | translate }}</option><option value=pm>{{ \'MERCHANT.HOURS.PM\' | translate }}</option></select></div></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_close_form.close.$invalid && (hour_close_form.close.$faded || vm_hour.hours.submit)" role=alert>{{ \'MERCHANT.HOURS.INFORMAT\' | translate }}</div><div class=hours-rows-2><div><span class=label style="font-size: 11px">Closed All Day:</span></div><div class=closed-all-day-checkbox><toggle-switch name=active on-label=Open off-label=Closed ng-model=hour.day_open></toggle-switch></div></div><br/></div></div></div><div class="col-md-12 m-t-10"><div ng-show=vm_hour.hours.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class=submit-contain><div class=col-md-8><div id=store-hours-updated-success class="alert alert-success alert-reg-position form-submit-success pull-left fade-effect" ng-show=vm_hour.hours.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.HOURS.HOURSUPDATED\' | translate }}</div></div><button id=store-hours-submit-button class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div></div><div class="panel panel-primary"><div class="panel-heading hours-heading"><h3 class=panel-title>{{ \'MERCHANT.HOURS.DELIVERYHOURS\' | translate }}</h3></div><div class=panel-body><div class=row><div class=col-xs-12><form name=vm_hour.delivery_hours_form novalidate ng-submit=vm_hour.updateDeliveryHours()><table class="table content-table"><thead><tr><th>{{ \'MERCHANT.HOURS.WEEKDAY\' | translate }}</th><th>{{ \'MERCHANT.HOURS.OPEN\' | translate }}</th><th>{{ \'MERCHANT.HOURS.CLOSE\' | translate }}</th><th>Closed All Day</th></tr></thead><tbody id=delivery-hours-table><tr ng-repeat="hour in vm_hour.delivery_hours"><td>{{vm_hour.decodeWeekday(hour.day_of_week)}}</td><td ng-form=hour_open_form ng-class=vm_hour.fiftyOpacity(!hour.day_open)><input type=text class="form-control input-micro inline open-human-hour" placeholder=HH:MM name=open ng-fade maxlength=5 ng-model=hour.open_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-readonly=!hour.day_open ng-disabled=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=hour.open_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>{{ \'MERCHANT.HOURS.AM\' | translate }}</option><option value=pm>{{ \'MERCHANT.HOURS.PM\' | translate }}</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_open_form.open.$invalid && (hour_open_form.open.$faded || vm_hour.delivery_hours.submit)" role=alert>{{ \'MERCHANT.HOURS.INFORMAT\' | translate }}</div></td><td ng-form=hour_close_form ng-class=vm_hour.fiftyOpacity(!hour.day_open)><input type=text class="form-control input-micro inline" placeholder=HH:MM name=close ng-fade maxlength=5 ng-model=hour.close_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-readonly=!hour.day_open ng-disabled=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=close_am_pm class=form-control ng-model=hour.close_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>{{ \'MERCHANT.HOURS.AM\' | translate }}</option><option value=pm>{{ \'MERCHANT.HOURS.PM\' | translate }}</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_close_form.close.$invalid && (hour_close_form.close.$faded || vm_hour.delivery_hours.submit)" role=alert>{{ \'MERCHANT.HOURS.INFORMAT\' | translate }}</div></td><td><toggle-switch class="toggle-switch-margin6 delivery-hour-closed-toggle" name=active on-label=Open off-label=Closed ng-model=hour.day_open></toggle-switch></td></tr></tbody></table><div class=content-responsive><div class=hours-cards><div ng-repeat="hour in vm_hour.delivery_hours" class=m-10><div><b>{{vm_hour.decodeWeekday(hour.day_of_week)}}</b></div><div ng-form=hour_open_form class="hours-rows m-t-10" ng-class=vm_hour.fiftyOpacity(!hour.day_open)><div style="width: 45px"><span class=label style="font-size: 11px">{{ \'MERCHANT.HOURS.OPENDOTS\' | translate }}</span></div><div><input type=text class="form-control input-micro inline open-input" placeholder=HH:MM name=open ng-fade maxlength=5 ng-model=hour.open_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-disabled=!hour.day_open ng-readonly=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=open_am_pm class=form-control ng-model=hour.open_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>{{ \'MERCHANT.HOURS.AM\' | translate }}</option><option value=pm>{{ \'MERCHANT.HOURS.PM\' | translate }}</option></select></div></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_open_form.open.$invalid && (hour_open_form.open.$faded || vm_hour.delivery_hours.submit)" role=alert>{{ \'MERCHANT.HOURS.INFORMAT\' | translate }}</div><div ng-form=hour_close_form class="hours-rows m-t-5" ng-class=vm_hour.fiftyOpacity(!hour.day_open)><div style="width: 45px"><span class=label style="font-size: 11px">{{ \'MERCHANT.HOURS.CLOSEDOTS\' | translate }}</span></div><div><input type=text class="form-control input-micro inline" placeholder=HH:MM name=close ng-fade maxlength=5 ng-model=hour.close_human ng-required=true ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" ng-disabled=!hour.day_open ng-readonly=!hour.day_open><div class="select input-micro inline margin-left-five am-pm"><select name=close_am_pm class=form-control ng-model=hour.close_am_pm ng-required=true ng-disabled=!hour.day_open><option value=am>{{ \'MERCHANT.HOURS.AM\' | translate }}</option><option value=pm>{{ \'MERCHANT.HOURS.PM\' | translate }}</option></select></div></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="hour_close_form.close.$invalid && (hour_close_form.close.$faded || vm_hour.delivery_hours.submit)" role=alert>{{ \'MERCHANT.HOURS.INFORMAT\' | translate }}</div><div class=hours-rows-2><div><span class=label style="font-size: 11px">Closed All Day:</span></div><div class=closed-all-day-checkbox><toggle-switch name=active on-label=Open off-label=Closed ng-model=hour.day_open></toggle-switch></div></div><br/></div></div></div><div class="col-md-12 m-t-10"><div ng-show=vm_hour.delivery_hours.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class=submit-contain><div class=col-md-8><div id=delivery-hours-update-success class="alert alert-success alert-reg-position form-submit-success pull-left fade-effect" ng-show=vm_hour.delivery_hours.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.HOURS.HOURSUPDATE\' | translate }}</div></div><button id=delivery-hours-submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div></div></div><div class=col-md-5><div class="panel panel-primary"><div class="panel-heading hours-heading"><h3 class=panel-title>{{ \'MERCHANT.HOURS.HOLIDAYS\' | translate }}</h3></div><div class=panel-body><div class=row><div class=col-xs-12><table class="table table-hover content-table"><thead><tr><th>{{ \'MERCHANT.HOURS.DAY\' | translate }}</th><th>{{ \'MERCHANT.HOURS.FULLCLOSURE\' | translate }}</th><th>{{ \'MERCHANT.HOURS.OPEN\' | translate }}</th><th>{{ \'MERCHANT.HOURS.CLOSE\' | translate }}</th><th width=40px></th></tr></thead><tbody><tr ng-repeat="full_holiday_hour in vm_hour.full_holiday_hours" data-toggle=modal data-target=#edit-full-holiday-hour-modal ng-click="vm_hour.editFullHolidayDialog(full_holiday_hour, $index)" tooltip-placement=bottom uib-tooltip="Click to Edit" style="height: 43px"><td><b>{{full_holiday_hour.the_date}}</b></td><td class=text-center><i class="fa fa-check-square-o true-negative" aria-hidden=true ng-show=!full_holiday_hour.day_open></i> <i class="fa fa-square-o false-positive" aria-hidden=true ng-show=full_holiday_hour.day_open></i></td><td>{{full_holiday_hour.open}}{{full_holiday_hour.open_am_pm}}</td><td>{{full_holiday_hour.close}}{{full_holiday_hour.close_am_pm}}</td><td></td></tr><tr ng-repeat="custom_holiday_hour in vm_hour.custom_holiday_hours" data-toggle=modal data-target=#edit-full-holiday-hour-modal ng-click="vm_hour.editFullHolidayDialog(custom_holiday_hour, $index)" tooltip-placement=bottom uib-tooltip="Click to Edit"><td>{{custom_holiday_hour.the_date | date : \'MM/dd/yyyy\'}}</td><td class=text-center><i class="fa fa-check-square-o true-negative" aria-hidden=true ng-show=!custom_holiday_hour.day_open></i> <i class="fa fa-square-o false-positive" aria-hidden=true ng-show=custom_holiday_hour.day_open></i></td><td>{{custom_holiday_hour.open_hours | date : \'hh:mm a\'}}</td><td>{{custom_holiday_hour.close_hours | date : \'hh:mm a\'}}</td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true ng-click="vm_hour.deleteCustomHolidayConfirm(custom_holiday_hour, $index,$event)"></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="full_holiday_hour in vm_hour.full_holiday_hours" aria-hidden=true data-toggle=modal data-target=#edit-full-holiday-hour-modal ng-click="vm_hour.editFullHolidayDialog(full_holiday_hour, $index)"><div class="panel panel-body row-table"><div><b>Day:</b> {{full_holiday_hour.day_name}}</div><div class=description><i class="fa fa-check-square-o true-negative green-text" aria-hidden=true ng-show=!day_open.day_open></i> <i class="fa fa-square-o false-positive green-text" aria-hidden=true ng-show=day_open.day_open></i> {{ \'MERCHANT.HOURS.FULLCLOSURE\' | translate }}</div><div>Open from {{full_holiday_hour.open}}{{full_holiday_hour.open_am_pm}} to {{full_holiday_hour.close}}{{full_holiday_hour.close_am_pm}}</div></div></div><div ng-repeat="custom_holiday_hour in vm_hour.custom_holiday_hours" aria-hidden=true data-toggle=modal data-target=#edit-full-holiday-hour-modal ng-click="vm_hour.editFullHolidayDialog(custom_holiday_hour, $index)"><div class="panel panel-body row-table"><div><b>Day:</b> {{custom_holiday_hour.display_date}}</div><div class=description><i class="fa fa-check-square-o true-negative green-text" aria-hidden=true ng-show=!day_open.day_open></i> <i class="fa fa-square-o false-positive green-text" aria-hidden=true ng-show=day_open.day_open></i> {{ \'MERCHANT.HOURS.FULLCLOSURE\' | translate }}</div><div class=last-row-container-with-delete-icon><div>Open from {{custom_holiday_hour.open_hours | date : \'hh:mm a\'}} to {{custom_holiday_hour.close_hours | date : \'hh:mm a\'}}</div><i class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click="vm_hour.deleteCustomHolidayConfirm(custom_holiday_hour, $index, $event)"></i></div></div></div></div><div class="alert alert-success alert-reg-position form-submit-success fade-effect" role=alert maxlength="" ng-show=vm_hour.edit_holiday_hour.success><i class="fa fa-check-circle" aria-hidden=true></i> The holiday {{vm_hour.edit_holiday_hour.day_name}} has been updated!</div><button id=open-custom-holiday-hour type=button ng-disabled class="m-t-15 pull-right btn btn-soft-blue" ng-click=vm_hour.clickAddNewHoliday() data-toggle=modal data-target=#add-custom-holiday-hours-modal><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.HOURS.ADDHOLIDAY\' | translate }}</button></div></div></div></div></div><div class=col-md-5><div class="panel panel-primary"><div class="panel-heading hours-heading"><h3 class=panel-title>{{ \'MERCHANT.HOURS.MID_DAY_TITLE\' | translate }}</h3></div><div class=panel-body><div class=row><div class=col-xs-12><table class="table table-hover content-table"><thead><tr><th>{{ \'MERCHANT.HOURS.DAY\' | translate }}</th><th>{{ \'MERCHANT.HOURS.ORDER_TYPE\' | translate }}</th><th>{{ \'MERCHANT.HOURS.START_TIME\' | translate }}</th><th>{{ \'MERCHANT.HOURS.END_TIME\' | translate }}</th><th width=40px></th></tr></thead><tbody><tr ng-repeat="item in vm_hour.mid_day_hours" tooltip-placement=bottom uib-tooltip="Click to Edit" style="height: 43px" ng-click="vm_hour.openMidDayUpdateModal(item, index, $event)"><td>{{item.day_of_week | dayOfWeekFormatter}}</td><td>{{item.order_type}}</td><td>{{item.start_time | date : \'hh:mm a\'}}</td><td>{{item.end_time | date : \'hh:mm a\'}}</td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true ng-click="vm_hour.deleteMidDayHourConfirm(item, $index,$event)"></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="item in vm_hour.mid_day_hours" aria-hidden=true ng-click="vm_hour.openMidDayUpdateModal(item, index, $event)"><div class="panel panel-body row-table"><div class=description><div>Order Type: {{item.order_type}}</div><div>Day of week: {{item.day_of_week}}</div><div>Start Time: {{item.start_time | date : \'hh:mm a\'}}</div></div><div class=last-row-container-with-delete-icon><div>End Time: {{item.end_time | date : \'hh:mm a\'}}</div><i class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click="vm_hour.deleteMidDayHourConfirm(item, $index, $event)"></i></div></div></div></div><div class="alert alert-success alert-reg-position form-submit-success fade-effect" role=alert maxlength="" ng-show=vm_hour.success_mid_hour><i class="fa fa-check-circle" aria-hidden=true></i> The mid-day closures have been updated!</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show=vm_hour.error role=alert>Something went wrong, please try again.</div><button id=open-mid-day-closures-hour type=button ng-disabled class="m-t-15 pull-right btn btn-soft-blue" ng-click=vm_hour.openAddMidDayHourModal()><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.HOURS.ADD_MID_DAY\' | translate }}</button></div></div></div></div></div></div><div id=add-custom-holiday-hours-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>{{ \'MERCHANT.HOURS.CUSTOMHOLIDAY\' | translate }}</h4></div><div class=modal-body><div style="margin: 10px"><form name=holiday_form novalidate><date-single-picker on-date-changed=vm_hour.onDateChanged(startDate)></date-single-picker><input type=hidden ng-model=vm_hour.new_hours_date><div class=checkbox><label><input type=checkbox name=closed_all_day ng-init="vm_hour.edit_holiday_hours.closed_all_day = false" ng-model=vm_hour.edit_holiday_hours.closed_all_day> {{ \'MERCHANT.HOURS.CLOSEALLDAY\' | translate }} <span></span></label></div><div ng-class=vm_hour.fiftyOpacity(vm_hour.edit_holiday_hours.closed_all_day) class=form-group><label vm_hour.edit_holiday_hours.closed_all_day for=open class=block>{{ \'MERCHANT.HOURS.OPEN\' | translate }}</label><input id=custom-holiday-hour-start type=time class="form-control input-med inline" name=open style="margin-left: 0px" ng-readonly=vm_hour.edit_holiday_hours.closed_all_day ng-model=vm_hour.new_hours_open ng-required=true></div><div ng-class=vm_hour.fiftyOpacity(vm_hour.edit_holiday_hours.closed_all_day) class=form-group><label for=close class=block>{{ \'MERCHANT.HOURS.CLOSE\' | translate }}</label><input id=custom-holiday-hour-end type=time class="form-control input-med inline" name=close style="margin-left: 0px" ng-readonly=vm_hour.edit_holiday_hours.closed_all_day ng-model=vm_hour.new_hours_close ng-required=true></div></form></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button id=create-custom-holiday-hour-button class="btn btn-info" ng-click=vm_hour.addCustomHolidayHours()>{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></div></div><div id=delete-holiday-hour-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.HOURS.DELETEHOLIDAY\' | translate }}</h4></div><div class=modal-body>Are you sure you want to remove the special holiday hours for <strong>{{vm_hour.delete_holiday_hours_desc}}</strong>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=vm_hour.confirmDeleteHolidayHour()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div><div id=edit-full-holiday-hour-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Edit {{vm_hour.edit_holiday_hour.day_name}} Hours</h4></div><form name=vm_hour.standard_holiday_form novalidate ng-submit=vm_hour.updateStandardHolidayHours()><div class="modal-body m-l-10 m-r-10"><div class=checkbox><label><input type=checkbox name=closed_all_day ng-model=vm_hour.edit_holiday_hour.closed_all_day ng-change=vm_hour.flipStandardHolidayOpenClosed()> {{ \'MERCHANT.HOURS.CLOSEALLDAY\' | translate }} <span></span></label></div><div ng-class=vm_hour.fiftyOpacity(vm_hour.edit_holiday_hour.closed_all_day) class=form-group><label for=open>{{ \'MERCHANT.HOURS.OPEN\' | translate }}</label><div ng-class=vm_hour.fiftyOpacity(vm_hour.edit_holiday_hour.closed_all_day)><input type=time class="form-control input-med inline" name=open ng-model=vm_hour.edit_holiday_hour.open_hours style="margin-left: 0px" ng-required=!vm_hour.edit_holiday_hour.closed_all_day ng-readonly=vm_hour.edit_holiday_hour.closed_all_day></div><label for=close>{{ \'MERCHANT.HOURS.CLOSE\' | translate }}</label><div ng-class=vm_hour.fiftyOpacity(vm_hour.edit_holiday_hour.closed_all_day)><input type=time class="form-control input-med inline" placeholder=HH:MM name=close ng-model=vm_hour.edit_holiday_hour.close_hours style="margin-left: 0px" ng-required=!vm_hour.edit_holiday_hour.closed_all_day ng-readonly=vm_hour.edit_holiday_hour.closed_all_day></div></div><div><div ng-show=vm_hour.edit_holiday_hour.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=add-mid-day-hour-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title ng-if=!vm_hour.isMidDayUpdate>{{ \'MERCHANT.HOURS.MID_DAY_ADD_MODAL_TITLE\' | translate }}</h4><h4 class=modal-title ng-if=vm_hour.isMidDayUpdate>{{ \'MERCHANT.HOURS.MID_DAY_UPDATE_MODAL_TITLE\' | translate }}</h4></div><div class=modal-body><div style="margin: 10px"><form name=vm_hour.mid_day_form novalidate><div class=form-group><label for=day class=block>{{\'MERCHANT.HOURS.DAY\' | translate }}</label><select name=day class="input-large form-control" ng-required=true ng-model=vm_hour.new_mid_day_hour.day_of_week><option class=placeholder-color value="" selected disabled>Day of Week</option><option ng-repeat="day_of_week in vm_hour.days_of_week" value={{day_of_week.id}}>{{day_of_week.name}}</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm_hour.mid_day_form.day.$error.required &&\n                                 (vm_hour.mid_day_form.day.$touched || vm_hour.mid_day_form.$submitted)" role=alert>The day of the week is required.</div></div><div class=form-group><label for=order_type class=block>{{\'MERCHANT.HOURS.ORDER_TYPE\' | translate }}</label><select name=order_type class="input-large form-control" ng-required=true ng-model=vm_hour.new_mid_day_hour.order_type><option class=placeholder-color value="" selected disabled>{{\'MERCHANT.HOURS.ORDER_TYPE\' | translate }}</option><option>Delivery</option><option>Pickup</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm_hour.mid_day_form.order_type.$error.required &&\n                                 (vm_hour.mid_day_form.order_type.$touched || vm_hour.mid_day_form.$submitted)" role=alert>The order type is required.</div></div><div class=form-group><label for=start_time class=block>{{\'MERCHANT.HOURS.START_TIME\' | translate }}</label><input id=start_time name=start_time type=time class="form-control input-med inline" ng-model=vm_hour.new_mid_day_hour.start_time name=start-time ng-max=vm_hour.new_mid_day_hour.end_time ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(vm_hour.mid_day_form.start_time.$error.required || vm_hour.mid_day_form.start_time.$error.time) &&\n                                 (vm_hour.mid_day_form.start_time.$touched || vm_hour.mid_day_form.$submitted)" role=alert>The start time is required and must be in HH:MM AM/PM time format.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm_hour.mid_day_form.start_time.$error.max && (vm_hour.mid_day_form.start_time.$touched || vm_hour.mid_day_form.$submitted)" role=alert>The start time must not be grater than end time.</div></div><div class=form-group><label for=end_time class=block>{{ \'MERCHANT.HOURS.END_TIME\' | translate }}</label><input id=end_time name=end_time type=time class="form-control input-med inline" ng-model=vm_hour.new_mid_day_hour.end_time ng-min=vm_hour.new_mid_day_hour.start_time name=close ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(vm_hour.mid_day_form.end_time.$error.required || vm_hour.mid_day_form.end_time.$error.time) &&\n                                 (vm_hour.mid_day_form.end_time.$touched || vm_hour.mid_day_form.$submitted)" role=alert>The end time is required and must be in HH:MM AM/PM time format.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm_hour.mid_day_form.end_time.$error.min && (vm_hour.mid_day_form.end_time.$touched || vm_hour.mid_day_form.$submitted)" role=alert>The end time must not be less than start time.</div></div></form></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info" ng-click=vm_hour.addNewMidDayHour()>{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></div></div>'),
a.put("modules/merchant/merchant-info/merchant-info.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg white-text"><h4 class=page-title>Info</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/general_info>{{ \'MESSAGE.SHARE.INFO\' | translate }}</a></li></ol></div></div></div><div class=row><div class="col-md-12 col-lg-6"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.INFO.LOCATION\' | translate }}</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=info.processing_location><div class=filter-loader></div></div><form name=info.location_form ng-if=!info.processing_location novalidate ng-submit=info.updateLocation() class=form-horizontal><div class=form-group><label class="control-label col-md-4">{{ \'MESSAGE.SHARE.NAME\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.NAMEBUSINESS\' | translate }}</span></i></label><div class=col-md-8><input type=text class="input-large form-control" name=business_name placeholder="Enter Name" ng-model=info.location.business_name ng-required=true ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.business_name.$error.required && (info.location_form.business_name.$faded || info.location.submit)" role=alert>{{ \'MERCHANT.INFO.NAMEBUSINESSREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.DISPLAYNAME\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.DISPLAY_NAME\' | translate }}</span></i></label><div class=col-md-8><input type=text class="input-large form-control" name=display_name placeholder="Enter Display Name" ng-model=info.location.display_name ng-required=true ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.display_name.$error.required && (info.location_form.display_name.$faded || info.location.submit)" role=alert>{{ \'MERCHANT.INFO.DISPLAYNAMEREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">External ID</label><div class=col-md-8><input type=text class="input-large form-control" name=merchant_external_id placeholder="Enter the external identifier" ng-model=info.location.merchant_external_id ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.merchant_external_id.$error.required && (info.location_form.merchant_external_id.$faded || info.location.submit)" role=alert>The external identifier is required.</div></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</label><div class=col-md-8><input type=text class="input-large form-control" name=address1 placeholder="Address Line 1" ng-model=info.location.address1 ng-required=true ng-fade><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.addressline1.$error.required && (info.location_form.addressline1.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.ADDRESSREQUIRED\' | translate }}</div><input type=text class="input-large form-control margin-top-five" name=address2 placeholder="Address Line 2" ng-model=info.location.address2 ng-fade> <input type=text class="input-large form-control margin-top-five" name=city placeholder=City ng-model=info.location.city ng-required=true ng-fade><div class="select input-small inline m-t-5"><select id=fix-small-screen-inline name=state class=form-control ng-required=true ng-model=info.location.state ng-options="state.type_id_value as state.type_id_value for state in info.states"><option class=placeholder-color value="" selected disabled>ST</option></select></div><input type=text class="input-small form-control m-t-5 inline" name=zip placeholder="Zip Code" ng-model=info.location.zip ng-required=true ng-fade><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.location_form.city.$error.required && (info.location_form.city.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.CITYREQUIRED\' | translate }}</div><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.location_form.state.$error.required && (info.location_form.state.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.STATEREQUIRED\' | translate }}</div><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.location_form.zip.$error.required && (info.location_form.zip.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.ZIPREQUIRED\' | translate }}</div><div class="input-large alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.country.$error.required && (info.location_form.country.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.COUNTRYREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MESSAGE.SHARE.TIMEZONE\' | translate }}</label><div class=col-md-8><div class="select input-large margin-top-five"><select name=time_zone class=form-control ng-required=true ng-model=info.location.time_zone ng-change=test() ng-options="item as item.type_id_name for item in info.time_zones track by item.type_id_value"><option class=placeholder-color value="" disabled>{{ \'MESSAGE.SHARE.TIMEZONE\' | translate }}</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position input-x-large" ng-show="info.location_form.timezone.$error.required && (info.location_form.timezone.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.TIMEZONEREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.STOREEMAIL\' | translate }}</label><div class=col-md-8><input type=text class="input-large form-control" name=shop_email ng-model=info.location.shop_email ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.shop_email.$error.required\n                             && (info.location_form.shop_email.$faded || info.location.submit)" role=alert>{{ \'MERCHANT.INFO.STOREEMAILREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.PHONE\' | translate }}</label><div class=col-md-8><input type=text class="input-large form-control" name=phone_no ng-model=info.location.phone_no ng-fade><div class="input-large alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.location_form.phone_no.$error.required\n                             && (info.location_form.phone_no.$faded || info.location.submit)" role=alert>{{ \'MESSAGE.SHARE.PHONENUMBERREQUIRED\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">Fax</label><div class=col-md-8><input type=text class="input-large form-control" name=fax_no ng-model=info.location.fax_no ng-fade></div></div><div class=form-group><label class="control-label col-md-4">Numeric ID</label><div class="col-md-8 m-t-10">{{info.location.numeric_id}}</div></div><div class=form-group><label class="control-label col-md-4">Alphanumeric ID</label><div class="col-md-8 m-t-10">{{info.location.alphanumeric_id}}</div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div id=location-updated-success class="flex-init flex-direction-column flex-justify-content-center"><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=info.location.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.INFO.LOCATIONUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=merchant-location-submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Customer Messages</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=info.processing_messages><div class=filter-loader></div></div><form name=info.message_form ng-if=!info.processing_messages novalidate ng-submit=info.updateMessages()><div class=form-group><label class=control-label>{{ \'MERCHANT.INFO.ORDERMESSAGE\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.ORDER_MESSAGE\' | translate }}</span></i></label><div class=mt-5><textarea class=form-control rows=3 maxlength=255 name=custom_order_message ng-model=info.message.custom_order_message></textarea></div><div class="alert alert-info ng-hide alert-reg-position" ng-show="info.message.custom_order_message.length > 235" role=alert>{{info.charactersRemaining(info.message.custom_order_message, 255)}} characters remaining.</div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.INFO.MENUMESSAGE\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.MENU_MESSAGE\' | translate }}</span></i></label><div class=mt-5><textarea class=form-control rows=3 maxlength=255 name=custom_menu_message ng-model=info.message.custom_menu_message></textarea></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=messages-updated-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=info.message.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.INFO.MESSAGEUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=merchant-messages-submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div><div class="col-md-12 col-lg-6"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Configurations</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=info.processing_configuration><div class=filter-loader></div></div><form name=info.config_form ng-if=!info.processing_configuration novalidate ng-submit=info.updateConfig() class=form-horizontal><div class=form-group ng-if="info.user.visibility == \'global\' || info.user.visibility == \'all\'"><label class="control-label col-md-4">{{ \'MESSAGE.SHARE.ACTIVE\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.ACTIVE\' | translate }}</span></i></label><div class=col-md-8><toggle-switch id=merchant-active-inactive-toggle name=active ng-model=info.config.active></toggle-switch></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.ORDERINGON\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.ORDERING_ON\' | translate }}</span></i></label><div class=col-md-8><toggle-switch name=ordering_on ng-model=info.config.ordering_on></toggle-switch></div></div><div class=form-group ng-show=!info.info.config.active><label class="col-md-4 control-label">{{ \'MERCHANT.INFO.INACTIVEREASON\' | translate }}</label><div class=col-md-8><select name=inactive_reason class=form-control ng-model=info.config.inactive_reason ng-options="inactive_reason.type_id_value as inactive_reason.type_id_name for inactive_reason in info.inactive_reasons"><option class=placeholder-color value="" selected disabled>{{ \'MERCHANT.INFO.INACTIVEREASON\' | translate }}</option></select></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.INMEDIATEDELIVERY\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.IMMEDIATE_MSG_DELIVERY\' | translate }}</span></i></label><div class=col-md-8><toggle-switch name=immediate_message_delivery ng-model=info.config.immediate_message_delivery></toggle-switch></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.LEADTIME\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.ORDER_LEAD_TIME\' | translate }}</span></i></label><div class=col-md-8><input type=number class="input-med form-control" name=lead_time placeholder="Enter Minutes for Lead Time" ng-model=info.config.lead_time ng-fade></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MESSAGE.SHARE.DELIVERY\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.DELIVERY\' | translate }}</span></i></label><div class=col-md-8><toggle-switch name=delivery ng-model=info.config.delivery></toggle-switch></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.INFO.SHOWTIP\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.INFO.TOOLTIP.SHOW_TIP\' | translate }}</span></i></label><div class=col-md-8><toggle-switch name=show_tip ng-model=info.config.show_tip></toggle-switch></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=configurations-udpated-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=info.configurations.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.INFO.CONFIGUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=configurations-submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Business Info</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=info.processing_business_info><div class=filter-loader></div></div><form name=info.businessInfoForm ng-if=!info.processing_business_info novalidate ng-submit=info.businessUpdateInfo() class=form-horizontal><div class=form-group><label class="control-label col-md-4">Business Name</label><div class=col-md-8><input type=text class="input-large form-control" name=business_name placeholder=Name ng-model=info.business_info.filing_name ng-fade required><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.businessInfoForm.business_name.$error.required && (info.businessInfoForm.business_name.$faded || info.businessInfoForm.$submitted)" role=alert>The Business Address is required.</div></div></div><div class=form-group><label class="control-label col-md-4">DBA</label><div class=col-md-8><input type=text class="input-large form-control" name=business_DBA placeholder="DBA, if any" ng-model=info.business_info.dba_name ng-fade></div></div><div class=form-group><label class="control-label col-md-4">Tax ID</label><div class=col-md-8><input type=text class="input-large form-control" name=business_tax_id placeholder={{info.business_info.EIN_SS_TEMP_VIEW}} ng-model=info.business_info.EIN_SS_TEMP ng-fade ng-minlength=5 ng-required=true federal-tax-id-validator><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.businessInfoForm.business_tax_id.$error.required && (info.businessInfoForm.business_tax_id.$faded || info.businessInfoForm.$submitted)" role=alert>The Tax ID is required.</div><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.businessInfoForm.business_tax_id.$error.minlength && (info.businessInfoForm.business_tax_id.$faded || info.businessInfoForm.$submitted)" role=alert>The Tax ID must have more than 4 digits.</div></div></div><div class=form-group><label class="control-label col-md-4">Business Address</label><div class=col-md-8><input type=text class="input-large form-control" name=business_address1 placeholder="Address Line 1" ng-model=info.business_info.address ng-required=true ng-fade><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.businessInfoForm.business_address1.$error.required && (info.businessInfoForm.business_address1.$faded || info.businessInfoForm.$submitted)" role=alert>The Business Address is required.</div><input type=text class="input-large form-control margin-top-five" name=business_city placeholder=City ng-model=info.business_info.city ng-required=true ng-fade><div class="select input-small inline m-t-5"><select id=fix-small-screen-inline name=business_state class=form-control required ng-model=info.business_info.state ng-options="state.type_id_value as state.type_id_value for state in info.states"><option class=placeholder-color value="" selected disabled>ST</option></select></div><input type=text class="input-small form-control m-t-5 inline" name=business_zip placeholder="Zip Code" ng-model=info.business_info.zip ng-required=true ng-fade><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.businessInfoForm.business_city.$error.required && (info.businessInfoForm.business_city.$faded || info.businessInfoForm.$submitted)" role=alert>{{ \'MESSAGE.SHARE.CITYREQUIRED\' | translate }}</div><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.businessInfoForm.business_state.$error.required && (info.businessInfoForm.business_state.$touched || info.businessInfoForm.$submitted)" role=alert>{{ \'MESSAGE.SHARE.STATEREQUIRED\' | translate }}</div><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.businessInfoForm.business_zip.$error.required && (info.businessInfoForm.business_zip.$faded || info.businessInfoForm.$submitted)" role=alert>{{ \'MESSAGE.SHARE.ZIPREQUIRED\' | translate }}</div></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=business-info-udpated-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=info.business_info_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.INFO.CONFIGUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=business-info-submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Business Banking</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=info.processing_business_banking><div class=filter-loader></div></div><form name=info.businessBankingForm ng-if=!info.processing_business_banking novalidate ng-submit=info.businessUpdateBanking() class=form-horizontal><div class=form-group><label class="control-label col-md-4">Account Name</label><div class=col-md-8><input type=text class="input-large form-control" name=banking_name placeholder=Name ng-model=info.business_banking.name_on_acct ng-fade required><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.businessBankingForm.banking_name.$error.required && (info.businessBankingForm.banking_name.$faded || info.businessBankingForm.$submitted)" role=alert>The Account Name is required.</div></div></div><div class=form-group><label class="control-label col-md-4">Routing Number</label><div class=col-md-8><input type=text class="input-large form-control" name=banking_routing placeholder="000 000 000" ng-model=info.business_banking.routing ng-fade ng-required=true bank-routing-validator><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.businessBankingForm.banking_routing.$error.required && (info.businessBankingForm.banking_routing.$faded || info.businessBankingForm.$submitted)" role=alert>The Routing Number is required.</div></div></div><div class=form-group><label class="control-label col-md-4">Account Number</label><div class=col-md-8><input type=text class="input-large form-control" name=banking_number placeholder={{info.business_banking.account_TEMP_VIEW}} ng-model=info.business_banking.account_TEMP ng-fade ng-minlength=4 ng-required=true bank-account-validator><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="info.businessBankingForm.banking_number.$error.required && (info.businessBankingForm.banking_number.$faded || info.businessBankingForm.$submitted)" role=alert>The Account Number is required.</div><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="info.businessBankingForm.banking_number.$error.minlength && (info.businessBankingForm.banking_number.$faded || info.businessBankingForm.$submitted)" role=alert>The Account Number must have more than 4 digits.</div></div></div><div class=form-group><div class=col-md-4></div><div class=col-md-8><div class="alert alert-danger ng-hide alert-reg-position" ng-show=info.business_banking_error role=alert>In order to set the Business Banking info please fill and save the Business Info Address first.</div></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=business-bank-udpated-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=info.business_banking_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.INFO.CONFIGUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=business-bank-submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div></div>'),a.put("modules/merchant/merchant-list/merchant-list.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</h4><button id=create-merchant-popup-button class="btn btn-primary" ng-click=merchant.createMerchant()>{{ \'MERCHANT.CREATE.CREATE\' | translate }}</button></div></div></div><div class=row><div class=col-md-6 ng-if=!merchant.isUserOperator()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.LIST.FILTER\' | translate }}</h3></div><div class=panel-body><form name=merchant.search_form novalidate ng-submit=merchant.merchantSearch()><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box><input type=text class="form-control input-large" id=merchant-search-text name=search_text placeholder="" ng-model=merchant.search_text></div><button id=merchant-search-button class="btn-default btn m-l-10">{{ \'MERCHANT.LIST.SEARCH\' | translate }}</button></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(merchant.search_form.search_text.$error.required && merchant.search_form.search_text.$touched) ||\n                                 (merchant.search_form.search_text.$error.required && merchant.search_form.$submitted)" role=alert>{{ \'MERCHANT.LIST.TYPEATLEAST\' | translate }}</div><label class="m-l-2 m-t-5"><input class=m-r-5 type=checkbox name=active_search ng-model=merchant.active_only> Active Only</label></div></form><div ng-show="merchant.usersService.hasPermission(\'merchant_alpha_search\')"><label>{{ \'MERCHANT.LIST.FILTERLETTER\' | translate }}</label><div class=alphabet><span ng-class="merchant.currentLetter(\'A\')" ng-click="merchant.merchantLetter(\'A\')">A</span> <span ng-class="merchant.currentLetter(\'B\')" ng-click="merchant.merchantLetter(\'B\')">B</span> <span ng-class="merchant.currentLetter(\'C\')" ng-click="merchant.merchantLetter(\'C\')">C</span> <span ng-class="merchant.currentLetter(\'D\')" ng-click="merchant.merchantLetter(\'D\')">D</span> <span ng-class="merchant.currentLetter(\'E\')" ng-click="merchant.merchantLetter(\'E\')">E</span> <span ng-class="merchant.currentLetter(\'F\')" ng-click="merchant.merchantLetter(\'F\')">F</span> <span ng-class="merchant.currentLetter(\'G\')" ng-click="merchant.merchantLetter(\'G\')">G</span> <span ng-class="merchant.currentLetter(\'H\')" ng-click="merchant.merchantLetter(\'H\')">H</span> <span ng-class="merchant.currentLetter(\'I\')" ng-click="merchant.merchantLetter(\'I\')">I</span> <span ng-class="merchant.currentLetter(\'J\')" ng-click="merchant.merchantLetter(\'J\')">J</span> <span ng-class="merchant.currentLetter(\'K\')" ng-click="merchant.merchantLetter(\'K\')">K</span> <span ng-class="merchant.currentLetter(\'L\')" ng-click="merchant.merchantLetter(\'L\')">L</span> <span ng-class="merchant.currentLetter(\'M\')" ng-click="merchant.merchantLetter(\'M\')">M</span> <span ng-class="merchant.currentLetter(\'N\')" ng-click="merchant.merchantLetter(\'N\')">N</span> <span ng-class="merchant.currentLetter(\'O\')" ng-click="merchant.merchantLetter(\'O\')">O</span> <span ng-class="merchant.currentLetter(\'P\')" ng-click="merchant.merchantLetter(\'P\')">P</span> <span ng-class="merchant.currentLetter(\'Q\')" ng-click="merchant.merchantLetter(\'Q\')">Q</span> <span ng-class="merchant.currentLetter(\'R\')" ng-click="merchant.merchantLetter(\'R\')">R</span> <span ng-class="merchant.currentLetter(\'S\')" ng-click="merchant.merchantLetter(\'S\')">S</span> <span ng-class="merchant.currentLetter(\'T\')" ng-click="merchant.merchantLetter(\'T\')">T</span> <span ng-class="merchant.currentLetter(\'U\')" ng-click="merchant.merchantLetter(\'U\')">U</span> <span ng-class="merchant.currentLetter(\'V\')" ng-click="merchant.merchantLetter(\'V\')">V</span> <span ng-class="merchant.currentLetter(\'W\')" ng-click="merchant.merchantLetter(\'W\')">W</span> <span ng-class="merchant.currentLetter(\'X\')" ng-click="merchant.merchantLetter(\'X\')">X</span> <span ng-class="merchant.currentLetter(\'Y\')" ng-click="merchant.merchantLetter(\'Y\')">Y</span> <span ng-class="merchant.currentLetter(\'Z\')" ng-click="merchant.merchantLetter(\'Z\')">Z</span></div></div></div></div></div><div class=col-md-6 ng-class=merchant.hasSearchResult() ng-hide=merchant.isUserOperator()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.LIST.RECENTLYVISITED\' | translate }}</h3></div><div class="panel-body recently-visited-container"><div class="panel panel-body row-table" ng-repeat="recent_merchant in merchant.recently_visited_merchants" ng-click=merchant.viewMerchant(recent_merchant)><div><h5 class=bold>{{recent_merchant.merchant_id}} - {{recent_merchant.name}}</h5></div><div>{{recent_merchant.address1}}<br>{{recent_merchant.address2}}<br>{{merchant.formatPhone(recent_merchant.phone_no)}}</div></div><div ng-show="merchant.recently_visited_merchants.length %2 == 1" class=fake-div></div><div ng-show="merchant.recently_visited_merchants.length == 1" class=fix-div-1></div><div ng-show="merchant.recently_visited_merchants.length >= 4" class=fake-div></div><div ng-show="merchant.recently_visited_merchants.length >= 4" class=fake-div></div><div ng-show="merchant.recently_visited_merchants.length == 5"></div><div ng-show="merchant.recently_visited_merchants.length == 5"></div><div ng-show="merchant.recently_visited_merchants.length == 5"></div></div></div></div><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading flex-init flex-justify-content-space-between"><h3 class=panel-title>{{merchant.isUserOperator()?\'Merchants\': \'Search Results\'}}</h3><h3 class=panel-title ng-if=!!merchant.Merchant.merchantPaginator.current_page>Page Number: {{merchant.Merchant.merchantPaginator.current_page}}</h3></div><div class=panel-body><div id=Merchant-Filter><paginated-table container-id="\'merchant-search-results-table\'" field-names=merchant.fieldNames params=merchant.searchParams click-event=merchant.viewMerchant endpoint-string="\'/merchant_search_paginated\'"><content-responsive><div class="panel panel-body row-table" ng-click=merchant.viewMerchant($parent.item)><div class=name><h5 class=dark-grey><b>{{$parent.item.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">{{ \'MESSAGE.SHARE.MERCHANTID\' | translate }} <span class=id-number>{{$parent.item.merchant_id}}</span></h5></div><div class=description><div class=clear><b>{{ \'MESSAGE.SHARE.DISPLAYNAME\' | translate }}:</b> {{$parent.item.display_name}}</div><div class="clear merchant-address">{{$parent.item.address1}}</div><div><b>{{ \'MERCHANT.LIST.PHONEDOTS\' | translate }}</b> {{$parent.item.phone_no}}</div></div></div></content-responsive></paginated-table></div></div></div></div></div>'),a.put("modules/merchant/merchant-nav-bar/merchant-nav-bar.html",'<div class=merchant-nav-bar-container ng-controller=MerchantNavBarCtrl><div class=merchant-progress-bar-box ng-show=showMerchant()><div class=title>{{merchant.merchant_id}} - {{merchant.name}}</div><div><div class="progress progress-lg"><div class="progress-bar progress-bar-warning" role=progressbar aria-valuenow=96 aria-valuemin=0 aria-valuemax=100 ng-style="{width: percent_complete+\'%\'}">{{percent_complete}}</div></div></div></div><button type=button ng-disabled="" class="btn btn-success pull-right" ng-show="users.hasPermission(\'op_merch_select\')" ng-click=selectOperatorMerchant()>Change Location</button></div><merchant-operator-selector close-merchant-select=setMenuMerchant(merchant)></merchant-operator-selector>'),a.put("modules/merchant/merchant-order-send/merchant-order-send.html",'<div class=row><div class=col-md-12><div class="panel panel-primary merchant-bg"><div class=panel-heading><h3 class=panel-title>{{ \'MESSAGE.SHARE.ORDERINFO\' | translate }}</h3></div><div class=panel-body><form name=merchant_info_form novalidate ng-submit=updateSendOrder()><table class=table><thead><tr><th>{{ \'MESSAGE.SHARE.FORMAT\' | translate }}</th><th>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</th><th>{{ \'MESSAGE.SHARE.DELAY\' | translate }}</th><th>{{ \'MESSAGE.SHARE.TEXT\' | translate }}</th><th>{{ \'MESSAGE.SHARE.INFO\' | translate }}</th><th>{{ \'MESSAGE.SHARE.TYPE\' | translate }}</th><th>Active</th><th></th><th></th></tr></thead><tbody><tr ng-repeat="send_order in send_orders"><td>{{shortenBackend(send_order.message_format_value)}}</td><td>{{send_order.delivery_addr}}</td><td>{{send_order.delay}}</td><td>{{send_order.message_text}}</td><td>{{send_order.info}}</td><td>{{send_order.message_type_value}}</td><td>{{send_order.message_type_value}}</td><td class=edit-icon><i class="fa fa-pencil-square-o" aria-hidden=true data-toggle=modal data-target=#edit-send-order-modal ng-click="updateOrderReceivingDialog(send_order, $index)"></i></td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true data-toggle=modal data-target=#delete-send-order-modal ng-click="deleteSendOrderDialog(send_order, $index)"></i></td></tr></tbody></table><div class="alert alert-success alert-reg-position form-submit-success" ng-show=send_order_update_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> The order receiving record <strong>{{edit_send_order.message_text}}</strong> has been updated!</div><div class="alert alert-success alert-reg-position form-submit-success" ng-show=update_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MESSAGE.SHARE.SENDORDERSAVED\' | translate }}</div><button type=button ng-disabled class="btn btn-default pull-right btn-info" data-toggle=modal data-target=#add-send-order-modal><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.SEND.CREATEORDER\' | translate }}</button></form></div></div></div></div><div id=add-send-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>{{ \'MESSAGE.SHARE.CREATEORDER\' | translate }}</h4></div><form name=ordering.new_send_order_form novalidate ng-submit=ordering.createSendOrder()><div class=modal-body><label>{{ \'MESSAGE.SHARE.FORMAT\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_format class=form-control ng-required=true ng-model=ordering.new_send_order.message_format ng-options="message_format.type_id_value as message_format.type_id_name for message_format in lookup.message_formats"><option class=placeholder-color value="" selected disabled>{{ \'MESSAGE.SHARE.SELECT\' | translate }}</option></select></div><label>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</label><input type=text name=delivery_addr class="form-control input-med" placeholder="Enter Email" ng-model=ordering.new_send_order.delivery_addr><label>{{ \'MESSAGE.SHARE.DELAY\' | translate }}</label><input type=text class="form-control input-med" name=delay placeholder="Enter Seconds" ng-model=ordering.new_send_order.delay><label>{{ \'MESSAGE.SHARE.MESSAGETEXT\' | translate }}</label><textarea class=form-control rows=3 name=message_text ng-model=ordering.new_send_order.message_text ng-required=true></textarea><div class="alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.message_text.$error.required && (ordering.new_send_order_form.message_text.$faded || ordering.new_send_order.submit)" role=alert>{{ \'MERCHANT.SEND.MESSAGEREQUIRED\' | translate }}</div><label>{{ \'MESSAGE.SHARE.INFO\' | translate }}</label><input type=text class="form-control input-med" name=info ng-model=ordering.new_send_order.info><label>{{ \'MESSAGE.SHARE.MESSAGETYPE\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_type class=form-control ng-required=true ng-model=ordering.new_send_order.message_type ng-options="message_type.type_id_value as message_type.type_id_name for message_type in lookup.message_types"><option class=placeholder-color value="" selected disabled>Select</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.message_type.$error.required && (ordering.new_send_order_form.message_type.$faded || ordering.new_send_order.submit)" role=alert>{{ \'MESSAGE.SHARE.MESSAGETYPEREQUIRED\' | translate }}</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info" ng-click=ordering.createSendOrder()>{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=delete-send-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MESSAGE.SHARE.DELETEORDER\' | translate }}</h4></div><div class=modal-body>Are you sure you want to remove the order receiving record for <strong>{{delete_send_order_desc}}</strong>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=confirmDeleteSendOrder()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div><div id=edit-send-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MESSAGE.SHARE.EDITORDER\' | translate }}</h4></div><form name=edit_send_order_form novalidate ng-submit=updateOrderReceiving()><div class=modal-body><label>{{ \'MESSAGE.SHARE.FORMAT\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_format class=form-control ng-required=true ng-model=edit_send_order.message_format ng-options="message_format.type_id_value as message_format.type_id_name for message_format in lookup.message_formats"><option class=placeholder-color value="" selected disabled>{{ \'MESSAGE.SHARE.SELECT\' | translate }}</option></select></div><label>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</label><input type=text name=delivery_addr class="form-control input-med" placeholder="Enter Email" ng-model=edit_send_order.delivery_addr><label>{{ \'MESSAGE.SHARE.DELAY\' | translate }}</label><input type=text class="form-control input-med" name=delay placeholder="Enter Seconds" ng-model=edit_send_order.delay><label>{{ \'MESSAGE.SHARE.MESSAGETEXT\' | translate }}</label><textarea class=form-control rows=3 name=message_text ng-model=edit_send_order.message_text ng-required=true></textarea><div class="alert alert-danger ng-hide alert-reg-position" ng-show="edit_send_order_form.message_text.$error.required && (edit_send_order_form.message_text.$faded || edit_send_order.submit)" role=alert>{{ \'MERCHANT.SEND.MESSAGEREQUIRED\' | translate }}</div><label>{{ \'MESSAGE.SHARE.INFO\' | translate }}</label><input type=text class="form-control input-med" name=info ng-model=edit_send_order.info><label>{{ \'MESSAGE.SHARE.MESSAGETYPE\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_type class=form-control ng-required=true ng-model=edit_send_order.message_type ng-options="message_type.type_id_value as message_type.type_id_name for message_type in lookup.message_types"><option class=placeholder-color value="" selected disabled>Select</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="edit_send_order_form.message_type.$error.required && (edit_send_order_form.message_type.$faded || edit_send_order.submit)" role=alert>{{ \'MESSAGE.SHARE.MESSAGETYPEREQUIRED\' | translate }}</div><label>Active/Inactive</label><toggle-switch class="toggle-switch-margin6 delivery-hour-closed-toggle" name=logical_delete on-label=Active off-label=Inactive ng-model=edit_send_order.logical_delete></toggle-switch></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div>'),
a.put("modules/merchant/merchant-ordering-on-off/merchant-ordering-on-off.html",'<div class=row><div class=col-sm-12><div class="page-header-title creative-bg"><h4 class=page-title>Ordering and Delivery On/Off</h4></div></div></div><div class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Ordering Status</h3></div><div class="panel-body form-horizontal"><div class=form-group><label class="col-md-3 control-label">Ordering</label><div class=col-md-9><toggle-switch name=ordering_on ng-change=op_on_off.changeOrderingOnConfirm() ng-model=op_on_off.ordering_on></toggle-switch></div></div><div class=form-group><label class="col-md-3 control-label">Delivery</label><div class=col-md-9><toggle-switch name=delivery ng-change=op_on_off.changeDeliveryConfirm() ng-model=op_on_off.delivery></toggle-switch></div></div></div></div></div></div>'),a.put("modules/merchant/merchant-ordering/merchant-ordering.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>{{ \'MERCHANT.ORDERING.ORDERING\' | translate }}</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/ordering>{{ \'MERCHANT.ORDERING.ORDERING\' | translate }}</a></li></ol></div></div></div><div class=button-select ng-if=ordering.loading><div class=filter-loader-contain><div class=filter-loader></div></div></div><div ng-if=!ordering.loading><div class="panel panel-primary"><div class="panel-heading-with-tooltip flex-justify-content-space-between flex-align-items-center" style="height: 45px"><div class=flex-init><div class=panel-heading><h3 class=panel-title>Menu configuration</h3></div><div class="panel-heading-tooltip-right hide-on-mobile"><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.MENU_CONFIGURATION\' | translate }}</span></i></h4></div></div><div class=m-r-10><button class="btn btn-soft-blue pull-right" data-toggle=modal ng-click=ordering.loadModalData();>Select Menu</button></div></div><div class="panel-body p-t-15"><h5 class=pre-load-text ng-show="ordering.lookup.menus.length == 0">Menu Not Selected.</h5><table class="table m-b-clear content-table" ng-show="ordering.lookup.menus.length > 0"><thead><tr><th>Menu ID</th><th>Name</th><th>Description</th><th>Type</th></tr></thead><tbody><tr ng-repeat="menu in ordering.lookup.menus"><td>{{menu.menu_id}}</td><td>{{menu.name}}</td><td>{{menu.description}}</td><td class=text-capitalize>{{menu.pivot.merchant_menu_type}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="menu in ordering.lookup.menus"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>Menu ID: {{menu.menu_id}}</b></h5></div><div class="description clear"><div>Name{{menu.name}}</div><div class=text-capitalize>{{menu.pivot.merchant_menu_type}}</div><div>{{menu.description}}</div></div></div></div></div></div></div><div class="panel panel-primary"><div class="panel-heading-with-tooltip flex-justify-content-space-between flex-align-items-center" style="height: 45px"><div class=flex-init><div class=panel-heading><h3 class=panel-title>Site Association</h3></div><div class="panel-heading-tooltip-right hide-on-mobile"><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.SIDE_ASSOCIATION\' | translate }}</span></i></h4></div></div><div class=m-r-10><button class="btn btn-soft-blue pull-right" data-toggle=modal data-target=#{{ordering.skinSelector}} ng-click="">Choose site</button></div></div><div class="panel-body p-t-15"><h5 class=pre-load-text ng-show="!!ordering.lookup.skins && ordering.lookup.skins.length == 0">Site Not Selected.</h5><table class="table m-b-clear" ng-show="ordering.lookup.skins.length > 0"><thead><tr><th>Skin ID</th><th>Name</th><th>Public Client ID</th><th>Description</th></tr></thead><tbody><tr ng-repeat="skin in ordering.lookup.skins"><td>{{skin.skin_id}}</td><td>{{skin.skin_name}}</td><td>{{skin.public_client_id}}</td><td>{{skin.skin_description}}</td></tr></tbody></table></div></div><div class="panel panel-primary"><div class="panel-heading-with-tooltip flex-justify-content-space-between flex-align-items-center" style="height: 45px"><div class=flex-init><div class=panel-heading><h3 class=panel-title>Lead Times Configuration</h3></div><div class="panel-heading-tooltip-right hide-on-mobile"><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.LEAD_TIMES_CONFIGURATION\' | translate }}</span></i></h4></div></div><div class=m-r-10><button class="btn btn-soft-blue" data-toggle=modal ng-click=ordering.newLeadTime()>Add Lead Time</button></div></div><div class="panel-body p-t-15"><div class=row><div class=col-md-6><label class=pre-load-text>Pickup Custom Lead Times</label><h5 class=pre-load-text ng-show="ordering.lead_time.pickup.length == 0">Custom Pickup Lead Times Not Configured.</h5><table class="table m-b-clear table-hover" ng-show="ordering.lead_time.pickup.length > 0"><thead><tr><th>Day of week</th><th>Start Time</th><th>End Time</th><th>Lead Time</th><th></th></tr></thead><tbody><tr ng-repeat="leadTime in ordering.lead_time.pickup" ng-click=ordering.editLeadTime(leadTime) data-toggle=modal data-target=#{{ordering.leadTimeModal}}><td>{{leadTime.day_of_week | numberToDayOfWeek}}</td><td>{{leadTime.start_time | stringTimeToDate | date : \'hh:mm a\'}}</td><td>{{leadTime.end_time | stringTimeToDate | date : \'hh:mm a\'}}</td><td>{{leadTime.lead_time}}</td><td class=delete-icon style="padding: 0px; width: 50px" ng-click="ordering.deleteLeadTime(leadTime); $event.stopPropagation()"><i class="fa fa-times" aria-hidden=true></i></td></tr></tbody></table></div><div class=col-md-6><label class=pre-load-text>Delivery Custom Lead Times</label><h5 class=pre-load-text ng-show="ordering.lead_time.delivery.length == 0">Custom Delivery Lead Times Not Configured.</h5><table class="table m-b-clear table-hover" ng-show="ordering.lead_time.delivery.length > 0"><thead><tr><th>Day of week</th><th>Start Time</th><th>End Time</th><th>Lead Time</th><th></th></tr></thead><tbody><tr ng-repeat="leadTime in ordering.lead_time.delivery" ng-click=ordering.editLeadTime(leadTime) data-toggle=modal data-target=#{{ordering.leadTimeModal}}><td>{{leadTime.day_of_week | numberToDayOfWeek}}</td><td>{{leadTime.start_time | stringTimeToDate | date : \'hh:mm a\'}}</td><td>{{leadTime.end_time | stringTimeToDate | date : \'hh:mm a\'}}</td><td>{{leadTime.lead_time}}</td><td class=delete-icon style="padding: 0px; width: 50px" ng-click="ordering.deleteLeadTime(leadTime); $event.stopPropagation()"><i class="fa fa-times" aria-hidden=true></i></td></tr></tbody></table></div><div class="m-l-5 col-md-12 alert-danger" ng-show=!!ordering.lead_time.error role=alert>{{ordering.lead_time.error}}</div></div></div></div><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MESSAGE.SHARE.ORDERINFO\' | translate }}</h3></div><div class="panel-heading-tooltip-right hide-on-mobile"><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.ORDER_RECEIVING_INFO\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><form name=merchant_info_form class=ordering novalidate ng-submit=updateSendOrder()><div class=m-b-15><table id=table-fix class="table table-hover content-table"><thead><tr><th>{{ \'MESSAGE.SHARE.FORMAT\' | translate }}</th><th>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</th><th>{{ \'MESSAGE.SHARE.DELAY\' | translate }}</th><th>{{ \'MESSAGE.SHARE.TEXT\' | translate }}</th><th>{{ \'MESSAGE.SHARE.INFO\' | translate }}</th><th>{{ \'MESSAGE.SHARE.TYPE\' | translate }}</th><th>Active</th><th width=40px></th></tr></thead><tbody><tr ng-repeat="send_order in ordering.send_orders" data-toggle=modal data-target=#edit-send-order-modal tooltip-placement=bottom uib-tooltip="Click to Edit" ng-click="ordering.updateOrderReceivingDialog(send_order, $index)"><td>{{send_order.message_format_value}}</td><td><div class=text-wrap-word-break>{{send_order.delivery_addr}}</div></td><td>{{send_order.delay}}</td><td><div class=text-wrap-word-break>{{send_order.message_text}}</div></td><td><div class=text-wrap-word-break>{{send_order.info}}</div></td><td>{{send_order.message_type_value}}</td><td><span ng-show=send_order.logical_delete>Active</span> <span ng-show=!send_order.logical_delete>Inactive</span></td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true data-toggle=modal data-target=#delete-send-order-modal ng-click="ordering.deleteSendOrderDialog(send_order, $index,$event)"></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="send_order in ordering.send_orders" aria-hidden=true data-toggle=modal data-target=#edit-send-order-modal ng-click="ordering.updateOrderReceivingDialog(send_order, $index)"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{send_order.message_format_value}}</b></h5></div><div class="description clear"><div>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}: {{send_order.delivery_addr}}, Deplay: {{send_order.delay}}</div><div>{{ \'MESSAGE.SHARE.TEXT\' | translate }}: {{send_order.message_text}}</div><div>{{ \'MESSAGE.SHARE.INFO\' | translate }}: {{send_order.info}}</div><div class=last-row-container-with-delete-icon><div><div>{{ \'MESSAGE.SHARE.TYPE\' | translate }}: {{send_order.message_type_value}}</div></div><div class="fa fa-times delete-icon-small-screen" aria-hidden=true data-toggle=modal data-target=#delete-send-order-modal ng-click="ordering.deleteSendOrderDialog(send_order, $index, $event)"></div></div></div></div></div></div></div><div class="alert alert-success alert-reg-position form-submit-success" ng-show=send_order_update_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> The order receiving record <strong>{{edit_send_order.message_text}}</strong> {{ \'MESSAGE.SHARE.UPDATED\' | translate }}</div><div class="alert alert-success alert-reg-position form-submit-success" ng-show=update_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MESSAGE.SHARE.SENDORDERSAVED\' | translate }}</div><button type=button ng-disabled class="btn btn-default pull-right btn-soft-blue" data-toggle=modal ng-click="$event.stopPropagation(); ordering.clickAddSendOrder();"><i class="fa fa-plus" aria-hidden=true></i> {{ \'MESSAGE.SHARE.ADDNEW\' | translate }}</button></form></div></div><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MESSAGE.SHARE.CALL_IN_HISTORY\' | translate }}</h3></div><div class="panel-heading-tooltip-right hide-on-mobile"><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.CALL_IN_HISTORY\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><div ng-if=!!!ordering.call_in_history.last_call_in_date><h4 class=pre-load-text>You have no devices with call-in capability.</h4></div><div ng-if=!!ordering.call_in_history.last_call_in_date><h4>Last Call In: {{ordering.call_in_history.readable_format}}.</h4><h4 ng-if="ordering.call_in_history.auto_turned_off === 1">This device was automatically turned off due to loss of connection.</h4></div></div></div><div id=ordering-leadtime class=row><div class="col-md-12 col-lg-4"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.ORDERING.SETTINGS\' | translate }}</h3></div><div class=panel-body><form name=ordering.order_settings_form class=ordering novalidate ng-submit=ordering.updateOrderSettings()><div class=form-group><label class=control-label>{{ \'MERCHANT.ORDERING.GROUPORDERING\' | translate }}</label><div class=m-t-5><toggle-switch name=group_ordering_on ng-model=ordering.order_settings.group_ordering_on></toggle-switch></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.ORDERING.TIPMIN\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.ORDER_SETTING.TIP_MIN\' | translate }}</span></i></label><div class=m-t-5><input type=number class="input-med form-control" name=tip_minimum_percentage placeholder="% Enter Min" ng-model=ordering.order_settings.tip_minimum_percentage ng-fade ng-min=0 value=0 ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position input-med" ng-show="(ordering.order_settings_form.tip_minimum_percentage.$error.number || ordering.order_settings_form.tip_minimum_percentage.$error.min\n                                 || ordering.order_settings_form.tip_minimum_percentage.$error.required)\n                                 && (ordering.order_settings_form.tip_minimum_percentage.$faded || ordering.order_settings.submit)" role=alert>{{ \'MERCHANT.ORDERING.TIPMINPOSITIVE\' | translate }}</div></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.ORDERING.TIPMINTRIGGER\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.ORDER_SETTING.TIP_MIN_TRIGGER\' | translate }}</span></i></label><div class=m-t-5><input type=number class="input-med form-control" name=tip_minimum_trigger_amount step=0.01 ng-required=true ng-model=ordering.order_settings.tip_minimum_trigger_amount ng-fade ng-min=0 placeholder="$ Enter Min" value=0.00><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="(ordering.order_settings_form.tip_minimum_trigger_amount.$error.number || ordering.order_settings_form.tip_minimum_trigger_amount.$error.min\n                                 || ordering.order_settings_form.tip_minimum_trigger_amount.$error.required)\n                                 && (ordering.order_settings_form.tip_minimum_trigger_amount.$faded || ordering.order_settings.submit)" role=alert>{{ \'MERCHANT.ORDERING.TIPMINTRIGGERPOSITIVE\' | translate }}</div></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.ORDERING.ADVANCEDORDERING\' | translate }}</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.ORDER_SETTING.ADVANCED_ORDERING\' | translate }}</span></i></label></div><div class=m-t-5><toggle-switch name=advanced_ordering ng-model=ordering.order_settings.advanced_ordering></toggle-switch></div></div><div class=form-group><label class=control-label>{{ \'MERCHANT.ORDERING.DAYSADVANCE\' | translate }}</label><div class=m-t-5><input type=number class="input-med form-control" name=number_of_days_advance ng-required=ordering.order_settings.advanced_ordering ng-model=ordering.order_settings.number_of_days_advance ng-fade ng-min=0 placeholder="Enter # of Days"><div class="alert alert-danger ng-hide alert-reg-position input-med" ng-show="(ordering.order_settings_form.number_of_days_advance.$error.number || ordering.order_settings_form.number_of_days_advance.$error.min\n                                 || ordering.order_settings_form.number_of_days_advance.$error.required)\n                                 && (ordering.order_settings_form.number_of_days_advance.$faded || ordering.order_settings.submit)" role=alert>{{ \'MERCHANT.ORDERING.NUMBERDAYS\' | translate }}</div></div></div><div class=form-group ng-show=ordering.order_settings.dine_in_option_show><label class=control-label>Allow Dine In Option</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>Use if you want to allow a user to dine in store rather than carry out.</span></i></label></div><div class=m-t-5><toggle-switch name=dine_in_option ng-model=ordering.order_settings.dine_in_option></toggle-switch></div></div><div class=form-group ng-show=ordering.order_settings.dine_in_option_show><label class=control-label>Allow Curbside Pickup</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>Use if you want to give customers the option to pick their order up curbside.</span></i></label></div><div class=m-t-5><toggle-switch name=allows_curbside_pickup ng-model=ordering.order_settings.allows_curbside_pickup></toggle-switch></div></div><div ng-show=ordering.order_settings.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=ordering.order_settings.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.ORDERING.SETTINGSUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div><div class="col-md-5 col-lg-4"><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.ORDERING.TIMEREQUIRED\' | translate }}</h3></div><div class="panel-heading-tooltip-right hide-on-mobile"><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.PREP_TIME\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><form name=ordering.prep_time_form class=ordering novalidate ng-submit=ordering.updatePrepTime()><div class=form-group><label class=control-label>{{ \'MERCHANT.ORDERING.SECONDENTREE\' | translate }}</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.PREP_TIME.SECONDS_PER_ENTREE\' | translate }}</span></i></label></div><div class=m-t-5><input type=number class="input-med form-control" name=entree_preptime_seconds placeholder="Enter Seconds" ng-model=ordering.prep_time.entree_preptime_seconds ng-required=true ng-fade ng-min=0><div class="input-med alert alert-danger ng-hide alert-reg-position input-med" ng-show="(ordering.prep_time_form.entree_preptime_seconds.$error.required || ordering.prep_time_form.entree_preptime_seconds.$error.number\n                                 || ordering.prep_time_form.entree_preptime_seconds.$error.min)\n                                && (ordering.prep_time_form.entree_preptime_seconds.$faded || ordering.prep_time.submit)" role=alert>{{ \'MERCHANT.ORDERING.SECONDENTREEREQUIRED\' | translate }}</div></div></div><div class=form-group><label class=control-label style="margin-bottom: 0px">{{ \'MERCHANT.ORDERING.CAPABILITY\' | translate }}</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.PREP_TIME.CONCURRENT_ORDER_CAPABILITY\' | translate }}</span></i></label></div><div class=m-t-5><input type=number class="input-med form-control" name=concurrently_able_to_make ng-model=ordering.prep_time.concurrently_able_to_make ng-required=true ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position input-med" ng-show="(ordering.prep_time_form.concurrently_able_to_make.$error.required || ordering.prep_time_form.concurrently_able_to_make.$error.number)\n                                    && (ordering.prep_time_form.concurrently_able_to_make.$faded || ordering.prep_time.submit)" role=alert>{{ \'MERCHANT.ORDERING.CONCURRENTNUMERIC\' | translate }}</div></div></div><div ng-show=ordering.prep_time.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=ordering.prep_time.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.ORDERING.PRETIMEUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button class="btn-soft-blue btn">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div><div class="col-md-7 col-lg-4"><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.ORDERING.PAYMENT\' | translate }}</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.ORDERING.PAYMENT\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><div class=m-b-15><table class="table content-table"><thead><tr><th>{{ \'MERCHANT.ORDERING.PAYMENTTYPE\' | translate }}</th><th>{{ \'MERCHANT.ORDERING.BILLINGENTITY\' | translate }}</th><th></th></tr></thead><tbody><tr ng-repeat="payment_group in ordering.payment_groups"><td>{{payment_group.payment_type.name}}</td><td>{{payment_group.billing_entity.name}}</td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true data-toggle=modal data-target=#delete-payment_group-modal ng-click="ordering.deletePaymentGroupDialog(payment_group, $index)"></i></td></tr></tbody></table><div id=disable-hover-card class=content-responsive><div ng-repeat="payment_group in ordering.payment_groups"><div class="panel panel-body row-table"><div class=description><div class=clear><div>{{ \'MERCHANT.ORDERING.PAYMENTTYPEDOTS\' | translate }} {{payment_group.payment_type.name}}</div><div class=last-row-container-with-delete-icon><div>{{ \'MERCHANT.ORDERING.BILLINGENTITYDOTS\' | translate }} {{payment_group.billing_entity.name}}</div><div class="fa fa-times delete-icon-small-screen" aria-hidden=true data-toggle=modal data-target=#delete-payment_group-modal ng-click="ordering.deletePaymentGroupDialog(payment_group, $index)"></div></div></div></div></div></div></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=payments_form_updated_success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.ORDERING.PAYMENTSSAVED\' | translate }}</div></div><div class=flex-align-self-end><button type=button ng-disabled class="btn btn-soft-blue pull-right" data-toggle=modal data-target=#add-payment-group-modal><i class="fa fa-plus" aria-hidden=true></i> {{ \'MERCHANT.ORDERING.ADDPAYMENT\' | translate }}</button></div></div></div></div></div></div><div id=add-payment-group-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>{{ \'MERCHANT.ORDERING.PAYMENT\' | translate }}</h4></div><form name=ordering.new_payment_group_form class="ordering m-l-15 m-r-15" novalidate ng-submit=ordering.createPaymentGroup()><div class=modal-body><div class=form-group><label class=block>{{ \'MERCHANT.ORDERING.PAYMENTTYPE\' | translate }}</label><div class="select input-large"><select name=payment_type class=form-control ng-required=true ng-model=ordering.new_payment_group.payment ng-options="payment_type.type_id_value as payment_type.type_id_name for payment_type in ordering.payment_types"></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_payment_group_form.payment_type.$error.required\n                                        && (ordering.new_payment_group_form.payment_type.$faded || ordering.new_payment_group.submit)" role=alert>{{ \'MERCHANT.ORDERING.PAYMENTREQUIRED\' | translate }}</div></div><div class=form-group ng-if="ordering.new_payment_group.payment === \'2000\'"><label>{{ \'MERCHANT.ORDERING.BILLINGENTITY\' | translate }}</label><div class="select input-large"><select name=billing_entity class=form-control ng-required=true ng-model=ordering.new_payment_group.billing_entity ng-fade ng-options="billing_entity.id as billing_entity.name for billing_entity in ordering.billing_entities"></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_payment_group_form.billing_entity.$error.required\n                                        && (ordering.new_payment_group_form.billing_entity.$faded || ordering.new_payment_group_form.$submitted)" role=alert>{{ \'MERCHANT.ORDERING.BILLINGREQUIRED\' | translate }}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=delete-payment_group-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MERCHANT.ORDERING.DELETEPAYMENT\' | translate }}</h4></div><div class=modal-body>{{ \'MERCHANT.ORDERING.CONFIRMREMOVEPAYMENT\' | translate }} <strong>{{ordering.delete_payment_group.payment_type.name}}</strong> and billing entity <strong>{{ordering.delete_payment_group.billing_entity.name}}</strong>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=ordering.deletePaymentGroup()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div><div id=add-send-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MESSAGE.SHARE.CREATEORDER\' | translate }}</h4></div><form name=ordering.new_send_order_form class="ordering m-l-15 m-r-15" novalidate ng-submit="$event.stopPropagation(); ordering.createSendOrder();"><div class=modal-body><div class=form-group><label>{{ \'MESSAGE.SHARE.FORMAT\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_format class=form-control ng-required=true ng-model=ordering.new_send_order.message_format ng-fade ng-options="message_format.type_id_value as message_format.type_id_name for message_format in ordering.lookup.message_formats"><option class=placeholder-color value="" selected disabled>{{ \'MESSAGE.SHARE.SELECT\' | translate }}</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.message_format.$error.required\n                             && (ordering.new_send_order_form.message_format.$touched || ordering.new_send_order_form.$submitted)" role=alert>{{ \'MERCHANT.ORDERING.FORMATREQUIRED\' | translate }}</div></div><div class=form-group ng-if=ordering.defaultOrderReceivingType()><label>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</label><input type=text name=delivery_addr class="form-control input-med" placeholder="Enter Address" ng-init="ordering.new_send_order.delivery_addr = \'\'" ng-model=ordering.new_send_order.delivery_addr></div><div class=form-group ng-if=ordering.defaultOrderReceivingType()><label>{{ \'MESSAGE.SHARE.DELAY\' | translate }}</label><input type=number class="form-control input-med" name=delay placeholder="Enter Seconds" ng-init="ordering.new_send_order.delay = 0" ng-model=ordering.new_send_order.delay></div><div ng-if="ordering.new_send_order.message_format === \'V\'"><div class=form-group><label>Vivonet Store ID</label><input type=text name=vivonet_store_id class="form-control input-large" placeholder="Enter Vivonet Store ID" ng-model=ordering.new_send_order.vivonet.store_id ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_store_id.$error.required &&\n                                     (ordering.new_send_order_form.vivonet_store_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet Store ID is required.</div></div><div class=form-group><label>Tender ID</label><input type=number name=vivonet_tender_id class="form-control input-large" placeholder="Enter Tender ID" ng-model=ordering.new_send_order.vivonet.tender_id ng-required=true ng-pattern="/^[0-9]*$/"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_tender_id.$error.required &&\n                                     (ordering.new_send_order_form.vivonet_tender_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet Tender ID is required.</div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_tender_id.$error.pattern &&\n                                     (ordering.new_send_order_form.vivonet_tender_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet Tender ID must be number.</div></div><div class=form-group><label>API Key</label><input type=text name=vivonet_api_key class="form-control input-large" placeholder="Enter Vivonet API Key" ng-model=ordering.new_send_order.vivonet.merchant_key ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_api_key.$error.required &&\n                                     (ordering.new_send_order_form.vivonet_api_key.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet API Key is required.</div></div><div class=form-group><label>Service Tip ID</label><input type=number name=vivonet_service_tip class="form-control input-large" placeholder="Enter Vivonet Service Tip ID" ng-model=ordering.new_send_order.vivonet.service_tip_id ng-pattern="/^[0-9]*$/"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_service_tip.$error.pattern &&\n                                     (ordering.new_send_order_form.vivonet_service_tip.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet Service Tip ID must be number.</div></div><div class=form-group><label>Charge ID</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class="tool-tip-text ng-binding">{{\'MERCHANT.TOOLTIP.ORDERING.VIVONET.CHARGE_ID\' | translate}}</span></i></label></div><input type=number name=vivonet_promo_charge_id class="form-control input-large" placeholder="Enter Vivonet Charge ID" ng-model=ordering.new_send_order.vivonet.promo_charge_id ng-pattern="/^[0-9]*$/"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_promo_charge_id.$error.pattern &&\n                                     (ordering.new_send_order_form.vivonet_promo_charge_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet Charge ID must be number.</div></div><div class=form-group><label>Alternate URL</label><input type=text class="form-control input-large" name=alternate_url ng-model=ordering.new_send_order.vivonet.alternate_url placeholder="For testing and other purposes"></div></div><div ng-if="ordering.new_send_order.message_format === \'F\'"><div class=form-group><label>Vivonet Store ID</label><input type=text name=vivonet_store_id class="form-control input-large" placeholder="Enter Vivonet Store ID" ng-model=ordering.new_send_order.vivonet.store_id ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.vivonet_store_id.$error.required &&\n                                     (ordering.new_send_order_form.vivonet_store_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Vivonet Store ID is required.</div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Get Menu</label><div class="col-md-9 col-lg-9 m-t-5"><toggle-switch name=foundry_get_menu ng-model=ordering.new_send_order.foundry.get_menu></toggle-switch></div></div></div><div ng-if="ordering.new_send_order.message_format === \'B\' || ordering.new_send_order.message_format === \'BO\'"><div class=form-group><label>Brinks Location</label><input type=text name=task_retail_location class="form-control input-large" placeholder="Enter Brink Location Token" ng-model=ordering.new_send_order.brink.brink_location_token ng-required="ordering.new_send_order.message_format === \'B\' || ordering.new_send_order.message_format === \'BO\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.brink_location_token.$error.required &&\n                                     (ordering.new_send_order_form.brink_location_token.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Brinks Location Token is required.</div></div></div><div ng-if="ordering.new_send_order.message_format === \'A\'"><div class=form-group><label>Location</label><input type=text name=task_retail_location class="form-control input-large" placeholder="Enter Location" ng-model=ordering.new_send_order.task_retail.location ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_location.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_location.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail Location is required.</div></div><div class=form-group><label>Payment ID</label><input type=text name=task_retail_payment_id class="form-control input-large" placeholder="Enter Payment ID" ng-model=ordering.new_send_order.task_retail.payment_id ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_payment_id.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_payment_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail Payment ID is required.</div></div><div class=form-group><label>Media ID</label><input type=text name=task_retail_media_id class="form-control input-large" placeholder="Enter Media ID" ng-model=ordering.new_send_order.task_retail.media_id ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_media_id.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_media_id.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail Media ID is required.</div></div><div class=form-group><label>Task Retail URL</label><input type=text name=task_retail_url class="form-control input-large" placeholder="Enter Task Retail URL" ng-model=ordering.new_send_order.task_retail.task_retail_url ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_url.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_url.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail URL is required.</div></div><div class=form-group><label>Task Retail Auth URL</label><input type=text name=task_retail_auth_url class="form-control input-large" placeholder="Enter Task Retail Auth URL" ng-model=ordering.new_send_order.task_retail.task_retail_auth_url ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_auth_url.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_auth_url.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail Auth URL is required.</div></div><div class=form-group><label>Task Retail Username</label><input type=text name=task_retail_username class="form-control input-large" placeholder="Enter Task Retail Username" ng-model=ordering.new_send_order.task_retail.task_retail_username ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_username.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_username.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail Username is required.</div></div><div class=form-group><label>Task Retail Password</label><input type=text name=task_retail_password class="form-control input-large" placeholder="Enter Task Retail Password" ng-model=ordering.new_send_order.task_retail.task_retail_password ng-required="ordering.new_send_order.message_format == \'A\'"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.task_retail_password.$error.required &&\n                                     (ordering.new_send_order_form.task_retail_password.$touched || ordering.new_send_order_form.$submitted)" role=alert>The Task Retail Password is required.</div></div></div><div class=form-group ng-if=ordering.defaultOrderReceivingType()><label>{{ \'MESSAGE.SHARE.MESSAGETEXT\' | translate }}</label><textarea class=form-control rows=3 name=message_text ng-model=ordering.new_send_order.message_text></textarea></div><div class=form-group ng-if=ordering.defaultOrderReceivingType()><label>{{ \'MESSAGE.SHARE.INFO\' | translate }}</label><input type=text class="form-control input-med" name=info ng-model=ordering.new_send_order.info></div><div class=form-group ng-show=ordering.defaultOrderReceivingType()><label>{{ \'MESSAGE.SHARE.MESSAGETYPE\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_type class=form-control ng-required=true ng-model=ordering.new_send_order.message_type ng-init="ordering.new_send_order.message_type = \'X\'" ng-options="message_type.type_id_value as message_type.type_id_name for message_type in ordering.lookup.messages_types"><option class=placeholder-color value="" selected disabled>Select</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.new_send_order_form.message_type.$error.required && (ordering.new_send_order_form.message_type.$touched || ordering.new_send_order_form.$submitted)" role=alert>{{ \'MESSAGE.SHARE.MESSAGETYPEREQUIRED\' | translate }}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=edit-send-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MESSAGE.SHARE.EDITORDER\' | translate }}</h4></div><form name=ordering.edit_send_order_form class="ordering m-l-15 m-r-15" novalidate ng-submit="$event.stopPropagation(); ordering.updateOrderReceiving();"><div class=modal-body><div class=form-group><label>{{ \'MESSAGE.SHARE.FORMAT\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_format class=form-control ng-required=true ng-model=ordering.edit_send_order.message_format ng-options="message_format.type_id_value as message_format.type_id_name for message_format in ordering.lookup.message_formats"><option class=placeholder-color value="" selected disabled>{{ \'MESSAGE.SHARE.SELECT\' | translate }}</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.message_format.$error.required\n                             && (ordering.edit_send_order_form.message_format.$touched || ordering.edit_send_order_form.$submitted)" role=alert>{{ \'MERCHANT.ORDERING.FORMATREQUIRED\' | translate }}</div></div><div class=form-group ng-if="ordering.edit_send_order.message_format !== \'V\'"><label>{{ \'MESSAGE.SHARE.ADDRESS\' | translate }}</label><input type=text name=delivery_addr class="form-control input-med" placeholder="Enter Email" ng-model=ordering.edit_send_order.delivery_addr></div><div class=form-group ng-if="ordering.edit_send_order.message_format !== \'V\'"><label>{{ \'MESSAGE.SHARE.DELAY\' | translate }}</label><input type=text class="form-control input-med" name=delay placeholder="Enter Seconds" ng-model=ordering.edit_send_order.delay></div><div ng-if="ordering.edit_send_order.message_format === \'V\'"><div class=form-group><label>Vivonet Store ID</label><input type=text name=vivonet_store_id class="form-control input-large" placeholder="Enter Vivonet Store ID" ng-model=ordering.edit_send_order.vivonet.store_id ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.vivonet_store_id.$error.required &&\n                                     (ordering.edit_send_order_form.vivonet_store_id.$touched || ordering.edit_send_order_form.$submitted)" role=alert>The Vivonet Store ID is required.</div></div><div class=form-group><label>Tender ID</label><input type=number name=vivonet_tender_id class="form-control input-large" placeholder="Enter Tender ID" ng-model=ordering.edit_send_order.vivonet.tender_id ng-required=true ng-pattern="/^[0-9]*$/"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.vivonet_tender_id.$error.required &&\n                                     (ordering.edit_send_order_form.vivonet_tender_id.$touched || ordering.edit_send_order_form.$submitted)" role=alert>The Vivonet Tender ID is required.</div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.vivonet_tender_id.$error.pattern &&\n                                     (ordering.edit_send_order_form.vivonet_tender_id.$touched || ordering.edit_send_order_form.$submitted)" role=alert>The Vivonet Tender ID must be number.</div></div><div class=form-group><label>API Key</label><input type=text name=vivonet_api_key class="form-control input-large" placeholder="Enter Vivonet API Key" ng-model=ordering.edit_send_order.vivonet.merchant_key ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.vivonet_api_key.$error.required &&\n                                     (ordering.edit_send_order_form.vivonet_api_key.$touched || ordering.edit_send_order_form.$submitted)" role=alert>The Vivonet API Key is required.</div></div><div class=form-group><label>Service Tip ID</label><input type=number name=vivonet_service_tip class="form-control input-large" placeholder="Enter Vivonet Service Tip ID" ng-model=ordering.edit_send_order.vivonet.service_tip_id ng-pattern="/^[0-9]*$/"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.vivonet_service_tip.$error.pattern &&\n                                     (ordering.edit_send_order_form.vivonet_service_tip.$touched || ordering.edit_send_order_form.$submitted)" role=alert>The Vivonet Service Tip ID must be number.</div></div><div class=form-group><label>Charge ID</label><div class=tool-tip-fix><label><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class="tool-tip-text ng-binding">{{\'MERCHANT.TOOLTIP.ORDERING.VIVONET.CHARGE_ID\' | translate}}</span></i></label></div><input type=number name=vivonet_promo_charge_id class="form-control input-large" placeholder="Enter Vivonet Charge ID" ng-model=ordering.edit_send_order.vivonet.promo_charge_id ng-pattern="/^[0-9]*$/"><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.vivonet_promo_charge_id.$error.pattern &&\n                                     (ordering.edit_send_order_form.vivonet_promo_charge_id.$touched || ordering.edit_send_order_form.$submitted)" role=alert>The Vivonet Charge ID must be number.</div></div><div class=form-group><label>Alternate URL</label><input type=text class="form-control input-large" name=alternate_url placeholder="For testing and other purposes" ng-model=ordering.edit_send_order.vivonet.alternate_url></div></div><div class=form-group ng-if="ordering.edit_send_order.message_format !== \'V\'"><label>{{ \'MESSAGE.SHARE.MESSAGETEXT\' | translate }}</label><textarea class=form-control rows=3 name=message_text ng-model=ordering.edit_send_order.message_text></textarea></div><div class=form-group ng-if="ordering.edit_send_order.message_format !== \'V\'"><label>{{ \'MESSAGE.SHARE.INFO\' | translate }}</label><input type=text class="form-control input-med" name=info ng-model=ordering.edit_send_order.info></div><div class=form-group ng-show="ordering.edit_send_order.message_format !== \'V\'"><label>{{ \'MESSAGE.SHARE.MESSAGETYPE\' | translate }}</label><div class="select input-large margin-top-five"><select name=message_type class=form-control ng-required=true ng-model=ordering.edit_send_order.message_type ng-options="message_type.type_id_value as message_type.type_id_name for message_type in ordering.lookup.messages_types"><option class=placeholder-color value="" selected disabled>Select</option></select></div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="ordering.edit_send_order_form.message_type.$error.required && (ordering.ordering.edit_send_order_form.message_type.$touched || ordering.edit_send_order.$submitted)" role=alert>{{ \'MESSAGE.SHARE.MESSAGETYPEREQUIRED\' | translate }}</div></div><div class=form-group ng-show="ordering.edit_send_order.message_format !== \'V\'"><label>Active</label><div class="select input-large margin-top-five"><toggle-switch class="toggle-switch-margin6 delivery-hour-closed-toggle" name=logical_delete on-label=Active off-label=Inactive ng-model=ordering.edit_send_order.logical_delete></toggle-switch></div></div></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-info">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></form></div></div></div><div id=delete-send-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{ \'MESSAGE.SHARE.DELETEORDER\' | translate }}+Delete Order Receiving</h4></div><div class=modal-body>Are you sure you want to remove the order receiving record for <strong>{{ordering.delete_send_order_desc}}</strong>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>{{ \'MESSAGE.SHARE.CANCEL\' | translate }}</button> <button class="btn btn-danger" ng-click=ordering.confirmDeleteSendOrder()>{{ \'MESSAGE.SHARE.DELETE\' | translate }}</button></div></div></div></div><modal-menu-picker modal-name=ordering.menuPicker data-ng-click-right-button=ordering.changeMerchantButton() data-ng-click-left-button=ordering.closeModal() modal-selected-values=ordering.selectedMenu modal-selectable-values=ordering.selectable modal-search-function=ordering.getMenuList modal-auto-load=false></modal-menu-picker><modal-picker modal-name=ordering.skinSelector modal-header=ordering.skinSelectorTitle modal-body=ordering.skinSelectorBody modal-selected-values=ordering.skinSelected modal-maximum-selection-permitted=1 init_value_search=ordering.initSkinSearch disable_search_field=true modal-search-function=ordering.lookupSkinFunction modal-table-headers=ordering.skinTableHeaders modal-table-fields=ordering.skinTableFields data-ng-click-right-button=ordering.changeSkinButton()></modal-picker><lead-time-modal handler-name=ordering.leadTimeModal current-lead-time-selected=ordering.lead_time.current submit-button=ordering.submitLeadModal() header-title=ordering.lead_time.headerTitle form-model=ordering.lead_time_form></lead-time-modal></div>'),
a.put("modules/merchant/merchant-search/merchant-search.html","<div class=row><div class=col-sm-12><div class=\"page-header-title merchant-bg\"><h4 class=page-title>{{ 'MERCHANT.SEARCH.SEARCH' | translate }}</h4></div></div></div><div class=row><div class=col-md-12><div class=\"panel panel-primary\"><div class=panel-heading><h3 class=panel-title>{{ 'MERCHANT.SEARCH.RESULTS' | translate }}</h3></div><div class=panel-body><div class=row><div class=col-xs-12><table class=\"table table-hover\"><thead><tr><th>{{ 'MESSAGE.SHARE.MERCHANTID' | translate }}</th><th>{{ 'MESSAGE.SHARE.BUSINESSNAME' | translate }}</th><th>{{ 'MESSAGE.SHARE.ADDRESS' | translate }}</th><th>{{ 'MESSAGE.SHARE.PHONENUMBER' | translate }}</th></tr></thead><tbody><tr ng-repeat=\"merchant in search_results.search_results\" ng-click=viewMerchant(merchant)><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td><td>{{formatPhone(merchant.phone_no)}}</td></tr></tbody></table></div></div></div></div></div></div>"),a.put("modules/merchant/merchant-statements/merchant-statements.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>STATEMENTS</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/statements>Statements</a></li></ol></div></div></div><div class="statements-page row"><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Weekly Statements</h3></div><div class=panel-body><div><paginated-table container-id="\'statements-results-table\'" paginated-result=vm.paginatedStatements field-names=vm.fieldNames params=vm.searchParams click-event=vm.showPrintableStatement endpoint-string="\'/statements\'"><content-responsive><div class="panel panel-body row-table" ng-click=vm.showPrintableStatement($parent.item)><div class=name><h5 class=dark-grey><b>{{$parent.item.invoice}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Net Proceeds <span class=id-number>{{$parent.item.net_proceeds}}</span></h5></div><div class=description><div class=clear><b>Date Range:</b> {{$parent.item.period}}</div><div class=clear><b>Previous Balance:</b> {{$parent.item.previous_balance}}</div><div><b>Balance:</b> {{$parent.item.balance}}</div></div></div></content-responsive></paginated-table></div></div><div class=panel-footer ng-if="!!vm.paginatedStatements && !!vm.paginatedStatements.data"><button class="btn btn-default" ng-click=vm.exportRecords()>Export</button></div></div></div></div><div id=exportModal class="modal fade" role=dialog><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal>&times;</button><h4 class=modal-title>Choose the number of records to export.</h4></div><div class=modal-body><div class=form-group><label>Number of records:</label><input type=number class=form-control max=vm.paginatedStatements.total min=0 ng-model=vm.numberOfRecords><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.numberOfRecords < 0 || vm.numberOfRecords > vm.paginatedStatements.total" role=alert>The value must be between 0 and {{vm.paginatedStatements.total}}.</div></div></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal ng-disabled="!vm.numberOfRecords || vm.numberOfRecords == 0 || vm.numberOfRecords < 0 || vm.numberOfRecords > vm.paginatedStatements.total">Export</button></div></div></div></div><div id=detailsModal class="modal fade" role=dialog><div class="modal-dialog modal-lg"><div class=modal-content><div class="modal-header hide-on-print"><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>Details</h4></div><div class=modal-body role=document><div class="panel print-content"><div class="flex-init flex-justify-content-space-between show-on-print m-b-10" style="display: none"><div width=200px><img src=http://splickit.com.s3.amazonaws.com/email/images/spl-reg-black.png width="200px"/></div><div><h2 style="color:#111;font-family:Arial, Helvetica, sans-serif;margin:0px">Merchant Statement</h2></div></div><div class="panel-heading flex-init flex-justify-content-space-between mdi-border-bottom"><h4 class=modal-title>{{vm.currentStatement.name}}</h4><h4 class=modal-title>{{vm.currentStatement.generation}}</h4></div><div class=panel-body style="padding: 0; background-color:#fff; color: #0f0f0f"><div class=flex-init style="margin: 10px 20px"><div style="flex-grow: 1" class=element-row><p style="margin: 3px 0">{{vm.currentStatement.merchant_external_id}}</p><h4 style="margin: 3px 0">{{vm.currentStatement.address1}}<br>{{vm.currentStatement.city}}, {{vm.currentStatement.state}} {{vm.currentStatement.zip}}</h4><p style="margin: 3px 0"><a href=#>{{vm.currentStatement.desination_emails}}</a></p></div><div class=element-row style="flex-grow: 1"><div class="flex-init flex-direction-column"><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Invoice:</strong></div><div>{{vm.currentStatement.invoice}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Period:</strong></div><div>{{vm.currentStatement.period}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Created:</strong></div><div>{{vm.currentStatement.generation}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Account:</strong></div><div>{{vm.currentStatement.merchant_id}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Brand Store ID:</strong></div><div>{{vm.currentStatement.merchant_external_id}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Order Count:</strong></div><div>{{vm.currentStatement.order_cnt}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Payment Method:</strong></div><div>Prepaid: {{vm.currentStatement.order_cnt - vm.currentStatement.instore_payment_cnt}} Instore: {{vm.currentStatement.instore_payment_cnt}}</div></div></div></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Sales</b></div><div><b>Amount</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Order Amount:</b></div><div>${{vm.currentStatement.order_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Total Taxes:</b></div><div>${{vm.currentStatement.total_tax_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Delivery Fee:</b></div><div>${{vm.currentStatement.delivery_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Tips:</b></div><div>${{vm.currentStatement.tip_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="vm.currentStatement.trans_fee_amt != 0"><div><b>Splick-it Customer Fee:</b></div><div>${{vm.currentStatement.trans_fee_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="vm.currentStatement.sf_surcharge_fee != 0"><div><b>SF Surcharge:</b></div><div>${{vm.currentStatement.sf_surcharge_fee}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="vm.currentStatement.promo_amt != 0 && !!vm.currentStatement.promo_amt"><div><b>Franchisee Paid Promotion:</b></div><div>${{vm.currentStatement.promo_amt}}</div></div><div ng-if="!!vm.currentStatement.promo_splickit_amt_withheld && vm.currentStatement.promo_splickit_amt_withheld != 0"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Splickit Paid Promotion:</b></div><div>${{vm.currentStatement.promo_splickit_amt_withheld}}</div></div><p style="border: 1px dotted #e5e5e5; padding: 5px; text-align: center">Splickit Promos are paid to the merchant at the beginning of the following month. A sale transaction will be processed on your Merchant Account for the total of promotion withheld in the preceeding month. A separate statement will be issued when they payment is made.</p></div><div ng-if="!!vm.currentStatement.customer_donation_amt_withheld && vm.currentStatement.customer_donation_amt_withheld != 0"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Customer Donations Withheld:</b></div><div>${{vm.currentStatement.customer_donation_amt_withheld}}</div></div><p style="border: 1px dotted #e5e5e5; padding: 5px; text-align: center">Consumer Donations Withheld from Merchant are funds donated by the consumer for the charity that your franchise is collecting funds for.</p></div><div ng-if="vm.currentStatement.customer_donation_amt_paidout != 0 && !!vm.currentStatement.customer_donation_amt_paidout"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Customer Donations Paid to Merchant:</b></div><div>${{vm.currentStatement.customer_donation_amt_paidout}}</div></div><p style="border: 1px dotted #e5e5e5; padding: 5px; text-align: center">Consumer Donations Paid to Merchant are funds donated by the consumer for the charity that your franchise is collecting funds for. Please forward these proceeds as directed by your Franchisor instructions.</p></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if=!!vm.currentStatement.grand_total_less_contribution><div><b>Total:</b></div><div>${{vm.currentStatement.grand_total_less_contribution}}</div></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Expenses</b></div><div><b>Amount</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.bill_comm_fee && vm.currentStatement.bill_comm_fee != 0"><div><b>Transaction Commission Fee:</b></div><div>${{vm.currentStatement.bill_comm_fee}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.goodwill && vm.currentStatement.goodwill != 0"><div><b>Cancellations And Refunds:</b></div><div>${{vm.currentStatement.goodwill}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.pymt_fee && vm.currentStatement.pymt_fee != 0"><div><b>Payment Fee:</b></div><div>${{vm.currentStatement.pymt_fee}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.trans_fee_amt && vm.currentStatement.trans_fee_amt != 0"><div><b>Splick-it Customer Fee:</b></div><div>${{vm.currentStatement.trans_fee_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.cc_fee_amt && vm.currentStatement.cc_fee_amt != 0"><div><b>Credit Card Trans Fees:</b></div><div>${{vm.currentStatement.cc_fee_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Total:</b></div><div>${{vm.currentStatement.total_fees}}</div></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Net Payment</b></div><div><b>Amount</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Net Revenue:</b></div><div>${{vm.currentStatement.net_proceeds}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Previous Balance:</b></div><div>${{vm.currentStatement.previous_balance}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.grand_total && vm.currentStatement.grand_total != 0"><div><b>Payment collected in store:</b></div><div>${{vm.currentStatement.grand_total}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Payment:</b></div><div>${{vm.currentStatement.payment}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Balance:</b></div><div>${{vm.currentStatement.balance}}</div></div></div><div ng-if=!!vm.currentStatement.weekly><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Weekly Summary</b></div></div><div class="flex-init flex-direction-column" style="margin: 0"><table class=table style="background-color: whitesmoke"><thead><tr><th>Date</th><th>Orders</th><th>Order Amt</th><th>Tax</th><th>Tip</th><th>Promo Amt</th><th>Delivery</th><th>CC Fees</th><th ng-if=vm.showExtraColumn>SF Sur</th></tr></thead><tbody><tr ng-repeat="day in vm.currentStatement.weekly"><td ng-repeat="column in day track by $index">{{column}}</td></tr></tbody></table></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Cancellations and Refunds Details</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between"><div>${{vm.currentStatement.reversal_note}}</div></div></div></div></div></div><div class="modal-footer hide-on-print"><button type=button class="btn btn-default" ng-click=vm.printStatementDetails()>print</button></div></div></div></div>'),a.put("modules/merchant/merchant-tax/merchant-tax.html",'<div class=row><div class=col-sm-12><div class="page-header-title merchant-bg"><h4 class=page-title>{{ \'MERCHANT.TAX.TAX\' | translate }}</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/tax>{{ \'MERCHANT.TAX.TAX\' | translate }}</a></li></ol></div></div></div><div id=sales-tax-tax class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.TAX.SALESTAX\' | translate }}</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.TAX.SALES\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><form name=tax.sales_tax_form novalidate ng-submit=tax.updateSalesTax() class=form-horizontal><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.TAX.DESCRIPTION\' | translate }}</label><div class=col-md-8><textarea type=text class="input-x-large form-control" name=locale_description placeholder="Municipality Description" ng-model=tax.sales_tax.locale_description ng-required=true></textarea><div class="input-x-large alert alert-danger ng-hide alert-reg-position" ng-show="tax.sales_tax_form.locale_description.$error.required && (tax.sales_tax_form.locale_description.$touched || tax.sales_tax.submit)" role=alert>{{\'MERCHANT.TAX.DESCRIPTION.ERROR\' | translate}}</div></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.TAX.RATEIN\' | translate }}</label><div class=col-md-8><input type=number class="input-med form-control" name=rate placeholder="Enter Whole %" ng-model=tax.sales_tax.rate ng-fade ng-min=0 ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position input-med" ng-show="!tax.sales_tax_form.rate.$valid && (tax.sales_tax_form.rate.$faded || tax.sales_tax.submit)" role=alert>{{ \'MERCHANT.TAX.RATEREQUIRED\' | translate }}</div></div></div><div ng-show=tax.sales_tax.processing class=text-center><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=tax-update-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=tax.sales_tax.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.TAX.TAXUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=tax-update-submit class="btn-soft-blue btn pull-right btn-pull-left">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>{{ \'MERCHANT.TAX.DELIVERYTAX\' | translate }}</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.TAX.DELIVERY\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><form name=tax.delivery_tax_form novalidate ng-submit=tax.updateDeliveryTax() class=form-horizontal><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.TAX.RATEIN\' | translate }}</label><div class=col-md-8><input type=number class="input-med form-control" name=rate placeholder="Enter Whole %" ng-model=tax.delivery_tax.rate ng-fade ng-min=0 ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(!tax.delivery_tax_form.rate.$valid) && (tax.delivery_tax_form.rate.$faded || tax.delivery_tax.submit)" role=alert>{{ \'MERCHANT.TAX.RATEMUSTBENUMERIC\' | translate }}</div></div></div><div class=form-group><label class="control-label col-md-4">Description <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>Optional, for your internal use</span></i></label><div class=col-md-8><textarea type=text class="input-x-large form-control" name=locale_description placeholder="Municipality Description" ng-model=tax.delivery_tax.locale_description></textarea></div></div><div ng-show=tax.delivery_tax.processing class=text-center><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=delivery-tax-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=tax.delivery_tax.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.TAX.DELIVERYTAXUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=delivery-tax-submit class="btn-soft-blue btn pull-right btn-pull-left">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>Fixed Tax</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MERCHANT.CONTACT.TOOLTIP.TAX.FIXED\' | translate }}</span></i></h4></div></div><div class="panel-body p-t-15"><form name=tax.fixed_tax_form novalidate ng-submit=tax.updateFixTax() class=form-horizontal><div class=form-group><label class="control-label col-md-4">Name</label><div class=col-md-8><input type=text class="input-med form-control" name=name placeholder="Enter Name" ng-model=tax.fixed_tax.name></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.TAX.DESCRIPTION\' | translate }} <i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>Optional, for your internal use</span></i></label><div class=col-md-8><textarea type=text class="input-x-large form-control" name=description placeholder="Enter Description" ng-model=tax.fixed_tax.description></textarea></div></div><div class=form-group><label class="control-label col-md-4">{{ \'MERCHANT.TAX.AMOUNT\' | translate }}</label><div class=col-md-8><input type=number class="input-med form-control" name=amount placeholder="Enter Amount" ng-model=tax.fixed_tax.amount ng-required=true><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(tax.fixed_tax_form.amount.$error.required || tax.fixed_tax_form.amount.$error.number)\n                                        && (tax.fixed_tax_form.amount.$faded || tax.fixed_tax_form.$submitted)" role=alert>{{ \'MERCHANT.TAX.AMOUNTREQUIRED\' | translate }}</div></div></div><div ng-show=tax.fixed_tax.processing class=text-center><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="submit-contain flex-init flex-justify-content-space-between"><div class="flex-init flex-direction-column flex-justify-content-center"><div id=fixed-tax-success class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=tax.fixed_tax.success role=alert><i class="fa fa-check-circle" aria-hidden=true></i> {{ \'MERCHANT.TAX.FIXEDTAXUPDATED\' | translate }}</div></div><div class=flex-align-self-end><button id=fixed-tax-submit class="btn-soft-blue btn pull-right btn-pull-left">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div></div></div></div>'),a.put("modules/merchant/payment-services/payment-services.html",'<div class="page-header-title merchant-bg white-text"><h4 class=page-title>Payment Services</h4><ol class=breadcrumb><li><a href=#/merchants>{{ \'MESSAGE.SHARE.MERCHANT\' | translate }}</a></li><li><a href=#/merchant/payment>Payment</a></li></ol></div><payment-services-daily-deposit-report></payment-services-daily-deposit-report><div class=row><div class="col-md-12 col-lg-9"><div class="panel panel-primary"><div class=panel-heading><div class="col-md-6 col-lg-6"><h3 class=panel-title>Payment Services</h3></div><div class="col-md-6 col-lg-6"><h3 class=panel-title>Owner Info</h3></div></div><div class=panel-body><div class=filter-loader-contain ng-if=vm.loadingBusinessInfo><div class=filter-loader></div></div><div class="col-md-6 col-lg-6"><form name=vm.business_form ng-show=!vm.loadingBusinessInfo novalidate ng-submit=vm.updateBusinessInformation() class=form-horizontal><div class=form-group><label class="control-label col-md-4">Business Name</label><div class=col-md-8><input type=text class="input-large form-control" name=business_name placeholder="Business Name" ng-model=vm.business_info.business_name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.business_name.$error.required && (vm.business_form.business_name.$touched || vm.business_form.$submitted)" role=alert>Business Name field is required.</div></div></div><div class=form-group><label class="control-label col-md-4">DBA Name</label><div class=col-md-8><input type=text class="input-large form-control" name=dba_name placeholder="DBA Name" ng-model=vm.business_info.dba ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.dba_name.$error.required && (vm.business_form.dba_name.$touched || vm.business_form.$submitted)" role=alert>DBA Name field is required.</div></div></div><div class=form-group><label class="control-label col-md-4">Federal Tax ID</label><div class=col-md-8><input type=text class="input-large form-control" name=tax_id placeholder=123456789 ng-model=vm.business_info.fed_tax_id ng-fade ng-required=true federal-tax-id-validator><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.tax_id.$error.required && (vm.business_form.tax_id.$touched || vm.business_form.$submitted)" role=alert>Tax ID field is required.</div></div></div><div class=form-group><label class="control-label col-md-4">Bank Routing #</label><div class=col-md-8><input type=text class="input-large form-control" name=bank_routing placeholder=123456789 ng-model=vm.business_info.bank_routing_number ng-fade ng-required=true bank-routing-validator><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.bank_routing.$error.required && (vm.business_form.bank_routing.$touched || vm.business_form.$submitted)" role=alert>The Bank Routing field is required.</div><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.bank_routing.$error.maxlength && (vm.business_form.bank_routing.$touched || vm.business_form.$submitted)" role=alert>The Bank Routing field must be 9 digits maximum.</div></div></div><div class=form-group><label class="control-label col-md-4">Bank Acct. #</label><div class=col-md-8><input type=text class="input-large form-control" name=bank_account placeholder=5201112056688 ng-model=vm.business_info.bank_account_number ng-fade ng-required=true bank-account-validator><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.bank_account.$error.required && (vm.business_form.bank_account.$touched || vm.business_form.$submitted)" role=alert>The Bank Account field is required.</div><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.bank_account.$error.maxlength && (vm.business_form.bank_account.$touched || vm.business_form.$submitted)" role=alert>The Bank Account field must be 9 digits maximum.</div></div></div><div class=form-group><label class="control-label col-md-4">Business or Personal Account</label><div class=col-md-8><select id=fix-small-screen-inline name=bank_type_business_personal class="form-control input-med" ng-required=true ng-model=vm.business_info.bank_type_business_personal ng-options="account_type.code as account_type.desc for account_type in vm.account_type_personal_business"><option class=placeholder-color value="" selected disabled>Account Type</option></select><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.bank_type_business_personal.$error.required && (vm.business_form.bank_type_business_personal.$touched || vm.business_form.$submitted)" role=alert>Business vs. Personal account type is required.</div></div></div></form></div><div class="col-md-6 col-lg-6"><form name=vm.owner_form ng-if=!vm.loadingOwnerInfo novalidate ng-submit=vm.updateOwnerInformation() class=form-horizontal><div class=form-group><label class="control-label col-md-4">First Name</label><div class=col-md-8><input type=text class="input-large form-control" name=first_name placeholder=John ng-model=vm.business_info.primary_owner_first_name ng-fade></div></div><div class=form-group><label class="control-label col-md-4">Last Name</label><div class=col-md-8><input type=text class="input-large form-control" name=last_name placeholder=Smith ng-model=vm.business_info.primary_owner_last_name ng-fade></div></div><div class=form-group><label class="control-label col-md-4">Date Of Birth</label><div class=col-md-8><input type=date class="form-control input-med flex-init" placeholder=YYYY-MM-DD name=owner_dob ng-required=true ng-model=vm.business_info.primary_owner_dob><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.owner_form.owner_dob.$error.required && (vm.owner_form.owner_dob.$touched || vm.owner_form.$submitted)" role=alert>The Date Of Birth</div></div></div><div class=form-group><label class="control-label col-md-4">Primary Owner SS#</label><div class=col-md-8><input type=text class="input-large form-control" name=primary_owner_ss placeholder=123456789 ng-model=vm.business_info.primary_owner_ss ng-fade ng-required=true owner-ss-validator><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.primary_owner_ss.$error.required && (vm.business_form.primary_owner_ss.$touched || vm.business_form.$submitted)" role=alert>Primary Owner SS field is required.</div></div></div><div class=form-group><label class="control-label col-md-4">Owner Phone</label><div class=col-md-8><input type=tel class="input-large form-control" name=phone_number ng-model=vm.business_info.primary_owner_phone ng-fade placeholder="513 000 1234" ui-number-mask=0 ui-hide-group-sep ng-required=true><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.owner_form.phone_number.$error.required && (vm.owner_form.phone_number.$touched || vm.owner_form.$submitted)" role=alert>The Owner Phone Number is required.</div></div></div><div class=form-group><label class="control-label col-md-4">Email</label><div class=col-md-8><input type=text class="input-large form-control" name=email ng-model=vm.business_info.email ng-fade placeholder=name@somedomain.com ng-required=true><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.owner_form.email.$error.required && (vm.owner_form.email.$touched || vm.owner_form.$submitted)" role=alert>The Email Address is required.</div></div></div><div class=form-group><div class="col-md-12 m-l-15 m-t-10"><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=vm.ownerInformationUpdatedSuccesfully role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Owner Info Updated.</div></div></div><div class=form-group><label class="control-label col-md-4">Checking or Savings Account</label><div class=col-md-8><select name=bank_type_saving_checking class="form-control input-med" ng-required=true ng-model=vm.business_info.bank_type_saving_checking ng-options="account_type.code as account_type.desc for account_type in vm.account_type_checking_savings"><option class=placeholder-color value="" selected disabled>Account Type</option></select><div class="alert alert-danger ng-hide alert-reg-position input-large" ng-show="vm.business_form.bank_type_saving_checking.$error.required && (vm.business_form.bank_type_saving_checking.$touched || vm.business_form.$submitted)" role=alert>Savings vs. Checking account type is required.</div></div></div><div class=form-group><label class="control-label col-md-4"><input type=checkbox class=pull-right ng-model=vm.business_info.form_agreement></label><div class=col-md-8><p class=m-t-10><strong>I accept the <a href=javascript:void(0); data-toggle=modal ng-click="vm.form_agreement_opened = true" data-target=#tos-modal>Terms and Conditions</a>.</strong></p><div class="alert alert-danger alert-reg-position input-large" ng-show="vm.owner_form.$submitted && !vm.business_info.form_agreement" role=alert>You must accept the Terms and Conditions to submit.</div><div class="alert alert-danger alert-reg-position input-large" ng-show="vm.owner_form.$submitted && !vm.form_agreement_opened" role=alert>You must open the Terms and Conditions agreement to accept them.</div></div></div><div class="submit-contain flex-init flex-justify-content-end"><div class=flex-align-self-end><button type=submit class="btn-soft-blue btn pull-right">{{ \'MESSAGE.SHARE.SUBMIT\' | translate }}</button></div></div></form></div><div class="alert alert-success alert-reg-position" ng-show="!vm.business_info.vio_result_status && !vm.business_info.vio_account_number" role=alert>Use this form ONLY to apply for credit card processing.</div><div class="alert alert-success alert-reg-position" ng-show="vm.business_info.vio_result_status == \'00\' && vm.business_info.vio_account_number" role=alert><i class="fa fa-check-circle" aria-hidden=true></i> You have successfully converted your account, and it is ready for use.</div><div class="alert alert-info alert-reg-position" ng-show="vm.business_info.vio_result_status == \'00\' && !vm.business_info.vio_account_number" role=alert>Please review and resubmit your application.</div><div class="alert alert-danger alert-reg-position" ng-show="vm.business_info.vio_result_status && vm.business_info.vio_result_status != \'00\'" role=alert>Your application has been received but requires manual followup. You will be contacted my our underwriting team shortly to complete the application. No further action is needed until you hear from our team.</div></div></div></div><div class="col-md-6 col-lg-3"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>DOCUMENT IMAGES</h3></div><div class=panel-body><div class="alert-info alert-reg-position form-submit-success fade-effect" role=alert>Please upload the following 2 documents in an image format of jpg, png, or gif.</div><div class="col-md-12 m-t-10"><div class=form-group ng-show=!vm.fileUploading><label class="control-label col-md-12">Driver\'s License</label><div class=col-md-12><a class="btn-soft-blue btn m-r-5" style="line-height: 18px" ng-click=vm.uploadFileLicense()>Select file for upload</a><div class="alert alert-success alert-reg-position input-large" ng-show="vm.business_info.primary_owner_drivers_license_url.length > 0" role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Driver\'s License Successfully Uploaded.</div></div></div></div><hr><div class="col-md-12 m-t-40 m-b-20"><div class=form-group ng-show=!vm.fileUploading><label class="control-label col-md-12">Voided Check</label><div class=col-md-12><a style="line-height: 18px" class="btn-soft-blue btn m-r-5" ng-click=vm.uploadFileVoidedCheck()>Select file for upload</a> <i class="fa fa-check-circle" aria-hidden=true ng-if=!!vm.voidedCheckFile></i><div class="alert alert-success alert-reg-position input-large" ng-show="vm.business_info.primary_owner_void_check_url.length > 0" role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Voided Check Successfully Uploaded</div></div></div></div></div></div></div></div><div id=upload-modal class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Upload Your File</h4></div><div class=modal-body><div ng-show=false><div class=filter-loader-contain><div class=filter-loader></div></div></div><div style="margin: auto" ngf-drop ngf-select ng-model=vm.file class="drop-box site-image-drop-box" ngf-max-size=5MB ngf-drag-over-class="\'dragover\'" ngf-multiple=false ngf-allow-dir=false accept=image/* ngf-pattern="\'image/*\'" ngf-validate-fn=vm.isValidLogo($file)>Drop image file here or click to upload</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><div id=tos-modal class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Payment Services Terms and Conditions</h4></div><div class=modal-body><payment-services-tos></payment-services-tos></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div>'),
a.put("modules/merchant/side-bar.html",'<div class="left side-menu"><div class="sidebar-inner slimscrollleft"><div id=sidebar-menu ng-controller=SideNavController><div class="user-details hidden-xs"><div class=user-info>Welcome {{user_name}}!</div></div><ul><li ng-show="user_info.hasPermission(\'op_nav\')"><a id=side-nav-home href=#/operator/home class="waves-effect home" ng-click="set_hover(\'home\')" ng-class="{\'active\':active.home}"><i class="fa fa-home merchant-text home" aria-hidden=true></i> <span>Home</span></a></li><li class=has_sub><a id=side-nav-merchants href=#/merchants class="waves-effect accounts" ng-click="open(\'merchant\')" ng-class="{\'active\':active.merchant}" ng-show="user_info.hasPermission(\'accounts_nav\')"><div id=account class=main-icon ng-include="\'assets/icons/sidebar_icons/accounts.html\'"></div><span>Accounts</span> <span class=pull-right></span></a> <a href=#/merchant/general_info class="waves-effect settings" ng-class="{\'active\':active.merchant}" ng-click="open(\'merchant\')" ng-if="user_info.hasPermission(\'operator_settings\')"><div id=settings class=main-icon ng-include="\'assets/icons/sidebar_icons/settings.html\'"></div><span>Settings</span> <span class=pull-right></span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.merchant.open><li><a href=#/merchant/general_info class=waves-effect><i class="fa info-icon small-icon" aria-hidden=true></i> <span>Info</span> <span class=pull-right></span></a></li><li><a id=side-nav-merchant-contact href=#/merchant/contact class=waves-effect><i class="fa contact-icon small-icon" aria-hidden=true></i> <span>Contact</span> <span class=pull-right></span></a></li><li><a href=#/merchant/hours class=waves-effect><i class="fa hours-icon small-icon" aria-hidden=true></i> <span>Hours</span> <span class=pull-right></span></a></li><li><a href=#/merchant/tax class=waves-effect><i class="fa tax-icon small-icon" aria-hidden=true></i> <span>Tax</span> <span class=pull-right></span></a></li><li><a href=#/merchant/ordering class=waves-effect><i class="fa ordering-icon small-icon" aria-hidden=true></i> <span>Ordering</span></a></li><li><a href=#/merchant/delivery class=waves-effect><i class="fa delivery-icon small-icon" aria-hidden=true></i> <span>Delivery</span></a></li><li><a href=#/merchant/statements class=waves-effect><i class="fa statements-icon small-icon" aria-hidden=true></i> <span>Statements</span></a></li><li><a class=waves-effect ng-click=merchantQuickEditMenu() ng-if="user_info.visibility != \'operator\'"><i class="fa quick-edit-icon small-icon" aria-hidden=true></i> <span>Edit Menu</span> <span class=pull-right></span></a></li><li><a href=#/merchant/catering class=waves-effect><i class="fa catering-icon small-icon" aria-hidden=true></i> <span>Catering</span></a></li><li><a href=#/merchant/payment class=waves-effect><i class="fa payment-icon small-icon" aria-hidden=true></i> <span>Payment SVCS</span></a></li><li><a href=javascript:void(0); class=waves-effect><span>{{merchantNavDisplay()}}</span></a></li></ul></li><li class=has_sub ng-show="user_info.hasPermission(\'cs_nav\')"><a href=#customer_service class="waves-effect customersrv" ng-class="{\'active\':active.customer_service}" ng-click="open(\'customer_service\')"><div id=customersrv class=main-icon ng-include="\'assets/icons/sidebar_icons/customersrv.html\'"></div><span>Customer Service</span> <span class=pull-right></span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.customer_service.open><li ng-show=showOrder()><a href=#/customer_service/order class=waves-effect><i class="fa fa-weixin" aria-hidden=true></i> <span>Order</span> <span class=pull-right></span></a></li><li ng-show=showOrder() class=hide-order><a href=javascript:void(0); class=waves-effect><span>{{orderDisplay()}}</span></a></li><li ng-show="user_info.hasPermission(\'show_live_orders\')"><a href=#/customer_service/live_orders class=waves-effect><i class="fa ordering-icon small-icon" aria-hidden=true></i> <span>Live Orders</span> <span class=pull-right></span></a></li><li ng-show="user_info.hasPermission(\'customer_service_users\')"><a href=#/customer_service/users class=waves-effect><i class="fa user-icon small-icon" aria-hidden=true></i> <span>Users</span> <span class=pull-right></span></a></li><li ng-show="user_info.hasPermission(\'pk_lot_users\')"><a href=#/customer_service/tbd class=waves-effect><i class="fa parking-lot-icon small-icon" aria-hidden=true></i> <span>Loyalty Parking Lot</span> <span class=pull-right></span></a></li><li ng-show="user_info.hasPermission(\'future_orders\')"><a href=#/customer_service/future_orders class=waves-effect><i class="fa ordering-icon small-icon" aria-hidden=true></i> <span>Future Orders</span> <span class=pull-right></span></a></li></ul></li><li class=has_sub ng-show="user_info.hasPermission(\'menu_full_nav\') || user_info.hasPermission(\'menu_full_direct_nav\')"><a href=#/menus class="waves-effect menus" ng-click="open(\'menu\')" ng-class="{\'active\':active.menu}" ng-show="user_info.hasPermission(\'menu_full_nav\')"><div id=menus class=main-icon ng-include="\'assets/icons/sidebar_icons/menus.html\'"></div><span>Menu</span> <span class=pull-right></span></a> <a href=#/menu/items class="waves-effect menus" ng-click="open(\'menu\')" ng-class="{\'active\':active.menu}" ng-show="user_info.hasPermission(\'menu_full_direct_nav\')"><div id=menus class=main-icon ng-include="\'assets/icons/sidebar_icons/menus.html\'"></div><span>Menu</span> <span class=pull-right></span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.menu.open><li><a href=#/menu/items class=waves-effect ng-click="set_hover_submenu(\'menu\');"><i class="fa full-mg-icon small-icon" aria-hidden=true></i> <span>Full Management</span> <span class=pull-right></span></a></li><li><a ng-href={{menuQuickEdit()}} class=waves-effect ng-click="set_hover_submenu(\'menu\');"><i class="fa quick-edit-icon small-icon" aria-hidden=true></i> <span>Quick Edit</span> <span class=pull-right></span></a></li><li ng-show="user_info.hasPermission(\'nutrition\')"><a href=#/menu/nutrition class=waves-effect ng-click="set_hover_submenu(\'menu\');"><i class="fa nutrition-icon small-icon" aria-hidden=true></i> <span>Nutrition</span> <span class=pull-right></span></a></li><li><a href=#/menu/category_upsells class=waves-effect ng-click="set_hover_submenu(\'menu\');"><i class="fa upsells-icon small-icon" aria-hidden=true></i> <span>Category Upsells</span> <span class=pull-right></span></a></li><li><a href=#/menu/cart_upsells class=waves-effect ng-click="set_hover_submenu(\'menu\');"><i class="fa card-upsells-icon small-icon" aria-hidden=true></i> <span>Cart Upsells</span> <span class=pull-right></span></a></li><li><a href=#/menu/export class=waves-effect ng-click="set_hover_submenu(\'menu\');"><i class="fa card-upsells-icon small-icon" aria-hidden=true></i> <span>Menu Export</span> <span class=pull-right></span></a></li><li ng-show=!menu_factory.menu_merchant><a href=javascript:void(0); class=waves-effect><span>{{menu_factory.current_menu.name}}</span></a></li><li ng-show=menu_factory.menu_merchant><a href=javascript:void(0); class=waves-effect><div class="waves-effect regular-case"><span>{{menu_factory.menu_merchant.merchant_id}} - {{menu_factory.menu_merchant.name}}</span><br><span>{{menu_factory.menu_merchant.address1}}</span><br><span>{{menu_factory.menu_merchant.city}}, {{menu_factory.menu_merchant.state}}</span></div></a></li></ul></li><li ng-show="user_info.hasPermission(\'menu_quick_nav\')"><a href=#/menu/edit class="waves-effect menus" ng-click="set_hover(\'menu\')" ng-class="{\'active\':active.menu}"><div id=menus class=main-icon ng-include="\'assets/icons/sidebar_icons/menus.html\'"></div><span>Menu</span> <span class=pull-right></span></a></li><li ng-show="user_info.hasPermission(\'order_mgmt_nav\')"><a href=#/operator/order_management class="waves-effect orders" ng-click="set_hover(\'order_management\')" ng-class="{\'active\':active.order_management}"><div id=orders class=main-icon ng-include="\'assets/icons/sidebar_icons/orders.html\'"></div><span>Orders</span></a></li><li ng-show="user_info.hasPermission(\'order_on_off\')"><a href=#/merchant/operator_ordering_on_off class="waves-effect ordering_on_off" ng-click="set_hover(\'ordering_on_off\');" ng-class="{\'active\': active.ordering_on_off}"><div id=ordering_on_off class=main-icon ng-include="\'assets/icons/sidebar_icons/ordering_on_off.html\'"></div><span>Ordering On/Off</span></a></li><li ng-show="user_info.hasPermission(\'reports_nav\')"><a href=#/reports class="waves-effect reports" ng-click="open(\'reports\')" ng-class="{\'active\':active.reports}"><div id=reports class=main-icon ng-include="\'assets/icons/sidebar_icons/reports.html\'"></div><span>Reports</span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.reports.open></ul></li><li ng-show="user_info.hasPermission(\'marketing_nav\')"><a href=#/promos class="waves-effect marketing" ng-click="set_hover(\'marketing\')" ng-class="{\'active\':active.marketing}"><div id=marketing class=main-icon ng-include="\'assets/icons/sidebar_icons/marketing.html\'"></div><span>Marketing</span> <span class=pull-right></span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.marketing.open><li ng-show="user_info.hasPermission(\'loyalty\')"><a href=#/promos/loyalty class=waves-effect><i class="fa loyalty-icon small-icon" aria-hidden=true></i> <span>Loyalty</span> <span class=pull-right></span></a></li></ul></li><li ng-show="user_info.hasPermission(\'sites_nav\') && !user_info.hasPermission(\'order_mgmt_nav\')"><a href=#/web_skin/create class="waves-effect sites" ng-click="set_hover(\'sites\')" ng-class="{\'active\':active.sites}"><div id=sites class=main-icon ng-include="\'assets/icons/sidebar_icons/sites.html\'"></div><span>Sites</span></a></li><li class=has_sub ng-if="user_info.hasPermission(\'brand_nav\')"><a href=#/brands class="waves-effect brands" ng-click=open_brand() ng-class="{\'active\':active.brand}"><div id=brands class=main-icon ng-include="\'assets/icons/sidebar_icons/brands.html\'"></div><span>Brands</span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.brand.open><li><a href=#/brands/merchant_groups class=waves-effect><i class="fa fa-weixin" aria-hidden=true></i> <span>Merchant Groups</span> <span class=pull-right></span></a></li></ul></li><li class=has_sub ng-if="user_info.hasPermission(\'brand_direct_nav\')"><a href=#/brand class="waves-effect brands" ng-click=open_brand() ng-class="{\'active\':active.brand}"><div id=brands class=main-icon ng-include="\'assets/icons/sidebar_icons/brands.html\'"></div><span>Brand Manager</span></a><ul ng-cloak class=list-unstyled ng-show=parent_nav.brand.open><li><a href=#/brands/merchant_groups class=waves-effect><i class="fa fa-weixin" aria-hidden=true></i> <span>Merchant Groups</span> <span class=pull-right></span></a></li></ul></li></ul><div class="user-details hidden-xs" ng-show="user_info.hasPermission(\'op_nav\')"><div class=user-info>{{user_info.operator_merchant.merchant_id}} - {{user_info.operator_merchant.name}}<br>{{user_info.operator_merchant.address1}}<br>{{user_info.operator_merchant.city}}, {{user_info.operator_merchant.state}}</div></div></div><div class=clearfix></div></div></div>'),a.put("modules/operator/operator-home/operator-home.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg white-text"><h4 class=page-title>Dashboard</h4></div></div></div><div class=row ng-show=oh.loading_page><div class=col-md-12><div class="panel panel-primary"><div class=panel-body><div class=row><div class=col-xs-12><div class=filter-loader-contain-full><div class=filter-loader-full></div></div></div></div></div></div></div></div><div class=row ng-show=!oh.loading_page><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading pointer"><h1 class=panel-title>Today</h1></div><div class=panel-body><div class=col-md-3><div class="panel panel-body dash-table"><div><h5 class="bold text-center">SALES</h5></div><h1 class=text-center>${{oh.current_day.order_total}}</h1></div></div><div class=col-md-3><div class="panel panel-body dash-table"><div><h5 class="bold text-center">ORDERS</h5></div><h1 class=text-center>{{oh.current_day.order_count}}</h1></div></div><div class=col-md-3><div class="panel panel-body dash-table"><div><h5 class="bold text-center">AVERAGE TICKET SIZE</h5></div><h1 class=text-center>${{oh.current_day.order_average}}</h1></div></div><div class=col-md-3><div class="panel panel-body dash-table"><div><h5 class="bold text-center">PROMO DISCOUNTS</h5></div><h1 class=text-center>${{oh.current_day.promo_total}}</h1></div></div></div></div></div></div><div class=row ng-show=!oh.loading_page><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading pointer"><h1 class=panel-title>This Week</h1></div><div class=panel-body><div class=row><div class=col-md-2></div><div class=col-md-5><canvas id=bar class="chart chart-bar" chart-data=oh.weekly_sales_data chart-labels=oh.weekly_sales_labels></canvas></div><div class="m-t-40 col-md-3"><canvas id=doughnut2 class="chart chart-doughnut" chart-data=oh.device_type_data chart-labels=oh.device_type_labels></canvas><h3 class=bottom-center-chart-label>Customer Devices</h3></div><div class=col-md-2></div></div></div></div></div></div><div class="row order-summary" ng-show=!oh.loading_page><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Order Summary</h3></div><div class=panel-body><div class=row><div class=col-xs-12><table class="table table-hover content-table" ng-class=customer_service.fiftyOpacityOffset()><thead><tr><th></th><th class=fix-table-wrap>Date</th><th class=fix-table-wrap># Orders</th><th class=fix-table-wrap># Items</th><th>Order Total</th><th>Tax</th><th>Tip</th><th>Promo Total</th><th>Delivery Charges</th><th>Grand Total</th></tr></thead><tbody ng-repeat="day in oh.daily_summary_data"><tr ng-click="oh.showDailyOrders($index, day.date_day)"><td><i ng-show=!day.show_orders class="fa fa-plus-square" aria-hidden=true></i> <i ng-show=day.show_orders class="fa fa-minus-square" aria-hidden=true></i></td><td class=fix-table-wrap>{{day.date_day}}</td><td>{{day.order_count}}</td><td>{{day.item_count}}</td><td>{{day.order_total}}</td><td>{{day.tax_total}}</td><td>{{day.total_tip}}</td><td>{{day.promo_total}}</td><td>{{day.delivery_total}}</td><td>{{day.total_grand_total}}</td></tr><tr ng-show=day.show_orders class=row-hover-fix><th></th><th>Order ID</th><th>Pickup Time</th><th>Name</th><th>Phone No.</th><th># Items</th><th>Tip</th><th>Grand Total</th><th>Tasks</th><th></th></tr><tr ng-repeat="order in day.orders" ng-show=day.show_orders ng-class="{successeffect: order.refund_success}" ng-click="$event.stopPropagation(); oh.viewOrder(order);"><td></td><td>{{order.order_id}}</td><td>{{order.pickup_time}}</td><td>{{order.first_name}} {{order.last_name}}</td><td>{{order.phone_no}}</td><td>{{order.order_qty}}</td><td>{{order.tip_amt}}</td><td>{{order.grand_total}}</td><td colspan=2><button ng-if=!order.refund_id type=button data-toggle=modal ng-click="$event.stopPropagation(); oh.openRefundOrder(order, $parent.$index, $index);" class="btn btn-sm btn-danger waves-effect waves-light">Refund</button><div ng-if=order.refund_id>Refunded: {{order.refund_note}}</div></td></tr></tbody></table><div class=content-responsive><div ng-repeat="day in oh.daily_summary_data"><div class="panel panel-body row-table" ng-click="oh.showDailyOrders($index, day.date_day)"><div class=name><h5 class=dark-grey style="margin: 7px 0px"><b><i ng-show=!day.show_orders class="fa fa-plus-square inline" aria-hidden=true></i> <i ng-show=day.show_orders class="fa fa-minus-square inline" aria-hidden=true></i> {{day.date_day}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order Count #<span class=id-number>{{day.order_count}}</span></h5></div><div class="description clear"><div>{{day.item_count}} Item(s)</div><div>Order Total: {{day.order_total}}</div><div>Tax: {{day.tax_total}} - Total Tip: {{day.total_tip}}</div><div>Promo Total: {{day.promo_total}}</div><div>Delivery Total: {{day.delivery_total}}</div><div class=pull-right>Grant Total: {{day.total_grand_total}}</div></div></div><div class=line-box-container ng-show=day.show_orders><div class=line-border><span class=text>Orders</span></div></div><div ng-show=day.show_orders ng-repeat="order in day.orders"><div class="panel panel-body row-table" ng-click="$event.stopPropagation(); oh.viewOrder(order);"><div class=name><h5 class=dark-grey style="margin: 7px 0px"><b>Pickup Time: {{order.pickup_time}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order ID <span class=id-number>{{order.order_id}}</span></h5></div><div class="description clear"><div>{{order.first_name}} {{order.last_name}}</div><div>Phone: {{order.phone_no}}</div><div>{{order.order_qty}} Item(s)</div><div class=pull-right><b>Tip:</b> {{order.tip_amt}} - <b>Grant Total:</b> {{order.grand_total}}</div><div class="clear refund-button"><button ng-if=!order.refund_id type=button data-toggle=modal ng-click="$event.stopPropagation(); oh.openRefundOrder(order, $parent.$index, $index);" class="btn btn-sm btn-danger waves-effect waves-light">Refund</button><div ng-if=order.refund_id>Refunded: {{order.refund_note}}</div></div></div></div></div><div class=line-box-container ng-show=day.show_orders><div class=line-border></div></div></div></div></div></div></div></div></div></div><div id=order-detail-modal class="modal fade" tabindex=1000 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Order Detail {{!!oh.order_detail.order_id ? \'#\'+oh.order_detail.order_id: \'\'}}</h4></div><div class=modal-body ng-show=!oh.order_detail_loading><h5 class=pre-load-text ng-if=!!!oh.order_detail.order_id>The order doesn\'t exist</h5><div ng-if=!!oh.order_detail.order_id><div><h4 class=dark-grey>{{oh.order_detail.customer_full_name}}</h4><div>Phone: {{oh.order_detail.user_phone_no}}</div><div>Loyalty No: {{oh.order_detail.loyalty_number}}</div></div><div><h4 class=dark-grey>Store Info</h4><div>{{oh.order_detail.merchant_name}}</div><div>{{oh.order_detail.merchant_addr}}</div><div>{{oh.order_detail.merchant_city_st_zip}}</div><div>Merchant ID: {{oh.order_detail.merchant_id}}</div></div><div ng-show="oh.order_detail.order_type == \'d\'"><h4 class=dark-grey>Delivery</h4><div class=well><div>Delivery To: {{oh.order_detail.delivery_info.name}}</div><div>{{oh.order_detail.delivery_info.address1}}</div><div>{{oh.order_detail.delivery_info.city}}, {{oh.order_detail.delivery_info.state}} {{oh.order_detail.delivery_info.zip}}</div><div>{{oh.formatPhone(oh.order_detail.delivery_info.phone_no)}}</div><div>{{oh.order_detail.delivery_info.instructions}}</div></div></div><h4 class=dark-grey>Items</h4><div class=row ng-repeat="order_item in oh.order_detail.order_details"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>{{order_item.price}}</div></div><div ng-show="order_item.order_detail_hold_it_modifiers.length > 0 || order_item.order_detail_added_modifiers.length > 0"><div ng-show="order_item.order_detail_hold_it_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_hold_it_modifiers.length > 0"><span ng-repeat="hold_modifier in order_item.order_detail_hold_it_modifiers">{{hold_modifier.mod_name}},</span></div><div ng-show="order_item.order_detail_added_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_added_modifiers.length > 0"><span ng-repeat="add_modifier in order_item.order_detail_added_modifiers">{{add_modifier.mod_name}},</span></div></div></div><div class=total-container><div class=payment-numbers><div>Sales Total:</div><div class=amount>{{oh.order_detail.order_amt}}</div></div><div class=payment-numbers><div>Total Tax:</div><div class=amount>{{oh.order_detail.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{oh.order_detail.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{oh.order_detail.tip_amt}}</div></div></div></div></div><div ng-show=oh.order_detail_loading class=modal-body><div class=filter-loader-contain><div class=filter-loader></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-primary" data-dismiss=modal>Close</button></div></div></div></div><div id=refund-order-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Refund Order #{{oh.current_order.order_id}}</h4></div><form name=oh.refund_order_form novalidate ng-submit=oh.refundOrder()><div class=modal-body><div class="form-group m-l-10"><label class=block>Refund Amount</label><div class=input-large><input type=text class=form-control name=refund_amount ng-model=oh.refund_order.refund_amount ng-fade currency-format amount=oh.refund_order.refund_amount validate-max=oh.current_order.grand_total ng-required=true ng-max=oh.refund_amount_max ng-required=true placeholder="Enter Amount"><div class="alert alert-danger ng-hide alert-reg-position" ng-show="oh.refund_order_form.refund_amount.$error.required\n                                     && (oh.refund_order_form.refund_amount.$faded\n                                     || oh.refund_order_form.$submitted)" role=alert>Refund Amount is required.</div><div class="alert alert-danger alert-reg-position" ng-show="oh.refund_order_form.refund_amount.$error.invalidMaxValue && (oh.refund_order_form.refund_amount.$faded\n                                     || oh.refund_order_form.$submitted)" role=alert>Refund Amount cannot be greater than the original order grand total.</div></div></div><div class="form-group m-l-10"><label class=block>Employee Name</label><div class=input-large><input type=text class=form-control name=employee_name ng-model=oh.refund_order.employee_name ng-fade ng-required=true placeholder="For Notes"><div class="alert alert-danger ng-hide alert-reg-position" ng-show="oh.refund_order_form.employee_name.$error.required\n                                     && (oh.refund_order_form.employee_name.$faded\n                                     || oh.refund_order_form.$submitted)" role=alert>Employee Name is required.</div></div></div><div class="form-group m-l-10"><label class=block>Note</label><div class=input-large><textarea class=form-control rows=2 name=note ng-model=oh.refund_order.note ng-required=true required></textarea></div></div><div class="form-group m-l-10"><div class="alert alert-danger ng-hide alert-reg-position" ng-show=oh.refund_error role=alert>Unsuccessful Refund - API Server Response: {{order.refund_error_message}}</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div>'),a.put("modules/operator/order-management/operator-order-management.html",'<div ng-class=om.confirmNewOrderClass() ng-show=om.new_order_received ng-click=om.confirmNewOrderReceived()><h1 class="m-t-100 text-center">You have a new order.</h1><h5 class="m-t-100 text-center">Click or touch anywhere to close this alert.</h5></div><div class="page-header-title menu-bg"><h4 class=page-title>Order Management</h4><div id=last-refresh class="col-md-3 pull-right m-t-5"><span ng-show="om.last_update.length > 3">Last Refresh: {{om.last_update}}</span></div><button ng-show=!om.audio_on class="btn btn-danger" ng-disabled ng-click=om.turnOnAudio()>Turn On Audio</button> <button ng-show=om.audio_on class="btn btn-danger" ng-disabled ng-click=om.turnOffAudio()>Turn Off Audio</button> <button class="btn btn-info" ng-disabled ng-click=om.refreshOrders()>Refresh</button></div><div class=order-management-page><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="om.pending_orders.open = !om.pending_orders.open"><h3 class=panel-title><i class="panel-title fa fa-plus pull-left" ng-if=!om.pending_orders.open aria-hidden=true></i> <i class="panel-title fa fa-minus pull-left" ng-if=om.pending_orders.open aria-hidden=true></i> Pending Orders</h3></div><div class=panel-body ng-if=om.pending_orders.open><h5 class=pre-load-text ng-if="om.pending_orders.orders.length < 1">No Current Orders</h5><table class="table table-hover table-width-100 content-table" ng-if="om.pending_orders.orders.length > 0"><thead><tr><td style="width: 30px"></td><td class="bold fix-table-wrap">Order ID</td><td class="bold fix-table-wrap">Time Due</td><td class="bold fix-table-wrap">Order Type</td><td class=bold>Name</td><td class=bold># Items</td><td class=bold>Tip</td><td class=bold>Total</td><td ng-if=!om.read_only style="width: 30px" class=bold>Move to Complete</td></tr></thead><tbody><tr ng-repeat-start="order in om.pending_orders.orders" ng-click="order.show_detail = !order.show_detail" ng-class="{\'active\':order.show_detail}"><td><div class=text-center><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i></div></td><td>{{order.order_id}}</td><td>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</td><td>{{om.decodeOrderType(order.order_type)}}</td><td>{{order.full_name}}</td><td>{{order.order_qty}}</td><td>{{order.tip_amt}}</td><td>{{order.grand_total}}</td><td ng-if=!om.read_only><button ng-click="om.completeOrderConfirm(order, $index, \'pending_orders\')" class="btn-soft-blue check-button"><i class="fa fa-check" aria-hidden=true></i></button></td></tr><tr ng-if=order.show_detail ng-repeat-end="" class=hidden-hover><td colspan=9 style="border-top: transparent"><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div ng-show="order_item.note.length > 0" class="dark-grey-2 m-l-10">NOTE:</div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></td></tr></tbody></table><div class=content-responsive ng-if="om.pending_orders.orders.length > 0"><div ng-repeat="order in om.pending_orders.orders"><div class="panel panel-body row-table" ng-click="order.show_detail = !order.show_detail"><div class=name><h5 class=dark-grey style="margin: 7px 0px"><b><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i> {{order.full_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order Count #<span class=id-number>{{order.order_id}}</span></h5></div><div class="description clear"><div>Time Due:</div><div>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</div><div>{{order.order_qty}} Item(s)</div><div class=pull-right><b>Tip:</b>{{order.tip_amt}} - <b>Grant Total:</b> {{order.grand_total}}</div><div class="clear refund-button"><button ng-click="om.completeOrderConfirm(order, $index, \'pending_orders\')" class="btn-soft-blue check-button"><i class="fa fa-check" aria-hidden=true></i></button></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border><span class=text>Details</span></div></div><div ng-if=order.show_detail><div class=p-0><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div ng-show="order_item.note.length > 0" class="dark-grey-2 m-l-10">NOTE:</div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border></div></div></div></div></div></div><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="om.active_orders.open = !om.active_orders.open"><h3 class=panel-title>Active Orders</h3></div><div class=panel-body ng-if=om.active_orders.open><h5 class=pre-load-text ng-show="om.active_orders.orders.length < 1">No Current Orders</h5><table class="table table-hover table-width-100 content-table" ng-if="om.active_orders.orders.length > 0"><thead><tr><td style="width: 30px"></td><td class="bold fix-table-wrap">Order ID</td><td class="bold fix-table-wrap">Time Due</td><td class="bold fix-table-wrap">Order Type</td><td class=bold>Name</td><td class=bold># Items</td><td class=bold>Tip</td><td class=bold>Total</td><td ng-if=!om.read_only style="width: 30px" class=bold>Move to Complete</td></tr></thead><tbody><tr ng-repeat-start="order in om.active_orders.orders" ng-click="order.show_detail = !order.show_detail" ng-class="{\'active\':order.show_detail}"><td><div class=text-center><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i></div></td><td>{{order.order_id}}</td><td>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</td><td>{{om.decodeOrderType(order.order_type)}}</td><td>{{order.full_name}}</td><td>{{order.order_qty}}</td><td>{{order.tip_amt}}</td><td>{{order.grand_total}}</td><td ng-if=!om.read_only><button ng-click="om.completeOrderConfirm(order, $index, \'active_orders\')" class="btn-soft-blue check-button"><i class="fa fa-check" aria-hidden=true></i></button></td></tr><tr ng-if=order.show_detail ng-repeat-end="" class=hidden-hover><td colspan=9 style="border-top: transparent"><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div ng-show="order_item.note.length > 0" class="dark-grey-2 m-l-10">NOTE:</div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></td></tr></tbody></table><div class=content-responsive ng-if="om.active_orders.orders.length > 0"><div ng-repeat="order in om.active_orders.orders"><div class="panel panel-body row-table" ng-click="order.show_detail = !order.show_detail"><div class=name><h5 class=dark-grey style="margin: 7px 0px"><b><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i> {{order.full_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order Count #<span class=id-number>{{order.order_id}}</span></h5></div><div class="description clear"><div>Time Due:</div><div>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</div><div>{{order.order_qty}} Item(s)</div><div class=pull-right><b>Tip:</b>{{order.tip_amt}} - <b>Grant Total:</b> {{order.grand_total}}</div><div class="clear refund-button"><button ng-click="om.completeOrderConfirm(order, $index, \'active_orders\')" class="btn-soft-blue check-button"><i class="fa fa-check" aria-hidden=true></i></button></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border><span class=text>Details</span></div></div><div ng-if=order.show_detail><div class=p-0><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div ng-show="order_item.note.length > 0" class="dark-grey-2 m-l-10">NOTE:</div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border></div></div></div></div></div></div><div class="panel panel-primary"><div id=over-due-heading class="panel-heading section-select"><h3 class=panel-title>Overdue Orders</h3></div><div class=panel-body><h5 class=pre-load-text ng-if="om.overdue_orders.orders.length < 1">No Current Orders</h5><table class="table table-hover table-width-100 content-table" ng-if="om.overdue_orders.orders.length > 0"><thead><tr><td style="width: 30px"></td><td class="bold fix-table-wrap">Order ID</td><td class="bold fix-table-wrap">Time Due</td><td class="bold fix-table-wrap">Order Type</td><td class=bold>Name</td><td class=bold># Items</td><td class=bold>Tip</td><td class=bold>Total</td><td ng-if=!om.read_only style="width: 30px" class=bold>Move to Complete</td></tr></thead><tbody><tr ng-repeat-start="order in om.overdue_orders.orders" ng-click="order.show_detail = !order.show_detail" ng-class="{\'active\':order.show_detail}"><td><div class=text-center><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i></div></td><td>{{order.order_id}}</td><td>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</td><td>{{om.decodeOrderType(order.order_type)}}</td><td>{{order.full_name}}</td><td>{{order.order_qty}}</td><td>{{order.tip_amt}}</td><td>{{order.grand_total}}</td><td ng-if=!om.read_only><button ng-click="om.completeOrderConfirm(order, $index, \'overdue_orders\')" class="btn-soft-blue check-button"><i class="fa fa-check" aria-hidden=true></i></button></td></tr><tr ng-if=order.show_detail ng-repeat-end="" class=hidden-hover><td colspan=9 style="border-top: transparent"><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div ng-show="order_item.note.length > 0" class="dark-grey-2 m-l-10">NOTE:</div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></td></tr></tbody></table><div class=content-responsive ng-if="om.overdue_orders.orders.length > 0"><div ng-repeat="order in om.overdue_orders.orders"><div class="panel panel-body row-table" ng-click="order.show_detail = !order.show_detail"><div class=name><h5 class=dark-grey style="margin: 7px 0px"><b><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i> {{order.full_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order Count #<span class=id-number>{{order.order_id}}</span></h5></div><div class="description clear"><div>Time Due:</div><div>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</div><div>{{order.order_qty}} Item(s)</div><div class=pull-right><b>Tip:</b>{{order.tip_amt}} - <b>Grant Total:</b> {{order.grand_total}}</div><div class="clear refund-button"><button ng-click="event.stopPropagation(); om.completeOrderConfirm(order, $index, \'overdue_orders\');" class="btn-soft-blue check-button"><i class="fa fa-check" aria-hidden=true></i></button></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border><span class=text>Details</span></div></div><div ng-if=order.show_detail><div class=p-0><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border></div></div></div></div></div></div><div class="panel panel-primary"><div class="panel-heading section-select" ng-click="om.completed_orders.open = !om.completed_orders.open"><h3 class=panel-title><i class="panel-title fa fa-plus" ng-if=!om.completed_orders.open aria-hidden=true></i> <i class="panel-title fa fa-minus" ng-if=om.completed_orders.open aria-hidden=true></i> Completed Orders</h3></div><div class=panel-body ng-if=om.completed_orders.open><h5 class=pre-load-text ng-if="om.completed_orders.orders.length < 1">No Current Orders</h5><table class="table table-hover table-width-100 content-table" ng-if="om.completed_orders.orders.length > 0"><thead><tr><td style="width: 30px"></td><td class="bold fix-table-wrap">Order ID</td><td class="bold fix-table-wrap">Time Due</td><td class="bold fix-table-wrap">Order Type</td><td class=bold>Name</td><td class=bold># Items</td><td class=bold>Tip</td><td class=bold>Total</td></tr></thead><tbody><tr ng-repeat-start="order in om.completed_orders.orders" ng-click="order.show_detail = !order.show_detail" ng-class="{\'active\':order.show_detail}"><td><div class=text-center><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i></div></td><td>{{order.order_id}}</td><td>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</td><td>{{om.decodeOrderType(order.order_type)}}</td><td>{{order.full_name}}</td><td>{{order.order_qty}}</td><td>{{order.tip_amt}}</td><td>{{order.grand_total}}</td></tr><tr ng-if=order.show_detail ng-repeat-end="" class=hidden-hover><td colspan=9 style="border-top: transparent"><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span ng-show="order.note.length > 0" class=bold>Note:</span> {{order.note}}</div><div ng-show="order.order_type == \'D\'"><span class=bold>Address:</span> {{order.delivery_address}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></td></tr></tbody></table><div class=content-responsive ng-if="om.completed_orders.orders.length > 0"><div ng-repeat="order in om.completed_orders.orders"><div class="panel panel-body row-table" ng-click="order.show_detail = !order.show_detail"><div class=name><h5 class=dark-grey style="margin: 7px 0px"><b><i class="fa fa-plus" ng-show=!order.show_detail aria-hidden=true></i> <i class="fa fa-minus" ng-show=order.show_detail aria-hidden=true></i> {{order.full_name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Order Count #<span class=id-number>{{order.order_id}}</span></h5></div><div class="description clear"><div>Time Due:</div><div>{{order.pickup_time}} - {{order.pickup_day}}, {{order.pickup_month}} {{order.pickup_day_of_month}}</div><div>{{order.order_qty}} Item(s)</div><div class=pull-right><b>Tip:</b>{{order.tip_amt}} - <b>Grant Total:</b> {{order.grand_total}}</div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border><span class=text>Details</span></div></div><div ng-if=order.show_detail><div class=p-0><div style="margin-right: 20px; margin-left: 20px"><div><span class=bold>Customer:</span> {{order.user_email}}</div><div><span class=bold>Contact No:</span> {{order.user_phone_no}}</div><div><span class=bold>Note:</span> {{order.note}}</div><h4 class=bold>Items</h4><div ng-repeat="order_item in order.order_items"><hr/><div class=item><strong>{{order_item.quantity}} {{order_item.size_name}} {{order_item.item_name}}</strong><div>$ {{order_item.price}}</div></div><div><div class=m-l-20 ng-show="order_item.note.length > 0"><span>{{order_item.note}}</span></div><div ng-show="order_item.order_detail_held_modifiers.length > 0" class="dark-grey-2 m-l-10">HOLD THE:</div><div class=m-l-20 ng-show="order_item.order_detail_held_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_held_modifiers)}}</span></div><div ng-show="order_item.order_detail_modifiers.length > 0" class="dark-grey-2 m-l-10">WITH:</div><div class=m-l-20 ng-show="order_item.order_detail_modifiers.length > 0"><span>{{om.commaAndList(order_item.order_detail_modifiers)}}</span></div><div ng-show="order_item.order_detail_sides.length > 0" class="dark-grey-2 m-l-10">SIDES:</div><div class=m-l-20 ng-show="order_item.order_detail_sides.length > 0"><span>{{om.commaAndList(order_item.order_detail_sides)}}</span></div></div></div><div class=total-container><div class=payment-numbers><div>Order Amount:</div><div class=amount>{{order.order_amt}}</div></div><div class=payment-numbers ng-show="order.promo_amt > 0"><div>Promo:</div><div class=amount>{{order.promo_amt}}<br>{{order.promo_code}} code</div></div><div class=payment-numbers ng-show="order.delivery_amt > 0"><div>Delivery:</div><div class=amount>{{order.delivery_amt}}</div></div><div class=payment-numbers><div>Tax Amount:</div><div class=amount>{{order.total_tax_amt}}</div></div><div class=payment-numbers><div>Grand Total:</div><div class=amount>{{order.grand_total}}</div></div><div class=payment-numbers><div>Tip:</div><div class=amount>{{order.tip_amt}}</div></div></div></div></div></div><div class=line-box-container ng-if=order.show_detail><div class=line-border></div></div></div></div></div></div></div><audio id=alert-tone><source src="/assets/sounds/45-minutes-of-silence.mp3"/></audio>'),
a.put("modules/promo/directive/select-menu-categories/select-menu-categories.html",'<div id=menu-select-categories class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Menu Categories</h4></div><div class=modal-body><div class=form-group><div class=row><div class=col-md-6><div class=form-group><label class="col-md-12 control-label">Unselected Categories</label></div><div class="col-md-12 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover m-t-10"><tr ng-repeat="category in menu.unselected_menu_categories" ng-click="addCategory(category, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{category.type_id_name}}</td></tr></table></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-12 control-label">Selected Categories</label></div><div class="col-md-12 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover"><tr ng-repeat="category in menu.selected_menu_categories" ng-click="removeCategory(category, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{category.type_id_name}}</td></tr></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-info" ng-click=closeMenuObjectSelect()>Submit</button></div></div></div></div>'),a.put("modules/promo/directive/select-menu-item-sizes/select-menu-item-sizes.html",'<div id=menu-select-bogo-section-items-sizes class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Section Items</h4></div><div class=modal-body><div class=form-group><div class=row><div class=col-md-6><div class=form-group><label class="col-md-4 control-label">Unselected Item Sizes</label></div><div class="col-md-12 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover m-t-10"><tr ng-repeat="item_size in menu.unselected_menu_type_items_sizes" ng-click="addBogoItemSize(item_size, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{item_size.menu_type_name}}</td><td>{{item_size.item_name}}</td><td>{{item_size.size_name}}</td></tr></table></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-4 control-label">Selected Item Sizes:</label></div><div class="col-md-12 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover"><tr ng-repeat="item_size in menu.selected_menu_type_items_sizes" ng-click="removeBogoItemSize(item_size, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{item_size.menu_type_name}}</td><td>{{item_size.item_name}}</td><td>{{item_size.size_name}}</td></tr></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-info" ng-click=closeMenuObjectSelect()>Submit</button></div></div></div></div>'),a.put("modules/promo/directive/select-menu-items/select-menu-items.html",'<div id=menu-select-bogo-section-items class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Section Items</h4></div><div class=modal-body><div class=form-group><div class=row><div class=col-md-6><div class=form-group><input type=text class="input-med form-control m-r-10" name=merchants_filter ng-model=search_text ng-fade placeholder=Filter></div><div class=form-group><label class="col-md-4 control-label">Unselected Section Items</label><div class="col-md-8 col-lg-8 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover m-t-10"><tr ng-repeat="section_item in menu.unselected_menu_type_items | filter: itemFilter" ng-click="addBogoSectionItem(section_item, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{section_item.menu_type_name}}</td><td>{{section_item.item_name}}</td></tr></table></div></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-4 control-label">Selected Section Items:</label><div class="col-md-8 col-lg-8 m-t-10"><div class="inline m-l-10"><div class="col-md-12 button-select"><table class="table table-hover"><tr ng-repeat="section_item in menu.selected_menu_type_items" ng-click="removeBogoSectionItem(section_size, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{section_item.menu_type_name}}</td><td>{{section_item.item_name}}</td></tr></table></div></div></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-info" ng-click=closeMenuObjectSelect()>Submit</button></div></div></div></div>'),a.put("modules/promo/directive/select-menu-sections/select-menu-sections.html",'<div id=menu-select-bogo-sections class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Sections</h4></div><div class=modal-body><div class=form-group><div class=row><div class=col-md-6><div class=form-group><label class="col-md-4 col-lg-4 control-label">Unselected Sections</label><div class="col-md-8 col-lg-8 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover m-t-10"><tr ng-repeat="section in menu.unselected_menu_types" ng-click="addBogoSection(section, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{section.menu_type_id}}</td><td>{{section.menu_type_name}}</td></tr></table></div></div></div></div><div class=col-md-6><div class="form-group col-md-12"><label class="col-md-4 control-label">Selected Sections:</label><div class="col-md-8 m-t-10"><div class=inline><table class="table table-hover m-t-10"><tr ng-repeat="section in menu.selected_menu_types" ng-click="removeBogoSection(section, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{section.menu_type_id}}</td><td>{{section.menu_type_name}}</td></tr></table></div></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-info" ng-click=closeMenuObjectSelect()>Submit</button></div></div></div></div>'),a.put("modules/promo/directive/select-menu-sizes/select-menu-sizes.html",'<div id=menu-select-bogo-section-sizes class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Section Sizes</h4></div><div class=modal-body><div class=form-group><div class=row><div class=col-md-6><div class=form-group><label class="col-md-4 control-label">Unselected Section Sizes</label><div class="col-md-8 col-lg-8 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover m-t-10"><tr ng-repeat="section_size in menu.unselected_menu_type_sizes" ng-click="addBogoSectionSize(section_size, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{section_size.menu_type_name}}</td><td>{{section_size.size_name}}</td></tr></table></div></div></div></div><div class=col-md-6><div class=form-group><label class="col-md-4 control-label">Selected Section Sizes:</label><div class="col-md-8 col-lg-8 m-t-10"><div class="inline m-l-10"><div class="col-md-12 button-select"><table class="table table-hover"><tr ng-repeat="section_size in menu.selected_menu_type_sizes" ng-click="removeBogoSectionSize(section_size, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{section_size.menu_type_name}}</td><td>{{section_size.size_name}}</td></tr></table></div></div></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-info" ng-click=closeMenuObjectSelect()>Submit</button></div></div></div></div>'),a.put("modules/promo/loyalty-configuration/loyalty-configuration.html",'<div class="page-header-title marketing-bg"><h4 class=page-title>Loyalty</h4></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Loyalty Program Setup</h3></div><div class=panel-body ng-if=vm.brandConfigurationLoading><div><div class=filter-loader-contain><div class=filter-loader></div></div></div></div><form name=vm.program_setup_form novalidate class=form-horizontal><div class=panel-body ng-show=!vm.brandConfigurationLoading><div class=col-md-6><div class=form-group><label for=brand_list_select class="col-md-5 control-label">Brand</label><div class=col-md-7><select name=brand_list_select id=brand_list_select class="input-med form-control" ng-model=vm.brand ng-change=vm.loadBrandConfiguration() ng-options="item.brand_name for item in vm.brand_list track by item.brand_id" ng-required=true></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.program_setup_form.brand_list_select.$error.required && (vm.program_setup_form.brand_list_select.$touched || vm.program_setup_form.$submitted)" role=alert>Brand is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Add Loyalty</label><div class=col-md-7><toggle-switch name=add_loyalty ng-model=vm.program_setup.enabled ng-init="vm.program_setup.enabled = false" ng-disabled=!vm.program_setup.brand_id></toggle-switch></div></div><div class=form-group><label class="col-md-5 control-label">Type of Program</label><div class=col-md-7><select name=program_type class="input-med form-control" ng-required=true ng-model=vm.program_setup.loyalty_type ng-disabled=!vm.program_setup.brand_id><option ng-repeat="item in vm.program_types" value={{item.id}}>{{item.name}}</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.program_setup_form.program_type.$error.required && (vm.program_setup_form.program_type.$touched || vm.program_setup_form.$submitted)" role=alert>The Type of Program field is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Points earned per $ Spent</label><div class=col-md-7><input type=text class="input-med form-control" name=points_earned ng-model=vm.program_setup.earn_value_amount_multiplier ng-fade ng-disabled=!vm.program_setup.brand_id ng-required=true ui-number-mask=0><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.program_setup_form.points_earned.$error.required && (vm.program_setup_form.points_earned.$touched || vm.program_setup_form.$submitted)" role=alert>The points earned oer $ spent field is required.</div></div></div><div class=form-group ng-if="!!vm.program_setup && vm.program_setup.loyalty_type === \'splickit_cliff\'"><label class="col-md-5 control-label">Cliff Value</label><div class=col-md-7><input type=text class="input-med form-control" name=cliff_value ng-model=vm.program_setup.cliff_value ng-fade ng-disabled=!vm.program_setup.brand_id ng-required=true ui-number-mask=0><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.program_setup_form.cliff_value.$error.required && (vm.program_setup_form.cliff_value.$touched || vm.program_setup_form.$submitted)" role=alert>The Cliff Value field is required.</div></div></div><div class=form-group ng-if="!!vm.program_setup && vm.program_setup.loyalty_type === \'splickit_cliff\'"><label class="col-md-5 control-label">Cliff Award Dollar Value</label><div class=col-md-7><input type=text class="input-med form-control" name=cliff_award_dollar_value ng-model=vm.program_setup.cliff_award_dollar_value ng-fade ng-disabled=!vm.program_setup.brand_id ng-required=true ui-number-mask=2><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.program_setup_form.cliff_award_dollar_value.$error.required && (vm.program_setup_form.cliff_award_dollar_value.$touched || vm.program_setup_form.$submitted)" role=alert>The Cliff Award Dollar Value field is required.</div></div></div><div class=form-group><label class="col-md-5 control-label"># of Points on Join (Optional)</label><div class=col-md-7><input type=text class="input-med form-control" name=points_on_join ng-model=vm.program_setup.starting_point_value ng-fade ng-disabled=!vm.program_setup.brand_id ui-number-mask=0></div></div><div class=form-group><label class="col-md-5 control-label">Charge Tax on Redemption</label><div class=col-md-7><toggle-switch name=charge_tax ng-model=vm.program_setup.charge_tax ng-init="vm.program_setup.charge_tax = false" ng-disabled=!vm.program_setup.brand_id></toggle-switch></div></div><div class=form-group ng-if=!!vm.program_setup.brand_id><label class="col-md-5 control-label">Loyalty Logo</label><div class=col-md-7><img ng-src={{vm.logoURL}} alt="" ng-if="!!vm.logoURL && !!!vm.file" style="background: whitesmoke; max-width: 158px; max-height: 66px; border-radius: 10px" ng-click=vm.showImageModal()> <img src=/img/thumbnail.png alt="" ng-if="!!!vm.file && !!!vm.logoURL" style="background: whitesmoke; max-width: 158px; max-height: 66px; border-radius: 10px" ng-click=vm.showImageModal()> <img ng-if=!!vm.file ngf-src=vm.file ngf-background=vm.file ngf-resize="{width: 158, height: 66, quality: .8}" alt="" style="background: whitesmoke; max-width: 158px; max-height: 66px; border-radius: 10px" ng-click=vm.showImageModal()></div></div></div><div class=col-md-6><div class=form-group><div><text-angular ta-toolbar="[\n                                        [\'h1\',\'h2\',\'h3\',\'h4\',\'h5\',\'h6\'],\n                                        [\'p\',\'pre\', \'quote\'],[\'bold\',\'italics\',\'underline\'],\n                                        [\'ul\',\'ol\'],\n                                        [\'undo\', \'redo\', \'clear\'][\'html\']\n                                    ]" ng-model=vm.program_setup.rules_info data-ng-required=false data-name=rules_info ta-disabled=!vm.program_setup.brand_id></text-angular></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.program_setup_form.rules_info.$error.required && (vm.program_setup_form.rules_info.$touched || vm.program_setup_form.$submitted)" role=alert>The rules copy field is required.</div></div></div><div class=col-md-12><button type=button class="btn btn-success pull-right" ng-click=vm.submitInformation() ng-disabled=!vm.program_setup.brand_id>Submit</button></div><div class=col-md-12><div class="alert-success alert-reg-position form-submit-success fade-effect" ng-show=vm.updateSuccess role=alert><i class="fa fa-check-circle" aria-hidden=true></i> Loyalty Program Setup Updated.</div></div></div></form><div class="panel panel-primary" ng-show=!vm.brandConfigurationLoading><div class="panel-heading flex-init flex-justify-content-space-between"><h3 class=panel-title>Bonus Points Days</h3><button type=button class="btn btn-success" ng-click=vm.openPointDaysSelector() ng-disabled=!vm.program_setup.brand_id>+ Add New</button></div><div class=panel-body><h5 class=pre-load-text ng-if="vm.bonus_points_days_records.length == 0">No records</h5><table class="table content-table" ng-if="vm.bonus_points_days_records.length > 0"><thead><tr><th class=cursor-pointer>Day Of Week</th><th class=cursor-pointer>Name It</th><th class=cursor-pointer>Start Date</th><th class=cursor-pointer>End Date</th><th class=cursor-pointer>Points Multiplier</th><th></th></tr></thead><tbody><tr ng-repeat="item in vm.bonus_points_days_records"><td>{{item.trigger_value}}</td><td>{{item.history_label}}</td><td>{{item.first_date_available}}</td><td>{{item.last_date_available}}</td><td>{{item.value}}</td><td class=delete-icon><i class="fa fa-times" aria-hidden=true ng-click=vm.deleteBonusPointsDays(item)></i></td></tr></tbody></table></div></div></div></div></div><div id=point-days-selector class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create Bonus Point Day</h4></div><form name=vm.advanced_setup_form novalidate class=form-horizontal><div class=modal-body><div class=form-group><label class="col-md-5 control-label">Bonus Points Days</label><div class=col-md-7><select name=bonus_days class="input-med form-control" ng-required=true ng-model=vm.advanced_setup.trigger_value ng-disabled=!vm.program_setup.brand_id><option ng-repeat="item in vm.bonus_points_days" value={{item.id}}>{{item.name}}</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.advanced_setup_form.bonus_days.$error.required && (vm.advanced_setup_form.bonus_days.$touched || vm.advanced_setup_form.$submitted)" role=alert>The Bonus Points Days is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Name It</label><div class=col-md-7><input type=text class="input-med form-control" name=name_it ng-model=vm.advanced_setup.history_label ng-fade ng-required=true ng-disabled=!vm.program_setup.brand_id><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.advanced_setup_form.name_it.$error.required && (vm.advanced_setup_form.name_it.$touched || vm.advanced_setup_form.$submitted)" role=alert>The Name It field is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Start Day</label><div class=col-md-7><input type=date class="form-control input-med flex-init" placeholder=MM/DD name=start_day ng-required=true ng-model=vm.advanced_setup.first_date_available ng-disabled=!vm.program_setup.brand_id><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.advanced_setup_form.start_day.$error.required && (vm.advanced_setup_form.start_day.$touched || vm.advanced_setup_form.$submitted)" role=alert>The Start Day field is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">End Day</label><div class=col-md-7><input type=date class="form-control input-med flex-init" placeholder=MM/DD name=end_day ng-required=true ng-model=vm.advanced_setup.last_date_available ng-disabled=!vm.program_setup.brand_id><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.advanced_setup_form.end_day.$error.required && (vm.advanced_setup_form.end_day.$touched || vm.advanced_setup_form.$submitted)" role=alert>The Start Day field is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Points Multiplier</label><div class=col-md-7><input type=text class="input-med form-control" name=points_multiplier ng-model=vm.advanced_setup.value ng-fade ng-required=true ng-disabled=!vm.program_setup.brand_id ui-number-mask=0><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.advanced_setup_form.points_multiplier.$error.required && (vm.advanced_setup_form.points_multiplier.$touched || vm.advanced_setup_form.$submitted)" role=alert>The points multiplier field is required.</div></div></div></div><div class=modal-footer><button type=submit class="btn btn-success" ng-click=vm.addBonusPointsDays()>Submit</button></div></form></div></div></div><div id=image-modal class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select the Loyalty Logo</h4></div><div class=modal-body><div ng-show=false><div class=filter-loader-contain><div class=filter-loader></div></div></div><div style="margin: auto" ngf-drop ngf-select ng-model=vm.file class="drop-box site-image-drop-box" ngf-max-size=5MB ngf-drag-over-class="\'dragover\'" ngf-multiple=false ngf-allow-dir=false accept=image/* ngf-pattern="\'image/*\'" ngf-resize="{width: 158, height: 66, quality: .8}" ngf-validate-fn=vm.isValidLogo($file)>Drop image file here or click to upload</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div>'),a.put("modules/promo/promo-create/promo-create.html",'<div class=row><div class=col-sm-12><div class="page-header-title marketing-bg"><h4 class="pull-left page-title">Create New Promo</h4><ol class="breadcrumb pull-right"><li><a href="#/">Home</a></li></ol><div class=clearfix></div></div></div></div><div class="row create-promo-view"><div class=col-md-9><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>New Promo</h3></div><div class=panel-body><form name=new_promo.create_form class="form-horizontal padding-fix" novalidate ng-submit=new_promo.create()><div class=form-group ng-if=new_promo.can_select_brands><label class="col-md-3 col-lg-3 control-label">Brand</label><div class="col-md-9 col-lg-9"><select name=brand class="form-control input-large margin-top-five" ng-required=true ng-change=new_promo.loadMenuOptions() ng-model=new_promo.promo_data.brand_id ng-fade ng-options="brand.brand_id as brand.brand_name for brand in new_promo.brands"><option class=placeholder-color value="" selected disabled>Brand</option></select><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.brand.$error.required\n                                 && (new_promo.create_form.brand.$faded || new_promo.promo_data.submit)" role=alert>Brand is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Keyword(s)</label><div class="col-md-9 col-lg-9"><input type=text class="input-large form-control inline" name=keywords placeholder="Promo Codes , Separated" ng-model=new_promo.promo_data.key_word ng-blur=new_promo.validateKeyWords() ng-fade ng-required=!new_promo.promo_data.automatic_promo ng-disabled=new_promo.promo_data.automatic_promo> <button type=button class="btn-success btn-xs inline m-l-10" ng-click="new_promo.promo_data.automatic_promo = true" ng-show=!new_promo.promo_data.automatic_promo>No Keywords Needed</button> <button type=button class="btn-success btn-xs inline m-l-10" ng-click="new_promo.promo_data.automatic_promo = false" ng-show=new_promo.promo_data.automatic_promo>Keyword Driven Promo</button><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.keywords.$error.required\n                                 && (new_promo.create_form.keywords.$faded || new_promo.promo_data.submit)" role=alert>Keyword is required.</div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.keywords.$error.key_word_new\n                                 && (new_promo.create_form.keywords.$faded || new_promo.promo_data.submit)" role=alert>{{new_promo.key_word_date_error}}</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Description</label><div class="col-md-9 col-lg-9"><input type=text class="input-large form-control" name=description placeholder="For Your Reference" ng-model=new_promo.promo_data.description ng-fade ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.description.$error.required\n                                 && (new_promo.create_form.description.$faded || new_promo.promo_data.submit)" role=alert>Description is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Promotion Type</label><div class="col-md-9 col-lg-9"><select name=cmb_promo_type class="form-control input-large margin-top-five" ng-required=true j ng-change=new_promo.loadMenuOptions(new_promo.promo_data.brand) ng-model=new_promo.promo_data.promo_type ng-fade ng-options="promo_type.code as promo_type.value for promo_type in new_promo.promo_types"><option class=placeholder-color value="" selected disabled>Discount Type</option></select><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.cmb_promo_type.$error.required\n                                 && (new_promo.create_form.cmb_promo_type.$faded || new_promo.promo_data.submit)" role=alert>Promotion Type is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">First Order</label><div class="col-md-9 col-lg-9 m-t-5"><toggle-switch name=first_order ng-model=new_promo.promo_data.valid_on_first_order_only></toggle-switch></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Order Type</label><div class="col-md-9 col-lg-9"><select name=order_type class="form-control input-large margin-top-five" ng-required=true j ng-change=new_promo.loadMenuOptions(new_promo.promo_data.brand) ng-model=new_promo.promo_data.order_type ng-fade ng-options="order_type.code as order_type.value for order_type in new_promo.order_types"><option class=placeholder-color value="" selected disabled>Order Type</option></select><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.order_type.$error.required\n                                 && (new_promo.create_form.order_type.$faded || new_promo.promo_data.submit)" role=alert>Order Type is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Uses Per Customer</label><div class="col-md-9 col-lg-9"><toggle-switch class=fix-margin style="margin-top: 2px" name=customer_uses ng-model=new_promo.promo_data.customer_uses></toggle-switch><div ng-show=!new_promo.promo_data.customer_uses class="secondary-text m-t-5">Leave Off for Unlimited Customer Uses</div><input type=number class="m-t-5 input-med form-control" name=max_use placeholder="Enter Max Uses" min=1 max=1000 ng-max=1000 ng-min=1 ng-model=new_promo.promo_data.max_use ng-show=new_promo.promo_data.customer_uses ng-fade ng-required=new_promo.promo_data.customer_uses><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(new_promo.create_form.max_use.$error.required || new_promo.create_form.max_use.$error.number)\n                                 && (new_promo.create_form.max_use.$faded || new_promo.promo_data.submit)" role=alert>If turned on, a value for the number of customer total uses is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Multiple Uses Per Order</label><div class="col-md-9 col-lg-9 m-t-5"><toggle-switch class=fix-margin2 name=allow_multiple_use_per_order ng-model=new_promo.promo_data.allow_multiple_use_per_order></toggle-switch></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Max Uses Per Campaign</label><div class="col-md-9 col-lg-9"><toggle-switch class=fix-margin name=campaign_uses ng-model=new_promo.promo_data.campaign_uses></toggle-switch><div ng-show=!new_promo.promo_data.campaign_uses class="secondary-text m-t-5">Maximum promo redemptions by all users collectively. (Example: I only want this Promo used100 times.) Leave off if you do not want to limit the number of collective redemptions</div><input type=number class="m-t-5 input-med form-control" name=max_redemptions placeholder="Enter Max Uses" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=new_promo.promo_data.max_redemptions ng-show=new_promo.promo_data.campaign_uses ng-fade ng-required=new_promo.promo_data.campaign_uses><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(new_promo.create_form.max_redemptions.$error.required || new_promo.create_form.max_redemptions.$error.number)\n                                 && (new_promo.create_form.max_redemptions.$faded || new_promo.promo_data.submit)" role=alert>If turned on, a value for the number of campaign total uses is required.</div></div></div><date-range-to-from-picker date-options=new_promo.date_options on-period-changed="new_promo.onPeriodChanged(startDate, endDate)"></date-range-to-from-picker><input type=hidden ng-model=new_promo.promo_data.start_date> <input type=hidden ng-model=new_promo.promo_data.end_date><div ng-show="new_promo.userService.hasPermission(\'multi_merchs_filter\')" class="form-group m-t-10 m-b-10"><button id=create-promo-open-select-merchants-button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled ng-show="new_promo.merchant_search_service.selected_merchants.length < 1" ng-click=new_promo.showSelectMerchantModal()>Select Merchants for Promo</button> <button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled ng-show="new_promo.merchant_search_service.selected_merchants.length > 0" ng-click=new_promo.showSelectMerchantModal()>Change Merchants for Promo Selection</button><div class=col-md-12><div class=col-md-3></div><div class="col-md-9 col-lg-9"><div class="secondary-text m-t-10" ng-show="new_promo.userService.hasPermission(\'brands_filter\')">Only select merchants if not all merchants tied to your brand will be honoring this promo.</div><div class="secondary-text m-t-10" ng-show="!new_promo.userService.hasPermission(\'brands_filter\')">Only select specific merchants if you are not applying this promo to all your locations.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show=new_promo.create_form.keywords.$error.merchants_menu_valid role=alert>Sorry, the merchants you\'ve selected cannot be grouped for promotions.</div></div></div></div><div class=filter-loader-contain ng-if=new_promo.validatingMerchantGroups><div class=filter-loader></div></div><div class="form-group margin-top-10 m-b-10" ng-show="new_promo.merchant_search_service.selected_merchants.length > 0"><label class="col-md-3 col-lg-3 control-label">Selected Merchants</label><div class="col-md-9 m-t-10" ng-show="new_promo.merchant_search_service.selected_merchants.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th>ID</th><th>Name</th><th>Address</th></tr></thead><tbody><tr ng-repeat="merchant in new_promo.merchant_search_service.selected_merchants"><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label"></label><div class="col-md-9 col-lg-9"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show=new_promo.create_form.keywords.$error.to_before_from role=alert>"To Date" must be after "From Date".</div></div></div><div ng-show=new_promo.discountPromoType()><div class=form-group><label class="col-md-3 col-lg-3 control-label">Min Order Amount</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=qualifying_amt placeholder="Qualifying Cart Subtotal" ng-model=new_promo.promo_data.qualifying_amt ng-fade ng-required=new_promo.discountPromoType()><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.qualifying_amt.$error.required\n                                 && (new_promo.create_form.qualifying_amt.$faded || new_promo.promo_data.submit)" role=alert>Minimum Order Amount is Required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.promo_type == 1"><label class="col-md-3 col-lg-3 control-label">Discount Type</label><div class="col-md-9 col-lg-9"><select name=discount_type class="form-control input-large margin-top-five" ng-required="new_promo.promo_data.promo_type == 1" ng-model=new_promo.promo_data.discount_type ng-fade ng-change=new_promo.zeroOutUnselectedDiscountTypes() ng-options="discount_type.code as discount_type.value for discount_type in new_promo.discount_types"><option class=placeholder-color value="" selected disabled>Discount Type</option></select><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.discount_type.$error.required\n                                 && (new_promo.create_form.discount_type.$faded || new_promo.promo_data.submit)" role=alert>Discount Type is required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.promo_type == 4 || new_promo.promo_data.promo_type == 5"><label class="col-md-3 col-lg-3 control-label">Discount Type</label><div class="col-md-9 col-lg-9"><select name=discount_type_4_5 class="form-control input-large margin-top-five" ng-required="new_promo.promo_data.promo_type == 4 || new_promo.promo_data.promo_type == 5" ng-model=new_promo.promo_data.discount_type ng-fade ng-change=new_promo.zeroOutUnselectedDiscountTypes() ng-options="discount_type.code as discount_type.value for discount_type in new_promo.discount_types_4_5"><option class=placeholder-color value="" selected disabled>Discount Type</option></select><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.discount_type_4_5.$error.required\n                                 && (new_promo.create_form.discount_type_4_5.$faded || new_promo.promo_data.submit)" role=alert>Discount Type is required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.discount_type == \'percent_off\'"><label class="col-md-3 col-lg-3 control-label">% Off</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=percent_off placeholder="Enter Promo % Off" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=new_promo.promo_data.percent_off ng-fade ng-required="new_promo.promo_data.discount_type == \'percent_off\'"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.percent_off.$error.required\n                                 && (new_promo.create_form.percent_off.$faded || new_promo.promo_data.submit)" role=alert>Percent Off is Required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.discount_type == \'dollars_off\'"><label class="col-md-3 col-lg-3 control-label">Dollars Off</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=promo_amt placeholder="Enter Promo $ Off" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=new_promo.promo_data.fixed_amount_off ng-fade ng-required="new_promo.promo_data.discount_type == \'fixed_amount_off\'"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.fixed_amount_off.$error.required\n                                 && (new_promo.create_form.fixed_amount_off.$faded || new_promo.promo_data.submit)" role=alert>Dollars Off is Required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.discount_type == \'fixed_price\'"><label class="col-md-3 col-lg-3 control-label">Fixed Price</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=fixed_price placeholder="Enter Promo Fixed Price" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=new_promo.promo_data.fixed_price ng-fade ng-required="new_promo.promo_data.discount_type == \'fixed_price\'"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.fixed_price.$error.required\n                                 && (new_promo.create_form.fixed_price.$faded || new_promo.promo_data.submit)" role=alert>Fixed Price is Required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.promo_type == 1"><label class="col-md-3 col-lg-3 control-label">Max Amount Off</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=max_amt_off placeholder=$$ ng-model=new_promo.promo_data.max_amt_off ng-fade><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.max_amount_off.$error.required\n                                 && (new_promo.create_form.max_amount_off.$faded || new_promo.promo_data.submit)" role=alert>Max Amount Off is Required.</div></div></div></div><div class="text-center m-t-20" ng-show="new_promo.promo_data.promo_type == 2 || new_promo.promo_data.promo_type == 4 || new_promo.promo_data.promo_type == 5"><button id=menu-select-button type=button class="btn menu-btn btn-primary fix-button-wrap-text" data-toggle=modal ng-disabled ng-show=!new_promo.bogo_menu_selected data-target=#menu-select-modal ng-click="new_promo.merchant_search_service.selected_merchants = [];">Select Menu for Promo</button> <button type=button class="btn-primary menu-btn btn fix-button-wrap-text" data-toggle=modal ng-disabled ng-show=new_promo.bogo_menu_selected data-target=#menu-select-modal ng-click="new_promo.merchant_search_service.selected_merchants = [];">Change Menu for Promo from {{new_promo.menu.current_menu.name}}</button></div><div ng-show="new_promo.promo_data.promo_type == 2"><h2 class=dark-grey>Buy One Get One Free</h2><div ng-show=new_promo.bogo_menu_selected><h3 class=dark-grey>Buy Menu Elements</h3><div ng-show="new_promo.promo_data.bogo_menu_selections.buy_type == \'\' && new_promo.menu.menu_type_sizes.length > 0"><h5 class=dark-grey>What level of the menu will the Buy option exist on?</h5><div class=row><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectCategories(\'bogo-buy\')">Category</button><h5 class=pre-load-text>"By Entr&eacute;e get..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSections(\'bogo-buy\')">Section</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.menu_type_name}} get..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionSizes(\'bogo-buy\')">Section Size</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.menu_type_name}} w/ size {{new_promo.example_bogo.size_name}} get..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionItems(\'bogo-buy\')">Item</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.item_name}} get..."</h5></div></div><div class=row><div class="col-md-3 col-lg-3 text-center float-fix"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSectionItemSizes(\'bogo-buy\')">Item Size</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.item_name}} w/ size {{new_promo.example_bogo.size_name}} get..."</h5></div></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_buy_category_list.length > 0"><label class="col-md-5 col-lg-3">Buy Menu Categories:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_buy_category_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_buy_sections_list.length > 0"><label class="col-md-5 col-lg-3">Buy Menu Sections:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_buy_sections_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.buy_selections.section_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Buy Section Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.buy_selections.section_sizes_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_buy_section_items_list.length > 0"><label class="col-md-3 col-lg-3">Buy Items:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_buy_section_items_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_buy_section_items_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Buy Item Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_buy_section_items_sizes_list}}</h5></div></div><div><h3 class="dark-grey m-t-20" style="clear: both">Get Menu Elements</h3></div><div ng-show="new_promo.promo_data.bogo_menu_selections.get_type == \'\' && new_promo.menu.menu_type_sizes.length > 0"><h5 class=dark-grey>What level of the menu will the "Get" option exist on?</h5><div class=row><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectCategories(\'bogo-get\')">Category</button><h5 class=pre-load-text>"Entr&eacute;e"</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSections(\'bogo-get\')">Section</button><h5 class=pre-load-text>"...Get {{new_promo.example_bogo.menu_type_name}}"</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionSizes(\'bogo-get\')">Section Size</button><h5 class=pre-load-text>"Get {{new_promo.example_bogo.menu_type_name}} w/ size {{new_promo.example_bogo.size_name}}"</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionItems(\'bogo-get\')">Item</button><h5 class=pre-load-text>"...Get {{new_promo.example_bogo.item_name}}"</h5></div></div><div class=row><div class="col-md-3 col-lg-3 text-center float-fix"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSectionItemSizes(\'bogo-get\')">Item Size</button><h5 class=pre-load-text>"...Get {{new_promo.example_bogo.item_name}} w/ size {{new_promo.example_bogo.size_name}}"</h5></div></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_get_category_list.length > 0"><label class="col-md-5 col-lg-3">Get Menu Categories:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_get_category_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_get_sections_list.length > 0"><label class="col-md-3 col-lg-3">Get Menu Sections:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_get_sections_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_get_section_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Get Section Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_get_section_sizes_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_get_section_items_list.length > 0"><label class="col-md-3 col-lg-3">Get Items:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_get_section_items_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.bogo_menu_selections.selected_get_section_items_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Get Item Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.bogo_menu_selections.selected_get_section_items_sizes_list}}</h5></div></div><div class=text-center ng-show="new_promo.promo_data.bogo_menu_selections.get_type == \'item_size\'"><div class="col-md-12 margin-button-10"><button type=button class="btn-primary btn btn-lg auto-margin" ng-click="new_promo.openBogoSectionSectionItemsSizes(\'get\')">Select "Get" Item Sizes</button></div></div><div class="col-md-12 m-t-10 m-b-10"><button type=button class="btn-default btn btn-xs pul-right" ng-show="new_promo.promo_data.bogo_menu_selections.get_type != \'\'" ng-click="new_promo.promo_data.bogo_menu_selections.get_type = \'\'"><i class="fa fa-times-circle"></i> Change Get Menu Element Type</button></div></div><div class="input-large alert alert-danger alert-reg-position" ng-show="new_promo.create_form.keywords.$error.buy_object_selected\n                                 && new_promo.promo_data.submit" role=alert>You must select at least one "Buy" menu object.</div><div class="input-large alert alert-danger alert-reg-position" ng-show="new_promo.create_form.keywords.$error.get_object_selected\n                                 && new_promo.promo_data.submit" role=alert>You must select at least one "Get" menu object.</div></div><div ng-show="new_promo.promo_data.promo_type == 5"><h2 class=dark-grey>Buy ALL Menu Entities for Discount</h2><div ng-show=new_promo.bogo_menu_selected><div><div class=row><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectCategories(\'discount-all\')">Category</button><h5 class=pre-load-text>"By Entr&eacute;e for discount..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSections(\'discount-all\')">Section</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.menu_type_name}} for discount..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionSizes(\'discount-all\')">Section Size</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.menu_type_name}} w/ size {{new_promo.example_bogo.size_name}} for discount..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionItems(\'discount-all\')">Item</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.item_name}} for discount..."</h5></div></div><div class=row><div class="col-md-3 col-lg-3 text-center float-fix"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSectionItemSizes(\'discount-all\')">Item Size</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.item_name}} w/ size {{new_promo.example_bogo.size_name}} get..."</h5></div></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_all_discount_category_list.length > 0"><label class="col-md-5 col-lg-3">Discount Categories:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.buy_all_discount_category_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_all_discount_sections_list.length > 0"><label class="col-md-5 col-lg-3">Discount Sections:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.buy_all_discount_sections_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_all_discount.section_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Discount Section Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.buy_all_discount.section_sizes_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_all_discount_section_items_list.length > 0"><label class="col-md-3 col-lg-3">Discount Items:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.buy_all_discount_section_items_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_all_discount_section_items_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Discount Item Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.buy_all_discount_section_items_sizes_list}}</h5></div></div></div><div class="input-large alert alert-danger alert-reg-position" ng-show="new_promo.create_form.keywords.$error.buy_all_object_selected\n                                 && new_promo.promo_data.submit" role=alert>You must select at least one "Buy All" menu object.</div></div><div ng-show="new_promo.promo_data.promo_type == 4"><h2 class=dark-grey>Buy ANY Menu Entities for Discount</h2><div ng-show=new_promo.bogo_menu_selected><div><div class=row><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectCategories(\'discount-any\')">Category</button><h5 class=pre-load-text>"By Entr&eacute;e for discount..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSections(\'discount-any\')">Section</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.menu_type_name}} for discount..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionSizes(\'discount-any\')">Section Size</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.menu_type_name}} w/ size {{new_promo.example_bogo.size_name}} for discount..."</h5></div><div class="col-md-3 col-lg-3 text-center"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSelectSectionItems(\'discount-any\')">Item</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.item_name}} for discount..."</h5></div></div><div class=row><div class="col-md-3 col-lg-3 text-center float-fix"><button type=button class="btn-primary btn btn-sm auto-margin" ng-click="new_promo.openSectionItemSizes(\'discount-any\')">Item Size</button><h5 class=pre-load-text>"Buy {{new_promo.example_bogo.item_name}} w/ size {{new_promo.example_bogo.size_name}} get..."</h5></div></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_any_discount_category_list.length > 0"><label class="col-md-5 col-lg-3">Discount Categories:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.buy_any_discount_category_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_any_discount_sections_list.length > 0"><label class="col-md-5 col-lg-3">Discount Sections:</label><div class=col-md-12><h5 class=dark-grey>{{new_promo.promo_data.buy_any_discount_sections_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_any_discount.section_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Discount Section Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.buy_any_discount.section_sizes_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_any_discount_section_items_list.length > 0"><label class="col-md-3 col-lg-3">Discount Items:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.buy_any_discount_section_items_list}}</h5></div></div><div class="col-md-12 m-t-15" ng-show="new_promo.promo_data.buy_any_discount_section_items_sizes_list.length > 0"><label class="col-md-3 col-lg-3">Discount Item Sizes:</label><div class="col-md-3 m-t-20"><h5 class=dark-grey>{{new_promo.promo_data.buy_any_discount_section_items_sizes_list}}</h5></div></div></div><div class="input-large alert alert-danger alert-reg-position" ng-show="new_promo.create_form.keywords.$error.buy_any_object_selected\n                                 && new_promo.promo_data.submit" role=alert>You must select at least one "Buy Any" menu object.</div></div><div ng-show="new_promo.promo_data.promo_type == 300"><div class=form-group><label class="col-md-3 col-lg-3 control-label">% of Delivery Discount</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=delivery_percent_off placeholder="Enter % Off" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=new_promo.promo_data.percent_off ng-fade ng-required="new_promo.promo_data.promo_type == 300"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.delivery_percent_off.$error.required\n                                 && (new_promo.create_form.delivery_percent_off.$faded || new_promo.promo_data.submit)" role=alert>Delivery Percent Off is Required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Min Order Amount</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=delivery_qualifying_amt placeholder="Qualifying Cart Subtotal" ng-model=new_promo.promo_data.qualifying_amt ng-fade ng-required="new_promo.promo_data.promo_type == 300"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="new_promo.create_form.delivery_qualifying_amt.$error.required\n                                 && (new_promo.create_form.delivery_qualifying_amt.$faded || new_promo.promo_data.submit)" role=alert>Minimum Order Qualifying Amount is Required.</div></div></div></div><div class=col-md-12><div ng-show=new_promo.promo_data.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class="submit-contain pull-right"><button id=submit-create-new-promo class="btn-success btn">Submit</button></div></form></div></div></div></div><div id=menu-select-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Menu</h4></div><div class=modal-body><div class=form-group><label class="col-md-3 col-lg-3 control-label">Menu Search</label><div class="col-md-9 col-lg-9"><label for=search_text>Search</label><form name=new_promo.menu_search_form novalidate ng-submit=new_promo.menuSearch()><input type=text class="input-large form-control" name=search_text placeholder="" ng-model=new_promo.search.text ng-required=true><div class=submit-contain><button class="btn-primary menu-btn btn">Search</button></div></form></div><div class=row><div class="col-xs-12 create-promo-view"><h5 class=pre-load-text ng-show=!new_promo.search.initial_search>No Search Set</h5><div class=filter-loader-contain ng-show=new_promo.search.processing><div class=filter-loader></div></div><table class="big-screen table table-hover" ng-show="new_promo.search.results.length > 0"><thead><tr><th>Menu ID</th><th>External ID</th><th>Name</th><th>Description</th></tr></thead><tbody><tr ng-repeat="search_menu in new_promo.search.results" ng-click=new_promo.selectMenu(search_menu)><td>{{search_menu.menu_id}}</td><td>{{search_menu.external_menu_id}}</td><td>{{search_menu.name}}</td><td class=eight-em-text>{{search_menu.description}}</td></tr></tbody></table><div class=small-screen><div ng-repeat="search_menu in new_promo.search.results"><div ng-click=new_promo.selectMenu(search_menu)><div class="panel row-table"><div class=name><h5 class=dark-grey><b>{{search_menu.name}}</b></h5></div><div class=id><h5 class=dark-grey>Menu ID <b>{{search_menu.menu_id}}</b></h5></div><div class=clear>External ID: {{search_menu.external_menu_id}}</div><div>Description: {{search_menu.description}}</div></div></div></div></div></div></div></div></div><div class=modal-footer><div ng-show=im.item_priority_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button></div></div></div></div><select-menu-categories close-menu-object-select=new_promo.setSelectedCategories()></select-menu-categories><select-menu-sections close-menu-object-select=new_promo.setSelectedSections()></select-menu-sections><select-menu-sizes close-menu-object-select=new_promo.setSelectSectionSizes()></select-menu-sizes><select-menu-items close-menu-object-select=new_promo.setBogoSectionItems()></select-menu-items><select-menu-item-sizes close-menu-object-select=new_promo.setSectionItemSizes()></select-menu-item-sizes><div id=menu-select-bogo-items-sizes class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Items</h4></div><div class=modal-body><div class=form-group><div class=row><div class=col-md-6><div class=form-group><label class="col-md-3 col-lg-3 control-label">Menu Section Items</label><div class="col-md-9 col-lg-9 m-t-10"><div class="col-md-12 button-select"><table class="table table-hover m-t-10"><tr ng-repeat="item_size in new_promo.bogo_all_section_item_sizes" ng-click="new_promo.addBogoItemSize(item_size, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{item_size.menu_type_name}}</td><td>{{item_size.item_name}}</td><td>{{item_size.size_name}}</td></tr></table></div></div></div></div><div class=col-md-6><div class="form-group col-md-12"><label class="col-md- control-label">Selected Items:</label><div class="col-md-12 m-t-10"><div class="inline m-l-10"><table class="table table-hover m-t-10"><tr ng-repeat="item_size in new_promo.bogo_selected_item_sizes" ng-click="new_promo.removeBogoItemSize(item_size, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{item_size.menu_type_name}}</td><td>{{item_size.item_name}}</td><td>{{item_size.size_name}}</td></tr></table></div></div></div></div></div></div></div><div class=modal-footer><div ng-show=im.item_priority_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-info" ng-click=new_promo.setBOGOItemSizes()>Submit</button></div></div></div></div><div id=merchant-select-modal class="modal fade promo-merchant-select-modal" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button> <button class="btn btn-success" ng-click="new_promo.enableMerchantGroups = false; new_promo.propertyName = null; new_promo.reverse = false;" ng-class="{active_button: !new_promo.enableMerchantGroups}" ng-disabled=!new_promo.enableMerchantGroups>Select Merchants</button> | <button class="btn btn-success" ng-click="new_promo.enableMerchantGroups = true; new_promo.propertyName = null; new_promo.reverse = false;" ng-class="{active_button: new_promo.enableMerchantGroups}" ng-disabled=new_promo.enableMerchantGroups>Select Merchant Groups</button></div><div class=modal-body><div class=row ng-if=!new_promo.enableMerchantGroups><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Merchants for Promo</label><div class="col-md-12 m-t-10"><div class=form-group><div class="flex-init flex-align-items-center"><input type=text class="input-med form-control m-r-10" name=merchants_filter ng-enter=new_promo.merchant_search_service.merchantSearchByBrand(new_promo.promo_data.brand_id) ng-model=new_promo.merchant_search_service.search_text ng-fade placeholder=Filter><label class="m-t-5 flex-init flex-align-items-baseline"><input style="margin-right: 10px" type=checkbox name=active_search ng-init="new_promo.merchant_search_service.active_only = true" ng-model=new_promo.merchant_search_service.active_only> Active Only</label><button ng-click=new_promo.merchant_search_service.merchantSearchByBrand(new_promo.promo_data.brand_id) class="btn-default btn m-l-10">Search</button></div></div><div class="col-md-12 button-select" ng-show=new_promo.merchant_search_service.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div ng-show="!new_promo.merchant_search_service.processing && new_promo.merchant_search_service.selectable_merchants.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th colspan=2 ng-click="new_promo.sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="new_promo.propertyName === \'merchant_id\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'name\')">Name <span class=sort-order ng-show="new_promo.propertyName === \'name\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'address1\')">Address <span class=sort-order ng-show="new_promo.propertyName === \'address1\'" ng-class="{reverse: new_promo.reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr id=promo-add-merchant ng-repeat="merchant in new_promo.merchant_search_service.selectable_merchants | orderBy:new_promo.propertyName:new_promo.reverse" ng-click="new_promo.merchant_search_service.addMerchant(merchant); vm.promo_data.is_valid = false;"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div></div><div class=col-md-6><div class="form-group col-md-12"><label class="col-md- control-label">Selected Merchants:</label><div class=m-t-20 ng-show="new_promo.merchant_search_service.selected_merchants.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th colspan=2 ng-click="new_promo.sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="new_promo.propertyName === \'merchant_id\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'name\')">Name <span class=sort-order ng-show="new_promo.propertyName === \'name\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'address1\')">Address <span class=sort-order ng-show="new_promo.propertyName === \'address1\'" ng-class="{reverse: new_promo.reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="merchant in new_promo.merchant_search_service.selected_merchants | orderBy:new_promo.propertyName:new_promo.reverse" ng-click="new_promo.merchant_search_service.removeMerchant(merchant); vm.promo_data.is_valid = false;"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div></div><div class=row ng-if=new_promo.enableMerchantGroups><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Merchant Groups for Promo</label><div class="col-md-12 m-t-10"><input type=text class="input-med form-control inline-block" name=merchants_filter ng-enter=new_promo.merchant_search_service.merchantGroupSearch() ng-model=new_promo.merchant_search_service.search_text ng-fade placeholder=Filter> <button ng-click=new_promo.merchant_search_service.merchantGroupSearch() class="btn-default btn m-l-10">Search</button><div class="col-md-12 button-select" ng-show=new_promo.merchant_search_service.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div class=m-t-20 ng-show="!new_promo.merchant_search_service.processing && new_promo.merchant_search_service.selectable_merchant_groups.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th colspan=2 ng-click="new_promo.sortBy(\'id\')">ID <span class=sort-order ng-show="new_promo.propertyName === \'id\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'name\')">Name <span class=sort-order ng-show="new_promo.propertyName === \'name\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'group_type\')">Group Type <span class=sort-order ng-show="new_promo.propertyName === \'group_type\'" ng-class="{reverse: new_promo.reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr id=promo-add-merchant ng-repeat="group in new_promo.merchant_search_service.selectable_merchant_groups | orderBy:new_promo.propertyName:new_promo.reverse" ng-click="new_promo.merchant_search_service.addMerchantGroup(group); vm.promo_data.is_valid = false;"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{group.id}}</td><td>{{group.name}}</td><td>{{group.group_type}}</td></tr></tbody></table></div></div></div></div></div><div class=col-md-6><div class="form-group col-md-12"><label class="col-md- control-label">Selected Merchants:</label><div class=m-t-20 ng-show="new_promo.merchant_search_service.selected_merchant_groups.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th colspan=2 ng-click="new_promo.sortBy(\'id\')">ID <span class=sort-order ng-show="new_promo.propertyName === \'id\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'name\')">Name <span class=sort-order ng-show="new_promo.propertyName === \'name\'" ng-class="{reverse: new_promo.reverse}"></span></th><th ng-click="new_promo.sortBy(\'group_type\')">Group Type <span class=sort-order ng-show="new_promo.propertyName === \'group_type\'" ng-class="{reverse: new_promo.reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="group in new_promo.merchant_search_service.selected_merchant_groups | orderBy:new_promo.propertyName:new_promo.reverse" ng-click="new_promo.merchant_search_service.removeMerchantGroup(group); vm.promo_data.is_valid = false;"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{group.id}}</td><td>{{group.name}}</td><td>{{group.group_type}}</td></tr></tbody></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-disabled ng-click=new_promo.setMerchants()>Submit</button></div></div></div></div><div id=error-message class="modal fade promo-merchant-select-modal" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><h4>Warning</h4></div><div class=modal-body>{{new_promo.errorMessage}}</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Ok</button></div></div></div></div>'),
a.put("modules/promo/promo-edit/promo-edit.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Edit Promo</h4><ol class=breadcrumb><li><a href="#/">Home</a></li></ol></div></div></div><div class="row promo-edit-view promo-views"><div class=col-md-7><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Edit Promo # {{edit_promo.promo_data.promo_id}}</h3></div><div class=panel-body><form name=edit_promo.update_promo_form class=form-horizontal novalidate ng-submit=edit_promo.updatePromo()><div class=form-group><label class="col-md-3 col-lg-3 control-label">Description</label><div class="col-md-9 col-lg-9"><input type=text class="input-large form-control" name=description placeholder="For Your Reference" ng-model=edit_promo.promo_data.description ng-fade ng-required=true><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="edit_promo.edit_form.description.$error.required\n                                 && (edit_promo.edit_form.description.$faded || edit_promo.promo_data.submit)" role=alert>Description is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Active</label><div class="col-md-9 col-lg-9 m-t-5"><toggle-switch class=fix-margin2 name=active ng-model=edit_promo.promo_data.active></toggle-switch></div></div><date-range-to-from-picker saved-start-date=edit_promo.promo_data.start_date saved-end-date=edit_promo.promo_data.end_date loaded-dates=true set-initial-dates=edit_promo date-options=edit_promo.date_options on-period-changed="edit_promo.onPeriodChanged(startDate, endDate)"></date-range-to-from-picker><div class=form-group><label class="col-md-3 col-lg-3 control-label">First Order</label><div class="col-md-9 col-lg-9 m-t-5"><toggle-switch name=valid_on_first_order_only ng-model=edit_promo.promo_data.valid_on_first_order_only></toggle-switch></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Order Type</label><div class="col-md-9 col-lg-9"><select name=order_type class="form-control input-large margin-top-five" ng-change=edit_promo.loadMenuOptions(edit_promo.promo_data.brand) ng-model=edit_promo.promo_data.order_type ng-fade ng-options="order_type.code as order_type.value for order_type in edit_promo.order_types"><option class=placeholder-color value="" selected disabled>Order Type</option></select><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="edit_promo.edit_form.order_type.$error.required\n                                 && (edit_promo.edit_form.order_type.$faded || edit_promo.promo_data.submit)" role=alert>Order Type is required.</div></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Max Uses Per Campaign</label><div class="col-md-9 col-lg-9"><toggle-switch class=fix-margin name=campaign_uses ng-model=edit_promo.promo_data.campaign_uses></toggle-switch><div ng-show=!edit_promo.promo_data.campaign_uses class="secondary-text m-t-5">Maximum promo redemptions by all users collectively. (Example: I only want this Promo used100 times.) Leave off if you do not want to limit the number of collective redemptions</div><input type=number class="m-t-5 input-med form-control" name=max_redemptions placeholder="Enter Max Uses" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=edit_promo.promo_data.max_redemptions ng-show=edit_promo.promo_data.campaign_uses ng-fade ng-required=edit_promo.promo_data.campaign_uses><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="(edit_promo.edit_form.max_redemptions.$error.required || edit_promo.edit_form.max_redemptions.$error.number)\n                                 && (edit_promo.edit_form.max_redemptions.$faded || edit_promo.promo_data.submit)" role=alert>If turned on, a value for the number of campaign total uses is required.</div></div></div><div class=form-group ng-show="new_promo.promo_data.promo_type == 1"><label class="col-md-3 col-lg-3 control-label">Max Amount Off</label><div class="col-md-9 col-lg-9"><input type=text class="input-med form-control" name=max_amount_off placeholder=$$ currency-format ng-model=edit_promo.promo_data.max_amount_off amount=edit_promo.promo_data.max ng-fade></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Multiple Uses Per Order</label><div class="col-md-9 col-lg-9 m-t-5"><toggle-switch class=fix-margin2 name=allow_multiple_use_per_order ng-model=edit_promo.promo_data.allow_multiple_use_per_order></toggle-switch></div></div><div class=form-group><label class="col-md-3 col-lg-3 control-label">Min Order Amount</label><div class="col-md-9 col-lg-9"><input type=text class="input-med form-control" name=qualifying_amt placeholder="Qualifying Cart Subtotal" ng-model=edit_promo.promo_data.qualifying_amt amount=edit_promo.promo_data.qualifying_amt -format ng-fade></div></div><div ng-show="edit_promo.promo_data.fixed_amount_off > 0" class=form-group><label class="col-md-3 col-lg-3 control-label">Dollars Off</label><div class="col-md-9 col-lg-9"><input type=text class="input-med form-control" name=qualifying_amt placeholder="Dollars Off" ng-model=edit_promo.promo_data.fixed_amount_off ng-fade></div></div><div class=form-group ng-show="edit_promo.promo_data.percent_off > 0"><label class="col-md-3 col-lg-3 control-label">Percent Off</label><div class="col-md-9 col-lg-9"><input type=text class="input-med form-control" name=qualifying_amt placeholder="Dollars Off" ng-model=edit_promo.promo_data.percent_off ng-fade></div></div><div class=form-group ng-show="edit_promo.promo_data.promo_type == 1"><label class="col-md-3 col-lg-3 control-label">Discount Type</label><div class="col-md-9 col-lg-9"><select name=discount_type class="form-control input-large margin-top-five" ng-model=edit_promo.promo_data.discount_type ng-fade ng-change=edit_promo.zeroOutUnselectedDiscountTypes() ng-options="discount_type.code as discount_type.value for discount_type in edit_promo.discount_types"><option class=placeholder-color value="" selected disabled>Discount Type</option></select></div></div><div class=form-group ng-show="(edit_promo.promo_data.promo_type == 1 && edit_promo.promo_data.discount_type == \'percent_off\') || edit_promo.promo_data.promo_type == 300"><label class="col-md-3 col-lg-3 control-label">% Off</label><div class="col-md-9 col-lg-9"><input type=number class="input-med form-control" name=percent_off placeholder="Enter Promo % Off" min=0 max=1000 ng-max=1000 ng-min=0 ng-model=edit_promo.promo_data.percent_off ng-fade ng-required="edit_promo.promo_data.discount_type == \'percent_off\' || edit_promo.promo_data.promo_type == 300"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="edit_promo.update_promo_form.percent_off.$error.required\n                                 && (edit_promo.update_promo_form.percent_off.$faded || edit_promo.promo_data.submit)" role=alert>Percent Off is Required.</div></div></div><div class=form-group ng-show="edit_promo.promo_data.promo_type == 1 && edit_promo.promo_data.discount_type == \'dollars_off\'"><label class="col-md-3 col-lg-3 control-label">Dollars Off</label><div class="col-md-9 col-lg-9"><input class="input-med form-control" name=promo_amt placeholder="Enter Promo $ Off" amount=edit_promo.promo_data.promo_amt ng-model=edit_promo.promo_data.promo_amt ng-fade ng-required="edit_promo.promo_data.discount_type == \'promo_amt\'"><div class="input-med alert alert-danger ng-hide alert-reg-position" ng-show="edit_promo.update_promo_form.promo_amt.$error.required\n                                 && (edit_promo.update_promo_form.promo_amt.$faded || edit_promo.promo_data.submit)" role=alert>Dollars Off is Required.</div></div></div><div class=form-group ng-show="edit_promo.promo_data.qualifying_object_name_list.length > 0"><label class="col-md-3 col-lg-3 control-label">Qualifying Menu Objects</label><div class="col-md-9 col-lg-9 m-t-5">{{edit_promo.utility.convertArrayToGrammarList(edit_promo.promo_data.qualifying_object_name_list)}}</div></div><div class=form-group ng-show="edit_promo.promo_data.promotional_object_name_list.length > 0"><label class="col-md-3 col-lg-3 control-label">Promo Menu Objects</label><div class="col-md-9 col-lg-9 m-t-5">{{edit_promo.utility.convertArrayToGrammarList(edit_promo.promo_data.promotional_object_name_list)}}</div></div><div class=form-group ng-repeat="promo_message in edit_promo.promo_data.promo_messages_to_edit"><label class="col-md-3 col-lg-3 control-label">Message {{promo_message.number}}</label><div class="col-md-9 col-lg-9"><textarea class=form-control rows=3 maxlength=255 name=promo_message ng-model=promo_message.text></textarea></div></div><div class=col-md-12><div ng-show=edit_promo.promo_data.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class="submit-contain pull-right"><button type=button class="btn btn-default m-r-10" back-button>Cancel</button> <button class="btn-success btn">Submit</button></div></form></div></div></div><div class=col-md-5><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Edit Promo Keywords</h3></div><div class=panel-body><table class="table table-hover m-t-30 content-table"><thead><tr></tr></thead><tbody><tr ng-repeat="promo_keyword in edit_promo.promo_data.promo_key_words"><td>{{promo_keyword.promo_key_word}}</td><td class=delete-icon style="padding: 0px"><i class="fa fa-times" aria-hidden=true ng-click="edit_promo.deletePromoKeywordDialog(promo_keyword, $index)"></i></td></tr></tbody></table><div class="submit-contain flex-init flex-justify-content-end"><button id=open-delivery-zone-create type=button ng-disabled class="btn btn-soft-blue pull-right" data-toggle=modal data-target=#add-promo-keyword-modal><i class="fa fa-plus" aria-hidden=true></i> Add Promo Keyword</button></div></div></div></div><div class=col-md-5 ng-show="edit_promo.userService.hasPermission(\'multi_merchs_filter\')"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Edit Promo Merchants</h3></div><div class=panel-body><div class=form-group><input type=text class="input-med form-control m-r-10" name=merchants_filter ng-model=edit_promo.merchant_search_text ng-fade placeholder=Filter></div><div class=row><div class="col-md-12 merchant-scroll-contain"><table class="table table-hover"><tbody><tr ng-repeat="merchant in edit_promo.promo_data.promo_merchant_maps | filter: edit_promo.selectedMerchantFilter"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{merchant.full_merchant.merchant_id}}</td><td>{{merchant.full_merchant.name}}</td><td>{{merchant.full_merchant.address1}}<br>{{merchant.full_merchant.city}}, {{merchant.full_merchant.state}} {{merchant.full_merchant.zip}}</td><td class=delete-icon style="padding: 0px; margin-top: 6px"><i class="fa fa-times" aria-hidden=true ng-click="edit_promo.deletePromoMerchant(merchant, $index)"></i></td></tr></tbody></table></div></div><div class="submit-contain flex-init flex-justify-content-end"><button id=open-add-merchant-dialog type=button ng-disabled class="btn btn-soft-blue pull-right" data-toggle=modal data-target=#add-merchant-select-modal><i class="fa fa-plus" aria-hidden=true></i> Add Merchant</button></div></div></div></div><div class=col-md-5><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Promo Stats</h3></div><div class=panel-body><table class="table table-hover"><thead></thead><tbody><tr><td><strong>Total Uses</strong></td><td>{{edit_promo.promo_data.current_number_of_redemptions}}</td></tr><tr><td><strong>Total Discounted Amount</strong></td><td>${{edit_promo.promo_data.current_dollars_spent}}</td></tr><tr><td><strong>Total Cart Sales</strong></td><td>${{edit_promo.promo_data.total_cart_amounts}}</td></tr></tbody></table></div></div></div></div><div id=add-promo-keyword-modal class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><form name=edit_promo.add_promo_keyword_form novalidate ng-submit=edit_promo.addKeyword()><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Add Keyword</h4></div><div class=modal-body><input type=text class="input-med form-control" name=new_promo_keyword placeholder="Enter Keyword" ng-model=edit_promo.new_promo_keyword ng-fade=true ng-required=true><div class="alert alert-danger alert-reg-position ng-hide" ng-show="edit_promo.add_promo_keyword_form.new_promo_keyword.$error.required\n                         && (edit_promo.add_promo_keyword_form.new_promo_keyword.$faded || edit_promo.add_promo_keyword_form.new_promo_keyword.$submitted)">Keyword cannot be blank.</div><div class="input-large alert alert-danger ng-hide alert-reg-position" ng-show="edit_promo.add_promo_keyword_form.keywords.$error.key_word_new\n                                 && (edit_promo.add_promo_keyword_form.keywords.$faded || edit_promo.add_promo_keyword_form.new_promo_keyword.$submitted)" role=alert>{{new_promo.key_word_date_error}}</div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-danger">Submit</button></div></form></div></div></div><div id=add-merchant-select-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Add Merchant</h4></div><div class=modal-body><div class=form-group><div class="col-md-9 col-lg-9"><label for=search_text>Filter</label><input type=text class="input-large form-control" name=search_text placeholder="" ng-model=edit_promo.add_merchant_filter_text ng-required=true></div><div class=row><div class="col-xs-12 create-promo-view"><div class=filter-loader-contain ng-show="edit_promo.merchantSearchService.selectable_merchants.length == 0">All brand merchants are already tied to promo.</div><div class="m-t-20 table-fixed-with-scroll"><table class="content-table table table-hover" ng-show="edit_promo.merchantSearchService.selectable_merchants.length > 0"><thead><tr><th>ID</th><th>Name</th><th>Address</th><th>City</th><th>State</th></tr></thead><tbody><tr ng-repeat="merchant in edit_promo.merchantSearchService.selectable_merchants | filter: edit_promo.selectableMerchantFilter" ng-click=edit_promo.addMerchant(merchant)><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}</td><td>{{merchant.city}}</td><td>{{merchant.state}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="merchant in edit_promo.merchantSearchService.selectable_merchants | filter: edit_promo.selectableMerchantFilter" ng-click=edit_promo.addMerchant(merchant)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{merchant.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Merchant ID <span class=id-number>{{merchant.merchant_id}}</span></h5></div><div class="description clear"><div class=merchant-address>{{merchant.address1}} {{merchant.city}}, {{merchant.state}} {{merchant.zip}}</div></div></div></div></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button></div></div></div></div>'),a.put("modules/promo/promo-list/promo-list.html",'<div class=row><div class=col-sm-12><div class="page-header-title marketing-bg"><h4 class=page-title>Promos</h4><button id=open-create-promo-button class="btn btn-primary" ng-disabled ng-click=promo.createNewPromo()>Create New Promo</button></div></div></div><div class=row ng-show="promo.user_service.hasPermission(\'edit_promo\')"><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Promos</h3></div><div class=panel-body><form name=promo.search_form novalidate ng-submit=promo.promoSearch()><div class=col-md-12><div class=form-group><div class="flex-init flex-align-items-center"><div class=search-box><input type=text class=form-control name=search_text placeholder="YYYY-MM-DD for Start & End Date Filtering" ng-model=promo.search.text></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(promo.search_form.search_text.$error.required && promo.search_form.search_text.$touched) ||\n                                 (promo.search_form.search_text.$error.required && promo.search_form.$submitted)" role=alert>You must type at least one letter on search field.</div></div></div><div class=col-md-6><div class=form-group><div class="flex-init flex-align-items-center"><label class=m-l-2>Promo Type</label><select name=search_promo_type class="form-control input-med" ng-required=true ng-model=promo.search.promo_type ng-fade ng-options="promo_type.code as promo_type.value for promo_type in promo.promo_type_options"><option class=placeholder-color value="" selected disabled>Select</option></select></div></div></div><div class=col-md-6><div class=form-group><label class="m-l-2 m-t-5"><input class=m-r-5 type=checkbox name=active_search ng-model=promo.search.active_only> Active Only</label><button type=submit class="btn-default btn right-align">Search</button></div></div></form></div></div></div><div class=col-md-6 ng-class=promo.hasSearchResult()><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Recently Visited</h3></div><div class="panel-body flexBox recently-visited-container"><div class="panel panel-body row-table" ng-repeat="recent_promo in promo.recent_promos" ng-click=promo.viewPromo(recent_promo)><div><h5 class=bold>{{recent_promo.promo_id}}</h5></div><div>{{recent_promo.description}}</div></div><div ng-show="promo.recent_promos.length %2 == 1" class=fake-div></div><div ng-show="promo.recent_promos.length == 1" class=fix-div-1></div><div ng-show="promo.recent_promos.length >= 4" class=fake-div></div><div ng-show="promo.recent_promos.length >= 4" class=fake-div></div><div ng-show="promo.recent_promos.length == 5"></div><div ng-show="promo.recent_promos.length == 5"></div><div ng-show="promo.recent_promos.length == 5"></div></div></div></div></div><div class="row promo-list-view promo-views"><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Search Results</h3></div><div class=panel-body><div class=row><div class=col-xs-12><paginated-table field-names=promo.fieldNames params=promo.searchParams click-event=promo.viewPromo endpoint-string="\'/promo_search\'"><content-responsive><div ng-click=promo.viewPromo($parent.item)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>ID: {{$parent.item.promo_id}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Type: <span class=id-number>{{$parent.item.promo_type}}</span></h5></div><div class=description>{{$parent.item.description}}</div></div></div></content-responsive></paginated-table></div></div></div></div></div></div>'),a.put("modules/reports/components/all-orders-component/all-orders-component.html",'<div id=all-orders-component><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class=col-md-4 style="text-align: end"><i class="fa fa-calendar" style="margin-top: 8px"></i></label><div class=col-md-8><input date-range-picker class="form-control input-large date-picker" type=text ng-model=vm.datePicker.date options="vm.datePicker.options"/></div></div></div></div><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date="vm.datePicker.date.startDate.format(\'YYYY-MM-DD\')" end-date="vm.datePicker.date.endDate.format(\'YYYY-MM-DD\')" processing=vm.processing merchant-search=vm.merchantSearch schedule-option=1 exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>'),a.put("modules/reports/components/customer-component/customer-component.html",'<div id=customer-report-component><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class=col-md-4 style="text-align: end"><i class="fa fa-calendar" style="margin-top: 8px"></i></label><div class=col-md-8><select class="form-control input-med" ng-model=vm.reportService.period_type ng-options="group.desc for group in vm.reportDateOptions track by group.key"><option class=placeholder-color value="" selected disabled>Time Period</option></select></div></div></div></div><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label" style="padding-top: 5px">Group By</label><div class=col-md-8><div class=input-large><div class=col-md-8><div class=input-large><button type=button class="btn btn-success" ng-click="vm.reports_group_by_selections.resetSelections(vm.groupBy, \'customer\')">Select Group By</button></div><div class="col-md-12 m-t-10">{{vm.utility.convertArrayToGrammarList(vm.utility.convertObjectToSimpleArray(vm.reports_group_by_selections.selected_group_bys, \'desc\'))}}</div></div></div></div></div></div></div><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date=1970-01-01 end-date=1970-01-02 set-time-range=vm.reportTimePeriod.key processing=vm.processing merchant-search=vm.merchantSearch schedule-option=1 exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>'),a.put("modules/reports/components/default-report-view-component/default-report-view-component.html",'<div id=default-report-view><div><div class="submit-contain pull-right"><button ng-disabled=vm.isValidToSchedule() class="btn-success btn btn-report" ng-click=vm.runReport()>{{vm.processing?\'Cancel Report\':\'Run Report\'}}</button> <button ng-disabled=vm.isValidToSchedule() class="btn-default btn btn-report" ng-click=vm.exportReport()>{{vm.exporting?\'Cancel Export\': \'Export Report\'}}</button> <button ng-show="vm.scheduleOption != 0" ng-disabled=vm.isValidToSchedule() class="btn-danger btn" ng-click=vm.openAddScheduleModal()>Schedule Report</button></div></div><div class="col-md-12 m-t-20"><div ng-show="!!vm.dataList && vm.dataList.length == 0 && !vm.processing" class=text-center><h5 class=pre-load-text>No records were found.</h5></div><div class=table-container ng-show=!vm.processing><table ng-show="!!vm.dataList && !!vm.dataList.length" class="table report-table table-striped"><thead><tr><th class=no-padding ng-repeat="s in vm.orderBy"><div class=sortable ng-class="{\'align-right\': s.align==\'right\'}" ng-click=vm.sortByColumn(s.key)><span class=header-title>{{s.title}}</span> <span class=arrow-container><i ng-class="{\'arrow-down-dir\': s.sort==\'-\',\n                                    \'arrow-up-dir\': s.sort==\'+\',\n                                    \'arrow-blank\': !s.sort}" aria-hidden=true></i></span></div></th></tr></thead><tbody><tr dir-paginate="d in vm.dataList | itemsPerPage: vm.perPage" total-items=vm.totalData current-page=vm.page><td ng-repeat="c in vm.orderBy" ng-class="{\'right-text\': c.align==\'right\'}">{{ c.filter(d[c.key]) }}</td></tr></tbody></table></div></div><div class="clear row-centered" ng-show="!vm.processing && !!vm.totalData"><dir-pagination-controls max-size=10 on-page-change=vm.onPageChanged(newPageNumber)></dir-pagination-controls></div><div class="clear row-centered m-t-10" ng-show="!vm.processing && !!vm.totalData"><label class="control-label per-page-label">Per Page:</label><div class="select per-page-select"><select class=form-control ng-model=vm.perPage ng-options="o as o for o in vm.perPageOptions"></select></div></div><div id=add-schedule-modal class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>Schedule Report</h4></div><form name=vm.add_schedule_form class=form-horizontal novalidate ng-submit=vm.addNewSchedule()><div class=modal-body><div class=container><div class=form-group><label for=reportName class="control-label col-md-4">Report Name</label><div class=col-md-8><input id=reportName name=report_name type=text class="form-control input-large" ng-model=vm.newSchedule.name ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.add_schedule_form.report_name.$error.required &&\n                                     (vm.add_schedule_form.report_name.$touched || vm.add_schedule_form.$submitted)" role=alert>The report name is required.</div></div></div><div class=form-group><label for=frequency class="control-label col-md-4">frequency</label><div class=col-md-8><select name=frequency class="input-large form-control" ng-required=true ng-model=vm.newSchedule.frequency><option class=placeholder-color value="" selected disabled>Frequency</option><option ng-repeat="frequency in vm.frequency" value={{frequency.id}}>{{frequency.name}}</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.add_schedule_form.frequency.$error.required &&\n                                     (vm.add_schedule_form.frequency.$touched || vm.add_schedule_form.$submitted)" role=alert>The frequency is required.</div></div></div><div class=form-group><label for=from class="control-label col-md-4">From</label><div class=col-md-8><input type=date class="form-control input-large flex-init" placeholder=YYYY-MM-DD name=from ng-required=true ng-model=vm.newSchedule.start_date><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.add_schedule_form.from.$error.required &&\n                                     (vm.add_schedule_form.from.$touched || vm.add_schedule_form.$submitted)" role=alert>Please select the day to start sending the reports.</div></div></div><div class=form-group><label for=to class="control-label col-md-4">To</label><div class=col-md-8><input type=date class="form-control input-large flex-init" placeholder=YYYY-MM-DD name=to ng-required=true ng-model=vm.newSchedule.end_date><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.add_schedule_form.to.$error.required &&\n                                     (vm.add_schedule_form.to.$touched || vm.add_schedule_form.$submitted)" role=alert>Please select the day to stop sending the reports.</div></div></div><div class=form-group><label for=reportName class="control-label col-md-4">Send To</label><div class=col-md-8><input id=reportRecipient name=report_recipient type=email class="form-control input-large" ng-model=vm.newSchedule.recipient ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.add_schedule_form.report_recipient.$error.required &&\n                                     (vm.add_schedule_form.report_recipient.$touched || vm.add_schedule_form.$submitted)" role=alert>The recipient is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="vm.add_schedule_form.report_recipient.$error.email &&\n                                     (vm.add_schedule_form.report_recipient.$touched || vm.add_schedule_form.$submitted)" role=alert>Please enter a valid email address.</div></div></div></div></div><div class=modal-footer><button class="btn btn-default">Submit</button></div></form></div></div></div></div>'),a.put("modules/reports/components/menu-export-component/menu-export-component.html","<div id=menu-export-report-component><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date=1970-01-01 end-date=1970-01-02 set-time-range=vm.reportTimePeriod.key processing=vm.processing merchant-search=vm.merchantSearch exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>"),a.put("modules/reports/components/merchant-config-component/merchant-config-component.html","<div id=merchant-config-report-component><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date=1970-01-01 end-date=1970-01-02 set-time-range=vm.reportTimePeriod.key processing=vm.processing merchant-search=vm.merchantSearch schedule-option=0 exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>"),a.put("modules/reports/components/overview-component/overview-component.html",'<div id=overview-component><div class=row ng-if=!!vm.summary><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Summary</h3></div><div class=panel-body><div class=col-md-6><div class=col-md-4><div class="panel panel-body dash-table m-t-40"><div><h5 class="bold text-center">SALES</h5></div><h1 class=text-center>${{vm.summary.order_total}}</h1></div></div><div class=col-md-4><div class="panel panel-body dash-table m-t-40"><div><h5 class="bold text-center">ORDERS</h5></div><h1 class=text-center>{{vm.summary.order_count}}</h1></div></div><div class=col-md-4><div class="panel panel-body dash-table m-t-40"><div><h5 class="bold text-center">AVERAGE SALE</h5></div><h1 class=text-center>${{vm.summary.order_average}}</h1></div></div></div><div class=col-md-6><div class=col-md-2></div><div class=col-md-3><h6 class="bold text-center">CATERING</h6><table class="table table-hover"><tbody><tr><td>Sales</td><td>${{vm.summary_secondary.catering.sales}}</td></tr><tr><td>Count</td><td>{{vm.summary_secondary.catering.order_count}}</td></tr></tbody></table><h6 class="bold text-center m-t-15">GROUP ORDER</h6><table class="table table-hover"><tbody><tr><td>Sales</td><td>${{vm.summary_secondary.group.sales}}</td></tr><tr><td>Count</td><td>{{vm.summary_secondary.group.order_count}}</td></tr></tbody></table></div><div class=col-md-2></div><div class=col-md-3><h6 class="bold text-center">GUEST SALES</h6><table class="table table-hover m-b-10"><tbody><tr><td>Sales</td><td>${{vm.summary_secondary.guest.sales}}</td></tr><tr><td>Count</td><td>{{vm.summary_secondary.guest.order_count}}</td></tr></tbody></table><h6 class="bold text-center m-t-15">PROMOS</h6><table class="table table-hover m-b-10"><tbody><tr><td>Discounts</td><td>${{vm.summary.promo_total}}</td></tr></tbody></table></div><div class=col-md-2></div></div></div></div></div></div><div class=row><div class=col-md-12 ng-class=vm.fiftyOpacityOffset()><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>Overview</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.REPORTS.OVERVIEW\' | translate }}</span></i></h4></div></div><div class=panel-body><div class="m-b-15 flex-init flex-wrap"><select name=brand class="input-large form-control m-r-15 m-t-10" ng-required=true ng-model=vm.current_time_period ng-options="time_period.url as time_period.desc for time_period in vm.time_periods" ng-disabled=vm.processing><option class=placeholder-color value="" selected disabled>Time Period</option></select><div class="btn-group m-r-15 m-t-10" ng-show="vm.usersService.hasPermission(\'brands_filter\') && vm.usersService.hasPermission(\'multi_merchs_filter\')"><button type=button class="btn btn-sm" ng-class="vm.filterTypeClass(\'brand\',vm.filter_type)" ng-click="vm.filter_type = \'brand\'" ng-disabled=vm.processing>Brand</button> <button type=button class="btn btn-sm" ng-class="vm.filterTypeClass(\'merchant\',vm.filter_type)" ng-click="vm.filter_type = \'merchant\'" ng-disabled=vm.processing>Merchant(s)</button></div><div class="input-large m-r-15"><select name=brand class="form-control m-t-10" ng-show="vm.filter_type == \'brand\' && vm.usersService.hasPermission(\'brands_filter\')" ng-model=vm.brand_filter ng-options="brand.brand_id as brand.brand_name for brand in vm.brands" ng-disabled=vm.processing><option class=placeholder-color value="" selected disabled>Brands</option></select></div><label class="m-t-15 m-r-10" ng-show="!vm.usersService.hasPermission(\'brands_filter\') && vm.usersService.hasPermission(\'multi_merchs_filter\') && !vm.usersService.hasPermission(\'op_merch_select\')"><input type=checkbox ng-model=vm.merchant_subset ng-change=vm.merchantSubsetChange()> Select Merchant Subset</label><button type=button class="btn btn-info btn-sm input-large m-r-15 m-t-10" data-toggle=modal ng-show="vm.filter_type == \'merchant\' && vm.usersService.hasPermission(\'multi_merchs_filter\')" ng-click="vm.merchant_open_source = \'graphs\'" data-target=#merchant-select-modal ng-disabled=vm.processing>Select Merchants</button> <button type=button class="btn btn-success btn-sm input-large m-r-15 m-t-10" data-toggle=modal ng-click=vm.runGraphReports() ng-disabled=vm.processing>Run Reports</button></div><div class=col-md-12 ng-show=!vm.initial_reports_load><h5 class=pre-load-text>Select Criteria and Run Report</h5></div><div ng-show=vm.initial_reports_load><div class="margin-padding-none col-md-6 col-lg-6 col-xl-5"><canvas id=line class="chart chart-line" chart-data=vm.sales chart-labels=vm.labels_hours chart-options=vm.options chart-series=vm.line_sales_series chart-dataset-override=vm.datasetOverride chart-click=onClick></canvas><div class=col-md-12><canvas id=doughnut class="chart chart-doughnut" chart-data=vm.pickup_delivery_counts chart-options=vm.default_report_options chart-labels=vm.pickup_delivery_labels></canvas><h4 class=bottom-center-chart-label>Pickup vs Delivery</h4></div></div><div class="margin-padding-none col-md-6 col-lg-6 col-xl-5"><canvas id=bar class="chart chart-bar" chart-data=vm.day_of_week_sales chart-labels=vm.day_of_week_labels chart-series=vm.day_of_week_sales.series></canvas><div class=col-md-12><canvas id=doughnut2 class="chart chart-doughnut" chart-options=vm.default_report_options chart-data=vm.device_counts chart-labels=vm.device_labels></canvas><h4 class=bottom-center-chart-label>Sales by Device</h4></div></div><div style="margin-top: 20px" class="margin-padding-none col-md-12 col-lg-12 col-xl-2"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Top Items</h3></div><div class="panel-body margin-padding-none"><table class="table table-hover"><thead></thead><tbody><tr ng-repeat="item_leader in vm.item_leaders"><td>{{item_leader.item_name}}</td><td>${{item_leader.item_sales | number}}</td></tr></tbody></table></div></div><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Top Customers</h3></div><div class="panel-body margin-padding-none"><table class="table table-hover"><thead></thead><tbody><tr ng-repeat="user_leader in vm.user_leaders"><td>{{user_leader.full_name}}</td><td>${{user_leader.user_sales | number}}</td></tr></tbody></table></div></div></div></div></div></div></div></div></div>'),
a.put("modules/reports/components/promos-report-component/promos-report-component.html",'<div id=reports-promo><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class=col-md-4 style="text-align: end"><i class="fa fa-calendar" style="margin-top: 8px"></i></label><div class=col-md-8><input date-range-picker class="form-control input-large date-picker" type=text ng-model=vm.datePicker.date options="vm.datePicker.options"/></div></div></div></div><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label" style="padding-top: 5px">Group By</label><div class=col-md-8><div class=input-large><button type=button class="btn btn-success" ng-click="vm.reports_group_by_selections.resetSelections(vm.groupBy, \'sales_menu\')">Select Group By</button></div><div class="col-md-12 m-t-10">{{vm.utility.convertArrayToGrammarList(vm.utility.convertObjectToSimpleArray(vm.reports_group_by_selections.selected_group_bys, \'desc\'))}}</div></div></div></div></div><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date="vm.datePicker.date.startDate.format(\'YYYY-MM-DD\')" end-date="vm.datePicker.date.endDate.format(\'YYYY-MM-DD\')" processing=vm.processing merchant-search=vm.merchantSearch schedule-option=1 exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>'),a.put("modules/reports/components/report-selector-component/report-selector-component.html","<div id=report-selector-component><transactions-component ng-if=\"vm.selectedReportType.key === 'transactions'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></transactions-component><customer-component ng-if=\"vm.selectedReportType.key === 'customers'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></customer-component><statements-component ng-if=\"vm.selectedReportType.key === 'statements_report'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></statements-component><sales-by-menu-item-component ng-if=\"vm.selectedReportType.key === 'sales_by_menu_items'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></sales-by-menu-item-component><merchant-config-component ng-if=\"vm.selectedReportType.key === 'store_settings'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></merchant-config-component><all-orders-component ng-if=\"vm.selectedReportType.key === 'all_orders'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></all-orders-component><promos-report-component ng-if=\"vm.selectedReportType.key === 'promo'\" custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType merchant-search=vm.merchantSearch processing=vm.processing exporting=vm.exporting></promos-report-component></div>"),a.put("modules/reports/components/sales-by-menu-item-component/sales-by-menu-item-component.html",'<div id=reports-by-menu-item-page><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class=col-md-4 style="text-align: end"><i class="fa fa-calendar" style="margin-top: 8px"></i></label><div class=col-md-8><input date-range-picker class="form-control input-large date-picker" type=text ng-model=vm.datePicker.date options="vm.datePicker.options"/></div></div></div></div><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label" style="padding-top: 5px">Group By</label><div class=col-md-8><div class=input-large><button type=button class="btn btn-success" ng-click="vm.reports_group_by_selections.resetSelections(vm.groupBy, \'sales_menu\')">Select Group By</button></div><div class="col-md-12 m-t-10">{{vm.utility.convertArrayToGrammarList(vm.utility.convertObjectToSimpleArray(vm.reports_group_by_selections.selected_group_bys, \'desc\'))}}</div></div></div></div></div><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date="vm.datePicker.date.startDate.format(\'YYYY-MM-DD\')" end-date="vm.datePicker.date.endDate.format(\'YYYY-MM-DD\')" processing=vm.processing merchant-search=vm.merchantSearch schedule-option=1 exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>'),a.put("modules/reports/components/statements-component/statements-component.html",'<div id=statements-component><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class=col-md-4 style="text-align: end"><i class="fa fa-calendar" style="margin-top: 8px"></i></label><div class=col-md-8><input date-range-picker class="form-control input-large date-picker" type=text ng-model=vm.datePicker.date options="vm.datePicker.options"/></div></div></div></div><div id=statements-report-page class="statements-report-page col-md-12"><div class=row><div class="form-group pull-right"><button type=button class="btn-success btn btn-report" data-toggle=modal ng-disabled=!vm.isValidToBeShown() ng-click=vm.getStatements()>Run Reports</button> <button class="btn-default btn btn-report" ng-click=vm.exportRecords() ng-disabled="!vm.paginatedStatements || (!!vm.paginatedStatements && !vm.paginatedStatements.data)">Export Report</button></div></div><div class=row><paginated-table container-id="\'statements-results-report-table\'" paginated-result=vm.paginatedStatements field-names=vm.fieldNames params=vm.searchParams click-event=vm.showPrintableStatement endpoint-string="\'/reports/statements\'"><content-responsive><div class="panel panel-body row-table" ng-click=vm.showPrintableStatement($parent.item)><div class=name><h5 class=dark-grey><b>{{$parent.item.invoice}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Net Proceeds <span class=id-number>{{$parent.item.net_proceeds}}</span></h5></div><div class=description><div class=clear><b>Date Range:</b> {{$parent.item.period}}</div><div class=clear><b>Previous Balance:</b> {{$parent.item.previous_balance}}</div><div><b>Balance:</b> {{$parent.item.balance}}</div></div></div></content-responsive></paginated-table></div></div><div id=detailsModal class="modal fade" role=dialog><div class="modal-dialog modal-lg"><div class=modal-content><div class="modal-header hide-on-print"><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>Details</h4></div><div class=modal-body role=document><div class="panel print-content"><div class="flex-init flex-justify-content-space-between show-on-print m-b-10" style="display: none"><div width=200px><img src=http://splickit.com.s3.amazonaws.com/email/images/spl-reg-black.png width="200px"/></div><div><h2 style="color:#111;font-family:Arial, Helvetica, sans-serif;margin:0px">Merchant Statement</h2></div></div><div class="panel-heading flex-init flex-justify-content-space-between mdi-border-bottom"><h4 class=modal-title>{{vm.currentStatement.name}}</h4><h4 class=modal-title>{{vm.currentStatement.generation}}</h4></div><div class=panel-body style="padding: 0; background-color:#fff; color: #0f0f0f"><div class=flex-init style="margin: 10px 20px"><div style="flex-grow: 1" class=element-row><p style="margin: 3px 0">{{vm.currentStatement.merchant_external_id}}</p><h4 style="margin: 3px 0">{{vm.currentStatement.address1}}<br>{{vm.currentStatement.city}}, {{vm.currentStatement.state}} {{vm.currentStatement.zip}}</h4><p style="margin: 3px 0"><a href=#>{{vm.currentStatement.desination_emails}}</a></p></div><div class=element-row style="flex-grow: 1"><div class="flex-init flex-direction-column"><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Invoice:</strong></div><div>{{vm.currentStatement.invoice}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Period:</strong></div><div>{{vm.currentStatement.period}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Created:</strong></div><div>{{vm.currentStatement.generation}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Account:</strong></div><div>{{vm.currentStatement.merchant_id}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Brand Store ID:</strong></div><div>{{vm.currentStatement.merchant_external_id}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Order Count:</strong></div><div>{{vm.currentStatement.order_cnt}}</div></div><div style="margin: 0 0 5px 0;font-size:12px; display: flex; justify-content: space-between"><div><strong>Payment Method:</strong></div><div>Prepaid: {{vm.currentStatement.order_cnt - vm.currentStatement.instore_payment_cnt}} Instore: {{vm.currentStatement.instore_payment_cnt}}</div></div></div></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Sales</b></div><div><b>Amount</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Order Amount:</b></div><div>${{vm.currentStatement.order_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Total Taxes:</b></div><div>${{vm.currentStatement.total_tax_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Delivery Fee:</b></div><div>${{vm.currentStatement.delivery_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Tips:</b></div><div>${{vm.currentStatement.tip_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="vm.currentStatement.trans_fee_amt != 0"><div><b>Splick-it Customer Fee:</b></div><div>${{vm.currentStatement.trans_fee_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="vm.currentStatement.sf_surcharge_fee != 0"><div><b>SF Surcharge:</b></div><div>${{vm.currentStatement.sf_surcharge_fee}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="vm.currentStatement.promo_amt != 0 && !!vm.currentStatement.promo_amt"><div><b>Franchisee Paid Promotion:</b></div><div>${{vm.currentStatement.promo_amt}}</div></div><div ng-if="!!vm.currentStatement.promo_splickit_amt_withheld && vm.currentStatement.promo_splickit_amt_withheld != 0"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Splickit Paid Promotion:</b></div><div>${{vm.currentStatement.promo_splickit_amt_withheld}}</div></div><p style="border: 1px dotted #e5e5e5; padding: 5px; text-align: center">Splickit Promos are paid to the merchant at the beginning of the following month. A sale transaction will be processed on your Merchant Account for the total of promotion withheld in the preceeding month. A separate statement will be issued when they payment is made.</p></div><div ng-if="!!vm.currentStatement.customer_donation_amt_withheld && vm.currentStatement.customer_donation_amt_withheld != 0"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Customer Donations Withheld:</b></div><div>${{vm.currentStatement.customer_donation_amt_withheld}}</div></div><p style="border: 1px dotted #e5e5e5; padding: 5px; text-align: center">Consumer Donations Withheld from Merchant are funds donated by the consumer for the charity that your franchise is collecting funds for.</p></div><div ng-if="vm.currentStatement.customer_donation_amt_paidout != 0 && !!vm.currentStatement.customer_donation_amt_paidout"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Customer Donations Paid to Merchant:</b></div><div>${{vm.currentStatement.customer_donation_amt_paidout}}</div></div><p style="border: 1px dotted #e5e5e5; padding: 5px; text-align: center">Consumer Donations Paid to Merchant are funds donated by the consumer for the charity that your franchise is collecting funds for. Please forward these proceeds as directed by your Franchisor instructions.</p></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if=!!vm.currentStatement.grand_total_less_contribution><div><b>Total:</b></div><div>${{vm.currentStatement.grand_total_less_contribution}}</div></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Expenses</b></div><div><b>Amount</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.bill_comm_fee && vm.currentStatement.bill_comm_fee != 0"><div><b>Transaction Commission Fee:</b></div><div>${{vm.currentStatement.bill_comm_fee}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.goodwill && vm.currentStatement.goodwill != 0"><div><b>Cancellations And Refunds:</b></div><div>${{vm.currentStatement.goodwill}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.pymt_fee && vm.currentStatement.pymt_fee != 0"><div><b>Payment Fee:</b></div><div>${{vm.currentStatement.pymt_fee}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.trans_fee_amt && vm.currentStatement.trans_fee_amt != 0"><div><b>Splick-it Customer Fee:</b></div><div>${{vm.currentStatement.trans_fee_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.cc_fee_amt && vm.currentStatement.cc_fee_amt != 0"><div><b>Credit Card Trans Fees:</b></div><div>${{vm.currentStatement.cc_fee_amt}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Total:</b></div><div>${{vm.currentStatement.total_fees}}</div></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Net Payment</b></div><div><b>Amount</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Net Revenue:</b></div><div>${{vm.currentStatement.net_proceeds}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Previous Balance:</b></div><div>${{vm.currentStatement.previous_balance}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom" ng-if="!!vm.currentStatement.grand_total && vm.currentStatement.grand_total != 0"><div><b>Payment collected in store:</b></div><div>${{vm.currentStatement.grand_total}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Payment:</b></div><div>${{vm.currentStatement.payment}}</div></div><div class="flex-init flex-justify-content-space-between border-bottom"><div><b>Balance:</b></div><div>${{vm.currentStatement.balance}}</div></div></div><div ng-if=!!vm.currentStatement.weekly><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Weekly Summary</b></div></div><div class="flex-init flex-direction-column" style="margin: 0"><table class=table style="background-color: whitesmoke"><thead><tr><th>Date</th><th>Orders</th><th>Order Amt</th><th>Tax</th><th>Tip</th><th>Promo Amt</th><th>Delivery</th><th>CC Fees</th><th ng-if=vm.showExtraColumn>SF Sur</th></tr></thead><tbody><tr ng-repeat="day in vm.currentStatement.weekly"><td ng-repeat="column in day track by $index">{{column}}</td></tr></tbody></table></div></div><div class="flex-init flex-justify-content-space-between m-t-10" style="background-color: gray !important; padding: 3px 10px; -webkit-print-color-adjust: exact"><div><b>Cancellations and Refunds Details</b></div></div><div class="flex-init flex-direction-column" style="margin: 10px 20px"><div class="flex-init flex-justify-content-space-between"><div>${{vm.currentStatement.reversal_note}}</div></div></div></div></div></div><div class="modal-footer hide-on-print"><button type=button class="btn btn-default" ng-click=vm.printStatementDetails()>print</button></div></div></div></div></div>'),a.put("modules/reports/components/transactions-component/transactions-component.html",'<div id=transaction-report-component><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class=col-md-4 style="text-align: end"><i class="fa fa-calendar" style="margin-top: 8px"></i></label><div class=col-md-8><input date-range-picker class="form-control input-large date-picker" type=text ng-model=vm.datePicker.date options="vm.datePicker.options"/></div></div></div></div><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label" style="padding-top: 5px">Group By</label><div class=col-md-8><div class=input-large><button type=button class="btn btn-success" ng-click="vm.reports_group_by_selections.resetSelections(vm.groupBy, \'transaction\')">Select Group By</button></div><div class="col-md-12 m-t-10">{{vm.utility.convertArrayToGrammarList(vm.utility.convertObjectToSimpleArray(vm.reports_group_by_selections.selected_group_bys, \'desc\'))}}</div></div></div></div></div><default-report-view-component selected-group-by=vm.selectedGroupBy custom-brand-filter=vm.customBrandFilter custom-reports-filter-type=vm.customReportsFilterType start-date="vm.datePicker.date.startDate.format(\'YYYY-MM-DD\')" end-date="vm.datePicker.date.endDate.format(\'YYYY-MM-DD\')" processing=vm.processing merchant-search=vm.merchantSearch schedule-option=1 exporting=vm.exporting selected-report-type=vm.selectedReportType></default-report-view-component></div>'),a.put("modules/reports/directive/manage-reports/manage-reports.html",'<div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>Manage Scheduled Reports</h3></div><div class=panel-heading-tooltip-right><h4></h4></div><div class=panel-heading></div></div><div class=panel-body><table class="table table-hover table-width-100 content-table"><thead><tr><td>Report Name</td><td>From</td><td>To</td><td>Frequency</td><td>Edit</td><td>Delete</td></tr></thead><tbody><tr ng-repeat="report in scheduled_reports.reports"><td>{{report.report_name}}</td><td>{{report.start_date}}</td><td>{{report.end_date}}</td><td>{{report.frequency}}</td><td class=edit-icon><i class="fa fa-pencil-square-o" aria-hidden=true ng-click="openEditReport($index, report)"></i></td><td class=delete-icon><i class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click=deleteReportDialog(report)></i></td></tr></tbody></table></div></div></div></div><div id=edit-scheduled-report-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Edit Scheduled Report {{scheduled_reports.edit_report.report_name}}</h4></div><div class=modal-body><form name=scheduled_reports.update_scheduled_report_form class=form-horizontal novalidate ng-submit=scheduled_reports.updatedReport()><div class=form-group><label class="col-md-3 control-label">Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=report_name ng-model=scheduled_reports.edit_report.report_name ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="scheduled_reports.update_scheduled_report_form.report_name.$error.required\n                                 && (scheduled_reports.update_scheduled_report_form.report_name.$faded || scheduled_reports.edit_form_submit)" role=alert>Name is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Frequency</label><div class="col-md-9 m-t-5"><select name=edit_report_frequency class=form-control ng-required=true ng-model=scheduled_reports.edit_report.frequency ng-options="frequency.id as frequency.name for frequency in scheduled_reports.frequencies"><option class=placeholder-color value="" selected disabled>Frequency</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="scheduled_reports.update_scheduled_report_form.edit_report_frequency.$error.required\n                                 && (scheduled_reports.update_scheduled_report_form.edit_report_frequency.$faded || scheduled_reports.edit_form_submit)" role=alert>Frequency is required.</div></div></div><div class=form-group><label class="col-md-3 control-label">Recipient</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=recipient ng-model=scheduled_reports.edit_report.recipient ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="scheduled_reports.update_scheduled_report_form.recipient.$error.required\n                                 && (scheduled_reports.update_scheduled_report_form.recipient.$faded || scheduled_reports.edit_form_submit)" role=alert>Name is required.</div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div></div>'),a.put("modules/reports/directive/reports-group-by/reports-group-by.html",'<div id=group-by-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Group By</h4></div><div class=modal-body><div class=container><div class="col-md-6 m-t-15"><div class=form-group><label class=control-label>Group By Options</label><div><div class=m-t-20><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px"></th><th style="width: 85px"></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="group_by in groupBySelections.unselected_group_bys" ng-click="groupBySelections.addGroupBy(group_by, $index)"><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{group_by.desc}}</td></tr></tbody></table></div></div></div></div></div><div class="col-md-6 m-t-15" ng-class=selectMerchantOpacityFifty() ng-show=!merchant_search_service.processing><div class=form-group><label class=control-label>Selected Group By:</label><div class=m-t-20><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th></th><th></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="group_by in groupBySelections.selected_group_bys" ng-click="groupBySelections.removeGroupBy(group_by, $index)"><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{group_by.desc}}</td></tr></tbody></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-disabled data-dismiss=modal ng-click=closeModal()>Submit</button></div></div></div></div>'),a.put("modules/reports/reports-customers/reports-customers.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Reports</h4></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading with-loader"><h3 class=panel-title>Customers Report</h3><div class=loader-container ng-show=vm.processing><div class=filter-loader></div></div><div style="width: 140px"></div></div><div class=panel-body><div class=row><div class=col-md-6><date-range-picker-custom on-period-changed="vm.onPeriodChanged(startDate, endDate)"></date-range-picker-custom></div><div class=col-md-6><div class=form-horizontal><div class=form-group><label class="col-md-3 control-label">Group By</label><div class=col-md-9><div class="select input-large"><select class=form-control ng-change=vm.onGroupByChanged() ng-model=vm.selectedGroupBy ng-options="group.desc for group in vm.groupBy track by group.key"><option class=placeholder-color value="" selected disabled>Attribute</option></select></div></div></div></div></div></div><div ng-show="(!vm.customers || !vm.customers.length) && !vm.processing" class="col-md-12 message-container"><h5 class=pre-load-text>No records were found.</h5></div><div class=table-container><table ng-show="!!vm.customers && !!vm.customers.length" class="table report-table table-striped"><thead><tr><th class=no-padding ng-repeat="s in vm.orderBy"><div class=sortable ng-class="{\'align-right\': s.align==\'right\'}" ng-click=vm.sortByColumn(s.key)><span class=header-title>{{s.title}}</span> <span class=arrow-container><i ng-class="{\'arrow-down-dir\': s.sort==\'-\',\n                                    \'arrow-up-dir\': s.sort==\'+\',\n                                    \'arrow-blank\': !s.sort}" aria-hidden=true></i></span></div></th></tr></thead><tbody><tr dir-paginate="c in vm.customers | itemsPerPage: vm.perPage" total-items=vm.totalCustomers current-page=vm.page><td class=right-text>{{ c.user_id }}</td><td>{{ c.first_name }}</td><td>{{ c.last_name }}</td><td>{{ c.email }}</td><td class=right-text>{{ c.first_order_date |toDate |date:\'MM/dd/yyyy\'}}</td><td class=right-text>{{ c.last_order_date |toDate |date:\'MM/dd/yyyy\' }}</td><td class=right-text>{{ c.total_orders}}</td><td class=right-text>{{ c.pickup_orders}}</td><td class=right-text>{{ c.delivery_orders}}</td><td class=right-text>{{ c.order_spent}}</td><td class=right-text>{{ c.total_spent}}</td><td class=right-text>{{ c.avg_order_value | number : 2}}</td><td ng-if="!!vm.selectedGroupBy && vm.selectedGroupBy.key!=\'order_date\'">{{c[vm.selectedGroupBy.key]}}</td><td ng-if="!!vm.selectedGroupBy && vm.selectedGroupBy.key==\'order_date\'">{{c[vm.selectedGroupBy.key] |toDate |date:\'MM/dd/yyyy\'}}</td></tr></tbody></table></div><div class=row-centered ng-show="!vm.processing && !!vm.totalCustomers"><dir-pagination-controls max-size=10 on-page-change=vm.onPageChanged(newPageNumber)></dir-pagination-controls><label class="control-label per-page-label">Per Page:</label><div class="select per-page-select"><select class=form-control ng-model=vm.perPage ng-options="o as o for o in vm.perPageOptions"></select></div></div></div></div></div></div>'),a.put("modules/reports/reports-transactions/reports-transactions.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Reports</h4></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading with-loader"><h3 class=panel-title>Transactions Report</h3><div class=loader-container ng-show=vm.processing><div class=filter-loader></div></div><div style="width: 140px"></div></div><div class=panel-body><div class=row><div class=col-md-6><date-range-picker-custom on-period-changed="vm.onPeriodChanged(startDate, endDate)"></date-range-picker-custom></div><div class=col-md-6><div class=form-horizontal><div class=form-group><label class="col-md-3 control-label">Group By</label><div class=col-md-9><div class="select input-large"><button type=button class="btn btn-danger pull-right" data-toggle=modal ng-click=vm.openGroupBySelections()>Select Group By</button></div></div></div></div></div></div><div ng-show="(!vm.transactions || !vm.transactions.length) && !vm.processing" class="col-md-12 message-container"><h5 class=pre-load-text>No records were found.</h5></div><div class=table-container><table ng-show="!!vm.transactions && !!vm.transactions.length" class="table report-table table-striped"><thead><tr><th class=no-padding ng-repeat="s in vm.orderBy"><div class=sortable ng-class="{\'align-right\': s.align==\'right\'}" ng-click=vm.sortByColumn(s.key)><span class=header-title>{{s.title}}</span> <span class=arrow-container><i ng-class="{\'arrow-down-dir\': s.sort==\'-\',\n                                    \'arrow-up-dir\': s.sort==\'+\',\n                                    \'arrow-blank\': !s.sort}" aria-hidden=true></i></span></div></th></tr></thead><tbody><tr dir-paginate="t in vm.transactions | itemsPerPage: vm.perPage" total-items=vm.totalTransactions current-page=vm.page><td class=right-text>{{ t.merchant_id }}</td><td style="min-width: 60px">{{ t.store_name }}</td><td class=right-text>{{ t.total_orders }}</td><td class=right-text>{{ t.pickup_orders }}</td><td class=right-text>{{ t.delivery_orders }}</td><td class=right-text>{{ t.order_amount }}</td><td class=right-text>{{ t.tip}}</td><td class=right-text>{{ t.tax}}</td><td class=right-text>{{ t.discount}}</td><td class=right-text>{{ t.delivery_fee}}</td><td class=right-text>{{ t.grand_total}}</td><td class=right-text>{{ t.avg_order_value | number : 2}}</td><td ng-if="!!vm.selectedGroupBy && vm.selectedGroupBy.key!=\'order_date\'">{{t[vm.selectedGroupBy.key]}}</td><td ng-if="!!vm.selectedGroupBy && vm.selectedGroupBy.key==\'order_date\'">{{t[vm.selectedGroupBy.key] |toDate |date:\'MM/dd/yyyy\'}}</td></tr></tbody></table></div><div class=row-centered ng-show="!vm.processing && !!vm.totalTransactions"><dir-pagination-controls max-size=10 on-page-change=vm.onPageChanged(newPageNumber)></dir-pagination-controls><label class="control-label per-page-label">Per Page:</label><div class="select per-page-select"><select class=form-control ng-model=vm.perPage ng-options="o as o for o in vm.perPageOptions"></select></div></div></div></div></div></div>'),a.put("modules/reports/reports/reports.html",'<div class=row><div class=col-sm-12><div class="page-header-title menu-bg"><h4 class=page-title>Reports</h4></div></div></div><overview-component brands=rpt.brands></overview-component><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading-with-tooltip><div class=panel-heading><h3 class=panel-title>Reports</h3></div><div class=panel-heading-tooltip-right><h4><i class="fa fa-question-circle tooltip-help" aria-hidden=true><span class=tool-tip-text-responsive>{{ \'MENU.TOOLTIP.REPORTS.REPORTS\' | translate }}</span></i></h4></div><div class="panel-heading with-loader"><div class="loader-container inline-flex-row-start flex-align-items-center" ng-show=rpt.processing><div class=filter-loader></div><label style="margin-left: 5px; margin-bottom: 0">Loading Report...</label></div><div class="loader-container inline-flex-row-start flex-align-items-center" ng-show=rpt.exporting><div class=filter-loader></div><label style="margin-left: 5px; margin-bottom: 0">Exporting Report...</label></div><div style="width: 140px"></div></div></div><div class=panel-body><div class=m-t-15><div class="col-md-6 col-lg-4"><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label">Report Type</label><div class=col-md-8><div class=input-large><select class=form-control ng-change=rpt.onReportTypeChanged() ng-model=rpt.selectedReportType ng-options="type.desc for type in rpt.reportTypes track by type.key"><option class=placeholder-color value="" selected disabled>Select a Report Type</option></select></div></div></div></div></div><div ng-show="rpt.user.hasPermission(\'brands_filter\') || rpt.user.hasPermission(\'multi_merchs_filter\')"><div class="col-md-6 col-lg-4" ng-show="rpt.user.hasPermission(\'brands_filter\') && rpt.user.hasPermission(\'multi_merchs_filter\')"><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label">Filter Type</label><div class=col-md-8><div class="btn-group m-l-5 m-r-5"><button type=button class="btn waves-effect btn-sm" ng-class="rpt.filterTypeClass(\'brand\',rpt.custom_reports_filter_type)" ng-click="rpt.custom_reports_filter_type = \'brand\'">Brand</button> <button type=button class="btn waves-effect btn-sm" ng-class="rpt.filterTypeClass(\'merchant\',rpt.custom_reports_filter_type)" ng-click="rpt.custom_reports_filter_type = \'merchant\'">Merchant(s)</button></div></div></div></div></div><div class="col-md-12 col-lg-4"><div class=form-horizontal><div class=form-group ng-show="rpt.custom_reports_filter_type == \'brand\' && rpt.user.hasPermission(\'brands_filter\')"><label class="col-md-2 control-label">Brand</label><div class=col-md-10><div class=input-large><select name=brand class=form-control ng-model=rpt.custom_brand_filter ng-options="brand.brand_id as brand.brand_name for brand in rpt.brands"><option class=placeholder-color value="" selected disabled>Brands</option></select></div></div></div><div ng-show="!rpt.user.hasPermission(\'brands_filter\') && rpt.user.hasPermission(\'multi_merchs_filter\') && !rpt.user.hasPermission(\'op_merch_select\')"><div class="col-md-offset-2 col-lg-offset-0"><label><input type=checkbox ng-model=rpt.merchant_custom_subset ng-change=rpt.merchantCustomSubsetChange()> Select Merchant Subset</label></div></div><div class=form-group ng-show="rpt.custom_reports_filter_type == \'merchant\'"><label class="col-md-2 col-lg-3 control-label">Merchants</label><div class="col-md-10 col-lg-9"><button type=button class="btn btn-info btn-sm" data-toggle=modal ng-click="rpt.merchant_open_source = \'custom_reports\'" data-target=#merchant-select-modal>Select Merchants</button></div></div></div></div></div></div><div class=clear><report-selector-component selected-report-type=rpt.selectedReportType custom-brand-filter=rpt.custom_brand_filter custom-reports-filter-type=rpt.custom_reports_filter_type merchant-search=rpt.merchant_search processing=rpt.processing exporting=rpt.exporting></report-selector-component></div></div></div></div></div><div id=merchant-select-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button> <button class="btn btn-success" ng-click="rpt.enableMerchantGroups = false;" ng-class="{active_button: !rpt.enableMerchantGroups}" ng-disabled=!rpt.enableMerchantGroups>Select Merchants</button> | <button class="btn btn-success" ng-click=rpt.switchToMerchantGroups() ng-class="{active_button: rpt.enableMerchantGroups}" ng-disabled=rpt.enableMerchantGroups>Select Merchant Groups</button> <button class="btn btn-default" ng-click=rpt.merchant_search.clearAll();>Clear Selection</button></div><div class=modal-body><div class=row><div class=col-md-6 ng-if=!rpt.enableMerchantGroups><div class=form-group><label class="col-md-3 control-label">User Merchants</label><div class="col-md-12 m-t-10"><input type=text class="input-med form-control inline-block margin-4" name=merchants_filter ng-enter=rpt.merchant_search.merchantSearchGlobal() ng-model=rpt.merchant_search.search_text ng-fade placeholder=Filter> <button ng-click=rpt.merchant_search.merchantSearchGlobal() class="btn-default btn">Search</button><div class="col-md-12 button-select" ng-show=rpt.merchant_search.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div class="table-fixed-with-scroll m-t-10" ng-show="!rpt.merchant_search.processing && rpt.merchant_search.selectable_merchants.length > 0"><table class="table table-hover"><thead><tr><th colspan=2 ng-click="rpt.sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="rpt.propertyName === \'merchant_id\'" ng-class="{reverse: rpt.reverse}"></span></th><th ng-click="rpt.sortBy(\'name\')">Name <span class=sort-order ng-show="rpt.propertyName === \'name\'" ng-class="{reverse: rpt.reverse}"></span></th><th ng-click="rpt.sortBy(\'address1\')">Address <span class=sort-order ng-show="rpt.propertyName === \'address1\'" ng-class="{reverse: rpt.reverse}"></span></th></tr></thead><tbody><tr ng-repeat="merchant in rpt.merchant_search.selectable_merchants  | orderBy:rpt.propertyName:rpt.reverse" ng-click=rpt.merchant_search.addMerchant(merchant)><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div><div class=col-md-6 ng-if=rpt.enableMerchantGroups><div class=form-group><label class="col-md-3 control-label">Merchant Groups</label><div class="col-md-12 m-t-10"><input type=text class="input-med form-control inline-block margin-4" name=merchants_filter ng-enter=rpt.merchant_search.merchantGroupSearch() ng-model=rpt.merchant_search.search_text ng-fade placeholder=Filter> <button ng-click=rpt.merchant_search.merchantGroupSearch() class="btn-default btn">Search</button><div class="col-md-12 button-select" ng-show=rpt.merchant_search.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div class="table-fixed-with-scroll m-t-10" ng-show="!rpt.merchant_search.processing && rpt.merchant_search.selectable_merchant_groups.length > 0"><table class="table table-hover"><thead><tr><th colspan=2 ng-click="rpt.sortBy(\'id\')">ID <span class=sort-order ng-show="rpt.propertyName === \'id\'" ng-class="{reverse: rpt.reverse}"></span></th><th ng-click="rpt.sortBy(\'name\')">Name <span class=sort-order ng-show="rpt.propertyName === \'name\'" ng-class="{reverse: rpt.reverse}"></span></th></tr></thead><tbody><tr id=promo-add-merchant ng-repeat="group in rpt.merchant_search.selectable_merchant_groups | orderBy:rpt.propertyName:rpt.reverse" ng-click=rpt.merchant_search.addMerchantGroupAsMerchants(group);><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{group.id}}</td><td>{{group.name}}</td><td>{{group.group_type}}</td></tr></tbody></table></div></div></div></div><div class=col-md-6><label class=control-label>Selected Merchants ({{rpt.merchant_search.selected_merchants.length}}):</label><div class="table-fixed-with-scroll m-t-10" ng-show="rpt.merchant_search.selected_merchants.length > 0"><table class="table table-hover"><thead><tr><th colspan=2 ng-click="rpt.sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="rpt.propertyName === \'merchant_id\'" ng-class="{reverse: rpt.reverse}"></span></th><th ng-click="rpt.sortBy(\'name\')">Name <span class=sort-order ng-show="rpt.propertyName === \'name\'" ng-class="{reverse: rpt.reverse}"></span></th><th ng-click="rpt.sortBy(\'address1\')">Address <span class=sort-order ng-show="rpt.propertyName === \'address1\'" ng-class="{reverse: rpt.reverse}"></span></th></tr></thead><tbody><tr ng-repeat="merchant in rpt.merchant_search.selected_merchants | orderBy:rpt.propertyName:rpt.reverse" ng-click=rpt.merchant_search.removeMerchant(merchant)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-disabled data-dismiss=modal>Submit</button></div></div></div></div><manage-reports></manage-reports><reports-group-by></reports-group-by>'),
a.put("modules/shared/directive/date-range-picker/date-range-picker.html",'<div class=form-horizontal><div class=form-group><label class="col-md-4 control-label" style="padding-top: 5px">Date Range</label><div class=col-md-6><select name=brand class="form-control input-large" ng-model=selectedPeriod ng-change=onPeriodChange() ng-options="timePeriod.desc for timePeriod in timePeriods track by timePeriod.key"></select></div></div><div ng-show="!!selectedPeriod && selectedPeriod.key==\'custom\'"><div class=form-group><label class="col-md-4 control-label">From</label><div class=col-md-6><div class="input-group input-large date" id=from_date><input type=text class="form-control"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div><div class=form-group><label class="col-md-4 control-label">To</label><div class=col-md-6><div class="input-group input-large date" id=to_date><input type=text class="form-control"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div></div></div>'),a.put("modules/shared/directive/date-range-to-from-picker/date-range-to-from-picker.html",'<div><div class=form-group><label class="col-md-3 control-label">From</label><div class=col-md-9><div class="input-group input-large date" id=from_date><input type=text class="form-control"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div><div class=form-group><label class="col-md-3 control-label">To</label><div class=col-md-9><div class="input-group input-large date" id=to_date><input type=text class="form-control"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div></div>'),a.put("modules/shared/directive/date-single-picker/date-single-picker.html",'<div><div class=form-group><label class=block>{{ \'MERCHANT.HOURS.DAY\' | translate }}</label><div class="input-group input-large date" id=set_date><input type=text class=form-control ng-required=true ng-model="current_date"/> <span class=input-group-addon><span class="fa fa-calendar"></span></span></div></div></div>'),a.put("modules/shared/directive/lookup-selector/lookup-selector.html",'<div id=lookup-select-modal class="modal fade promo-merchant-select-modal" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select {{brand_lookup.name}} Options</h4></div><div class=modal-body><div class=container><div class="col-md-6 m-t-15"><div class=form-group><label class=control-label>Unselected</label><div><div class=m-t-20><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th></th><th>{{brand_lookup.name}} Name</th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr class=pointer ng-repeat="lookup in brand_lookup.un_selected | orderBy:\'type_id_name\'" ng-click=brand_lookup.addLookup(lookup)><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{lookup.type_id_name}}</td></tr></tbody></table></div></div></div></div></div><div class="col-md-6 m-t-15"><div class=form-group><label class=control-label>Selected</label><div class=m-t-20><table class="table table-hover" style="margin-bottom: -1px"><thead><tr class=pointer><th></th><th>{{brand_lookup.name}} Name</th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="lookup in brand_lookup.selected | orderBy:\'type_id_name\'" ng-click=brand_lookup.removeLookup(lookup)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{lookup.type_id_name}}</td></tr></tbody></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success pointer" ng-disabled data-dismiss=modal ng-click=setLookupValues()>Submit</button></div></div></div></div>'),a.put("modules/shared/directive/merchant-group-selector/merchant-group-selector.html",'<div id=merchant-group-select-modal class="modal fade promo-merchant-select-modal" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Merchant Group Select</h4></div><div class=modal-body><div class=container><div class=form-group><input type=text class="input-med form-control" name=merchants_filter ng-enter=group_select_service.merchantGroupSearch() ng-model=group_select_service.search_text ng-fade placeholder=Filter><div class="col-md-12 button-select" ng-show=group_select_service.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div></div><div ng-show=!group_select_service.processing class="col-md-6 m-t-15"><div class=form-group><label class=control-label>Merchant Group Results</label><div class=m-t-20 ng-show="group_select_service.selectable_merchant_groups.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'id\')">ID <span class=sort-order ng-show="propertyName === \'id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="group in group_select_service.selectable_merchant_groups | orderBy:propertyName:reverse" ng-click=group_select_service.addGroup(group)><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{group.id}}</td><td>{{group.name}}</td></tr></tbody></table></div></div></div></div><div class="col-md-6 m-t-15" ng-show=!group_select_service.processing><div class=form-group><label class=control-label>Selected Groups:</label><div class=m-t-20 ng-show="group_select_service.selected_merchant_groups.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'id\')">ID <span class=sort-order ng-show="propertyName === \'id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="group in group_select_service.selected_merchant_groups | orderBy:propertyName:reverse" ng-click=group_select_service.removeGroup(group)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{group.id}}</td><td>{{group.name}}</td></tr></tbody></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-disabled data-dismiss=modal ng-click=closeMerchantGroupSelect()>Submit</button></div></div></div></div>'),a.put("modules/shared/directive/merchant-operator-selector/merchant-operator-selector.html",'<div id=merchant-operator-select-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Current Merchant</h4></div><div class=modal-body><div class=form-group><input type=text class="input-large form-control" name=merchant_filter placeholder="Filter Merchants" ng-model=operator_factory.merchant_filter ng-required=true></div><div class=row><div class="col-xs-12 create-promo-view"><div class=filter-loader-contain ng-show=search.processing><div class=filter-loader></div></div><table class="big-screen table table-hover"><thead><tr><th>ID</th><th>Name</th><th>Address</th><th>City</th><th>State</th></tr></thead><tbody><tr ng-repeat="merchant in operator_factory.operator_merchants | filter:operator_factory.filterMerchantSelect" ng-click=setMerchant(merchant)><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}</td><td>{{merchant.city}}</td><td>{{merchant.state}}</td></tr></tbody></table></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button></div></div></div></div>'),a.put("modules/shared/directive/merchant-selector/merchant-selector.html",'<div id=merchant-select-modal class="modal fade promo-merchant-select-modal" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title ng-show="propationOptions == 1">These changes belong to</h4><h4 class=modal-title ng-show="propationOptions != 1">Merchant Select</h4></div><div class=modal-body><div class=container><div class="col-md-12 m-b-20" ng-show="propationOptions == 1"><div class=form-group><label class="col-md-3 col-lg-3 control-label">Apply To</label><div class="col-md-9 col-lg-9"><select name=brand class="form-control input-large margin-top-five" ng-required=true ng-model=merchant_search_service.propagate_type ng-fade ng-options="option.code as option.desc for option in propagate_options"><option class=placeholder-color value="" selected disabled>Brand</option></select></div></div></div><div class="col-md-12 form-group"><input type=text class="input-med form-control" name=merchants_filter ng-enter=merchant_search_service.merchantSearch() ng-model=merchant_search_service.search_text ng-fade placeholder=Filter><div class="col-md-12 button-select" ng-show=merchant_search_service.processing><div class=filter-loader-contain><div class=filter-loader></div></div></div></div><div ng-show=!merchant_search_service.processing class="col-md-6 m-t-15" ng-class=selectMerchantOpacityFifty()><div class=form-group><label class=control-label>Merchant Results</label><div ng-class=selectMerchantOpacityFifty()><div class=m-t-20 ng-show="merchant_search_service.selectable_merchants.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="propertyName === \'merchant_id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'address1\')">Address <span class=sort-order ng-show="propertyName === \'address1\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="merchant in merchant_search_service.selectable_merchants | orderBy:propertyName:reverse" ng-click=merchant_search_service.addMerchant(merchant)><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div></div><div class="col-md-6 m-t-15" ng-class=selectMerchantOpacityFifty() ng-show=!merchant_search_service.processing><div class=form-group><label class=control-label>Selected Merchants:</label><div class=m-t-20 ng-show="merchant_search_service.selected_merchants.length > 0"><table class="table table-hover" style="margin-bottom: -1px"><thead><tr><th style="width: 85px" ng-click="sortBy(\'merchant_id\')">ID <span class=sort-order ng-show="propertyName === \'merchant_id\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'name\')">Name <span class=sort-order ng-show="propertyName === \'name\'" ng-class="{reverse: reverse}"></span></th><th ng-click="sortBy(\'address1\')">Address <span class=sort-order ng-show="propertyName === \'address1\'" ng-class="{reverse: reverse}"></span></th></tr></thead></table><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="merchant in merchant_search_service.selected_merchants | orderBy:propertyName:reverse" ng-click=merchant_search_service.removeMerchant(merchant)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></tbody></table></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-disabled data-dismiss=modal ng-click=closeMerchantSelect()>Submit</button></div></div></div></div>'),a.put("modules/shared/directive/merchant-single-selector/merchant-single-selector.html",'<div id=merchant-single-select-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Merchant</h4></div><div class=modal-body><div class=form-group><div class="col-md-9 col-lg-9"><form name=merchant_search_form novalidate ng-submit=merchantSearch()><div class="flex-init flex-align-items-baseline"><label class="col-md-3 col-lg-3 control-label">Merchant Search</label><input type=text class="input-large form-control" name=search_text placeholder="" ng-model=search.text ng-required=true><div class=submit-contain><button class="btn-primary menu-btn btn">Search</button></div></div></form></div><div class=row><div class="col-xs-12 create-promo-view"><div class=filter-loader-contain ng-show=search.processing><div class=filter-loader></div></div><div class="m-t-20 table-fixed-with-scroll" ng-show=!search.processing><table class="content-table table table-hover" ng-show="search_results.length > 0"><thead><tr><th>ID</th><th>Name</th><th>Address</th><th>City</th><th>State</th></tr></thead><tbody><tr ng-repeat="merchant in search_results" ng-click=setMerchant(merchant)><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}</td><td>{{merchant.city}}</td><td>{{merchant.state}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="merchant in search_results" ng-click=setMerchant(merchant)><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{merchant.name}}</b></h5></div><div class=id><h5 class="dark-grey id-title">Merchant ID <span class=id-number>{{merchant.merchant_id}}</span></h5></div><div class="description clear"><div class=merchant-address>{{merchant.address1}} {{merchant.city}}, {{merchant.state}} {{merchant.zip}}</div></div></div></div></div></div></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button></div></div></div></div>'),a.put("modules/shared/directive/modal-menu-picker/modal-menu-picker.html",'<div id={{handler}} class="modal-picker modal fade {{handler}}"><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>Select Menu</h4></div><div class=modal-body><p class=text-warning>{{body}}</p><div class=row><div class="col-md-6 m-b-15"><label class=control-label>Menu Search</label><input type=text class="m-b-10 input-large form-control" ng-enter=search() ng-model=search_text ng-fade placeholder=Filter><div class=button-select ng-show=search_processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div ng-show="!search_processing && selectable.length > 0"><div class=m-t-10><label>Select Type</label><select class="form-control input-med text-capitalize" ng-model=current_menu_type ng-click=$event.stopPropagation(); ng-options="option as option for option in select_options"></select></div><div class=m-t-20><label>Select Menu</label></div><div class=table-fixed-with-scroll class=m-t-10><table class="table table-hover"><thead><tr><th></th><th class=fix-table-wrap>Menu ID</th><th class=fix-table-wrap>Name</th><th class=fix-table-wrap>Description</th></tr></thead><tbody style="margin-top: -1px"><tr ng-repeat="item in selectable" ng-click="add(item, current_menu_type)"><td class=vertical-align-middle><i class="fa fa-plus-circle" aria-hidden=true></i></td><td class=vertical-align-middle>{{item.menu_id}}</td><td class=vertical-align-middle>{{item.name}}</td><td class=vertical-align-middle>{{item.description}}</td></tr></tbody></table></div></div></div><div class=col-md-6><label class=control-label>Selected Menu:</label><div class=m-t-10 ng-show="selected_values.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th></th><th class=fix-table-wrap>Menu ID</th><th class=fix-table-wrap>Name</th><th class=fix-table-wrap>Type</th></tr></thead><tbody><tr ng-repeat="item in selected_values" ng-click=remove(item)><td class=vertical-align-middle><i class="fa fa-minus-circle" aria-hidden=true></i></td><td class=vertical-align-middle>{{item.menu_id}}</td><td class=vertical-align-middle>{{item.name}}</td><td class="vertical-align-middle text-capitalize">{{item[\'pivot\'].merchant_menu_type}}</td></tr></tbody></table></div></div></div></div></div><div class=modal-footer><p class=text-left>{{footer}}</p><button type=button class="btn btn-default" data-dismiss=modal data-ng-click=callbackbuttonleft()>Cancel</button> <button type=button class="btn btn-success" data-ng-click="callbackbuttonright(); $event.stopPropagation()">Submit</button></div></div></div></div>'),a.put("modules/shared/directive/modal-picker/modal-picker.html",'<div id={{handler}} class="modal-picker modal fade {{handler}}"><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>{{header}}</h4></div><div class=modal-body><p>{{body}}</p><div class=row><div class="col-md-6 m-b-15"><label class=control-label>{{selection_title}}</label><input ng-hide=disable_search_field type=text class="m-b-10 input-med form-control" ng-enter=search() ng-model=search_text ng-fade placeholder=Filter><div class=button-select ng-show=search_processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div ng-show="!search_processing && selectable.length == 0">No records</div><div ng-show="!search_processing && selectable.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><thead><tr><th></th><th class=fix-table-wrap ng-repeat="header in table_headers">{{header}}</th></tr></thead><tbody style="margin-top: -1px"><tr ng-repeat="listitem in selectable" ng-click=add(listitem)><td><i class="fa fa-plus-circle" aria-hidden=true></i></td><td ng-repeat="field in table_fields">{{listitem[field]}}</td></tr></tbody></table></div></div></div><div class=col-md-6><label class=control-label>{{selected_title}}</label><div ng-show="selected_values.length >= maximum_selection_permitted">You can only select {{maximum_selection_permitted}}.</div><div class=m-t-10 ng-show="selected_values.length > 0"><div class=table-fixed-with-scroll><table class="table table-hover"><tbody><tr ng-repeat="listitem in selected_values" ng-click=remove(listitem)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td ng-repeat="field in table_fields">{{listitem[field]}}</td></tr></tbody></table></div></div></div></div></div><div class=modal-footer><p class=text-left>{{footer}}</p><button type=button class="btn btn-default" data-dismiss=modal data-ng-click=callbackbuttonleft()>Cancel</button> <button type=button class="btn btn-success" data-ng-click="callbackbuttonright(); $event.stopPropagation()">Submit</button></div></div></div></div>'),a.put("modules/shared/directive/paginated-table/paginated-table.html",'<div id="{{!!vm.containerId ? vm.containerId : \'paginated-table\'}}"><div class=filter-loader-contain ng-if=vm.processing><div class=filter-loader></div></div><h5 class="pre-load-text text-center" ng-if="!!vm.paginatedResult.data && vm.paginatedResult.data.length == 0 && !vm.processing">No records</h5><div ng-if="!vm.processing && !!vm.paginatedResult && !!vm.paginatedResult.data && vm.paginatedResult.data.length > 0"><table class="table table-hover content-table"><thead><tr><th ng-repeat="(key, value) in vm.fieldNames" class="{{value.class}} cursor-pointer" ng-click=vm.orderByChange(key)>{{value.columnName}} <span class=sort-order ng-class="[{activesort: vm.order_by === key},{reverse: vm.reverse}]"></span></th></tr></thead><tbody><tr ng-repeat="item in vm.paginatedResult.data"><td ng-click=vm.clickItem(item) ng-repeat="(key, value) in vm.fieldNames" class={{value.class}}>{{item[key]}}</td></tr></tbody></table><div class=content-responsive><div ng-repeat="item in vm.paginatedResult.data" ng-click=vm.viewItem(item) ng-transclude=contentResponsive></div></div></div><paginator-buttons ng-show="!vm.processing && !!vm.paginatedResult && !!vm.paginatedResult.data && vm.paginatedResult.data.length > 0" paginated-result=vm.paginatedResult processing=vm.processing params=vm.params></paginator-buttons></div>'),a.put("modules/shared/directive/paginator-buttons/paginator-buttons.html",'<div id=paginator-buttons><div class="flex-init flex-justify-content-space-between" ng-show=vm.showCountValues()><h5 ng-if=!!vm.paginatedResult.total>Number of records: {{!!vm.paginatedResult.total ? vm.paginatedResult.total : 0 }}</h5><div class=flex-init><h5 class=m-r-10>Records From: {{!!vm.paginatedResult.from ? vm.paginatedResult.from : 0 }}</h5><h5>To: {{!!vm.paginatedResult.to ? vm.paginatedResult.to : 0 }}</h5></div></div><div class="flex-init flex-justify-content-center" ng-if="!!vm.paginatedResult && !!vm.paginatedResult.current_page"><nav aria-label="Page navigation"><ul class=pagination><li><a ng-class="{disabledPaginationLink: vm.paginatedResult.current_page == 1}" ng-click="vm.paginatedResult.current_page == 1 || vm.goFirstPage()"><span>&laquo;&laquo;&laquo;</span></a></li><li><a ng-class="{disabledPaginationLink: !!!vm.paginatedResult.prev_page_url}" ng-click="!!!vm.paginatedResult.prev_page_url || vm.goPreviousPage()" aria-label=Previous><span aria-hidden=true>&laquo;</span></a></li><li><a class=active>{{vm.paginatedResult.current_page}}</a></li><li ng-if="vm.paginatedResult.current_page+1 <= vm.paginatedResult.last_page"><a ng-click=vm.goToPage(vm.paginatedResult.current_page+1)>{{vm.paginatedResult.current_page+1}}</a></li><li ng-if="vm.paginatedResult.current_page+2 <= vm.paginatedResult.last_page"><a ng-click=vm.goToPage(vm.paginatedResult.current_page+2)>{{vm.paginatedResult.current_page+2}}</a></li><li><a ng-class="{disabledPaginationLink: !vm.paginatedResult.next_page_url}" ng-click="!vm.paginatedResult.next_page_url || vm.goNextPage()" aria-label=Next><span aria-hidden=true>&raquo;</span></a></li><li ng-show=!!vm.paginatedResult.last_page><a ng-class="{disabledPaginationLink: vm.paginatedResult.current_page == vm.paginatedResult.last_page || vm.paginatedResult.current_page > vm.paginatedResult.last_page}" ng-click="vm.paginatedResult.current_page == vm.paginatedResult.last_page || vm.goToPage(vm.paginatedResult.last_page)" aria-label=Previous><span aria-hidden=true>&raquo;&raquo;&raquo;</span></a></li></ul></nav></div></div>'),a.put("modules/shared/nav-bar/default.html",'<div class=topbar><div class=topbar-left><div class=text-center><a href=#home class=logo><div></div></a> <a href=#home class=logo-sm><img src=img/splickit_small_logo.png height=48></a></div></div><div class="navbar navbar-inverse" role=navigation><div class=container><div ng-controller=TopBarController><ul class="nav navbar-nav navbar-right pull-right fix-nav-bar-menu-margin" ng-controller=SessionController ng-show=isLoggedIn><li class=dropdown><a id=gear-icon-link href="" class="dropdown-toggle profile waves-effect waves-light" data-toggle=dropdown aria-expanded=false><img src=/img/gear_icon.png alt=user-img class=img-circle></a><ul class=dropdown-menu><li ng-show="user_service.hasPermission(\'home_nav\')"><a href="#/" ng-if=!isUserOperator()>Home</a> <a href=#/operator/home ng-if=isUserOperator()>Home</a></li><li ng-show="user_service.hasPermission(\'reports_nav\')"><a href=#/reports>Reporting</a></li><li ng-show="user_service.hasPermission(\'reports_nav\')"><a href=#/users/manage>Manage Users</a></li><li ng-show="user_service.hasPermission(\'mng_vars\')"><a href=#/vars/manage>Value Added Resellers</a></li><li class=divider></li><li><a href="" data-toggle=modal data-target=#theme-preferences>Preferences</a></li><li class=divider></li><li><a id=logout-link href ng-click=$event.preventDefault();logOut()>Logout</a></li></ul></li></ul><ng-include src="\'modules/merchant/merchant-nav-bar/merchant-nav-bar.html\'"></ng-include></div></div></div></div><div id=theme-preferences class="modal fade"><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title>Theme Selection</h4></div><div class="modal-body form-horizontal" ng-controller=ThemePreferencesController><p>Use the selector to switch your page theme between our default templates.</p><div class="form-group flex-init flex-justify-content-center flex-align-items-baseline"><label class=m-r-10>Theme Selected:</label><div><select class=form-control ng-model=selectedTheme ng-change=changeTheme() ng-options="layout.url as layout.name for layout in layouts"></select></div></div></div></div></div></div>'),a.put("modules/shared/nav-bar/none.html",""),a.put("modules/shared/side-bar/blank.html",""),a.put("modules/shared/side-bar/none.html",""),a.put("modules/user/side-bar.html",'<div class="left side-menu"><div class="sidebar-inner slimscrollleft"><div id=sidebar-menu ng-controller=SideNavUserController><div class="user-details hidden-xs" ng-cloak><div class=user-info>User Management</div></div><ul><li><a href=#/users/manage class=waves-effect ng-click="set_hover(\'user_manage\')" ng-class="{\'active\': active.user_manage}"><i class="fa fa-address-card" aria-hidden=true></i> <span>Manage Users</span></a></li><li><a href=#/user/create class=waves-effect ng-click="set_hover(\'user_create\')" ng-class="{\'active\': active.user_create}"><i class="fa fa-user-o" aria-hidden=true></i> <span>Create User</span></a></li></ul></div><div class=clearfix></div></div></div>'),a.put("modules/user/user-create/user-create.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Users & Roles</h4></div></div></div><div id=delivery-section class=row><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Create User</h3></div><div class=panel-body><div class=filter-loader-contain ng-if=uc.new_user_processing><div class=filter-loader></div></div><form name=uc.create_user_form class=form-horizontal novalidate ng-submit=uc.createNewUser()><div ng-if=!uc.new_user_processing><div class=form-group><label class="col-md-5 control-label">Name</label><div class=col-md-7><input id=first_name name=first_name class="input-large form-control" type=text ng-required=true ng-model=uc.new_user.first_name ng-fade placeholder=First><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(uc.create_user_form.first_name.$error.required && uc.create_user_form.first_name.$touched) || (uc.create_user_form.first_name.$error.required && uc.create_user_form.$submitted)" role=alert>First Name is required.</div><input id=last_name name=last_name class="input-large form-control margin-top" type=text ng-required=true ng-model=uc.new_user.last_name ng-fade placeholder=Last><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(uc.create_user_form.last_name.$error.required && uc.create_user_form.last_name.$touched) || (uc.create_user_form.last_name.$error.required && uc.create_user_form.$submitted)" role=alert>Last Name is required.</div></div></div><div class=form-group><label class="col-md-5 control-label">Email</label><div class=col-md-7><input name=email class="input-large form-control" type=email ng-required=true ng-model=uc.new_user.email ng-fade placeholder=Email><div class="alert alert-danger ng-hide alert-reg-position" ng-show="uc.create_user_form.email.$error.required && (uc.create_user_form.email.$faded || uc.submit)" role=alert>Email is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(uc.create_user_form.email.$error.email && !uc.create_user_form.email.$error.required) && (uc.create_user_form.email.$faded || uc.submit)" role=alert>Entered email is invalid.</div><div class="alert alert-danger alert-reg-position ng-hide" ng-show=uc.email_exist>This email has already been registered.</div></div></div><div class=form-group><label class="col-md-5 control-label">Role</label><div class=col-md-7><div class=input-large><select name=role class=form-control ng-required=true ng-model=uc.new_user.role ng-fade ng-options="role.id as role.name for role in uc.roles" ng-change=uc.setVisibility()><option class=placeholder-color value="" selected disabled>Select</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="uc.create_user_form.role.$error.required && (uc.create_user_form.role.$faded || uc.submit)" role=alert>Role is required.</div></div></div><div ng-if="uc.current_user.permissions.includes(\'create_usr_org_select\')"><div class=form-group><label class="col-md-5 control-label">Organization</label><div class=col-md-7><div class=input-large><select name=organization class=form-control ng-required=true ng-model=uc.new_user.organization ng-fade ng-options="organization.id as organization.name for organization in uc.organizations"><option class=placeholder-color value="" selected disabled>Select</option></select></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="uc.create_user_form.organization.$error.required && (uc.create_user_form.organization.$faded || uc.submit)" role=alert>Organization is required.</div></div></div></div><div ng-show="uc.new_user.visibility == \'brand\' && uc.user.hasPermission(\'brands_filter\')"><div class=form-group><label class="col-md-5 control-label">Brand</label><div class="col-md-7 m-t-5"><select name=brand class="form-control input-large margin-top-five" ng-required="uc.new_user.visibility == \'brand\'" ng-model=uc.new_user.brand ng-fade ng-options="brand.brand_id as brand.brand_name for brand in uc.brands"><option class=placeholder-color value="" selected disabled>Brand</option></select><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(uc.create_user_form.brand.$error.required)\n                                                    && (create_user_form.brand.$faded || uc.submit)" role=alert>Brand is required for Brand level Visibility.</div></div></div></div><div ng-if="uc.current_user.visibility == \'global\'"><div class=form-group><label class="control-label col-md-5">Set default Password</label><div class="col-md-7 m-t-5"><input id=set-password-checkbox type=checkbox name=setPassword ng-init="uc.setPassword = false" ng-model=uc.setPassword></div></div></div><div ng-if="uc.current_user.visibility == \'global\' && uc.setPassword"><div class=form-group><label class="col-md-5 control-label">Password</label><div class=col-md-7><div class="inner-addon left-addon"><span class="fa fa-times" style="color: black" ng-show="(uc.create_user_form.password.$error.required || uc.create_user_form.password.$error.pattern) && uc.create_user_form.password.$touched"></span> <span class="fa fa-check" style="color: black" ng-show="(!uc.create_user_form.password.$error.required && !uc.create_user_form.password.$error.pattern)"></span> <input type=password name=password id=password class="form-control input-large" placeholder=Password required autofocus ng-required=true ng-model=uc.new_user.password ng-fade ng-minlength=8 ng-pattern="/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[\\/\\W+\\/g])(?=\\S+$).{8,}$/"></div><div class="inner-addon left-addon m-t-15"><span class="fa fa-times" ng-show="(uc.new_user.retype_password !==  uc.new_user.password && !!uc.new_user.password)" style="color: black"></span> <span class="fa fa-check" ng-show="uc.new_user.retype_password ===  uc.new_user.password && !!uc.new_user.password" style="color: black"></span> <input type=password name=retype_password id=retype_password class="form-control input-large" placeholder="Confirm Password" required autofocus ng-required=true ng-model=uc.new_user.retype_password ng-fade ng-minlength=8 ng-pattern="/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[\\/\\W+\\/g])(?=\\S+$).{8,}$/"></div><h5 class="pre-load-text alert" ng-show="(uc.create_user_form.password.$error.required || uc.create_user_form.password.$error.pattern)">Password must include at least 8 characters, both alpha and numeric characters, capital letter, and a special character.</h5></div></div></div></div><div ng-show="uc.new_user.visibility == \'mine_only\' || uc.new_user.visibility == \'operator\'"><div class=form-group><label class="col-md-5 control-label">Assign Merchant Locations</label><div class=col-md-7><input type=text class="input-large form-control inline m-r-5 m-b-10" name=merchants_filter ng-enter=uc.searchMerchantByProperty() ng-model=uc.search_text ng-fade placeholder="Search by Name or Address"> <button type=button ng-click=uc.searchMerchantByProperty() class="btn btn-success">Search</button></div><div class="col-md-12 button-select" ng-if=uc.merchant_search_processing><div class=filter-loader-contain><div class=filter-loader></div></div></div><div ng-show="uc.selectable_merchants.length > 0" class=col-md-12>Click on one or more locations to select</div><div ng-if=!uc.merchant_search_processing><div class="table-fixed-with-scroll button-select m-t-15 col-md-12"><table class="table table-hover"><tr ng-repeat="merchant in uc.selectable_merchants" ng-click=uc.addMerchant(merchant)><td class=add-merchant><i class="fa fa-plus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></table></div></div><div class="alert alert-danger ng-hide alert-reg-position" ng-show=uc.show_selected_merchant_error role=alert>Please select a related merchant in order to create this kind of user.</div></div><div class=form-group><label class="control-label m-l-10">Selected Merchants:</label><div class="m-t-15 col-md-12"><div class=table-fixed-with-scroll><table class="table table-hover"><tr ng-repeat="merchant in uc.new_user.merchants" ng-click=uc.removeMerchant(merchant)><td><i class="fa fa-minus-circle" aria-hidden=true></i></td><td>{{merchant.merchant_id}}</td><td>{{merchant.name}}</td><td>{{merchant.address1}}<br>{{merchant.city}}, {{merchant.state}} {{merchant.zip}}</td></tr></table></div></div></div></div><div class="col-md-12 m-t-10 m-b-10" ng-if=!uc.new_user_processing><div ng-show=create_user_success><div class="alert alert-success alert-reg-position" role=alert><i class="fa fa-check-circle" aria-hidden=true></i> The user {{uc.success_new_user}} Created!</div></div><button id=create-user-submit class="btn-success btn pull-right">Create</button></div></form></div></div></div><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Current Permissions Selected</h3></div><div class=panel-body><div ng-if=!uc.new_user_processing><table class="table table-striped"><tbody><tr ng-repeat="permission in uc.currentRolePermissions"><td colspan=2>{{permission}}</td><td style="line-height: 20px"><span class="circle pull-right" style="display: flex"></span></td></tr></tbody></table></div></div></div></div><div id=permissions-table class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Roles and Permissions Table</h3></div><div class=panel-body><table role=table class="table table-striped"><thead role=rowgroup><tr role=row><th role=columnheader colspan=2>Roles And Permissions</th><th role=columnheader>Manage Users</th><th role=columnheader>Manage Brand</th><th role=columnheader>Manage Accounts</th><th role=columnheader>Operator Dashboard</th><th role=columnheader>Customer Service</th><th role=columnheader>Manage Menu</th><th role=columnheader>Menu Quick-Edit</th><th role=columnheader>Manage Orders</th><th role=columnheader>Ordering On/Off</th><th role=columnheader>Marketing</th><th role=columnheader>Reporting</th><th role=columnheader>Creative</th></tr></thead><tbody role=rowgroup><tr role=row ng-if="uc.checkEnabledRoles(\'Splickit Super User\')"><td role=cell class=first-row colspan=2>Splickit.it Super-User</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Partner Admin\')"><td role=cell class=first-row colspan=2>Partner Admin</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Reseller Account Manager\')"><td role=cell class=first-row colspan=2>Re-Seller Account Manager</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Brand Manager\')"><td role=cell colspan=2 class=first-row>Brand Manager</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Store Owner Operator\')"><td role=cell colspan=2 class=first-row>Store Owner-Operator</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Multi Location Operator\')"><td role=cell colspan=2 class=first-row>Multi-Location Owner-Operator</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Store Manager\')"><td role=cell colspan=2 class=first-row>Store Manager</td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td></tr><tr role=row ng-if="uc.checkEnabledRoles(\'Store Associate\')"><td role=cell colspan=2 class=first-row>Store Associate</td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell><span class=circle style="display: flex"></span></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td><td role=cell class=cell></td></tr></tbody></table></div></div></div></div>'),
a.put("modules/user/user-login/user-login.html",'<div class="login-view wrapper-page panel panel-color panel-primary panel-padded"><div class=panel-body ng-controller=UserLoginCtrl><h3 class="text-center m-t-0 m-b-30"><span><img src=img/Order140_Final_Logoflat.png alt="splickit logo" height=40></span></h3><form class=m-t-20 name=login_form novalidate ng-submit=logonAttempt()><div class=form-group><input type=email id=inputEmail class=form-control placeholder="Email address" required autofocus ng-required=true ng-model=login.email ng-fade></div><div class=form-group><input type=password id=inputPassword class=form-control placeholder=Password required ng-model=login.password ng-fade ng-required=true></div><div class=loader-position ng-show=login_processing><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="alert alert-danger alert-reg-position" ng-show=login_failed role=alert>Invalid Login Credentials</div><div class="form-group text-center m-t-20 m-b-0"><button id=log-in-button class="btn btn-primary w-md waves-effect waves-light" type=submit>Log In</button></div><div class="form-group m-t-20 m-b-0"><a href=#/user/reset class=text-muted><i class="fa fa-lock m-r-5"></i> Forgot your password?</a></div></form></div></div>'),a.put("modules/user/user-reset-form/user-reset-form.html",'<div class="login-view wrapper-page panel panel-color panel-primary panel-padded"><div class=panel-body ng-controller=UserResetFormCtrl><h3 class="text-center m-t-0 m-b-30"><span><img src=img/Order140_Final_Logoflat.png alt="splickit logo" height=40></span></h3><form class=m-t-20 name=vm.form novalidate ng-submit=vm.submitResetPassword()><div class=form-group><input type=email id=inputEmail class=form-control placeholder="Email address" required autofocus ng-required=true ng-model=vm.email ng-fade></div><h5 class="pre-load-text alert" ng-if="vm.method == \'create\'">Please use the email address where you received your password reset email.</h5><div class=form-group><div class="inner-addon right-addon"><span class="fa fa-times" style="color: black" ng-show="(vm.form.inputPassword.$error.required || vm.form.inputPassword.$error.pattern) && vm.form.inputPassword.$touched"></span> <span class="fa fa-check" style="color: black" ng-show="(!vm.form.inputPassword.$error.required && !vm.form.inputPassword.$error.pattern)"></span> <input type=password name=inputPassword id=inputPassword class=form-control placeholder=Password required autofocus ng-required=true ng-model=vm.password ng-fade ng-minlength=8 ng-pattern="/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[\\/\\W+\\/g])(?=\\S+$).{8,}$/"></div></div><div class=form-group><div class="inner-addon right-addon"><span class="fa fa-times" ng-show="(vm.password_confirmation !==  vm.password && !!vm.password)" style="color: black"></span> <span class="fa fa-check" ng-show="vm.password_confirmation ===  vm.password && !!vm.password" style="color: black"></span> <input type=password name=inputPasswordConfirmation id=inputPasswordConfirmation class=form-control placeholder="Confirm Password" required autofocus ng-required=true ng-model=vm.password_confirmation ng-fade ng-minlength=8 ng-pattern="/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[\\/\\W+\\/g])(?=\\S+$).{8,}$/"></div></div><h5 class="pre-load-text alert" ng-show="(vm.form.inputPassword.$error.required || vm.form.inputPassword.$error.pattern)">Password must include at least 8 characters, both alpha and numeric characters, capital letter, and a special character.</h5><div class=loader-position ng-show=vm.processing><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="alert alert-danger" ng-show="vm.password_confirmation !==  vm.password && !!vm.password" role=alert>The password confirmation doesn\'t match.</div><div class="alert alert-danger" ng-show=vm.submit_errors role=alert>Invalid email, please set the correct value for the email field.</div><div class=alert-danger ng-show=!!vm.errors.errors.email role=alert>{{vm.errors.errors.email}}</div><div class=alert-danger ng-show=!!vm.errors.password role=alert>{{vm.errors.password[0]}}</div><div class="form-group text-center m-t-20 m-b-0"><button class="btn btn-primary w-md waves-effect waves-light" type=submit ng-disabled=vm.form.$invalid ng-if="vm.method == \'reset\'">Reset Password</button> <button class="btn btn-primary w-md waves-effect waves-light" type=submit ng-disabled=vm.form.$invalid ng-if="vm.method == \'create\'">Create Password</button></div></form></div></div>'),a.put("modules/user/user-reset/user-reset.html",'<div class="login-view wrapper-page panel panel-color panel-primary panel-padded"><div class=panel-body ng-controller=UserResetCtrl><h3 class="text-center m-t-0 m-b-30"><span><img src=img/Order140_Final_Logoflat.png alt="splickit logo" height=40></span></h3><form class=m-t-20 name=vm.form novalidate ng-submit=vm.submitResetPassword()><div class=form-group><input type=email id=inputEmail class=form-control placeholder="Email address" required autofocus ng-required=true ng-model=vm.email ng-fade></div><div class=loader-position ng-show=vm.processing><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="alert alert-danger" ng-show=vm.submit_errors role=alert>Invalid email, please set the correct value for the email field.</div><div class=alert-danger ng-show=!!vm.errors.email role=alert>{{vm.errors.email}}</div><div class="form-group text-center m-t-20 m-b-0"><button class="btn btn-primary w-md waves-effect waves-light" type=submit>Send Password Reset Email</button></div></form></div></div>'),a.put("modules/user/users-manage/users-manage.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>User Management</h4></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title ng-click=test()>Users</h3></div><div class=panel-body><div class=col-md-12><div class=form-horizontal><div class=form-group><label class="col-md-2 control-label">Search:</label><div class=col-md-10><input class="input-large form-control" type=text name=user_filter ng-model=user_filter_text ng-fade placeholder=Filter><div class=pre-load-text>Search by name, email, or role.</div></div></div></div></div><div id=user-list-page><table class="table table-hover content-table"><thead><tr><th ng-click="orderByChange(\'full_name\')">Name <span class=sort-order ng-class="[{activesort: order_by === \'full_name\'},{reverse: reverse}]"></span></th><th ng-click="orderByChange(\'email\')">Email <span class=sort-order ng-class="[{activesort: order_by === \'email\'},{reverse: reverse}]"></span></th><th ng-click="orderByChange(\'role_name\')">Role <span class=sort-order ng-class="[{activesort: order_by === \'role_name\'},{reverse: reverse}]"></span></th><th>Remove</th></tr></thead><tbody><tr ng-repeat="user in users | filter : filterUsers |orderBy: order_by:reverse" ng-click="openEditUserModal(user, $index)"><td>{{user.full_name}}</td><td>{{user.email}}</td><td>{{user.role_name}}</td><td class=delete-icon><i class="fa fa-times" aria-hidden=true ng-click="deleteUserDialog(user, $index); $event.stopPropagation();"></i></td></tr></tbody></table><div class=content-responsive><div ng-repeat="user in users | filter : user_filter_text" ng-click="openEditUserModal(user, $index)"><div class="panel panel-body row-table"><div class=name><h5 class=dark-grey><b>{{user.email}}</b></h5></div><div class="description clear"><div>Name: {{user.first_name}} {{user.last_name}}</div><div class=last-row-container-with-delete-icon><div>Role: {{user.role_name}}</div><i class="fa fa-times delete-icon-small-screen" aria-hidden=true ng-click="deleteUserDialog(user, $index); $event.stopPropagation();"></i></div></div></div></div></div></div></div></div></div></div><div id=delete-user-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title id=myModalLabel>Delete User</h4></div><div class=modal-body>Are you sure you want to remove the user <span class=bold-red>{{delete_user_name}}</span>?</div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-danger" ng-click=confirmDeleteUser()>Delete</button></div></div></div></div><div id=edit-user-modal class="modal fade" tabindex=-1 role=dialog aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><form name=edit_user_form novalidate ng-submit=editUser()><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Edit User</h4></div><div class=modal-body><div class=form-group><label class=control-label>Name</label><div><input id=first_name name=first_name class="input-large form-control" type=text ng-required=true ng-model=edit_user_new.first_name ng-fade placeholder=First><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(edit_user_form.first_name.$error.required && edit_user_form.first_name.$touched) || (edit_user_form.first_name.$error.required && edit_user_form.$submitted)" role=alert>First Name is required.</div><input id=last_name name=last_name class="input-large form-control margin-top" type=text ng-required=true ng-model=edit_user_new.last_name ng-fade placeholder=Last><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(edit_user_form.last_name.$error.required && edit_user_form.last_name.$touched) || (edit_user_form.last_name.$error.required && edit_user_form.$submitted)" role=alert>Last Name is required.</div></div></div><div ng-show="user_service.hasPermission(\'change_user_role\')" class=form-group><label class=control-label>User Role</label><div class=input-large><select name=role class=form-control ng-required=true ng-model=edit_user_new.role_id ng-fade ng-options="role.id as role.name for role in roles"><option class=placeholder-color value="" selected disabled>Select</option></select></div></div><div class=form-group><label class=control-label>Email</label><div><input name=email class="input-large form-control" type=email ng-required=true ng-model=edit_user_new.email ng-fade placeholder=Email><div class="alert alert-danger ng-hide alert-reg-position" ng-show="edit_user_form.email.$error.required && (edit_user_form.email.$faded || uc.submit)" role=alert>Email is required.</div><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(edit_user_form.email.$error.email && !edit_user_form.email.$error.required) && (edit_user_form.email.$faded || uc.submit)" role=alert>Entered email is invalid.</div><div class="alert alert-danger alert-reg-position ng-hide" ng-show=edit_user_new.email_exist>This email has already been registered.</div></div></div><div class=checkbox><label class=ng-binding><input type=checkbox name=setPassword ng-init="edit_user_new.setPassword = false" ng-model=edit_user_new.setPassword> Change Password? <span></span></label></div><div ng-show="user_service.hasPermission(\'login_as_user\')" class=form-group><label class=control-label><a href=javascript:void(0) ng-click=logInAsUser()>Log In As User</a></label></div><div class=form-group ng-if=edit_user_new.setPassword><label class=control-label>Password</label><div><input type=password name=password class="input-large form-control" placeholder=Password ng-model=edit_user_new.password ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="(edit_user_form.password.$error.required && edit_user_form.retype_password.$error.required)\n                                                    && (edit_user_form.retype_password.$faded || edit_user_form.$submitted)" role=alert>Password is a required field.</div><input type=password name=retype_password class="input-large form-control inline margin-top" ng-fade match=edit_user_new.password placeholder="Confirm Password" ng-model=edit_user_new.retype_password ng-required=true><div class="alert alert-danger alert-reg-position ng-hide" ng-show="edit_user_form.retype_password.$error.mismatch && (edit_user_form.retype_password.$faded || edit_user_form.$submitted)">Passwords do not match.</div></div></div><div class="alert alert-danger alert-reg-position ng-hide" ng-show=!!edit_user_new.error>{{edit_user_new.error}}</div><div ng-show=edit_user_new_processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-danger">Submit</button></div></form></div></div></div>'),a.put("modules/value-added-reseller/side-bar.html",'<div class="left side-menu"><div class="sidebar-inner slimscrollleft"><div id=sidebar-menu ng-controller=SideNavValueAddedResellerController><div class="user-details hidden-xs"><div class=user-info ng-cloak>Value Added Resellers</div></div><ul><li><a href=#/vars/manage class=waves-effect ng-click="set_hover(\'manage\')" ng-class="{\'active\': active.manage}"><i class="fa fa-address-card" aria-hidden=true></i> <span>Manage Vars</span></a></li><li><a href=#/var/create class=waves-effect ng-click="set_hover(\'create\')" ng-class="{\'active\': active.create}"><i class="fa fa-user-o" aria-hidden=true></i> <span>Create New Var</span></a></li></ul></div><div class=clearfix></div></div></div>'),a.put("modules/value-added-reseller/var-create/var-create.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Create VA Reseller</h4></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Create Value Added Reseller</h3></div><div class=panel-body><form name=create_value_added_reseller_form class=form-horizontal novalidate ng-submit=createNewValueAddedReseller()><div class=col-md-12><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Name</label><div class=col-md-9><input name=name class="input-med form-control" type=text ng-required=true ng-model=new_value_added_reseller.name ng-fade><div class="alert alert-danger ng-hide alert-reg-position" ng-show="create_value_added_reseller_form.name.$error.required && (create_value_added_reseller_form.name.$faded || new_value_added_reseller.submit)" role=alert>Name is required.</div></div></div></div></div><div class=col-md-12><div class=col-md-6><div class=form-group><label class="col-md-3 control-label">Description</label><div class=col-md-9><textarea class=form-control rows=2 name=description ng-model=new_value_added_reseller.description></textarea><div class="alert alert-danger ng-hide alert-reg-position" ng-show="create_value_added_reseller_form.description.$error.required && (create_value_added_reseller_form.description.$faded || new_value_added_reseller.submit)" role=alert>Description is required.</div></div></div></div></div><div ng-show=new_value_added_reseller.processing class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div><div class="col-md-12 m-t-10"><div class=col-md-12 ng-show=new_value_added_reseller.success><div class="alert alert-success alert-reg-position" role=alert><i class="fa fa-check-circle" aria-hidden=true></i> The value added reseller {{success_new_value_added_reseller}} has been created!</div></div><button class="btn-success btn pull-right">Create</button></div></form></div></div></div></div>'),a.put("modules/value-added-reseller/vars-manage/vars-manage.html",'<div class=row><div class=col-sm-12><div class=page-header-title><h4 class=page-title>Management</h4></div></div></div><div class=row><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Manage</h3></div><div class=panel-body><table class=table><thead><tr><th>Name</th><th>Description</th><th></th></tr></thead><tbody><tr ng-repeat="var in vars"><td>{{var.name}}</td><td>{{var.description}}</td><td class=delete-icon><i class="fa fa-times" aria-hidden=true ng-click="deleteVar(var, $index)"></i></td></tr></tbody></table></div></div></div></div>'),a.put("modules/web-skin/web-skin-configuration/web-skin-configuration.html",'<div class=row><div class=col-sm-12><div class="page-header-title creative-bg"><h4 class=page-title>Creative</h4><div><div class=breadcrumb-container><ol class="breadcrumb breadcrumb-margin"><li><a href=#/web_skin/create>Creative</a></li><li><a href=#/web_skin/configuration>{{skin_config.configs.name}} Config</a></li></ol></div><div class=buttons-container><button type=button ng-show=!skin_config.processing_create_skin ng-click=skin_config.pushWebskinConfirmation() class="btn btn-success">Preview Webskin</button> <button type=button ng-show=skin_config.ready_for_production ng-click=skin_config.pushWebskinProductionConfirmation() class="btn btn-danger m-l-5 push-webskin">Push Webskin to Production</button></div></div></div></div></div><div class=row><div class="col-md-3 style-guide-content"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Site Style Guide</h3></div><div class=panel-body><div class=row ng-repeat="(key, config_object) in skin_config.configs"><div class="col-md-12 list-config" ng-click=skin_config.modifyConfig(config_object)><div class=config-icon ng-style="{\'background-color\': skin_config.iconBg(config_object), \'border-color\': skin_config.iconBorder(config_object)}"><div style="filter: invert(100%) contrast(300%) brightness(150%); mix-blend-mode: luminosity" ng-style="{\'color\': skin_config.iconBg(config_object)}">{{config_object.item_number}}</div></div><div class="config-label text-muted m-l-10">{{config_object.name}}</div></div></div><button type=button data-toggle=modal data-target=#custom-css-modal class="btn btn-danger m-t-10">Custom CSS (Advanced Feature)</button></div></div></div><div class="col-md-9 skin-config"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Site Versions</h3></div><div class=panel-body><div class="row position-relative"><div class=hero-background ng-style="{\'background-image\': \'url(\' + skin_config.configs.hero_image_url.value + \')\'}"><div class="banner-container m-t-10"><div class="pointer child-column z-ten" ng-click=skin_config.modifyConfig(skin_config.configs.primary_logo_url)><div class="absolute z-ten"><div class=list-config><div class=config-icon>1</div></div></div><div class=logo-img-contain><img class=config-img ng-src={{skin_config.configs.primary_logo_url.value}}></div></div><div class="pointer child-column z-ten" style="flex: 2"><div class="flex-init flex-direction-column flex-justify-content-center child-row"><div class="list-config flex-align-self-center" ng-click=skin_config.modifyConfig(skin_config.configs.hero_image_url)><div class=config-icon>2</div></div></div></div><div class="absolute m-t-100 z-twenty pointer" ng-click=skin_config.modifyConfig(skin_config.configs.address_block_text_color)><div class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.address_block_text_color.value+\'!important\' || \'\' }}"><h4>842 Congress Street,<br>Boulder CO, 93230<br>(555) 555 - 5555</h4><div class=list-config><div class=config-icon>11</div></div></div></div><div class="pointer child-column z-ten"><div class="flex-init flex-justify-content-end"><div class="absolute m-t-30" ng-click=skin_config.modifyConfig(skin_config.configs.menu_nav_primary_item_text_color)><div class=list-config><div class=config-icon>10</div></div></div><a class=menu-text data-ng-attr-style="{{ \'color: \'+skin_config.configs.menu_nav_primary_item_text_color.value+\'!important\' || \'\' }}">My Order</a> <a class=menu-text data-ng-attr-style="{{ \'color: \'+skin_config.configs.menu_nav_primary_item_text_color.value+\'!important\' || \'\' }}">Sign up</a> <a class=menu-text data-ng-attr-style="{{ \'color: \'+skin_config.configs.menu_nav_primary_item_text_color.value+\'!important\' || \'\' }}">Sign in</a></div></div></div></div></div><div class="row m-t-15" ng-style="{\'background-color\': skin_config.configs.primary_bg_color.value}"><div class="col-md-12 main-bg-webskin-select"><div class="row m-t-15 pointer" ng-click=skin_config.modifyConfig(skin_config.configs.primary_bg_color)><div class="col-md-2 list-config"><div class=config-icon>3</div></div></div></div><div class="col-md-7 merchant-box"><div class="col-md-12 skin-location-list" ng-style="{\'border-top-color\': skin_config.configs.card_border_color.value}"><div class="col-md-6 m-t-5 pointer merchant-labels" ng-click=skin_config.modifyConfig(skin_config.configs.dark_text_color)><div class="absolute z-ten"><div class=dark-text-skin><div class=list-config><div class=config-icon>9</div></div></div></div><h4 class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.dark_text_color.value+\'!important\' || \'\' }}">1. Boulder North</h4><div class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.address_block_text_color.value+\'!important\' || \'\' }}">123 Fake Street, Boulder CO, 93232</div></div><div class="col-md-6 m-t-5 merchant-buttons"><div class="col-md-12 m-t-10 pointer" ng-click=skin_config.modifyConfig(skin_config.configs.primary_button_color)><div class="absolute z-ten"><div class=primary-button-skin><div class=list-config><div class=config-icon>5</div></div></div></div><button class="inline btn-default btn" ng-style="{\'background-color\': skin_config.configs.primary_button_color.value,\n                                                                                        \'color\': skin_config.configs.primary_button_text_color.value}">Pick Up</button> <button class="inline m-l-5 btn-default btn" ng-style="{\'background-color\': skin_config.configs.secondary_button_color.value}">Delivery</button></div><div class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.light_text_color.value+\'!important\' || \'\' }}"><div class=checkbox><label><input type=checkbox> Group Order <span></span></label></div></div></div></div><div class="col-md-12 skin-location-list" ng-style="{\'border-top-color\': skin_config.configs.card_border_color.value}"><div class="col-md-6 m-t-5 pointer merchant-labels" ng-click=skin_config.modifyConfig(skin_config.configs.medium_text_color)><h4 class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.dark_text_color.value+\'!important\' || \'\' }}">2. CU Campus</h4><div class="absolute z-ten"><div class=medium-text-skin><div class=list-config><div class=config-icon>8</div></div></div></div><div class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.medium_text_color.value+\'!important\' || \'\' }}">(555) 555 - 5555</div></div><div class="col-md-6 m-t-5 merchant-buttons"><div class="col-md-12 m-t-10 pointer" ng-click=skin_config.modifyConfig(skin_config.configs.secondary_button_color)><div class="absolute z-ten"><div class=secondary-button-skin><div class=list-config><div class=config-icon>6</div></div></div></div><button class="inline btn-default btn" ng-style="{\'background-color\': skin_config.configs.primary_button_color.value,\n                                                     \'color\': skin_config.configs.primary_button_text_color.value}">Pick Up</button> <button class="inline m-l-5 btn-default btn" ng-style="{\'background-color\': skin_config.configs.secondary_button_color.value}">Delivery</button><div class="error-large alert alert-danger alert-reg-position" role=alert>(Delivery only displayed for merchants that turn on, and assign a Menu for, Delivery)</div></div><div class="col-md-12 m-t-5" data-ng-attr-style="{{ \'color: \'+skin_config.configs.light_text_color.value+\'!important\' || \'\' }}"><div class=checkbox><label><input type=checkbox> Group Order <span></span></label></div></div></div></div><div class="col-md-12 skin-location-list m-t-5" ng-style="{\'border-top-color\': skin_config.configs.card_border_color.value}"><div class="col-md-6 m-t-5 pointer merchant-labels"><h4 class=col-md-12 data-ng-attr-style="{{ \'color: \'+skin_config.configs.dark_text_color.value+\'!important\' || \'\' }}">3. Southwest</h4></div><div class="col-md-6 m-t-5 merchant-buttons"><div class="col-md-12 pointer m-t-10"><button class="inline btn-default btn" ng-style="{\'background-color\': skin_config.configs.primary_button_color.value,\n                                                                                        \'color\': skin_config.configs.primary_button_text_color.value}">Pick Up</button></div><div class="col-md-12 pointer" ng-click=skin_config.modifyConfig(skin_config.configs.light_text_color) data-ng-attr-style="{{ \'color: \'+skin_config.configs.light_text_color.value+\'!important\' || \'\' }}"><div class=checkbox><label><input type=checkbox><div class="absolute z-ten"><div class=light-text-skin><div class=list-config><div class=config-icon>7</div></div></div></div>Group Order <span></span></label></div></div></div></div></div><div class="col-md-5 map-section"><img class=skin-boulder-map src=/img/map_boulder_skin_example.png></div></div><div class=row><div class="col-md-12 m-t-15 webskin-footer" ng-style="{\'background-color\': skin_config.configs.footer_bg_color.value}"><div class="row m-t-15 pointer" ng-click=skin_config.modifyConfig(skin_config.configs.footer_bg_color)><div class="col-md-2 list-config"><div class=config-icon>4</div></div></div></div></div></div></div></div></div><div id=image-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 ng-show="hero_upload_stage == \'file_select\'" class=modal-title>Select Image File</h4><h4 ng-show="hero_upload_stage == \'crop\'" class=modal-title>Crop Hero Image</h4></div><div class=modal-body><table ng-show="hero_upload_stage != \'processing\'"><td ng-show="hero_upload_stage == \'crop\'"><div class=cropArea><ui-cropper image=myImage area-type=rectangle aspect-ratio=4.47 result-image=myCroppedImage result-image-quality=1.0 result-image-size="{w: 1500, h: 335}" cropject=cropper image-size={{main_image_size}} live-view=blockingObject></ui-cropper></div></td></table><div class=col-md-12 ng-show="image_stage == \'processing\'"><div class=filter-loader-contain><div class=filter-loader></div></div></div><form ng-show="hero_upload_stage == \'file_select\'" name=image_form class=skin-config-img><div ngf-drop ngf-select ng-model=file class="drop-box site-image-drop-box" ngf-max-size=5MB ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'">Drop image file here or click to upload</div></form></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Close</button> <button ng-show="hero_upload_stage == \'crop\'" ng-click=uploadFile() type=button ng-disabled class="btn btn-primary">Crop</button></div></div></div></div><div id=logo-image-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select Logo Image File</h4></div><div class=modal-body><div class=col-md-12 ng-show="logo_upload_stage == \'processing\'"><div class=filter-loader-contain><div class=filter-loader></div></div></div><form ng-show="logo_upload_stage == \'file_select\'" name=image_form class=skin-config-img><div ngf-drop ngf-select ng-model=logo_file class="drop-box site-image-drop-box" ngf-max-size=5MB ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'">Drop image file here or click to upload</div></form></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button></div></div></div></div><div id=color-picker-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>{{skin_config.color_pick.name}} Color Select</h4></div><div class=modal-body><div class=row><color-picker ng-model=skin_config.color_pick.value></color-picker><div class=picker-value><input class="form-control input-large" ng-keyup="skin_config.color_select_error = false" ng-model=skin_config.color_pick.value><div class=color-picker-box ng-style="{\'background-color\': skin_config.color_pick.value}"></div></div></div><div class=row><div class=col-md-12><div class="alert alert-danger alert-reg-position" ng-show=skin_config.color_select_error role=alert>Color must be in valid HEX format.</div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=skin_config.saveColor()>Submit</button></div></div></div></div><div id=custom-css-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Custom CSS</h4></div><form name=skin_config.custom_css_form class=form-horizontal novalidate ng-submit=skin_config.saveCustomCSS()><div class=modal-body><div class=row><div class=col-md-12><textarea class=form-control ng-model=skin_config.configs.custom_css.value rows=8></textarea></div></div><div class=row><div class=col-md-12><div class="alert alert-danger alert-reg-position" role=alert>Custom CSS is an advanced featured. We do not recommend adding custom CSS unless you have a strong background in CSS styling.</div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success" ng-click=skin_config.saveCustomCSS()>Submit</button></div></form></div></div></div>'),a.put("modules/web-skin/web-skin-create/web-skin-create.html",'<div class=row><div class=col-sm-12><div class="page-header-title creative-bg"><h4 class=page-title>Creative</h4></div></div></div><div class=row><div class=col-md-6 ng-show="creative.user.hasPermission(\'brands_filter\')"><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Creative</h3></div><div class="panel-body form-horizontal"><div class=form-group><label class="col-md-3 control-label">Brand</label><div class=col-md-9><div class="select input-large"><select name=skin_brand_select class=form-control ng-required=true ng-model=creative.brand ng-change=creative.viewWebSkins(creative.brand) ng-options="brand.brand_id as brand.brand_name for brand in creative.brands"><option class=placeholder-color value="" selected disabled>Brand</option></select></div></div></div></div></div></div><div class=col-md-6><div class="panel panel-primary"><div class=panel-heading><h3 class=panel-title>Recently Visited</h3></div><div class=panel-body><div class=row><div class=col-md-12><div class="col-md-4 m-b-15 recently-visited" ng-repeat="recent_web_skin in creative.recently_visited_web_skins" ng-click=creative.viewWebSkin(recent_web_skin.brand_id)><span class=bold>{{recent_web_skin.brand_name}}</span></div></div></div></div></div></div></div><div class=row ng-show="creative.selected_brand_name.length > 0 || !createive.user.hasPermission(\'brands_filter\')"><div class=col-md-12><div class="panel panel-primary"><div class="panel-heading flex-justify-content-space-between"><h3 class=panel-title>{{creative.selected_brand_name}} Site Versions</h3><button id=create-new-web-skin class="pull-right btn btn-danger" data-toggle=modal ng-disabled ng-click=creative.openModal()>Create New Site Version</button></div><div class=panel-body><div class=row><div class=col-xs-12><h5 class=pre-load-text ng-show="creative.brand_web_skins.length == 0">No Existing Site Versions</h5><div class=filter-loader-contain ng-show=menu.search.processing><div class=filter-loader></div></div><table class="table table-hover" ng-show="creative.brand_web_skins.length > 0"><thead><tr><th>Skin ID</th><th>Name</th></tr></thead><tbody><tr ng-repeat="web_skin in creative.brand_web_skins" ng-click=creative.viewWebSkin(web_skin.id)><td>{{web_skin.id}}</td><td>{{web_skin.name}}</td></tr></tbody></table></div></div></div></div></div></div><div id=create-template-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Create New Website</h4></div><div class=modal-body><form name=creative.create_new_web_skin_form class=form-horizontal novalidate ng-submit=creative.createNewOrUseTemplate()><div class=form-group><label class="col-md-3 control-label">Name</label><div class="col-md-9 m-t-5"><input type=text class="input-med form-control" name=name ng-model=creative.new_web_skin.name ng-fade ng-required=true><div class="alert alert-danger ng-hide alert-reg-position" ng-show="creative.create_new_web_skin_form.name.$error.required\n                                 && (creative.create_new_web_skin_form.name.$faded || creative.new_web_skin.submit)" role=alert>Name is required.</div></div></div><div class="form-group col-xs-12"><label>Would you like to:</label></div><div class=col-xs-8><label>Design My Own</label></div><div class=col-xs-2><div class=checkbox><label><input type=checkbox name=design ng-checked=creative.optionCreate ng-click="creative.optionCreate=!creative.optionCreate"> <span></span></label></div></div><div class=col-xs-8><label>Start with a Template</label></div><div class=col-xs-2><div class=checkbox><label><input type=checkbox name=template ng-checked=!creative.optionCreate ng-click="creative.optionCreate=!creative.optionCreate"> <span></span></label></div></div><div class=form-group><div ng-show=creative.new_web_skin.processing class=col-md-12><div class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button class="btn btn-success">Submit</button></div></form></div></div></div></div><div id=select-template-modal class="modal fade" tabindex=-1 role=dialog aria-labelledby=myModalLabel aria-hidden=true><div class="modal-dialog modal-md"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button><h4 class=modal-title>Select a Template for Your Restaurant Category</h4></div><div class=modal-body><form name=creative.create_new_web_skin_with_template_form class=form-horizontal novalidate ng-submit=creative.createWebSkinWithTemplate()><div ng-repeat="template in creative.templates" class="col-xs-12 form-group"><div class="center-row-image center-image"><img class=center-image src={{template.thumbnail}}></div><div class="col-xs-7 col-md-7 center-row-image"><div class=center-text-image>{{template.name}}</div></div><div class="col-xs-2 col-sm-2 center-checkbox-image center-row-image"><div class="checkbox pull-right"><label><input type=checkbox name=template ng-model=creative.idCheckbox.template ng-true-value={{template}} ng-false-value=""> <span></span></label></div></div></div><div class=form-group><div ng-show=creative.new_web_skin.processing class=col-md-12><div class=form-loader><div class=line></div><div class=line></div><div class=line></div><div class=line></div></div></div></div><div class=modal-footer><button type=button ng-disabled class="btn btn-default" data-dismiss=modal>Cancel</button> <button id=create-web-skin-submit class="btn btn-success">Submit</button></div></form></div></div></div></div>'),
a.put("test.html","")}]);
