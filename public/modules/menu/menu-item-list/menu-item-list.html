<div class="row">
    <div class="col-sm-12">
        <div class="page-header-title menu-bg">
            <h4 class="page-title">Menu - Items & Modifiers</h4>
            <ol class="breadcrumb">
                <li><a href="#/menus">Menus</a></li>
                <li><a href="javascript:void(0);">{{im.full_menu.name}} Items & Modifiers</a></li>
            </ol>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="panel panel-primary">
            <div class="panel-heading  flex-justify-content-space-between">
                <h2 class="panel-title">Filter by Item & Modifier Item</h2>
            </div>
            <div class="panel-body">
                <div class="filter-body">
                    <div class="form-group" style="width: 200px">
                        <input type="text" class="form-control input-large inline-block" ng-model="im.menu.search_text"
                               placeholder="Enter Item/Modifier Item">
                    </div>
                    <div class="form-group hide-toggle flex-init flex-align-items-center">
                        <label class="inline m-t-10 m-r-10">Hide Inactive Menu Elements</label>
                        <toggle-switch class="hide-toggle" name="filter_hide_inactive"
                                       ng-model="im.filter_hide_inactive"></toggle-switch>
                    </div>
                </div>
            </div> <!-- panel-body -->
        </div>
    </div>
</div>

<div class="panel panel-default"
     ng-show="im.menu.search_text.length < 3">
    <div class="panel-heading flex-justify-content-space-between" >
        <h2 class="panel-title">
            Sections
        </h2>
        <button type="button" class="btn btn-danger pull-right" data-toggle="modal"
                ng-click="im.openSectionsPriority()"
                data-target="#re-order-sections-modal">
            <i class="fa fa-long-arrow-down" aria-hidden="true"></i>
            <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
            Reorder Sections
        </button>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-12" ng-repeat="section in im.menu.menu_types | filter: im.menuTypeFilter">
                <div class="panel panel-primary section-open-div">
                    <div class="panel-heading section-select">
                        <div class="col-md-10" ng-click="section.opened = !section.opened">
                            <h3 class="panel-title">
                                <i class="fa"
                                   ng-class="{ 'fa-plus':!section.opened,'fa-minus':section.opened }"
                                   aria-hidden="true"></i>
                                {{section.menu_type_name}}
                            </h3>
                        </div>

                        <div class="col-md-2">
                            <i class="edit-icon-header-level fa fa-pencil-square-o "
                               aria-hidden="true"
                               ng-click="im.openEditSection($index, section, $event)" data-toggle="modal"
                               ></i>

                            <i class="delete-icon-header-level fa fa-times"
                               aria-hidden="true"
                               ng-click="im.deleteMenuTypeDialog($index, section)"></i>
                        </div>

                    </div>
                    <div ng-show="section.opened" class="panel-body">
                        <div class="row">
                            <div class="col-md-12">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Active</th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="item in section.menu_items | filter: im.itemsFilter">
                                        <td id="item-anchor-{{item.item_id}}">{{item.item_id}}</td>
                                        <td>{{item.item_name}}</td>
                                        <td>{{item.description}}</td>
                                        <td>{{item.active}}</td>
                                        <td class="edit-icon">
                                            <i class="fa fa-pencil-square-o view-item-search"
                                               ng-click="event.stopPropagation(); im.viewItem(section,item,$parent.$index, $index);"></i>
                                        </td>
                                        <td class="delete-icon">
                                            <i class="fa fa-times"
                                               ng-click="event.stopPropagation(); im.deleteItemDialog(section,item,$parent.$index, $index);"></i>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <button type="button" ng-disabled class="btn btn-primary pull-right"
                                        ng-click="im.viewItem(section, im.new_item, $index, 'new')">
                                    <i class="fa fa-plus" aria-hidden="true"></i> Create New
                                    {{section.menu_type_name}} Item
                                </button>
                                <button type="button" class="btn btn-info pull-right m-r-10"
                                        data-toggle="modal"
                                        ng-click="im.openItemPriority($index, section)"
                                        data-target="#re-order-items-modal">
                                    <i class="fa fa-long-arrow-down" aria-hidden="true"></i>
                                    <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
                                    Reorder {{section.menu_type_name}} Items
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <button id="create-new-section" type="button" ng-disabled class="btn btn-lg btn-success pull-right"
                data-toggle="modal" data-target="#add-section-modal">
            <i class="fa fa-plus" aria-hidden="true"></i> Create New Section
        </button>
    </div>
</div>


<div class="panel panel-default" ng-show="im.menu.search_text.length < 3">
    <div class="panel-heading flex-justify-content-space-between" >
        <h2 class="panel-title">
            Modifier Groups
        </h2>
        <button type="button" class="btn btn-danger pull-right" data-toggle="modal"
                ng-click="im.openModGroupsPriority()"
                data-target="#re-order-mod-groups-modal">
            <i class="fa fa-long-arrow-down" aria-hidden="true"></i>
            <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
            Reorder Modifier Groups
        </button>
    </div>
    <div class="panel-body">

        <div class="row">

            <div class="col-md-12" ng-repeat="modifier_group in im.menu.modifier_groups | filter: im.modifierGroupFilter">
                <div class="panel panel-primary">
                    <div class="panel-heading section-select"
                         ng-click="modifier_group.opened = !modifier_group.opened">
                        <h3 class="panel-title">
                            <i class="fa"
                               ng-class="{ 'fa-plus':!modifier_group.opened,'fa-minus':modifier_group.opened }"
                               aria-hidden="true"></i>
                            {{modifier_group.modifier_group_name}}
                        </h3>
                        <!--<i class="edit-icon fa fa-pencil-square-o" aria-hidden="true"-->
                           <!--ng-click="im.openEditModifierGroup($index, modifier_group, $event)"-->
                           <!--data-toggle="modal" data-target="#edit-modifier-modal"></i>-->

                        <div class="col-md-2">
                            <i class="edit-icon-header-level fa fa-pencil-square-o " aria-hidden="true"
                               ng-click="im.openEditModifierGroup($index, modifier_group, $event)"
                               data-toggle="modal" data-target="#edit-modifier-modal"></i>

                            <i class="delete-icon-header-level fa fa-times"
                               aria-hidden="true"
                               ng-click="im.deleteModifierGroupDialog($index, modifier_group)"></i>
                        </div>
                    </div>
                    <div class="panel-body"  ng-show="modifier_group.opened">
                        <div class="row">
                            <div class="col-md-12">
                                <table class="table table-hover">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Max Selections</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="modifier in modifier_group.modifier_items">
                                        <td id="mod-item-anchor-{{modifier.modifier_item_id}}">
                                            {{modifier.modifier_item_id}}
                                        </td>
                                        <td>{{modifier.modifier_item_name}}</td>
                                        <td>{{modifier.modifier_item_max}}</td>
                                        <td class="edit-icon">
                                            <i class="fa fa-pencil-square-o"
                                               ng-click="im.viewModifierItem(modifier_group, modifier, $parent.$index, $index)"></i>
                                        </td>
                                        <td class="delete-icon">
                                            <i class="fa fa-times"
                                               ng-click="event.stopPropagation(); im.deleteModifierItemDialog(modifier_group,modifier,$parent.$index, $index);"></i>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <button type="button" ng-disabled class="btn btn-primary pull-right"
                                        ng-click="im.viewModifierItem(modifier_group, im.new_modifier_item, $index, 'new')">
                                    <i class="fa fa-plus" aria-hidden="true"></i> Create New
                                    {{modifier_group.modifier_group_name}} Modifier Item
                                </button>
                                <button type="button" class="btn btn-info pull-right m-r-10"
                                        data-toggle="modal"
                                        ng-click="im.openModifierItemPriority($index, modifier_group)"
                                        data-target="#re-order-modifier-items-modal">
                                    <i class="fa fa-long-arrow-down" aria-hidden="true"></i>
                                    <i class="fa fa-long-arrow-up" aria-hidden="true"></i>
                                    Reorder {{modifier_group.modifier_group_name}} Items
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <button id="create-new-modifier-group-button" type="button" ng-disabled class="btn btn-lg btn-success pull-right"
                data-toggle="modal" data-target="#add-new-modifier-modal">
            <i class="fa fa-plus" aria-hidden="true"></i> Create New Modifier Group
        </button>
    </div>
</div>

<!--Menu Items Search Results-->
<div class="row" ng-show="im.menu.search_text.length > 2">
    <div class="col-md-12">
        <div class="panel panel-primary">
            <div class="panel-heading ">
                <h3 class="panel-title">
                    Menu Sections Filter Results
                </h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th>Section</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Active</th>
                                <th></th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in im.menu.all_items | filter: im.filterItems">
                                <td>{{item.section.menu_type_name}}</td>
                                <td>{{item.item_id}}</td>
                                <td>{{item.item_name}}</td>
                                <td>{{item.description}}</td>
                                <td>{{item.active}}</td>
                                <td class="edit-icon">
                                    <i class="fa fa-pencil-square-o all-list-open-view-item"
                                       ng-click="im.viewItem(item.section,item, 'search_item', 'search_item')"></i>
                                </td>
                                <td class="delete-icon">
                                    <i class="fa fa-times"
                                       ng-click="event.stopPropagation(); im.deleteItemDialog(item.section,item,$parent.$index, $index);"></i>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Modifier Group Search Results-->
<div class="row" ng-show="im.menu.search_text.length > 2">
    <div class="col-md-12">
        <div class="panel panel-primary">
            <div class="panel-heading ">
                <h3 class="panel-title">
                    Modifier Groups Filter Results
                </h3>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th>Modifier Group</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Max Selections</th>
                                <th>Active</th>
                                <th></th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="modifier in im.menu.all_modifier_items  | filter: im.filterModItems">
                                <td>{{modifier.modifier_group.modifier_group_name}}</td>
                                <td>{{modifier.modifier_item_id}}</td>
                                <td>{{modifier.modifier_item_name}}</td>
                                <td>{{modifier.modifier_item_max}}</td>
                                <td>{{modifier.active}}</td>
                                <td class="edit-icon">
                                    <i class="fa fa-pencil-square-o all-open-mod-item-icon"
                                       ng-click="im.viewModifierItem(modifier.modifier_group, modifier, 'search_item', 'search_item')"></i>
                                </td>
                                <td class="delete-icon">
                                    <i class="fa fa-times"
                                       ng-click="event.stopPropagation(); im.deleteModifierItemDialog(modifier.modifier_group,modifier,$parent.$index, $index);"></i>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="add-section-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Create Section</h4>
            </div>
            <div class="modal-body">
                <form name="im.new_section_form" class="form-horizontal" novalidate
                      ng-submit="im.createSection()">
                    <div class="form-group">
                        <label class="col-md-3 control-label">Section Name</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-med form-control" name="menu_type_name"
                                   ng-model="im.new_section.menu_type_name" ng-fade
                                   ng-required="true">
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_section_form.menu_type_name.$error.required
                                 && (im.new_section_form.menu_type_name.$faded || im.new_section.submit)"
                                 role="alert">
                                Name is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Description
                            <i class="fa fa-question-circle tooltip-help" aria-hidden="true">
                                <span class="tool-tip-text-responsive">{{'MENU.TOOLTIP.FULL.SECTION.MODAL' | translate}}</span>
                            </i>
                        </label>
                        <div class="col-md-9 m-t-5">
                            <textarea class="form-control" rows="2"
                                      name="menu_type_description"
                                      ng-model="im.new_section.menu_type_description"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Category</label>
                        <div class="col-md-9 m-t-5">
                            <div class="select input-med inline margin-left-five">
                                <select
                                    name="create_cat_id" class="form-control" ng-required="true"
                                    ng-model="im.new_section.cat_id" ng-fade
                                    ng-options="category.type_id_value as category.type_id_name for category in im.menu.menu_type_categories">
                                <option class="placeholder-color" value="" selected disabled>
                                    CATEGORY
                                </option>
                            </select>

                            </div>
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_section_form.create_cat_id.$error.required
                                 && (im.new_section_form.create_cat_id.$faded || im.new_section.submit)"
                                 role="alert">
                                Category is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Active</label>
                        <div class="col-md-9 m-t-10">
                            <toggle-switch id="create-section-active" name="active"
                                           on-label="Active"
                                           off-label="Inactive"
                                           ng-model="im.new_section.active">
                            </toggle-switch>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Items</label>
                        <div class="col-md-9 m-t-5">
                            <textarea class="form-control resize-vertical" rows="2"
                                      name="items" ng-model="im.new_section.items"
                                      placeholder="Separate by semicolon (e.g. Hamburger; Hot Dog; Gyro)"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Sizes</label>
                        <div class="col-md-9 m-t-5">
                            <textarea class="form-control resize-vertical" rows="2" ng-fade
                                      name="sizes" ng-model="im.new_section.sizes" ng-required="true"
                                      placeholder="Separate by semicolon (e.g. Small; Medium; Large;)"></textarea>
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_section_form.sizes.$error.required
                                 && (im.new_section_form.sizes.$faded || im.new_section.submit)"
                                 role="alert">
                                At least one size is required.
                            </div>

                        </div>

                    </div>

                    <div class="col-md-12">
                        <label class="control-label"><input type="checkbox" ng-model="im.new_section.active_all_day" ng-click="im.setNewSectionActiveAllDay()">  Active All Day</label>
                    </div>



                    <div class="row" ng-show="!im.new_section.active_all_day">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-3 control-label">Start Time</label>
                                <div class="col-md-9 m-t-5">
                                    <div class="input-micro inline margin-left-five">
                                        <input type="text" class="form-control input-micro inline" placeholder="HH:MM"
                                               name="start_time" ng-fade maxlength="5"
                                               ng-model="im.new_section.start_time" ng-required="true"
                                               ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/">

                                        <div class="select input-micro inline margin-left-five am-pm">
                                            <select name="open_am_pm" class="form-control" ng-model="im.new_section.start_time_am_pm">
                                                <option value="am">am</option>
                                                <option value="pm">pm</option>
                                            </select>
                                        </div>

                                    </div>
                                    <div class="alert alert-danger ng-hide alert-reg-position"
                                         ng-show="im.new_section_form.start_time.$invalid && (im.new_section_form.start_time.$faded || im.new_section.submit)"
                                         role="alert">
                                        Must be in HH:MM time format.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-3 control-label">End Time</label>
                                <div class="col-md-9 m-t-5">
                                    <div class="input-micro inline margin-left-five">
                                        <input type="text" class="form-control input-micro inline" placeholder="HH:MM"
                                               name="end_time" ng-fade maxlength="5"
                                               ng-model="im.new_section.end_time" ng-required="true"
                                               ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/">

                                        <div class="select input-micro inline margin-left-five am-pm">
                                            <select name="open_am_pm" class="form-control" ng-model="im.new_section.end_time_am_pm">
                                                <option value="am">am</option>
                                                <option value="pm">pm</option>
                                            </select>
                                        </div>

                                    </div>
                                    <div class="alert alert-danger ng-hide alert-reg-position"
                                         ng-show="im.new_section_form.end_time.$invalid && (im.new_section_form.end_time.$faded || im.new_section.submit)"
                                         role="alert">
                                        Must be in HH:MM time format.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div ng-show="im.new_section.processing" class="form-loader">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                        <button type="button" ng-disabled class="btn btn-default"
                                data-dismiss="modal">Cancel
                        </button>
                        <button id="submit-new-section" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="edit-section-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Edit Section "{{im.edit_section.menu_type_name}}"</h4>
            </div>
            <div class="modal-body">
                <form name="im.edit_section_form" class="form-horizontal" novalidate
                      ng-submit="im.updateSection()">
                    <div class="form-group">
                        <label class="col-md-2 control-label">Name</label>
                        <div class="col-md-10 m-t-5">
                            <input type="text" class="input-med form-control" name="menu_type_name"
                                   ng-model="im.edit_section.menu_type_name" ng-fade>
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.edit_section_form.menu_type_name.$error.required
                                 && (im.edit_section_form.menu_type_name.$faded || im.edit_section.submit)"
                                 role="alert">
                                Name is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">Description
                            <i class="fa fa-question-circle tooltip-help" aria-hidden="true">
                                <span class="tool-tip-text-responsive">{{'MENU.TOOLTIP.FULL.SECTION.MODAL' | translate}}</span>
                            </i>
                        </label>
                        <div class="col-md-10 m-t-5">
                            <textarea class="form-control" rows="2"
                                      name="menu_type_description"
                                      ng-model="im.edit_section.menu_type_description"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">Category</label>
                        <div class="col-md-10 m-t-5">
                            <div class="select input-med inline margin-left-five">
                                <select
                                    name="cat_id" class="form-control" ng-required="true"
                                    ng-model="im.edit_section.cat_id"
                                    ng-options="category.type_id_value as category.type_id_name for category in im.menu.menu_type_categories">
                                <option class="placeholder-color" value="" selected disabled>
                                    CATEGORY
                                </option>
                            </select></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">Sizes</label>

                        <!--<div class="col-md-9 m-t-5" ng-show="im.edit_section.delete_size">-->
                        <!--<div>Are you sure you want to remove the size <span class="bold">{{im.edit_section.delete_size.size_name}}</span>?</div>-->

                        <!--<button type="button" ng-disabled  ng-click="im.deleteSectionSizeCancel()"-->
                        <!--class="btn btn-default btn-xs m-t-15 m-l-15">No, Cancel</button>-->

                        <!--<button type="button" ng-disabled  ng-click="im.deleteSectionSize()"-->
                        <!--class="btn btn-danger btn-xs m-l-5 m-t-15">Yes, Delete</button>-->
                        <!--</div>-->
                        <!--<div class="col-md-9 m-t-5" ng-show="im.edit_section.create_new_size">-->
                        <!--<div>-->
                        <!--<input type="text" class="input-med form-control" name="new_size_name"-->
                        <!--ng-model="im.edit_section.new_size_name" ng-fade placeholder="Enter New Size Name">-->
                        <!--</div>-->

                        <!--<button type="button" ng-disabled  ng-click="im.edit_section.create_new_size = false"-->
                        <!--class="btn btn-default btn-xs m-t-15 m-l-15">Cancel</button>-->

                        <!--<button type="button" ng-disabled  ng-click="im.createSectionSize()"-->
                        <!--class="btn btn-success btn-xs m-l-5 m-t-15">Create</button>-->
                        <!--</div>-->
                    </div>
                    <div class="form-group">

                        <div class="col-md-12 m-t-5">

                            <table class="table">
                                <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Display</th>
                                    <th>Description</th>
                                    <th>Priority</th>
                                    <th>Active</th>
                                    <th>Default Select</th>
                                    <th>All Items</th>
                                </tr>
                                </thead>
                                <tbody ng-repeat="size in im.edit_section.sizes">
                                <tr>
                                    <td>
                                        <input type="text" class="input-med form-control" ng-blur="im.updateSizePrintName(size)"
                                               ng-model="size.size_name" ng-fade ng-required="true">
                                    </td>
                                    <td>
                                        <input type="text" class="input-med form-control" ng-required="true" name="size_print_name"
                                               ng-model="size.size_print_name" ng-fade>
                                    </td>
                                    <td>
                                        <input type="text" class="input-med form-control"
                                               ng-model="size.description" ng-fade>
                                    </td>
                                    <td>
                                        <input type="number" class="input-micro form-control"
                                               ng-model="size.priority" ng-fade>
                                    </td>
                                    <td>
                                        <toggle-switch name="active" class="table-toggle toggle-in-row"
                                                       ng-model="size.active">
                                        </toggle-switch>
                                    </td>
                                    <td class="table-checkbox">
                                        <input class="form-control" type="checkbox" name="default_selection" ng-model="size.default_selection">
                                    </td>
                                    <td class="table-checkbox">
                                        <input ng-show="size.new" class="form-control" type="checkbox" name="default_selection" ng-model="size.apply_all_items">
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <div class="alert alert-danger alert-reg-position"
                                 ng-show="im.edit_section_form.size_print_name.$error.required && im.edit_section.submit"
                                 role="alert">
                                Size Print Name is required for all sizes.
                            </div>

                            <!--<button type="button" ng-disabled ng-repeat="size in im.edit_section.sizes" ng-click="im.openDeleteSectionSize($index, size)"-->
                            <!--class="btn btn-primary btn-xs m-l-5"><i class="fa fa-times" aria-hidden="true"></i> {{size.size_name}}</button>-->
                            <div class="m-t-5">
                                <button type="button" ng-disabled ng-click="im.addEditSectionSize()"
                                        class="btn btn-primary btn-xs">Add New Size
                                </button>
                            </div>

                        </div>
                    </div>
                    <div class="row m-b-15">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-2 control-label">Active</label>
                                <div class="col-md-10 m-t-10">
                                    <toggle-switch name="active"
                                                   on-label="Active"
                                                   off-label="Inactive"
                                                   ng-model="im.edit_section.active">
                                    </toggle-switch>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="control-label"><input type="checkbox" ng-model="im.edit_section.active_all_day" ng-click="im.setEditSectionActiveAllDay()">  Active All Day</label>
                        </div>
                    </div>
                    <div class="row" ng-show="!im.edit_section.active_all_day">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-3 control-label">Start Time</label>
                                <div class="col-md-9 m-t-5">
                                    <div class="input-micro inline margin-left-five">
                                        <input type="text" class="form-control input-micro inline" placeholder="HH:MM"
                                               name="start_time" ng-fade maxlength="5"
                                               ng-model="im.edit_section.start_time" ng-required="true"
                                               ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/">

                                        <div class="select input-micro inline margin-left-five am-pm">
                                            <select name="open_am_pm" class="form-control" ng-model="im.edit_section.start_time_am_pm">
                                                <option value="am">am</option>
                                                <option value="pm">pm</option>
                                            </select>
                                        </div>

                                    </div>
                                    <div class="alert alert-danger ng-hide alert-reg-position"
                                         ng-show="im.edit_section_form.start_time.$invalid && (im.edit_section_form.start_time.$faded || im.edit_section.submit)"
                                         role="alert">
                                        Must be in HH:MM time format.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-3 control-label">End Time</label>
                                <div class="col-md-9 m-t-5">
                                    <div class="input-micro inline margin-left-five">
                                        <input type="text" class="form-control input-micro inline" placeholder="HH:MM"
                                               name="end_time" ng-fade maxlength="5"
                                               ng-model="im.edit_section.end_time" ng-required="true"
                                               ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/">

                                        <div class="select input-micro inline margin-left-five am-pm">
                                            <select name="open_am_pm" class="form-control" ng-model="im.edit_section.end_time_am_pm">
                                                <option value="am">am</option>
                                                <option value="pm">pm</option>
                                            </select>
                                        </div>

                                    </div>
                                    <div class="alert alert-danger ng-hide alert-reg-position"
                                         ng-show="im.edit_section_form.end_time.$invalid && (im.edit_section_form.end_time.$faded || im.edit_section.submit)"
                                         role="alert">
                                        Must be in HH:MM time format.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div ng-show="im.edit_section.processing" class="form-loader">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                        <button type="button" ng-disabled class="btn btn-default"
                                data-dismiss="modal">Cancel
                        </button>
                        <button class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<div id="add-new-modifier-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Create Modifier Group</h4>
            </div>
            <div class="modal-body">
                <form name="im.new_mod_group_form" class="form-horizontal" novalidate
                      ng-submit="im.createModifierGroup()">
                    <div class="form-group">
                        <label class="col-md-3 control-label">Name</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-med form-control"
                                   name="modifier_group_name"
                                   ng-model="im.new_modifier_group.modifier_group_name" ng-fade
                                   ng-required="true">
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.modifier_group_name.$error.required
                                 && (im.new_mod_group_form.modifier_group_name.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Name is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Description</label>
                        <div class="col-md-9 m-t-5">
                            <textarea class="form-control" rows="2"
                                      name="modifier_description"
                                      ng-model="im.new_modifier_group.modifier_description"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Modifier Type</label>
                        <div class="col-md-9 m-t-5">
                            <div class="select input-med inline margin-left-five"><select
                                    name="create_modifier_type" class="form-control" ng-required="true"
                                    ng-model="im.new_modifier_group.modifier_type" ng-fade
                                    ng-options="mod_type.type_id_value as mod_type.type_id_name for mod_type in im.modifier_types">
                                <option class="placeholder-color" value="" selected disabled>
                                    MODIFIER TYPE
                                </option>
                            </select></div>

                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.modifier_type.$error.required
                                 && (im.new_mod_group_form.modifier_type.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Modifier Type is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Priority</label>
                        <div class="col-md-9 m-t-5">
                            <input type="number" class="input-med form-control" name="priority"
                                   ng-model="im.new_modifier_group.priority" ng-fade
                                   ng-required="true">
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.priority.$error.required
                                 && (im.new_mod_group_form.priority.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Priority is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Active</label>
                        <div class="col-md-9 m-t-10">
                            <toggle-switch name="active"
                                           on-label="Active"
                                           off-label="Inactive"
                                           ng-model="im.new_modifier_group.active">
                            </toggle-switch>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Modifier Items</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-x-large form-control" name="new_mod_items"
                                   ng-model="im.new_modifier_group.item_list" ng-fade ng-required="true"
                                   placeholder="Separate by semicolon (e.g. Swiss;Cheddar;Provolone)">

                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.new_mod_items.$error.required
                                    && (im.new_mod_group_form.new_mod_items.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Modifier Item List is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Default Item Price</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-med form-control"
                                   name="default_item_price"
                                   currency-format amount="im.new_modifier_group.default_item_price"
                                   ng-required="true"
                                   ng-model="im.new_modifier_group.default_item_price" ng-fade>

                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.default_item_price.$error.required
                                    && (im.new_mod_group_form.default_item_price.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Default Item Price is required.
                            </div>

                            <!--<div class="alert alert-danger ng-hide alert-reg-position"-->
                                 <!--ng-show="im.new_mod_group_form.default_item_price.$error.number-->
                                    <!--&& (im.new_mod_group_form.default_item_price.$faded || im.new_modifier_group.submit)"-->
                                 <!--role="alert">-->
                                <!--Default Item Price must be numeric.-->
                            <!--</div>-->

                            <!--<div class="alert alert-danger ng-hide alert-reg-position"-->
                                 <!--ng-show="(im.new_mod_group_form.default_item_price.$error.max || im.new_mod_group_form.default_item_price.$error.min)-->
                                    <!--&& (im.new_mod_group_form.default_item_price.$faded || im.new_modifier_group.submit)"-->
                                 <!--role="alert">-->
                                <!--Default Item Price must be between 0 and 1000.-->
                            <!--</div>-->
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Default Item Max</label>
                        <div class="col-md-9 m-t-5">
                            <input type="number" class="input-med form-control"
                                   name="default_item_max" ng-required="true"
                                   ng-model="im.new_modifier_group.default_item_max" ng-fade>

                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.default_item_max.$error.number
                                    && (im.new_mod_group_form.default_item_max.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Default Item Max must be numeric.
                            </div>
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.new_mod_group_form.default_item_max.$error.required
                                    && (im.new_mod_group_form.default_item_max.$faded || im.new_modifier_group.submit)"
                                 role="alert">
                                Default Item Max is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">External ID</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-med form-control" name="external_modifier_group_id"
                                   ng-model="im.new_modifier_group.external_modifier_group_id" ng-fade>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div ng-show="im.new_modifier_group.processing" class="form-loader">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>

                        <button type="button" ng-disabled class="btn btn-default"
                                data-dismiss="modal">Cancel
                        </button>
                        <button id="create-modifier-group-submit" class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="edit-modifier-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Edit Modifier Group
                    {{im.edit_modifier_group.modifier_group_name}}</h4>
            </div>
            <div class="modal-body">
                <form name="im.edit_mod_group_form" class="form-horizontal" novalidate
                      ng-submit="im.updateModifierGroup()">
                    <div class="form-group">
                        <label class="col-md-3 control-label">Name</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-med form-control"
                                   name="modifier_group_name"
                                   ng-model="im.edit_modifier_group.modifier_group_name" ng-fade>
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.edit_mod_group_form.modifier_group_name.$error.required
                                 && (im.edit_mod_group_form.modifier_group_name.$faded || im.edit_modifier_group.submit)"
                                 role="alert">
                                Name is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Description</label>
                        <div class="col-md-9 m-t-5">
                            <textarea class="form-control" rows="2"
                                      name="modifier_description"
                                      ng-model="im.edit_modifier_group.modifier_description"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Modifier Type</label>
                        <div class="col-md-9 m-t-5">
                            <div class="select input-med inline margin-left-five"><select
                                    name="cat_id" class="form-control" ng-required="true"
                                    ng-model="im.edit_modifier_group.modifier_type"
                                    ng-options="mod_type.type_id_value as mod_type.type_id_name for mod_type in im.modifier_types">
                                <option class="placeholder-color" value="" selected disabled>
                                    MODIFIER TYPE
                                </option>
                            </select></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Priority</label>
                        <div class="col-md-9 m-t-5">
                            <input type="number" class="input-med form-control" name="priority"
                                   ng-model="im.edit_modifier_group.priority" ng-fade
                                   ng-required="true">
                            <div class="alert alert-danger ng-hide alert-reg-position"
                                 ng-show="im.edit_mod_group_form.priority.$error.required
                                 && (im.edit_mod_group_form.priority.$faded || im.edit_mod_group_form.submit)"
                                 role="alert">
                                Priority is required.
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">Active</label>
                        <div class="col-md-9 m-t-10">
                            <toggle-switch name="active"
                                           on-label="Active"
                                           off-label="Inactive"
                                           ng-model="im.edit_modifier_group.active">
                            </toggle-switch>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">External ID</label>
                        <div class="col-md-9 m-t-5">
                            <input type="text" class="input-med form-control" name="external_modifier_group_id"
                                   ng-model="im.edit_modifier_group.external_modifier_group_id" ng-fade>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <div ng-show="im.edit_modifier_group.processing" class="form-loader">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>

                        <button type="button" ng-disabled class="btn btn-default"
                                data-dismiss="modal">Cancel
                        </button>
                        <button class="btn btn-success">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div id="re-order-sections-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Reorder Sections
                    <i class="fa fa-question-circle tooltip-help" aria-hidden="true">
                        <span class="tool-tip-text-responsive">{{ 'MENU.TOOLTIP.MENU.REORDER_SECTIONS' | translate }}</span>
                    </i>
                </h4>
            </div>
            <div class="modal-body">
                <ul class="sortable-list" dnd-list="im.sections_priority_menu.menu_types">

                    <li ng-repeat="section in im.sections_priority_menu.menu_types"
                        dnd-draggable="section"
                        dnd-effect-allowed="move"
                        dnd-moved="im.sections_priority_menu.menu_types.splice($index, 1)"
                        dnd-selected="models.selected = item"
                        ng-class="{'selected': models.selected === section}"
                    >
                        #{{im.sortNumber($index)}} {{section.menu_type_name}}
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <div ng-show="im.sections_priority_processing" class="form-loader">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>

                <button type="button" ng-disabled class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button class="btn btn-success" ng-click="im.reOrderSections()">Submit</button>
            </div>
        </div>
    </div>
</div>

<div id="re-order-mod-groups-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Reorder Modifier Groups
                    <i class="fa fa-question-circle tooltip-help" aria-hidden="true">
                        <span class="tool-tip-text-responsive">{{ 'MENU.TOOLTIP.MENU.REORDER_SECTIONS' | translate }}</span>
                    </i>
                </h4>
            </div>
            <div class="modal-body">
                <ul class="sortable-list" dnd-list="im.mod_groups_priority_menu.modifier_groups">

                    <li ng-repeat="mod_group in im.mod_groups_priority_menu.modifier_groups"
                        dnd-draggable="mod_group"
                        dnd-effect-allowed="move"
                        dnd-moved="im.mod_groups_priority_menu.modifier_groups.splice($index, 1)"
                        dnd-selected="models.selected = item"
                        ng-class="{'selected': models.selected === section}"
                    >
                        #{{im.sortNumber($index)}} {{mod_group.modifier_group_name}}
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <div ng-show="im.mod_groups_priority_processing" class="form-loader">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>

                <button type="button" ng-disabled class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button class="btn btn-success" ng-click="im.reOrderModGroups()">Submit</button>
            </div>
        </div>
    </div>
</div>

<div id="re-order-items-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Reorder {{im.item_priority_section.menu_type_name}}
                    Items</h4>
            </div>
            <div class="modal-body">
                <ul class="sortable-list" dnd-list="im.item_priority_section.menu_items">

                    <li ng-repeat="item in im.item_priority_section.menu_items"
                        dnd-draggable="item"
                        dnd-effect-allowed="move"
                        dnd-moved="im.item_priority_section.menu_items.splice($index, 1)"
                        dnd-selected="models.selected = item"
                        ng-class="{'selected': models.selected === item}"
                    >
                        #{{im.sortNumber($index)}} {{item.item_name}}
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <div ng-show="im.item_priority_processing" class="form-loader">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>

                <button type="button" ng-disabled class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button class="btn btn-success" ng-click="im.reOrderItems()">Submit</button>
            </div>
        </div>
    </div>
</div>

<div id="re-order-modifier-items-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Reorder Modifier Items</h4>
            </div>
            <div class="modal-body">
                <ul class="sortable-list" dnd-list="im.modifier_item_priority_group.modifier_items">

                    <li ng-repeat="modifier_item in im.modifier_item_priority_group.modifier_items"
                        dnd-draggable="modifier_item"
                        dnd-effect-allowed="move"
                        dnd-moved="im.modifier_item_priority_group.modifier_items.splice($index, 1)"
                        dnd-selected="models.selected = modifier_item"
                        ng-class="{'selected': models.selected === modifier_item}"
                    >
                        #{{im.sortNumber($index)}} {{modifier_item.modifier_item_name}}
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <div ng-show="im.item_priority_processing" class="form-loader">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>

                <button type="button" ng-disabled class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button class="btn btn-success" ng-click="im.reOrderModifierItems()">Submit</button>
            </div>
        </div>
    </div>
</div>

<div id="new-item-copy-mods-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Duplicate Modifier Configuration from Existing {{im.new_item.menu_type.menu_type_name}} Item?</h4>
            </div>
            <div class="modal-body">
                <button type="button"
                        ng-repeat="menu_item in im.new_item.menu_type.menu_items"
                        class="btn btn-success m-r-10 m-b-10" data-dismiss="modal" ng-click="im.setNewItemModGroupConfig(menu_item.item_id)">
                    {{menu_item.item_name}}
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" ng-disabled class="btn btn-default" data-dismiss="modal">
                    Cancel
                </button>
                <button type="button"
                        class="btn btn-warning m-r-10 m-b-10" data-dismiss="modal" ng-click="im.setNewItemModGroupConfig(false)">
                    No, Configure my Own
                </button>
            </div>
        </div>
    </div>
</div>
